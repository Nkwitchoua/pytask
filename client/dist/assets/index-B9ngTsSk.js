function l_e(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function c_e(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function ux(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var pQ={exports:{}},PN={},mQ={exports:{}},Ni={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx=Symbol.for("react.element"),d_e=Symbol.for("react.portal"),u_e=Symbol.for("react.fragment"),h_e=Symbol.for("react.strict_mode"),f_e=Symbol.for("react.profiler"),g_e=Symbol.for("react.provider"),p_e=Symbol.for("react.context"),m_e=Symbol.for("react.forward_ref"),__e=Symbol.for("react.suspense"),v_e=Symbol.for("react.memo"),b_e=Symbol.for("react.lazy"),Qj=Symbol.iterator;function y_e(n){return n===null||typeof n!="object"?null:(n=Qj&&n[Qj]||n["@@iterator"],typeof n=="function"?n:null)}var _Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vQ=Object.assign,bQ={};function oy(n,e,t){this.props=n,this.context=e,this.refs=bQ,this.updater=t||_Q}oy.prototype.isReactComponent={};oy.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};oy.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function yQ(){}yQ.prototype=oy.prototype;function VB(n,e,t){this.props=n,this.context=e,this.refs=bQ,this.updater=t||_Q}var HB=VB.prototype=new yQ;HB.constructor=VB;vQ(HB,oy.prototype);HB.isPureReactComponent=!0;var Jj=Array.isArray,CQ=Object.prototype.hasOwnProperty,zB={current:null},wQ={key:!0,ref:!0,__self:!0,__source:!0};function SQ(n,e,t){var i,r={},o=null,s=null;if(e!=null)for(i in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)CQ.call(e,i)&&!wQ.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:hx,type:n,key:o,ref:s,props:r,_owner:zB.current}}function C_e(n,e){return{$$typeof:hx,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function jB(n){return typeof n=="object"&&n!==null&&n.$$typeof===hx}function w_e(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var eU=/\/+/g;function yR(n,e){return typeof n=="object"&&n!==null&&n.key!=null?w_e(""+n.key):e.toString(36)}function ND(n,e,t,i,r){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case hx:case d_e:s=!0}}if(s)return s=n,r=r(s),n=i===""?"."+yR(s,0):i,Jj(r)?(t="",n!=null&&(t=n.replace(eU,"$&/")+"/"),ND(r,e,t,"",function(c){return c})):r!=null&&(jB(r)&&(r=C_e(r,t+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(eU,"$&/")+"/")+n)),e.push(r)),1;if(s=0,i=i===""?".":i+":",Jj(n))for(var a=0;a<n.length;a++){o=n[a];var l=i+yR(o,a);s+=ND(o,e,t,l,r)}else if(l=y_e(n),typeof l=="function")for(n=l.call(n),a=0;!(o=n.next()).done;)o=o.value,l=i+yR(o,a++),s+=ND(o,e,t,l,r);else if(o==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function WL(n,e,t){if(n==null)return n;var i=[],r=0;return ND(n,i,"","",function(o){return e.call(t,o,r++)}),i}function S_e(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Us={current:null},PD={transition:null},x_e={ReactCurrentDispatcher:Us,ReactCurrentBatchConfig:PD,ReactCurrentOwner:zB};Ni.Children={map:WL,forEach:function(n,e,t){WL(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return WL(n,function(){e++}),e},toArray:function(n){return WL(n,function(e){return e})||[]},only:function(n){if(!jB(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ni.Component=oy;Ni.Fragment=u_e;Ni.Profiler=f_e;Ni.PureComponent=VB;Ni.StrictMode=h_e;Ni.Suspense=__e;Ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x_e;Ni.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=vQ({},n.props),r=n.key,o=n.ref,s=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=zB.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)CQ.call(e,l)&&!wQ.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:hx,type:n.type,key:r,ref:o,props:i,_owner:s}};Ni.createContext=function(n){return n={$$typeof:p_e,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:g_e,_context:n},n.Consumer=n};Ni.createElement=SQ;Ni.createFactory=function(n){var e=SQ.bind(null,n);return e.type=n,e};Ni.createRef=function(){return{current:null}};Ni.forwardRef=function(n){return{$$typeof:m_e,render:n}};Ni.isValidElement=jB;Ni.lazy=function(n){return{$$typeof:b_e,_payload:{_status:-1,_result:n},_init:S_e}};Ni.memo=function(n,e){return{$$typeof:v_e,type:n,compare:e===void 0?null:e}};Ni.startTransition=function(n){var e=PD.transition;PD.transition={};try{n()}finally{PD.transition=e}};Ni.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ni.useCallback=function(n,e){return Us.current.useCallback(n,e)};Ni.useContext=function(n){return Us.current.useContext(n)};Ni.useDebugValue=function(){};Ni.useDeferredValue=function(n){return Us.current.useDeferredValue(n)};Ni.useEffect=function(n,e){return Us.current.useEffect(n,e)};Ni.useId=function(){return Us.current.useId()};Ni.useImperativeHandle=function(n,e,t){return Us.current.useImperativeHandle(n,e,t)};Ni.useInsertionEffect=function(n,e){return Us.current.useInsertionEffect(n,e)};Ni.useLayoutEffect=function(n,e){return Us.current.useLayoutEffect(n,e)};Ni.useMemo=function(n,e){return Us.current.useMemo(n,e)};Ni.useReducer=function(n,e,t){return Us.current.useReducer(n,e,t)};Ni.useRef=function(n){return Us.current.useRef(n)};Ni.useState=function(n){return Us.current.useState(n)};Ni.useSyncExternalStore=function(n,e,t){return Us.current.useSyncExternalStore(n,e,t)};Ni.useTransition=function(){return Us.current.useTransition()};Ni.version="18.2.0";mQ.exports=Ni;var le=mQ.exports;const xQ=c_e(le),LQ=l_e({__proto__:null,default:xQ},[le]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_e=le,k_e=Symbol.for("react.element"),D_e=Symbol.for("react.fragment"),T_e=Object.prototype.hasOwnProperty,E_e=L_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I_e={key:!0,ref:!0,__self:!0,__source:!0};function kQ(n,e,t){var i,r={},o=null,s=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(i in e)T_e.call(e,i)&&!I_e.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:k_e,type:n,key:o,ref:s,props:r,_owner:E_e.current}}PN.Fragment=D_e;PN.jsx=kQ;PN.jsxs=kQ;pQ.exports=PN;var ac=pQ.exports,u5={},DQ={exports:{}},al={},TQ={exports:{}},EQ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(Y,V){var X=Y.length;Y.push(V);e:for(;0<X;){var J=X-1>>>1,te=Y[J];if(0<r(te,V))Y[J]=V,Y[X]=te,X=J;else break e}}function t(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var V=Y[0],X=Y.pop();if(X!==V){Y[0]=X;e:for(var J=0,te=Y.length,oe=te>>>1;J<oe;){var Me=2*(J+1)-1,Re=Y[Me],_e=Me+1,Fe=Y[_e];if(0>r(Re,X))_e<te&&0>r(Fe,Re)?(Y[J]=Fe,Y[_e]=X,J=_e):(Y[J]=Re,Y[Me]=X,J=Me);else if(_e<te&&0>r(Fe,X))Y[J]=Fe,Y[_e]=X,J=_e;else break e}}return V}function r(Y,V){var X=Y.sortIndex-V.sortIndex;return X!==0?X:Y.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();n.unstable_now=function(){return s.now()-a}}var l=[],c=[],d=1,u=null,h=3,f=!1,g=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(Y){for(var V=t(c);V!==null;){if(V.callback===null)i(c);else if(V.startTime<=Y)i(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(c)}}function b(Y){if(_=!1,v(Y),!g)if(t(l)!==null)g=!0,K(C);else{var V=t(c);V!==null&&Q(b,V.startTime-Y)}}function C(Y,V){g=!1,_&&(_=!1,m(k),k=-1),f=!0;var X=h;try{for(v(V),u=t(l);u!==null&&(!(u.expirationTime>V)||Y&&!I());){var J=u.callback;if(typeof J=="function"){u.callback=null,h=u.priorityLevel;var te=J(u.expirationTime<=V);V=n.unstable_now(),typeof te=="function"?u.callback=te:u===t(l)&&i(l),v(V)}else i(l);u=t(l)}if(u!==null)var oe=!0;else{var Me=t(c);Me!==null&&Q(b,Me.startTime-V),oe=!1}return oe}finally{u=null,h=X,f=!1}}var S=!1,x=null,k=-1,D=5,E=-1;function I(){return!(n.unstable_now()-E<D)}function N(){if(x!==null){var Y=n.unstable_now();E=Y;var V=!0;try{V=x(!0,Y)}finally{V?R():(S=!1,x=null)}}else S=!1}var R;if(typeof p=="function")R=function(){p(N)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,W=O.port2;O.port1.onmessage=N,R=function(){W.postMessage(null)}}else R=function(){y(N,0)};function K(Y){x=Y,S||(S=!0,R())}function Q(Y,V){k=y(function(){Y(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){g||f||(g=!0,K(C))},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(Y){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var X=h;h=V;try{return Y()}finally{h=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,V){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var X=h;h=Y;try{return V()}finally{h=X}},n.unstable_scheduleCallback=function(Y,V,X){var J=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?J+X:J):X=J,Y){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=X+te,Y={id:d++,callback:V,priorityLevel:Y,startTime:X,expirationTime:te,sortIndex:-1},X>J?(Y.sortIndex=X,e(c,Y),t(l)===null&&Y===t(c)&&(_?(m(k),k=-1):_=!0,Q(b,X-J))):(Y.sortIndex=te,e(l,Y),g||f||(g=!0,K(C))),Y},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(Y){var V=h;return function(){var X=h;h=V;try{return Y.apply(this,arguments)}finally{h=X}}}})(EQ);TQ.exports=EQ;var N_e=TQ.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IQ=le,tl=N_e;function Xe(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NQ=new Set,l1={};function b_(n,e){eb(n,e),eb(n+"Capture",e)}function eb(n,e){for(l1[n]=e,n=0;n<e.length;n++)NQ.add(e[n])}var yh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h5=Object.prototype.hasOwnProperty,P_e=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tU={},iU={};function M_e(n){return h5.call(iU,n)?!0:h5.call(tU,n)?!1:P_e.test(n)?iU[n]=!0:(tU[n]=!0,!1)}function R_e(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function A_e(n,e,t,i){if(e===null||typeof e>"u"||R_e(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $s(n,e,t,i,r,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var jo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){jo[n]=new $s(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];jo[e]=new $s(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){jo[n]=new $s(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){jo[n]=new $s(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){jo[n]=new $s(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){jo[n]=new $s(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){jo[n]=new $s(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){jo[n]=new $s(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){jo[n]=new $s(n,5,!1,n.toLowerCase(),null,!1,!1)});var UB=/[\-:]([a-z])/g;function $B(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(UB,$B);jo[e]=new $s(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(UB,$B);jo[e]=new $s(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(UB,$B);jo[e]=new $s(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){jo[n]=new $s(n,1,!1,n.toLowerCase(),null,!1,!1)});jo.xlinkHref=new $s("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){jo[n]=new $s(n,1,!1,n.toLowerCase(),null,!0,!0)});function qB(n,e,t,i){var r=jo.hasOwnProperty(e)?jo[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(A_e(e,t,r,i)&&(t=null),i||r===null?M_e(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Rh=IQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,VL=Symbol.for("react.element"),P0=Symbol.for("react.portal"),M0=Symbol.for("react.fragment"),KB=Symbol.for("react.strict_mode"),f5=Symbol.for("react.profiler"),PQ=Symbol.for("react.provider"),MQ=Symbol.for("react.context"),GB=Symbol.for("react.forward_ref"),g5=Symbol.for("react.suspense"),p5=Symbol.for("react.suspense_list"),ZB=Symbol.for("react.memo"),Cf=Symbol.for("react.lazy"),RQ=Symbol.for("react.offscreen"),nU=Symbol.iterator;function Yy(n){return n===null||typeof n!="object"?null:(n=nU&&n[nU]||n["@@iterator"],typeof n=="function"?n:null)}var pr=Object.assign,CR;function AC(n){if(CR===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);CR=e&&e[1]||""}return`
`+CR+n}var wR=!1;function SR(n,e){if(!n||wR)return"";wR=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),o=i.stack.split(`
`),s=r.length-1,a=o.length-1;1<=s&&0<=a&&r[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||r[s]!==o[a]){var l=`
`+r[s].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=s&&0<=a);break}}}finally{wR=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?AC(n):""}function O_e(n){switch(n.tag){case 5:return AC(n.type);case 16:return AC("Lazy");case 13:return AC("Suspense");case 19:return AC("SuspenseList");case 0:case 2:case 15:return n=SR(n.type,!1),n;case 11:return n=SR(n.type.render,!1),n;case 1:return n=SR(n.type,!0),n;default:return""}}function m5(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case M0:return"Fragment";case P0:return"Portal";case f5:return"Profiler";case KB:return"StrictMode";case g5:return"Suspense";case p5:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case MQ:return(n.displayName||"Context")+".Consumer";case PQ:return(n._context.displayName||"Context")+".Provider";case GB:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ZB:return e=n.displayName||null,e!==null?e:m5(n.type)||"Memo";case Cf:e=n._payload,n=n._init;try{return m5(n(e))}catch{}}return null}function F_e(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return m5(e);case 8:return e===KB?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lg(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function AQ(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function B_e(n){var e=AQ(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,o.call(this,s)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function HL(n){n._valueTracker||(n._valueTracker=B_e(n))}function OQ(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=AQ(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function WT(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function _5(n,e){var t=e.checked;return pr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function rU(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Lg(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function FQ(n,e){e=e.checked,e!=null&&qB(n,"checked",e,!1)}function v5(n,e){FQ(n,e);var t=Lg(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?b5(n,e.type,t):e.hasOwnProperty("defaultValue")&&b5(n,e.type,Lg(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function oU(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function b5(n,e,t){(e!=="number"||WT(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var OC=Array.isArray;function mv(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Lg(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function y5(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Xe(91));return pr({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function sU(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Xe(92));if(OC(t)){if(1<t.length)throw Error(Xe(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Lg(t)}}function BQ(n,e){var t=Lg(e.value),i=Lg(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function aU(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function WQ(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function C5(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?WQ(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var zL,VQ=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(zL=zL||document.createElement("div"),zL.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zL.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function c1(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var gw={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},W_e=["Webkit","ms","Moz","O"];Object.keys(gw).forEach(function(n){W_e.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),gw[e]=gw[n]})});function HQ(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||gw.hasOwnProperty(n)&&gw[n]?(""+e).trim():e+"px"}function zQ(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=HQ(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var V_e=pr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function w5(n,e){if(e){if(V_e[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Xe(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Xe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Xe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Xe(62))}}function S5(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x5=null;function YB(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var L5=null,_v=null,vv=null;function lU(n){if(n=px(n)){if(typeof L5!="function")throw Error(Xe(280));var e=n.stateNode;e&&(e=FN(e),L5(n.stateNode,n.type,e))}}function jQ(n){_v?vv?vv.push(n):vv=[n]:_v=n}function UQ(){if(_v){var n=_v,e=vv;if(vv=_v=null,lU(n),e)for(n=0;n<e.length;n++)lU(e[n])}}function $Q(n,e){return n(e)}function qQ(){}var xR=!1;function KQ(n,e,t){if(xR)return n(e,t);xR=!0;try{return $Q(n,e,t)}finally{xR=!1,(_v!==null||vv!==null)&&(qQ(),UQ())}}function d1(n,e){var t=n.stateNode;if(t===null)return null;var i=FN(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Xe(231,e,typeof t));return t}var k5=!1;if(yh)try{var Xy={};Object.defineProperty(Xy,"passive",{get:function(){k5=!0}}),window.addEventListener("test",Xy,Xy),window.removeEventListener("test",Xy,Xy)}catch{k5=!1}function H_e(n,e,t,i,r,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var pw=!1,VT=null,HT=!1,D5=null,z_e={onError:function(n){pw=!0,VT=n}};function j_e(n,e,t,i,r,o,s,a,l){pw=!1,VT=null,H_e.apply(z_e,arguments)}function U_e(n,e,t,i,r,o,s,a,l){if(j_e.apply(this,arguments),pw){if(pw){var c=VT;pw=!1,VT=null}else throw Error(Xe(198));HT||(HT=!0,D5=c)}}function y_(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function GQ(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function cU(n){if(y_(n)!==n)throw Error(Xe(188))}function $_e(n){var e=n.alternate;if(!e){if(e=y_(n),e===null)throw Error(Xe(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===t)return cU(r),n;if(o===i)return cU(r),e;o=o.sibling}throw Error(Xe(188))}if(t.return!==i.return)t=r,i=o;else{for(var s=!1,a=r.child;a;){if(a===t){s=!0,t=r,i=o;break}if(a===i){s=!0,i=r,t=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===t){s=!0,t=o,i=r;break}if(a===i){s=!0,i=o,t=r;break}a=a.sibling}if(!s)throw Error(Xe(189))}}if(t.alternate!==i)throw Error(Xe(190))}if(t.tag!==3)throw Error(Xe(188));return t.stateNode.current===t?n:e}function ZQ(n){return n=$_e(n),n!==null?YQ(n):null}function YQ(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=YQ(n);if(e!==null)return e;n=n.sibling}return null}var XQ=tl.unstable_scheduleCallback,dU=tl.unstable_cancelCallback,q_e=tl.unstable_shouldYield,K_e=tl.unstable_requestPaint,Nr=tl.unstable_now,G_e=tl.unstable_getCurrentPriorityLevel,XB=tl.unstable_ImmediatePriority,QQ=tl.unstable_UserBlockingPriority,zT=tl.unstable_NormalPriority,Z_e=tl.unstable_LowPriority,JQ=tl.unstable_IdlePriority,MN=null,Gd=null;function Y_e(n){if(Gd&&typeof Gd.onCommitFiberRoot=="function")try{Gd.onCommitFiberRoot(MN,n,void 0,(n.current.flags&128)===128)}catch{}}var Ic=Math.clz32?Math.clz32:J_e,X_e=Math.log,Q_e=Math.LN2;function J_e(n){return n>>>=0,n===0?32:31-(X_e(n)/Q_e|0)|0}var jL=64,UL=4194304;function FC(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function jT(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,o=n.pingedLanes,s=t&268435455;if(s!==0){var a=s&~r;a!==0?i=FC(a):(o&=s,o!==0&&(i=FC(o)))}else s=t&~r,s!==0?i=FC(s):o!==0&&(i=FC(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Ic(e),r=1<<t,i|=n[t],e&=~r;return i}function e0e(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t0e(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,o=n.pendingLanes;0<o;){var s=31-Ic(o),a=1<<s,l=r[s];l===-1?(!(a&t)||a&i)&&(r[s]=e0e(a,e)):l<=e&&(n.expiredLanes|=a),o&=~a}}function T5(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function eJ(){var n=jL;return jL<<=1,!(jL&4194240)&&(jL=64),n}function LR(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function fx(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Ic(e),n[e]=t}function i0e(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Ic(t),o=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~o}}function QB(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Ic(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var _n=0;function tJ(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var iJ,JB,nJ,rJ,oJ,E5=!1,$L=[],Jf=null,eg=null,tg=null,u1=new Map,h1=new Map,Df=[],n0e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uU(n,e){switch(n){case"focusin":case"focusout":Jf=null;break;case"dragenter":case"dragleave":eg=null;break;case"mouseover":case"mouseout":tg=null;break;case"pointerover":case"pointerout":u1.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":h1.delete(e.pointerId)}}function Qy(n,e,t,i,r,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=px(e),e!==null&&JB(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function r0e(n,e,t,i,r){switch(e){case"focusin":return Jf=Qy(Jf,n,e,t,i,r),!0;case"dragenter":return eg=Qy(eg,n,e,t,i,r),!0;case"mouseover":return tg=Qy(tg,n,e,t,i,r),!0;case"pointerover":var o=r.pointerId;return u1.set(o,Qy(u1.get(o)||null,n,e,t,i,r)),!0;case"gotpointercapture":return o=r.pointerId,h1.set(o,Qy(h1.get(o)||null,n,e,t,i,r)),!0}return!1}function sJ(n){var e=nm(n.target);if(e!==null){var t=y_(e);if(t!==null){if(e=t.tag,e===13){if(e=GQ(t),e!==null){n.blockedOn=e,oJ(n.priority,function(){nJ(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function MD(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=I5(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);x5=i,t.target.dispatchEvent(i),x5=null}else return e=px(t),e!==null&&JB(e),n.blockedOn=t,!1;e.shift()}return!0}function hU(n,e,t){MD(n)&&t.delete(e)}function o0e(){E5=!1,Jf!==null&&MD(Jf)&&(Jf=null),eg!==null&&MD(eg)&&(eg=null),tg!==null&&MD(tg)&&(tg=null),u1.forEach(hU),h1.forEach(hU)}function Jy(n,e){n.blockedOn===e&&(n.blockedOn=null,E5||(E5=!0,tl.unstable_scheduleCallback(tl.unstable_NormalPriority,o0e)))}function f1(n){function e(r){return Jy(r,n)}if(0<$L.length){Jy($L[0],n);for(var t=1;t<$L.length;t++){var i=$L[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Jf!==null&&Jy(Jf,n),eg!==null&&Jy(eg,n),tg!==null&&Jy(tg,n),u1.forEach(e),h1.forEach(e),t=0;t<Df.length;t++)i=Df[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Df.length&&(t=Df[0],t.blockedOn===null);)sJ(t),t.blockedOn===null&&Df.shift()}var bv=Rh.ReactCurrentBatchConfig,UT=!0;function s0e(n,e,t,i){var r=_n,o=bv.transition;bv.transition=null;try{_n=1,e7(n,e,t,i)}finally{_n=r,bv.transition=o}}function a0e(n,e,t,i){var r=_n,o=bv.transition;bv.transition=null;try{_n=4,e7(n,e,t,i)}finally{_n=r,bv.transition=o}}function e7(n,e,t,i){if(UT){var r=I5(n,e,t,i);if(r===null)AR(n,e,i,$T,t),uU(n,i);else if(r0e(r,n,e,t,i))i.stopPropagation();else if(uU(n,i),e&4&&-1<n0e.indexOf(n)){for(;r!==null;){var o=px(r);if(o!==null&&iJ(o),o=I5(n,e,t,i),o===null&&AR(n,e,i,$T,t),o===r)break;r=o}r!==null&&i.stopPropagation()}else AR(n,e,i,null,t)}}var $T=null;function I5(n,e,t,i){if($T=null,n=YB(i),n=nm(n),n!==null)if(e=y_(n),e===null)n=null;else if(t=e.tag,t===13){if(n=GQ(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return $T=n,null}function aJ(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(G_e()){case XB:return 1;case QQ:return 4;case zT:case Z_e:return 16;case JQ:return 536870912;default:return 16}default:return 16}}var Af=null,t7=null,RD=null;function lJ(){if(RD)return RD;var n,e=t7,t=e.length,i,r="value"in Af?Af.value:Af.textContent,o=r.length;for(n=0;n<t&&e[n]===r[n];n++);var s=t-n;for(i=1;i<=s&&e[t-i]===r[o-i];i++);return RD=r.slice(n,1<i?1-i:void 0)}function AD(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function qL(){return!0}function fU(){return!1}function ll(n){function e(t,i,r,o,s){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?qL:fU,this.isPropagationStopped=fU,this}return pr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=qL)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=qL)},persist:function(){},isPersistent:qL}),e}var sy={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},i7=ll(sy),gx=pr({},sy,{view:0,detail:0}),l0e=ll(gx),kR,DR,eC,RN=pr({},gx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:n7,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==eC&&(eC&&n.type==="mousemove"?(kR=n.screenX-eC.screenX,DR=n.screenY-eC.screenY):DR=kR=0,eC=n),kR)},movementY:function(n){return"movementY"in n?n.movementY:DR}}),gU=ll(RN),c0e=pr({},RN,{dataTransfer:0}),d0e=ll(c0e),u0e=pr({},gx,{relatedTarget:0}),TR=ll(u0e),h0e=pr({},sy,{animationName:0,elapsedTime:0,pseudoElement:0}),f0e=ll(h0e),g0e=pr({},sy,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),p0e=ll(g0e),m0e=pr({},sy,{data:0}),pU=ll(m0e),_0e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v0e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b0e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y0e(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=b0e[n])?!!e[n]:!1}function n7(){return y0e}var C0e=pr({},gx,{key:function(n){if(n.key){var e=_0e[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=AD(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?v0e[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:n7,charCode:function(n){return n.type==="keypress"?AD(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?AD(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),w0e=ll(C0e),S0e=pr({},RN,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mU=ll(S0e),x0e=pr({},gx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:n7}),L0e=ll(x0e),k0e=pr({},sy,{propertyName:0,elapsedTime:0,pseudoElement:0}),D0e=ll(k0e),T0e=pr({},RN,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),E0e=ll(T0e),I0e=[9,13,27,32],r7=yh&&"CompositionEvent"in window,mw=null;yh&&"documentMode"in document&&(mw=document.documentMode);var N0e=yh&&"TextEvent"in window&&!mw,cJ=yh&&(!r7||mw&&8<mw&&11>=mw),_U=" ",vU=!1;function dJ(n,e){switch(n){case"keyup":return I0e.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uJ(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var R0=!1;function P0e(n,e){switch(n){case"compositionend":return uJ(e);case"keypress":return e.which!==32?null:(vU=!0,_U);case"textInput":return n=e.data,n===_U&&vU?null:n;default:return null}}function M0e(n,e){if(R0)return n==="compositionend"||!r7&&dJ(n,e)?(n=lJ(),RD=t7=Af=null,R0=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cJ&&e.locale!=="ko"?null:e.data;default:return null}}var R0e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bU(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!R0e[n.type]:e==="textarea"}function hJ(n,e,t,i){jQ(i),e=qT(e,"onChange"),0<e.length&&(t=new i7("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var _w=null,g1=null;function A0e(n){SJ(n,0)}function AN(n){var e=F0(n);if(OQ(e))return n}function O0e(n,e){if(n==="change")return e}var fJ=!1;if(yh){var ER;if(yh){var IR="oninput"in document;if(!IR){var yU=document.createElement("div");yU.setAttribute("oninput","return;"),IR=typeof yU.oninput=="function"}ER=IR}else ER=!1;fJ=ER&&(!document.documentMode||9<document.documentMode)}function CU(){_w&&(_w.detachEvent("onpropertychange",gJ),g1=_w=null)}function gJ(n){if(n.propertyName==="value"&&AN(g1)){var e=[];hJ(e,g1,n,YB(n)),KQ(A0e,e)}}function F0e(n,e,t){n==="focusin"?(CU(),_w=e,g1=t,_w.attachEvent("onpropertychange",gJ)):n==="focusout"&&CU()}function B0e(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return AN(g1)}function W0e(n,e){if(n==="click")return AN(e)}function V0e(n,e){if(n==="input"||n==="change")return AN(e)}function H0e(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Wc=typeof Object.is=="function"?Object.is:H0e;function p1(n,e){if(Wc(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!h5.call(e,r)||!Wc(n[r],e[r]))return!1}return!0}function wU(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function SU(n,e){var t=wU(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=wU(t)}}function pJ(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?pJ(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function mJ(){for(var n=window,e=WT();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=WT(n.document)}return e}function o7(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function z0e(n){var e=mJ(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&pJ(t.ownerDocument.documentElement,t)){if(i!==null&&o7(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!n.extend&&o>i&&(r=i,i=o,o=r),r=SU(t,o);var s=SU(t,i);r&&s&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),o>i?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var j0e=yh&&"documentMode"in document&&11>=document.documentMode,A0=null,N5=null,vw=null,P5=!1;function xU(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;P5||A0==null||A0!==WT(i)||(i=A0,"selectionStart"in i&&o7(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),vw&&p1(vw,i)||(vw=i,i=qT(N5,"onSelect"),0<i.length&&(e=new i7("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=A0)))}function KL(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var O0={animationend:KL("Animation","AnimationEnd"),animationiteration:KL("Animation","AnimationIteration"),animationstart:KL("Animation","AnimationStart"),transitionend:KL("Transition","TransitionEnd")},NR={},_J={};yh&&(_J=document.createElement("div").style,"AnimationEvent"in window||(delete O0.animationend.animation,delete O0.animationiteration.animation,delete O0.animationstart.animation),"TransitionEvent"in window||delete O0.transitionend.transition);function ON(n){if(NR[n])return NR[n];if(!O0[n])return n;var e=O0[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in _J)return NR[n]=e[t];return n}var vJ=ON("animationend"),bJ=ON("animationiteration"),yJ=ON("animationstart"),CJ=ON("transitionend"),wJ=new Map,LU="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rp(n,e){wJ.set(n,e),b_(e,[n])}for(var PR=0;PR<LU.length;PR++){var MR=LU[PR],U0e=MR.toLowerCase(),$0e=MR[0].toUpperCase()+MR.slice(1);rp(U0e,"on"+$0e)}rp(vJ,"onAnimationEnd");rp(bJ,"onAnimationIteration");rp(yJ,"onAnimationStart");rp("dblclick","onDoubleClick");rp("focusin","onFocus");rp("focusout","onBlur");rp(CJ,"onTransitionEnd");eb("onMouseEnter",["mouseout","mouseover"]);eb("onMouseLeave",["mouseout","mouseover"]);eb("onPointerEnter",["pointerout","pointerover"]);eb("onPointerLeave",["pointerout","pointerover"]);b_("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));b_("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));b_("onBeforeInput",["compositionend","keypress","textInput","paste"]);b_("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));b_("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));b_("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var BC="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q0e=new Set("cancel close invalid load scroll toggle".split(" ").concat(BC));function kU(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,U_e(i,e,void 0,n),n.currentTarget=null}function SJ(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break e;kU(r,a,c),o=l}else for(s=0;s<i.length;s++){if(a=i[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break e;kU(r,a,c),o=l}}}if(HT)throw n=D5,HT=!1,D5=null,n}function jn(n,e){var t=e[F5];t===void 0&&(t=e[F5]=new Set);var i=n+"__bubble";t.has(i)||(xJ(e,n,2,!1),t.add(i))}function RR(n,e,t){var i=0;e&&(i|=4),xJ(t,n,i,e)}var GL="_reactListening"+Math.random().toString(36).slice(2);function m1(n){if(!n[GL]){n[GL]=!0,NQ.forEach(function(t){t!=="selectionchange"&&(q0e.has(t)||RR(t,!1,n),RR(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[GL]||(e[GL]=!0,RR("selectionchange",!1,e))}}function xJ(n,e,t,i){switch(aJ(e)){case 1:var r=s0e;break;case 4:r=a0e;break;default:r=e7}t=r.bind(null,e,t,n),r=void 0,!k5||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function AR(n,e,t,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(s===4)for(s=i.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;s=s.return}for(;a!==null;){if(s=nm(a),s===null)return;if(l=s.tag,l===5||l===6){i=o=s;continue e}a=a.parentNode}}i=i.return}KQ(function(){var c=o,d=YB(t),u=[];e:{var h=wJ.get(n);if(h!==void 0){var f=i7,g=n;switch(n){case"keypress":if(AD(t)===0)break e;case"keydown":case"keyup":f=w0e;break;case"focusin":g="focus",f=TR;break;case"focusout":g="blur",f=TR;break;case"beforeblur":case"afterblur":f=TR;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=gU;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=d0e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=L0e;break;case vJ:case bJ:case yJ:f=f0e;break;case CJ:f=D0e;break;case"scroll":f=l0e;break;case"wheel":f=E0e;break;case"copy":case"cut":case"paste":f=p0e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=mU}var _=(e&4)!==0,y=!_&&n==="scroll",m=_?h!==null?h+"Capture":null:h;_=[];for(var p=c,v;p!==null;){v=p;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,m!==null&&(b=d1(p,m),b!=null&&_.push(_1(p,b,v)))),y)break;p=p.return}0<_.length&&(h=new f(h,g,null,t,d),u.push({event:h,listeners:_}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",h&&t!==x5&&(g=t.relatedTarget||t.fromElement)&&(nm(g)||g[Ch]))break e;if((f||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=t.relatedTarget||t.toElement,f=c,g=g?nm(g):null,g!==null&&(y=y_(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=c),f!==g)){if(_=gU,b="onMouseLeave",m="onMouseEnter",p="mouse",(n==="pointerout"||n==="pointerover")&&(_=mU,b="onPointerLeave",m="onPointerEnter",p="pointer"),y=f==null?h:F0(f),v=g==null?h:F0(g),h=new _(b,p+"leave",f,t,d),h.target=y,h.relatedTarget=v,b=null,nm(d)===c&&(_=new _(m,p+"enter",g,t,d),_.target=v,_.relatedTarget=y,b=_),y=b,f&&g)t:{for(_=f,m=g,p=0,v=_;v;v=e0(v))p++;for(v=0,b=m;b;b=e0(b))v++;for(;0<p-v;)_=e0(_),p--;for(;0<v-p;)m=e0(m),v--;for(;p--;){if(_===m||m!==null&&_===m.alternate)break t;_=e0(_),m=e0(m)}_=null}else _=null;f!==null&&DU(u,h,f,_,!1),g!==null&&y!==null&&DU(u,y,g,_,!0)}}e:{if(h=c?F0(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var C=O0e;else if(bU(h))if(fJ)C=V0e;else{C=B0e;var S=F0e}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=W0e);if(C&&(C=C(n,c))){hJ(u,C,t,d);break e}S&&S(n,h,c),n==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&b5(h,"number",h.value)}switch(S=c?F0(c):window,n){case"focusin":(bU(S)||S.contentEditable==="true")&&(A0=S,N5=c,vw=null);break;case"focusout":vw=N5=A0=null;break;case"mousedown":P5=!0;break;case"contextmenu":case"mouseup":case"dragend":P5=!1,xU(u,t,d);break;case"selectionchange":if(j0e)break;case"keydown":case"keyup":xU(u,t,d)}var x;if(r7)e:{switch(n){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else R0?dJ(n,t)&&(k="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(k="onCompositionStart");k&&(cJ&&t.locale!=="ko"&&(R0||k!=="onCompositionStart"?k==="onCompositionEnd"&&R0&&(x=lJ()):(Af=d,t7="value"in Af?Af.value:Af.textContent,R0=!0)),S=qT(c,k),0<S.length&&(k=new pU(k,n,null,t,d),u.push({event:k,listeners:S}),x?k.data=x:(x=uJ(t),x!==null&&(k.data=x)))),(x=N0e?P0e(n,t):M0e(n,t))&&(c=qT(c,"onBeforeInput"),0<c.length&&(d=new pU("onBeforeInput","beforeinput",null,t,d),u.push({event:d,listeners:c}),d.data=x))}SJ(u,e)})}function _1(n,e,t){return{instance:n,listener:e,currentTarget:t}}function qT(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=d1(n,t),o!=null&&i.unshift(_1(n,o,r)),o=d1(n,e),o!=null&&i.push(_1(n,o,r))),n=n.return}return i}function e0(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function DU(n,e,t,i,r){for(var o=e._reactName,s=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=d1(t,o),l!=null&&s.unshift(_1(t,l,a))):r||(l=d1(t,o),l!=null&&s.push(_1(t,l,a)))),t=t.return}s.length!==0&&n.push({event:e,listeners:s})}var K0e=/\r\n?/g,G0e=/\u0000|\uFFFD/g;function TU(n){return(typeof n=="string"?n:""+n).replace(K0e,`
`).replace(G0e,"")}function ZL(n,e,t){if(e=TU(e),TU(n)!==e&&t)throw Error(Xe(425))}function KT(){}var M5=null,R5=null;function A5(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var O5=typeof setTimeout=="function"?setTimeout:void 0,Z0e=typeof clearTimeout=="function"?clearTimeout:void 0,EU=typeof Promise=="function"?Promise:void 0,Y0e=typeof queueMicrotask=="function"?queueMicrotask:typeof EU<"u"?function(n){return EU.resolve(null).then(n).catch(X0e)}:O5;function X0e(n){setTimeout(function(){throw n})}function OR(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),f1(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);f1(e)}function ig(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function IU(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ay=Math.random().toString(36).slice(2),Td="__reactFiber$"+ay,v1="__reactProps$"+ay,Ch="__reactContainer$"+ay,F5="__reactEvents$"+ay,Q0e="__reactListeners$"+ay,J0e="__reactHandles$"+ay;function nm(n){var e=n[Td];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ch]||t[Td]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=IU(n);n!==null;){if(t=n[Td])return t;n=IU(n)}return e}n=t,t=n.parentNode}return null}function px(n){return n=n[Td]||n[Ch],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function F0(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Xe(33))}function FN(n){return n[v1]||null}var B5=[],B0=-1;function op(n){return{current:n}}function Zn(n){0>B0||(n.current=B5[B0],B5[B0]=null,B0--)}function Wn(n,e){B0++,B5[B0]=n.current,n.current=e}var kg={},ms=op(kg),ba=op(!1),Pm=kg;function tb(n,e){var t=n.type.contextTypes;if(!t)return kg;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in t)r[o]=e[o];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function ya(n){return n=n.childContextTypes,n!=null}function GT(){Zn(ba),Zn(ms)}function NU(n,e,t){if(ms.current!==kg)throw Error(Xe(168));Wn(ms,e),Wn(ba,t)}function LJ(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Xe(108,F_e(n)||"Unknown",r));return pr({},t,i)}function ZT(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||kg,Pm=ms.current,Wn(ms,n),Wn(ba,ba.current),!0}function PU(n,e,t){var i=n.stateNode;if(!i)throw Error(Xe(169));t?(n=LJ(n,e,Pm),i.__reactInternalMemoizedMergedChildContext=n,Zn(ba),Zn(ms),Wn(ms,n)):Zn(ba),Wn(ba,t)}var Wu=null,BN=!1,FR=!1;function kJ(n){Wu===null?Wu=[n]:Wu.push(n)}function eve(n){BN=!0,kJ(n)}function sp(){if(!FR&&Wu!==null){FR=!0;var n=0,e=_n;try{var t=Wu;for(_n=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Wu=null,BN=!1}catch(r){throw Wu!==null&&(Wu=Wu.slice(n+1)),XQ(XB,sp),r}finally{_n=e,FR=!1}}return null}var W0=[],V0=0,YT=null,XT=0,Ll=[],kl=0,Mm=null,Xu=1,Qu="";function Bp(n,e){W0[V0++]=XT,W0[V0++]=YT,YT=n,XT=e}function DJ(n,e,t){Ll[kl++]=Xu,Ll[kl++]=Qu,Ll[kl++]=Mm,Mm=n;var i=Xu;n=Qu;var r=32-Ic(i)-1;i&=~(1<<r),t+=1;var o=32-Ic(e)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Xu=1<<32-Ic(e)+r|t<<r|i,Qu=o+n}else Xu=1<<o|t<<r|i,Qu=n}function s7(n){n.return!==null&&(Bp(n,1),DJ(n,1,0))}function a7(n){for(;n===YT;)YT=W0[--V0],W0[V0]=null,XT=W0[--V0],W0[V0]=null;for(;n===Mm;)Mm=Ll[--kl],Ll[kl]=null,Qu=Ll[--kl],Ll[kl]=null,Xu=Ll[--kl],Ll[kl]=null}var Za=null,$a=null,nr=!1,vc=null;function TJ(n,e){var t=El(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function MU(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Za=n,$a=ig(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Za=n,$a=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Mm!==null?{id:Xu,overflow:Qu}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=El(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Za=n,$a=null,!0):!1;default:return!1}}function W5(n){return(n.mode&1)!==0&&(n.flags&128)===0}function V5(n){if(nr){var e=$a;if(e){var t=e;if(!MU(n,e)){if(W5(n))throw Error(Xe(418));e=ig(t.nextSibling);var i=Za;e&&MU(n,e)?TJ(i,t):(n.flags=n.flags&-4097|2,nr=!1,Za=n)}}else{if(W5(n))throw Error(Xe(418));n.flags=n.flags&-4097|2,nr=!1,Za=n}}}function RU(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Za=n}function YL(n){if(n!==Za)return!1;if(!nr)return RU(n),nr=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!A5(n.type,n.memoizedProps)),e&&(e=$a)){if(W5(n))throw EJ(),Error(Xe(418));for(;e;)TJ(n,e),e=ig(e.nextSibling)}if(RU(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Xe(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){$a=ig(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}$a=null}}else $a=Za?ig(n.stateNode.nextSibling):null;return!0}function EJ(){for(var n=$a;n;)n=ig(n.nextSibling)}function ib(){$a=Za=null,nr=!1}function l7(n){vc===null?vc=[n]:vc.push(n)}var tve=Rh.ReactCurrentBatchConfig;function dc(n,e){if(n&&n.defaultProps){e=pr({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var QT=op(null),JT=null,H0=null,c7=null;function d7(){c7=H0=JT=null}function u7(n){var e=QT.current;Zn(QT),n._currentValue=e}function H5(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function yv(n,e){JT=n,c7=H0=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(ga=!0),n.firstContext=null)}function Hl(n){var e=n._currentValue;if(c7!==n)if(n={context:n,memoizedValue:e,next:null},H0===null){if(JT===null)throw Error(Xe(308));H0=n,JT.dependencies={lanes:0,firstContext:n}}else H0=H0.next=n;return e}var rm=null;function h7(n){rm===null?rm=[n]:rm.push(n)}function IJ(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,h7(e)):(t.next=r.next,r.next=t),e.interleaved=t,wh(n,i)}function wh(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var wf=!1;function f7(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NJ(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function lh(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ng(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Gi&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,wh(n,t)}return r=i.interleaved,r===null?(e.next=e,h7(i)):(e.next=r.next,r.next=e),i.interleaved=e,wh(n,t)}function OD(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,QB(n,t)}}function AU(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var s={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?r=o=s:o=o.next=s,t=t.next}while(t!==null);o===null?r=o=e:o=o.next=e}else r=o=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function eE(n,e,t,i){var r=n.updateQueue;wf=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var u=r.baseState;s=0,d=c=l=null,a=o;do{var h=a.lane,f=a.eventTime;if((i&h)===h){d!==null&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,_=a;switch(h=e,f=t,_.tag){case 1:if(g=_.payload,typeof g=="function"){u=g.call(f,u,h);break e}u=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,h=typeof g=="function"?g.call(f,u,h):g,h==null)break e;u=pr({},u,h);break e;case 2:wf=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,h=r.effects,h===null?r.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=f,l=u):d=d.next=f,s|=h;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;h=a,a=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(d===null&&(l=u),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do s|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);Am|=s,n.lanes=s,n.memoizedState=u}}function OU(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Xe(191,r));r.call(i)}}}var PJ=new IQ.Component().refs;function z5(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:pr({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var WN={isMounted:function(n){return(n=n._reactInternals)?y_(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Os(),r=og(n),o=lh(i,r);o.payload=e,t!=null&&(o.callback=t),e=ng(n,o,r),e!==null&&(Nc(e,n,r,i),OD(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Os(),r=og(n),o=lh(i,r);o.tag=1,o.payload=e,t!=null&&(o.callback=t),e=ng(n,o,r),e!==null&&(Nc(e,n,r,i),OD(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Os(),i=og(n),r=lh(t,i);r.tag=2,e!=null&&(r.callback=e),e=ng(n,r,i),e!==null&&(Nc(e,n,i,t),OD(e,n,i))}};function FU(n,e,t,i,r,o,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,o,s):e.prototype&&e.prototype.isPureReactComponent?!p1(t,i)||!p1(r,o):!0}function MJ(n,e,t){var i=!1,r=kg,o=e.contextType;return typeof o=="object"&&o!==null?o=Hl(o):(r=ya(e)?Pm:ms.current,i=e.contextTypes,o=(i=i!=null)?tb(n,r):kg),e=new e(t,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=WN,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=o),e}function BU(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&WN.enqueueReplaceState(e,e.state,null)}function j5(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=PJ,f7(n);var o=e.contextType;typeof o=="object"&&o!==null?r.context=Hl(o):(o=ya(e)?Pm:ms.current,r.context=tb(n,o)),r.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(z5(n,e,o,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&WN.enqueueReplaceState(r,r.state,null),eE(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function tC(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Xe(309));var i=t.stateNode}if(!i)throw Error(Xe(147,n));var r=i,o=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=r.refs;a===PJ&&(a=r.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof n!="string")throw Error(Xe(284));if(!t._owner)throw Error(Xe(290,n))}return n}function XL(n,e){throw n=Object.prototype.toString.call(e),Error(Xe(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function WU(n){var e=n._init;return e(n._payload)}function RJ(n){function e(m,p){if(n){var v=m.deletions;v===null?(m.deletions=[p],m.flags|=16):v.push(p)}}function t(m,p){if(!n)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function i(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function r(m,p){return m=sg(m,p),m.index=0,m.sibling=null,m}function o(m,p,v){return m.index=v,n?(v=m.alternate,v!==null?(v=v.index,v<p?(m.flags|=2,p):v):(m.flags|=2,p)):(m.flags|=1048576,p)}function s(m){return n&&m.alternate===null&&(m.flags|=2),m}function a(m,p,v,b){return p===null||p.tag!==6?(p=UR(v,m.mode,b),p.return=m,p):(p=r(p,v),p.return=m,p)}function l(m,p,v,b){var C=v.type;return C===M0?d(m,p,v.props.children,b,v.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Cf&&WU(C)===p.type)?(b=r(p,v.props),b.ref=tC(m,p,v),b.return=m,b):(b=zD(v.type,v.key,v.props,null,m.mode,b),b.ref=tC(m,p,v),b.return=m,b)}function c(m,p,v,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=$R(v,m.mode,b),p.return=m,p):(p=r(p,v.children||[]),p.return=m,p)}function d(m,p,v,b,C){return p===null||p.tag!==7?(p=vm(v,m.mode,b,C),p.return=m,p):(p=r(p,v),p.return=m,p)}function u(m,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=UR(""+p,m.mode,v),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case VL:return v=zD(p.type,p.key,p.props,null,m.mode,v),v.ref=tC(m,null,p),v.return=m,v;case P0:return p=$R(p,m.mode,v),p.return=m,p;case Cf:var b=p._init;return u(m,b(p._payload),v)}if(OC(p)||Yy(p))return p=vm(p,m.mode,v,null),p.return=m,p;XL(m,p)}return null}function h(m,p,v,b){var C=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:a(m,p,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case VL:return v.key===C?l(m,p,v,b):null;case P0:return v.key===C?c(m,p,v,b):null;case Cf:return C=v._init,h(m,p,C(v._payload),b)}if(OC(v)||Yy(v))return C!==null?null:d(m,p,v,b,null);XL(m,v)}return null}function f(m,p,v,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(v)||null,a(p,m,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case VL:return m=m.get(b.key===null?v:b.key)||null,l(p,m,b,C);case P0:return m=m.get(b.key===null?v:b.key)||null,c(p,m,b,C);case Cf:var S=b._init;return f(m,p,v,S(b._payload),C)}if(OC(b)||Yy(b))return m=m.get(v)||null,d(p,m,b,C,null);XL(p,b)}return null}function g(m,p,v,b){for(var C=null,S=null,x=p,k=p=0,D=null;x!==null&&k<v.length;k++){x.index>k?(D=x,x=null):D=x.sibling;var E=h(m,x,v[k],b);if(E===null){x===null&&(x=D);break}n&&x&&E.alternate===null&&e(m,x),p=o(E,p,k),S===null?C=E:S.sibling=E,S=E,x=D}if(k===v.length)return t(m,x),nr&&Bp(m,k),C;if(x===null){for(;k<v.length;k++)x=u(m,v[k],b),x!==null&&(p=o(x,p,k),S===null?C=x:S.sibling=x,S=x);return nr&&Bp(m,k),C}for(x=i(m,x);k<v.length;k++)D=f(x,m,k,v[k],b),D!==null&&(n&&D.alternate!==null&&x.delete(D.key===null?k:D.key),p=o(D,p,k),S===null?C=D:S.sibling=D,S=D);return n&&x.forEach(function(I){return e(m,I)}),nr&&Bp(m,k),C}function _(m,p,v,b){var C=Yy(v);if(typeof C!="function")throw Error(Xe(150));if(v=C.call(v),v==null)throw Error(Xe(151));for(var S=C=null,x=p,k=p=0,D=null,E=v.next();x!==null&&!E.done;k++,E=v.next()){x.index>k?(D=x,x=null):D=x.sibling;var I=h(m,x,E.value,b);if(I===null){x===null&&(x=D);break}n&&x&&I.alternate===null&&e(m,x),p=o(I,p,k),S===null?C=I:S.sibling=I,S=I,x=D}if(E.done)return t(m,x),nr&&Bp(m,k),C;if(x===null){for(;!E.done;k++,E=v.next())E=u(m,E.value,b),E!==null&&(p=o(E,p,k),S===null?C=E:S.sibling=E,S=E);return nr&&Bp(m,k),C}for(x=i(m,x);!E.done;k++,E=v.next())E=f(x,m,k,E.value,b),E!==null&&(n&&E.alternate!==null&&x.delete(E.key===null?k:E.key),p=o(E,p,k),S===null?C=E:S.sibling=E,S=E);return n&&x.forEach(function(N){return e(m,N)}),nr&&Bp(m,k),C}function y(m,p,v,b){if(typeof v=="object"&&v!==null&&v.type===M0&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case VL:e:{for(var C=v.key,S=p;S!==null;){if(S.key===C){if(C=v.type,C===M0){if(S.tag===7){t(m,S.sibling),p=r(S,v.props.children),p.return=m,m=p;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Cf&&WU(C)===S.type){t(m,S.sibling),p=r(S,v.props),p.ref=tC(m,S,v),p.return=m,m=p;break e}t(m,S);break}else e(m,S);S=S.sibling}v.type===M0?(p=vm(v.props.children,m.mode,b,v.key),p.return=m,m=p):(b=zD(v.type,v.key,v.props,null,m.mode,b),b.ref=tC(m,p,v),b.return=m,m=b)}return s(m);case P0:e:{for(S=v.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){t(m,p.sibling),p=r(p,v.children||[]),p.return=m,m=p;break e}else{t(m,p);break}else e(m,p);p=p.sibling}p=$R(v,m.mode,b),p.return=m,m=p}return s(m);case Cf:return S=v._init,y(m,p,S(v._payload),b)}if(OC(v))return g(m,p,v,b);if(Yy(v))return _(m,p,v,b);XL(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(t(m,p.sibling),p=r(p,v),p.return=m,m=p):(t(m,p),p=UR(v,m.mode,b),p.return=m,m=p),s(m)):t(m,p)}return y}var nb=RJ(!0),AJ=RJ(!1),mx={},Zd=op(mx),b1=op(mx),y1=op(mx);function om(n){if(n===mx)throw Error(Xe(174));return n}function g7(n,e){switch(Wn(y1,e),Wn(b1,n),Wn(Zd,mx),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:C5(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=C5(e,n)}Zn(Zd),Wn(Zd,e)}function rb(){Zn(Zd),Zn(b1),Zn(y1)}function OJ(n){om(y1.current);var e=om(Zd.current),t=C5(e,n.type);e!==t&&(Wn(b1,n),Wn(Zd,t))}function p7(n){b1.current===n&&(Zn(Zd),Zn(b1))}var ar=op(0);function tE(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var BR=[];function m7(){for(var n=0;n<BR.length;n++)BR[n]._workInProgressVersionPrimary=null;BR.length=0}var FD=Rh.ReactCurrentDispatcher,WR=Rh.ReactCurrentBatchConfig,Rm=0,fr=null,Xr=null,yo=null,iE=!1,bw=!1,C1=0,ive=0;function Jo(){throw Error(Xe(321))}function _7(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Wc(n[t],e[t]))return!1;return!0}function v7(n,e,t,i,r,o){if(Rm=o,fr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,FD.current=n===null||n.memoizedState===null?sve:ave,n=t(i,r),bw){o=0;do{if(bw=!1,C1=0,25<=o)throw Error(Xe(301));o+=1,yo=Xr=null,e.updateQueue=null,FD.current=lve,n=t(i,r)}while(bw)}if(FD.current=nE,e=Xr!==null&&Xr.next!==null,Rm=0,yo=Xr=fr=null,iE=!1,e)throw Error(Xe(300));return n}function b7(){var n=C1!==0;return C1=0,n}function yd(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yo===null?fr.memoizedState=yo=n:yo=yo.next=n,yo}function zl(){if(Xr===null){var n=fr.alternate;n=n!==null?n.memoizedState:null}else n=Xr.next;var e=yo===null?fr.memoizedState:yo.next;if(e!==null)yo=e,Xr=n;else{if(n===null)throw Error(Xe(310));Xr=n,n={memoizedState:Xr.memoizedState,baseState:Xr.baseState,baseQueue:Xr.baseQueue,queue:Xr.queue,next:null},yo===null?fr.memoizedState=yo=n:yo=yo.next=n}return yo}function w1(n,e){return typeof e=="function"?e(n):e}function VR(n){var e=zl(),t=e.queue;if(t===null)throw Error(Xe(311));t.lastRenderedReducer=n;var i=Xr,r=i.baseQueue,o=t.pending;if(o!==null){if(r!==null){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,t.pending=null}if(r!==null){o=r.next,i=i.baseState;var a=s=null,l=null,c=o;do{var d=c.lane;if((Rm&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,s=i):l=l.next=u,fr.lanes|=d,Am|=d}c=c.next}while(c!==null&&c!==o);l===null?s=i:l.next=a,Wc(i,e.memoizedState)||(ga=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do o=r.lane,fr.lanes|=o,Am|=o,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function HR(n){var e=zl(),t=e.queue;if(t===null)throw Error(Xe(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,o=e.memoizedState;if(r!==null){t.pending=null;var s=r=r.next;do o=n(o,s.action),s=s.next;while(s!==r);Wc(o,e.memoizedState)||(ga=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,i]}function FJ(){}function BJ(n,e){var t=fr,i=zl(),r=e(),o=!Wc(i.memoizedState,r);if(o&&(i.memoizedState=r,ga=!0),i=i.queue,y7(HJ.bind(null,t,i,n),[n]),i.getSnapshot!==e||o||yo!==null&&yo.memoizedState.tag&1){if(t.flags|=2048,S1(9,VJ.bind(null,t,i,r,e),void 0,null),So===null)throw Error(Xe(349));Rm&30||WJ(t,e,r)}return r}function WJ(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=fr.updateQueue,e===null?(e={lastEffect:null,stores:null},fr.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function VJ(n,e,t,i){e.value=t,e.getSnapshot=i,zJ(e)&&jJ(n)}function HJ(n,e,t){return t(function(){zJ(e)&&jJ(n)})}function zJ(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Wc(n,t)}catch{return!0}}function jJ(n){var e=wh(n,1);e!==null&&Nc(e,n,1,-1)}function VU(n){var e=yd();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:w1,lastRenderedState:n},e.queue=n,n=n.dispatch=ove.bind(null,fr,n),[e.memoizedState,n]}function S1(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=fr.updateQueue,e===null?(e={lastEffect:null,stores:null},fr.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function UJ(){return zl().memoizedState}function BD(n,e,t,i){var r=yd();fr.flags|=n,r.memoizedState=S1(1|e,t,void 0,i===void 0?null:i)}function VN(n,e,t,i){var r=zl();i=i===void 0?null:i;var o=void 0;if(Xr!==null){var s=Xr.memoizedState;if(o=s.destroy,i!==null&&_7(i,s.deps)){r.memoizedState=S1(e,t,o,i);return}}fr.flags|=n,r.memoizedState=S1(1|e,t,o,i)}function HU(n,e){return BD(8390656,8,n,e)}function y7(n,e){return VN(2048,8,n,e)}function $J(n,e){return VN(4,2,n,e)}function qJ(n,e){return VN(4,4,n,e)}function KJ(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function GJ(n,e,t){return t=t!=null?t.concat([n]):null,VN(4,4,KJ.bind(null,e,n),t)}function C7(){}function ZJ(n,e){var t=zl();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&_7(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function YJ(n,e){var t=zl();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&_7(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function XJ(n,e,t){return Rm&21?(Wc(t,e)||(t=eJ(),fr.lanes|=t,Am|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,ga=!0),n.memoizedState=t)}function nve(n,e){var t=_n;_n=t!==0&&4>t?t:4,n(!0);var i=WR.transition;WR.transition={};try{n(!1),e()}finally{_n=t,WR.transition=i}}function QJ(){return zl().memoizedState}function rve(n,e,t){var i=og(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},JJ(n))eee(e,t);else if(t=IJ(n,e,t,i),t!==null){var r=Os();Nc(t,n,i,r),tee(t,e,i)}}function ove(n,e,t){var i=og(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(JJ(n))eee(e,r);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,t);if(r.hasEagerState=!0,r.eagerState=a,Wc(a,s)){var l=e.interleaved;l===null?(r.next=r,h7(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=IJ(n,e,r,i),t!==null&&(r=Os(),Nc(t,n,i,r),tee(t,e,i))}}function JJ(n){var e=n.alternate;return n===fr||e!==null&&e===fr}function eee(n,e){bw=iE=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function tee(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,QB(n,t)}}var nE={readContext:Hl,useCallback:Jo,useContext:Jo,useEffect:Jo,useImperativeHandle:Jo,useInsertionEffect:Jo,useLayoutEffect:Jo,useMemo:Jo,useReducer:Jo,useRef:Jo,useState:Jo,useDebugValue:Jo,useDeferredValue:Jo,useTransition:Jo,useMutableSource:Jo,useSyncExternalStore:Jo,useId:Jo,unstable_isNewReconciler:!1},sve={readContext:Hl,useCallback:function(n,e){return yd().memoizedState=[n,e===void 0?null:e],n},useContext:Hl,useEffect:HU,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,BD(4194308,4,KJ.bind(null,e,n),t)},useLayoutEffect:function(n,e){return BD(4194308,4,n,e)},useInsertionEffect:function(n,e){return BD(4,2,n,e)},useMemo:function(n,e){var t=yd();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=yd();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=rve.bind(null,fr,n),[i.memoizedState,n]},useRef:function(n){var e=yd();return n={current:n},e.memoizedState=n},useState:VU,useDebugValue:C7,useDeferredValue:function(n){return yd().memoizedState=n},useTransition:function(){var n=VU(!1),e=n[0];return n=nve.bind(null,n[1]),yd().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=fr,r=yd();if(nr){if(t===void 0)throw Error(Xe(407));t=t()}else{if(t=e(),So===null)throw Error(Xe(349));Rm&30||WJ(i,e,t)}r.memoizedState=t;var o={value:t,getSnapshot:e};return r.queue=o,HU(HJ.bind(null,i,o,n),[n]),i.flags|=2048,S1(9,VJ.bind(null,i,o,t,e),void 0,null),t},useId:function(){var n=yd(),e=So.identifierPrefix;if(nr){var t=Qu,i=Xu;t=(i&~(1<<32-Ic(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=C1++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=ive++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},ave={readContext:Hl,useCallback:ZJ,useContext:Hl,useEffect:y7,useImperativeHandle:GJ,useInsertionEffect:$J,useLayoutEffect:qJ,useMemo:YJ,useReducer:VR,useRef:UJ,useState:function(){return VR(w1)},useDebugValue:C7,useDeferredValue:function(n){var e=zl();return XJ(e,Xr.memoizedState,n)},useTransition:function(){var n=VR(w1)[0],e=zl().memoizedState;return[n,e]},useMutableSource:FJ,useSyncExternalStore:BJ,useId:QJ,unstable_isNewReconciler:!1},lve={readContext:Hl,useCallback:ZJ,useContext:Hl,useEffect:y7,useImperativeHandle:GJ,useInsertionEffect:$J,useLayoutEffect:qJ,useMemo:YJ,useReducer:HR,useRef:UJ,useState:function(){return HR(w1)},useDebugValue:C7,useDeferredValue:function(n){var e=zl();return Xr===null?e.memoizedState=n:XJ(e,Xr.memoizedState,n)},useTransition:function(){var n=HR(w1)[0],e=zl().memoizedState;return[n,e]},useMutableSource:FJ,useSyncExternalStore:BJ,useId:QJ,unstable_isNewReconciler:!1};function ob(n,e){try{var t="",i=e;do t+=O_e(i),i=i.return;while(i);var r=t}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:e,stack:r,digest:null}}function zR(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function U5(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var cve=typeof WeakMap=="function"?WeakMap:Map;function iee(n,e,t){t=lh(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){oE||(oE=!0,e4=i),U5(n,e)},t}function nee(n,e,t){t=lh(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){U5(n,e)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){U5(n,e),typeof i!="function"&&(rg===null?rg=new Set([this]):rg.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),t}function zU(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new cve;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=Sve.bind(null,n,e,t),e.then(n,n))}function jU(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function UU(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=lh(-1,1),e.tag=2,ng(t,e,1))),t.lanes|=1),n)}var dve=Rh.ReactCurrentOwner,ga=!1;function Is(n,e,t,i){e.child=n===null?AJ(e,null,t,i):nb(e,n.child,t,i)}function $U(n,e,t,i,r){t=t.render;var o=e.ref;return yv(e,r),i=v7(n,e,t,i,o,r),t=b7(),n!==null&&!ga?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Sh(n,e,r)):(nr&&t&&s7(e),e.flags|=1,Is(n,e,i,r),e.child)}function qU(n,e,t,i,r){if(n===null){var o=t.type;return typeof o=="function"&&!E7(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,ree(n,e,o,i,r)):(n=zD(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!(n.lanes&r)){var s=o.memoizedProps;if(t=t.compare,t=t!==null?t:p1,t(s,i)&&n.ref===e.ref)return Sh(n,e,r)}return e.flags|=1,n=sg(o,i),n.ref=e.ref,n.return=e,e.child=n}function ree(n,e,t,i,r){if(n!==null){var o=n.memoizedProps;if(p1(o,i)&&n.ref===e.ref)if(ga=!1,e.pendingProps=i=o,(n.lanes&r)!==0)n.flags&131072&&(ga=!0);else return e.lanes=n.lanes,Sh(n,e,r)}return $5(n,e,t,i,r)}function oee(n,e,t){var i=e.pendingProps,r=i.children,o=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wn(j0,Va),Va|=t;else{if(!(t&1073741824))return n=o!==null?o.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Wn(j0,Va),Va|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:t,Wn(j0,Va),Va|=i}else o!==null?(i=o.baseLanes|t,e.memoizedState=null):i=t,Wn(j0,Va),Va|=i;return Is(n,e,r,t),e.child}function see(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function $5(n,e,t,i,r){var o=ya(t)?Pm:ms.current;return o=tb(e,o),yv(e,r),t=v7(n,e,t,i,o,r),i=b7(),n!==null&&!ga?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Sh(n,e,r)):(nr&&i&&s7(e),e.flags|=1,Is(n,e,t,r),e.child)}function KU(n,e,t,i,r){if(ya(t)){var o=!0;ZT(e)}else o=!1;if(yv(e,r),e.stateNode===null)WD(n,e),MJ(e,t,i),j5(e,t,i,r),i=!0;else if(n===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=t.contextType;typeof c=="object"&&c!==null?c=Hl(c):(c=ya(t)?Pm:ms.current,c=tb(e,c));var d=t.getDerivedStateFromProps,u=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";u||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==i||l!==c)&&BU(e,s,i,c),wf=!1;var h=e.memoizedState;s.state=h,eE(e,i,s,r),l=e.memoizedState,a!==i||h!==l||ba.current||wf?(typeof d=="function"&&(z5(e,t,d,i),l=e.memoizedState),(a=wf||FU(e,t,a,i,h,l,c))?(u||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),s.props=i,s.state=l,s.context=c,i=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,NJ(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:dc(e.type,a),s.props=c,u=e.pendingProps,h=s.context,l=t.contextType,typeof l=="object"&&l!==null?l=Hl(l):(l=ya(t)?Pm:ms.current,l=tb(e,l));var f=t.getDerivedStateFromProps;(d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==u||h!==l)&&BU(e,s,i,l),wf=!1,h=e.memoizedState,s.state=h,eE(e,i,s,r);var g=e.memoizedState;a!==u||h!==g||ba.current||wf?(typeof f=="function"&&(z5(e,t,f,i),g=e.memoizedState),(c=wf||FU(e,t,c,i,h,g,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),s.props=i,s.state=g,s.context=l,i=c):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),i=!1)}return q5(n,e,t,i,o,r)}function q5(n,e,t,i,r,o){see(n,e);var s=(e.flags&128)!==0;if(!i&&!s)return r&&PU(e,t,!1),Sh(n,e,o);i=e.stateNode,dve.current=e;var a=s&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&s?(e.child=nb(e,n.child,null,o),e.child=nb(e,null,a,o)):Is(n,e,a,o),e.memoizedState=i.state,r&&PU(e,t,!0),e.child}function aee(n){var e=n.stateNode;e.pendingContext?NU(n,e.pendingContext,e.pendingContext!==e.context):e.context&&NU(n,e.context,!1),g7(n,e.containerInfo)}function GU(n,e,t,i,r){return ib(),l7(r),e.flags|=256,Is(n,e,t,i),e.child}var K5={dehydrated:null,treeContext:null,retryLane:0};function G5(n){return{baseLanes:n,cachePool:null,transitions:null}}function lee(n,e,t){var i=e.pendingProps,r=ar.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(o=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Wn(ar,r&1),n===null)return V5(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=i.children,n=i.fallback,o?(i=e.mode,o=e.child,s={mode:"hidden",children:s},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=jN(s,i,0,null),n=vm(n,i,t,null),o.return=e,n.return=e,o.sibling=n,e.child=o,e.child.memoizedState=G5(t),e.memoizedState=K5,n):w7(e,s));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return uve(n,e,s,i,a,r,t);if(o){o=i.fallback,s=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(s&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=sg(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?o=sg(a,o):(o=vm(o,s,t,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,s=n.child.memoizedState,s=s===null?G5(t):{baseLanes:s.baseLanes|t,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=n.childLanes&~t,e.memoizedState=K5,i}return o=n.child,n=o.sibling,i=sg(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function w7(n,e){return e=jN({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function QL(n,e,t,i){return i!==null&&l7(i),nb(e,n.child,null,t),n=w7(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function uve(n,e,t,i,r,o,s){if(t)return e.flags&256?(e.flags&=-257,i=zR(Error(Xe(422))),QL(n,e,s,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=jN({mode:"visible",children:i.children},r,0,null),o=vm(o,r,s,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&nb(e,n.child,null,s),e.child.memoizedState=G5(s),e.memoizedState=K5,o);if(!(e.mode&1))return QL(n,e,s,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,o=Error(Xe(419)),i=zR(o,i,void 0),QL(n,e,s,i)}if(a=(s&n.childLanes)!==0,ga||a){if(i=So,i!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|s)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,wh(n,r),Nc(i,n,r,-1))}return T7(),i=zR(Error(Xe(421))),QL(n,e,s,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=xve.bind(null,n),r._reactRetry=e,null):(n=o.treeContext,$a=ig(r.nextSibling),Za=e,nr=!0,vc=null,n!==null&&(Ll[kl++]=Xu,Ll[kl++]=Qu,Ll[kl++]=Mm,Xu=n.id,Qu=n.overflow,Mm=e),e=w7(e,i.children),e.flags|=4096,e)}function ZU(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),H5(n.return,e,t)}function jR(n,e,t,i,r){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=t,o.tailMode=r)}function cee(n,e,t){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(Is(n,e,i.children,t),i=ar.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ZU(n,t,e);else if(n.tag===19)ZU(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Wn(ar,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&tE(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),jR(e,!1,r,t,o);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&tE(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}jR(e,!0,t,null,o);break;case"together":jR(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function WD(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Sh(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Am|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Xe(153));if(e.child!==null){for(n=e.child,t=sg(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=sg(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function hve(n,e,t){switch(e.tag){case 3:aee(e),ib();break;case 5:OJ(e);break;case 1:ya(e.type)&&ZT(e);break;case 4:g7(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Wn(QT,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Wn(ar,ar.current&1),e.flags|=128,null):t&e.child.childLanes?lee(n,e,t):(Wn(ar,ar.current&1),n=Sh(n,e,t),n!==null?n.sibling:null);Wn(ar,ar.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return cee(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Wn(ar,ar.current),i)break;return null;case 22:case 23:return e.lanes=0,oee(n,e,t)}return Sh(n,e,t)}var dee,Z5,uee,hee;dee=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Z5=function(){};uee=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,om(Zd.current);var o=null;switch(t){case"input":r=_5(n,r),i=_5(n,i),o=[];break;case"select":r=pr({},r,{value:void 0}),i=pr({},i,{value:void 0}),o=[];break;case"textarea":r=y5(n,r),i=y5(n,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=KT)}w5(t,i);var s;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(s in a)a.hasOwnProperty(s)&&(t||(t={}),t[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(l1.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(t||(t={}),t[s]=l[s])}else t||(o||(o=[]),o.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(l1.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&jn("scroll",n),o||a===l||(o=[])):(o=o||[]).push(c,l))}t&&(o=o||[]).push("style",t);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};hee=function(n,e,t,i){t!==i&&(e.flags|=4)};function iC(n,e){if(!nr)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function es(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function fve(n,e,t){var i=e.pendingProps;switch(a7(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return es(e),null;case 1:return ya(e.type)&&GT(),es(e),null;case 3:return i=e.stateNode,rb(),Zn(ba),Zn(ms),m7(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(YL(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vc!==null&&(n4(vc),vc=null))),Z5(n,e),es(e),null;case 5:p7(e);var r=om(y1.current);if(t=e.type,n!==null&&e.stateNode!=null)uee(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Xe(166));return es(e),null}if(n=om(Zd.current),YL(e)){i=e.stateNode,t=e.type;var o=e.memoizedProps;switch(i[Td]=e,i[v1]=o,n=(e.mode&1)!==0,t){case"dialog":jn("cancel",i),jn("close",i);break;case"iframe":case"object":case"embed":jn("load",i);break;case"video":case"audio":for(r=0;r<BC.length;r++)jn(BC[r],i);break;case"source":jn("error",i);break;case"img":case"image":case"link":jn("error",i),jn("load",i);break;case"details":jn("toggle",i);break;case"input":rU(i,o),jn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},jn("invalid",i);break;case"textarea":sU(i,o),jn("invalid",i)}w5(t,o),r=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?i.textContent!==a&&(o.suppressHydrationWarning!==!0&&ZL(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ZL(i.textContent,a,n),r=["children",""+a]):l1.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&jn("scroll",i)}switch(t){case"input":HL(i),oU(i,o,!0);break;case"textarea":HL(i),aU(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=KT)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=WQ(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=s.createElement(t,{is:i.is}):(n=s.createElement(t),t==="select"&&(s=n,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):n=s.createElementNS(n,t),n[Td]=e,n[v1]=i,dee(n,e,!1,!1),e.stateNode=n;e:{switch(s=S5(t,i),t){case"dialog":jn("cancel",n),jn("close",n),r=i;break;case"iframe":case"object":case"embed":jn("load",n),r=i;break;case"video":case"audio":for(r=0;r<BC.length;r++)jn(BC[r],n);r=i;break;case"source":jn("error",n),r=i;break;case"img":case"image":case"link":jn("error",n),jn("load",n),r=i;break;case"details":jn("toggle",n),r=i;break;case"input":rU(n,i),r=_5(n,i),jn("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=pr({},i,{value:void 0}),jn("invalid",n);break;case"textarea":sU(n,i),r=y5(n,i),jn("invalid",n);break;default:r=i}w5(t,r),a=r;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?zQ(n,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&VQ(n,l)):o==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&c1(n,l):typeof l=="number"&&c1(n,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(l1.hasOwnProperty(o)?l!=null&&o==="onScroll"&&jn("scroll",n):l!=null&&qB(n,o,l,s))}switch(t){case"input":HL(n),oU(n,i,!1);break;case"textarea":HL(n),aU(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Lg(i.value));break;case"select":n.multiple=!!i.multiple,o=i.value,o!=null?mv(n,!!i.multiple,o,!1):i.defaultValue!=null&&mv(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=KT)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return es(e),null;case 6:if(n&&e.stateNode!=null)hee(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Xe(166));if(t=om(y1.current),om(Zd.current),YL(e)){if(i=e.stateNode,t=e.memoizedProps,i[Td]=e,(o=i.nodeValue!==t)&&(n=Za,n!==null))switch(n.tag){case 3:ZL(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ZL(i.nodeValue,t,(n.mode&1)!==0)}o&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Td]=e,e.stateNode=i}return es(e),null;case 13:if(Zn(ar),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(nr&&$a!==null&&e.mode&1&&!(e.flags&128))EJ(),ib(),e.flags|=98560,o=!1;else if(o=YL(e),i!==null&&i.dehydrated!==null){if(n===null){if(!o)throw Error(Xe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Xe(317));o[Td]=e}else ib(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;es(e),o=!1}else vc!==null&&(n4(vc),vc=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||ar.current&1?to===0&&(to=3):T7())),e.updateQueue!==null&&(e.flags|=4),es(e),null);case 4:return rb(),Z5(n,e),n===null&&m1(e.stateNode.containerInfo),es(e),null;case 10:return u7(e.type._context),es(e),null;case 17:return ya(e.type)&&GT(),es(e),null;case 19:if(Zn(ar),o=e.memoizedState,o===null)return es(e),null;if(i=(e.flags&128)!==0,s=o.rendering,s===null)if(i)iC(o,!1);else{if(to!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(s=tE(n),s!==null){for(e.flags|=128,iC(o,!1),i=s.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)o=t,n=i,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,n=s.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Wn(ar,ar.current&1|2),e.child}n=n.sibling}o.tail!==null&&Nr()>sb&&(e.flags|=128,i=!0,iC(o,!1),e.lanes=4194304)}else{if(!i)if(n=tE(s),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),iC(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!nr)return es(e),null}else 2*Nr()-o.renderingStartTime>sb&&t!==1073741824&&(e.flags|=128,i=!0,iC(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(t=o.last,t!==null?t.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Nr(),e.sibling=null,t=ar.current,Wn(ar,i?t&1|2:t&1),e):(es(e),null);case 22:case 23:return D7(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Va&1073741824&&(es(e),e.subtreeFlags&6&&(e.flags|=8192)):es(e),null;case 24:return null;case 25:return null}throw Error(Xe(156,e.tag))}function gve(n,e){switch(a7(e),e.tag){case 1:return ya(e.type)&&GT(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return rb(),Zn(ba),Zn(ms),m7(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return p7(e),null;case 13:if(Zn(ar),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Xe(340));ib()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Zn(ar),null;case 4:return rb(),null;case 10:return u7(e.type._context),null;case 22:case 23:return D7(),null;case 24:return null;default:return null}}var JL=!1,ds=!1,pve=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function z0(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){wr(n,e,i)}else t.current=null}function Y5(n,e,t){try{t()}catch(i){wr(n,e,i)}}var YU=!1;function mve(n,e){if(M5=UT,n=mJ(),o7(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var s=0,a=-1,l=-1,c=0,d=0,u=n,h=null;t:for(;;){for(var f;u!==t||r!==0&&u.nodeType!==3||(a=s+r),u!==o||i!==0&&u.nodeType!==3||(l=s+i),u.nodeType===3&&(s+=u.nodeValue.length),(f=u.firstChild)!==null;)h=u,u=f;for(;;){if(u===n)break t;if(h===t&&++c===r&&(a=s),h===o&&++d===i&&(l=s),(f=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=f}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(R5={focusedElem:n,selectionRange:t},UT=!1,Lt=e;Lt!==null;)if(e=Lt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Lt=n;else for(;Lt!==null;){e=Lt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,y=g.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?_:dc(e.type,_),y);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Xe(163))}}catch(b){wr(e,e.return,b)}if(n=e.sibling,n!==null){n.return=e.return,Lt=n;break}Lt=e.return}return g=YU,YU=!1,g}function yw(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var o=r.destroy;r.destroy=void 0,o!==void 0&&Y5(e,t,o)}r=r.next}while(r!==i)}}function HN(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function X5(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function fee(n){var e=n.alternate;e!==null&&(n.alternate=null,fee(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Td],delete e[v1],delete e[F5],delete e[Q0e],delete e[J0e])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function gee(n){return n.tag===5||n.tag===3||n.tag===4}function XU(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||gee(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Q5(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=KT));else if(i!==4&&(n=n.child,n!==null))for(Q5(n,e,t),n=n.sibling;n!==null;)Q5(n,e,t),n=n.sibling}function J5(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(J5(n,e,t),n=n.sibling;n!==null;)J5(n,e,t),n=n.sibling}var Io=null,fc=!1;function nf(n,e,t){for(t=t.child;t!==null;)pee(n,e,t),t=t.sibling}function pee(n,e,t){if(Gd&&typeof Gd.onCommitFiberUnmount=="function")try{Gd.onCommitFiberUnmount(MN,t)}catch{}switch(t.tag){case 5:ds||z0(t,e);case 6:var i=Io,r=fc;Io=null,nf(n,e,t),Io=i,fc=r,Io!==null&&(fc?(n=Io,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Io.removeChild(t.stateNode));break;case 18:Io!==null&&(fc?(n=Io,t=t.stateNode,n.nodeType===8?OR(n.parentNode,t):n.nodeType===1&&OR(n,t),f1(n)):OR(Io,t.stateNode));break;case 4:i=Io,r=fc,Io=t.stateNode.containerInfo,fc=!0,nf(n,e,t),Io=i,fc=r;break;case 0:case 11:case 14:case 15:if(!ds&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Y5(t,e,s),r=r.next}while(r!==i)}nf(n,e,t);break;case 1:if(!ds&&(z0(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){wr(t,e,a)}nf(n,e,t);break;case 21:nf(n,e,t);break;case 22:t.mode&1?(ds=(i=ds)||t.memoizedState!==null,nf(n,e,t),ds=i):nf(n,e,t);break;default:nf(n,e,t)}}function QU(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new pve),e.forEach(function(i){var r=Lve.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function ec(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var o=n,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Io=a.stateNode,fc=!1;break e;case 3:Io=a.stateNode.containerInfo,fc=!0;break e;case 4:Io=a.stateNode.containerInfo,fc=!0;break e}a=a.return}if(Io===null)throw Error(Xe(160));pee(o,s,r),Io=null,fc=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){wr(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mee(e,n),e=e.sibling}function mee(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ec(e,n),dd(n),i&4){try{yw(3,n,n.return),HN(3,n)}catch(_){wr(n,n.return,_)}try{yw(5,n,n.return)}catch(_){wr(n,n.return,_)}}break;case 1:ec(e,n),dd(n),i&512&&t!==null&&z0(t,t.return);break;case 5:if(ec(e,n),dd(n),i&512&&t!==null&&z0(t,t.return),n.flags&32){var r=n.stateNode;try{c1(r,"")}catch(_){wr(n,n.return,_)}}if(i&4&&(r=n.stateNode,r!=null)){var o=n.memoizedProps,s=t!==null?t.memoizedProps:o,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&FQ(r,o),S5(a,s);var c=S5(a,o);for(s=0;s<l.length;s+=2){var d=l[s],u=l[s+1];d==="style"?zQ(r,u):d==="dangerouslySetInnerHTML"?VQ(r,u):d==="children"?c1(r,u):qB(r,d,u,c)}switch(a){case"input":v5(r,o);break;case"textarea":BQ(r,o);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?mv(r,!!o.multiple,f,!1):h!==!!o.multiple&&(o.defaultValue!=null?mv(r,!!o.multiple,o.defaultValue,!0):mv(r,!!o.multiple,o.multiple?[]:"",!1))}r[v1]=o}catch(_){wr(n,n.return,_)}}break;case 6:if(ec(e,n),dd(n),i&4){if(n.stateNode===null)throw Error(Xe(162));r=n.stateNode,o=n.memoizedProps;try{r.nodeValue=o}catch(_){wr(n,n.return,_)}}break;case 3:if(ec(e,n),dd(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{f1(e.containerInfo)}catch(_){wr(n,n.return,_)}break;case 4:ec(e,n),dd(n);break;case 13:ec(e,n),dd(n),r=n.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(L7=Nr())),i&4&&QU(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(ds=(c=ds)||d,ec(e,n),ds=c):ec(e,n),dd(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!d&&n.mode&1)for(Lt=n,d=n.child;d!==null;){for(u=Lt=d;Lt!==null;){switch(h=Lt,f=h.child,h.tag){case 0:case 11:case 14:case 15:yw(4,h,h.return);break;case 1:z0(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){i=h,t=h.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(_){wr(i,t,_)}}break;case 5:z0(h,h.return);break;case 22:if(h.memoizedState!==null){e$(u);continue}}f!==null?(f.return=h,Lt=f):e$(u)}d=d.sibling}e:for(d=null,u=n;;){if(u.tag===5){if(d===null){d=u;try{r=u.stateNode,c?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=u.stateNode,l=u.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=HQ("display",s))}catch(_){wr(n,n.return,_)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(_){wr(n,n.return,_)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===n)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break e;for(;u.sibling===null;){if(u.return===null||u.return===n)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:ec(e,n),dd(n),i&4&&QU(n);break;case 21:break;default:ec(e,n),dd(n)}}function dd(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(gee(t)){var i=t;break e}t=t.return}throw Error(Xe(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(c1(r,""),i.flags&=-33);var o=XU(n);J5(n,o,r);break;case 3:case 4:var s=i.stateNode.containerInfo,a=XU(n);Q5(n,a,s);break;default:throw Error(Xe(161))}}catch(l){wr(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function _ve(n,e,t){Lt=n,_ee(n)}function _ee(n,e,t){for(var i=(n.mode&1)!==0;Lt!==null;){var r=Lt,o=r.child;if(r.tag===22&&i){var s=r.memoizedState!==null||JL;if(!s){var a=r.alternate,l=a!==null&&a.memoizedState!==null||ds;a=JL;var c=ds;if(JL=s,(ds=l)&&!c)for(Lt=r;Lt!==null;)s=Lt,l=s.child,s.tag===22&&s.memoizedState!==null?t$(r):l!==null?(l.return=s,Lt=l):t$(r);for(;o!==null;)Lt=o,_ee(o),o=o.sibling;Lt=r,JL=a,ds=c}JU(n)}else r.subtreeFlags&8772&&o!==null?(o.return=r,Lt=o):JU(n)}}function JU(n){for(;Lt!==null;){var e=Lt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ds||HN(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ds)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:dc(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&OU(e,o,i);break;case 3:var s=e.updateQueue;if(s!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}OU(e,s,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&f1(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Xe(163))}ds||e.flags&512&&X5(e)}catch(h){wr(e,e.return,h)}}if(e===n){Lt=null;break}if(t=e.sibling,t!==null){t.return=e.return,Lt=t;break}Lt=e.return}}function e$(n){for(;Lt!==null;){var e=Lt;if(e===n){Lt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Lt=t;break}Lt=e.return}}function t$(n){for(;Lt!==null;){var e=Lt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{HN(4,e)}catch(l){wr(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){wr(e,r,l)}}var o=e.return;try{X5(e)}catch(l){wr(e,o,l)}break;case 5:var s=e.return;try{X5(e)}catch(l){wr(e,s,l)}}}catch(l){wr(e,e.return,l)}if(e===n){Lt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Lt=a;break}Lt=e.return}}var vve=Math.ceil,rE=Rh.ReactCurrentDispatcher,S7=Rh.ReactCurrentOwner,Bl=Rh.ReactCurrentBatchConfig,Gi=0,So=null,jr=null,Vo=0,Va=0,j0=op(0),to=0,x1=null,Am=0,zN=0,x7=0,Cw=null,sa=null,L7=0,sb=1/0,Ru=null,oE=!1,e4=null,rg=null,ek=!1,Of=null,sE=0,ww=0,t4=null,VD=-1,HD=0;function Os(){return Gi&6?Nr():VD!==-1?VD:VD=Nr()}function og(n){return n.mode&1?Gi&2&&Vo!==0?Vo&-Vo:tve.transition!==null?(HD===0&&(HD=eJ()),HD):(n=_n,n!==0||(n=window.event,n=n===void 0?16:aJ(n.type)),n):1}function Nc(n,e,t,i){if(50<ww)throw ww=0,t4=null,Error(Xe(185));fx(n,t,i),(!(Gi&2)||n!==So)&&(n===So&&(!(Gi&2)&&(zN|=t),to===4&&Tf(n,Vo)),Ca(n,i),t===1&&Gi===0&&!(e.mode&1)&&(sb=Nr()+500,BN&&sp()))}function Ca(n,e){var t=n.callbackNode;t0e(n,e);var i=jT(n,n===So?Vo:0);if(i===0)t!==null&&dU(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&dU(t),e===1)n.tag===0?eve(i$.bind(null,n)):kJ(i$.bind(null,n)),Y0e(function(){!(Gi&6)&&sp()}),t=null;else{switch(tJ(i)){case 1:t=XB;break;case 4:t=QQ;break;case 16:t=zT;break;case 536870912:t=JQ;break;default:t=zT}t=Lee(t,vee.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function vee(n,e){if(VD=-1,HD=0,Gi&6)throw Error(Xe(327));var t=n.callbackNode;if(Cv()&&n.callbackNode!==t)return null;var i=jT(n,n===So?Vo:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=aE(n,i);else{e=i;var r=Gi;Gi|=2;var o=yee();(So!==n||Vo!==e)&&(Ru=null,sb=Nr()+500,_m(n,e));do try{Cve();break}catch(a){bee(n,a)}while(!0);d7(),rE.current=o,Gi=r,jr!==null?e=0:(So=null,Vo=0,e=to)}if(e!==0){if(e===2&&(r=T5(n),r!==0&&(i=r,e=i4(n,r))),e===1)throw t=x1,_m(n,0),Tf(n,i),Ca(n,Nr()),t;if(e===6)Tf(n,i);else{if(r=n.current.alternate,!(i&30)&&!bve(r)&&(e=aE(n,i),e===2&&(o=T5(n),o!==0&&(i=o,e=i4(n,o))),e===1))throw t=x1,_m(n,0),Tf(n,i),Ca(n,Nr()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Xe(345));case 2:Wp(n,sa,Ru);break;case 3:if(Tf(n,i),(i&130023424)===i&&(e=L7+500-Nr(),10<e)){if(jT(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Os(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=O5(Wp.bind(null,n,sa,Ru),e);break}Wp(n,sa,Ru);break;case 4:if(Tf(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var s=31-Ic(i);o=1<<s,s=e[s],s>r&&(r=s),i&=~o}if(i=r,i=Nr()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*vve(i/1960))-i,10<i){n.timeoutHandle=O5(Wp.bind(null,n,sa,Ru),i);break}Wp(n,sa,Ru);break;case 5:Wp(n,sa,Ru);break;default:throw Error(Xe(329))}}}return Ca(n,Nr()),n.callbackNode===t?vee.bind(null,n):null}function i4(n,e){var t=Cw;return n.current.memoizedState.isDehydrated&&(_m(n,e).flags|=256),n=aE(n,e),n!==2&&(e=sa,sa=t,e!==null&&n4(e)),n}function n4(n){sa===null?sa=n:sa.push.apply(sa,n)}function bve(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],o=r.getSnapshot;r=r.value;try{if(!Wc(o(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tf(n,e){for(e&=~x7,e&=~zN,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Ic(e),i=1<<t;n[t]=-1,e&=~i}}function i$(n){if(Gi&6)throw Error(Xe(327));Cv();var e=jT(n,0);if(!(e&1))return Ca(n,Nr()),null;var t=aE(n,e);if(n.tag!==0&&t===2){var i=T5(n);i!==0&&(e=i,t=i4(n,i))}if(t===1)throw t=x1,_m(n,0),Tf(n,e),Ca(n,Nr()),t;if(t===6)throw Error(Xe(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Wp(n,sa,Ru),Ca(n,Nr()),null}function k7(n,e){var t=Gi;Gi|=1;try{return n(e)}finally{Gi=t,Gi===0&&(sb=Nr()+500,BN&&sp())}}function Om(n){Of!==null&&Of.tag===0&&!(Gi&6)&&Cv();var e=Gi;Gi|=1;var t=Bl.transition,i=_n;try{if(Bl.transition=null,_n=1,n)return n()}finally{_n=i,Bl.transition=t,Gi=e,!(Gi&6)&&sp()}}function D7(){Va=j0.current,Zn(j0)}function _m(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,Z0e(t)),jr!==null)for(t=jr.return;t!==null;){var i=t;switch(a7(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&GT();break;case 3:rb(),Zn(ba),Zn(ms),m7();break;case 5:p7(i);break;case 4:rb();break;case 13:Zn(ar);break;case 19:Zn(ar);break;case 10:u7(i.type._context);break;case 22:case 23:D7()}t=t.return}if(So=n,jr=n=sg(n.current,null),Vo=Va=e,to=0,x1=null,x7=zN=Am=0,sa=Cw=null,rm!==null){for(e=0;e<rm.length;e++)if(t=rm[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,o=t.pending;if(o!==null){var s=o.next;o.next=r,i.next=s}t.pending=i}rm=null}return n}function bee(n,e){do{var t=jr;try{if(d7(),FD.current=nE,iE){for(var i=fr.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}iE=!1}if(Rm=0,yo=Xr=fr=null,bw=!1,C1=0,S7.current=null,t===null||t.return===null){to=1,x1=e,jr=null;break}e:{var o=n,s=t.return,a=t,l=e;if(e=Vo,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=jU(s);if(f!==null){f.flags&=-257,UU(f,s,a,o,e),f.mode&1&&zU(o,c,e),e=f,l=c;var g=e.updateQueue;if(g===null){var _=new Set;_.add(l),e.updateQueue=_}else g.add(l);break e}else{if(!(e&1)){zU(o,c,e),T7();break e}l=Error(Xe(426))}}else if(nr&&a.mode&1){var y=jU(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),UU(y,s,a,o,e),l7(ob(l,a));break e}}o=l=ob(l,a),to!==4&&(to=2),Cw===null?Cw=[o]:Cw.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=iee(o,l,e);AU(o,m);break e;case 1:a=l;var p=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(rg===null||!rg.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var b=nee(o,a,e);AU(o,b);break e}}o=o.return}while(o!==null)}wee(t)}catch(C){e=C,jr===t&&t!==null&&(jr=t=t.return);continue}break}while(!0)}function yee(){var n=rE.current;return rE.current=nE,n===null?nE:n}function T7(){(to===0||to===3||to===2)&&(to=4),So===null||!(Am&268435455)&&!(zN&268435455)||Tf(So,Vo)}function aE(n,e){var t=Gi;Gi|=2;var i=yee();(So!==n||Vo!==e)&&(Ru=null,_m(n,e));do try{yve();break}catch(r){bee(n,r)}while(!0);if(d7(),Gi=t,rE.current=i,jr!==null)throw Error(Xe(261));return So=null,Vo=0,to}function yve(){for(;jr!==null;)Cee(jr)}function Cve(){for(;jr!==null&&!q_e();)Cee(jr)}function Cee(n){var e=xee(n.alternate,n,Va);n.memoizedProps=n.pendingProps,e===null?wee(n):jr=e,S7.current=null}function wee(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=gve(t,e),t!==null){t.flags&=32767,jr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{to=6,jr=null;return}}else if(t=fve(t,e,Va),t!==null){jr=t;return}if(e=e.sibling,e!==null){jr=e;return}jr=e=n}while(e!==null);to===0&&(to=5)}function Wp(n,e,t){var i=_n,r=Bl.transition;try{Bl.transition=null,_n=1,wve(n,e,t,i)}finally{Bl.transition=r,_n=i}return null}function wve(n,e,t,i){do Cv();while(Of!==null);if(Gi&6)throw Error(Xe(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Xe(177));n.callbackNode=null,n.callbackPriority=0;var o=t.lanes|t.childLanes;if(i0e(n,o),n===So&&(jr=So=null,Vo=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||ek||(ek=!0,Lee(zT,function(){return Cv(),null})),o=(t.flags&15990)!==0,t.subtreeFlags&15990||o){o=Bl.transition,Bl.transition=null;var s=_n;_n=1;var a=Gi;Gi|=4,S7.current=null,mve(n,t),mee(t,n),z0e(R5),UT=!!M5,R5=M5=null,n.current=t,_ve(t),K_e(),Gi=a,_n=s,Bl.transition=o}else n.current=t;if(ek&&(ek=!1,Of=n,sE=r),o=n.pendingLanes,o===0&&(rg=null),Y_e(t.stateNode),Ca(n,Nr()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(oE)throw oE=!1,n=e4,e4=null,n;return sE&1&&n.tag!==0&&Cv(),o=n.pendingLanes,o&1?n===t4?ww++:(ww=0,t4=n):ww=0,sp(),null}function Cv(){if(Of!==null){var n=tJ(sE),e=Bl.transition,t=_n;try{if(Bl.transition=null,_n=16>n?16:n,Of===null)var i=!1;else{if(n=Of,Of=null,sE=0,Gi&6)throw Error(Xe(331));var r=Gi;for(Gi|=4,Lt=n.current;Lt!==null;){var o=Lt,s=o.child;if(Lt.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Lt=c;Lt!==null;){var d=Lt;switch(d.tag){case 0:case 11:case 15:yw(8,d,o)}var u=d.child;if(u!==null)u.return=d,Lt=u;else for(;Lt!==null;){d=Lt;var h=d.sibling,f=d.return;if(fee(d),d===c){Lt=null;break}if(h!==null){h.return=f,Lt=h;break}Lt=f}}}var g=o.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var y=_.sibling;_.sibling=null,_=y}while(_!==null)}}Lt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Lt=s;else e:for(;Lt!==null;){if(o=Lt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:yw(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,Lt=m;break e}Lt=o.return}}var p=n.current;for(Lt=p;Lt!==null;){s=Lt;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,Lt=v;else e:for(s=p;Lt!==null;){if(a=Lt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:HN(9,a)}}catch(C){wr(a,a.return,C)}if(a===s){Lt=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,Lt=b;break e}Lt=a.return}}if(Gi=r,sp(),Gd&&typeof Gd.onPostCommitFiberRoot=="function")try{Gd.onPostCommitFiberRoot(MN,n)}catch{}i=!0}return i}finally{_n=t,Bl.transition=e}}return!1}function n$(n,e,t){e=ob(t,e),e=iee(n,e,1),n=ng(n,e,1),e=Os(),n!==null&&(fx(n,1,e),Ca(n,e))}function wr(n,e,t){if(n.tag===3)n$(n,n,t);else for(;e!==null;){if(e.tag===3){n$(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(rg===null||!rg.has(i))){n=ob(t,n),n=nee(e,n,1),e=ng(e,n,1),n=Os(),e!==null&&(fx(e,1,n),Ca(e,n));break}}e=e.return}}function Sve(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Os(),n.pingedLanes|=n.suspendedLanes&t,So===n&&(Vo&t)===t&&(to===4||to===3&&(Vo&130023424)===Vo&&500>Nr()-L7?_m(n,0):x7|=t),Ca(n,e)}function See(n,e){e===0&&(n.mode&1?(e=UL,UL<<=1,!(UL&130023424)&&(UL=4194304)):e=1);var t=Os();n=wh(n,e),n!==null&&(fx(n,e,t),Ca(n,t))}function xve(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),See(n,t)}function Lve(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Xe(314))}i!==null&&i.delete(e),See(n,t)}var xee;xee=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||ba.current)ga=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return ga=!1,hve(n,e,t);ga=!!(n.flags&131072)}else ga=!1,nr&&e.flags&1048576&&DJ(e,XT,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;WD(n,e),n=e.pendingProps;var r=tb(e,ms.current);yv(e,t),r=v7(null,e,i,n,r,t);var o=b7();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ya(i)?(o=!0,ZT(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,f7(e),r.updater=WN,e.stateNode=r,r._reactInternals=e,j5(e,i,n,t),e=q5(null,e,i,!0,o,t)):(e.tag=0,nr&&o&&s7(e),Is(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(WD(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=Dve(i),n=dc(i,n),r){case 0:e=$5(null,e,i,n,t);break e;case 1:e=KU(null,e,i,n,t);break e;case 11:e=$U(null,e,i,n,t);break e;case 14:e=qU(null,e,i,dc(i.type,n),t);break e}throw Error(Xe(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:dc(i,r),$5(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:dc(i,r),KU(n,e,i,r,t);case 3:e:{if(aee(e),n===null)throw Error(Xe(387));i=e.pendingProps,o=e.memoizedState,r=o.element,NJ(n,e),eE(e,i,null,t);var s=e.memoizedState;if(i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=ob(Error(Xe(423)),e),e=GU(n,e,i,t,r);break e}else if(i!==r){r=ob(Error(Xe(424)),e),e=GU(n,e,i,t,r);break e}else for($a=ig(e.stateNode.containerInfo.firstChild),Za=e,nr=!0,vc=null,t=AJ(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(ib(),i===r){e=Sh(n,e,t);break e}Is(n,e,i,t)}e=e.child}return e;case 5:return OJ(e),n===null&&V5(e),i=e.type,r=e.pendingProps,o=n!==null?n.memoizedProps:null,s=r.children,A5(i,r)?s=null:o!==null&&A5(i,o)&&(e.flags|=32),see(n,e),Is(n,e,s,t),e.child;case 6:return n===null&&V5(e),null;case 13:return lee(n,e,t);case 4:return g7(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=nb(e,null,i,t):Is(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:dc(i,r),$U(n,e,i,r,t);case 7:return Is(n,e,e.pendingProps,t),e.child;case 8:return Is(n,e,e.pendingProps.children,t),e.child;case 12:return Is(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,s=r.value,Wn(QT,i._currentValue),i._currentValue=s,o!==null)if(Wc(o.value,s)){if(o.children===r.children&&!ba.current){e=Sh(n,e,t);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(o.tag===1){l=lh(-1,t&-t),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),H5(o.return,t,e),a.lanes|=t;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Xe(341));s.lanes|=t,a=s.alternate,a!==null&&(a.lanes|=t),H5(s,t,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Is(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,yv(e,t),r=Hl(r),i=i(r),e.flags|=1,Is(n,e,i,t),e.child;case 14:return i=e.type,r=dc(i,e.pendingProps),r=dc(i.type,r),qU(n,e,i,r,t);case 15:return ree(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:dc(i,r),WD(n,e),e.tag=1,ya(i)?(n=!0,ZT(e)):n=!1,yv(e,t),MJ(e,i,r),j5(e,i,r,t),q5(null,e,i,!0,n,t);case 19:return cee(n,e,t);case 22:return oee(n,e,t)}throw Error(Xe(156,e.tag))};function Lee(n,e){return XQ(n,e)}function kve(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function El(n,e,t,i){return new kve(n,e,t,i)}function E7(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Dve(n){if(typeof n=="function")return E7(n)?1:0;if(n!=null){if(n=n.$$typeof,n===GB)return 11;if(n===ZB)return 14}return 2}function sg(n,e){var t=n.alternate;return t===null?(t=El(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function zD(n,e,t,i,r,o){var s=2;if(i=n,typeof n=="function")E7(n)&&(s=1);else if(typeof n=="string")s=5;else e:switch(n){case M0:return vm(t.children,r,o,e);case KB:s=8,r|=8;break;case f5:return n=El(12,t,e,r|2),n.elementType=f5,n.lanes=o,n;case g5:return n=El(13,t,e,r),n.elementType=g5,n.lanes=o,n;case p5:return n=El(19,t,e,r),n.elementType=p5,n.lanes=o,n;case RQ:return jN(t,r,o,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case PQ:s=10;break e;case MQ:s=9;break e;case GB:s=11;break e;case ZB:s=14;break e;case Cf:s=16,i=null;break e}throw Error(Xe(130,n==null?n:typeof n,""))}return e=El(s,t,e,r),e.elementType=n,e.type=i,e.lanes=o,e}function vm(n,e,t,i){return n=El(7,n,i,e),n.lanes=t,n}function jN(n,e,t,i){return n=El(22,n,i,e),n.elementType=RQ,n.lanes=t,n.stateNode={isHidden:!1},n}function UR(n,e,t){return n=El(6,n,null,e),n.lanes=t,n}function $R(n,e,t){return e=El(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Tve(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=LR(0),this.expirationTimes=LR(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=LR(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function I7(n,e,t,i,r,o,s,a,l){return n=new Tve(n,e,t,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=El(3,null,null,e),n.current=o,o.stateNode=n,o.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},f7(o),n}function Eve(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P0,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function kee(n){if(!n)return kg;n=n._reactInternals;e:{if(y_(n)!==n||n.tag!==1)throw Error(Xe(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ya(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Xe(171))}if(n.tag===1){var t=n.type;if(ya(t))return LJ(n,t,e)}return e}function Dee(n,e,t,i,r,o,s,a,l){return n=I7(t,i,!0,n,r,o,s,a,l),n.context=kee(null),t=n.current,i=Os(),r=og(t),o=lh(i,r),o.callback=e??null,ng(t,o,r),n.current.lanes=r,fx(n,r,i),Ca(n,i),n}function UN(n,e,t,i){var r=e.current,o=Os(),s=og(r);return t=kee(t),e.context===null?e.context=t:e.pendingContext=t,e=lh(o,s),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=ng(r,e,s),n!==null&&(Nc(n,r,s,o),OD(n,r,s)),s}function lE(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function r$(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function N7(n,e){r$(n,e),(n=n.alternate)&&r$(n,e)}function Ive(){return null}var Tee=typeof reportError=="function"?reportError:function(n){console.error(n)};function P7(n){this._internalRoot=n}$N.prototype.render=P7.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Xe(409));UN(n,e,null,null)};$N.prototype.unmount=P7.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Om(function(){UN(null,n,null,null)}),e[Ch]=null}};function $N(n){this._internalRoot=n}$N.prototype.unstable_scheduleHydration=function(n){if(n){var e=rJ();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Df.length&&e!==0&&e<Df[t].priority;t++);Df.splice(t,0,n),t===0&&sJ(n)}};function M7(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function qN(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function o$(){}function Nve(n,e,t,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var c=lE(s);o.call(c)}}var s=Dee(e,i,n,0,null,!1,!1,"",o$);return n._reactRootContainer=s,n[Ch]=s.current,m1(n.nodeType===8?n.parentNode:n),Om(),s}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=lE(l);a.call(c)}}var l=I7(n,0,!1,null,null,!1,!1,"",o$);return n._reactRootContainer=l,n[Ch]=l.current,m1(n.nodeType===8?n.parentNode:n),Om(function(){UN(e,l,t,i)}),l}function KN(n,e,t,i,r){var o=t._reactRootContainer;if(o){var s=o;if(typeof r=="function"){var a=r;r=function(){var l=lE(s);a.call(l)}}UN(e,s,n,r)}else s=Nve(t,e,n,r,i);return lE(s)}iJ=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=FC(e.pendingLanes);t!==0&&(QB(e,t|1),Ca(e,Nr()),!(Gi&6)&&(sb=Nr()+500,sp()))}break;case 13:Om(function(){var i=wh(n,1);if(i!==null){var r=Os();Nc(i,n,1,r)}}),N7(n,1)}};JB=function(n){if(n.tag===13){var e=wh(n,134217728);if(e!==null){var t=Os();Nc(e,n,134217728,t)}N7(n,134217728)}};nJ=function(n){if(n.tag===13){var e=og(n),t=wh(n,e);if(t!==null){var i=Os();Nc(t,n,e,i)}N7(n,e)}};rJ=function(){return _n};oJ=function(n,e){var t=_n;try{return _n=n,e()}finally{_n=t}};L5=function(n,e,t){switch(e){case"input":if(v5(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=FN(i);if(!r)throw Error(Xe(90));OQ(i),v5(i,r)}}}break;case"textarea":BQ(n,t);break;case"select":e=t.value,e!=null&&mv(n,!!t.multiple,e,!1)}};$Q=k7;qQ=Om;var Pve={usingClientEntryPoint:!1,Events:[px,F0,FN,jQ,UQ,k7]},nC={findFiberByHostInstance:nm,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Mve={bundleType:nC.bundleType,version:nC.version,rendererPackageName:nC.rendererPackageName,rendererConfig:nC.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rh.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=ZQ(n),n===null?null:n.stateNode},findFiberByHostInstance:nC.findFiberByHostInstance||Ive,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tk.isDisabled&&tk.supportsFiber)try{MN=tk.inject(Mve),Gd=tk}catch{}}al.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pve;al.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!M7(e))throw Error(Xe(200));return Eve(n,e,null,t)};al.createRoot=function(n,e){if(!M7(n))throw Error(Xe(299));var t=!1,i="",r=Tee;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=I7(n,1,!1,null,null,t,!1,i,r),n[Ch]=e.current,m1(n.nodeType===8?n.parentNode:n),new P7(e)};al.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Xe(188)):(n=Object.keys(n).join(","),Error(Xe(268,n)));return n=ZQ(e),n=n===null?null:n.stateNode,n};al.flushSync=function(n){return Om(n)};al.hydrate=function(n,e,t){if(!qN(e))throw Error(Xe(200));return KN(null,n,e,!0,t)};al.hydrateRoot=function(n,e,t){if(!M7(n))throw Error(Xe(405));var i=t!=null&&t.hydratedSources||null,r=!1,o="",s=Tee;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),e=Dee(e,null,n,1,t??null,r,!1,o,s),n[Ch]=e.current,m1(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new $N(e)};al.render=function(n,e,t){if(!qN(e))throw Error(Xe(200));return KN(null,n,e,!1,t)};al.unmountComponentAtNode=function(n){if(!qN(n))throw Error(Xe(40));return n._reactRootContainer?(Om(function(){KN(null,null,n,!1,function(){n._reactRootContainer=null,n[Ch]=null})}),!0):!1};al.unstable_batchedUpdates=k7;al.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!qN(t))throw Error(Xe(200));if(n==null||n._reactInternals===void 0)throw Error(Xe(38));return KN(n,e,t,!1,i)};al.version="18.2.0-next-9e3b772b8-20220608";function Eee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Eee)}catch(n){console.error(n)}}Eee(),DQ.exports=al;var xh=DQ.exports,s$=xh;u5.createRoot=s$.createRoot,u5.hydrateRoot=s$.hydrateRoot;var WC={},Iee={},Nee={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var i=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var s=typeof o;if(s==="string"||s==="number")i.push(o);else if(Array.isArray(o)){if(o.length){var a=t.apply(null,o);a&&i.push(a)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){i.push(o.toString());continue}for(var l in o)e.call(o,l)&&o[l]&&i.push(l)}}}return i.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(Nee);var ii=Nee.exports,Pee={exports:{}},lc={};function R7(){for(var n,e,t=0,i="";t<arguments.length;)(n=arguments[t++])&&(e=Mee(n))&&(i&&(i+=" "),i+=e);return i}function Mee(n){if(typeof n=="string")return n;for(var e,t="",i=0;i<n.length;i++)n[i]&&(e=Mee(n[i]))&&(t&&(t+=" "),t+=e);return t}function r4(){return r4=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},r4.apply(this,arguments)}function Rve(n){var e=function(t){var i=t.theme,r=t.prefix,o={nextPart:new Map,validators:[]};return function(s,a){return a?s.map(function(l){return[l[0],l[1].map(function(c){return typeof c=="string"?a+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(function(d){return[a+d[0],d[1]]})):c})]}):s}(Object.entries(t.classGroups),r).forEach(function(s){o4(s[1],o,s[0],i)}),o}(n);return{getClassGroupId:function(t){var i=t.split("-");return i[0]===""&&i.length!==1&&i.shift(),Ree(i,e)||function(r){if(a$.test(r)){var o=a$.exec(r)[1],s=o==null?void 0:o.substring(0,o.indexOf(":"));if(s)return"arbitrary.."+s}}(t)},getConflictingClassGroupIds:function(t){return n.conflictingClassGroups[t]||[]}}}function Ree(n,e){var t;if(n.length===0)return e.classGroupId;var i=e.nextPart.get(n[0]),r=i?Ree(n.slice(1),i):void 0;if(r)return r;if(e.validators.length!==0){var o=n.join("-");return(t=e.validators.find(function(s){return(0,s.validator)(o)}))==null?void 0:t.classGroupId}}Object.defineProperty(lc,"__esModule",{value:!0});var a$=/^\[(.+)\]$/;function o4(n,e,t,i){n.forEach(function(r){if(typeof r!="string"){if(typeof r=="function")return r.isThemeGetter?void o4(r(i),e,t,i):void e.validators.push({validator:r,classGroupId:t});Object.entries(r).forEach(function(o){o4(o[1],l$(e,o[0]),t,i)})}else(r===""?e:l$(e,r)).classGroupId=t})}function l$(n,e){var t=n;return e.split("-").forEach(function(i){t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t}function Ave(n){if(n<1)return{get:function(){},set:function(){}};var e=0,t=new Map,i=new Map;function r(o,s){t.set(o,s),++e>n&&(e=0,i=t,t=new Map)}return{get:function(o){var s=t.get(o);return s!==void 0?s:(s=i.get(o))!==void 0?(r(o,s),s):void 0},set:function(o,s){t.has(o)?t.set(o,s):r(o,s)}}}function Ove(n){var e=n.separator||":";return function(t){for(var i=0,r=[],o=0,s=0;s<t.length;s++){var a=t[s];i===0&&a===e[0]&&(e.length!==1&&t.slice(s,s+e.length)!==e||(r.push(t.slice(o,s)),o=s+e.length)),a==="["?i++:a==="]"&&i--}var l=r.length===0?t:t.substring(o),c=l.startsWith("!");return{modifiers:r,hasImportantModifier:c,baseClassName:c?l.substring(1):l}}}function Fve(n){return r4({cache:Ave(n.cacheSize),splitModifiers:Ove(n)},Rve(n))}var Bve=/\s+/;function Wve(n,e){var t=e.splitModifiers,i=e.getClassGroupId,r=e.getConflictingClassGroupIds,o=new Set;return n.trim().split(Bve).map(function(s){var a=t(s),l=a.modifiers,c=a.hasImportantModifier,d=i(a.baseClassName);if(!d)return{isTailwindClass:!1,originalClassName:s};var u=function(h){if(h.length<=1)return h;var f=[],g=[];return h.forEach(function(_){_[0]==="["?(f.push.apply(f,g.sort().concat([_])),g=[]):g.push(_)}),f.push.apply(f,g.sort()),f}(l).join(":");return{isTailwindClass:!0,modifierId:c?u+"!":u,classGroupId:d,originalClassName:s}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var a=s.modifierId,l=s.classGroupId,c=a+l;return!o.has(c)&&(o.add(c),r(l).forEach(function(d){return o.add(a+d)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function s4(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var i,r,o,s=a;function a(c){var d=e[0],u=e.slice(1).reduce(function(h,f){return f(h)},d());return i=Fve(u),r=i.cache.get,o=i.cache.set,s=l,l(c)}function l(c){var d=r(c);if(d)return d;var u=Wve(c,i);return o(c,u),u}return function(){return s(R7.apply(null,arguments))}}function Un(n){var e=function(t){return t[n]||[]};return e.isThemeGetter=!0,e}var ap=/^\[(.+)\]$/,Vve=/^\d+\/\d+$/,Hve=new Set(["px","full","screen"]),zve=/^(\d+)?(xs|sm|md|lg|xl)$/,jve=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh)/,Uve=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function vl(n){return!Number.isNaN(Number(n))||Hve.has(n)||Vve.test(n)||Sf(n)}function Sf(n){var e,t=(e=ap.exec(n))==null?void 0:e[1];return!!t&&(t.startsWith("length:")||jve.test(t))}function Aee(n){var e,t=(e=ap.exec(n))==null?void 0:e[1];return!!t&&t.startsWith("size:")}function Oee(n){var e,t=(e=ap.exec(n))==null?void 0:e[1];return!!t&&t.startsWith("position:")}function Fee(n){var e,t=(e=ap.exec(n))==null?void 0:e[1];return!!t&&(t.startsWith("url(")||t.startsWith("url:"))}function cE(n){var e,t=(e=ap.exec(n))==null?void 0:e[1];return!!t&&(!Number.isNaN(Number(t))||t.startsWith("number:"))}function ts(n){var e,t=(e=ap.exec(n))==null?void 0:e[1];return Number.isInteger(Number(t||n))}function po(n){return ap.test(n)}function x0(){return!0}function Pu(n){return zve.test(n)}function Bee(n){var e,t=(e=ap.exec(n))==null?void 0:e[1];return!!t&&Uve.test(t)}var $ve={__proto__:null,isLength:vl,isArbitraryLength:Sf,isArbitrarySize:Aee,isArbitraryPosition:Oee,isArbitraryUrl:Fee,isArbitraryNumber:cE,isArbitraryWeight:cE,isInteger:ts,isArbitraryValue:po,isAny:x0,isTshirtSize:Pu,isArbitraryShadow:Bee};function jD(){var n=Un("colors"),e=Un("spacing"),t=Un("blur"),i=Un("brightness"),r=Un("borderColor"),o=Un("borderRadius"),s=Un("borderSpacing"),a=Un("borderWidth"),l=Un("contrast"),c=Un("grayscale"),d=Un("hueRotate"),u=Un("invert"),h=Un("gap"),f=Un("gradientColorStops"),g=Un("inset"),_=Un("margin"),y=Un("opacity"),m=Un("padding"),p=Un("saturate"),v=Un("scale"),b=Un("sepia"),C=Un("skew"),S=Un("space"),x=Un("translate"),k=function(){return["auto",e]},D=function(){return["",vl]},E=function(){return["auto",ts]},I=function(){return["","0",po]};return{cacheSize:500,theme:{colors:[x0],spacing:[vl],blur:["none","",Pu,Sf],brightness:[ts],borderColor:[n],borderRadius:["none","","full",Pu,Sf],borderSpacing:[e],borderWidth:D(),contrast:[ts],grayscale:I(),hueRotate:[ts],invert:I(),gap:[e],gradientColorStops:[n],inset:k(),margin:k(),opacity:[ts],padding:[e],saturate:[ts],scale:[ts],sepia:I(),skew:[ts,po],space:[e],translate:[e]},classGroups:{aspect:[{aspect:["auto","square","video",po]}],container:["container"],columns:[{columns:[Pu]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[po])}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:[ts]}],basis:[{basis:[e]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",po]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",ts]}],"grid-cols":[{"grid-cols":[x0]}],"col-start-end":[{col:["auto",{span:[ts]}]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[x0]}],"row-start-end":[{row:["auto",{span:[ts]}]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",po]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",po]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["start","end","center","between","around","evenly"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:[].concat(["start","end","center","between","around","evenly"],["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(["start","end","center","between","around","evenly"],["baseline","stretch"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",e]}],"min-w":[{"min-w":["min","max","fit",vl]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Pu]},Pu,Sf]}],h:[{h:[e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",vl]}],"max-h":[{"max-h":[e,"min","max","fit"]}],"font-size":[{text:["base",Pu,Sf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cE]}],"font-family":[{font:[x0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Sf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vl]}],"list-style-type":[{list:["none","disc","decimal",po]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(["solid","dashed","dotted","double","none"],["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",vl]}],"underline-offset":[{"underline-offset":["auto",vl]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:[e]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Sf]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap"]}],break:[{break:["normal","words","all","keep"]}],content:[{content:["none",po]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[Oee])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Aee]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Fee]}],"bg-color":[{bg:[n]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[].concat(["solid","dashed","dotted","double","none"],["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:[""].concat(["solid","dashed","dotted","double","none"])}],"outline-offset":[{"outline-offset":[vl]}],"outline-w":[{outline:[vl]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[vl]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Pu,Bee]}],"shadow-color":[{shadow:[x0]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[i]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Pu,po]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[p]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[p]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",po]}],duration:[{duration:[ts]}],ease:[{ease:["linear","in","out","in-out",po]}],delay:[{delay:[ts]}],animate:[{animate:["none","spin","ping","pulse","bounce",po]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[ts,po]}],"translate-x":[{"translate-x":[x]}],"translate-y":[{"translate-y":[x]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",po]}],accent:[{accent:["auto",n]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",po]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":[e]}],"scroll-mx":[{"scroll-mx":[e]}],"scroll-my":[{"scroll-my":[e]}],"scroll-mt":[{"scroll-mt":[e]}],"scroll-mr":[{"scroll-mr":[e]}],"scroll-mb":[{"scroll-mb":[e]}],"scroll-ml":[{"scroll-ml":[e]}],"scroll-p":[{"scroll-p":[e]}],"scroll-px":[{"scroll-px":[e]}],"scroll-py":[{"scroll-py":[e]}],"scroll-pt":[{"scroll-pt":[e]}],"scroll-pr":[{"scroll-pr":[e]}],"scroll-pb":[{"scroll-pb":[e]}],"scroll-pl":[{"scroll-pl":[e]}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",po]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[vl,cE]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-t","rounded-r","rounded-b","rounded-l","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]}}}var qve=s4(jD);function c$(n,e){for(var t in e)Wee(n,t,e[t]);return n}var Kve=Object.prototype.hasOwnProperty,Gve=new Set(["string","number","boolean"]);function Wee(n,e,t){if(Kve.call(n,e)&&!Gve.has(typeof t)&&t!==null){if(Array.isArray(t)&&Array.isArray(n[e]))n[e]=n[e].concat(t);else if(typeof t=="object"&&typeof n[e]=="object"){if(n[e]===null)return void(n[e]=t);for(var i in t)Wee(n[e],i,t[i])}}else n[e]=t}var Zve=R7;lc.createTailwindMerge=s4,lc.extendTailwindMerge=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return s4.apply(void 0,typeof n=="function"?[jD,n].concat(t):[function(){return c$(jD(),n)}].concat(t))},lc.fromTheme=Un,lc.getDefaultConfig=jD,lc.join=Zve,lc.mergeConfigs=c$,lc.twJoin=R7,lc.twMerge=qve,lc.validators=$ve;Pee.exports=lc;var Rt=Pee.exports,At={},Vee={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});function e(l,c){(c==null||c>l.length)&&(c=l.length);for(var d=0,u=new Array(c);d<c;d++)u[d]=l[d];return u}function t(l){if(Array.isArray(l))return e(l)}function i(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(l){return t(l)||i(l)||s(l)||r()}function s(l,c){if(l){if(typeof l=="string")return e(l,c);var d=Object.prototype.toString.call(l).slice(8,-1);if(d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set")return Array.from(d);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return e(l,c)}}function a(l){var c=[];return Object.values(l).forEach(function(d){typeof d=="string"?c=o(c).concat([d]):typeof d=="object"&&!Array.isArray(d)&&d!==null&&(c=o(c).concat(o(a(d))))}),c}})(Vee);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var e=t(Vee);function t(r){return r&&r.__esModule?r:{default:r}}function i(r){return(0,e.default)(r).join(" ")}})(At);var Et={},Hee={exports:{}},Yve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Xve=Yve,Qve=Xve;function zee(){}function jee(){}jee.resetWarningCache=zee;var Jve=function(){function n(i,r,o,s,a,l){if(l!==Qve){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:jee,resetWarningCache:zee};return t.PropTypes=t,t};Hee.exports=Jve();var Vt=Hee.exports,ebe=function(e){return tbe(e)&&!ibe(e)};function tbe(n){return!!n&&typeof n=="object"}function ibe(n){var e=Object.prototype.toString.call(n);return e==="[object RegExp]"||e==="[object Date]"||obe(n)}var nbe=typeof Symbol=="function"&&Symbol.for,rbe=nbe?Symbol.for("react.element"):60103;function obe(n){return n.$$typeof===rbe}function sbe(n){return Array.isArray(n)?[]:{}}function L1(n,e){return e.clone!==!1&&e.isMergeableObject(n)?ab(sbe(n),n,e):n}function abe(n,e,t){return n.concat(e).map(function(i){return L1(i,t)})}function lbe(n,e){if(!e.customMerge)return ab;var t=e.customMerge(n);return typeof t=="function"?t:ab}function cbe(n){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n).filter(function(e){return n.propertyIsEnumerable(e)}):[]}function d$(n){return Object.keys(n).concat(cbe(n))}function Uee(n,e){try{return e in n}catch{return!1}}function dbe(n,e){return Uee(n,e)&&!(Object.hasOwnProperty.call(n,e)&&Object.propertyIsEnumerable.call(n,e))}function ube(n,e,t){var i={};return t.isMergeableObject(n)&&d$(n).forEach(function(r){i[r]=L1(n[r],t)}),d$(e).forEach(function(r){dbe(n,r)||(Uee(n,r)&&t.isMergeableObject(e[r])?i[r]=lbe(r,t)(n[r],e[r],t):i[r]=L1(e[r],t))}),i}function ab(n,e,t){t=t||{},t.arrayMerge=t.arrayMerge||abe,t.isMergeableObject=t.isMergeableObject||ebe,t.cloneUnlessOtherwiseSpecified=L1;var i=Array.isArray(e),r=Array.isArray(n),o=i===r;return o?i?t.arrayMerge(n,e,t):ube(n,e,t):L1(e,t)}ab.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(i,r){return ab(i,r,t)},{})};var hbe=ab,Ko=hbe,A7={},$ee={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{accordion:function(){return t},default:function(){return i}});var t={defaultProps:{icon:void 0,className:"",animate:{unmount:{},mount:{}},disabled:!1},styles:{base:{container:{display:"block",position:"relative",width:"w-full"},header:{initial:{display:"flex",justifyContent:"justify-between",alignItems:"items-center",width:"w-full",py:"py-4",borderWidth:"border-b border-b-blue-gray-100",color:"text-blue-gray-700",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-xl",textAlign:"text-left",fontWeight:"font-semibold",lineHeight:"leading-snug",userSelect:"select-none",hover:"hover:text-blue-gray-900",transition:"transition-colors"},active:{color:"text-blue-gray-900"},icon:{ml:"ml-4"}},body:{display:"block",width:"w-full",py:"py-4",color:"text-gray-700",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-sm",fontWeight:"font-light",lineHeight:"leading-normal"},disabled:{pointerEvents:"pointer-events-none",opacity:"opacity-50"}}}},i=t})($ee);var qee={},Kee={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{backgroud:"bg-blue-gray-500",color:"text-white"},gray:{backgroud:"bg-gray-900",color:"text-white"},brown:{backgroud:"bg-brown-500",color:"text-white"},"deep-orange":{backgroud:"bg-deep-orange-500",color:"text-white"},orange:{backgroud:"bg-orange-500",color:"text-white"},amber:{backgroud:"bg-amber-500",color:"text-black"},yellow:{backgroud:"bg-yellow-500",color:"text-black"},lime:{backgroud:"bg-lime-500",color:"text-black"},"light-green":{backgroud:"bg-light-green-500",color:"text-white"},green:{backgroud:"bg-green-500",color:"text-white"},teal:{backgroud:"bg-teal-500",color:"text-white"},cyan:{backgroud:"bg-cyan-500",color:"text-white"},"light-blue":{backgroud:"bg-light-blue-500",color:"text-white"},blue:{backgroud:"bg-blue-500",color:"text-white"},indigo:{backgroud:"bg-indigo-500",color:"text-white"},"deep-purple":{backgroud:"bg-deep-purple-500",color:"text-white"},purple:{backgroud:"bg-purple-500",color:"text-white"},pink:{backgroud:"bg-pink-500",color:"text-white"},red:{backgroud:"bg-red-500",color:"text-white"}},t=e})(Kee);var Gee={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{backgroud:"bg-gradient-to-tr from-blue-gray-600 to-blue-gray-400",color:"text-white"},gray:{backgroud:"bg-gradient-to-tr from-gray-900 to-gray-800",color:"text-white"},brown:{backgroud:"bg-gradient-to-tr from-brown-600 to-brown-400",color:"text-white"},"deep-orange":{backgroud:"bg-gradient-to-tr from-deep-orange-600 to-deep-orange-400",color:"text-white"},orange:{backgroud:"bg-gradient-to-tr from-orange-600 to-orange-400",color:"text-white"},amber:{backgroud:"bg-gradient-to-tr from-amber-600 to-amber-400",color:"text-black"},yellow:{backgroud:"bg-gradient-to-tr from-yellow-600 to-yellow-400",color:"text-black"},lime:{backgroud:"bg-gradient-to-tr from-lime-600 to-lime-400",color:"text-black"},"light-green":{backgroud:"bg-gradient-to-tr from-light-green-600 to-light-green-400",color:"text-white"},green:{backgroud:"bg-gradient-to-tr from-green-600 to-green-400",color:"text-white"},teal:{backgroud:"bg-gradient-to-tr from-teal-600 to-teal-400",color:"text-white"},cyan:{backgroud:"bg-gradient-to-tr from-cyan-600 to-cyan-400",color:"text-white"},"light-blue":{backgroud:"bg-gradient-to-tr from-light-blue-600 to-light-blue-400",color:"text-white"},blue:{backgroud:"bg-gradient-to-tr from-blue-600 to-blue-400",color:"text-white"},indigo:{backgroud:"bg-gradient-to-tr from-indigo-600 to-indigo-400",color:"text-white"},"deep-purple":{backgroud:"bg-gradient-to-tr from-deep-purple-600 to-deep-purple-400",color:"text-white"},purple:{backgroud:"bg-gradient-to-tr from-purple-600 to-purple-400",color:"text-white"},pink:{backgroud:"bg-gradient-to-tr from-pink-600 to-pink-400",color:"text-white"},red:{backgroud:"bg-gradient-to-tr from-red-600 to-red-400",color:"text-white"}},t=e})(Gee);var Zee={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{border:"border border-blue-gray-500",color:"text-blue-gray-700"},gray:{border:"border border-gray-900",color:"text-gray-900"},brown:{border:"border border-brown-500",color:"text-brown-700"},"deep-orange":{border:"border border-deep-orange-500",color:"text-deep-orange-700"},orange:{border:"border border-orange-500",color:"text-orange-700"},amber:{border:"border border-amber-500",color:"text-amber-700"},yellow:{border:"border border-yellow-500",color:"text-yellow-700"},lime:{border:"border border-lime-500",color:"text-lime-700"},"light-green":{border:"border border-light-green-500",color:"text-light-green-700"},green:{border:"border border-green-500",color:"text-green-700"},teal:{border:"border border-teal-500",color:"text-teal-700"},cyan:{border:"border border-cyan-500",color:"text-cyan-700"},"light-blue":{border:"border border-light-blue-500",color:"text-light-blue-700"},blue:{border:"border border-blue-500",color:"text-blue-700"},indigo:{border:"border border-indigo-500",color:"text-indigo-700"},"deep-purple":{border:"border border-deep-purple-500",color:"text-deep-purple-700"},purple:{border:"border border-purple-500",color:"text-purple-700"},pink:{border:"border border-pink-500",color:"text-pink-700"},red:{border:"border border-red-500",color:"text-red-700"}},t=e})(Zee);var Yee={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{backgroud:"bg-blue-gray-500/20",color:"text-blue-gray-900"},gray:{backgroud:"bg-gray-900/10",color:"text-gray-900"},brown:{backgroud:"bg-brown-500/20",color:"text-brown-900"},"deep-orange":{backgroud:"bg-deep-orange-500/20",color:"text-deep-orange-900"},orange:{backgroud:"bg-orange-500/20",color:"text-orange-900"},amber:{backgroud:"bg-amber-500/20",color:"text-amber-900"},yellow:{backgroud:"bg-yellow-500/20",color:"text-yellow-900"},lime:{backgroud:"bg-lime-500/20",color:"text-lime-900"},"light-green":{backgroud:"bg-light-green-500/20",color:"text-light-green-900"},green:{backgroud:"bg-green-500/20",color:"text-green-900"},teal:{backgroud:"bg-teal-500/20",color:"text-teal-900"},cyan:{backgroud:"bg-cyan-500/20",color:"text-cyan-900"},"light-blue":{backgroud:"bg-light-blue-500/20",color:"text-light-blue-900"},blue:{backgroud:"bg-blue-500/20",color:"text-blue-900"},indigo:{backgroud:"bg-indigo-500/20",color:"text-indigo-900"},"deep-purple":{backgroud:"bg-deep-purple-500/20",color:"text-deep-purple-900"},purple:{backgroud:"bg-purple-500/20",color:"text-purple-900"},pink:{backgroud:"bg-pink-500/20",color:"text-pink-900"},red:{backgroud:"bg-red-500/20",color:"text-red-900"}},t=e})(Yee);var O7={},Xn={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(c,d){for(var u in d)Object.defineProperty(c,u,{enumerable:!0,get:d[u]})}e(n,{propTypesColors:function(){return r},propTypesAnimation:function(){return o},propTypesDismissType:function(){return s},propTypesOffsetType:function(){return a},propTypesPlacements:function(){return l}});var t=i(Vt);function i(c){return c&&c.__esModule?c:{default:c}}var r=["blue-gray","gray","brown","deep-orange","orange","amber","yellow","lime","light-green","green","teal","cyan","light-blue","blue","indigo","deep-purple","purple","pink","red"],o=t.default.shape({mount:t.default.instanceOf(Object),unmount:t.default.instanceOf(Object)}),s=t.default.shape({enabled:t.default.bool,escapeKey:t.default.bool,referencePress:t.default.bool,referencePressEvent:t.default.oneOf(["pointerdown","mousedown","click"]),outsidePress:t.default.oneOfType([t.default.bool,t.default.func]),outsidePressEvent:t.default.oneOf(["pointerdown","mousedown","click"]),ancestorScroll:t.default.bool,bubbles:t.default.oneOfType([t.default.bool,t.default.shape({escapeKey:t.default.bool,outsidePress:t.default.bool})])}),a=t.default.oneOfType([t.default.number,t.default.shape({mainAxis:t.default.number,crossAxis:t.default.number,alignmentAxis:t.default.number})]),l=["top-start","top","top-end","right-start","right","right-end","bottom-start","bottom","bottom-end","left-start","left","left-end"]})(Xn);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(g,_){for(var y in _)Object.defineProperty(g,y,{enumerable:!0,get:_[y]})}e(n,{propTypesVariant:function(){return o},propTypesColor:function(){return s},propTypesIcon:function(){return a},propTypesOpen:function(){return l},propTypesOnClose:function(){return c},propTypesAction:function(){return d},propTypesAnimate:function(){return u},propTypesClassName:function(){return h},propTypesChildren:function(){return f}});var t=r(Vt),i=Xn;function r(g){return g&&g.__esModule?g:{default:g}}var o=["filled","gradient","outlined","ghost"],s=i.propTypesColors,a=t.default.node,l=t.default.bool,c=t.default.func,d=t.default.node,u=i.propTypesAnimation,h=t.default.string,f=t.default.node.isRequired})(O7);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(d,u){for(var h in u)Object.defineProperty(d,h,{enumerable:!0,get:u[h]})}e(n,{alert:function(){return l},default:function(){return c}});var t=a(Kee),i=a(Gee),r=a(Zee),o=a(Yee),s=O7;function a(d){return d&&d.__esModule?d:{default:d}}var l={defaultProps:{variant:"filled",color:"gray",icon:void 0,open:!0,action:void 0,onClose:void 0,animate:{unmount:{},mount:{}},className:""},valid:{variants:s.propTypesVariant,colors:s.propTypesColor},styles:{base:{alert:{position:"relative",display:"block",width:"w-full",fontFamily:"font-sans",fontSize:"text-base",fontWeight:"font-regular",px:"px-4",py:"py-4",borderRadius:"rounded-lg"},action:{position:"!absolute",top:"top-3",right:"right-3"}},variants:{filled:t.default,gradient:i.default,outlined:r.default,ghost:o.default}}},c=l})(qee);var Xee={},F7={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(y,m){for(var p in m)Object.defineProperty(y,p,{enumerable:!0,get:m[p]})}e(n,{propTypesVariant:function(){return u},propTypesSize:function(){return h},propTypesClassName:function(){return f},propTypesWithBorder:function(){return g},propTypesColor:function(){return _}});var t=s(Vt),i=Xn;function r(y,m){(m==null||m>y.length)&&(m=y.length);for(var p=0,v=new Array(m);p<m;p++)v[p]=y[p];return v}function o(y){if(Array.isArray(y))return r(y)}function s(y){return y&&y.__esModule?y:{default:y}}function a(y){if(typeof Symbol<"u"&&y[Symbol.iterator]!=null||y["@@iterator"]!=null)return Array.from(y)}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(y){return o(y)||a(y)||d(y)||l()}function d(y,m){if(y){if(typeof y=="string")return r(y,m);var p=Object.prototype.toString.call(y).slice(8,-1);if(p==="Object"&&y.constructor&&(p=y.constructor.name),p==="Map"||p==="Set")return Array.from(p);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return r(y,m)}}var u=["circular","rounded","square"],h=["xs","sm","md","lg","xl","xxl"],f=t.default.string,g=t.default.bool,_=["white"].concat(c(i.propTypesColors))})(F7);var Qee={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={white:{borderColor:"border-white"},"blue-gray":{borderColor:"border-blue-gray-500"},gray:{borderColor:"border-gray-900"},brown:{borderColor:"border-brown-500"},"deep-orange":{borderColor:"border-deep-orange-500"},orange:{borderColor:"border-orange-500"},amber:{borderColor:"border-amber-500"},yellow:{borderColor:"border-yellow-500"},lime:{borderColor:"border-lime-500"},"light-green":{borderColor:"border-light-green-500"},green:{borderColor:"border-green-500"},teal:{borderColor:"border-teal-500"},cyan:{borderColor:"border-cyan-500"},"light-blue":{borderColor:"border-light-blue-500"},blue:{borderColor:"border-blue-500"},indigo:{borderColor:"border-indigo-500"},"deep-purple":{borderColor:"border-deep-purple-500"},purple:{borderColor:"border-purple-500"},pink:{borderColor:"border-pink-500"},red:{borderColor:"border-red-500"}},t=e})(Qee);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(a,l){for(var c in l)Object.defineProperty(a,c,{enumerable:!0,get:l[c]})}e(n,{avatar:function(){return o},default:function(){return s}});var t=F7,i=r(Qee);function r(a){return a&&a.__esModule?a:{default:a}}var o={defaultProps:{variant:"circular",size:"md",className:"",withBorder:!1,color:"gray"},valid:{variants:t.propTypesVariant,sizes:t.propTypesSize,colors:t.propTypesColor},styles:{base:{initial:{display:"inline-block",position:"relative",objectFit:"object-cover",objectPosition:"object-center"},withBorder:{border:"border-2"}},sizes:{xs:{width:"w-6",height:"h-6",borderRadius:"rounded-md"},sm:{width:"w-9",height:"h-9",borderRadius:"rounded-md"},md:{width:"w-12",height:"h-12",borderRadius:"rounded-lg"},lg:{width:"w-[58px]",height:"h-[58px]",borderRadius:"rounded-lg"},xl:{width:"w-[74px]",height:"h-[74px]",borderRadius:"rounded-xl"},xxl:{width:"w-[110px]",height:"h-[110px]",borderRadius:"rounded-2xl"}},variants:{rounded:{},square:{borderRadius:"!rounded-none"},circular:{borderRadius:"!rounded-full"}},borderColor:i.default}},s=o})(Xee);var Jee={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{breadcrumbs:function(){return t},default:function(){return i}});var t={defaultProps:{className:"",fullWidth:!1,separator:"/"},styles:{base:{root:{initial:{width:"w-max"},fullWidth:{display:"block",width:"w-full"}},list:{display:"flex",flexWrap:"flex-wrap",alignItems:"items-center",width:"w-full",bg:"bg-blue-gray-50",bgOpacity:"bg-opacity-60",py:"py-2",px:"px-4",borderRadius:"rounded-md"},item:{initial:{display:"flex",alignItems:"items-center",color:"text-blue-gray-900",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-sm",fontWeight:"font-normal",lineHeight:"leading-normal",cursor:"cursor-pointer",transition:"transition-colors duration-300",hover:"hover:text-light-blue-500"},disabled:{pointerEvents:"pointer-events-none"}},separator:{color:"text-blue-gray-500",fontSize:"text-sm",fontSmoothing:"antialiased",fontFamily:"font-sans",fontWeight:"font-normal",lineHeight:"leading-normal",px:"mx-2",pointerEvents:"pointer-events-none",userSelcet:"select-none"}}}},i=t})(Jee);var ete={},B7={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={white:{background:"bg-white",color:"text-blue-gray-900",shadow:"shadow-md shadow-blue-gray-500/10",hover:"hover:shadow-lg hover:shadow-blue-gray-500/20",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},black:{background:"bg-gray-900",color:"text-white",shadow:"shadow-md shadow-gray-900/10",hover:"hover:shadow-lg hover:shadow-gray-900/20",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},"blue-gray":{background:"bg-blue-gray-500",color:"text-white",shadow:"shadow-md shadow-blue-gray-500/20",hover:"hover:shadow-lg hover:shadow-blue-gray-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},gray:{background:"bg-gray-900",color:"text-white",shadow:"shadow-md shadow-gray-900/10",hover:"hover:shadow-lg hover:shadow-gray-900/20",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},brown:{background:"bg-brown-500",color:"text-white",shadow:"shadow-md shadow-brown-500/20",hover:"hover:shadow-lg hover:shadow-brown-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},"deep-orange":{background:"bg-deep-orange-500",color:"text-white",shadow:"shadow-md shadow-deep-orange-500/20",hover:"hover:shadow-lg hover:shadow-deep-orange-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},orange:{background:"bg-orange-500",color:"text-white",shadow:"shadow-md shadow-orange-500/20",hover:"hover:shadow-lg hover:shadow-orange-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},amber:{background:"bg-amber-500",color:"text-black",shadow:"shadow-md shadow-amber-500/20",hover:"hover:shadow-lg hover:shadow-amber-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},yellow:{background:"bg-yellow-500",color:"text-black",shadow:"shadow-md shadow-yellow-500/20",hover:"hover:shadow-lg hover:shadow-yellow-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},lime:{background:"bg-lime-500",color:"text-black",shadow:"shadow-md shadow-lime-500/20",hover:"hover:shadow-lg hover:shadow-lime-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},"light-green":{background:"bg-light-green-500",color:"text-white",shadow:"shadow-md shadow-light-green-500/20",hover:"hover:shadow-lg hover:shadow-light-green-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},green:{background:"bg-green-500",color:"text-white",shadow:"shadow-md shadow-green-500/20",hover:"hover:shadow-lg hover:shadow-green-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},teal:{background:"bg-teal-500",color:"text-white",shadow:"shadow-md shadow-teal-500/20",hover:"hover:shadow-lg hover:shadow-teal-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},cyan:{background:"bg-cyan-500",color:"text-white",shadow:"shadow-md shadow-cyan-500/20",hover:"hover:shadow-lg hover:shadow-cyan-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},"light-blue":{background:"bg-light-blue-500",color:"text-white",shadow:"shadow-md shadow-light-blue-500/20",hover:"hover:shadow-lg hover:shadow-light-blue-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},blue:{background:"bg-blue-500",color:"text-white",shadow:"shadow-md shadow-blue-500/20",hover:"hover:shadow-lg hover:shadow-blue-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},indigo:{background:"bg-indigo-500",color:"text-white",shadow:"shadow-md shadow-indigo-500/20",hover:"hover:shadow-lg hover:shadow-indigo-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},"deep-purple":{background:"bg-deep-purple-500",color:"text-white",shadow:"shadow-md shadow-deep-purple-500/20",hover:"hover:shadow-lg hover:shadow-deep-purple-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},purple:{background:"bg-purple-500",color:"text-white",shadow:"shadow-md shadow-purple-500/20",hover:"hover:shadow-lg hover:shadow-purple-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},pink:{background:"bg-pink-500",color:"text-white",shadow:"shadow-md shadow-pink-500/20",hover:"hover:shadow-lg hover:shadow-pink-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},red:{background:"bg-red-500",color:"text-white",shadow:"shadow-md shadow-red-500/20",hover:"hover:shadow-lg hover:shadow-red-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"}},t=e})(B7);var W7={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={white:{background:"bg-white",color:"text-blue-gray-900",shadow:"shadow-md shadow-blue-gray-500/10",hover:"hover:shadow-lg hover:shadow-blue-gray-500/20",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},black:{background:"bg-gradient-to-tr from-gray-900 to-gray-800",color:"text-white",shadow:"shadow-md shadow-gray-900/10",hover:"hover:shadow-lg hover:shadow-gray-900/20",active:"active:opacity-[0.85]"},"blue-gray":{background:"bg-gradient-to-tr from-blue-gray-600 to-blue-gray-400",color:"text-white",shadow:"shadow-md shadow-blue-gray-500/20",hover:"hover:shadow-lg hover:shadow-blue-gray-500/40",active:"active:opacity-[0.85]"},gray:{background:"bg-gradient-to-tr from-gray-900 to-gray-800",color:"text-white",shadow:"shadow-md shadow-gray-900/10",hover:"hover:shadow-lg hover:shadow-gray-900/20",active:"active:opacity-[0.85]"},brown:{background:"bg-gradient-to-tr from-brown-600 to-brown-400",color:"text-white",shadow:"shadow-md shadow-brown-500/20",hover:"hover:shadow-lg hover:shadow-brown-500/40",active:"active:opacity-[0.85]"},"deep-orange":{background:"bg-gradient-to-tr from-deep-orange-600 to-deep-orange-400",color:"text-white",shadow:"shadow-md shadow-deep-orange-500/20",hover:"hover:shadow-lg hover:shadow-deep-orange-500/40",active:"active:opacity-[0.85]"},orange:{background:"bg-gradient-to-tr from-orange-600 to-orange-400",color:"text-white",shadow:"shadow-md shadow-orange-500/20",hover:"hover:shadow-lg hover:shadow-orange-500/40",active:"active:opacity-[0.85]"},amber:{background:"bg-gradient-to-tr from-amber-600 to-amber-400",color:"text-black",shadow:"shadow-md shadow-amber-500/20",hover:"hover:shadow-lg hover:shadow-amber-500/40",active:"active:opacity-[0.85]"},yellow:{background:"bg-gradient-to-tr from-yellow-600 to-yellow-400",color:"text-black",shadow:"shadow-md shadow-yellow-500/20",hover:"hover:shadow-lg hover:shadow-yellow-500/40",active:"active:opacity-[0.85]"},lime:{background:"bg-gradient-to-tr from-lime-600 to-lime-400",color:"text-black",shadow:"shadow-md shadow-lime-500/20",hover:"hover:shadow-lg hover:shadow-lime-500/40",active:"active:opacity-[0.85]"},"light-green":{background:"bg-gradient-to-tr from-light-green-600 to-light-green-400",color:"text-white",shadow:"shadow-md shadow-light-green-500/20",hover:"hover:shadow-lg hover:shadow-light-green-500/40",active:"active:opacity-[0.85]"},green:{background:"bg-gradient-to-tr from-green-600 to-green-400",color:"text-white",shadow:"shadow-md shadow-green-500/20",hover:"hover:shadow-lg hover:shadow-green-500/40",active:"active:opacity-[0.85]"},teal:{background:"bg-gradient-to-tr from-teal-600 to-teal-400",color:"text-white",shadow:"shadow-md shadow-teal-500/20",hover:"hover:shadow-lg hover:shadow-teal-500/40",active:"active:opacity-[0.85]"},cyan:{background:"bg-gradient-to-tr from-cyan-600 to-cyan-400",color:"text-white",shadow:"shadow-md shadow-cyan-500/20",hover:"hover:shadow-lg hover:shadow-cyan-500/40",active:"active:opacity-[0.85]"},"light-blue":{background:"bg-gradient-to-tr from-light-blue-600 to-light-blue-400",color:"text-white",shadow:"shadow-md shadow-light-blue-500/20",hover:"hover:shadow-lg hover:shadow-light-blue-500/40",active:"active:opacity-[0.85]"},blue:{background:"bg-gradient-to-tr from-blue-600 to-blue-400",color:"text-white",shadow:"shadow-md shadow-blue-500/20",hover:"hover:shadow-lg hover:shadow-blue-500/40",active:"active:opacity-[0.85]"},indigo:{background:"bg-gradient-to-tr from-indigo-600 to-indigo-400",color:"text-white",shadow:"shadow-md shadow-indigo-500/20",hover:"hover:shadow-lg hover:shadow-indigo-500/40",active:"active:opacity-[0.85]"},"deep-purple":{background:"bg-gradient-to-tr from-deep-purple-600 to-deep-purple-400",color:"text-white",shadow:"shadow-md shadow-deep-purple-500/20",hover:"hover:shadow-lg hover:shadow-deep-purple-500/40",active:"active:opacity-[0.85]"},purple:{background:"bg-gradient-to-tr from-purple-600 to-purple-400",color:"text-white",shadow:"shadow-md shadow-purple-500/20",hover:"hover:shadow-lg hover:shadow-purple-500/40",active:"active:opacity-[0.85]"},pink:{background:"bg-gradient-to-tr from-pink-600 to-pink-400",color:"text-white",shadow:"shadow-md shadow-pink-500/20",hover:"hover:shadow-lg hover:shadow-pink-500/40",active:"active:opacity-[0.85]"},red:{background:"bg-gradient-to-tr from-red-600 to-red-400",color:"text-white",shadow:"shadow-md shadow-red-500/20",hover:"hover:shadow-lg hover:shadow-red-500/40",active:"active:opacity-[0.85]"}},t=e})(W7);var V7={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={white:{border:"border border-white",color:"text-white",hover:"hover:opacity-75",focus:"focus:ring focus:ring-white/50",active:"active:opacity-[0.85]"},black:{border:"border border-gray-900",color:"text-gray-900",hover:"hover:opacity-75",focus:"focus:ring focus:ring-gray-300",active:"active:opacity-[0.85]"},"blue-gray":{border:"border border-blue-gray-500",color:"text-blue-gray-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-blue-gray-200",active:"active:opacity-[0.85]"},gray:{border:"border border-gray-900",color:"text-gray-900",hover:"hover:opacity-75",focus:"focus:ring focus:ring-gray-300",active:"active:opacity-[0.85]"},brown:{border:"border border-brown-500",color:"text-brown-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-brown-200",active:"active:opacity-[0.85]"},"deep-orange":{border:"border border-deep-orange-500",color:"text-deep-orange-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-deep-orange-200",active:"active:opacity-[0.85]"},orange:{border:"border border-orange-500",color:"text-orange-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-orange-200",active:"active:opacity-[0.85]"},amber:{border:"border border-amber-500",color:"text-amber-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-amber-200",active:"active:opacity-[0.85]"},yellow:{border:"border border-yellow-500",color:"text-yellow-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-yellow-200",active:"active:opacity-[0.85]"},lime:{border:"border border-lime-500",color:"text-lime-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-lime-200",active:"active:opacity-[0.85]"},"light-green":{border:"border border-light-green-500",color:"text-light-green-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-light-green-200",active:"active:opacity-[0.85]"},green:{border:"border border-green-500",color:"text-green-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-green-200",active:"active:opacity-[0.85]"},teal:{border:"border border-teal-500",color:"text-teal-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-teal-200",active:"active:opacity-[0.85]"},cyan:{border:"border border-cyan-500",color:"text-cyan-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-cyan-200",active:"active:opacity-[0.85]"},"light-blue":{border:"border border-light-blue-500",color:"text-light-blue-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-light-blue-200",active:"active:opacity-[0.85]"},blue:{border:"border border-blue-500",color:"text-blue-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-blue-200",active:"active:opacity-[0.85]"},indigo:{border:"border border-indigo-500",color:"text-indigo-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-indigo-200",active:"active:opacity-[0.85]"},"deep-purple":{border:"border border-deep-purple-500",color:"text-deep-purple-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-deep-purple-200",active:"active:opacity-[0.85]"},purple:{border:"border border-purple-500",color:"text-purple-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-purple-200",active:"active:opacity-[0.85]"},pink:{border:"border border-pink-500",color:"text-pink-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-pink-200",active:"active:opacity-[0.85]"},red:{border:"border border-red-500",color:"text-red-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-red-200",active:"active:opacity-[0.85]"}},t=e})(V7);var H7={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={white:{color:"text-white",hover:"hover:bg-white/10",active:"active:bg-white/30"},black:{color:"text-gray-900",hover:"hover:bg-gray-900/10",active:"active:bg-gray-900/20"},"blue-gray":{color:"text-blue-gray-500",hover:"hover:bg-blue-gray-500/10",active:"active:bg-blue-gray-500/30"},gray:{color:"text-gray-900",hover:"hover:bg-gray-900/10",active:"active:bg-gray-900/20"},brown:{color:"text-brown-500",hover:"hover:bg-brown-500/10",active:"active:bg-brown-500/30"},"deep-orange":{color:"text-deep-orange-500",hover:"hover:bg-deep-orange-500/10",active:"active:bg-deep-orange-500/30"},orange:{color:"text-orange-500",hover:"hover:bg-orange-500/10",active:"active:bg-orange-500/30"},amber:{color:"text-amber-500",hover:"hover:bg-amber-500/10",active:"active:bg-amber-500/30"},yellow:{color:"text-yellow-500",hover:"hover:bg-yellow-500/10",active:"active:bg-yellow-500/30"},lime:{color:"text-lime-500",hover:"hover:bg-lime-500/10",active:"active:bg-lime-500/30"},"light-green":{color:"text-light-green-500",hover:"hover:bg-light-green-500/10",active:"active:bg-light-green-500/30"},green:{color:"text-green-500",hover:"hover:bg-green-500/10",active:"active:bg-green-500/30"},teal:{color:"text-teal-500",hover:"hover:bg-teal-500/10",active:"active:bg-teal-500/30"},cyan:{color:"text-cyan-500",hover:"hover:bg-cyan-500/10",active:"active:bg-cyan-500/30"},"light-blue":{color:"text-light-blue-500",hover:"hover:bg-light-blue-500/10",active:"active:bg-light-blue-500/30"},blue:{color:"text-blue-500",hover:"hover:bg-blue-500/10",active:"active:bg-blue-500/30"},indigo:{color:"text-indigo-500",hover:"hover:bg-indigo-500/10",active:"active:bg-indigo-500/30"},"deep-purple":{color:"text-deep-purple-500",hover:"hover:bg-deep-purple-500/10",active:"active:bg-deep-purple-500/30"},purple:{color:"text-purple-500",hover:"hover:bg-purple-500/10",active:"active:bg-purple-500/30"},pink:{color:"text-pink-500",hover:"hover:bg-pink-500/10",active:"active:bg-pink-500/30"},red:{color:"text-red-500",hover:"hover:bg-red-500/10",active:"active:bg-red-500/30"}},t=e})(H7);var C_={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(v,b){for(var C in b)Object.defineProperty(v,C,{enumerable:!0,get:b[C]})}e(n,{propTypesVariant:function(){return u},propTypesSize:function(){return h},propTypesColor:function(){return f},propTypesFullWidth:function(){return g},propTypesRipple:function(){return _},propTypesClassName:function(){return y},propTypesChildren:function(){return m},propTypesLoading:function(){return p}});var t=s(Vt),i=Xn;function r(v,b){(b==null||b>v.length)&&(b=v.length);for(var C=0,S=new Array(b);C<b;C++)S[C]=v[C];return S}function o(v){if(Array.isArray(v))return r(v)}function s(v){return v&&v.__esModule?v:{default:v}}function a(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(v){return o(v)||a(v)||d(v)||l()}function d(v,b){if(v){if(typeof v=="string")return r(v,b);var C=Object.prototype.toString.call(v).slice(8,-1);if(C==="Object"&&v.constructor&&(C=v.constructor.name),C==="Map"||C==="Set")return Array.from(C);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return r(v,b)}}var u=["filled","outlined","gradient","text"],h=["sm","md","lg"],f=["white","black"].concat(c(i.propTypesColors)),g=t.default.bool,_=t.default.bool,y=t.default.string,m=t.default.node.isRequired,p=t.default.bool})(C_);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(d,u){for(var h in u)Object.defineProperty(d,h,{enumerable:!0,get:u[h]})}e(n,{button:function(){return l},default:function(){return c}});var t=a(B7),i=a(W7),r=a(V7),o=a(H7),s=C_;function a(d){return d&&d.__esModule?d:{default:d}}var l={defaultProps:{variant:"filled",size:"md",color:"gray",fullWidth:!1,ripple:!0,className:""},valid:{variants:s.propTypesVariant,sizes:s.propTypesSize,colors:s.propTypesColor},styles:{base:{initial:{verticalAlign:"align-middle",userSelect:"select-none",fontFamily:"font-sans",fontWeight:"font-bold",textAlign:"text-center",textTransform:"uppercase",transition:"transition-all",disabled:"disabled:opacity-50 disabled:shadow-none disabled:pointer-events-none"},fullWidth:{display:"block",width:"w-full"}},sizes:{sm:{fontSize:"text-xs",py:"py-2",px:"px-4",borderRadius:"rounded-lg"},md:{fontSize:"text-xs",py:"py-3",px:"px-6",borderRadius:"rounded-lg"},lg:{fontSize:"text-sm",py:"py-3.5",px:"px-7",borderRadius:"rounded-lg"}},variants:{filled:t.default,gradient:i.default,outlined:r.default,text:o.default}}},c=l})(ete);var tte={},z7={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={transparent:{backgroud:"bg-transparent",color:"text-gray-700",shadow:"shadow-none"},white:{backgroud:"bg-white",color:"text-gray-700"},"blue-gray":{backgroud:"bg-blue-gray-500",color:"text-white",shadow:"shadow-blue-gray-500/40"},gray:{backgroud:"bg-gray-900",color:"text-white",shadow:"shadow-gray-900/20"},brown:{backgroud:"bg-brown-500",color:"text-white",shadow:"shadow-brown-500/40"},"deep-orange":{backgroud:"bg-deep-orange-500",color:"text-white",shadow:"shadow-deep-orange-500/40"},orange:{backgroud:"bg-orange-500",color:"text-white",shadow:"shadow-orange-500/40"},amber:{backgroud:"bg-amber-500",color:"text-gray-700",shadow:"shadow-amber-500/40"},yellow:{backgroud:"bg-yellow-500",color:"text-gray-700",shadow:"shadow-yellow-500/40"},lime:{backgroud:"bg-lime-500",color:"text-gray-700",shadow:"shadow-lime-500/40"},"light-green":{backgroud:"bg-light-green-500",color:"text-white",shadow:"shadow-light-green-500/40"},green:{backgroud:"bg-green-500",color:"text-white",shadow:"shadow-green-500/40"},teal:{backgroud:"bg-teal-500",color:"text-white",shadow:"shadow-teal-500/40"},cyan:{backgroud:"bg-cyan-500",color:"text-white",shadow:"shadow-cyan-500/40"},"light-blue":{backgroud:"bg-light-blue-500",color:"text-white",shadow:"shadow-light-blue-500/40"},blue:{backgroud:"bg-blue-500",color:"text-white",shadow:"shadow-blue-500/40"},indigo:{backgroud:"bg-indigo-500",color:"text-white",shadow:"shadow-indigo-500/40"},"deep-purple":{backgroud:"bg-deep-purple-500",color:"text-white",shadow:"shadow-deep-purple-500/40"},purple:{backgroud:"bg-purple-500",color:"text-white",shadow:"shadow-purple-500/40"},pink:{backgroud:"bg-pink-500",color:"text-white",shadow:"shadow-pink-500/40"},red:{backgroud:"bg-red-500",color:"text-white",shadow:"shadow-red-500/40"}},t=e})(z7);var j7={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={transparent:{backgroud:"bg-transparent",color:"text-gray-700",shadow:"shadow-none"},white:{backgroud:"bg-white",color:"text-gray-700"},"blue-gray":{backgroud:"bg-gradient-to-tr from-blue-gray-600 to-blue-gray-400",color:"text-white",shadow:"shadow-blue-gray-500/40"},gray:{backgroud:"bg-gradient-to-tr from-gray-900 to-gray-800",color:"text-white",shadow:"shadow-gray-900/20"},brown:{backgroud:"bg-gradient-to-tr from-brown-600 to-brown-400",color:"text-white",shadow:"shadow-brown-500/40"},"deep-orange":{backgroud:"bg-gradient-to-tr from-deep-orange-600 to-deep-orange-400",color:"text-white",shadow:"shadow-deep-orange-500/40"},orange:{backgroud:"bg-gradient-to-tr from-orange-600 to-orange-400",color:"text-white",shadow:"shadow-orange-500/40"},amber:{backgroud:"bg-gradient-to-tr from-amber-600 to-amber-400",color:"text-gray-700",shadow:"shadow-amber-500/40"},yellow:{backgroud:"bg-gradient-to-tr from-yellow-600 to-yellow-400",color:"text-gray-700",shadow:"shadow-yellow-500/40"},lime:{backgroud:"bg-gradient-to-tr from-lime-600 to-lime-400",color:"text-gray-700",shadow:"shadow-lime-500/40"},"light-green":{backgroud:"bg-gradient-to-tr from-light-green-600 to-light-green-400",color:"text-white",shadow:"shadow-light-green-500/40"},green:{backgroud:"bg-gradient-to-tr from-green-600 to-green-400",color:"text-white",shadow:"shadow-green-500/40"},teal:{backgroud:"bg-gradient-to-tr from-teal-600 to-teal-400",color:"text-white",shadow:"shadow-teal-500/40"},cyan:{backgroud:"bg-gradient-to-tr from-cyan-600 to-cyan-400",color:"text-white",shadow:"shadow-cyan-500/40"},"light-blue":{backgroud:"bg-gradient-to-tr from-light-blue-600 to-light-blue-400",color:"text-white",shadow:"shadow-light-blue-500/40"},blue:{backgroud:"bg-gradient-to-tr from-blue-600 to-blue-400",color:"text-white",shadow:"shadow-blue-500/40"},indigo:{backgroud:"bg-gradient-to-tr from-indigo-600 to-indigo-400",color:"text-white",shadow:"shadow-indigo-500/40"},"deep-purple":{backgroud:"bg-gradient-to-tr from-deep-purple-600 to-deep-purple-400",color:"text-white",shadow:"shadow-deep-purple-500/40"},purple:{backgroud:"bg-gradient-to-tr from-purple-600 to-purple-400",color:"text-white",shadow:"shadow-purple-500/40"},pink:{backgroud:"bg-gradient-to-tr from-pink-600 to-pink-400",color:"text-white",shadow:"shadow-pink-500/40"},red:{backgroud:"bg-gradient-to-tr from-red-600 to-red-400",color:"text-white",shadow:"shadow-red-500/40"}},t=e})(j7);var w_={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(p,v){for(var b in v)Object.defineProperty(p,b,{enumerable:!0,get:v[b]})}e(n,{propTypesVariant:function(){return u},propTypesColor:function(){return h},propTypesShadow:function(){return f},propTypesFloated:function(){return g},propTypesDivider:function(){return _},propTypesClassName:function(){return y},propTypesChildren:function(){return m}});var t=s(Vt),i=Xn;function r(p,v){(v==null||v>p.length)&&(v=p.length);for(var b=0,C=new Array(v);b<v;b++)C[b]=p[b];return C}function o(p){if(Array.isArray(p))return r(p)}function s(p){return p&&p.__esModule?p:{default:p}}function a(p){if(typeof Symbol<"u"&&p[Symbol.iterator]!=null||p["@@iterator"]!=null)return Array.from(p)}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(p){return o(p)||a(p)||d(p)||l()}function d(p,v){if(p){if(typeof p=="string")return r(p,v);var b=Object.prototype.toString.call(p).slice(8,-1);if(b==="Object"&&p.constructor&&(b=p.constructor.name),b==="Map"||b==="Set")return Array.from(b);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return r(p,v)}}var u=["filled","gradient"],h=["transparent","white"].concat(c(i.propTypesColors)),f=t.default.bool,g=t.default.bool,_=t.default.bool,y=t.default.string,m=t.default.node.isRequired})(w_);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var e=r(z7),t=r(j7),i=w_;function r(a){return a&&a.__esModule?a:{default:a}}var o={defaultProps:{variant:"filled",color:"white",shadow:!0,className:""},valid:{variants:i.propTypesVariant,colors:i.propTypesColor},styles:{base:{initial:{position:"relative",display:"flex",flexDirection:"flex-col",backgroundClip:"bg-clip-border",borderRadius:"rounded-xl"},shadow:{boxShadow:"shadow-md"}},variants:{filled:e.default,gradient:t.default}}},s=o})(tte);var ite={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{cardBody:function(){return t},default:function(){return i}});var t={defaultProps:{className:""},styles:{base:{p:"p-6"}}},i=t})(ite);var nte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{cardFooter:function(){return t},default:function(){return i}});var t={defaultProps:{className:""},styles:{base:{initial:{p:"p-6"},divider:{borderWidth:"border-t",borderColor:"border-blue-gray-50"}}}},i=t})(nte);var rte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var e=r(z7),t=r(j7),i=w_;function r(a){return a&&a.__esModule?a:{default:a}}var o={defaultProps:{variant:"filled",color:"white",shadow:!0,floated:!0,className:""},valid:{variants:i.propTypesVariant,colors:i.propTypesColor},styles:{base:{initial:{position:"relative",backgroundClip:"bg-clip-border",mt:"mt-4",mx:"mx-4",borderRadius:"rounded-xl",overflow:"overflow-hidden"},shadow:{boxShadow:"shadow-lg"},floated:{mt:"-mt-6"}},variants:{filled:e.default,gradient:t.default}}},s=o})(rte);var ote={},ste={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{background:"checked:bg-blue-gray-500",border:"checked:border-blue-gray-500",before:"checked:before:bg-blue-gray-500"},gray:{background:"checked:bg-gray-900",border:"checked:border-gray-900",before:"checked:before:bg-gray-900"},brown:{background:"checked:bg-brown-500",border:"checked:border-brown-500",before:"checked:before:bg-brown-500"},"deep-orange":{background:"checked:bg-deep-orange-500",border:"checked:border-deep-orange-500",before:"checked:before:bg-deep-orange-500"},orange:{background:"checked:bg-orange-500",border:"checked:border-orange-500",before:"checked:before:bg-orange-500"},amber:{background:"checked:bg-amber-500",border:"checked:border-amber-500",before:"checked:before:bg-amber-500"},yellow:{background:"checked:bg-yellow-500",border:"checked:border-yellow-500",before:"checked:before:bg-yellow-500"},lime:{background:"checked:bg-lime-500",border:"checked:border-lime-500",before:"checked:before:bg-lime-500"},"light-green":{background:"checked:bg-light-green-500",border:"checked:border-light-green-500",before:"checked:before:bg-light-green-500"},green:{background:"checked:bg-green-500",border:"checked:border-green-500",before:"checked:before:bg-green-500"},teal:{background:"checked:bg-teal-500",border:"checked:border-teal-500",before:"checked:before:bg-teal-500"},cyan:{background:"checked:bg-cyan-500",border:"checked:border-cyan-500",before:"checked:before:bg-cyan-500"},"light-blue":{background:"checked:bg-light-blue-500",border:"checked:border-light-blue-500",before:"checked:before:bg-light-blue-500"},blue:{background:"checked:bg-blue-500",border:"checked:border-blue-500",before:"checked:before:bg-blue-500"},indigo:{background:"checked:bg-indigo-500",border:"checked:border-indigo-500",before:"checked:before:bg-indigo-500"},"deep-purple":{background:"checked:bg-deep-purple-500",border:"checked:border-deep-purple-500",before:"checked:before:bg-deep-purple-500"},purple:{background:"checked:bg-purple-500",border:"checked:border-purple-500",before:"checked:before:bg-purple-500"},pink:{background:"checked:bg-pink-500",border:"checked:border-pink-500",before:"checked:before:bg-pink-500"},red:{background:"checked:bg-red-500",border:"checked:border-red-500",before:"checked:before:bg-red-500"}},t=e})(ste);var S_={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(h,f){for(var g in f)Object.defineProperty(h,g,{enumerable:!0,get:f[g]})}e(n,{propTypesColor:function(){return o},propTypesLabel:function(){return s},propTypesIcon:function(){return a},propTypesRipple:function(){return l},propTypesClassName:function(){return c},propTypesDisabled:function(){return d},propTypesObject:function(){return u}});var t=r(Vt),i=Xn;function r(h){return h&&h.__esModule?h:{default:h}}var o=i.propTypesColors,s=t.default.node,a=t.default.node,l=t.default.bool,c=t.default.string,d=t.default.bool,u=t.default.instanceOf(Object)})(S_);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(a,l){for(var c in l)Object.defineProperty(a,c,{enumerable:!0,get:l[c]})}e(n,{checkbox:function(){return o},default:function(){return s}});var t=r(ste),i=S_;function r(a){return a&&a.__esModule?a:{default:a}}var o={defaultProps:{color:"gray",label:void 0,icon:void 0,ripple:!0,className:"",disabled:!1,containerProps:void 0,labelProps:void 0,iconProps:void 0},valid:{colors:i.propTypesColor},styles:{base:{root:{display:"inline-flex",alignItems:"items-center"},container:{position:"relative",display:"flex",alignItems:"items-center",cursor:"cursor-pointer",p:"p-3",borderRadius:"rounded-full"},input:{peer:"peer",position:"relative",appearance:"appearance-none",width:"w-5",height:"h-5",borderWidth:"border",borderRadius:"rounded-md",borderColor:"border-blue-gray-200",cursor:"cursor-pointer",transition:"transition-all",before:{content:"before:content['']",display:"before:block",bg:"before:bg-blue-gray-500",width:"before:w-12",height:"before:h-12",borderRadius:"before:rounded-full",position:"before:absolute",top:"before:top-2/4",left:"before:left-2/4",transform:"before:-translate-y-2/4 before:-translate-x-2/4",opacity:"before:opacity-0 hover:before:opacity-10",transition:"before:transition-opacity"}},label:{color:"text-gray-700",fontWeight:"font-light",userSelect:"select-none",cursor:"cursor-pointer",mt:"mt-px"},icon:{color:"text-white",position:"absolute",top:"top-2/4",left:"left-2/4",translate:"-translate-y-2/4 -translate-x-2/4",pointerEvents:"pointer-events-none",opacity:"opacity-0 peer-checked:opacity-100",transition:"transition-opacity"},disabled:{opacity:"opacity-50",pointerEvents:"pointer-events-none"}},colors:t.default}},s=o})(ote);var ate={},lte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{backgroud:"bg-blue-gray-500",color:"text-white"},gray:{backgroud:"bg-gray-900",color:"text-white"},brown:{backgroud:"bg-brown-500",color:"text-white"},"deep-orange":{backgroud:"bg-deep-orange-500",color:"text-white"},orange:{backgroud:"bg-orange-500",color:"text-white"},amber:{backgroud:"bg-amber-500",color:"text-black"},yellow:{backgroud:"bg-yellow-500",color:"text-black"},lime:{backgroud:"bg-lime-500",color:"text-black"},"light-green":{backgroud:"bg-light-green-500",color:"text-white"},green:{backgroud:"bg-green-500",color:"text-white"},teal:{backgroud:"bg-teal-500",color:"text-white"},cyan:{backgroud:"bg-cyan-500",color:"text-white"},"light-blue":{backgroud:"bg-light-blue-500",color:"text-white"},blue:{backgroud:"bg-blue-500",color:"text-white"},indigo:{backgroud:"bg-indigo-500",color:"text-white"},"deep-purple":{backgroud:"bg-deep-purple-500",color:"text-white"},purple:{backgroud:"bg-purple-500",color:"text-white"},pink:{backgroud:"bg-pink-500",color:"text-white"},red:{backgroud:"bg-red-500",color:"text-white"}},t=e})(lte);var cte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{backgroud:"bg-gradient-to-tr from-blue-gray-600 to-blue-gray-400",color:"text-white"},gray:{backgroud:"bg-gradient-to-tr from-gray-900 to-gray-800",color:"text-white"},brown:{backgroud:"bg-gradient-to-tr from-brown-600 to-brown-400",color:"text-white"},"deep-orange":{backgroud:"bg-gradient-to-tr from-deep-orange-600 to-deep-orange-400",color:"text-white"},orange:{backgroud:"bg-gradient-to-tr from-orange-600 to-orange-400",color:"text-white"},amber:{backgroud:"bg-gradient-to-tr from-amber-600 to-amber-400",color:"text-black"},yellow:{backgroud:"bg-gradient-to-tr from-yellow-600 to-yellow-400",color:"text-black"},lime:{backgroud:"bg-gradient-to-tr from-lime-600 to-lime-400",color:"text-black"},"light-green":{backgroud:"bg-gradient-to-tr from-light-green-600 to-light-green-400",color:"text-white"},green:{backgroud:"bg-gradient-to-tr from-green-600 to-green-400",color:"text-white"},teal:{backgroud:"bg-gradient-to-tr from-teal-600 to-teal-400",color:"text-white"},cyan:{backgroud:"bg-gradient-to-tr from-cyan-600 to-cyan-400",color:"text-white"},"light-blue":{backgroud:"bg-gradient-to-tr from-light-blue-600 to-light-blue-400",color:"text-white"},blue:{backgroud:"bg-gradient-to-tr from-blue-600 to-blue-400",color:"text-white"},indigo:{backgroud:"bg-gradient-to-tr from-indigo-600 to-indigo-400",color:"text-white"},"deep-purple":{backgroud:"bg-gradient-to-tr from-deep-purple-600 to-deep-purple-400",color:"text-white"},purple:{backgroud:"bg-gradient-to-tr from-purple-600 to-purple-400",color:"text-white"},pink:{backgroud:"bg-gradient-to-tr from-pink-600 to-pink-400",color:"text-white"},red:{backgroud:"bg-gradient-to-tr from-red-600 to-red-400",color:"text-white"}},t=e})(cte);var dte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{border:"border border-blue-gray-500",color:"text-blue-gray-700"},gray:{border:"border border-gray-900",color:"text-gray-700"},brown:{border:"border border-brown-500",color:"text-brown-700"},"deep-orange":{border:"border border-deep-orange-500",color:"text-deep-orange-700"},orange:{border:"border border-orange-500",color:"text-orange-700"},amber:{border:"border border-amber-500",color:"text-amber-700"},yellow:{border:"border border-yellow-500",color:"text-yellow-700"},lime:{border:"border border-lime-500",color:"text-lime-700"},"light-green":{border:"border border-light-green-500",color:"text-light-green-700"},green:{border:"border border-green-500",color:"text-green-700"},teal:{border:"border border-teal-500",color:"text-teal-700"},cyan:{border:"border border-cyan-500",color:"text-cyan-700"},"light-blue":{border:"border border-light-blue-500",color:"text-light-blue-700"},blue:{border:"border border-blue-500",color:"text-blue-700"},indigo:{border:"border border-indigo-500",color:"text-indigo-700"},"deep-purple":{border:"border border-deep-purple-500",color:"text-deep-purple-700"},purple:{border:"border border-purple-500",color:"text-purple-700"},pink:{border:"border border-pink-500",color:"text-pink-700"},red:{border:"border border-red-500",color:"text-red-700"}},t=e})(dte);var ute={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{backgroud:"bg-blue-gray-500/20",color:"text-blue-gray-900"},gray:{backgroud:"bg-gray-900/10",color:"text-gray-900"},brown:{backgroud:"bg-brown-500/20",color:"text-brown-900"},"deep-orange":{backgroud:"bg-deep-orange-500/20",color:"text-deep-orange-900"},orange:{backgroud:"bg-orange-500/20",color:"text-orange-900"},amber:{backgroud:"bg-amber-500/20",color:"text-amber-900"},yellow:{backgroud:"bg-yellow-500/20",color:"text-yellow-900"},lime:{backgroud:"bg-lime-500/20",color:"text-lime-900"},"light-green":{backgroud:"bg-light-green-500/20",color:"text-light-green-900"},green:{backgroud:"bg-green-500/20",color:"text-green-900"},teal:{backgroud:"bg-teal-500/20",color:"text-teal-900"},cyan:{backgroud:"bg-cyan-500/20",color:"text-cyan-900"},"light-blue":{backgroud:"bg-light-blue-500/20",color:"text-light-blue-900"},blue:{backgroud:"bg-blue-500/20",color:"text-blue-900"},indigo:{backgroud:"bg-indigo-500/20",color:"text-indigo-900"},"deep-purple":{backgroud:"bg-deep-purple-500/20",color:"text-deep-purple-900"},purple:{backgroud:"bg-purple-500/20",color:"text-purple-900"},pink:{backgroud:"bg-pink-500/20",color:"text-pink-900"},red:{backgroud:"bg-red-500/20",color:"text-red-900"}},t=e})(ute);var U7={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(_,y){for(var m in y)Object.defineProperty(_,m,{enumerable:!0,get:y[m]})}e(n,{propTypesVariant:function(){return o},propTypesSize:function(){return s},propTypesColor:function(){return a},propTypesIcon:function(){return l},propTypesOpen:function(){return c},propTypesOnClose:function(){return d},propTypesAction:function(){return u},propTypesAnimate:function(){return h},propTypesClassName:function(){return f},propTypesValue:function(){return g}});var t=r(Vt),i=Xn;function r(_){return _&&_.__esModule?_:{default:_}}var o=["filled","gradient","outlined","ghost"],s=["sm","md","lg"],a=i.propTypesColors,l=t.default.node,c=t.default.bool,d=t.default.func,u=t.default.node,h=i.propTypesAnimation,f=t.default.string,g=t.default.node.isRequired})(U7);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(d,u){for(var h in u)Object.defineProperty(d,h,{enumerable:!0,get:u[h]})}e(n,{chip:function(){return l},default:function(){return c}});var t=a(lte),i=a(cte),r=a(dte),o=a(ute),s=U7;function a(d){return d&&d.__esModule?d:{default:d}}var l={defaultProps:{variant:"filled",size:"md",color:"gray",icon:void 0,open:!0,onClose:void 0,action:void 0,animate:{unmount:{},mount:{}},className:""},valid:{variants:s.propTypesVariant,sizes:s.propTypesSize,colors:s.propTypesColor},styles:{base:{chip:{position:"relative",display:"grid",placeItems:"items-center",fontFamily:"font-sans",fontWeight:"font-bold",textTransform:"uppercase",lineHeight:"leading-none",whiteSpace:"whitespace-nowrap",userSelect:"select-none"},action:{position:"!absolute",top:"top-2/4",right:"right-1",translate:"-translate-y-2/4",mx:"mx-px",rounded:"rounded-md"},icon:{position:"absolute",top:"top-2/4",translate:"-translate-y-2/4"}},sizes:{sm:{chip:{py:"py-1",px:"px-2",fontSize:"text-xs",borderRadius:"rounded-md"},action:{width:"w-4",height:"h-4"},icon:{width:"w-4",height:"h-4",left:"left-1"}},md:{chip:{py:"py-1.5",px:"px-3",fontSize:"text-xs",borderRadius:"rounded-lg"},action:{width:"w-5",height:"h-5"},icon:{width:"w-5",height:"h-5",left:"left-1.5"}},lg:{chip:{py:"py-2",px:"px-4",fontSize:"text-xs",borderRadius:"rounded-lg"},action:{width:"w-6",height:"h-6"},icon:{width:"w-6",height:"h-6",left:"left-1.5"}}},variants:{filled:t.default,gradient:i.default,outlined:r.default,ghost:o.default}}},c=l})(ate);var hte={},ly={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(f,g){for(var _ in g)Object.defineProperty(f,_,{enumerable:!0,get:g[_]})}e(n,{propTypesOpen:function(){return o},propTypesHandler:function(){return s},propTypesSize:function(){return a},propTypesDismiss:function(){return l},propTypesAnimate:function(){return c},propTypesDivider:function(){return d},propTypesClassName:function(){return u},propTypesChildren:function(){return h}});var t=r(Vt),i=Xn;function r(f){return f&&f.__esModule?f:{default:f}}var o=t.default.bool.isRequired,s=t.default.func,a=["xs","sm","md","lg","xl","xxl"],l=i.propTypesDismissType,c=i.propTypesAnimation,d=t.default.bool,u=t.default.string,h=t.default.node.isRequired})(ly);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(o,s){for(var a in s)Object.defineProperty(o,a,{enumerable:!0,get:s[a]})}e(n,{dialog:function(){return i},default:function(){return r}});var t=ly,i={defaultProps:{size:"md",dismiss:{},animate:{unmount:{},mount:{}},className:""},valid:{sizes:t.propTypesSize},styles:{base:{backdrop:{display:"grid",placeItems:"place-items-center",position:"fixed",top:0,left:0,width:"w-screen",height:"h-screen",backgroundColor:"bg-black",backgroundOpacity:"bg-opacity-60",backdropFilter:"backdrop-blur-sm"},container:{position:"relative",bg:"bg-white",m:"m-4",borderRadius:"rounded-lg",boxShadow:"shadow-2xl",color:"text-blue-gray-500",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-base",fontWeight:"font-light",lineHeight:"leading-relaxed"}},sizes:{xs:{width:"w-full md:w-3/5 lg:w-2/5 2xl:w-1/4",minWidth:"min-w-[80%] md:min-w-[60%] lg:min-w-[40%] 2xl:min-w-[25%]",maxWidth:"max-w-[80%] md:max-w-[60%] lg:max-w-[40%] 2xl:max-w-[25%]"},sm:{width:"w-full md:w-2/3 lg:w-2/4 2xl:w-1/3",minWidth:"min-w-[80%] md:min-w-[66.666667%] lg:min-w-[50%] 2xl:min-w-[33.333333%]",maxWidth:"max-w-[80%] md:max-w-[66.666667%] lg:max-w-[50%] 2xl:max-w-[33.333333%]"},md:{width:"w-full md:w-3/4 lg:w-3/5 2xl:w-2/5",minWidth:"min-w-[90%] md:min-w-[75%] lg:min-w-[60%] 2xl:min-w-[40%]",maxWidth:"max-w-[90%] md:max-w-[75%] lg:max-w-[60%] 2xl:max-w-[40%]"},lg:{width:"w-full md:w-5/6 lg:w-3/4 2xl:w-3/5",minWidth:"min-w-[90%] md:min-w-[83.333333%] lg:min-w-[75%] 2xl:min-w-[60%]",maxWidth:"max-w-[90%] md:max-w-[83.333333%] lg:max-w-[75%] 2xl:max-w-[60%]"},xl:{width:"w-full md:w-5/6 2xl:w-3/4",minWidth:"min-w-[95%] md:min-w-[83.333333%] 2xl:min-w-[75%]",maxWidth:"max-w-[95%] md:max-w-[83.333333%] 2xl:max-w-[75%]"},xxl:{display:"flex",flexDirection:"flex-col",width:"w-screen",minWidth:"min-w-[100vw]",maxWidth:"max-w-[100vw]",height:"h-screen",minHeight:"min-h-[100vh]",maxHeight:"max-h-[100vh]",m:"m-0",borderRadius:"rounded-none"}}}},r=i})(hte);var fte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{dialogBody:function(){return t},default:function(){return i}});var t={defaultProps:{className:"",divider:!1},styles:{base:{initial:{position:"relative",p:"p-4",color:"text-blue-gray-500",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-base",fontWeight:"font-light",lineHeight:"leading-relaxed"},divider:{borderTop:"border-t",borderTopColor:"border-t-blue-gray-100",borderBottom:"border-b",borderBottomColor:"border-b-blue-gray-100"}}}},i=t})(fte);var gte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{dialogFooter:function(){return t},default:function(){return i}});var t={defaultProps:{className:""},styles:{base:{display:"flex",alignItems:"items-center",justifyContent:"justify-end",flexShrink:"shrink-0",flexWrap:"flex-wrap",p:"p-4",color:"text-blue-gray-500"}}},i=t})(gte);var pte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{dialogHeader:function(){return t},default:function(){return i}});var t={defaultProps:{className:""},styles:{base:{display:"flex",alignItems:"items-center",flexShrink:"shrink-0",p:"p-4",color:"text-blue-gray-900",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-2xl",fontWeight:"font-semibold",lineHeight:"leading-snug"}}},i=t})(pte);var mte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(d,u){for(var h in u)Object.defineProperty(d,h,{enumerable:!0,get:u[h]})}e(n,{iconButton:function(){return l},default:function(){return c}});var t=a(B7),i=a(W7),r=a(V7),o=a(H7),s=C_;function a(d){return d&&d.__esModule?d:{default:d}}var l={defaultProps:{variant:"filled",size:"md",color:"gray",fullWidth:!1,ripple:!0,className:""},valid:{variants:s.propTypesVariant,sizes:s.propTypesSize,colors:s.propTypesColor},styles:{base:{position:"relative",verticalAlign:"align-middle",userSelect:"select-none",fontFamily:"font-sans",fontWeight:"font-medium",textAlign:"text-center",textTransform:"uppercase",transition:"transition-all",disabled:"disabled:opacity-50 disabled:shadow-none disabled:pointer-events-none"},sizes:{sm:{width:"w-8",maxWidth:"max-w-[32px]",height:"h-8",maxHeight:"max-h-[32px]",borderRadius:"rounded-lg",fontSize:"text-xs"},md:{width:"w-10",maxWidth:"max-w-[40px]",height:"h-10",maxHeight:"max-h-[40px]",borderRadius:"rounded-lg",fontSize:"text-xs"},lg:{width:"w-12",maxWidth:"max-w-[48px]",height:"h-12",maxHeight:"max-h-[48px]",borderRadius:"rounded-lg",fontSize:"text-sm"}},variants:{filled:t.default,gradient:i.default,outlined:r.default,text:o.default}}},c=l})(mte);var _te={},vte={},bte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={position:"-top-1.5",fontSize:"peer-placeholder-shown:text-sm",floated:{fontSize:"text-[11px] peer-focus:text-[11px]"},before:{content:"before:content[' ']",display:"before:block",boxSizing:"before:box-border",width:"before:w-2.5",height:"before:h-1.5",mt:"before:mt-[6.5px]",mr:"before:mr-1",borderColor:"peer-placeholder-shown:before:border-transparent",borderRadius:"before:rounded-tl-md",floated:{bt:"before:border-t peer-focus:before:border-t-2",bl:"before:border-l peer-focus:before:border-l-2"},pointerEvents:"before:pointer-events-none",transition:"before:transition-all",disabled:"peer-disabled:before:border-transparent"},after:{content:"after:content[' ']",display:"after:block",flexGrow:"after:flex-grow",boxSizing:"after:box-border",width:"after:w-2.5",height:"after:h-1.5",mt:"after:mt-[6.5px]",ml:"after:ml-1",borderColor:"peer-placeholder-shown:after:border-transparent",borderRadius:"after:rounded-tr-md",floated:{bt:"after:border-t peer-focus:after:border-t-2",br:"after:border-r peer-focus:after:border-r-2"},pointerEvents:"after:pointer-events-none",transition:"after:transition-all",disabled:"peer-disabled:after:border-transparent"}},t=e})(bte);var yte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={black:{color:"text-black",borderColor:"border-black",borderColorFocused:"focus:border-black"},white:{color:"!text-white",borderColor:"border-white",borderColorFocused:"focus:border-white"},"blue-gray":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-blue-gray-500"},gray:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-gray-900"},brown:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-brown-500"},"deep-orange":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-deep-orange-500"},orange:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-orange-500"},amber:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-amber-500"},yellow:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-yellow-500"},lime:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-lime-500"},"light-green":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-light-green-500"},green:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-green-500"},teal:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-teal-500"},cyan:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-cyan-500"},"light-blue":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-light-blue-500"},blue:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-blue-500"},indigo:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-indigo-500"},"deep-purple":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-deep-purple-500"},purple:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-purple-500"},pink:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-pink-500"},red:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-red-500"}},t=e})(yte);var Cte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={black:{color:"!text-black peer-focus:text-black",before:"before:border-black peer-focus:before:!border-black",after:"after:border-black peer-focus:after:!border-black"},white:{color:"!text-white peer-focus:text-white",before:"before:border-white peer-focus:before:!border-white",after:"after:border-white peer-focus:after:!border-white"},"blue-gray":{color:"text-blue-gray-400 peer-focus:text-blue-gray-500",before:"before:border-blue-gray-200 peer-focus:before:!border-blue-gray-500",after:"after:border-blue-gray-200 peer-focus:after:!border-blue-gray-500"},gray:{color:"text-gray-500 peer-focus:text-gray-900",before:"before:border-blue-gray-200 peer-focus:before:!border-gray-900",after:"after:border-blue-gray-200 peer-focus:after:!border-gray-900"},brown:{color:"text-blue-gray-400 peer-focus:text-brown-500",before:"before:border-blue-gray-200 peer-focus:before:!border-brown-500",after:"after:border-blue-gray-200 peer-focus:after:!border-brown-500"},"deep-orange":{color:"text-blue-gray-400 peer-focus:text-deep-orange-500",before:"before:border-blue-gray-200 peer-focus:before:!border-deep-orange-500",after:"after:border-blue-gray-200 peer-focus:after:!border-deep-orange-500"},orange:{color:"text-blue-gray-400 peer-focus:text-orange-500",before:"before:border-blue-gray-200 peer-focus:before:!border-orange-500",after:"after:border-blue-gray-200 peer-focus:after:!border-orange-500"},amber:{color:"text-blue-gray-400 peer-focus:text-amber-500",before:"before:border-blue-gray-200 peer-focus:before:!border-amber-500",after:"after:border-blue-gray-200 peer-focus:after:!border-amber-500"},yellow:{color:"text-blue-gray-400 peer-focus:text-yellow-500",before:"before:border-blue-gray-200 peer-focus:before:!border-yellow-500",after:"after:border-blue-gray-200 peer-focus:after:!border-yellow-500"},lime:{color:"text-blue-gray-400 peer-focus:text-lime-500",before:"before:border-blue-gray-200 peer-focus:before:!border-lime-500",after:"after:border-blue-gray-200 peer-focus:after:!border-lime-500"},"light-green":{color:"text-blue-gray-400 peer-focus:text-light-green-500",before:"before:border-blue-gray-200 peer-focus:before:!border-light-green-500",after:"after:border-blue-gray-200 peer-focus:after:!border-light-green-500"},green:{color:"text-blue-gray-400 peer-focus:text-green-500",before:"before:border-blue-gray-200 peer-focus:before:!border-green-500",after:"after:border-blue-gray-200 peer-focus:after:!border-green-500"},teal:{color:"text-blue-gray-400 peer-focus:text-teal-500",before:"before:border-blue-gray-200 peer-focus:before:!border-teal-500",after:"after:border-blue-gray-200 peer-focus:after:!border-teal-500"},cyan:{color:"text-blue-gray-400 peer-focus:text-cyan-500",before:"before:border-blue-gray-200 peer-focus:before:!border-cyan-500",after:"after:border-blue-gray-200 peer-focus:after:!border-cyan-500"},"light-blue":{color:"text-blue-gray-400 peer-focus:text-light-blue-500",before:"before:border-blue-gray-200 peer-focus:before:!border-light-blue-500",after:"after:border-blue-gray-200 peer-focus:after:!border-light-blue-500"},blue:{color:"text-blue-gray-400 peer-focus:text-blue-500",before:"before:border-blue-gray-200 peer-focus:before:!border-blue-500",after:"after:border-blue-gray-200 peer-focus:after:!border-blue-500"},indigo:{color:"text-blue-gray-400 peer-focus:text-indigo-500",before:"before:border-blue-gray-200 peer-focus:before:!border-indigo-500",after:"after:border-blue-gray-200 peer-focus:after:!border-indigo-500"},"deep-purple":{color:"text-blue-gray-400 peer-focus:text-deep-purple-500",before:"before:border-blue-gray-200 peer-focus:before:!border-deep-purple-500",after:"after:border-blue-gray-200 peer-focus:after:!border-deep-purple-500"},purple:{color:"text-blue-gray-400 peer-focus:text-purple-500",before:"before:border-blue-gray-200 peer-focus:before:!border-purple-500",after:"after:border-blue-gray-200 peer-focus:after:!border-purple-500"},pink:{color:"text-blue-gray-400 peer-focus:text-pink-500",before:"before:border-blue-gray-200 peer-focus:before:!border-pink-500",after:"after:border-blue-gray-200 peer-focus:after:!border-pink-500"},red:{color:"text-blue-gray-400 peer-focus:text-red-500",before:"before:border-blue-gray-200 peer-focus:before:!border-red-500",after:"after:border-blue-gray-200 peer-focus:after:!border-red-500"}},t=e})(Cte);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var e=r(bte),t=r(yte),i=r(Cte);function r(a){return a&&a.__esModule?a:{default:a}}var o={base:{input:{borderWidth:"placeholder-shown:border",borderColor:"placeholder-shown:border-blue-gray-200 placeholder-shown:border-t-blue-gray-200",floated:{borderWidth:"border focus:border-2",borderColor:"border-t-transparent focus:border-t-transparent"},placeholder:"placeholder:opacity-0 focus:placeholder:opacity-100"},inputWithIcon:{pr:"!pr-9"},icon:{top:"top-2/4",right:"right-3",transform:"-translate-y-2/4"},label:e.default},sizes:{md:{container:{height:"h-10"},input:{fontSize:"text-sm",px:"px-3",py:"py-2.5",borderRadius:"rounded-[7px]"},label:{lineHeight:"peer-placeholder-shown:leading-[3.75]"},icon:{width:"w-5",height:"h-5"}},lg:{container:{height:"h-11"},input:{fontSize:"text-sm",px:"px-3",py:"py-3",borderRadius:"rounded-md"},label:{lineHeight:"peer-placeholder-shown:leading-[4.1]"},icon:{width:"w-6",height:"h-6"}}},colors:{input:t.default,label:i.default},error:{input:{borderColor:"border-red-500 placeholder-shown:border-t-red-500 placeholder-shown:border-red-500",borderColorFocused:"focus:border-red-500"},label:{color:"text-red-500 peer-focus:text-red-500 peer-placeholder-shown:text-red-500",before:"before:border-red-500 peer-focus:before:border-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},success:{input:{borderColor:"border-green-500 placeholder-shown:border-t-green-500 placeholder-shown:border-green-500",borderColorFocused:"focus:border-green-500"},label:{color:"text-green-500 peer-focus:text-green-500 peer-placeholder-shown:text-green-500",before:"before:border-green-500 peer-focus:before:border-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"}},shrink:{input:{borderTop:"!border-t-transparent"},label:{fontSize:"!text-[11px]",lineHeight:"!leading-tight",borderColor:"before:!border-blue-gray-200 after:!border-blue-gray-200"}}},s=o})(vte);var wte={},Ste={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={position:"-top-1.5",fontSize:"peer-placeholder-shown:text-sm",floated:{fontSize:"text-[11px] peer-focus:text-[11px]"},after:{content:"after:content['']",display:"after:block",width:"after:w-full",position:"after:absolute",bottom:"after:-bottom-1.5",left:"left-0",borderWidth:"after:border-b-2",scale:"after:scale-x-0",floated:{scale:"peer-focus:after:scale-x-100"},transition:"after:transition-transform after:duration-300"}},t=e})(Ste);var xte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={black:{color:"text-black",borderColor:"border-black",borderColorFocused:"focus:border-black"},white:{color:"!text-white",borderColor:"border-white",borderColorFocused:"focus:border-white"},"blue-gray":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-blue-gray-900"},gray:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-gray-500"},brown:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-brown-500"},"deep-orange":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-deep-orange-500"},orange:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-orange-500"},amber:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-amber-500"},yellow:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-yellow-500"},lime:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-lime-500"},"light-green":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-light-green-500"},green:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-green-500"},teal:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-teal-500"},cyan:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-cyan-500"},"light-blue":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-light-blue-500"},blue:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-blue-500"},indigo:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-indigo-500"},"deep-purple":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-deep-purple-500"},purple:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-purple-500"},pink:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-pink-500"},red:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-red-500"}},t=e})(xte);var Lte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={black:{color:"!text-black peer-focus:text-black",after:"after:border-black peer-focus:after:border-black"},white:{color:"!text-white peer-focus:text-white",after:"after:border-white peer-focus:after:border-white"},"blue-gray":{color:"text-blue-gray-500 peer-focus:text-blue-gray-500",after:"after:border-blue-gray-500 peer-focus:after:border-blue-gray-500"},gray:{color:"text-gray-500 peer-focus:text-gray-900",after:"after:border-gray-500 peer-focus:after:border-gray-900"},brown:{color:"text-blue-gray-500 peer-focus:text-brown-500",after:"after:border-brown-500 peer-focus:after:border-brown-500"},"deep-orange":{color:"text-blue-gray-500 peer-focus:text-deep-orange-500",after:"after:border-deep-orange-500 peer-focus:after:border-deep-orange-500"},orange:{color:"text-blue-gray-500 peer-focus:text-orange-500",after:"after:border-orange-500 peer-focus:after:border-orange-500"},amber:{color:"text-blue-gray-500 peer-focus:text-amber-500",after:"after:border-amber-500 peer-focus:after:border-amber-500"},yellow:{color:"text-blue-gray-500 peer-focus:text-yellow-500",after:"after:border-yellow-500 peer-focus:after:border-yellow-500"},lime:{color:"text-blue-gray-500 peer-focus:text-lime-500",after:"after:border-lime-500 peer-focus:after:border-lime-500"},"light-green":{color:"text-blue-gray-500 peer-focus:text-light-green-500",after:"after:border-light-green-500 peer-focus:after:border-light-green-500"},green:{color:"text-blue-gray-500 peer-focus:text-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"},teal:{color:"text-blue-gray-500 peer-focus:text-teal-500",after:"after:border-teal-500 peer-focus:after:border-teal-500"},cyan:{color:"text-blue-gray-500 peer-focus:text-cyan-500",after:"after:border-cyan-500 peer-focus:after:border-cyan-500"},"light-blue":{color:"text-blue-gray-500 peer-focus:text-light-blue-500",after:"after:border-light-blue-500 peer-focus:after:border-light-blue-500"},blue:{color:"text-blue-gray-500 peer-focus:text-blue-500",after:"after:border-blue-500 peer-focus:after:border-blue-500"},indigo:{color:"text-blue-gray-500 peer-focus:text-indigo-500",after:"after:border-indigo-500 peer-focus:after:border-indigo-500"},"deep-purple":{color:"text-blue-gray-500 peer-focus:text-deep-purple-500",after:"after:border-deep-purple-500 peer-focus:after:border-deep-purple-500"},purple:{color:"text-blue-gray-500 peer-focus:text-purple-500",after:"after:border-purple-500 peer-focus:after:border-purple-500"},pink:{color:"text-blue-gray-500 peer-focus:text-pink-500",after:"after:border-pink-500 peer-focus:after:border-pink-500"},red:{color:"text-blue-gray-500 peer-focus:text-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},t=e})(Lte);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var e=r(Ste),t=r(xte),i=r(Lte);function r(a){return a&&a.__esModule?a:{default:a}}var o={base:{input:{borderWidth:"border-b",borderColor:"placeholder-shown:border-blue-gray-200",placeholder:"placeholder:opacity-0 focus:placeholder:opacity-100"},inputWithIcon:{pr:"!pr-7"},icon:{top:"top-2/4",right:"right-0",transform:"-translate-y-1/4"},label:e.default},sizes:{md:{container:{height:"h-11"},input:{fontSize:"text-sm",pt:"pt-4",pb:"pb-1.5"},label:{lineHeight:"peer-placeholder-shown:leading-[4.25]"},icon:{width:"w-5",height:"h-5"}},lg:{container:{height:"h-12"},input:{fontSize:"text-sm",px:"px-px",pt:"pt-5",pb:"pb-2"},label:{lineHeight:"peer-placeholder-shown:leading-[4.875]"},icon:{width:"w-6",height:"h-6"}}},colors:{input:t.default,label:i.default},error:{input:{borderColor:"border-red-500 placeholder-shown:border-red-500",borderColorFocused:"focus:border-red-500"},label:{color:"text-red-500 peer-focus:text-red-500 peer-placeholder-shown:text-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},success:{input:{borderColor:"border-green-500 placeholder-shown:border-green-500",borderColorFocused:"focus:border-green-500"},label:{color:"text-green-500 peer-focus:text-green-500 peer-placeholder-shown:text-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"}},shrink:{input:{},label:{fontSize:"!text-[11px]",lineHeight:"!leading-tight"}}},s=o})(wte);var kte={},Dte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={position:"-top-2.5",fontSize:"text-sm peer-focus:text-sm",after:{content:"after:content[' ']",display:"after:block",width:"after:w-full",position:"after:absolute",bottom:"after:-bottom-2.5",left:"left-0",borderWidth:"after:border-b-2",scale:"after:scale-x-0",floated:{scale:"peer-focus:after:scale-x-100"},transition:"after:transition-transform after:duration-300"}},t=e})(Dte);var Tte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={black:{color:"text-black",borderColor:"border-black",borderColorFocused:"focus:border-black"},white:{color:"!text-white",borderColor:"border-white",borderColorFocused:"focus:border-white"},"blue-gray":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-blue-gray-500"},gray:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-gray-900"},brown:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-brown-500"},"deep-orange":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-deep-orange-500"},orange:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-orange-500"},amber:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-amber-500"},yellow:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-yellow-500"},lime:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-lime-500"},"light-green":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-light-green-500"},green:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-green-500"},teal:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-teal-500"},cyan:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-cyan-500"},"light-blue":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-light-blue-500"},blue:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-blue-500"},indigo:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-indigo-500"},"deep-purple":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-deep-purple-500"},purple:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-purple-500"},pink:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-pink-500"},red:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-red-500"}},t=e})(Tte);var Ete={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={black:{color:"!text-black peer-focus:black",after:"after:border-black peer-focus:after:border-black"},white:{color:"!text-white peer-focus:white",after:"after:border-white peer-focus:after:border-white"},"blue-gray":{color:"text-blue-gray-500 peer-focus:text-blue-gray-500",after:"after:border-blue-gray-500 peer-focus:after:border-blue-gray-500"},gray:{color:"text-gray-500 peer-focus:text-gray-900",after:"after:border-gray-500 peer-focus:after:border-gray-900"},brown:{color:"text-blue-gray-500 peer-focus:text-brown-500",after:"after:border-brown-500 peer-focus:after:border-brown-500"},"deep-orange":{color:"text-blue-gray-500 peer-focus:text-deep-orange-500",after:"after:border-deep-orange-500 peer-focus:after:border-deep-orange-500"},orange:{color:"text-blue-gray-500 peer-focus:text-orange-500",after:"after:border-orange-500 peer-focus:after:border-orange-500"},amber:{color:"text-blue-gray-500 peer-focus:text-amber-500",after:"after:border-amber-500 peer-focus:after:border-amber-500"},yellow:{color:"text-blue-gray-500 peer-focus:text-yellow-500",after:"after:border-yellow-500 peer-focus:after:border-yellow-500"},lime:{color:"text-blue-gray-500 peer-focus:text-lime-500",after:"after:border-lime-500 peer-focus:after:border-lime-500"},"light-green":{color:"text-blue-gray-500 peer-focus:text-light-green-500",after:"after:border-light-green-500 peer-focus:after:border-light-green-500"},green:{color:"text-blue-gray-500 peer-focus:text-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"},teal:{color:"text-blue-gray-500 peer-focus:text-teal-500",after:"after:border-teal-500 peer-focus:after:border-teal-500"},cyan:{color:"text-blue-gray-500 peer-focus:text-cyan-500",after:"after:border-cyan-500 peer-focus:after:border-cyan-500"},"light-blue":{color:"text-blue-gray-500 peer-focus:text-light-blue-500",after:"after:border-light-blue-500 peer-focus:after:border-light-blue-500"},blue:{color:"text-blue-gray-500 peer-focus:text-blue-500",after:"after:border-blue-500 peer-focus:after:border-blue-500"},indigo:{color:"text-blue-gray-500 peer-focus:text-indigo-500",after:"after:border-indigo-500 peer-focus:after:border-indigo-500"},"deep-purple":{color:"text-blue-gray-500 peer-focus:text-deep-purple-500",after:"after:border-deep-purple-500 peer-focus:after:border-deep-purple-500"},purple:{color:"text-blue-gray-500 peer-focus:text-purple-500",after:"after:border-purple-500 peer-focus:after:border-purple-500"},pink:{color:"text-blue-gray-500 peer-focus:text-pink-500",after:"after:border-pink-500 peer-focus:after:border-pink-500"},red:{color:"text-blue-gray-500 peer-focus:text-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},t=e})(Ete);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var e=r(Dte),t=r(Tte),i=r(Ete);function r(a){return a&&a.__esModule?a:{default:a}}var o={base:{input:{borderWidth:"border-b",borderColor:"placeholder-shown:border-blue-gray-200"},inputWithIcon:{pr:"!pr-7"},icon:{top:"top-2/4",right:"right-0",transform:"-translate-y-1/4"},label:e.default},sizes:{md:{container:{height:"h-11"},input:{fontSize:"text-sm",pt:"pt-4",pb:"pb-1.5"},label:{lineHeight:"peer-placeholder-shown:leading-tight"},icon:{width:"w-5",height:"h-5"}},lg:{container:{height:"h-12"},input:{fontSize:"text-sm",px:"px-px",pt:"pt-5",pb:"pb-2"},label:{lineHeight:"peer-placeholder-shown:leading-tight"},icon:{width:"w-6",height:"h-6"}}},colors:{input:t.default,label:i.default},error:{input:{borderColor:"border-red-500 placeholder-shown:border-red-500",borderColorFocused:"focus:border-red-500"},label:{color:"text-red-500 peer-focus:text-red-500 peer-placeholder-shown:text-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},success:{input:{borderColor:"border-green-500 placeholder-shown:border-green-500",borderColorFocused:"focus:border-green-500"},label:{color:"text-green-500 peer-focus:text-green-500 peer-placeholder-shown:text-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"}},shrink:{input:{},label:{}}},s=o})(kte);var _x={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(x,k){for(var D in k)Object.defineProperty(x,D,{enumerable:!0,get:k[D]})}e(n,{propTypesVariant:function(){return u},propTypesSize:function(){return h},propTypesColor:function(){return f},propTypesLabel:function(){return g},propTypesError:function(){return _},propTypesSuccess:function(){return y},propTypesIcon:function(){return m},propTypesResize:function(){return p},propTypesLabelProps:function(){return v},propTypesContainerProps:function(){return b},propTypesShrink:function(){return C},propTypesClassName:function(){return S}});var t=s(Vt),i=Xn;function r(x,k){(k==null||k>x.length)&&(k=x.length);for(var D=0,E=new Array(k);D<k;D++)E[D]=x[D];return E}function o(x){if(Array.isArray(x))return r(x)}function s(x){return x&&x.__esModule?x:{default:x}}function a(x){if(typeof Symbol<"u"&&x[Symbol.iterator]!=null||x["@@iterator"]!=null)return Array.from(x)}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(x){return o(x)||a(x)||d(x)||l()}function d(x,k){if(x){if(typeof x=="string")return r(x,k);var D=Object.prototype.toString.call(x).slice(8,-1);if(D==="Object"&&x.constructor&&(D=x.constructor.name),D==="Map"||D==="Set")return Array.from(D);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return r(x,k)}}var u=["standard","outlined","static"],h=["md","lg"],f=["black","white"].concat(c(i.propTypesColors)),g=t.default.string,_=t.default.bool,y=t.default.bool,m=t.default.node,p=t.default.bool,v=t.default.instanceOf(Object),b=t.default.instanceOf(Object),C=t.default.bool,S=t.default.string})(_x);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(c,d){for(var u in d)Object.defineProperty(c,u,{enumerable:!0,get:d[u]})}e(n,{input:function(){return a},default:function(){return l}});var t=s(vte),i=s(wte),r=s(kte),o=_x;function s(c){return c&&c.__esModule?c:{default:c}}var a={defaultProps:{variant:"outlined",size:"md",color:"gray",label:"",error:!1,success:!1,icon:void 0,labelProps:void 0,containerProps:void 0,shrink:!1,className:""},valid:{variants:o.propTypesVariant,sizes:o.propTypesSize,colors:o.propTypesColor},styles:{base:{container:{position:"relative",width:"w-full",minWidth:"min-w-[200px]"},input:{peer:"peer",width:"w-full",height:"h-full",bg:"bg-transparent",color:"text-blue-gray-700",fontFamily:"font-sans",fontWeight:"font-normal",outline:"outline outline-0 focus:outline-0",disabled:"disabled:bg-blue-gray-50 disabled:border-0 disabled:cursor-not-allowed",transition:"transition-all"},label:{display:"flex",width:"w-full",height:"h-full",userSelect:"select-none",pointerEvents:"pointer-events-none",position:"absolute",left:"left-0",fontWeight:"font-normal",overflow:"!overflow-visible",textOverflow:"truncate",color:"peer-placeholder-shown:text-blue-gray-500",lineHeight:"leading-tight peer-focus:leading-tight",disabled:"peer-disabled:text-transparent peer-disabled:peer-placeholder-shown:text-blue-gray-500",transition:"transition-all"},icon:{display:"grid",placeItems:"place-items-center",position:"absolute",color:"text-blue-gray-500"},asterisk:{display:"inline-block",color:"text-red-500",ml:"ml-0.5"}},variants:{outlined:t.default,standard:i.default,static:r.default}}},l=a})(_te);var Ite={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{menu:function(){return t},default:function(){return i}});var t={defaultProps:{placement:"bottom",offset:5,dismiss:{itemPress:!0},animate:{unmount:{},mount:{}},lockScroll:!1},styles:{base:{menu:{bg:"bg-white",minWidth:"min-w-[180px]",p:"p-3",border:"border border-blue-gray-50",borderRadius:"rounded-md",boxShadow:"shadow-lg shadow-blue-gray-500/10",fontFamily:"font-sans",fontSize:"text-sm",fontWeight:"font-normal",color:"text-blue-gray-500",overflow:"overflow-auto",outline:"focus:outline-none",zIndex:"z-[999]"},item:{initial:{display:"block",width:"w-full",pt:"pt-[9px]",pb:"pb-2",px:"px-3",borderRadius:"rounded-md",textAlign:"text-start",lightHeight:"leading-tight",cursor:"cursor-pointer",userSelect:"select-none",transition:"transition-all",bg:"hover:bg-blue-gray-50 hover:bg-opacity-80 focus:bg-blue-gray-50 focus:bg-opacity-80 active:bg-blue-gray-50 active:bg-opacity-80",color:"hover:text-blue-gray-900 focus:text-blue-gray-900 active:text-blue-gray-900",outline:"outline-none"},disabled:{opacity:"opacity-50",cursor:"cursor-not-allowed",pointerEvents:"pointer-events-none",userSelect:"select-none",bg:"hover:bg-transparent focus:bg-transparent active:bg-transparent",color:"hover:text-blue-gray-500 focus:text-blue-gray-500 active:text-blue-gray-500"}}}}},i=t})(Ite);var Nte={},Pte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={transparent:{background:"bg-transparent",color:"text-white",boxShadow:"shadow-none"},white:{background:"bg-white",color:"text-white"},"blue-gray":{background:"bg-blue-gray-500",color:"text-white"},gray:{background:"bg-gray-500",color:"text-white"},brown:{background:"bg-brown-500",color:"text-white"},"deep-orange":{background:"bg-deep-orange-500",color:"text-white"},orange:{background:"bg-orange-500",color:"text-white"},amber:{background:"bg-amber-500",color:"text-black"},yellow:{background:"bg-yellow-500",color:"text-black"},lime:{background:"bg-lime-500",color:"text-black"},"light-green":{background:"bg-light-green-500",color:"text-white"},green:{background:"bg-green-500",color:"text-white"},teal:{background:"bg-teal-500",color:"text-white"},cyan:{background:"bg-cyan-500",color:"text-white"},"light-blue":{background:"bg-light-blue-500",color:"text-white"},blue:{background:"bg-blue-500",color:"text-white"},indigo:{background:"bg-indigo-500",color:"text-white"},"deep-purple":{background:"bg-deep-purple-500",color:"text-white"},purple:{background:"bg-purple-500",color:"text-white"},pink:{background:"bg-pink-500",color:"text-white"},red:{background:"bg-red-500",color:"text-white"}},t=e})(Pte);var Mte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={transparent:{background:"bg-transparent",color:"text-blue-gray-900",boxShadow:"shadow-none"},white:{background:"bg-white",color:"text-blue-gray-900"},"blue-gray":{background:"bg-gradient-to-tr from-blue-gray-600 to-blue-gray-400",color:"text-white"},gray:{background:"bg-gradient-to-tr from-gray-600 to-gray-400",color:"text-white"},brown:{background:"bg-gradient-to-tr from-brown-600 to-brown-400",color:"text-white"},"deep-orange":{background:"bg-gradient-to-tr from-deep-orange-600 to-deep-orange-400",color:"text-white"},orange:{background:"bg-gradient-to-tr from-orange-600 to-orange-400",color:"text-white"},amber:{background:"bg-gradient-to-tr from-amber-600 to-amber-400",color:"text-black"},yellow:{background:"bg-gradient-to-tr from-yellow-600 to-yellow-400",color:"text-black"},lime:{background:"bg-gradient-to-tr from-lime-600 to-lime-400",color:"text-black"},"light-green":{background:"bg-gradient-to-tr from-light-green-600 to-light-green-400",color:"text-white"},green:{background:"bg-gradient-to-tr from-green-600 to-green-400",color:"text-white"},teal:{background:"bg-gradient-to-tr from-teal-600 to-teal-400",color:"text-white"},cyan:{background:"bg-gradient-to-tr from-cyan-600 to-cyan-400",color:"text-white"},"light-blue":{background:"bg-gradient-to-tr from-light-blue-600 to-light-blue-400",color:"text-white"},blue:{background:"bg-gradient-to-tr from-blue-600 to-blue-400",color:"text-white"},indigo:{background:"bg-gradient-to-tr from-indigo-600 to-indigo-400",color:"text-white"},"deep-purple":{background:"bg-gradient-to-tr from-deep-purple-600 to-deep-purple-400",color:"text-white"},purple:{background:"bg-gradient-to-tr from-purple-600 to-purple-400",color:"text-white"},pink:{background:"bg-gradient-to-tr from-pink-600 to-pink-400",color:"text-white"},red:{background:"bg-gradient-to-tr from-red-600 to-red-400",color:"text-white"}},t=e})(Mte);var GN={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(b,C){for(var S in C)Object.defineProperty(b,S,{enumerable:!0,get:C[S]})}e(n,{propTypesVariant:function(){return u},propTypesColor:function(){return h},propTypesShadow:function(){return f},propTypesBlurred:function(){return g},propTypesFullWidth:function(){return _},propTypesClassName:function(){return y},propTypesChildren:function(){return m},propTypesOpen:function(){return p},propTypesAnimate:function(){return v}});var t=s(Vt),i=Xn;function r(b,C){(C==null||C>b.length)&&(C=b.length);for(var S=0,x=new Array(C);S<C;S++)x[S]=b[S];return x}function o(b){if(Array.isArray(b))return r(b)}function s(b){return b&&b.__esModule?b:{default:b}}function a(b){if(typeof Symbol<"u"&&b[Symbol.iterator]!=null||b["@@iterator"]!=null)return Array.from(b)}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(b){return o(b)||a(b)||d(b)||l()}function d(b,C){if(b){if(typeof b=="string")return r(b,C);var S=Object.prototype.toString.call(b).slice(8,-1);if(S==="Object"&&b.constructor&&(S=b.constructor.name),S==="Map"||S==="Set")return Array.from(S);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return r(b,C)}}var u=["filled","gradient"],h=["transparent","white"].concat(c(i.propTypesColors)),f=t.default.bool,g=t.default.bool,_=t.default.bool,y=t.default.string,m=t.default.node.isRequired,p=t.default.bool.isRequired,v=i.propTypesAnimation})(GN);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(l,c){for(var d in c)Object.defineProperty(l,d,{enumerable:!0,get:c[d]})}e(n,{navbar:function(){return s},default:function(){return a}});var t=o(Pte),i=o(Mte),r=GN;function o(l){return l&&l.__esModule?l:{default:l}}var s={defaultProps:{variant:"filled",color:"white",shadow:!0,blurred:!0,fullWidth:!1,className:""},valid:{variants:r.propTypesVariant,colors:r.propTypesColor},styles:{base:{navbar:{initial:{display:"block",width:"w-full",maxWidth:"max-w-screen-2xl",borderRadius:"rounded-xl",py:"py-4",px:"px-8"},shadow:{boxShadow:"shadow-md"},blurred:{backdropFilter:"backdrop-saturate-200 backdrop-blur-2xl",bgOpacity:"bg-opacity-80",borderWidth:"border",borderColor:"border-white/80"},fullWidth:{width:"w-full",maxWidth:"max-w-full",rounded:"rounded-none",px:"px-4"}},mobileNav:{display:"block",width:"w-full",basis:"basis-full",overflow:"overflow-hidden"}},variants:{filled:t.default,gradient:i.default}}},a=s})(Nte);var Rte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{popover:function(){return t},default:function(){return i}});var t={defaultProps:{placement:"top",offset:5,dismiss:{},animate:{unmount:{},mount:{}},className:""},styles:{base:{bg:"bg-white",p:"p-4",border:"border border-blue-gray-50",borderRadius:"rounded-lg",boxShadow:"shadow-lg shadow-blue-gray-500/10",fontFamily:"font-sans",fontSize:"text-sm",fontWeight:"font-normal",color:"text-blue-gray-500",outline:"focus:outline-none",overflowWrap:"break-words",whiteSpace:"whitespace-normal"}}},i=t})(Rte);var Ate={},Ote={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{backgroud:"bg-blue-gray-500",color:"text-white"},gray:{backgroud:"bg-gray-900",color:"text-white"},brown:{backgroud:"bg-brown-500",color:"text-white"},"deep-orange":{backgroud:"bg-deep-orange-500",color:"text-white"},orange:{backgroud:"bg-orange-500",color:"text-white"},amber:{backgroud:"bg-amber-500",color:"text-black"},yellow:{backgroud:"bg-yellow-500",color:"text-black"},lime:{backgroud:"bg-lime-500",color:"text-black"},"light-green":{backgroud:"bg-light-green-500",color:"text-white"},green:{backgroud:"bg-green-500",color:"text-white"},teal:{backgroud:"bg-teal-500",color:"text-white"},cyan:{backgroud:"bg-cyan-500",color:"text-white"},"light-blue":{backgroud:"bg-light-blue-500",color:"text-white"},blue:{backgroud:"bg-blue-500",color:"text-white"},indigo:{backgroud:"bg-indigo-500",color:"text-white"},"deep-purple":{backgroud:"bg-deep-purple-500",color:"text-white"},purple:{backgroud:"bg-purple-500",color:"text-white"},pink:{backgroud:"bg-pink-500",color:"text-white"},red:{backgroud:"bg-red-500",color:"text-white"}},t=e})(Ote);var Fte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{backgroud:"bg-gradient-to-tr from-blue-gray-600 to-blue-gray-400",color:"text-white"},gray:{backgroud:"bg-gradient-to-tr from-gray-900 to-gray-800",color:"text-white"},brown:{backgroud:"bg-gradient-to-tr from-brown-600 to-brown-400",color:"text-white"},"deep-orange":{backgroud:"bg-gradient-to-tr from-deep-orange-600 to-deep-orange-400",color:"text-white"},orange:{backgroud:"bg-gradient-to-tr from-orange-600 to-orange-400",color:"text-white"},amber:{backgroud:"bg-gradient-to-tr from-amber-600 to-amber-400",color:"text-black"},yellow:{backgroud:"bg-gradient-to-tr from-yellow-600 to-yellow-400",color:"text-black"},lime:{backgroud:"bg-gradient-to-tr from-lime-600 to-lime-400",color:"text-black"},"light-green":{backgroud:"bg-gradient-to-tr from-light-green-600 to-light-green-400",color:"text-white"},green:{backgroud:"bg-gradient-to-tr from-green-600 to-green-400",color:"text-white"},teal:{backgroud:"bg-gradient-to-tr from-teal-600 to-teal-400",color:"text-white"},cyan:{backgroud:"bg-gradient-to-tr from-cyan-600 to-cyan-400",color:"text-white"},"light-blue":{backgroud:"bg-gradient-to-tr from-light-blue-600 to-light-blue-400",color:"text-white"},blue:{backgroud:"bg-gradient-to-tr from-blue-600 to-blue-400",color:"text-white"},indigo:{backgroud:"bg-gradient-to-tr from-indigo-600 to-indigo-400",color:"text-white"},"deep-purple":{backgroud:"bg-gradient-to-tr from-deep-purple-600 to-deep-purple-400",color:"text-white"},purple:{backgroud:"bg-gradient-to-tr from-purple-600 to-purple-400",color:"text-white"},pink:{backgroud:"bg-gradient-to-tr from-pink-600 to-pink-400",color:"text-white"},red:{backgroud:"bg-gradient-to-tr from-red-600 to-red-400",color:"text-white"}},t=e})(Fte);var $7={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(h,f){for(var g in f)Object.defineProperty(h,g,{enumerable:!0,get:f[g]})}e(n,{propTypesVariant:function(){return o},propTypesColor:function(){return s},propTypesSize:function(){return a},propTypesValue:function(){return l},propTypesLabel:function(){return c},propTypesBarProps:function(){return d},propTypesClassName:function(){return u}});var t=r(Vt),i=Xn;function r(h){return h&&h.__esModule?h:{default:h}}var o=["filled","gradient"],s=i.propTypesColors,a=["sm","md","lg"],l=t.default.number,c=t.default.oneOfType([t.default.string,t.default.bool]),d=t.default.instanceOf(Object),u=t.default.string})($7);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(l,c){for(var d in c)Object.defineProperty(l,d,{enumerable:!0,get:c[d]})}e(n,{progress:function(){return s},default:function(){return a}});var t=o(Ote),i=o(Fte),r=$7;function o(l){return l&&l.__esModule?l:{default:l}}var s={defaultProps:{variant:"filled",color:"gray",size:"md",value:0,label:!1,className:"",barProps:{}},valid:{variants:r.propTypesVariant,colors:r.propTypesColor,sizes:r.propTypesSize},styles:{base:{container:{initial:{display:"flex",justifyContent:"flex-start",bg:"bg-blue-gray-50",overflow:"overflow-hidden",width:"w-full",fontFamily:"font-sans",borderRadius:"rounded-full",fontSize:"text-xs",fontWeight:"font-medium"},withLabel:{}},bar:{display:"flex",justifyContent:"justify-center",alignItems:"items-center",height:"h-full",overflow:"overflow-hidden",wordBreak:"break-all",borderRadius:"rounded-full"}},sizes:{sm:{container:{initial:{height:"h-1.5"},withLabel:{height:"h-3.5"}},bar:{}},md:{container:{initial:{height:"h-2.5"},withLabel:{height:"h-4"}},bar:{}},lg:{container:{initial:{height:"h-3.5"},withLabel:{height:"h-5"}},bar:{}}},variants:{filled:t.default,gradient:i.default}}},a=s})(Ate);var Bte={},Wte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{color:"text-blue-gray-500",border:"checked:border-blue-gray-500",before:"checked:before:bg-blue-gray-500"},gray:{color:"text-gray-900",border:"checked:border-gray-900",before:"checked:before:bg-gray-900"},brown:{color:"text-brown-500",border:"checked:border-brown-500",before:"checked:before:bg-brown-500"},"deep-orange":{color:"text-deep-orange-500",border:"checked:border-deep-orange-500",before:"checked:before:bg-deep-orange-500"},orange:{color:"text-orange-500",border:"checked:border-orange-500",before:"checked:before:bg-orange-500"},amber:{color:"text-amber-500",border:"checked:border-amber-500",before:"checked:before:bg-amber-500"},yellow:{color:"text-yellow-500",border:"checked:border-yellow-500",before:"checked:before:bg-yellow-500"},lime:{color:"text-lime-500",border:"checked:border-lime-500",before:"checked:before:bg-lime-500"},"light-green":{color:"text-light-green-500",border:"checked:border-light-green-500",before:"checked:before:bg-light-green-500"},green:{color:"text-green-500",border:"checked:border-green-500",before:"checked:before:bg-green-500"},teal:{color:"text-teal-500",border:"checked:border-teal-500",before:"checked:before:bg-teal-500"},cyan:{color:"text-cyan-500",border:"checked:border-cyan-500",before:"checked:before:bg-cyan-500"},"light-blue":{color:"text-light-blue-500",border:"checked:border-light-blue-500",before:"checked:before:bg-light-blue-500"},blue:{color:"text-blue-500",border:"checked:border-blue-500",before:"checked:before:bg-blue-500"},indigo:{color:"text-indigo-500",border:"checked:border-indigo-500",before:"checked:before:bg-indigo-500"},"deep-purple":{color:"text-deep-purple-500",border:"checked:border-deep-purple-500",before:"checked:before:bg-deep-purple-500"},purple:{color:"text-purple-500",border:"checked:border-purple-500",before:"checked:before:bg-purple-500"},pink:{color:"text-pink-500",border:"checked:border-pink-500",before:"checked:before:bg-pink-500"},red:{color:"text-red-500",border:"checked:border-red-500",before:"checked:before:bg-red-500"}},t=e})(Wte);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(a,l){for(var c in l)Object.defineProperty(a,c,{enumerable:!0,get:l[c]})}e(n,{radio:function(){return o},default:function(){return s}});var t=r(Wte),i=S_;function r(a){return a&&a.__esModule?a:{default:a}}var o={defaultProps:{color:"gray",label:void 0,icon:void 0,ripple:!0,className:"",disabled:!1,containerProps:void 0,labelProps:void 0,iconProps:void 0},valid:{colors:i.propTypesColor},styles:{base:{root:{display:"inline-flex",alignItems:"items-center"},container:{position:"relative",display:"flex",alignItems:"items-center",cursor:"cursor-pointer",p:"p-3",borderRadius:"rounded-full"},input:{peer:"peer",position:"relative",appearance:"appearance-none",width:"w-5",height:"h-5",borderWidth:"border",borderRadius:"rounded-full",borderColor:"border-blue-gray-200",cursor:"cursor-pointer",transition:"transition-all",before:{content:"before:content['']",display:"before:block",bg:"before:bg-blue-gray-500",width:"before:w-12",height:"before:h-12",borderRadius:"before:rounded-full",position:"before:absolute",top:"before:top-2/4",left:"before:left-2/4",transform:"before:-translate-y-2/4 before:-translate-x-2/4",opacity:"before:opacity-0 hover:before:opacity-10",transition:"before:transition-opacity"}},label:{color:"text-gray-700",fontWeight:"font-light",userSelect:"select-none",cursor:"cursor-pointer",mt:"mt-px"},icon:{position:"absolute",top:"top-2/4",left:"left-2/4",translate:"-translate-y-2/4 -translate-x-2/4",pointerEvents:"pointer-events-none",opacity:"opacity-0 peer-checked:opacity-100",transition:"transition-opacity"},disabled:{opacity:"opacity-50",pointerEvents:"pointer-events-none"}},colors:t.default}},s=o})(Bte);var Vte={},Hte={},zte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={position:"-top-1.5",before:{content:"before:content[' ']",display:"before:block",boxSizing:"before:box-border",width:"before:w-2.5",height:"before:h-1.5",mt:"before:mt-[6.5px]",mr:"before:mr-1",borderRadius:"before:rounded-tl-md",pointerEvents:"before:pointer-events-none",transition:"before:transition-all",disabled:"peer-disabled:before:border-transparent"},after:{content:"after:content[' ']",display:"after:block",flexGrow:"after:flex-grow",boxSizing:"after:box-border",width:"after:w-2.5",height:"after:h-1.5",mt:"after:mt-[6.5px]",ml:"after:ml-1",borderRadius:"after:rounded-tr-md",pointerEvents:"after:pointer-events-none",transition:"after:transition-all",disabled:"peer-disabled:after:border-transparent"}},t=e})(zte);var jte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-blue-gray-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},gray:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-gray-900",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},brown:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-brown-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},"deep-orange":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-deep-orange-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},orange:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-orange-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},amber:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-amber-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},yellow:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-yellow-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},lime:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-lime-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},"light-green":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-light-green-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},green:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-green-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},teal:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-teal-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},cyan:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-cyan-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},"light-blue":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-light-blue-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},blue:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-blue-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},indigo:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-indigo-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},"deep-purple":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-deep-purple-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},purple:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-purple-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},pink:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-pink-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}},red:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-red-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-gray-200",borderTopColor:"border-t-transparent"}}},t=e})(jte);var Ute={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-blue-gray-500",before:"before:border-blue-gray-500",after:"after:border-blue-gray-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},gray:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-gray-900",before:"before:border-gray-900",after:"after:border-gray-900"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},brown:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-brown-500",before:"before:border-brown-500",after:"after:border-brown-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},"deep-orange":{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-deep-orange-500",before:"before:border-deep-orange-500",after:"after:border-deep-orange-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},orange:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-orange-500",before:"before:border-orange-500",after:"after:border-orange-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},amber:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-amber-500",before:"before:border-amber-500",after:"after:border-amber-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},yellow:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-yellow-500",before:"before:border-yellow-500",after:"after:border-yellow-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},lime:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-lime-500",before:"before:border-lime-500",after:"after:border-lime-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},"light-green":{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-light-green-500",before:"before:border-light-green-500",after:"after:border-light-green-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},green:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-green-500",before:"before:border-green-500",after:"after:border-green-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},teal:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-teal-500",before:"before:border-teal-500",after:"after:border-teal-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},cyan:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-cyan-500",before:"before:border-cyan-500",after:"after:border-cyan-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},"light-blue":{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-light-blue-500",before:"before:border-light-blue-500",after:"after:border-light-blue-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},blue:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-blue-500",before:"before:border-blue-500",after:"after:border-blue-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},indigo:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-indigo-500",before:"before:border-indigo-500",after:"after:border-indigo-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},"deep-purple":{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-deep-purple-500",before:"before:border-deep-purple-500",after:"after:border-deep-purple-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},purple:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-purple-500",before:"before:border-purple-500",after:"after:border-purple-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},pink:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-pink-500",before:"before:border-pink-500",after:"after:border-pink-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}},red:{close:{color:"text-blue-gray-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-red-500",before:"before:border-red-500",after:"after:border-red-500"},withValue:{color:"text-blue-gray-400",before:"before:border-blue-gray-200",after:"after:border-blue-gray-200"}}},t=e})(Ute);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var e=r(zte),t=r(jte),i=r(Ute);function r(a){return a&&a.__esModule?a:{default:a}}var o={base:{select:{},label:e.default},sizes:{md:{container:{height:"h-10"},select:{fontSize:"text-sm",px:"px-3",py:"py-2.5",borderRadius:"rounded-[7px]"},label:{initial:{},states:{close:{lineHeight:"leading-[3.75]"},open:{lineHeight:"leading-tight"},withValue:{lineHeight:"leading-tight"}}}},lg:{container:{height:"h-11"},select:{fontSize:"text-sm",px:"px-3",py:"py-3",borderRadius:"rounded-[7px]"},label:{initial:{},states:{close:{lineHeight:"leading-[4.1]"},open:{lineHeight:"leading-tight"},withValue:{lineHeight:"leading-tight"}}}}},colors:{select:t.default,label:i.default},states:{close:{select:{borderWidth:"border"},label:{fontSize:"text-sm",disabled:"peer-disabled:text-blue-gray-400",before:{bt:"before:border-t-transparent",bl:"before:border-l-transparent"},after:{bt:"after:border-t-transparent",br:"after:border-r-transparent"}}},open:{select:{borderWidth:"border-2",borderColor:"border-t-transparent"},label:{fontSize:"text-[11px]",disabled:"peer-disabled:text-transparent",before:{bt:"before:border-t-2",bl:"before:border-l-2"},after:{bt:"after:border-t-2",br:"after:border-r-2"}}},withValue:{select:{borderWidth:"border",borderColor:"border-t-transparent"},label:{fontSize:"text-[11px]",disabled:"peer-disabled:text-transparent",before:{bt:"before:border-t",bl:"before:border-l"},after:{bt:"after:border-t",br:"after:border-r"}}}},error:{select:{initial:{},states:{close:{borderColor:"border-red-500"},open:{borderColor:"border-red-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-red-500",borderTopColor:"border-t-transparent"}}},label:{initial:{},states:{close:{color:"text-red-500",before:"before:border-red-500",after:"after:border-red-500"},open:{color:"text-red-500",before:"before:border-red-500",after:"after:border-red-500"},withValue:{color:"text-red-500",before:"before:border-red-500",after:"after:border-red-500"}}}},success:{select:{initial:{},states:{close:{borderColor:"border-green-500"},open:{borderColor:"border-green-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-green-500",borderTopColor:"border-t-transparent"}}},label:{initial:{},states:{close:{color:"text-green-500",before:"before:border-green-500",after:"after:border-green-500"},open:{color:"text-green-500",before:"before:border-green-500",after:"after:border-green-500"},withValue:{color:"text-green-500",before:"before:border-green-500",after:"after:border-green-500"}}}}},s=o})(Hte);var $te={},qte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={position:"-top-1.5",after:{content:"after:content[' ']",display:"after:block",width:"after:w-full",position:"after:absolute",bottom:"after:-bottom-1.5",left:"left-0",borderWidth:"after:border-b-2",transition:"after:transition-transform after:duration-300"}},t=e})(qte);var Kte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-blue-gray-500"},withValue:{borderColor:"border-blue-gray-200"}},gray:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-gray-900"},withValue:{borderColor:"border-blue-gray-200"}},brown:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-brown-500"},withValue:{borderColor:"border-blue-gray-200"}},"deep-orange":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-deep-orange-500"},withValue:{borderColor:"border-blue-gray-200"}},orange:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-orange-500"},withValue:{borderColor:"border-blue-gray-200"}},amber:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-amber-500"},withValue:{borderColor:"border-blue-gray-200"}},yellow:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-yellow-500"},withValue:{borderColor:"border-blue-gray-200"}},lime:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-lime-500"},withValue:{borderColor:"border-blue-gray-200"}},"light-green":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-light-green-500"},withValue:{borderColor:"border-blue-gray-200"}},green:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-green-500"},withValue:{borderColor:"border-blue-gray-200"}},teal:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-teal-500"},withValue:{borderColor:"border-blue-gray-200"}},cyan:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-cyan-500"},withValue:{borderColor:"border-blue-gray-200"}},"light-blue":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-light-blue-500"},withValue:{borderColor:"border-blue-gray-200"}},blue:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-blue-500"},withValue:{borderColor:"border-blue-gray-200"}},indigo:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-indigo-500"},withValue:{borderColor:"border-blue-gray-200"}},"deep-purple":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-deep-purple-500"},withValue:{borderColor:"border-blue-gray-200"}},purple:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-purple-500"},withValue:{borderColor:"border-blue-gray-200"}},pink:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-pink-500"},withValue:{borderColor:"border-blue-gray-200"}},red:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-red-500"},withValue:{borderColor:"border-blue-gray-200"}}},t=e})(Kte);var Gte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{close:{color:"text-blue-gray-500",after:"after:border-blue-gray-500"},open:{color:"text-blue-gray-500",after:"after:border-blue-gray-500"},withValue:{color:"text-blue-gray-500",after:"after:border-blue-gray-50"}},gray:{close:{color:"text-blue-gray-500",after:"after:border-gray-500"},open:{color:"text-gray-900",after:"after:border-gray-900"},withValue:{color:"text-blue-gray-500",after:"after:border-gray-500"}},brown:{close:{color:"text-blue-gray-500",after:"after:border-brown-500"},open:{color:"text-brown-500",after:"after:border-brown-500"},withValue:{color:"text-blue-gray-500",after:"after:border-brown-500"}},"deep-orange":{close:{color:"text-blue-gray-500",after:"after:border-deep-orange-500"},open:{color:"text-deep-orange-500",after:"after:border-deep-orange-500"},withValue:{color:"text-blue-gray-500",after:"after:border-deep-orange-500"}},orange:{close:{color:"text-blue-gray-500",after:"after:border-orange-500"},open:{color:"text-orange-500",after:"after:border-orange-500"},withValue:{color:"text-blue-gray-500",after:"after:border-orange-500"}},amber:{close:{color:"text-blue-gray-500",after:"after:border-amber-500"},open:{color:"text-amber-500",after:"after:border-amber-500"},withValue:{color:"text-blue-gray-500",after:"after:border-amber-500"}},yellow:{close:{color:"text-blue-gray-500",after:"after:border-yellow-500"},open:{color:"text-yellow-500",after:"after:border-yellow-500"},withValue:{color:"text-blue-gray-500",after:"after:border-yellow-500"}},lime:{close:{color:"text-blue-gray-500",after:"after:border-lime-500"},open:{color:"text-lime-500",after:"after:border-lime-500"},withValue:{color:"text-blue-gray-500",after:"after:border-lime-500"}},"light-green":{close:{color:"text-blue-gray-500",after:"after:border-light-green-500"},open:{color:"text-light-green-500",after:"after:border-light-green-500"},withValue:{color:"text-blue-gray-500",after:"after:border-light-green-500"}},green:{close:{color:"text-blue-gray-500",after:"after:border-green-500"},open:{color:"text-green-500",after:"after:border-green-500"},withValue:{color:"text-blue-gray-500",after:"after:border-green-500"}},teal:{close:{color:"text-blue-gray-500",after:"after:border-teal-500"},open:{color:"text-teal-500",after:"after:border-teal-500"},withValue:{color:"text-blue-gray-500",after:"after:border-teal-500"}},cyan:{close:{color:"text-blue-gray-500",after:"after:border-cyan-500"},open:{color:"text-cyan-500",after:"after:border-cyan-500"},withValue:{color:"text-blue-gray-500",after:"after:border-cyan-500"}},"light-blue":{close:{color:"text-blue-gray-500",after:"after:border-light-blue-500"},open:{color:"text-light-blue-500",after:"after:border-light-blue-500"},withValue:{color:"text-blue-gray-500",after:"after:border-light-blue-500"}},blue:{close:{color:"text-blue-gray-500",after:"after:border-blue-500"},open:{color:"text-blue-500",after:"after:border-blue-500"},withValue:{color:"text-blue-gray-500",after:"after:border-blue-500"}},indigo:{close:{color:"text-blue-gray-500",after:"after:border-indigo-500"},open:{color:"text-indigo-500",after:"after:border-indigo-500"},withValue:{color:"text-blue-gray-500",after:"after:border-indigo-500"}},"deep-purple":{close:{color:"text-blue-gray-500",after:"after:border-deep-purple-500"},open:{color:"text-deep-purple-500",after:"after:border-deep-purple-500"},withValue:{color:"text-blue-gray-500",after:"after:border-deep-purple-500"}},purple:{close:{color:"text-blue-gray-500",after:"after:border-purple-500"},open:{color:"text-purple-500",after:"after:border-purple-500"},withValue:{color:"text-blue-gray-500",after:"after:border-purple-500"}},pink:{close:{color:"text-blue-gray-500",after:"after:border-pink-500"},open:{color:"text-pink-500",after:"after:border-pink-500"},withValue:{color:"text-blue-gray-500",after:"after:border-pink-500"}},red:{close:{color:"text-blue-gray-500",after:"after:border-red-500"},open:{color:"text-red-500",after:"after:border-red-500"},withValue:{color:"text-blue-gray-500",after:"after:border-red-500"}}},t=e})(Gte);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var e=r(qte),t=r(Kte),i=r(Gte);function r(a){return a&&a.__esModule?a:{default:a}}var o={base:{select:{},label:e.default},sizes:{md:{container:{height:"h-11"},select:{fontSize:"text-sm",pt:"pt-4",pb:"pb-1.5"},label:{initial:{},states:{close:{lineHeight:"leading-[4.25]"},open:{lineHeight:"leading-tight"},withValue:{lineHeight:"leading-tight"}}}},lg:{container:{height:"h-12"},select:{fontSize:"text-sm",px:"px-px",pt:"pt-5",pb:"pb-2"},label:{initial:{},states:{close:{lineHeight:"leading-[4.875]"},open:{lineHeight:"leading-tight"},withValue:{lineHeight:"leading-tight"}}}}},colors:{select:t.default,label:i.default},states:{close:{select:{borderWidth:"border-b"},label:{fontSize:"text-sm",disabled:"peer-disabled:text-blue-gray-400",after:{transform:"after:scale-x-0"}}},open:{select:{borderWidth:"border-b"},label:{fontSize:"text-[11px]",disabled:"peer-disabled:text-transparent",after:{transform:"after:scale-x-100"}}},withValue:{select:{borderWidth:"border-b"},label:{fontSize:"text-[11px]",disabled:"peer-disabled:text-transparent",after:{transform:"after:scale-x-0"}}}},error:{select:{initial:{},states:{close:{borderColor:"border-red-500"},open:{borderColor:"border-red-500"},withValue:{borderColor:"border-red-500"}}},label:{initial:{},states:{close:{color:"text-red-500",after:"after:border-red-500"},open:{color:"text-red-500",after:"after:border-red-500"},withValue:{color:"text-red-500",after:"after:border-red-500"}}}},success:{select:{initial:{},states:{close:{borderColor:"border-green-500"},open:{borderColor:"border-green-500"},withValue:{borderColor:"border-green-500"}}},label:{initial:{},states:{close:{color:"text-green-500",after:"after:border-green-500"},open:{color:"text-green-500",after:"after:border-green-500"},withValue:{color:"text-green-500",after:"after:border-green-500"}}}}},s=o})($te);var Zte={},Yte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={position:"-top-2.5",after:{content:"after:content[' ']",display:"after:block",width:"after:w-full",position:"after:absolute",bottom:"after:-bottom-2.5",left:"left-0",borderWidth:"after:border-b-2",transition:"after:transition-transform after:duration-300"}},t=e})(Yte);var Xte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-blue-gray-500"},withValue:{borderColor:"border-blue-gray-200"}},gray:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-gray-900"},withValue:{borderColor:"border-blue-gray-200"}},brown:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-brown-500"},withValue:{borderColor:"border-blue-gray-200"}},"deep-orange":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-deep-orange-500"},withValue:{borderColor:"border-blue-gray-200"}},orange:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-orange-500"},withValue:{borderColor:"border-blue-gray-200"}},amber:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-amber-500"},withValue:{borderColor:"border-blue-gray-200"}},yellow:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-yellow-500"},withValue:{borderColor:"border-blue-gray-200"}},lime:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-lime-500"},withValue:{borderColor:"border-blue-gray-200"}},"light-green":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-light-green-500"},withValue:{borderColor:"border-blue-gray-200"}},green:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-green-500"},withValue:{borderColor:"border-blue-gray-200"}},teal:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-teal-500"},withValue:{borderColor:"border-blue-gray-200"}},cyan:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-cyan-500"},withValue:{borderColor:"border-blue-gray-200"}},"light-blue":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-light-blue-500"},withValue:{borderColor:"border-blue-gray-200"}},blue:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-blue-500"},withValue:{borderColor:"border-blue-gray-200"}},indigo:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-indigo-500"},withValue:{borderColor:"border-blue-gray-200"}},"deep-purple":{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-deep-purple-500"},withValue:{borderColor:"border-blue-gray-200"}},purple:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-purple-500"},withValue:{borderColor:"border-blue-gray-200"}},pink:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-pink-500"},withValue:{borderColor:"border-blue-gray-200"}},red:{close:{borderColor:"border-blue-gray-200"},open:{borderColor:"border-red-500"},withValue:{borderColor:"border-blue-gray-200"}}},t=e})(Xte);var Qte={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{close:{color:"text-blue-gray-500",after:"after:border-blue-gray-500"},open:{color:"text-blue-gray-500",after:"after:border-blue-gray-500"},withValue:{color:"text-blue-gray-500",after:"after:border-blue-gray-50"}},gray:{close:{color:"text-blue-gray-500",after:"after:border-gray-500"},open:{color:"text-gray-900",after:"after:border-gray-900"},withValue:{color:"text-blue-gray-500",after:"after:border-gray-500"}},brown:{close:{color:"text-blue-gray-500",after:"after:border-brown-500"},open:{color:"text-brown-500",after:"after:border-brown-500"},withValue:{color:"text-blue-gray-500",after:"after:border-brown-500"}},"deep-orange":{close:{color:"text-blue-gray-500",after:"after:border-deep-orange-500"},open:{color:"text-deep-orange-500",after:"after:border-deep-orange-500"},withValue:{color:"text-blue-gray-500",after:"after:border-deep-orange-500"}},orange:{close:{color:"text-blue-gray-500",after:"after:border-orange-500"},open:{color:"text-orange-500",after:"after:border-orange-500"},withValue:{color:"text-blue-gray-500",after:"after:border-orange-500"}},amber:{close:{color:"text-blue-gray-500",after:"after:border-amber-500"},open:{color:"text-amber-500",after:"after:border-amber-500"},withValue:{color:"text-blue-gray-500",after:"after:border-amber-500"}},yellow:{close:{color:"text-blue-gray-500",after:"after:border-yellow-500"},open:{color:"text-yellow-500",after:"after:border-yellow-500"},withValue:{color:"text-blue-gray-500",after:"after:border-yellow-500"}},lime:{close:{color:"text-blue-gray-500",after:"after:border-lime-500"},open:{color:"text-lime-500",after:"after:border-lime-500"},withValue:{color:"text-blue-gray-500",after:"after:border-lime-500"}},"light-green":{close:{color:"text-blue-gray-500",after:"after:border-light-green-500"},open:{color:"text-light-green-500",after:"after:border-light-green-500"},withValue:{color:"text-blue-gray-500",after:"after:border-light-green-500"}},green:{close:{color:"text-blue-gray-500",after:"after:border-green-500"},open:{color:"text-green-500",after:"after:border-green-500"},withValue:{color:"text-blue-gray-500",after:"after:border-green-500"}},teal:{close:{color:"text-blue-gray-500",after:"after:border-teal-500"},open:{color:"text-teal-500",after:"after:border-teal-500"},withValue:{color:"text-blue-gray-500",after:"after:border-teal-500"}},cyan:{close:{color:"text-blue-gray-500",after:"after:border-cyan-500"},open:{color:"text-cyan-500",after:"after:border-cyan-500"},withValue:{color:"text-blue-gray-500",after:"after:border-cyan-500"}},"light-blue":{close:{color:"text-blue-gray-500",after:"after:border-light-blue-500"},open:{color:"text-light-blue-500",after:"after:border-light-blue-500"},withValue:{color:"text-blue-gray-500",after:"after:border-light-blue-500"}},blue:{close:{color:"text-blue-gray-500",after:"after:border-blue-500"},open:{color:"text-blue-500",after:"after:border-blue-500"},withValue:{color:"text-blue-gray-500",after:"after:border-blue-500"}},indigo:{close:{color:"text-blue-gray-500",after:"after:border-indigo-500"},open:{color:"text-indigo-500",after:"after:border-indigo-500"},withValue:{color:"text-blue-gray-500",after:"after:border-indigo-500"}},"deep-purple":{close:{color:"text-blue-gray-500",after:"after:border-deep-purple-500"},open:{color:"text-deep-purple-500",after:"after:border-deep-purple-500"},withValue:{color:"text-blue-gray-500",after:"after:border-deep-purple-500"}},purple:{close:{color:"text-blue-gray-500",after:"after:border-purple-500"},open:{color:"text-purple-500",after:"after:border-purple-500"},withValue:{color:"text-blue-gray-500",after:"after:border-purple-500"}},pink:{close:{color:"text-blue-gray-500",after:"after:border-pink-500"},open:{color:"text-pink-500",after:"after:border-pink-500"},withValue:{color:"text-blue-gray-500",after:"after:border-pink-500"}},red:{close:{color:"text-blue-gray-500",after:"after:border-red-500"},open:{color:"text-red-500",after:"after:border-red-500"},withValue:{color:"text-blue-gray-500",after:"after:border-red-500"}}},t=e})(Qte);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var e=r(Yte),t=r(Xte),i=r(Qte);function r(a){return a&&a.__esModule?a:{default:a}}var o={base:{select:{},label:e.default},sizes:{md:{container:{height:"h-11"},select:{fontSize:"text-sm",pt:"pt-4",pb:"pb-1.5"},label:{initial:{},states:{close:{lineHeight:"leading-tight"},open:{lineHeight:"leading-tight"},withValue:{lineHeight:"leading-tight"}}}},lg:{container:{height:"h-12"},select:{fontSize:"text-sm",px:"px-px",pt:"pt-5",pb:"pb-2"},label:{initial:{},states:{close:{lineHeight:"leading-tight"},open:{lineHeight:"leading-tight"},withValue:{lineHeight:"leading-tight"}}}}},colors:{select:t.default,label:i.default},states:{close:{select:{borderWidth:"border-b"},label:{fontSize:"text-sm",disabled:"peer-disabled:text-blue-gray-400",after:{transform:"after:scale-x-0"}}},open:{select:{borderWidth:"border-b"},label:{fontSize:"text-sm",disabled:"peer-disabled:text-transparent",after:{transform:"after:scale-x-100"}}},withValue:{select:{borderWidth:"border-b"},label:{fontSize:"text-sm",disabled:"peer-disabled:text-transparent",after:{transform:"after:scale-x-0"}}}},error:{select:{initial:{},states:{close:{borderColor:"border-red-500"},open:{borderColor:"border-red-500"},withValue:{borderColor:"border-red-500"}}},label:{initial:{},states:{close:{color:"text-red-500",after:"after:border-red-500"},open:{color:"text-red-500",after:"after:border-red-500"},withValue:{color:"text-red-500",after:"after:border-red-500"}}}},success:{select:{initial:{},states:{close:{borderColor:"border-green-500"},open:{borderColor:"border-green-500"},withValue:{borderColor:"border-green-500"}}},label:{initial:{},states:{close:{color:"text-green-500",after:"after:border-green-500"},open:{color:"text-green-500",after:"after:border-green-500"},withValue:{color:"text-green-500",after:"after:border-green-500"}}}}},s=o})(Zte);var vx={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(R,O){for(var W in O)Object.defineProperty(R,W,{enumerable:!0,get:O[W]})}e(n,{propTypesVariant:function(){return o},propTypesSize:function(){return s},propTypesColor:function(){return a},propTypesLabel:function(){return l},propTypesError:function(){return c},propTypesSuccess:function(){return d},propTypesArrow:function(){return u},propTypesValue:function(){return h},propTypesOnChange:function(){return f},propTypesSelected:function(){return g},propTypesOffset:function(){return _},propTypesDismiss:function(){return y},propTypesAnimate:function(){return m},propTypesAutoHeight:function(){return p},propTypesLockScroll:function(){return v},propTypesLabelProps:function(){return b},propTypesMenuProps:function(){return C},propTypesIndex:function(){return S},propTypesDisabled:function(){return x},propTypesClassName:function(){return k},propTypesName:function(){return D},propTypesChildren:function(){return E},propTypesContainerProps:function(){return I},propTypesContextValue:function(){return N}});var t=r(Vt),i=Xn;function r(R){return R&&R.__esModule?R:{default:R}}var o=["standard","outlined","static"],s=["md","lg"],a=i.propTypesColors,l=t.default.string,c=t.default.bool,d=t.default.bool,u=t.default.node,h=t.default.string,f=t.default.func,g=t.default.func,_=i.propTypesOffsetType,y=i.propTypesDismissType,m=i.propTypesAnimation,p=t.default.bool,v=t.default.bool,b=t.default.instanceOf(Object),C=t.default.instanceOf(Object),S=t.default.number,x=t.default.bool,k=t.default.string,D=t.default.string,E=t.default.node.isRequired,I=t.default.instanceOf(Object),N=t.default.shape({selectedIndex:t.default.number.isRequired,setSelectedIndex:t.default.func.isRequired,activeIndex:t.default.oneOfType([t.default.number,t.default.instanceOf(null)]),setActiveIndex:t.default.func.isRequired,listRef:t.default.instanceOf(Object).isRequired,setOpen:t.default.func.isRequired,onChange:t.default.func.isRequired,getItemProps:t.default.func.isRequired,dataRef:t.default.instanceOf(Object).isRequired}).isRequired})(vx);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(c,d){for(var u in d)Object.defineProperty(c,u,{enumerable:!0,get:d[u]})}e(n,{select:function(){return a},default:function(){return l}});var t=s(Hte),i=s($te),r=s(Zte),o=vx;function s(c){return c&&c.__esModule?c:{default:c}}var a={defaultProps:{variant:"outlined",color:"gray",size:"md",label:"",error:!1,success:!1,arrow:void 0,value:void 0,onChange:void 0,selected:void 0,offset:5,dismiss:{},animate:{unmount:{},mount:{}},autoHeight:!1,lockScroll:!1,labelProps:{},menuProps:{},className:"",disabled:!1,containerProps:void 0},valid:{variants:o.propTypesVariant,sizes:o.propTypesSize,colors:o.propTypesColor},styles:{base:{container:{position:"relative",width:"w-full",minWidth:"min-w-[200px]"},select:{peer:"peer",width:"w-full",height:"h-full",bg:"bg-transparent",color:"text-blue-gray-700",fontFamily:"font-sans",fontWeight:"font-normal",textAlign:"text-left",outline:"outline outline-0 focus:outline-0",disabled:"disabled:bg-blue-gray-50 disabled:border-0 disabled:cursor-not-allowed",transition:"transition-all"},arrow:{initial:{display:"grid",placeItems:"place-items-center",position:"absolute",top:"top-2/4",right:"right-2",pt:"pt-px",width:"w-5",height:"h-5",color:"text-blue-gray-400",transform:"rotate-0 -translate-y-2/4",transition:"transition-all"},active:{transform:"rotate-180",mt:"mt-px"}},label:{display:"flex",width:"w-full",height:"h-full",userSelect:"select-none",pointerEvents:"pointer-events-none",position:"absolute",left:"left-0",fontWeight:"font-normal",transition:"transition-all"},menu:{width:"w-full",maxHeight:"max-h-96",bg:"bg-white",p:"p-3",border:"border border-blue-gray-50",borderRadius:"rounded-md",boxShadow:"shadow-lg shadow-blue-gray-500/10",fontFamily:"font-sans",fontSize:"text-sm",fontWeight:"font-normal",color:"text-blue-gray-500",overflow:"overflow-auto",outline:"focus:outline-none"},option:{initial:{pt:"pt-[9px]",pb:"pb-2",px:"px-3",borderRadius:"rounded-md",lightHeight:"leading-tight",cursor:"cursor-pointer",userSelect:"select-none",background:"hover:bg-blue-gray-50 focus:bg-blue-gray-50",opacity:"hover:bg-opacity-80 focus:bg-opacity-80",color:"hover:text-blue-gray-900 focus:text-blue-gray-900",outline:"outline outline-0",transition:"transition-all"},active:{bg:"bg-blue-gray-50 bg-opacity-80",color:"text-blue-gray-900"},disabled:{opacity:"opacity-50",cursor:"cursor-not-allowed",userSelect:"select-none",pointerEvents:"pointer-events-none"}}},variants:{outlined:t.default,standard:i.default,static:r.default}}},l=a})(Vte);var Jte={},eie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{input:"checked:bg-blue-gray-500",circle:"peer-checked:border-blue-gray-500",before:"peer-checked:before:bg-blue-gray-500"},gray:{input:"checked:bg-gray-900",circle:"peer-checked:border-gray-900",before:"peer-checked:before:bg-gray-900"},brown:{input:"checked:bg-brown-500",circle:"peer-checked:border-brown-500",before:"peer-checked:before:bg-brown-500"},"deep-orange":{input:"checked:bg-deep-orange-500",circle:"peer-checked:border-deep-orange-500",before:"peer-checked:before:bg-deep-orange-500"},orange:{input:"checked:bg-orange-500",circle:"peer-checked:border-orange-500",before:"peer-checked:before:bg-orange-500"},amber:{input:"checked:bg-amber-500",circle:"peer-checked:border-amber-500",before:"peer-checked:before:bg-amber-500"},yellow:{input:"checked:bg-yellow-500",circle:"peer-checked:border-yellow-500",before:"peer-checked:before:bg-yellow-500"},lime:{input:"checked:bg-lime-500",circle:"peer-checked:border-lime-500",before:"peer-checked:before:bg-lime-500"},"light-green":{input:"checked:bg-light-green-500",circle:"peer-checked:border-light-green-500",before:"peer-checked:before:bg-light-green-500"},green:{input:"checked:bg-green-500",circle:"peer-checked:border-green-500",before:"peer-checked:before:bg-green-500"},teal:{input:"checked:bg-teal-500",circle:"peer-checked:border-teal-500",before:"peer-checked:before:bg-teal-500"},cyan:{input:"checked:bg-cyan-500",circle:"peer-checked:border-cyan-500",before:"peer-checked:before:bg-cyan-500"},"light-blue":{input:"checked:bg-light-blue-500",circle:"peer-checked:border-light-blue-500",before:"peer-checked:before:bg-light-blue-500"},blue:{input:"checked:bg-blue-500",circle:"peer-checked:border-blue-500",before:"peer-checked:before:bg-blue-500"},indigo:{input:"checked:bg-indigo-500",circle:"peer-checked:border-indigo-500",before:"peer-checked:before:bg-indigo-500"},"deep-purple":{input:"checked:bg-deep-purple-500",circle:"peer-checked:border-deep-purple-500",before:"peer-checked:before:bg-deep-purple-500"},purple:{input:"checked:bg-purple-500",circle:"peer-checked:border-purple-500",before:"peer-checked:before:bg-purple-500"},pink:{input:"checked:bg-pink-500",circle:"peer-checked:border-pink-500",before:"peer-checked:before:bg-pink-500"},red:{input:"checked:bg-red-500",circle:"peer-checked:border-red-500",before:"peer-checked:before:bg-red-500"}},t=e})(eie);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(a,l){for(var c in l)Object.defineProperty(a,c,{enumerable:!0,get:l[c]})}e(n,{switchButton:function(){return o},default:function(){return s}});var t=r(eie),i=S_;function r(a){return a&&a.__esModule?a:{default:a}}var o={defaultProps:{color:"gray",label:"",ripple:!0,className:"",disabled:!1,containerProps:void 0,labelProps:void 0,circleProps:void 0},valid:{colors:i.propTypesColor},styles:{base:{root:{display:"inline-flex",alignItems:"items-center"},container:{position:"relative",display:"inline-block",width:"w-8",height:"h-4",cursor:"cursor-pointer",borderRadius:"rounded-full"},input:{peer:"peer",appearance:"appearance-none",width:"w-8",height:"h-4",position:"absolute",background:"bg-blue-gray-100",borderRadius:"rounded-full",cursor:"cursor-pointer",transition:"transition-colors duration-300"},circle:{bg:"bg-white",width:"w-5",height:"h-5",borderWidth:"border",borderColor:"border-blue-gray-100",borderRadius:"rounded-full",boxShadow:"shadow-md",position:"absolute",top:"top-2/4",left:"-left-1",transform:"-translate-y-2/4 peer-checked:translate-x-full",transition:"transition-all duration-300",cursor:"cursor-pointer",before:{content:"before:content['']",display:"before:block",bg:"before:bg-blue-gray-500",width:"before:w-10",height:"before:h-10",borderRadius:"before:rounded-full",position:"before:absolute",top:"before:top-2/4",left:"before:left-2/4",transform:"before:-translate-y-2/4 before:-translate-x-2/4",transition:"before:transition-opacity",opacity:"before:opacity-0 hover:before:opacity-10"}},ripple:{display:"inline-block",top:"top-2/4",left:"left-2/4",transform:"-translate-x-2/4 -translate-y-2/4",p:"p-5",borderRadius:"rounded-full"},label:{color:"text-gray-700",fontWeight:"font-light",userSelect:"select-none",cursor:"cursor-pointer",mt:"mt-px",ml:"ml-3",mb:"mb-0"},disabled:{opacity:"opacity-50",pointerEvents:"pointer-events-none"}},colors:t.default}},s=o})(Jte);var tie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{tab:function(){return t},default:function(){return i}});var t={defaultProps:{className:"",activeClassName:"",disabled:!1},styles:{base:{tab:{initial:{display:"flex",alignItems:"items-center",justifyContent:"justify-center",textAlign:"text-center",width:"w-full",height:"h-full",position:"relative",bg:"bg-transparent",py:"py-1",px:"px-2",color:"text-blue-gray-900",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-base",fontWeight:"font-normal",lineHeight:"leading-relaxed",userSelect:"select-none",cursor:"cursor-pointer"},disabled:{opacity:"opacity-50",cursor:"cursor-not-allowed",pointerEvents:"pointer-events-none",userSelect:"select-none"}},indicator:{position:"absolute",inset:"inset-0",zIndex:"z-10",height:"h-full",bg:"bg-white",borderRadius:"rounded-md",boxShadow:"shadow"}}}},i=t})(tie);var iie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{tabs:function(){return t},default:function(){return i}});var t={defaultProps:{className:"",orientation:"horizontal"},styles:{base:{overflow:"overflow-hidden"},horizontal:{display:"block"},vertical:{display:"flex"}}},i=t})(iie);var nie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{tabsBody:function(){return t},default:function(){return i}});var t={defaultProps:{animate:{unmount:{},mount:{}},className:""},styles:{base:{display:"block",width:"w-full",position:"relative",bg:"bg-transparent",overflow:"overflow-hidden"}}},i=t})(nie);var rie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{tabsHeader:function(){return t},default:function(){return i}});var t={defaultProps:{className:""},styles:{base:{display:"flex",position:"relative",bg:"bg-blue-gray-50",bgOpacity:"bg-opacity-60",borderRadius:"rounded-lg",p:"p-1"},horizontal:{flexDirection:"flex-row"},vertical:{flexDirection:"flex-col"}}},i=t})(rie);var oie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{tabPanel:function(){return t},default:function(){return i}});var t={defaultProps:{className:""},styles:{base:{width:"w-full",height:"h-max",color:"text-gray-700",p:"p-4",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-base",fontWeight:"font-light",lineHeight:"leading-relaxed"}}},i=t})(oie);var sie={},aie={},lie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={position:"-top-1.5",fontSize:"peer-placeholder-shown:text-sm",floated:{fontSize:"text-[11px] peer-focus:text-[11px]"},before:{content:"before:content[' ']",display:"before:block",boxSizing:"before:box-border",width:"before:w-2.5",height:"before:h-1.5",mt:"before:mt-[6.5px]",mr:"before:mr-1",borderColor:"peer-placeholder-shown:before:border-transparent",borderRadius:"before:rounded-tl-md",floated:{bt:"before:border-t peer-focus:before:border-t-2",bl:"before:border-l peer-focus:before:border-l-2"},pointerEvents:"before:pointer-events-none",transition:"before:transition-all",disabled:"peer-disabled:before:border-transparent"},after:{content:"after:content[' ']",display:"after:block",flexGrow:"after:flex-grow",boxSizing:"after:box-border",width:"after:w-2.5",height:"after:h-1.5",mt:"after:mt-[6.5px]",ml:"after:ml-1",borderColor:"peer-placeholder-shown:after:border-transparent",borderRadius:"after:rounded-tr-md",floated:{bt:"after:border-t peer-focus:after:border-t-2",br:"after:border-r peer-focus:after:border-r-2"},pointerEvents:"after:pointer-events-none",transition:"after:transition-all",disabled:"peer-disabled:after:border-transparent"}},t=e})(lie);var cie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-blue-gray-500"},gray:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-gray-900"},brown:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-brown-500"},"deep-orange":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-deep-orange-500"},orange:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-orange-500"},amber:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-amber-500"},yellow:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-yellow-500"},lime:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-lime-500"},"light-green":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-light-green-500"},green:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-green-500"},teal:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-teal-500"},cyan:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-cyan-500"},"light-blue":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-light-blue-500"},blue:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-blue-500"},indigo:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-indigo-500"},"deep-purple":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-deep-purple-500"},purple:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-purple-500"},pink:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-pink-500"},red:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-red-500"}},t=e})(cie);var die={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{color:"text-blue-gray-400 peer-focus:text-blue-gray-500",before:"before:border-blue-gray-200 peer-focus:before:!border-blue-gray-500",after:"after:border-blue-gray-200 peer-focus:after:!border-blue-gray-500"},gray:{color:"text-blue-gray-400 peer-focus:text-gray-900",before:"before:border-blue-gray-200 peer-focus:before:!border-gray-900",after:"after:border-blue-gray-200 peer-focus:after:!border-gray-900"},brown:{color:"text-blue-gray-400 peer-focus:text-brown-500",before:"before:border-blue-gray-200 peer-focus:before:!border-brown-500",after:"after:border-blue-gray-200 peer-focus:after:!border-brown-500"},"deep-orange":{color:"text-blue-gray-400 peer-focus:text-deep-orange-500",before:"before:border-blue-gray-200 peer-focus:before:!border-deep-orange-500",after:"after:border-blue-gray-200 peer-focus:after:!border-deep-orange-500"},orange:{color:"text-blue-gray-400 peer-focus:text-orange-500",before:"before:border-blue-gray-200 peer-focus:before:!border-orange-500",after:"after:border-blue-gray-200 peer-focus:after:!border-orange-500"},amber:{color:"text-blue-gray-400 peer-focus:text-amber-500",before:"before:border-blue-gray-200 peer-focus:before:!border-amber-500",after:"after:border-blue-gray-200 peer-focus:after:!border-amber-500"},yellow:{color:"text-blue-gray-400 peer-focus:text-yellow-500",before:"before:border-blue-gray-200 peer-focus:before:!border-yellow-500",after:"after:border-blue-gray-200 peer-focus:after:!border-yellow-500"},lime:{color:"text-blue-gray-400 peer-focus:text-lime-500",before:"before:border-blue-gray-200 peer-focus:before:!border-lime-500",after:"after:border-blue-gray-200 peer-focus:after:!border-lime-500"},"light-green":{color:"text-blue-gray-400 peer-focus:text-light-green-500",before:"before:border-blue-gray-200 peer-focus:before:!border-light-green-500",after:"after:border-blue-gray-200 peer-focus:after:!border-light-green-500"},green:{color:"text-blue-gray-400 peer-focus:text-green-500",before:"before:border-blue-gray-200 peer-focus:before:!border-green-500",after:"after:border-blue-gray-200 peer-focus:after:!border-green-500"},teal:{color:"text-blue-gray-400 peer-focus:text-teal-500",before:"before:border-blue-gray-200 peer-focus:before:!border-teal-500",after:"after:border-blue-gray-200 peer-focus:after:!border-teal-500"},cyan:{color:"text-blue-gray-400 peer-focus:text-cyan-500",before:"before:border-blue-gray-200 peer-focus:before:!border-cyan-500",after:"after:border-blue-gray-200 peer-focus:after:!border-cyan-500"},"light-blue":{color:"text-blue-gray-400 peer-focus:text-light-blue-500",before:"before:border-blue-gray-200 peer-focus:before:!border-light-blue-500",after:"after:border-blue-gray-200 peer-focus:after:!border-light-blue-500"},blue:{color:"text-blue-gray-400 peer-focus:text-blue-500",before:"before:border-blue-gray-200 peer-focus:before:!border-blue-500",after:"after:border-blue-gray-200 peer-focus:after:!border-blue-500"},indigo:{color:"text-blue-gray-400 peer-focus:text-indigo-500",before:"before:border-blue-gray-200 peer-focus:before:!border-indigo-500",after:"after:border-blue-gray-200 peer-focus:after:!border-indigo-500"},"deep-purple":{color:"text-blue-gray-400 peer-focus:text-deep-purple-500",before:"before:border-blue-gray-200 peer-focus:before:!border-deep-purple-500",after:"after:border-blue-gray-200 peer-focus:after:!border-deep-purple-500"},purple:{color:"text-blue-gray-400 peer-focus:text-purple-500",before:"before:border-blue-gray-200 peer-focus:before:!border-purple-500",after:"after:border-blue-gray-200 peer-focus:after:!border-purple-500"},pink:{color:"text-blue-gray-400 peer-focus:text-pink-500",before:"before:border-blue-gray-200 peer-focus:before:!border-pink-500",after:"after:border-blue-gray-200 peer-focus:after:!border-pink-500"},red:{color:"text-blue-gray-400 peer-focus:text-red-500",before:"before:border-blue-gray-200 peer-focus:before:!border-red-500",after:"after:border-blue-gray-200 peer-focus:after:!border-red-500"}},t=e})(die);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var e=r(lie),t=r(cie),i=r(die);function r(a){return a&&a.__esModule?a:{default:a}}var o={base:{textarea:{borderWidth:"placeholder-shown:border",borderColor:"placeholder-shown:border-blue-gray-200 placeholder-shown:border-t-blue-gray-200",floated:{borderWidth:"border focus:border-2",borderColor:"border-t-transparent focus:border-t-transparent"}},label:e.default},sizes:{md:{container:{height:"h-10"},textarea:{fontSize:"text-sm",px:"px-3",py:"py-2.5",borderRadius:"rounded-[7px]"},label:{lineHeight:"peer-placeholder-shown:leading-[3.75]"}},lg:{container:{height:"h-11"},textarea:{fontSize:"text-sm",px:"px-3",py:"py-3",borderRadius:"rounded-md"},label:{lineHeight:"peer-placeholder-shown:leading-[4.1]"}}},colors:{textarea:t.default,label:i.default},error:{textarea:{borderColor:"border-red-500 placeholder-shown:border-t-red-500 placeholder-shown:border-red-500",borderColorFocused:"focus:border-red-500"},label:{color:"text-red-500 peer-focus:text-red-500 peer-placeholder-shown:text-red-500",before:"before:border-red-500 peer-focus:before:border-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},success:{textarea:{borderColor:"border-green-500 placeholder-shown:border-t-green-500 placeholder-shown:border-green-500",borderColorFocused:"focus:border-green-500"},label:{color:"text-green-500 peer-focus:text-green-500 peer-placeholder-shown:text-green-500",before:"before:border-green-500 peer-focus:before:border-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"}},shrink:{textarea:{borderTop:"!border-t-transparent"},label:{fontSize:"!text-[11px]",lineHeight:"!leading-tight",borderColor:"before:!border-blue-gray-200 after:!border-blue-gray-200"}}},s=o})(aie);var uie={},hie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={position:"-top-1.5",fontSize:"peer-placeholder-shown:text-sm",floated:{fontSize:"text-[11px] peer-focus:text-[11px]"},after:{content:"after:content[' ']",display:"after:block",width:"after:w-full",position:"after:absolute",bottom:"after:-bottom-0",left:"left-0",borderWidth:"after:border-b-2",scale:"after:scale-x-0",floated:{scale:"peer-focus:after:scale-x-100"},transition:"after:transition-transform after:duration-300"}},t=e})(hie);var fie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-blue-gray-500"},gray:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-gray-900"},brown:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-brown-500"},"deep-orange":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-deep-orange-500"},orange:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-orange-500"},amber:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-amber-500"},yellow:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-yellow-500"},lime:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-lime-500"},"light-green":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-light-green-500"},green:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-green-500"},teal:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-teal-500"},cyan:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-cyan-500"},"light-blue":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-light-blue-500"},blue:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-blue-500"},indigo:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-indigo-500"},"deep-purple":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-deep-purple-500"},purple:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-purple-500"},pink:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-pink-500"},red:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-red-500"}},t=e})(fie);var gie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{color:"text-blue-gray-500 peer-focus:text-blue-gray-500",after:"after:border-blue-gray-500 peer-focus:after:!border-blue-gray-500"},gray:{color:"text-gray-500 peer-focus:text-gray-900",after:"after:border-gray-500 peer-focus:after:!border-gray-900"},brown:{color:"text-blue-gray-500 peer-focus:text-brown-500",after:"after:border-brown-500 peer-focus:after:!border-brown-500"},"deep-orange":{color:"text-blue-gray-500 peer-focus:text-deep-orange-500",after:"after:border-deep-orange-500 peer-focus:after:!border-deep-orange-500"},orange:{color:"text-blue-gray-500 peer-focus:text-orange-500",after:"after:border-orange-500 peer-focus:after:!border-orange-500"},amber:{color:"text-blue-gray-500 peer-focus:text-amber-500",after:"after:border-amber-500 peer-focus:after:!border-amber-500"},yellow:{color:"text-blue-gray-500 peer-focus:text-yellow-500",after:"after:border-yellow-500 peer-focus:after:!border-yellow-500"},lime:{color:"text-blue-gray-500 peer-focus:text-lime-500",after:"after:border-lime-500 peer-focus:after:!border-lime-500"},"light-green":{color:"text-blue-gray-500 peer-focus:text-light-green-500",after:"after:border-light-green-500 peer-focus:after:!border-light-green-500"},green:{color:"text-blue-gray-500 peer-focus:text-green-500",after:"after:border-green-500 peer-focus:after:!border-green-500"},teal:{color:"text-blue-gray-500 peer-focus:text-teal-500",after:"after:border-teal-500 peer-focus:after:!border-teal-500"},cyan:{color:"text-blue-gray-500 peer-focus:text-cyan-500",after:"after:border-cyan-500 peer-focus:after:!border-cyan-500"},"light-blue":{color:"text-blue-gray-500 peer-focus:text-light-blue-500",after:"after:border-light-blue-500 peer-focus:after:!border-light-blue-500"},blue:{color:"text-blue-gray-500 peer-focus:text-blue-500",after:"after:border-blue-500 peer-focus:after:!border-blue-500"},indigo:{color:"text-blue-gray-500 peer-focus:text-indigo-500",after:"after:border-indigo-500 peer-focus:after:!border-indigo-500"},"deep-purple":{color:"text-blue-gray-500 peer-focus:text-deep-purple-500",after:"after:border-deep-purple-500 peer-focus:after:!border-deep-purple-500"},purple:{color:"text-blue-gray-500 peer-focus:text-purple-500",after:"after:border-purple-500 peer-focus:after:!border-purple-500"},pink:{color:"text-blue-gray-500 peer-focus:text-pink-500",after:"after:border-pink-500 peer-focus:after:!border-pink-500"},red:{color:"text-blue-gray-500 peer-focus:text-red-500",after:"after:border-red-500 peer-focus:after:!border-red-500"}},t=e})(gie);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var e=r(hie),t=r(fie),i=r(gie);function r(a){return a&&a.__esModule?a:{default:a}}var o={base:{textarea:{borderWidth:"border-b",borderColor:"placeholder-shown:border-blue-gray-200"},label:e.default},sizes:{md:{container:{height:"h-11"},textarea:{fontSize:"text-sm",pt:"pt-4",pb:"pb-1.5",mt:"mt-1.5"},label:{lineHeight:"peer-placeholder-shown:leading-[4.25]"}},lg:{container:{height:"h-12"},textarea:{fontSize:"text-sm",px:"px-px",pt:"pt-5",pb:"pb-2"},label:{lineHeight:"peer-placeholder-shown:leading-[4.875]"}}},colors:{textarea:t.default,label:i.default},error:{textarea:{borderColor:"border-red-500 placeholder-shown:border-red-500",borderColorFocused:"focus:border-red-500"},label:{color:"text-red-500 peer-focus:text-red-500 peer-placeholder-shown:text-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},success:{textarea:{borderColor:"border-green-500 placeholder-shown:border-green-500",borderColorFocused:"focus:border-green-500"},label:{color:"text-green-500 peer-focus:text-green-500 peer-placeholder-shown:text-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"}},shrink:{textarea:{},label:{fontSize:"!text-[11px]",lineHeight:"!leading-tight"}}},s=o})(uie);var pie={},mie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={position:"-top-2.5",fontSize:"text-sm peer-focus:text-sm",after:{content:"after:content[' ']",display:"after:block",width:"after:w-full",position:"after:absolute",bottom:"after:-bottom-1",left:"left-0",borderWidth:"after:border-b-2",scale:"after:scale-x-0",floated:{scale:"peer-focus:after:scale-x-100"},transition:"after:transition-transform after:duration-300"}},t=e})(mie);var _ie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-blue-gray-500"},gray:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-gray-900"},brown:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-brown-500"},"deep-orange":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-deep-orange-500"},orange:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-orange-500"},amber:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-amber-500"},yellow:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-yellow-500"},lime:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-lime-500"},"light-green":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-light-green-500"},green:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-green-500"},teal:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-teal-500"},cyan:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-cyan-500"},"light-blue":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-light-blue-500"},blue:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-blue-500"},indigo:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-indigo-500"},"deep-purple":{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-deep-purple-500"},purple:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-purple-500"},pink:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-pink-500"},red:{borderColor:"border-blue-gray-200",borderColorFocused:"focus:border-red-500"}},t=e})(_ie);var vie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{color:"text-blue-gray-500 peer-focus:text-blue-gray-500",after:"after:border-blue-gray-500 peer-focus:after:border-blue-gray-500"},gray:{color:"text-gray-500 peer-focus:text-gray-900",after:"after:border-gray-500 peer-focus:after:border-gray-900"},brown:{color:"text-blue-gray-500 peer-focus:text-brown-500",after:"after:border-brown-500 peer-focus:after:border-brown-500"},"deep-orange":{color:"text-blue-gray-500 peer-focus:text-deep-orange-500",after:"after:border-deep-orange-500 peer-focus:after:border-deep-orange-500"},orange:{color:"text-blue-gray-500 peer-focus:text-orange-500",after:"after:border-orange-500 peer-focus:after:border-orange-500"},amber:{color:"text-blue-gray-500 peer-focus:text-amber-500",after:"after:border-amber-500 peer-focus:after:border-amber-500"},yellow:{color:"text-blue-gray-500 peer-focus:text-yellow-500",after:"after:border-yellow-500 peer-focus:after:border-yellow-500"},lime:{color:"text-blue-gray-500 peer-focus:text-lime-500",after:"after:border-lime-500 peer-focus:after:border-lime-500"},"light-green":{color:"text-blue-gray-500 peer-focus:text-light-green-500",after:"after:border-light-green-500 peer-focus:after:border-light-green-500"},green:{color:"text-blue-gray-500 peer-focus:text-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"},teal:{color:"text-blue-gray-500 peer-focus:text-teal-500",after:"after:border-teal-500 peer-focus:after:border-teal-500"},cyan:{color:"text-blue-gray-500 peer-focus:text-cyan-500",after:"after:border-cyan-500 peer-focus:after:border-cyan-500"},"light-blue":{color:"text-blue-gray-500 peer-focus:text-light-blue-500",after:"after:border-light-blue-500 peer-focus:after:border-light-blue-500"},blue:{color:"text-blue-gray-500 peer-focus:text-blue-500",after:"after:border-blue-500 peer-focus:after:border-blue-500"},indigo:{color:"text-blue-gray-500 peer-focus:text-indigo-500",after:"after:border-indigo-500 peer-focus:after:border-indigo-500"},"deep-purple":{color:"text-blue-gray-500 peer-focus:text-deep-purple-500",after:"after:border-deep-purple-500 peer-focus:after:border-deep-purple-500"},purple:{color:"text-blue-gray-500 peer-focus:text-purple-500",after:"after:border-purple-500 peer-focus:after:border-purple-500"},pink:{color:"text-blue-gray-500 peer-focus:text-pink-500",after:"after:border-pink-500 peer-focus:after:border-pink-500"},red:{color:"text-blue-gray-500 peer-focus:text-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},t=e})(vie);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var e=r(mie),t=r(_ie),i=r(vie);function r(a){return a&&a.__esModule?a:{default:a}}var o={base:{textarea:{borderWidth:"border-b",borderColor:"placeholder-shown:border-blue-gray-200"},label:e.default},sizes:{md:{container:{height:"h-11"},textarea:{fontSize:"text-sm",pt:"pt-4",pb:"pb-1.5",mt:"mt-1.5"},label:{lineHeight:"peer-placeholder-shown:leading-tight"}},lg:{container:{height:"h-12"},textarea:{fontSize:"text-sm",px:"px-px",pt:"pt-5",pb:"pb-2"},label:{lineHeight:"peer-placeholder-shown:leading-tight"}}},colors:{textarea:t.default,label:i.default},error:{textarea:{borderColor:"border-red-500 placeholder-shown:border-red-500",borderColorFocused:"focus:border-red-500"},label:{color:"text-red-500 peer-focus:text-red-500 peer-placeholder-shown:text-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},success:{textarea:{borderColor:"border-green-500 placeholder-shown:border-green-500",borderColorFocused:"focus:border-green-500"},label:{color:"text-green-500 peer-focus:text-green-500 peer-placeholder-shown:text-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"}},shrink:{textarea:{},label:{}}},s=o})(pie);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(c,d){for(var u in d)Object.defineProperty(c,u,{enumerable:!0,get:d[u]})}e(n,{textarea:function(){return a},default:function(){return l}});var t=s(aie),i=s(uie),r=s(pie),o=_x;function s(c){return c&&c.__esModule?c:{default:c}}var a={defaultProps:{variant:"outlined",size:"md",color:"gray",label:"",error:!1,success:!1,resize:!0,labelProps:void 0,containerProps:void 0,shrink:!1,className:""},valid:{variants:o.propTypesVariant,sizes:o.propTypesSize,colors:o.propTypesColor},styles:{base:{container:{position:"relative",width:"w-full",minWidth:"min-w-[200px]"},textarea:{peer:"peer",width:"w-full",height:"h-full",minHeight:"min-h-[100px]",bg:"bg-transparent",color:"text-blue-gray-700",fontFamily:"font-sans",fontWeight:"font-normal",outline:"outline outline-0 focus:outline-0",resize:"resize-y",disabled:"disabled:bg-blue-gray-50 disabled:border-0 disabled:resize-none disabled:cursor-not-allowed",transition:"transition-all"},label:{display:"flex",width:"w-full",height:"h-full",userSelect:"select-none",pointerEvents:"pointer-events-none",position:"absolute",left:"left-0",fontWeight:"font-normal",color:"peer-placeholder-shown:text-blue-gray-500",lineHeight:"leading-tight peer-focus:leading-tight",disabled:"peer-disabled:text-transparent peer-disabled:peer-placeholder-shown:text-blue-gray-500",transition:"transition-all"},asterisk:{display:"inline-block",color:"text-red-500",ml:"ml-0.5"}},variants:{outlined:t.default,standard:i.default,static:r.default}}},l=a})(sie);var bie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{tooltip:function(){return t},default:function(){return i}});var t={defaultProps:{interactive:!1,placement:"top",offset:5,dismiss:{},animate:{unmount:{},mount:{}},className:""},styles:{base:{bg:"bg-black",py:"py-1.5",px:"px-3",borderRadius:"rounded-lg",fontFamily:"font-sans",fontSize:"text-sm",fontWeight:"font-normal",color:"text-white",outline:"focus:outline-none",overflowWrap:"break-words",zIndex:"z-[999]",whiteSpace:"whitespace-normal"}}},i=t})(bie);var yie={},Cie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={inherit:{color:"text-inherit"},current:{color:"text-current"},black:{color:"text-black"},white:{color:"text-white"},"blue-gray":{color:"text-blue-gray-900",gradient:"bg-gradient-to-tr from-blue-gray-600 to-blue-gray-400"},gray:{color:"text-gray-700",gradient:"bg-gradient-to-tr from-gray-600 to-gray-400"},brown:{color:"text-brown-500",gradient:"bg-gradient-to-tr from-brown-600 to-brown-400"},"deep-orange":{color:"text-deep-orange-500",gradient:"bg-gradient-to-tr from-deep-orange-600 to-deep-orange-400"},orange:{color:"text-orange-500",gradient:"bg-gradient-to-tr from-orange-600 to-orange-400"},amber:{color:"text-amber-500",gradient:"bg-gradient-to-tr from-amber-600 to-amber-400"},yellow:{color:"text-yellow-500",gradient:"bg-gradient-to-tr from-yellow-600 to-yellow-400"},lime:{color:"text-lime-500",gradient:"bg-gradient-to-tr from-lime-600 to-lime-400"},"light-green":{color:"text-light-green-500",gradient:"bg-gradient-to-tr from-light-green-600 to-light-green-400"},green:{color:"text-green-500",gradient:"bg-gradient-to-tr from-green-600 to-green-400"},teal:{color:"text-teal-500",gradient:"bg-gradient-to-tr from-teal-600 to-teal-400"},cyan:{color:"text-cyan-500",gradient:"bg-gradient-to-tr from-cyan-600 to-cyan-400"},"light-blue":{color:"text-light-blue-500",gradient:"bg-gradient-to-tr from-light-blue-600 to-light-blue-400"},blue:{color:"text-blue-500",gradient:"bg-gradient-to-tr from-blue-600 to-blue-400"},indigo:{color:"text-indigo-500",gradient:"bg-gradient-to-tr from-indigo-600 to-indigo-400"},"deep-purple":{color:"text-deep-purple-500",gradient:"bg-gradient-to-tr from-deep-purple-600 to-deep-purple-400"},purple:{color:"text-purple-500",gradient:"bg-gradient-to-tr from-purple-600 to-purple-400"},pink:{color:"text-pink-500",gradient:"bg-gradient-to-tr from-pink-600 to-pink-400"},red:{color:"text-red-500",gradient:"bg-gradient-to-tr from-red-600 to-red-400"}},t=e})(Cie);var q7={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(m,p){for(var v in p)Object.defineProperty(m,v,{enumerable:!0,get:p[v]})}e(n,{propTypesVariant:function(){return u},propTypesColor:function(){return h},propTypesAs:function(){return f},propTypesTextGradient:function(){return g},propTypesClassName:function(){return _},propTypesChildren:function(){return y}});var t=s(Vt),i=Xn;function r(m,p){(p==null||p>m.length)&&(p=m.length);for(var v=0,b=new Array(p);v<p;v++)b[v]=m[v];return b}function o(m){if(Array.isArray(m))return r(m)}function s(m){return m&&m.__esModule?m:{default:m}}function a(m){if(typeof Symbol<"u"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(m){return o(m)||a(m)||d(m)||l()}function d(m,p){if(m){if(typeof m=="string")return r(m,p);var v=Object.prototype.toString.call(m).slice(8,-1);if(v==="Object"&&m.constructor&&(v=m.constructor.name),v==="Map"||v==="Set")return Array.from(v);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return r(m,p)}}var u=["h1","h2","h3","h4","h5","h6","lead","paragraph","small"],h=["inherit","current","black","white"].concat(c(i.propTypesColors)),f=t.default.elementType,g=t.default.bool,_=t.default.string,y=t.default.node.isRequired})(q7);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(a,l){for(var c in l)Object.defineProperty(a,c,{enumerable:!0,get:l[c]})}e(n,{typography:function(){return o},default:function(){return s}});var t=r(Cie),i=q7;function r(a){return a&&a.__esModule?a:{default:a}}var o={defaultProps:{variant:"paragraph",color:"inherit",textGradient:!1,className:""},valid:{variants:i.propTypesVariant,colors:i.propTypesColor},styles:{variants:{h1:{display:"block",fontSmoothing:"antialiased",letterSpacing:"tracking-normal",fontFamily:"font-sans",fontSize:"text-5xl",fontWeight:"font-semibold",lineHeight:"leading-tight"},h2:{display:"block",fontSmoothing:"antialiased",letterSpacing:"tracking-normal",fontFamily:"font-sans",fontSize:"text-4xl",fontWeight:"font-semibold",lineHeight:"leading-[1.3]"},h3:{display:"block",fontSmoothing:"antialiased",letterSpacing:"tracking-normal",fontFamily:"font-sans",fontSize:"text-3xl",fontWeight:"font-semibold",lineHeight:"leading-snug"},h4:{display:"block",fontSmoothing:"antialiased",letterSpacing:"tracking-normal",fontFamily:"font-sans",fontSize:"text-2xl",fontWeight:"font-semibold",lineHeight:"leading-snug"},h5:{display:"block",fontSmoothing:"antialiased",letterSpacing:"tracking-normal",fontFamily:"font-sans",fontSize:"text-xl",fontWeight:"font-semibold",lineHeight:"leading-snug"},h6:{display:"block",fontSmoothing:"antialiased",letterSpacing:"tracking-normal",fontFamily:"font-sans",fontSize:"text-base",fontWeight:"font-semibold",lineHeight:"leading-relaxed"},lead:{display:"block",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-xl",fontWeight:"font-normal",lineHeight:"leading-relaxed"},paragraph:{display:"block",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-base",fontWeight:"font-light",lineHeight:"leading-relaxed"},small:{display:"block",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-sm",fontWeight:"font-light",lineHeight:"leading-normal"}},textGradient:{bgClip:"bg-clip-text",color:"text-transparent"},colors:t.default}},s=o})(yie);var wie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{collapse:function(){return t},default:function(){return i}});var t={defaultProps:{animate:{unmount:{},mount:{}},className:""},styles:{base:{display:"block",width:"w-full",basis:"basis-full",overflow:"overflow-hidden"}}},i=t})(wie);var Sie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{list:function(){return t},default:function(){return i}});var t={defaultProps:{ripple:!0,className:""},styles:{base:{list:{display:"flex",flexDirection:"flex-col",gap:"gap-1",minWidth:"min-w-[240px]",p:"p-2",fontFamily:"font-sans",fontSize:"text-base",fontWeight:"font-normal",color:"text-blue-gray-700"},item:{initial:{display:"flex",alignItems:"items-center",width:"w-full",padding:"p-3",borderRadius:"rounded-lg",textAlign:"text-start",lightHeight:"leading-tight",transition:"transition-all",bg:"hover:bg-blue-gray-50 hover:bg-opacity-80 focus:bg-blue-gray-50 focus:bg-opacity-80 active:bg-blue-gray-50 active:bg-opacity-80",color:"hover:text-blue-gray-900 focus:text-blue-gray-900 active:text-blue-gray-900",outline:"outline-none"},selected:{bg:"bg-blue-gray-50/50",color:"text-blue-gray-700"},disabled:{opacity:"opacity-50",cursor:"cursor-not-allowed",pointerEvents:"pointer-events-none",userSelect:"select-none",bg:"hover:bg-transparent focus:bg-transparent active:bg-transparent",color:"hover:text-blue-gray-500 focus:text-blue-gray-500 active:text-blue-gray-500"}},itemPrefix:{display:"grid",placeItems:"place-items-center",marginRight:"mr-4"},itemSuffix:{display:"grid",placeItems:"place-items-center",marginRight:"ml-auto justify-self-end"}}}},i=t})(Sie);var xie={},Lie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={white:{divideColor:"divide-blue-gray-50"},black:{divideColor:"divide-gray-800"},"blue-gray":{divideColor:"divide-blue-gray-600"},gray:{divideColor:"divide-gray-800"},brown:{divideColor:"divide-brown-600"},"deep-orange":{divideColor:"divide-deep-orange-600"},orange:{divideColor:"divide-orange-600"},amber:{divideColor:"divide-amber-600"},yellow:{divideColor:"divide-yellow-600"},lime:{divideColor:"divide-lime-600"},"light-green":{divideColor:"divide-light-green-600"},green:{divideColor:"divide-green-600"},teal:{divideColor:"divide-teal-600"},cyan:{divideColor:"divide-cyan-600"},"light-blue":{divideColor:"divide-light-blue-600"},blue:{divideColor:"divide-blue-600"},indigo:{divideColor:"divide-indigo-600"},"deep-purple":{divideColor:"divide-deep-purple-600"},purple:{divideColor:"divide-purple-600"},pink:{divideColor:"divide-pink-600"},red:{divideColor:"divide-red-600"}},t=e})(Lie);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(a,l){for(var c in l)Object.defineProperty(a,c,{enumerable:!0,get:l[c]})}e(n,{buttonGroup:function(){return o},default:function(){return s}});var t=r(Lie),i=C_;function r(a){return a&&a.__esModule?a:{default:a}}var o={defaultProps:{variant:"filled",size:"md",color:"gray",fullWidth:!1,ripple:!0,className:""},valid:{variants:i.propTypesVariant,sizes:i.propTypesSize,colors:i.propTypesColor},styles:{base:{initial:{display:"flex",flexDirection:"row"},fullWidth:{width:"w-full"}},dividerColor:t.default}},s=o})(xie);var kie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(s,a){for(var l in a)Object.defineProperty(s,l,{enumerable:!0,get:a[l]})}e(n,{carousel:function(){return r},default:function(){return o}});var t=i(le);function i(s){return s&&s.__esModule?s:{default:s}}var r={defaultProps:{prevArrow:function(s){var a=s.loop,l=s.handlePrev,c=s.firstIndex;return t.default.createElement("button",{onClick:l,disabled:!a&&c,className:"!absolute top-2/4 left-4 -translate-y-2/4 rounded-full select-none transition-all disabled:opacity-50 disabled:shadow-none disabled:pointer-events-none w-12 max-w-[48px] h-12 max-h-[48px] text-white hover:bg-white/10 active:bg-white/30 grid place-items-center"},t.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,className:"-ml-1 h-7 w-7"},t.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})))},nextArrow:function(s){var a=s.loop,l=s.handleNext,c=s.lastIndex;return t.default.createElement("button",{onClick:l,disabled:!a&&c,className:"!absolute top-2/4 right-4 -translate-y-2/4 rounded-full select-none transition-all disabled:opacity-50 disabled:shadow-none disabled:pointer-events-none w-12 max-w-[48px] h-12 max-h-[48px] text-white hover:bg-white/10 active:bg-white/30 grid place-items-center"},t.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,className:"ml-1 h-7 w-7"},t.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})))},navigation:function(s){var a=s.setActiveIndex,l=s.activeIndex,c=s.length;return t.default.createElement("div",{className:"absolute bottom-4 left-2/4 z-50 flex -translate-x-2/4 gap-2"},new Array(c).fill("").map(function(d,u){return t.default.createElement("span",{key:u,className:"block h-3 w-3 cursor-pointer rounded-full transition-colors content-[''] ".concat(l===u?"bg-white":"bg-white/50"),onClick:function(){return a(u)}})}))},autoplay:!1,autoplayDelay:5e3,transition:{type:"tween",duration:.5},loop:!1,className:""},styles:{base:{carousel:{position:"relative",width:"w-full",height:"h-full",overflowX:"overflow-x-hidden",display:"flex"},slide:{width:"w-full",height:"h-full",display:"inline-block",flex:"flex-none"}}}},o=r})(kie);var Die={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{drawer:function(){return t},default:function(){return i}});var t={defaultProps:{size:300,overlay:!0,placement:"left",overlayProps:void 0,className:"",dismiss:void 0,onClose:void 0,transition:{type:"tween",duration:.3}},styles:{base:{drawer:{position:"fixed",zIndex:"z-[9999]",pointerEvents:"pointer-events-auto",backgroundColor:"bg-white",boxSizing:"box-border",width:"w-full",boxShadow:"shadow-2xl shadow-blue-gray-900/10"},overlay:{position:"absolute",inset:"inset-0",width:"w-full",height:"h-full",pointerEvents:"pointer-events-auto",zIndex:"z-[9995]",backgroundColor:"bg-black",backgroundOpacity:"bg-opacity-60",backdropBlur:"backdrop-blur-sm"}}}},i=t})(Die);var Tie={},K7={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(C,S){for(var x in S)Object.defineProperty(C,x,{enumerable:!0,get:S[x]})}e(n,{propTypesColor:function(){return u},propTypesInvisible:function(){return h},propTypesWithBorder:function(){return f},propTypesOverlap:function(){return g},propTypesPlacement:function(){return _},propTypesClassName:function(){return y},propTypesContent:function(){return m},propTypesChildren:function(){return p},propTypesContainerProps:function(){return v},propTypesContainerRef:function(){return b}});var t=s(Vt),i=Xn;function r(C,S){(S==null||S>C.length)&&(S=C.length);for(var x=0,k=new Array(S);x<S;x++)k[x]=C[x];return k}function o(C){if(Array.isArray(C))return r(C)}function s(C){return C&&C.__esModule?C:{default:C}}function a(C){if(typeof Symbol<"u"&&C[Symbol.iterator]!=null||C["@@iterator"]!=null)return Array.from(C)}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(C){return o(C)||a(C)||d(C)||l()}function d(C,S){if(C){if(typeof C=="string")return r(C,S);var x=Object.prototype.toString.call(C).slice(8,-1);if(x==="Object"&&C.constructor&&(x=C.constructor.name),x==="Map"||x==="Set")return Array.from(x);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return r(C,S)}}var u=["white"].concat(c(i.propTypesColors)),h=t.default.bool,f=t.default.bool,g=["circular","square"],_=["top-start","top-end","bottom-start","bottom-end"],y=t.default.string,m=t.default.node,p=t.default.node.isRequired,v=t.default.instanceOf(Object),b=t.default.oneOfType([t.default.func,t.default.shape({current:t.default.any})])})(K7);var Eie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={white:{backgroud:"bg-white",color:"text-blue-gray-900"},"blue-gray":{backgroud:"bg-blue-gray-500",color:"text-white"},gray:{backgroud:"bg-gray-500",color:"text-white"},brown:{backgroud:"bg-brown-500",color:"text-white"},"deep-orange":{backgroud:"bg-deep-orange-500",color:"text-white"},orange:{backgroud:"bg-orange-500",color:"text-white"},amber:{backgroud:"bg-amber-500",color:"text-black"},yellow:{backgroud:"bg-yellow-500",color:"text-black"},lime:{backgroud:"bg-lime-500",color:"text-black"},"light-green":{backgroud:"bg-light-green-500",color:"text-white"},green:{backgroud:"bg-green-500",color:"text-white"},teal:{backgroud:"bg-teal-500",color:"text-white"},cyan:{backgroud:"bg-cyan-500",color:"text-white"},"light-blue":{backgroud:"bg-light-blue-500",color:"text-white"},blue:{backgroud:"bg-blue-500",color:"text-white"},indigo:{backgroud:"bg-indigo-500",color:"text-white"},"deep-purple":{backgroud:"bg-deep-purple-500",color:"text-white"},purple:{backgroud:"bg-purple-500",color:"text-white"},pink:{backgroud:"bg-pink-500",color:"text-white"},red:{backgroud:"bg-red-500",color:"text-white"}},t=e})(Eie);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(a,l){for(var c in l)Object.defineProperty(a,c,{enumerable:!0,get:l[c]})}e(n,{badge:function(){return o},default:function(){return s}});var t=K7,i=r(Eie);function r(a){return a&&a.__esModule?a:{default:a}}var o={defaultProps:{color:"red",invisible:!1,withBorder:!1,overlap:"square",content:void 0,placement:"top-end",className:void 0,containerProps:void 0},valid:{colors:t.propTypesColor,overlaps:t.propTypesOverlap,placements:t.propTypesPlacement},styles:{base:{container:{position:"relative",display:"inline-flex"},badge:{initial:{position:"absolute",minWidth:"min-w-[12px]",minHeight:"min-h-[12px]",borderRadius:"rounded-full",paddingY:"py-1",paddingX:"px-1",fontSize:"text-xs",fontWeight:"font-medium",content:"content-['']",lineHeight:"leading-none",display:"grid",placeItems:"place-items-center"},withBorder:{borderWidth:"border-2",borderColor:"border-white"},withContent:{minWidth:"min-w-[24px]",minHeight:"min-h-[24px]"}}},placements:{"top-start":{square:{top:"top-[4%]",left:"left-[2%]",translateX:"-translate-x-2/4",translateY:"-translate-y-2/4"},circular:{top:"top-[14%]",left:"left-[14%]",translateX:"-translate-x-2/4",translateY:"-translate-y-2/4"}},"top-end":{square:{top:"top-[4%]",right:"right-[2%]",translateX:"translate-x-2/4",translateY:"-translate-y-2/4"},circular:{top:"top-[14%]",right:"right-[14%]",translateX:"translate-x-2/4",translateY:"-translate-y-2/4"}},"bottom-start":{square:{bottom:"bottom-[4%]",left:"left-[2%]",translateX:"-translate-x-2/4",translateY:"translate-y-2/4"},circular:{bottom:"bottom-[14%]",left:"left-[14%]",translateX:"-translate-x-2/4",translateY:"translate-y-2/4"}},"bottom-end":{square:{bottom:"bottom-[4%]",right:"right-[2%]",translateX:"translate-x-2/4",translateY:"translate-y-2/4"},circular:{bottom:"bottom-[14%]",right:"right-[14%]",translateX:"translate-x-2/4",translateY:"translate-y-2/4"}}},colors:i.default}},s=o})(Tie);var Iie={},G7={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(v,b){for(var C in b)Object.defineProperty(v,C,{enumerable:!0,get:b[C]})}e(n,{propTypesCount:function(){return u},propTypesValue:function(){return h},propTypesRatedIcon:function(){return f},propTypesUnratedIcon:function(){return g},propTypesColor:function(){return _},propTypesOnChange:function(){return y},propTypesClassName:function(){return m},propTypesReadonly:function(){return p}});var t=s(Vt),i=Xn;function r(v,b){(b==null||b>v.length)&&(b=v.length);for(var C=0,S=new Array(b);C<b;C++)S[C]=v[C];return S}function o(v){if(Array.isArray(v))return r(v)}function s(v){return v&&v.__esModule?v:{default:v}}function a(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(v){return o(v)||a(v)||d(v)||l()}function d(v,b){if(v){if(typeof v=="string")return r(v,b);var C=Object.prototype.toString.call(v).slice(8,-1);if(C==="Object"&&v.constructor&&(C=v.constructor.name),C==="Map"||C==="Set")return Array.from(C);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return r(v,b)}}var u=t.default.number,h=t.default.number,f=t.default.oneOfType([t.default.node,t.default.instanceOf(Object)]),g=t.default.oneOfType([t.default.node,t.default.instanceOf(Object)]),_=["white"].concat(c(i.propTypesColors)),y=t.default.func,m=t.default.string,p=t.default.bool})(G7);var Nie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={white:{color:"text-white"},"blue-gray":{color:"text-blue-gray-500"},gray:{color:"text-gray-500"},brown:{color:"text-brown-500"},"deep-orange":{color:"text-deep-orange-500"},orange:{color:"text-orange-500"},amber:{color:"text-amber-500"},yellow:{color:"text-yellow-700"},lime:{color:"text-lime-500"},"light-green":{color:"text-light-green-500"},green:{color:"text-green-500"},teal:{color:"text-teal-500"},cyan:{color:"text-cyan-500"},"light-blue":{color:"text-light-blue-500"},blue:{color:"text-blue-500"},indigo:{color:"text-indigo-500"},"deep-purple":{color:"text-deep-purple-500"},purple:{color:"text-purple-500"},pink:{color:"text-pink-500"},red:{color:"text-red-500"}},t=e})(Nie);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(l,c){for(var d in c)Object.defineProperty(l,d,{enumerable:!0,get:c[d]})}e(n,{rating:function(){return s},default:function(){return a}});var t=o(le),i=G7,r=o(Nie);function o(l){return l&&l.__esModule?l:{default:l}}var s={defaultProps:{count:5,value:0,ratedIcon:t.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6"},t.default.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z",clipRule:"evenodd"})),unratedIcon:t.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6"},t.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})),ratedColor:"yellow",unratedColor:"blue-gray",className:void 0,onChange:void 0,readonly:!1},valid:{colors:i.propTypesColor},styles:{base:{rating:{display:"inline-flex",alignItems:"items-center"},icon:{width:"w-5",height:"h-5",color:"text-inherit",cursor:"cursor-pointer"}},colors:r.default}},a=s})(Iie);var Pie={},Z7={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(v,b){for(var C in b)Object.defineProperty(v,C,{enumerable:!0,get:b[C]})}e(n,{propTypesColor:function(){return o},propTypesSize:function(){return s},propTypesClassName:function(){return a},propTypesTrackClassName:function(){return l},propTypesThumbClassName:function(){return c},propTypesBarClassName:function(){return d},propTypesDefaultValue:function(){return u},propTypesValue:function(){return h},propTypesOnChange:function(){return f},propTypesMin:function(){return g},propTypesMax:function(){return _},propTypesStep:function(){return y},propTypesInputRef:function(){return m},propTypesInputProps:function(){return p}});var t=r(Vt),i=Xn;function r(v){return v&&v.__esModule?v:{default:v}}var o=i.propTypesColors,s=["sm","md","lg"],a=t.default.string,l=t.default.string,c=t.default.string,d=t.default.string,u=t.default.oneOfType([t.default.number,t.default.string]),h=t.default.oneOfType([t.default.number,t.default.string]),f=t.default.func,g=t.default.oneOfType([t.default.number,t.default.string]),_=t.default.oneOfType([t.default.number,t.default.string]),y=t.default.oneOfType([t.default.number,t.default.string]),m=t.default.oneOfType([t.default.func,t.default.shape({current:t.default.any})]),p=t.default.instanceOf(Object)})(Z7);var Mie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={"blue-gray":{color:"text-blue-gray-500"},gray:{color:"text-gray-900"},brown:{color:"text-brown-500"},"deep-orange":{color:"text-deep-orange-500"},orange:{color:"text-orange-500"},amber:{color:"text-amber-500"},yellow:{color:"text-yellow-500"},lime:{color:"text-lime-500"},"light-green":{color:"text-light-green-500"},green:{color:"text-green-500"},teal:{color:"text-teal-500"},cyan:{color:"text-cyan-500"},"light-blue":{color:"text-light-blue-500"},blue:{color:"text-blue-500"},indigo:{color:"text-indigo-500"},"deep-purple":{color:"text-deep-purple-500"},purple:{color:"text-purple-500"},pink:{color:"text-pink-500"},red:{color:"text-red-500"}},t=e})(Mie);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(a,l){for(var c in l)Object.defineProperty(a,c,{enumerable:!0,get:l[c]})}e(n,{slider:function(){return o},default:function(){return s}});var t=Z7,i=r(Mie);function r(a){return a&&a.__esModule?a:{default:a}}var o={defaultProps:{color:"gray",size:"md",min:void 0,max:void 0,step:"any",className:"",trackClassName:"",thumbClassName:"",barClassName:"",inputProps:void 0},valid:{sizes:t.propTypesSize,colors:t.propTypesColor},styles:{base:{container:{position:"relative",width:"w-full",minWidth:"min-w-[200px]"},slider:{width:"w-full",position:"absolute",inset:"inset-0",backgroundColor:"bg-transparent",cursor:"cursor-pointer",outline:"focus:outline-none focus:outline-0",appearance:"appearance-none [-webkit-appearance:none]"},track:{height:"[&::-webkit-slider-runnable-track]:h-full [&::-moz-range-track]:h-full",borderRadius:"[&::-webkit-slider-runnable-track]:rounded-full [&::-moz-range-track]:rounded-full",backgroundColor:"[&::-webkit-slider-runnable-track]:bg-blue-gray-100 [&::-moz-range-track]:bg-blue-gray-100"},thumb:{appearance:"[&::-moz-range-thumb]:appearance-none [&::-moz-range-thumb]:[-webkit-appearance:none] [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:[-webkit-appearance:none]",borderRadius:"[&::-moz-range-thumb]:rounded-full [&::-webkit-slider-thumb]:rounded-full",border:"[&::-moz-range-thumb]:border-0 [&::-webkit-slider-thumb]:border-0",ringWidth:"[&::-moz-range-thumb]:ring-2 [&::-webkit-slider-thumb]:ring-2",ringColor:"[&::-moz-range-thumb]:ring-current [&::-webkit-slider-thumb]:ring-current",backgroundColor:"[&::-moz-range-thumb]:bg-white [&::-webkit-slider-thumb]:bg-white",position:"[&::-moz-range-thumb]:relative [&::-webkit-slider-thumb]:relative",zIndex:"[&::-moz-range-thumb]:z-20 [&::-webkit-slider-thumb]:z-20"},bar:{position:"absolute",inset:"inset-0",zIndex:"z-10",borderRadius:"rounded-l-full",height:"h-full",pointerEvents:"pointer-events-none",backgroundColor:"bg-current"}},sizes:{sm:{container:{height:"h-1"},thumb:{width:"[&::-moz-range-thumb]:w-2.5 [&::-webkit-slider-thumb]:w-2.5",height:"[&::-moz-range-thumb]:h-2.5 [&::-webkit-slider-thumb]:h-2.5",marginTop:"[&::-moz-range-thumb]:-mt-[3px] [&::-webkit-slider-thumb]:-mt-[3px]"},slider:{},track:{},bar:{}},md:{container:{height:"h-2"},thumb:{width:"[&::-moz-range-thumb]:w-3.5 [&::-webkit-slider-thumb]:w-3.5",height:"[&::-moz-range-thumb]:h-3.5 [&::-webkit-slider-thumb]:h-3.5",marginTop:"[&::-moz-range-thumb]:-mt-[3px] [&::-webkit-slider-thumb]:-mt-[3px]"},slider:{},track:{},bar:{}},lg:{container:{height:"h-3"},thumb:{width:"[&::-moz-range-thumb]:w-5 [&::-webkit-slider-thumb]:w-5",height:"[&::-moz-range-thumb]:h-5 [&::-webkit-slider-thumb]:h-5",marginTop:"[&::-moz-range-thumb]:-mt-1 [&::-webkit-slider-thumb]:-mt-1"},slider:{},track:{},bar:{}}},colors:i.default}},s=o})(Pie);var Rie={},Y7={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(f,g){for(var _ in g)Object.defineProperty(f,_,{enumerable:!0,get:g[_]})}e(n,{propTypesColor:function(){return u},propTypesClassName:function(){return h}});var t=s(Vt),i=Xn;function r(f,g){(g==null||g>f.length)&&(g=f.length);for(var _=0,y=new Array(g);_<g;_++)y[_]=f[_];return y}function o(f){if(Array.isArray(f))return r(f)}function s(f){return f&&f.__esModule?f:{default:f}}function a(f){if(typeof Symbol<"u"&&f[Symbol.iterator]!=null||f["@@iterator"]!=null)return Array.from(f)}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(f){return o(f)||a(f)||d(f)||l()}function d(f,g){if(f){if(typeof f=="string")return r(f,g);var _=Object.prototype.toString.call(f).slice(8,-1);if(_==="Object"&&f.constructor&&(_=f.constructor.name),_==="Map"||_==="Set")return Array.from(_);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return r(f,g)}}var u=["white"].concat(c(i.propTypesColors)),h=t.default.string})(Y7);var Aie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={white:{color:"text-white"},"blue-gray":{color:"text-blue-gray-500"},gray:{color:"text-gray-900"},brown:{color:"text-brown-500"},"deep-orange":{color:"text-deep-orange-500"},orange:{color:"text-orange-500"},amber:{color:"text-amber-500"},yellow:{color:"text-yellow-500"},lime:{color:"text-lime-500"},"light-green":{color:"text-light-green-500"},green:{color:"text-green-500"},teal:{color:"text-teal-500"},cyan:{color:"text-cyan-500"},"light-blue":{color:"text-light-blue-500"},blue:{color:"text-blue-500"},indigo:{color:"text-indigo-500"},"deep-purple":{color:"text-deep-purple-500"},purple:{color:"text-purple-500"},pink:{color:"text-pink-500"},red:{color:"text-red-500"}},t=e})(Aie);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(a,l){for(var c in l)Object.defineProperty(a,c,{enumerable:!0,get:l[c]})}e(n,{spinner:function(){return o},default:function(){return s}});var t=Y7,i=r(Aie);function r(a){return a&&a.__esModule?a:{default:a}}var o={defaultProps:{color:"gray",className:""},valid:{colors:t.propTypesColor},styles:{base:{color:"text-gray-300",animation:"animate-spin"},colors:i.default}},s=o})(Rie);var Oie={},Fie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{timeline:function(){return t},default:function(){return i}});var t={styles:{base:{display:"w-full",position:"flex",flexDirection:"flex-col"}}},i=t})(Fie);var Bie={},Ah={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(_,y){for(var m in y)Object.defineProperty(_,m,{enumerable:!0,get:y[m]})}e(n,{propTypeClassName:function(){return u},propTypeChildren:function(){return h},propTypeColor:function(){return f},propTypeVariant:function(){return g}});var t=s(Vt),i=Xn;function r(_,y){(y==null||y>_.length)&&(y=_.length);for(var m=0,p=new Array(y);m<y;m++)p[m]=_[m];return p}function o(_){if(Array.isArray(_))return r(_)}function s(_){return _&&_.__esModule?_:{default:_}}function a(_){if(typeof Symbol<"u"&&_[Symbol.iterator]!=null||_["@@iterator"]!=null)return Array.from(_)}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(_){return o(_)||a(_)||d(_)||l()}function d(_,y){if(_){if(typeof _=="string")return r(_,y);var m=Object.prototype.toString.call(_).slice(8,-1);if(m==="Object"&&_.constructor&&(m=_.constructor.name),m==="Map"||m==="Set")return Array.from(m);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return r(_,y)}}var u=t.default.string,h=t.default.node,f=["white"].concat(c(i.propTypesColors)),g=["filled","outlined","ghost","gradient"]})(Ah);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(o,s){for(var a in s)Object.defineProperty(o,a,{enumerable:!0,get:s[a]})}e(n,{timelineItem:function(){return i},default:function(){return r}});var t=Ah,i={defaultProps:{color:"gray",variant:"filled"},valid:{colors:t.propTypeColor,variants:t.propTypeVariant},styles:{base:{display:"flex",position:"relative",flexDirection:"flex-col",gap:"gap-2"}}},r=i})(Bie);var Wie={},Vie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={transparent:{backgroud:"bg-transparent",color:"text-blue-gray-900"},white:{color:"text-white",background:"bg-white/10"},"blue-gray":{color:"text-blue-gray-500",background:"bg-blue-gray-500/10"},gray:{color:"text-gray-900",background:"bg-gray-900/10"},brown:{color:"text-brown-500",background:"bg-brown-500/10"},"deep-orange":{color:"text-deep-orange-500",background:"bg-deep-orange-500/10"},orange:{color:"text-orange-500",background:"bg-orange-500/10"},amber:{color:"text-amber-500",background:"bg-amber-500/10"},yellow:{color:"text-yellow-500",background:"bg-yellow-500/10"},lime:{color:"text-lime-500",background:"bg-lime-500/10"},"light-green":{color:"text-light-green-500",background:"bg-light-green-500/10"},green:{color:"text-green-500",background:"bg-green-500/10"},teal:{color:"text-teal-500",background:"bg-teal-500/10"},cyan:{color:"text-cyan-500",background:"bg-cyan-500/10"},"light-blue":{color:"text-light-blue-500",background:"bg-light-blue-500/10"},blue:{color:"text-blue-500",background:"bg-blue-500/10"},indigo:{color:"text-indigo-500",background:"bg-indigo-500/10"},"deep-purple":{color:"text-deep-purple-500",background:"bg-deep-purple-500/10"},purple:{color:"text-purple-500",background:"bg-purple-500/10"},pink:{color:"text-pink-500",background:"bg-pink-500/10"},red:{color:"text-red-500",background:"bg-red-500/10"}},t=e})(Vie);var Hie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={transparent:{backgroud:"bg-transparent",color:"text-blue-gray-900"},white:{backgroud:"bg-white",color:"text-blue-gray-900"},"blue-gray":{backgroud:"bg-blue-gray-500",color:"text-white"},gray:{backgroud:"bg-gray-900",color:"text-white"},brown:{backgroud:"bg-brown-500",color:"text-white"},"deep-orange":{backgroud:"bg-deep-orange-500",color:"text-white"},orange:{backgroud:"bg-orange-500",color:"text-white"},amber:{backgroud:"bg-amber-500",color:"text-black"},yellow:{backgroud:"bg-yellow-500",color:"text-black"},lime:{backgroud:"bg-lime-500",color:"text-black"},"light-green":{backgroud:"bg-light-green-500",color:"text-white"},green:{backgroud:"bg-green-500",color:"text-white"},teal:{backgroud:"bg-teal-500",color:"text-white"},cyan:{backgroud:"bg-cyan-500",color:"text-white"},"light-blue":{backgroud:"bg-light-blue-500",color:"text-white"},blue:{backgroud:"bg-blue-500",color:"text-white"},indigo:{backgroud:"bg-indigo-500",color:"text-white"},"deep-purple":{backgroud:"bg-deep-purple-500",color:"text-white"},purple:{backgroud:"bg-purple-500",color:"text-white"},pink:{backgroud:"bg-pink-500",color:"text-white"},red:{backgroud:"bg-red-500",color:"text-white"}},t=e})(Hie);var zie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={transparent:{backgroud:"bg-transparent",color:"text-blue-gray-900"},white:{border:"border border-white",color:"text-white"},"blue-gray":{border:"border border-blue-gray-500",color:"text-blue-gray-500"},gray:{border:"border border-gray-900",color:"text-gray-900"},brown:{border:"border border-brown-500",color:"text-brown-500"},"deep-orange":{border:"border border-deep-orange-500",color:"text-deep-orange-500"},orange:{border:"border border-orange-500",color:"text-orange-500"},amber:{border:"border border-amber-500",color:"text-amber-500"},yellow:{border:"border border-yellow-500",color:"text-yellow-500"},lime:{border:"border border-lime-500",color:"text-lime-500"},"light-green":{border:"border border-light-green-500",color:"text-light-green-500"},green:{border:"border border-green-500",color:"text-green-500"},teal:{border:"border border-teal-500",color:"text-teal-500"},cyan:{border:"border border-cyan-500",color:"text-cyan-500"},"light-blue":{border:"border border-light-blue-500",color:"text-light-blue-500"},blue:{border:"border border-blue-500",color:"text-blue-500"},indigo:{border:"border border-indigo-500",color:"text-indigo-500"},"deep-purple":{border:"border border-deep-purple-500",color:"text-deep-purple-500"},purple:{border:"border border-purple-500",color:"text-purple-500"},pink:{border:"border border-pink-500",color:"text-pink-500"},red:{border:"border border-red-500",color:"text-red-500"}},t=e})(zie);var jie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var e={transparent:{backgroud:"bg-transparent",color:"text-blue-gray-900"},white:{backgroud:"bg-white",color:"text-blue-gray-900"},"blue-gray":{backgroud:"bg-gradient-to-tr from-blue-gray-600 to-blue-gray-400",color:"text-white"},gray:{backgroud:"bg-gradient-to-tr from-gray-900 to-gray-800",color:"text-white"},brown:{backgroud:"bg-gradient-to-tr from-brown-600 to-brown-400",color:"text-white"},"deep-orange":{backgroud:"bg-gradient-to-tr from-deep-orange-600 to-deep-orange-400",color:"text-white"},orange:{backgroud:"bg-gradient-to-tr from-orange-600 to-orange-400",color:"text-white"},amber:{backgroud:"bg-gradient-to-tr from-amber-600 to-amber-400",color:"text-black"},yellow:{backgroud:"bg-gradient-to-tr from-yellow-600 to-yellow-400",color:"text-black"},lime:{backgroud:"bg-gradient-to-tr from-lime-600 to-lime-400",color:"text-black"},"light-green":{backgroud:"bg-gradient-to-tr from-light-green-600 to-light-green-400",color:"text-white"},green:{backgroud:"bg-gradient-to-tr from-green-600 to-green-400",color:"text-white"},teal:{backgroud:"bg-gradient-to-tr from-teal-600 to-teal-400",color:"text-white"},cyan:{backgroud:"bg-gradient-to-tr from-cyan-600 to-cyan-400",color:"text-white"},"light-blue":{backgroud:"bg-gradient-to-tr from-light-blue-600 to-light-blue-400",color:"text-white"},blue:{backgroud:"bg-gradient-to-tr from-blue-600 to-blue-400",color:"text-white"},indigo:{backgroud:"bg-gradient-to-tr from-indigo-600 to-indigo-400",color:"text-white"},"deep-purple":{backgroud:"bg-gradient-to-tr from-deep-purple-600 to-deep-purple-400",color:"text-white"},purple:{backgroud:"bg-gradient-to-tr from-purple-600 to-purple-400",color:"text-white"},pink:{backgroud:"bg-gradient-to-tr from-pink-600 to-pink-400",color:"text-white"},red:{backgroud:"bg-gradient-to-tr from-red-600 to-red-400",color:"text-white"}},t=e})(jie);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(d,u){for(var h in u)Object.defineProperty(d,h,{enumerable:!0,get:u[h]})}e(n,{timelineIcon:function(){return l},default:function(){return c}});var t=a(Vie),i=a(Hie),r=a(zie),o=a(jie),s=Ah;function a(d){return d&&d.__esModule?d:{default:d}}var l={defaultProps:{color:"gray",variant:"filled"},valid:{colors:s.propTypeColor,variants:s.propTypeVariant},styles:{base:{width:"w-max",height:"w-max",padding:"p-1.5",position:"relative",zIndex:"z-[2]",flexShrink:"flex-shrink-0",borderRadius:"rounded-full",overflow:"overflow-hidden"},variants:{ghost:t.default,filled:i.default,outlined:r.default,gradient:o.default}}},c=l})(Wie);var Uie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{timelineHeader:function(){return t},default:function(){return i}});var t={styles:{base:{display:"flex",alignItems:"items-center",gap:"gap-4"}}},i=t})(Uie);var $ie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{timelineBody:function(){return t},default:function(){return i}});var t={styles:{base:{display:"flex",gap:"gap-4"}}},i=t})($ie);var qie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{timelineConnector:function(){return t},default:function(){return i}});var t={styles:{base:{container:{position:"absolute",left:"left-0",display:"grid",justifyContent:"justify-center",backgroundColor:"bg-transparent",transition:"transition-opacity duration-200"},line:{width:"w-0.5",height:"h-full",backgroundColor:"bg-blue-gray-100"}}}},i=t})(qie);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),e(Fie,n),e(Bie,n),e(Wie,n),e(Uie,n),e($ie,n),e(qie,n);function e(t,i){return Object.keys(t).forEach(function(r){r!=="default"&&!Object.prototype.hasOwnProperty.call(i,r)&&Object.defineProperty(i,r,{enumerable:!0,get:function(){return t[r]}})}),t}})(Oie);var Kie={},Gie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{step:function(){return t},default:function(){return i}});var t={styles:{base:{initial:{position:"relative",zIndex:"z-10",display:"grid",placeItems:"place-items-center",width:"w-10",height:"h-10",borderRadius:"rounded-full",backgroundColor:"bg-gray-300",color:"text-gray-900",fontWeight:"font-bold",transition:"transition-all duration-300"},active:{backgroundColor:"bg-gray-900",color:"text-white"},completed:{backgroundColor:"bg-gray-900",color:"text-white"}}}},i=t})(Gie);var Zie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{stepper:function(){return t},default:function(){return i}});var t={styles:{base:{stepper:{width:"w-full",position:"relative",display:"flex",alignItems:"items-center",justifyContent:"justify-between"},line:{initial:{position:"absolute",left:"left-0",top:"top-2/4",height:"h-0.5",width:"w-full",transform:"-translate-y-2/4",backgroundColor:"bg-gray-300"},active:{backgroundColor:"bg-gray-900",transition:"transition-all",duration:"duration-500"}}}}},i=t})(Zie);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),e(Gie,n),e(Zie,n);function e(t,i){return Object.keys(t).forEach(function(r){r!=="default"&&!Object.prototype.hasOwnProperty.call(i,r)&&Object.defineProperty(i,r,{enumerable:!0,get:function(){return t[r]}})}),t}})(Kie);var Yie={},Xie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{speedDial:function(){return t},default:function(){return i}});var t={defaultProps:{offset:5,placement:"top",dismiss:void 0,animate:{unmount:{},mount:{}}}},i=t})(Xie);var Qie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{speedDialContent:function(){return t},default:function(){return i}});var t={styles:{padding:"p-0.5",width:"w-max",display:"flex",flexDirection:"flex-col",alignItems:"items-center",gap:"gap-1"}},i=t})(Qie);var Jie={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(r,o){for(var s in o)Object.defineProperty(r,s,{enumerable:!0,get:o[s]})}e(n,{speedDialAction:function(){return t},default:function(){return i}});var t={styles:{display:"flex",flexDirection:"flex-col",alignItems:"items-center",justifyContent:"justify-center",gap:"gap-1",padding:"p-1",margin:"m-0.5",borderWidth:"border",minWidth:"min-w-[48px]",fontFamily:"font-normal",minHeight:"min-h-[48px]",backgroundColor:"bg-white",borderRadius:"rounded-full",borderColor:"border-blue-gray-50",scale:"hover:scale-110 focus:scale-110 active:scale-100",transition:"transition-transform duration-300 ease-in-out"}},i=t})(Jie);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),e(Xie,n),e(Qie,n),e(Jie,n);function e(t,i){return Object.keys(t).forEach(function(r){r!=="default"&&!Object.prototype.hasOwnProperty.call(i,r)&&Object.defineProperty(i,r,{enumerable:!0,get:function(){return t[r]}})}),t}})(Yie);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return Ze}});var e=ze(De($ee,n)),t=ze(De(qee,n)),i=ze(De(Xee,n)),r=ze(De(Jee,n)),o=ze(De(ete,n)),s=ze(De(tte,n)),a=ze(De(ite,n)),l=ze(De(nte,n)),c=ze(De(rte,n)),d=ze(De(ote,n)),u=ze(De(ate,n)),h=ze(De(hte,n)),f=ze(De(fte,n)),g=ze(De(gte,n)),_=ze(De(pte,n)),y=ze(De(mte,n)),m=ze(De(_te,n)),p=ze(De(Ite,n)),v=ze(De(Nte,n)),b=ze(De(Rte,n)),C=ze(De(Ate,n)),S=ze(De(Bte,n)),x=ze(De(Vte,n)),k=ze(De(Jte,n)),D=ze(De(tie,n)),E=ze(De(iie,n)),I=ze(De(nie,n)),N=ze(De(rie,n)),R=ze(De(oie,n)),O=ze(De(sie,n)),W=ze(De(bie,n)),K=ze(De(yie,n)),Q=ze(De(wie,n)),Y=ze(De(Sie,n)),V=ze(De(xie,n)),X=ze(De(kie,n)),J=ze(De(Die,n)),te=ze(De(Tie,n)),oe=ze(De(Iie,n)),Me=ze(De(Pie,n)),Re=ze(De(Rie,n)),_e=De(Oie,n),Fe=De(Kie,n),Oe=De(Yie,n);function De(vt,ot){return Object.keys(vt).forEach(function(ct){ct!=="default"&&!Object.prototype.hasOwnProperty.call(ot,ct)&&Object.defineProperty(ot,ct,{enumerable:!0,get:function(){return vt[ct]}})}),vt}function ze(vt){return vt&&vt.__esModule?vt:{default:vt}}var ke={accordion:e.default,alert:t.default,avatar:i.default,breadcrumbs:r.default,button:o.default,card:s.default,cardBody:a.default,cardFooter:l.default,cardHeader:c.default,checkbox:d.default,chip:u.default,dialog:h.default,dialogBody:f.default,dialogFooter:g.default,dialogHeader:_.default,iconButton:y.default,input:m.default,menu:p.default,navbar:v.default,popover:b.default,progress:C.default,radio:S.default,select:x.default,switch:k.default,tab:D.default,tabs:E.default,tabsBody:I.default,tabsHeader:N.default,tabPanel:R.default,textarea:O.default,tooltip:W.default,typography:K.default,collapse:Q.default,list:Y.default,buttonGroup:V.default,carousel:X.default,drawer:J.default,badge:te.default,rating:oe.default,slider:Me.default,spinner:Re.default,timeline:_e.timeline,timelineItem:_e.timelineItem,timelineIcon:_e.timelineIcon,timelineHeader:_e.timelineHeader,timelineBody:_e.timelineBody,timelineConnector:_e.timelineConnector,step:Fe.step,stepper:Fe.stepper,speedDial:Oe.speedDial,speedDialContent:Oe.speedDialContent,speedDialAction:Oe.speedDialAction},Ze=ke})(A7);var ene={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var e=t(Ko);function t(r){return r&&r.__esModule?r:{default:r}}function i(r,o,s){var a=r.slice();return o.forEach(function(l,c){typeof a[c]>"u"?a[c]=s.cloneUnlessOtherwiseSpecified(l,s):s.isMergeableObject(l)?a[c]=(0,e.default)(r[c],l,s):r.indexOf(l)===-1&&a.push(l)}),a}})(ene);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(f,g){for(var _ in g)Object.defineProperty(f,_,{enumerable:!0,get:g[_]})}e(n,{MaterialTailwindTheme:function(){return d},ThemeProvider:function(){return u},useTheme:function(){return h}});var t=c(le),i=a(Vt),r=a(Ko),o=a(A7),s=a(ene);function a(f){return f&&f.__esModule?f:{default:f}}function l(f){if(typeof WeakMap!="function")return null;var g=new WeakMap,_=new WeakMap;return(l=function(y){return y?_:g})(f)}function c(f,g){if(!g&&f&&f.__esModule)return f;if(f===null||typeof f!="object"&&typeof f!="function")return{default:f};var _=l(g);if(_&&_.has(f))return _.get(f);var y={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in f)if(p!=="default"&&Object.prototype.hasOwnProperty.call(f,p)){var v=m?Object.getOwnPropertyDescriptor(f,p):null;v&&(v.get||v.set)?Object.defineProperty(y,p,v):y[p]=f[p]}return y.default=f,_&&_.set(f,y),y}var d=(0,t.createContext)(o.default);d.displayName="MaterialTailwindThemeProvider";function u(f){var g=f.value,_=g===void 0?o.default:g,y=f.children,m=(0,r.default)(o.default,_,{arrayMerge:s.default});return t.default.createElement(d.Provider,{value:m},y)}var h=function(){return(0,t.useContext)(d)};u.propTypes={value:i.default.instanceOf(Object),children:i.default.node.isRequired}})(Et);var ZN={},bx={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(h,f){for(var g in f)Object.defineProperty(h,g,{enumerable:!0,get:f[g]})}e(n,{propTypesOpen:function(){return o},propTypesIcon:function(){return s},propTypesAnimate:function(){return a},propTypesDisabled:function(){return l},propTypesClassName:function(){return c},propTypesValue:function(){return d},propTypesChildren:function(){return u}});var t=r(Vt),i=Xn;function r(h){return h&&h.__esModule?h:{default:h}}var o=t.default.bool.isRequired,s=t.default.node,a=i.propTypesAnimation,l=t.default.bool,c=t.default.string,d=t.default.instanceOf(Object).isRequired,u=t.default.node.isRequired})(bx);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(l,c){for(var d in c)Object.defineProperty(l,d,{enumerable:!0,get:c[d]})}e(n,{AccordionContext:function(){return o},useAccordion:function(){return s},AccordionContextProvider:function(){return a}});var t=r(le),i=bx;function r(l){return l&&l.__esModule?l:{default:l}}var o=t.default.createContext(null);o.displayName="MaterialTailwind.AccordionContext";function s(){var l=t.default.useContext(o);if(!l)throw new Error("useAccordion() must be used within an Accordion. It happens when you use AccordionHeader or AccordionBody components outside the Accordion component.");return l}var a=function(l){var c=l.value,d=l.children;return t.default.createElement(o.Provider,{value:c},d)};a.propTypes={value:i.propTypesValue,children:i.propTypesChildren},a.displayName="MaterialTailwind.AccordionContextProvider"})(ZN);var tne={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(y,m){for(var p in m)Object.defineProperty(y,p,{enumerable:!0,get:m[p]})}e(n,{AccordionHeader:function(){return g},default:function(){return _}});var t=u(le),i=u(ii),r=Rt,o=u(At),s=ZN,a=Et,l=bx;function c(y,m,p){return m in y?Object.defineProperty(y,m,{value:p,enumerable:!0,configurable:!0,writable:!0}):y[m]=p,y}function d(){return d=Object.assign||function(y){for(var m=1;m<arguments.length;m++){var p=arguments[m];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[v]=p[v])}return y},d.apply(this,arguments)}function u(y){return y&&y.__esModule?y:{default:y}}function h(y,m){if(y==null)return{};var p=f(y,m),v,b;if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(y);for(b=0;b<C.length;b++)v=C[b],!(m.indexOf(v)>=0)&&Object.prototype.propertyIsEnumerable.call(y,v)&&(p[v]=y[v])}return p}function f(y,m){if(y==null)return{};var p={},v=Object.keys(y),b,C;for(C=0;C<v.length;C++)b=v[C],!(m.indexOf(b)>=0)&&(p[b]=y[b]);return p}var g=t.default.forwardRef(function(y,m){var p=y.className,v=y.children,b=h(y,["className","children"]),C=(0,s.useAccordion)(),S=C.open,x=C.icon,k=C.disabled,D=(0,a.useTheme)().accordion,E=D.styles.base;p=p??"";var I=(0,r.twMerge)((0,i.default)((0,o.default)(E.header.initial),c({},(0,o.default)(E.header.active),S)),p),N=(0,i.default)((0,o.default)(E.header.icon));return t.default.createElement("button",d({},b,{ref:m,type:"button",disabled:k,className:I}),v,t.default.createElement("span",{className:N},x??(S?t.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},t.default.createElement("path",{fillRule:"evenodd",d:"M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"})):t.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},t.default.createElement("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})))))});g.propTypes={className:l.propTypesClassName,children:l.propTypesChildren},g.displayName="MaterialTailwind.AccordionHeader";var _=g})(tne);var ine={},Lo={},a4=function(n,e){return a4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},a4(n,e)};function nne(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");a4(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var dE=function(){return dE=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},dE.apply(this,arguments)};function cy(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function rne(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o}function one(n,e){return function(t,i){e(t,i,n)}}function fbe(n,e,t,i,r,o){function s(m){if(m!==void 0&&typeof m!="function")throw new TypeError("Function expected");return m}for(var a=i.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&n?i.static?n:n.prototype:null,d=e||(c?Object.getOwnPropertyDescriptor(c,i.name):{}),u,h=!1,f=t.length-1;f>=0;f--){var g={};for(var _ in i)g[_]=_==="access"?{}:i[_];for(var _ in i.access)g.access[_]=i.access[_];g.addInitializer=function(m){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(m||null))};var y=(0,t[f])(a==="accessor"?{get:d.get,set:d.set}:d[l],g);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(u=s(y.get))&&(d.get=u),(u=s(y.set))&&(d.set=u),(u=s(y.init))&&r.unshift(u)}else(u=s(y))&&(a==="field"?r.unshift(u):d[l]=u)}c&&Object.defineProperty(c,i.name,d),h=!0}function gbe(n,e,t){for(var i=arguments.length>2,r=0;r<e.length;r++)t=i?e[r].call(n,t):e[r].call(n);return i?t:void 0}function pbe(n){return typeof n=="symbol"?n:"".concat(n)}function mbe(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function sne(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function ane(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(u){s(u)}}function l(d){try{c(i.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):r(d.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}function lne(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(d){return l([c,d])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(t=0)),t;)try{if(i=1,r&&(o=c[0]&2?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,r=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(d){c=[6,d],r=0}finally{i=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var YN=Object.create?function(n,e,t,i){i===void 0&&(i=t);var r=Object.getOwnPropertyDescriptor(e,t);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,i,r)}:function(n,e,t,i){i===void 0&&(i=t),n[i]=e[t]};function cne(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&YN(e,n,t)}function uE(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function X7(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o}function dne(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(X7(arguments[e]));return n}function une(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),r=0,e=0;e<t;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function hne(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,o;i<r;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return n.concat(o||Array.prototype.slice.call(e))}function lb(n){return this instanceof lb?(this.v=n,this):new lb(n)}function fne(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(h){i[h]&&(r[h]=function(f){return new Promise(function(g,_){o.push([h,f,g,_])>1||a(h,f)})})}function a(h,f){try{l(i[h](f))}catch(g){u(o[0][3],g)}}function l(h){h.value instanceof lb?Promise.resolve(h.value.v).then(c,d):u(o[0][2],h)}function c(h){a("next",h)}function d(h){a("throw",h)}function u(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function gne(n){var e,t;return e={},i("next"),i("throw",function(r){throw r}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(r,o){e[r]=n[r]?function(s){return(t=!t)?{value:lb(n[r](s)),done:!1}:o?o(s):s}:o}}function pne(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof uE=="function"?uE(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function mne(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var _be=Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e};function _ne(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&YN(e,n,t);return _be(e,n),e}function vne(n){return n&&n.__esModule?n:{default:n}}function bne(n,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(n):i?i.value:e.get(n)}function yne(n,e,t,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(n,t):r?r.value=t:e.set(n,t),t}function Cne(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function wne(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose]}if(typeof i!="function")throw new TypeError("Object not disposable.");n.stack.push({value:e,dispose:i,async:t})}else t&&n.stack.push({async:!0});return e}var vbe=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var i=new Error(t);return i.name="SuppressedError",i.error=n,i.suppressed=e,i};function Sne(n){function e(i){n.error=n.hasError?new vbe(i,n.error,"An error was suppressed during disposal."):i,n.hasError=!0}function t(){for(;n.stack.length;){var i=n.stack.pop();try{var r=i.dispose&&i.dispose.call(i.value);if(i.async)return Promise.resolve(r).then(t,function(o){return e(o),t()})}catch(o){e(o)}}if(n.hasError)throw n.error}return t()}const bbe={__extends:nne,__assign:dE,__rest:cy,__decorate:rne,__param:one,__metadata:sne,__awaiter:ane,__generator:lne,__createBinding:YN,__exportStar:cne,__values:uE,__read:X7,__spread:dne,__spreadArrays:une,__spreadArray:hne,__await:lb,__asyncGenerator:fne,__asyncDelegator:gne,__asyncValues:pne,__makeTemplateObject:mne,__importStar:_ne,__importDefault:vne,__classPrivateFieldGet:bne,__classPrivateFieldSet:yne,__classPrivateFieldIn:Cne,__addDisposableResource:wne,__disposeResources:Sne},ybe=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:wne,get __assign(){return dE},__asyncDelegator:gne,__asyncGenerator:fne,__asyncValues:pne,__await:lb,__awaiter:ane,__classPrivateFieldGet:bne,__classPrivateFieldIn:Cne,__classPrivateFieldSet:yne,__createBinding:YN,__decorate:rne,__disposeResources:Sne,__esDecorate:fbe,__exportStar:cne,__extends:nne,__generator:lne,__importDefault:vne,__importStar:_ne,__makeTemplateObject:mne,__metadata:sne,__param:one,__propKey:pbe,__read:X7,__rest:cy,__runInitializers:gbe,__setFunctionName:mbe,__spread:dne,__spreadArray:hne,__spreadArrays:une,__values:uE,default:bbe},Symbol.toStringTag,{value:"Module"})),xne=ux(ybe);var Cbe=function(){},Lne=function(){};const wbe=Object.freeze(Object.defineProperty({__proto__:null,invariant:Lne,warning:Cbe},Symbol.toStringTag,{value:"Module"})),kne=ux(wbe);var so={};Object.defineProperty(so,"__esModule",{value:!0});const Dne=(n,e)=>t=>Math.max(Math.min(t,e),n),Sw=n=>n%1?Number(n.toFixed(5)):n,k1=/(-)?([\d]*\.?[\d])+/g,l4=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,Sbe=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function yx(n){return typeof n=="string"}const Cx={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Q7=Object.assign(Object.assign({},Cx),{transform:Dne(0,1)}),xbe=Object.assign(Object.assign({},Cx),{default:1}),wx=n=>({test:e=>yx(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Lbe=wx("deg"),wv=wx("%"),kbe=wx("px"),Dbe=wx("vh"),Tbe=wx("vw"),Ebe=Object.assign(Object.assign({},wv),{parse:n=>wv.parse(n)/100,transform:n=>wv.transform(n*100)}),J7=(n,e)=>t=>!!(yx(t)&&Sbe.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),Tne=(n,e,t)=>i=>{if(!yx(i))return i;const[r,o,s,a]=i.match(k1);return{[n]:parseFloat(r),[e]:parseFloat(o),[t]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},VC={test:J7("hsl","hue"),parse:Tne("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+wv.transform(Sw(e))+", "+wv.transform(Sw(t))+", "+Sw(Q7.transform(i))+")"},Ibe=Dne(0,255),UD=Object.assign(Object.assign({},Cx),{transform:n=>Math.round(Ibe(n))}),U0={test:J7("rgb","red"),parse:Tne("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+UD.transform(n)+", "+UD.transform(e)+", "+UD.transform(t)+", "+Sw(Q7.transform(i))+")"};function Nbe(n){let e="",t="",i="",r="";return n.length>5?(e=n.substr(1,2),t=n.substr(3,2),i=n.substr(5,2),r=n.substr(7,2)):(e=n.substr(1,1),t=n.substr(2,1),i=n.substr(3,1),r=n.substr(4,1),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const c4={test:J7("#"),parse:Nbe,transform:U0.transform},eW={test:n=>U0.test(n)||c4.test(n)||VC.test(n),parse:n=>U0.test(n)?U0.parse(n):VC.test(n)?VC.parse(n):c4.parse(n),transform:n=>yx(n)?n:n.hasOwnProperty("red")?U0.transform(n):VC.transform(n)},Ene="${c}",Ine="${n}";function Pbe(n){var e,t,i,r;return isNaN(n)&&yx(n)&&((t=(e=n.match(k1))===null||e===void 0?void 0:e.length)!==null&&t!==void 0?t:0)+((r=(i=n.match(l4))===null||i===void 0?void 0:i.length)!==null&&r!==void 0?r:0)>0}function Nne(n){typeof n=="number"&&(n=`${n}`);const e=[];let t=0;const i=n.match(l4);i&&(t=i.length,n=n.replace(l4,Ene),e.push(...i.map(eW.parse)));const r=n.match(k1);return r&&(n=n.replace(k1,Ine),e.push(...r.map(Cx.parse))),{values:e,numColors:t,tokenised:n}}function Pne(n){return Nne(n).values}function Mne(n){const{values:e,numColors:t,tokenised:i}=Nne(n),r=e.length;return o=>{let s=i;for(let a=0;a<r;a++)s=s.replace(a<t?Ene:Ine,a<t?eW.transform(o[a]):Sw(o[a]));return s}}const Mbe=n=>typeof n=="number"?0:n;function Rbe(n){const e=Pne(n);return Mne(n)(e.map(Mbe))}const Rne={test:Pbe,parse:Pne,createTransformer:Mne,getAnimatableNone:Rbe},Abe=new Set(["brightness","contrast","saturate","opacity"]);function Obe(n){let[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(k1)||[];if(!i)return n;const r=t.replace(i,"");let o=Abe.has(e)?1:0;return i!==t&&(o*=100),e+"("+o+r+")"}const Fbe=/([a-z-]*)\(.*?\)/g,Bbe=Object.assign(Object.assign({},Rne),{getAnimatableNone:n=>{const e=n.match(Fbe);return e?e.map(Obe).join(" "):n}});so.alpha=Q7;so.color=eW;so.complex=Rne;so.degrees=Lbe;so.filter=Bbe;so.hex=c4;so.hsla=VC;so.number=Cx;so.percent=wv;so.progressPercentage=Ebe;so.px=kbe;so.rgbUnit=UD;so.rgba=U0;so.scale=xbe;so.vh=Dbe;so.vw=Tbe;var Zt={},x_={};Object.defineProperty(x_,"__esModule",{value:!0});const Ane=1/60*1e3,Wbe=typeof performance<"u"?()=>performance.now():()=>Date.now(),One=typeof window<"u"?n=>window.requestAnimationFrame(n):n=>setTimeout(()=>n(Wbe()),Ane);function Vbe(n){let e=[],t=[],i=0,r=!1,o=!1;const s=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const u=d&&r,h=u?e:t;return c&&s.add(l),h.indexOf(l)===-1&&(h.push(l),u&&r&&(i=e.length)),l},cancel:l=>{const c=t.indexOf(l);c!==-1&&t.splice(c,1),s.delete(l)},process:l=>{if(r){o=!0;return}if(r=!0,[e,t]=[t,e],t.length=0,i=e.length,i)for(let c=0;c<i;c++){const d=e[c];d(l),s.has(d)&&(a.schedule(d),n())}r=!1,o&&(o=!1,a.process(l))}};return a}const Hbe=40;let d4=!0,D1=!1,u4=!1;const Sv={delta:0,timestamp:0},Sx=["read","update","preRender","render","postRender"],XN=Sx.reduce((n,e)=>(n[e]=Vbe(()=>D1=!0),n),{}),zbe=Sx.reduce((n,e)=>{const t=XN[e];return n[e]=(i,r=!1,o=!1)=>(D1||qbe(),t.schedule(i,r,o)),n},{}),jbe=Sx.reduce((n,e)=>(n[e]=XN[e].cancel,n),{}),Ube=Sx.reduce((n,e)=>(n[e]=()=>XN[e].process(Sv),n),{}),$be=n=>XN[n].process(Sv),Fne=n=>{D1=!1,Sv.delta=d4?Ane:Math.max(Math.min(n-Sv.timestamp,Hbe),1),Sv.timestamp=n,u4=!0,Sx.forEach($be),u4=!1,D1&&(d4=!1,One(Fne))},qbe=()=>{D1=!0,d4=!0,u4||One(Fne)},Kbe=()=>Sv;x_.cancelSync=jbe;x_.default=zbe;x_.flushSync=Ube;x_.getFrameData=Kbe;Object.defineProperty(Zt,"__esModule",{value:!0});var Bne=xne,cb=kne,kc=so,QN=x_;function Gbe(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var Zbe=Gbe(QN);const T1=(n,e,t)=>Math.min(Math.max(t,n),e),qR=.001,Ybe=.01,u$=10,Xbe=.05,Qbe=1;function Jbe({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,o;cb.warning(n<=u$*1e3,"Spring duration must be 10 seconds or less");let s=1-e;s=T1(Xbe,Qbe,s),n=T1(Ybe,u$,n/1e3),s<1?(r=c=>{const d=c*s,u=d*n,h=d-t,f=h4(c,s),g=Math.exp(-u);return qR-h/f*g},o=c=>{const u=c*s*n,h=u*t+t,f=Math.pow(s,2)*Math.pow(c,2)*n,g=Math.exp(-u),_=h4(Math.pow(c,2),s);return(-r(c)+qR>0?-1:1)*((h-f)*g)/_}):(r=c=>{const d=Math.exp(-c*n),u=(c-t)*n+1;return-qR+d*u},o=c=>{const d=Math.exp(-c*n),u=(t-c)*(n*n);return d*u});const a=5/n,l=tye(r,o,a);if(n=n*1e3,isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:s*2*Math.sqrt(i*c),duration:n}}}const eye=12;function tye(n,e,t){let i=t;for(let r=1;r<eye;r++)i=i-n(i)/e(i);return i}function h4(n,e){return n*Math.sqrt(1-e*e)}const iye=["duration","bounce"],nye=["stiffness","damping","mass"];function h$(n,e){return e.some(t=>n[t]!==void 0)}function rye(n){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},n);if(!h$(n,nye)&&h$(n,iye)){const t=Jbe(n);e=Object.assign(Object.assign(Object.assign({},e),t),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function JN(n){var{from:e=0,to:t=1,restSpeed:i=2,restDelta:r}=n,o=Bne.__rest(n,["from","to","restSpeed","restDelta"]);const s={done:!1,value:e};let{stiffness:a,damping:l,mass:c,velocity:d,duration:u,isResolvedFromDuration:h}=rye(o),f=f$,g=f$;function _(){const y=d?-(d/1e3):0,m=t-e,p=l/(2*Math.sqrt(a*c)),v=Math.sqrt(a/c)/1e3;if(r===void 0&&(r=Math.min(Math.abs(t-e)/100,.4)),p<1){const b=h4(v,p);f=C=>{const S=Math.exp(-p*v*C);return t-S*((y+p*v*m)/b*Math.sin(b*C)+m*Math.cos(b*C))},g=C=>{const S=Math.exp(-p*v*C);return p*v*S*(Math.sin(b*C)*(y+p*v*m)/b+m*Math.cos(b*C))-S*(Math.cos(b*C)*(y+p*v*m)-b*m*Math.sin(b*C))}}else if(p===1)f=b=>t-Math.exp(-v*b)*(m+(y+v*m)*b);else{const b=v*Math.sqrt(p*p-1);f=C=>{const S=Math.exp(-p*v*C),x=Math.min(b*C,300);return t-S*((y+p*v*m)*Math.sinh(x)+b*m*Math.cosh(x))/b}}}return _(),{next:y=>{const m=f(y);if(h)s.done=y>=u;else{const p=g(y)*1e3,v=Math.abs(p)<=i,b=Math.abs(t-m)<=r;s.done=v&&b}return s.value=s.done?t:m,s},flipTarget:()=>{d=-d,[e,t]=[t,e],_()}}}JN.needsInterpolation=(n,e)=>typeof n=="string"||typeof e=="string";const f$=n=>0,tW=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},eP=(n,e,t)=>-t*n+t*e+n;function KR(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function g$({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,o=0,s=0;if(!e)r=o=s=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=KR(l,a,n+1/3),o=KR(l,a,n),s=KR(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:i}}const oye=(n,e,t)=>{const i=n*n,r=e*e;return Math.sqrt(Math.max(0,t*(r-i)+i))},sye=[kc.hex,kc.rgba,kc.hsla],p$=n=>sye.find(e=>e.test(n)),m$=n=>`'${n}' is not an animatable color. Use the equivalent color code instead.`,iW=(n,e)=>{let t=p$(n),i=p$(e);cb.invariant(!!t,m$(n)),cb.invariant(!!i,m$(e));let r=t.parse(n),o=i.parse(e);t===kc.hsla&&(r=g$(r),t=kc.rgba),i===kc.hsla&&(o=g$(o),i=kc.rgba);const s=Object.assign({},r);return a=>{for(const l in s)l!=="alpha"&&(s[l]=oye(r[l],o[l],a));return s.alpha=eP(r.alpha,o.alpha,a),t.transform(s)}},aye={x:0,y:0,z:0},f4=n=>typeof n=="number",lye=(n,e)=>t=>e(n(t)),nW=(...n)=>n.reduce(lye);function Wne(n,e){return f4(n)?t=>eP(n,e,t):kc.color.test(n)?iW(n,e):rW(n,e)}const Vne=(n,e)=>{const t=[...n],i=t.length,r=n.map((o,s)=>Wne(o,e[s]));return o=>{for(let s=0;s<i;s++)t[s]=r[s](o);return t}},cye=(n,e)=>{const t=Object.assign(Object.assign({},n),e),i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=Wne(n[r],e[r]));return r=>{for(const o in i)t[o]=i[o](r);return t}};function _$(n){const e=kc.complex.parse(n),t=e.length;let i=0,r=0,o=0;for(let s=0;s<t;s++)i||typeof e[s]=="number"?i++:e[s].hue!==void 0?o++:r++;return{parsed:e,numNumbers:i,numRGB:r,numHSL:o}}const rW=(n,e)=>{const t=kc.complex.createTransformer(e),i=_$(n),r=_$(e);return i.numHSL===r.numHSL&&i.numRGB===r.numRGB&&i.numNumbers>=r.numNumbers?nW(Vne(i.parsed,r.parsed),t):(cb.warning(!0,`Complex values '${n}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),s=>`${s>0?e:n}`)},dye=(n,e)=>t=>eP(n,e,t);function uye(n){if(typeof n=="number")return dye;if(typeof n=="string")return kc.color.test(n)?iW:rW;if(Array.isArray(n))return Vne;if(typeof n=="object")return cye}function hye(n,e,t){const i=[],r=t||uye(n[0]),o=n.length-1;for(let s=0;s<o;s++){let a=r(n[s],n[s+1]);if(e){const l=Array.isArray(e)?e[s]:e;a=nW(l,a)}i.push(a)}return i}function fye([n,e],[t]){return i=>t(tW(n,e,i))}function gye(n,e){const t=n.length,i=t-1;return r=>{let o=0,s=!1;if(r<=n[0]?s=!0:r>=n[i]&&(o=i-1,s=!0),!s){let l=1;for(;l<t&&!(n[l]>r||l===i);l++);o=l-1}const a=tW(n[o],n[o+1],r);return e[o](a)}}function oW(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const o=n.length;cb.invariant(o===e.length,"Both input and output ranges must be the same length"),cb.invariant(!i||!Array.isArray(i)||i.length===o-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),n[0]>n[o-1]&&(n=[].concat(n),e=[].concat(e),n.reverse(),e.reverse());const s=hye(e,i,r),a=o===2?fye(n,s):gye(n,s);return t?l=>a(T1(n[0],n[o-1],l)):a}const xx=n=>e=>1-n(1-e),tP=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Hne=n=>e=>Math.pow(e,n),sW=n=>e=>e*e*((n+1)*e-n),zne=n=>{const e=sW(n);return t=>(t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))},jne=1.525,pye=4/11,mye=8/11,_ye=9/10,Une=n=>n,aW=Hne(2),vye=xx(aW),$ne=tP(aW),qne=n=>1-Math.sin(Math.acos(n)),Kne=xx(qne),bye=tP(Kne),lW=sW(jne),yye=xx(lW),Cye=tP(lW),wye=zne(jne),Sye=4356/361,xye=35442/1805,Lye=16061/1805,hE=n=>{if(n===1||n===0)return n;const e=n*n;return n<pye?7.5625*e:n<mye?9.075*e-9.9*n+3.4:n<_ye?Sye*e-xye*n+Lye:10.8*n*n-20.52*n+10.72},kye=xx(hE),Dye=n=>n<.5?.5*(1-hE(1-n*2)):.5*hE(n*2-1)+.5;function Tye(n,e){return n.map(()=>e||$ne).splice(0,n.length-1)}function Eye(n){const e=n.length;return n.map((t,i)=>i!==0?i/(e-1):0)}function Iye(n,e){return n.map(t=>t*e)}function xw({from:n=0,to:e=1,ease:t,offset:i,duration:r=300}){const o={done:!1,value:n},s=Array.isArray(e)?e:[n,e],a=Iye(i&&i.length===s.length?i:Eye(s),r);function l(){return oW(a,s,{ease:Array.isArray(t)?t:Tye(s,t)})}let c=l();return{next:d=>(o.value=c(d),o.done=d>=r,o),flipTarget:()=>{s.reverse(),c=l()}}}function Gne({velocity:n=0,from:e=0,power:t=.8,timeConstant:i=350,restDelta:r=.5,modifyTarget:o}){const s={done:!1,value:e};let a=t*n;const l=e+a,c=o===void 0?l:o(l);return c!==l&&(a=c-e),{next:d=>{const u=-a*Math.exp(-d/i);return s.done=!(u>r||u<-r),s.value=s.done?c:c+u,s},flipTarget:()=>{}}}const v$={keyframes:xw,spring:JN,decay:Gne};function Nye(n){if(Array.isArray(n.to))return xw;if(v$[n.type])return v$[n.type];const e=new Set(Object.keys(n));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?xw:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?JN:xw}function Zne(n,e,t=0){return n-e-t}function Pye(n,e,t=0,i=!0){return i?Zne(e+-n,e,t):e-(n-e)+t}function Mye(n,e,t,i){return i?n>=e+t:n<=-t}const Rye=n=>{const e=({delta:t})=>n(t);return{start:()=>Zbe.default.update(e,!0),stop:()=>QN.cancelSync.update(e)}};function Yne(n){var e,t,{from:i,autoplay:r=!0,driver:o=Rye,elapsed:s=0,repeat:a=0,repeatType:l="loop",repeatDelay:c=0,onPlay:d,onStop:u,onComplete:h,onRepeat:f,onUpdate:g}=n,_=Bne.__rest(n,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:y}=_,m,p=0,v=_.duration,b,C=!1,S=!0,x;const k=Nye(_);!((t=(e=k).needsInterpolation)===null||t===void 0)&&t.call(e,i,y)&&(x=oW([0,100],[i,y],{clamp:!1}),i=0,y=100);const D=k(Object.assign(Object.assign({},_),{from:i,to:y}));function E(){p++,l==="reverse"?(S=p%2===0,s=Pye(s,v,c,S)):(s=Zne(s,v,c),l==="mirror"&&D.flipTarget()),C=!1,f&&f()}function I(){m.stop(),h&&h()}function N(O){if(S||(O=-O),s+=O,!C){const W=D.next(Math.max(0,s));b=W.value,x&&(b=x(b)),C=S?W.done:s<=0}g==null||g(b),C&&(p===0&&(v??(v=s)),p<a?Mye(s,v,c,S)&&E():I())}function R(){d==null||d(),m=o(N),m.start()}return r&&R(),{stop:()=>{u==null||u(),m.stop()}}}function Xne(n,e){return e?n*(1e3/e):0}function Aye({from:n=0,velocity:e=0,min:t,max:i,power:r=.8,timeConstant:o=750,bounceStiffness:s=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:c,driver:d,onUpdate:u,onComplete:h,onStop:f}){let g;function _(v){return t!==void 0&&v<t||i!==void 0&&v>i}function y(v){return t===void 0?i:i===void 0||Math.abs(t-v)<Math.abs(i-v)?t:i}function m(v){g==null||g.stop(),g=Yne(Object.assign(Object.assign({},v),{driver:d,onUpdate:b=>{var C;u==null||u(b),(C=v.onUpdate)===null||C===void 0||C.call(v,b)},onComplete:h,onStop:f}))}function p(v){m(Object.assign({type:"spring",stiffness:s,damping:a,restDelta:l},v))}if(_(n))p({from:n,velocity:e,to:y(n)});else{let v=r*e+n;typeof c<"u"&&(v=c(v));const b=y(v),C=b===t?-1:1;let S,x;const k=D=>{S=x,x=D,e=Xne(D-S,QN.getFrameData().delta),(C===1&&D>b||C===-1&&D<b)&&p({from:D,to:b,velocity:e})};m({type:"decay",from:n,velocity:e,timeConstant:o,power:r,restDelta:l,modifyTarget:c,onUpdate:_(v)?k:void 0})}return{stop:()=>g==null?void 0:g.stop()}}const Qne=n=>n*180/Math.PI,Oye=(n,e=aye)=>Qne(Math.atan2(e.y-n.y,e.x-n.x)),Fye=(n,e)=>{let t=!0;return e===void 0&&(e=n,t=!1),i=>t?i-n+e:(n=i,t=!0,e)},Bye=n=>n,cW=(n=Bye)=>(e,t,i)=>{const r=t-i,o=-(0-e+1)*(0-n(Math.abs(r)));return r<=0?t+o:t-o},Wye=cW(),Vye=cW(Math.sqrt),Jne=n=>n*Math.PI/180,fE=n=>n.hasOwnProperty("x")&&n.hasOwnProperty("y"),g4=n=>fE(n)&&n.hasOwnProperty("z"),ik=(n,e)=>Math.abs(n-e);function Hye(n,e){if(f4(n)&&f4(e))return ik(n,e);if(fE(n)&&fE(e)){const t=ik(n.x,e.x),i=ik(n.y,e.y),r=g4(n)&&g4(e)?ik(n.z,e.z):0;return Math.sqrt(Math.pow(t,2)+Math.pow(i,2)+Math.pow(r,2))}}const zye=(n,e,t)=>(e=Jne(e),{x:t*Math.cos(e)+n.x,y:t*Math.sin(e)+n.y}),ere=(n,e=2)=>(e=Math.pow(10,e),Math.round(n*e)/e),tre=(n,e,t,i=0)=>ere(n+t*(e-n)/Math.max(i,t)),jye=(n=50)=>{let e=0,t=0;return i=>{const r=QN.getFrameData().timestamp,o=r!==t?r-t:0,s=o?tre(e,i,o,n):e;return t=r,e=s,s}},Uye=n=>{if(typeof n=="number")return e=>Math.round(e/n)*n;{let e=0;const t=n.length;return i=>{let r=Math.abs(n[0]-i);for(e=1;e<t;e++){const o=n[e],s=Math.abs(o-i);if(s===0)return o;if(s>r)return n[e-1];if(e===t-1)return o;r=s}}}};function $ye(n,e){return n/(1e3/e)}const qye=(n,e,t)=>{const i=e-n;return((t-n)%i+i)%i+n},ire=(n,e)=>1-3*e+3*n,nre=(n,e)=>3*e-6*n,rre=n=>3*n,gE=(n,e,t)=>((ire(e,t)*n+nre(e,t))*n+rre(e))*n,ore=(n,e,t)=>3*ire(e,t)*n*n+2*nre(e,t)*n+rre(e),Kye=1e-7,Gye=10;function Zye(n,e,t,i,r){let o,s,a=0;do s=e+(t-e)/2,o=gE(s,i,r)-n,o>0?t=s:e=s;while(Math.abs(o)>Kye&&++a<Gye);return s}const Yye=8,Xye=.001;function Qye(n,e,t,i){for(let r=0;r<Yye;++r){const o=ore(e,t,i);if(o===0)return e;const s=gE(e,t,i)-n;e-=s/o}return e}const $D=11,nk=1/($D-1);function Jye(n,e,t,i){if(n===e&&t===i)return Une;const r=new Float32Array($D);for(let s=0;s<$D;++s)r[s]=gE(s*nk,n,t);function o(s){let a=0,l=1;const c=$D-1;for(;l!==c&&r[l]<=s;++l)a+=nk;--l;const d=(s-r[l])/(r[l+1]-r[l]),u=a+d*nk,h=ore(u,n,t);return h>=Xye?Qye(s,u,n,t):h===0?u:Zye(s,a,a+nk,n,t)}return s=>s===0||s===1?s:gE(o(s),e,i)}const eCe=(n,e="end")=>t=>{t=e==="end"?Math.min(t,.999):Math.max(t,.001);const i=t*n,r=e==="end"?Math.floor(i):Math.ceil(i);return T1(0,1,r/n)};Zt.angle=Oye;Zt.animate=Yne;Zt.anticipate=wye;Zt.applyOffset=Fye;Zt.attract=Wye;Zt.attractExpo=Vye;Zt.backIn=lW;Zt.backInOut=Cye;Zt.backOut=yye;Zt.bounceIn=kye;Zt.bounceInOut=Dye;Zt.bounceOut=hE;Zt.circIn=qne;Zt.circInOut=bye;Zt.circOut=Kne;Zt.clamp=T1;Zt.createAnticipate=zne;Zt.createAttractor=cW;Zt.createBackIn=sW;Zt.createExpoIn=Hne;Zt.cubicBezier=Jye;Zt.decay=Gne;Zt.degreesToRadians=Jne;Zt.distance=Hye;Zt.easeIn=aW;Zt.easeInOut=$ne;Zt.easeOut=vye;Zt.inertia=Aye;Zt.interpolate=oW;Zt.isPoint=fE;Zt.isPoint3D=g4;Zt.keyframes=xw;Zt.linear=Une;Zt.mirrorEasing=tP;Zt.mix=eP;Zt.mixColor=iW;Zt.mixComplex=rW;Zt.pipe=nW;Zt.pointFromVector=zye;Zt.progress=tW;Zt.radiansToDegrees=Qne;Zt.reverseEasing=xx;Zt.smooth=jye;Zt.smoothFrame=tre;Zt.snap=Uye;Zt.spring=JN;Zt.steps=eCe;Zt.toDecimal=ere;Zt.velocityPerFrame=$ye;Zt.velocityPerSecond=Xne;Zt.wrap=qye;class tCe{setAnimation(e){this.animation=e,e==null||e.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const GR=new WeakMap;function dW(n){return GR.has(n)||GR.set(n,{transforms:[],values:new Map}),GR.get(n)}function iCe(n,e){return n.has(e)||n.set(e,new tCe),n.get(e)}function sre(n,e){n.indexOf(e)===-1&&n.push(e)}function are(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const lre=(n,e,t)=>Math.min(Math.max(t,n),e),la={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},Lh=n=>typeof n=="number",E1=n=>Array.isArray(n)&&!Lh(n[0]),nCe=(n,e,t)=>{const i=e-n;return((t-n)%i+i)%i+n};function cre(n,e){return E1(n)?n[nCe(0,n.length,e)]:n}const uW=(n,e,t)=>-t*n+t*e+n,hW=()=>{},ch=n=>n,iP=(n,e,t)=>e-n===0?1:(t-n)/(e-n);function fW(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=iP(0,e,i);n.push(uW(t,1,r))}}function gW(n){const e=[0];return fW(e,n-1),e}function dre(n,e=gW(n.length),t=ch){const i=n.length,r=i-e.length;return r>0&&fW(e,r),o=>{let s=0;for(;s<i-2&&!(o<e[s+1]);s++);let a=lre(0,1,iP(e[s],e[s+1],o));return a=cre(t,s)(a),uW(n[s],n[s+1],a)}}const ure=n=>Array.isArray(n)&&Lh(n[0]),pE=n=>typeof n=="object"&&!!n.createAnimation,rCe=n=>typeof n=="function",pW=n=>typeof n=="string",bm={ms:n=>n*1e3,s:n=>n/1e3};function hre(n,e){return e?n*(1e3/e):0}const oCe=["","X","Y","Z"],sCe=["translate","scale","rotate","skew"],db={x:"translateX",y:"translateY",z:"translateZ"},b$={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:n=>n+"deg"},aCe={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:n=>n+"px"},rotate:b$,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:ch},skew:b$},ub=new Map,nP=n=>`--motion-${n}`,mE=["x","y","z"];sCe.forEach(n=>{oCe.forEach(e=>{mE.push(n+e),ub.set(nP(n+e),aCe[n])})});const lCe=(n,e)=>mE.indexOf(n)-mE.indexOf(e),cCe=new Set(mE),rP=n=>cCe.has(n),dCe=(n,e)=>{db[e]&&(e=db[e]);const{transforms:t}=dW(n);sre(t,e),n.style.transform=fre(t)},fre=n=>n.sort(lCe).reduce(uCe,"").trim(),uCe=(n,e)=>`${n} ${e}(var(${nP(e)}))`,p4=n=>n.startsWith("--"),y$=new Set;function hCe(n){if(!y$.has(n)){y$.add(n);try{const{syntax:e,initialValue:t}=ub.has(n)?ub.get(n):{};CSS.registerProperty({name:n,inherits:!1,syntax:e,initialValue:t})}catch{}}}const gre=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,fCe=1e-7,gCe=12;function pCe(n,e,t,i,r){let o,s,a=0;do s=e+(t-e)/2,o=gre(s,i,r)-n,o>0?t=s:e=s;while(Math.abs(o)>fCe&&++a<gCe);return s}function HC(n,e,t,i){if(n===e&&t===i)return ch;const r=o=>pCe(o,0,1,n,t);return o=>o===0||o===1?o:gre(r(o),e,i)}const mCe=(n,e="end")=>t=>{t=e==="end"?Math.min(t,.999):Math.max(t,.001);const i=t*n,r=e==="end"?Math.floor(i):Math.ceil(i);return lre(0,1,r/n)},C$={ease:HC(.25,.1,.25,1),"ease-in":HC(.42,0,1,1),"ease-in-out":HC(.42,0,.58,1),"ease-out":HC(0,0,.58,1)},_Ce=/\((.*?)\)/;function m4(n){if(rCe(n))return n;if(ure(n))return HC(...n);if(C$[n])return C$[n];if(n.startsWith("steps")){const e=_Ce.exec(n);if(e){const t=e[1].split(",");return mCe(parseFloat(t[0]),t[1].trim())}}return ch}class vCe{constructor(e,t=[0,1],{easing:i,duration:r=la.duration,delay:o=la.delay,endDelay:s=la.endDelay,repeat:a=la.repeat,offset:l,direction:c="normal",autoplay:d=!0}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=ch,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((h,f)=>{this.resolve=h,this.reject=f}),i=i||la.easing,pE(i)){const h=i.createAnimation(t);i=h.easing,t=h.keyframes||t,r=h.duration||r}this.repeat=a,this.easing=E1(i)?ch:m4(i),this.updateDuration(r);const u=dre(t,l,E1(i)?i.map(m4):ch);this.tick=h=>{var f;o=o;let g=0;this.pauseTime!==void 0?g=this.pauseTime:g=(h-this.startTime)*this.rate,this.t=g,g/=1e3,g=Math.max(g-o,0),this.playState==="finished"&&this.pauseTime===void 0&&(g=this.totalDuration);const _=g/this.duration;let y=Math.floor(_),m=_%1;!m&&_>=1&&(m=1),m===1&&y--;const p=y%2;(c==="reverse"||c==="alternate"&&p||c==="alternate-reverse"&&!p)&&(m=1-m);const v=g>=this.totalDuration?1:Math.min(m,1),b=u(this.easing(v));e(b),this.pauseTime===void 0&&(this.playState==="finished"||g>=this.totalDuration+s)?(this.playState="finished",(f=this.resolve)===null||f===void 0||f.call(this,b)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},d&&this.play()}play(){const e=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=e-this.pauseTime:this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var e;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(e=this.reject)===null||e===void 0||e.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(e){this.duration=e,this.totalDuration=e*(this.repeat+1)}get currentTime(){return this.t}set currentTime(e){this.pauseTime!==void 0||this.rate===0?this.pauseTime=e:this.startTime=performance.now()-e/this.rate}get playbackRate(){return this.rate}set playbackRate(e){this.rate=e}}const w$=n=>ure(n)?bCe(n):n,bCe=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,S$=n=>document.createElement("div").animate(n,{duration:.001}),x$={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{S$({opacity:[1]})}catch{return!1}return!0},finished:()=>!!S$({opacity:[0,1]}).finished},ZR={},qD={};for(const n in x$)qD[n]=()=>(ZR[n]===void 0&&(ZR[n]=x$[n]()),ZR[n]);function yCe(n,e){for(let t=0;t<n.length;t++)n[t]===null&&(n[t]=t?n[t-1]:e());return n}const pre=n=>Array.isArray(n)?n:[n];function _E(n){return db[n]&&(n=db[n]),rP(n)?nP(n):n}const $0={get:(n,e)=>{e=_E(e);let t=p4(e)?n.style.getPropertyValue(e):getComputedStyle(n)[e];if(!t&&t!==0){const i=ub.get(e);i&&(t=i.initialValue)}return t},set:(n,e,t)=>{e=_E(e),p4(e)?n.style.setProperty(e,t):n.style[e]=t}};function mre(n,e=!0){if(!(!n||n.playState==="finished"))try{n.stop?n.stop():(e&&n.commitStyles(),n.cancel())}catch{}}function CCe(){return window.__MOTION_DEV_TOOLS_RECORD}function oP(n,e,t,i={}){const r=CCe(),o=i.record!==!1&&r;let s,{duration:a=la.duration,delay:l=la.delay,endDelay:c=la.endDelay,repeat:d=la.repeat,easing:u=la.easing,direction:h,offset:f,allowWebkitAcceleration:g=!1}=i;const _=dW(n);let y=qD.waapi();const m=rP(e);m&&dCe(n,e);const p=_E(e),v=iCe(_.values,p),b=ub.get(p);return mre(v.animation,!(pE(u)&&v.generator)&&i.record!==!1),()=>{const C=()=>{var x,k;return(k=(x=$0.get(n,p))!==null&&x!==void 0?x:b==null?void 0:b.initialValue)!==null&&k!==void 0?k:0};let S=yCe(pre(t),C);if(pE(u)){const x=u.createAnimation(S,C,m,p,v);u=x.easing,x.keyframes!==void 0&&(S=x.keyframes),x.duration!==void 0&&(a=x.duration)}if(p4(p)&&(qD.cssRegisterProperty()?hCe(p):y=!1),y){b&&(S=S.map(D=>Lh(D)?b.toDefaultUnit(D):D)),S.length===1&&(!qD.partialKeyframes()||o)&&S.unshift(C());const x={delay:bm.ms(l),duration:bm.ms(a),endDelay:bm.ms(c),easing:E1(u)?void 0:w$(u),direction:h,iterations:d+1,fill:"both"};s=n.animate({[p]:S,offset:f,easing:E1(u)?u.map(w$):void 0},x),s.finished||(s.finished=new Promise((D,E)=>{s.onfinish=D,s.oncancel=E}));const k=S[S.length-1];s.finished.then(()=>{$0.set(n,p,k),s.cancel()}).catch(hW),g||(s.playbackRate=1.000001)}else if(m){S=S.map(k=>typeof k=="string"?parseFloat(k):k),S.length===1&&S.unshift(parseFloat(C()));const x=k=>{b&&(k=b.toDefaultUnit(k)),$0.set(n,p,k)};s=new vCe(x,S,Object.assign(Object.assign({},i),{duration:a,easing:u}))}else{const x=S[S.length-1];$0.set(n,p,b&&Lh(x)?b.toDefaultUnit(x):x)}return o&&r(n,e,S,{duration:a,delay:l,easing:u,repeat:d,offset:f},"motion-one"),v.setAnimation(s),s}}const mW=(n,e)=>n[e]?Object.assign(Object.assign({},n),n[e]):Object.assign({},n);function sP(n,e){var t;return typeof n=="string"?e?((t=e[n])!==null&&t!==void 0||(e[n]=document.querySelectorAll(n)),n=e[n]):n=document.querySelectorAll(n):n instanceof Element&&(n=[n]),Array.from(n||[])}const wCe=n=>n(),_W=(n,e,t=la.duration)=>new Proxy({animations:n.map(wCe).filter(Boolean),duration:t,options:e},xCe),SCe=n=>n.animations[0],xCe={get:(n,e)=>{const t=SCe(n);switch(e){case"duration":return n.duration;case"currentTime":return bm.s((t==null?void 0:t[e])||0);case"playbackRate":case"playState":return t==null?void 0:t[e];case"finished":return n.finished||(n.finished=Promise.all(n.animations.map(LCe)).catch(hW)),n.finished;case"stop":return()=>{n.animations.forEach(i=>mre(i))};case"forEachNative":return i=>{n.animations.forEach(r=>i(r,n))};default:return typeof(t==null?void 0:t[e])>"u"?void 0:()=>n.animations.forEach(i=>i[e]())}},set:(n,e,t)=>{switch(e){case"currentTime":t=bm.ms(t);case"currentTime":case"playbackRate":for(let i=0;i<n.animations.length;i++)n.animations[i][e]=t;return!0}return!1}},LCe=n=>n.finished;function kCe(n=.1,{start:e=0,from:t=0,easing:i}={}){return(r,o)=>{const s=Lh(t)?t:DCe(t,o),a=Math.abs(s-r);let l=n*a;if(i){const c=o*n;l=m4(i)(l/c)*c}return e+l}}function DCe(n,e){if(n==="first")return 0;{const t=e-1;return n==="last"?t:t/2}}function _re(n,e,t){return typeof n=="function"?n(e,t):n}function TCe(n,e,t={}){n=sP(n);const i=n.length,r=[];for(let o=0;o<i;o++){const s=n[o];for(const a in e){const l=mW(t,a);l.delay=_re(l.delay,o,i);const c=oP(s,a,e[a],l);r.push(c)}}return _W(r,t,t.duration)}function L$(n,e,t,i){var r;return Lh(e)?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,n+parseFloat(e)):e==="<"?t:(r=i.get(e))!==null&&r!==void 0?r:n}function ECe(n,e,t){for(let i=0;i<n.length;i++){const r=n[i];r.at>e&&r.at<t&&(are(n,r),i--)}}function ICe(n,e,t,i,r,o){ECe(n,r,o);for(let s=0;s<e.length;s++)n.push({value:e[s],at:uW(r,o,i[s]),easing:cre(t,s)})}function NCe(n,e){return n.at===e.at?n.value===null?1:-1:n.at-e.at}function PCe(n,e={}){var t;const i=MCe(n,e),r=i.map(o=>oP(...o)).filter(Boolean);return _W(r,e,(t=i[0])===null||t===void 0?void 0:t[3].duration)}function MCe(n,e={}){var{defaultOptions:t={}}=e,i=cy(e,["defaultOptions"]);const r=[],o=new Map,s={},a=new Map;let l=0,c=0,d=0;for(let u=0;u<n.length;u++){const h=n[u];if(pW(h)){a.set(h,c);continue}else if(!Array.isArray(h)){a.set(h.name,L$(c,h.at,l,a));continue}const[f,g,_={}]=h;_.at!==void 0&&(c=L$(c,_.at,l,a));let y=0;const m=sP(f,s),p=m.length;for(let v=0;v<p;v++){const b=m[v],C=RCe(b,o);for(const S in g){const x=ACe(S,C);let k=pre(g[S]);const D=mW(_,S);let{duration:E=t.duration||la.duration,easing:I=t.easing||la.easing}=D;if(pE(I)){const Q=rP(S);Lne(k.length===2||!Q);const Y=I.createAnimation(k,()=>"0",Q);I=Y.easing,Y.keyframes!==void 0&&(k=Y.keyframes),Y.duration!==void 0&&(E=Y.duration)}const N=_re(_.delay,v,p)||0,R=c+N,O=R+E;let{offset:W=gW(k.length)}=D;W.length===1&&W[0]===0&&(W[1]=1);const K=length-k.length;K>0&&fW(W,K),k.length===1&&k.unshift(null),ICe(x,k,I,W,R,O),y=Math.max(N+E,y),d=Math.max(O,d)}}l=c,c+=y}return o.forEach((u,h)=>{for(const f in u){const g=u[f];g.sort(NCe);const _=[],y=[],m=[];for(let p=0;p<g.length;p++){const{at:v,value:b,easing:C}=g[p];_.push(b),y.push(iP(0,d,v)),m.push(C||la.easing)}y[0]!==0&&(y.unshift(0),_.unshift(_[0]),m.unshift("linear")),y[y.length-1]!==1&&(y.push(1),_.push(null)),r.push([h,f,_,Object.assign(Object.assign(Object.assign({},t),{duration:d,easing:m,offset:y}),i)])}}),r}function RCe(n,e){return!e.has(n)&&e.set(n,{}),e.get(n)}function ACe(n,e){return e[n]||(e[n]=[]),e[n]}const OCe=5;function vW(n,e,t){const i=Math.max(e-OCe,0);return hre(t-n(i),e-i)}const xv={stiffness:100,damping:10,mass:1},FCe=(n=xv.stiffness,e=xv.damping,t=xv.mass)=>e/(2*Math.sqrt(n*t));function BCe(n,e,t){return n<e&&t>=e||n>e&&t<=e}const vre=({stiffness:n=xv.stiffness,damping:e=xv.damping,mass:t=xv.mass,from:i=0,to:r=1,velocity:o=0,restSpeed:s,restDistance:a}={})=>{o=o?bm.s(o):0;const l={done:!1,hasReachedTarget:!1,current:i,target:r},c=r-i,d=Math.sqrt(n/t)/1e3,u=FCe(n,e,t),h=Math.abs(c)<5;s||(s=h?.01:2),a||(a=h?.005:.5);let f;if(u<1){const g=d*Math.sqrt(1-u*u);f=_=>r-Math.exp(-u*d*_)*((-o+u*d*c)/g*Math.sin(g*_)+c*Math.cos(g*_))}else f=g=>r-Math.exp(-d*g)*(c+(-o+d*c)*g);return g=>{l.current=f(g);const _=g===0?o:vW(f,g,l.current),y=Math.abs(_)<=s,m=Math.abs(r-l.current)<=a;return l.done=y&&m,l.hasReachedTarget=BCe(i,r,l.current),l}},WCe=({from:n=0,velocity:e=0,power:t=.8,decay:i=.325,bounceDamping:r,bounceStiffness:o,changeTarget:s,min:a,max:l,restDistance:c=.5,restSpeed:d})=>{i=bm.ms(i);const u={hasReachedTarget:!1,done:!1,current:n,target:n},h=x=>a!==void 0&&x<a||l!==void 0&&x>l,f=x=>a===void 0?l:l===void 0||Math.abs(a-x)<Math.abs(l-x)?a:l;let g=t*e;const _=n+g,y=s===void 0?_:s(_);u.target=y,y!==_&&(g=y-n);const m=x=>-g*Math.exp(-x/i),p=x=>y+m(x),v=x=>{const k=m(x),D=p(x);u.done=Math.abs(k)<=c,u.current=u.done?y:D};let b,C;const S=x=>{h(u.current)&&(b=x,C=vre({from:u.current,to:f(u.current),velocity:vW(p,x,u.current),damping:r,stiffness:o,restDistance:c,restSpeed:d}))};return S(0),x=>{let k=!1;return!C&&b===void 0&&(k=!0,v(x),S(x)),b!==void 0&&x>b?(u.hasReachedTarget=!0,C(x-b)):(u.hasReachedTarget=!1,!k&&v(x),u)}},YR=10,VCe=1e4;function HCe(n,e=ch){let t,i=YR,r=n(0);const o=[e(r.current)];for(;!r.done&&i<VCe;)r=n(i),o.push(e(r.done?r.target:r.current)),t===void 0&&r.hasReachedTarget&&(t=i),i+=YR;const s=i-YR;return o.length===1&&o.push(r.current),{keyframes:o,duration:s/1e3,overshootDuration:(t??s)/1e3}}function bre(n){const e=new WeakMap;return(t={})=>{const i=new Map,r=(s=0,a=100,l=0,c=!1)=>{const d=`${s}-${a}-${l}-${c}`;return i.has(d)||i.set(d,n(Object.assign({from:s,to:a,velocity:l,restSpeed:c?.05:2,restDistance:c?.01:.5},t))),i.get(d)},o=s=>(e.has(s)||e.set(s,HCe(s)),e.get(s));return{createAnimation:(s,a,l,c,d)=>{var u,h;let f;const g=s.length;if(l&&g<=2&&s.every(zCe)){const y=s[g-1],m=g===1?null:s[0];let p=0,v=0;const b=d==null?void 0:d.generator;if(b){const{animation:x,generatorStartTime:k}=d,D=(x==null?void 0:x.startTime)||k||0,E=(x==null?void 0:x.currentTime)||performance.now()-D,I=b(E).current;v=(u=m)!==null&&u!==void 0?u:I,(g===1||g===2&&s[0]===null)&&(p=vW(N=>b(N).current,E,I))}else v=(h=m)!==null&&h!==void 0?h:parseFloat(a());const C=r(v,y,p,c==null?void 0:c.includes("scale")),S=o(C);f=Object.assign(Object.assign({},S),{easing:"linear"}),d&&(d.generator=C,d.generatorStartTime=performance.now())}else f={easing:"ease",duration:o(r(0,100)).overshootDuration};return f}}}}const zCe=n=>typeof n!="string",jCe=bre(vre),UCe=bre(WCe),$Ce={any:0,all:1};function yre(n,e,{root:t,margin:i,amount:r="any"}={}){if(typeof IntersectionObserver>"u")return()=>{};const o=sP(n),s=new WeakMap,a=c=>{c.forEach(d=>{const u=s.get(d.target);if(d.isIntersecting!==!!u)if(d.isIntersecting){const h=e(d);typeof h=="function"?s.set(d.target,h):l.unobserve(d.target)}else u&&(u(d),s.delete(d.target))})},l=new IntersectionObserver(a,{root:t,rootMargin:i,threshold:typeof r=="number"?r:$Ce[r]});return o.forEach(c=>l.observe(c)),()=>l.disconnect()}const KD=new WeakMap;let df;function qCe(n,e){if(e){const{inlineSize:t,blockSize:i}=e[0];return{width:t,height:i}}else return n instanceof SVGElement&&"getBBox"in n?n.getBBox():{width:n.offsetWidth,height:n.offsetHeight}}function KCe({target:n,contentRect:e,borderBoxSize:t}){var i;(i=KD.get(n))===null||i===void 0||i.forEach(r=>{r({target:n,contentSize:e,get size(){return qCe(n,t)}})})}function GCe(n){n.forEach(KCe)}function ZCe(){typeof ResizeObserver>"u"||(df=new ResizeObserver(GCe))}function YCe(n,e){df||ZCe();const t=sP(n);return t.forEach(i=>{let r=KD.get(i);r||(r=new Set,KD.set(i,r)),r.add(e),df==null||df.observe(i)}),()=>{t.forEach(i=>{const r=KD.get(i);r==null||r.delete(e),r!=null&&r.size||df==null||df.unobserve(i)})}}const GD=new Set;let Lw;function XCe(){Lw=()=>{const n={width:window.innerWidth,height:window.innerHeight},e={target:window,size:n,contentSize:n};GD.forEach(t=>t(e))},window.addEventListener("resize",Lw)}function QCe(n){return GD.add(n),Lw||XCe(),()=>{GD.delete(n),!GD.size&&Lw&&(Lw=void 0)}}function Cre(n,e){return typeof n=="function"?QCe(n):YCe(n,e)}const JCe=50,k$=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),ewe=()=>({time:0,x:k$(),y:k$()}),twe={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function D$(n,e,t,i){const r=t[e],{length:o,position:s}=twe[e],a=r.current,l=t.time;r.current=n["scroll"+s],r.scrollLength=n["scroll"+o]-n["client"+o],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=iP(0,r.scrollLength,r.current);const c=i-l;r.velocity=c>JCe?0:hre(r.current-a,c)}function iwe(n,e,t){D$(n,"x",e,t),D$(n,"y",e,t),e.time=t}function nwe(n,e){let t={x:0,y:0},i=n;for(;i&&i!==e;)if(i instanceof HTMLElement)t.x+=i.offsetLeft,t.y+=i.offsetTop,i=i.offsetParent;else if(i instanceof SVGGraphicsElement&&"getBBox"in i){const{top:r,left:o}=i.getBBox();for(t.x+=o,t.y+=r;i&&i.tagName!=="svg";)i=i.parentNode}return t}const wre={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},_4={start:0,center:.5,end:1};function T$(n,e,t=0){let i=0;if(_4[n]!==void 0&&(n=_4[n]),pW(n)){const r=parseFloat(n);n.endsWith("px")?i=r:n.endsWith("%")?n=r/100:n.endsWith("vw")?i=r/100*document.documentElement.clientWidth:n.endsWith("vh")?i=r/100*document.documentElement.clientHeight:n=r}return Lh(n)&&(i=e*n),t+i}const rwe=[0,0];function owe(n,e,t,i){let r=Array.isArray(n)?n:rwe,o=0,s=0;return Lh(n)?r=[n,n]:pW(n)&&(n=n.trim(),n.includes(" ")?r=n.split(" "):r=[n,_4[n]?n:"0"]),o=T$(r[0],t,i),s=T$(r[1],e),o-s}const swe={x:0,y:0};function awe(n,e,t){let{offset:i=wre.All}=t;const{target:r=n,axis:o="y"}=t,s=o==="y"?"height":"width",a=r!==n?nwe(r,n):swe,l=r===n?{width:n.scrollWidth,height:n.scrollHeight}:{width:r.clientWidth,height:r.clientHeight},c={width:n.clientWidth,height:n.clientHeight};e[o].offset.length=0;let d=!e[o].interpolate;const u=i.length;for(let h=0;h<u;h++){const f=owe(i[h],c[s],l[s],a[o]);!d&&f!==e[o].interpolatorOffsets[h]&&(d=!0),e[o].offset[h]=f}d&&(e[o].interpolate=dre(gW(u),e[o].offset),e[o].interpolatorOffsets=[...e[o].offset]),e[o].progress=e[o].interpolate(e[o].current)}function lwe(n,e=n,t){if(t.x.targetOffset=0,t.y.targetOffset=0,e!==n){let i=e;for(;i&&i!=n;)t.x.targetOffset+=i.offsetLeft,t.y.targetOffset+=i.offsetTop,i=i.offsetParent}t.x.targetLength=e===n?e.scrollWidth:e.clientWidth,t.y.targetLength=e===n?e.scrollHeight:e.clientHeight,t.x.containerLength=n.clientWidth,t.y.containerLength=n.clientHeight}function cwe(n,e,t,i={}){const r=i.axis||"y";return{measure:()=>lwe(n,i.target,t),update:o=>{iwe(n,t,o),(i.offset||i.target)&&awe(n,t,i)},notify:typeof e=="function"?()=>e(t):dwe(e,t[r])}}function dwe(n,e){return n.pause(),n.forEachNative((t,{easing:i})=>{var r,o;if(t.updateDuration)i||(t.easing=ch),t.updateDuration(1);else{const s={duration:1e3};i||(s.easing="linear"),(o=(r=t.effect)===null||r===void 0?void 0:r.updateTiming)===null||o===void 0||o.call(r,s)}}),()=>{n.currentTime=e.progress}}const rC=new WeakMap,E$=new WeakMap,XR=new WeakMap,I$=n=>n===document.documentElement?window:n;function uwe(n,e={}){var{container:t=document.documentElement}=e,i=cy(e,["container"]);let r=XR.get(t);r||(r=new Set,XR.set(t,r));const o=ewe(),s=cwe(t,n,o,i);if(r.add(s),!rC.has(t)){const c=()=>{const u=performance.now();for(const h of r)h.measure();for(const h of r)h.update(u);for(const h of r)h.notify()};rC.set(t,c);const d=I$(t);window.addEventListener("resize",c,{passive:!0}),t!==document.documentElement&&E$.set(t,Cre(t,c)),d.addEventListener("scroll",c,{passive:!0})}const a=rC.get(t),l=requestAnimationFrame(a);return()=>{var c;typeof n!="function"&&n.stop(),cancelAnimationFrame(l);const d=XR.get(t);if(!d||(d.delete(s),d.size))return;const u=rC.get(t);rC.delete(t),u&&(I$(t).removeEventListener("scroll",u),(c=E$.get(t))===null||c===void 0||c(),window.removeEventListener("resize",u))}}function hwe(n,e){return typeof n!=typeof e?!0:Array.isArray(n)&&Array.isArray(e)?!fwe(n,e):n!==e}function fwe(n,e){const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function gwe(n){return typeof n=="object"}function N$(n,e){if(gwe(n))return n;if(n&&e)return e[n]}let ag;function pwe(){if(!ag)return;const n=ag.sort(_we).map(vwe);n.forEach(P$),n.forEach(P$),ag=void 0}function QR(n){ag?sre(ag,n):(ag=[n],requestAnimationFrame(pwe))}function mwe(n){ag&&are(ag,n)}const _we=(n,e)=>n.getDepth()-e.getDepth(),vwe=n=>n.animateUpdates(),P$=n=>n.next(),M$=(n,e)=>new CustomEvent(n,{detail:{target:e}});function v4(n,e,t){n.dispatchEvent(new CustomEvent(e,{detail:{originalEvent:t}}))}function R$(n,e,t){n.dispatchEvent(new CustomEvent(e,{detail:{originalEntry:t}}))}const bwe={isActive:n=>!!n.inView,subscribe:(n,{enable:e,disable:t},{inViewOptions:i={}})=>{const{once:r}=i,o=cy(i,["once"]);return yre(n,s=>{if(e(),R$(n,"viewenter",s),!r)return a=>{t(),R$(n,"viewleave",a)}},o)}},A$=(n,e,t)=>i=>{i.pointerType&&i.pointerType!=="mouse"||(t(),v4(n,e,i))},ywe={isActive:n=>!!n.hover,subscribe:(n,{enable:e,disable:t})=>{const i=A$(n,"hoverstart",e),r=A$(n,"hoverend",t);return n.addEventListener("pointerenter",i),n.addEventListener("pointerleave",r),()=>{n.removeEventListener("pointerenter",i),n.removeEventListener("pointerleave",r)}}},Cwe={isActive:n=>!!n.press,subscribe:(n,{enable:e,disable:t})=>{const i=o=>{t(),v4(n,"pressend",o),window.removeEventListener("pointerup",i)},r=o=>{e(),v4(n,"pressstart",o),window.addEventListener("pointerup",i)};return n.addEventListener("pointerdown",r),()=>{n.removeEventListener("pointerdown",r),window.removeEventListener("pointerup",i)}}},ZD={inView:bwe,hover:ywe,press:Cwe},O$=["initial","animate",...Object.keys(ZD),"exit"],b4=new WeakMap;function wwe(n={},e){let t,i=e?e.getDepth()+1:0;const r={initial:!0,animate:!0},o={},s={};for(const _ of O$)s[_]=typeof n[_]=="string"?n[_]:e==null?void 0:e.getContext()[_];const a=n.initial===!1?"animate":"initial";let l=N$(n[a]||s[a],n.variants)||{},c=cy(l,["transition"]);const d=Object.assign({},c);function*u(){var _,y;const m=c;c={};const p={};for(const x of O$){if(!r[x])continue;const k=N$(n[x]);if(k)for(const D in k)D!=="transition"&&(c[D]=k[D],p[D]=mW((y=(_=k.transition)!==null&&_!==void 0?_:n.transition)!==null&&y!==void 0?y:{},D))}const v=new Set([...Object.keys(c),...Object.keys(m)]),b=[];v.forEach(x=>{var k;c[x]===void 0&&(c[x]=d[x]),hwe(m[x],c[x])&&((k=d[x])!==null&&k!==void 0||(d[x]=$0.get(t,x)),b.push(oP(t,x,c[x],p[x])))}),yield;const C=b.map(x=>x()).filter(Boolean);if(!C.length)return;const S=c;t.dispatchEvent(M$("motionstart",S)),Promise.all(C.map(x=>x.finished)).then(()=>{t.dispatchEvent(M$("motioncomplete",S))}).catch(hW)}const h=(_,y)=>()=>{r[_]=y,QR(g)},f=()=>{for(const _ in ZD){const y=ZD[_].isActive(n),m=o[_];y&&!m?o[_]=ZD[_].subscribe(t,{enable:h(_,!0),disable:h(_,!1)},n):!y&&m&&(m(),delete o[_])}},g={update:_=>{t&&(n=_,f(),QR(g))},setActive:(_,y)=>{t&&(r[_]=y,QR(g))},animateUpdates:u,getDepth:()=>i,getTarget:()=>c,getOptions:()=>n,getContext:()=>s,mount:_=>(t=_,b4.set(t,g),f(),()=>{b4.delete(t),mwe(g);for(const y in o)o[y]()}),isMounted:()=>!!t};return g}function Sre(n){const e={},t=[];for(let i in n){const r=n[i];rP(i)&&(db[i]&&(i=db[i]),t.push(i),i=nP(i));let o=Array.isArray(r)?r[0]:r;const s=ub.get(i);s&&(o=Lh(r)?s.toDefaultUnit(r):r),e[i]=o}return t.length&&(e.transform=fre(t)),e}const Swe=n=>`-${n.toLowerCase()}`,xwe=n=>n.replace(/[A-Z]/g,Swe);function Lwe(n={}){const e=Sre(n);let t="";for(const i in e)t+=i.startsWith("--")?i:xwe(i),t+=`: ${e[i]}; `;return t}const kwe=Object.freeze(Object.defineProperty({__proto__:null,ScrollOffset:wre,animate:TCe,animateStyle:oP,createMotionState:wwe,createStyleString:Lwe,createStyles:Sre,getAnimationData:dW,getStyleName:_E,glide:UCe,inView:yre,mountedStates:b4,resize:Cre,scroll:uwe,spring:jCe,stagger:kCe,style:$0,timeline:PCe,withControls:_W},Symbol.toStringTag,{value:"Module"})),Dwe=ux(kwe);function Twe(n){var e={};return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var Ewe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Iwe=Twe(function(n){return Ewe.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91});const Nwe=Object.freeze(Object.defineProperty({__proto__:null,default:Iwe},Symbol.toStringTag,{value:"Module"})),Pwe=ux(Nwe);(function(n){var e={};Object.defineProperty(n,"__esModule",{value:!0});var t=xne,i=le,r=kne,o=so,s=Zt,a=x_,l=Dwe;function c(L){return L&&typeof L=="object"&&"default"in L?L:{default:L}}function d(L){if(L&&L.__esModule)return L;var T=Object.create(null);return L&&Object.keys(L).forEach(function(P){if(P!=="default"){var M=Object.getOwnPropertyDescriptor(L,P);Object.defineProperty(T,P,M.get?M:{enumerable:!0,get:function(){return L[P]}})}}),T.default=L,Object.freeze(T)}var u=d(i),h=c(i),f=c(a),g="production",_=typeof process>"u"||e===void 0?g:"production",y=function(L){return{isEnabled:function(T){return L.some(function(P){return!!T[P]})}}},m={measureLayout:y(["layout","layoutId","drag"]),animation:y(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:y(["exit"]),drag:y(["drag","dragControls"]),focus:y(["whileFocus"]),hover:y(["whileHover","onHoverStart","onHoverEnd"]),tap:y(["whileTap","onTap","onTapStart","onTapCancel"]),pan:y(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:y(["whileInView","onViewportEnter","onViewportLeave"])};function p(L){for(var T in L)L[T]!==null&&(T==="projectionNodeConstructor"?m.projectionNodeConstructor=L[T]:m[T].Component=L[T])}var v=i.createContext({strict:!1}),b=Object.keys(m),C=b.length;function S(L,T,P){var M=[],F=i.useContext(v);if(!T)return null;_!=="production"&&P&&F.strict&&r.invariant(!1,"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.");for(var q=0;q<C;q++){var G=b[q],z=m[G],ee=z.isEnabled,ie=z.Component;ee(L)&&ie&&M.push(u.createElement(ie,t.__assign({key:G},L,{visualElement:T})))}return M}var x=i.createContext({transformPagePoint:function(L){return L},isStatic:!1,reducedMotion:"never"}),k=i.createContext({});function D(){return i.useContext(k).visualElement}var E=i.createContext(null),I=typeof document<"u",N=I?i.useLayoutEffect:i.useEffect,R={current:null},O=!1;function W(){if(O=!0,!!I)if(window.matchMedia){var L=window.matchMedia("(prefers-reduced-motion)"),T=function(){return R.current=L.matches};L.addListener(T),T()}else R.current=!1}function K(){!O&&W();var L=t.__read(i.useState(R.current),1),T=L[0];return T}function Q(){var L=K(),T=i.useContext(x).reducedMotion;return T==="never"?!1:T==="always"?!0:L}function Y(L,T,P,M){var F=i.useContext(v),q=D(),G=i.useContext(E),z=Q(),ee=i.useRef(void 0);M||(M=F.renderer),!ee.current&&M&&(ee.current=M(L,{visualState:T,parent:q,props:P,presenceId:G==null?void 0:G.id,blockInitialAnimation:(G==null?void 0:G.initial)===!1,shouldReduceMotion:z}));var ie=ee.current;return N(function(){ie==null||ie.syncRender()}),i.useEffect(function(){var de;(de=ie==null?void 0:ie.animationState)===null||de===void 0||de.animateChanges()}),N(function(){return function(){return ie==null?void 0:ie.notifyUnmount()}},[]),ie}function V(L){return typeof L=="object"&&Object.prototype.hasOwnProperty.call(L,"current")}function X(L,T,P){return i.useCallback(function(M){var F;M&&((F=L.mount)===null||F===void 0||F.call(L,M)),T&&(M?T.mount(M):T.unmount()),P&&(typeof P=="function"?P(M):V(P)&&(P.current=M))},[T])}function J(L){return Array.isArray(L)}function te(L){return typeof L=="string"||J(L)}function oe(L){var T={};return L.forEachValue(function(P,M){return T[M]=P.get()}),T}function Me(L){var T={};return L.forEachValue(function(P,M){return T[M]=P.getVelocity()}),T}function Re(L,T,P,M,F){var q;return M===void 0&&(M={}),F===void 0&&(F={}),typeof T=="function"&&(T=T(P??L.custom,M,F)),typeof T=="string"&&(T=(q=L.variants)===null||q===void 0?void 0:q[T]),typeof T=="function"&&(T=T(P??L.custom,M,F)),T}function _e(L,T,P){var M=L.getProps();return Re(M,T,P??M.custom,oe(L),Me(L))}function Fe(L){var T;return typeof((T=L.animate)===null||T===void 0?void 0:T.start)=="function"||te(L.initial)||te(L.animate)||te(L.whileHover)||te(L.whileDrag)||te(L.whileTap)||te(L.whileFocus)||te(L.exit)}function Oe(L){return!!(Fe(L)||L.variants)}function De(L,T){if(Fe(L)){var P=L.initial,M=L.animate;return{initial:P===!1||te(P)?P:void 0,animate:te(M)?M:void 0}}return L.inherit!==!1?T:{}}function ze(L){var T=De(L,i.useContext(k)),P=T.initial,M=T.animate;return i.useMemo(function(){return{initial:P,animate:M}},[ke(P),ke(M)])}function ke(L){return Array.isArray(L)?L.join(" "):L}function Ze(L){var T=i.useRef(null);return T.current===null&&(T.current=L()),T.current}var vt={hasAnimatedSinceResize:!0,hasEverUpdated:!1},ot=1;function ct(){return Ze(function(){if(vt.hasEverUpdated)return ot++})}var st=i.createContext({}),ni=i.createContext({});function Yi(L,T,P,M){var F,q=T.layoutId,G=T.layout,z=T.drag,ee=T.dragConstraints,ie=T.layoutScroll,de=i.useContext(ni);!M||!P||P!=null&&P.projection||(P.projection=new M(L,P.getLatestValues(),(F=P.parent)===null||F===void 0?void 0:F.projection),P.projection.setOptions({layoutId:q,layout:G,alwaysMeasureLayout:!!z||ee&&V(ee),visualElement:P,scheduleRender:function(){return P.scheduleRender()},animationType:typeof G=="string"?G:"both",initialPromotionConfig:de,layoutScroll:ie}))}var zn=function(L){t.__extends(T,L);function T(){return L!==null&&L.apply(this,arguments)||this}return T.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},T.prototype.componentDidUpdate=function(){},T.prototype.updateProps=function(){var P=this.props,M=P.visualElement,F=P.props;M&&M.setProps(F)},T.prototype.render=function(){return this.props.children},T}(h.default.Component);function be(L){var T=L.preloadedFeatures,P=L.createVisualElement,M=L.projectionNodeConstructor,F=L.useRender,q=L.useVisualState,G=L.Component;T&&p(T);function z(ee,ie){var de=he(ee);ee=t.__assign(t.__assign({},ee),{layoutId:de});var pe=i.useContext(x),me=null,ye=ze(ee),Ce=pe.isStatic?void 0:ct(),Be=q(ee,pe.isStatic);return!pe.isStatic&&I&&(ye.visualElement=Y(G,Be,t.__assign(t.__assign({},pe),ee),P),Yi(Ce,ee,ye.visualElement,M||m.projectionNodeConstructor),me=S(ee,ye.visualElement,T)),u.createElement(zn,{visualElement:ye.visualElement,props:t.__assign(t.__assign({},pe),ee)},me,u.createElement(k.Provider,{value:ye},F(G,ee,Ce,X(Be,ye.visualElement,ie),Be,pe.isStatic,ye.visualElement)))}return i.forwardRef(z)}function he(L){var T,P=L.layoutId,M=(T=i.useContext(st))===null||T===void 0?void 0:T.id;return M&&P!==void 0?M+"-"+P:P}function fe(L){function T(M,F){return F===void 0&&(F={}),be(L(M,F))}if(typeof Proxy>"u")return T;var P=new Map;return new Proxy(T,{get:function(M,F){return P.has(F)||P.set(F,T(F)),P.get(F)}})}var $=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function Z(L){return typeof L!="string"||L.includes("-")?!1:!!($.indexOf(L)>-1||/[A-Z]/.test(L))}var ae={};function se(L){Object.assign(ae,L)}var Le=["","X","Y","Z"],He=["translate","scale","rotate","skew"],Ye=["transformPerspective","x","y","z"];He.forEach(function(L){return Le.forEach(function(T){return Ye.push(L+T)})});function nt(L,T){return Ye.indexOf(L)-Ye.indexOf(T)}var bt=new Set(Ye);function gt(L){return bt.has(L)}var ci=new Set(["originX","originY","originZ"]);function Qt(L){return ci.has(L)}function ut(L,T){var P=T.layout,M=T.layoutId;return gt(L)||Qt(L)||(P||M!==void 0)&&(!!ae[L]||L==="opacity")}var fi=function(L){return!!(L!==null&&typeof L=="object"&&L.getVelocity)},Ui={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function An(L,T,P,M){var F=L.transform,q=L.transformKeys,G=T.enableHardwareAcceleration,z=G===void 0?!0:G,ee=T.allowTransformNone,ie=ee===void 0?!0:ee,de="";q.sort(nt);for(var pe=!1,me=q.length,ye=0;ye<me;ye++){var Ce=q[ye];de+="".concat(Ui[Ce]||Ce,"(").concat(F[Ce],") "),Ce==="z"&&(pe=!0)}return!pe&&z?de+="translateZ(0)":de=de.trim(),M?de=M(F,P?"":de):ie&&P&&(de="none"),de}function ri(L){var T=L.originX,P=T===void 0?"50%":T,M=L.originY,F=M===void 0?"50%":M,q=L.originZ,G=q===void 0?0:q;return"".concat(P," ").concat(F," ").concat(G)}function rn(L){return L.startsWith("--")}var co=function(L,T){return T&&typeof L=="number"?T.transform(L):L},Ys=t.__assign(t.__assign({},o.number),{transform:Math.round}),Do={borderWidth:o.px,borderTopWidth:o.px,borderRightWidth:o.px,borderBottomWidth:o.px,borderLeftWidth:o.px,borderRadius:o.px,radius:o.px,borderTopLeftRadius:o.px,borderTopRightRadius:o.px,borderBottomRightRadius:o.px,borderBottomLeftRadius:o.px,width:o.px,maxWidth:o.px,height:o.px,maxHeight:o.px,size:o.px,top:o.px,right:o.px,bottom:o.px,left:o.px,padding:o.px,paddingTop:o.px,paddingRight:o.px,paddingBottom:o.px,paddingLeft:o.px,margin:o.px,marginTop:o.px,marginRight:o.px,marginBottom:o.px,marginLeft:o.px,rotate:o.degrees,rotateX:o.degrees,rotateY:o.degrees,rotateZ:o.degrees,scale:o.scale,scaleX:o.scale,scaleY:o.scale,scaleZ:o.scale,skew:o.degrees,skewX:o.degrees,skewY:o.degrees,distance:o.px,translateX:o.px,translateY:o.px,translateZ:o.px,x:o.px,y:o.px,z:o.px,perspective:o.px,transformPerspective:o.px,opacity:o.alpha,originX:o.progressPercentage,originY:o.progressPercentage,originZ:o.px,zIndex:Ys,fillOpacity:o.alpha,strokeOpacity:o.alpha,numOctaves:Ys};function Qn(L,T,P,M){var F,q=L.style,G=L.vars,z=L.transform,ee=L.transformKeys,ie=L.transformOrigin;ee.length=0;var de=!1,pe=!1,me=!0;for(var ye in T){var Ce=T[ye];if(rn(ye)){G[ye]=Ce;continue}var Be=Do[ye],tt=co(Ce,Be);if(gt(ye)){if(de=!0,z[ye]=tt,ee.push(ye),!me)continue;Ce!==((F=Be.default)!==null&&F!==void 0?F:0)&&(me=!1)}else Qt(ye)?(ie[ye]=tt,pe=!0):q[ye]=tt}de?q.transform=An(L,P,me,M):M?q.transform=M({},""):!T.transform&&q.transform&&(q.transform="none"),pe&&(q.transformOrigin=ri(ie))}var Ss=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function Ra(L,T,P){for(var M in T)!fi(T[M])&&!ut(M,P)&&(L[M]=T[M])}function Ql(L,T,P){var M=L.transformTemplate;return i.useMemo(function(){var F=Ss();Qn(F,T,{enableHardwareAcceleration:!P},M);var q=F.vars,G=F.style;return t.__assign(t.__assign({},q),G)},[T])}function Xo(L,T,P){var M=L.style||{},F={};return Ra(F,M,L),Object.assign(F,Ql(L,T,P)),L.transformValues&&(F=L.transformValues(F)),F}function wu(L,T,P){var M={},F=Xo(L,T,P);return L.drag&&L.dragListener!==!1&&(M.draggable=!1,F.userSelect=F.WebkitUserSelect=F.WebkitTouchCallout="none",F.touchAction=L.drag===!0?"none":"pan-".concat(L.drag==="x"?"y":"x")),M.style=F,M}var uo=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function xs(L){return uo.has(L)}var fl=function(L){return!xs(L)};function Su(L){L&&(fl=function(T){return T.startsWith("on")?!xs(T):L(T)})}try{Su(Pwe.default)}catch{}function zh(L,T,P){var M={};for(var F in L)(fl(F)||P===!0&&xs(F)||!T&&!xs(F)||L.draggable&&F.startsWith("onDrag"))&&(M[F]=L[F]);return M}function Qo(L,T,P){return typeof L=="string"?L:o.px.transform(T+P*L)}function Aa(L,T,P){var M=Qo(T,L.x,L.width),F=Qo(P,L.y,L.height);return"".concat(M," ").concat(F)}var jh={offset:"stroke-dashoffset",array:"stroke-dasharray"},q_={offset:"strokeDashoffset",array:"strokeDasharray"};function K_(L,T,P,M,F){P===void 0&&(P=1),M===void 0&&(M=0),F===void 0&&(F=!0),L.pathLength=1;var q=F?jh:q_;L[q.offset]=o.px.transform(-M);var G=o.px.transform(T),z=o.px.transform(P);L[q.array]="".concat(G," ").concat(z)}function xu(L,T,P,M){var F=T.attrX,q=T.attrY,G=T.originX,z=T.originY,ee=T.pathLength,ie=T.pathSpacing,de=ie===void 0?1:ie,pe=T.pathOffset,me=pe===void 0?0:pe,ye=t.__rest(T,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]);Qn(L,ye,P,M),L.attrs=L.style,L.style={};var Ce=L.attrs,Be=L.style,tt=L.dimensions;Ce.transform&&(tt&&(Be.transform=Ce.transform),delete Ce.transform),tt&&(G!==void 0||z!==void 0||Be.transform)&&(Be.transformOrigin=Aa(tt,G!==void 0?G:.5,z!==void 0?z:.5)),F!==void 0&&(Ce.x=F),q!==void 0&&(Ce.y=q),ee!==void 0&&K_(Ce,ee,de,me,!1)}var G_=function(){return t.__assign(t.__assign({},Ss()),{attrs:{}})};function Ct(L,T){var P=i.useMemo(function(){var F=G_();return xu(F,T,{enableHardwareAcceleration:!1},L.transformTemplate),t.__assign(t.__assign({},F.attrs),{style:t.__assign({},F.style)})},[T]);if(L.style){var M={};Ra(M,L.style,L),P.style=t.__assign(t.__assign({},M),P.style)}return P}function ve(L){L===void 0&&(L=!1);var T=function(P,M,F,q,G,z){var ee=G.latestValues,ie=Z(P)?Ct:wu,de=ie(M,ee,z),pe=zh(M,typeof P=="string",L),me=t.__assign(t.__assign(t.__assign({},pe),de),{ref:q});return F&&(me["data-projection-id"]=F),i.createElement(P,me)};return T}var Ge=/([a-z])([A-Z])/g,pt="$1-$2",$i=function(L){return L.replace(Ge,pt).toLowerCase()};function Jn(L,T,P,M){var F=T.style,q=T.vars;Object.assign(L.style,F,M&&M.getProjectionStyles(P));for(var G in q)L.style.setProperty(G,q[G])}var ho=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function bn(L,T,P,M){Jn(L,T,void 0,M);for(var F in T.attrs)L.setAttribute(ho.has(F)?F:$i(F),T.attrs[F])}function To(L){var T=L.style,P={};for(var M in T)(fi(T[M])||ut(M,L))&&(P[M]=T[M]);return P}function Uh(L){var T=To(L);for(var P in L)if(fi(L[P])){var M=P==="x"||P==="y"?"attr"+P.toUpperCase():P;T[M]=L[P]}return T}function $h(L){return typeof L=="object"&&typeof L.start=="function"}var sd=function(L){return Array.isArray(L)},R2=function(L){return!!(L&&typeof L=="object"&&L.mix&&L.toValue)},wL=function(L){return sd(L)?L[L.length-1]||0:L};function Lu(L){var T=fi(L)?L.get():L;return R2(T)?T.toValue():T}function SL(L,T,P,M){var F=L.scrapeMotionValuesFromProps,q=L.createRenderState,G=L.onMount,z={latestValues:A2(T,P,M,F),renderState:q()};return G&&(z.mount=function(ee){return G(T,ee,z)}),z}var qh=function(L){return function(T,P){var M=i.useContext(k),F=i.useContext(E);return P?SL(L,T,M,F):Ze(function(){return SL(L,T,M,F)})}};function A2(L,T,P,M){var F={},q=(P==null?void 0:P.initial)===!1,G=M(L);for(var z in G)F[z]=Lu(G[z]);var ee=L.initial,ie=L.animate,de=Fe(L),pe=Oe(L);T&&pe&&!de&&L.inherit!==!1&&(ee??(ee=T.initial),ie??(ie=T.animate));var me=q||ee===!1,ye=me?ie:ee;if(ye&&typeof ye!="boolean"&&!$h(ye)){var Ce=Array.isArray(ye)?ye:[ye];Ce.forEach(function(Be){var tt=Re(L,Be);if(tt){var yt=tt.transitionEnd;tt.transition;var Ot=t.__rest(tt,["transitionEnd","transition"]);for(var di in Ot){var mi=Ot[di];if(Array.isArray(mi)){var bi=me?mi.length-1:0;mi=mi[bi]}mi!==null&&(F[di]=mi)}for(var di in yt)F[di]=yt[di]}})}return F}var O2={useVisualState:qh({scrapeMotionValuesFromProps:Uh,createRenderState:G_,onMount:function(L,T,P){var M=P.renderState,F=P.latestValues;try{M.dimensions=typeof T.getBBox=="function"?T.getBBox():T.getBoundingClientRect()}catch{M.dimensions={x:0,y:0,width:0,height:0}}xu(M,F,{enableHardwareAcceleration:!1},L.transformTemplate),bn(T,M)}})},F2={useVisualState:qh({scrapeMotionValuesFromProps:To,createRenderState:Ss})};function Z_(L,T,P,M,F){var q=T.forwardMotionProps,G=q===void 0?!1:q,z=Z(L)?O2:F2;return t.__assign(t.__assign({},z),{preloadedFeatures:P,useRender:ve(G),createVisualElement:M,projectionNodeConstructor:F,Component:L})}n.AnimationType=void 0,function(L){L.Animate="animate",L.Hover="whileHover",L.Tap="whileTap",L.Drag="whileDrag",L.Focus="whileFocus",L.InView="whileInView",L.Exit="exit"}(n.AnimationType||(n.AnimationType={}));function er(L,T,P,M){return M===void 0&&(M={passive:!0}),L.addEventListener(T,P,M),function(){return L.removeEventListener(T,P)}}function sr(L,T,P,M){i.useEffect(function(){var F=L.current;if(P&&F)return er(F,T,P,M)},[L,T,P,M])}function _r(L){var T=L.whileFocus,P=L.visualElement,M=function(){var q;(q=P.animationState)===null||q===void 0||q.setActive(n.AnimationType.Focus,!0)},F=function(){var q;(q=P.animationState)===null||q===void 0||q.setActive(n.AnimationType.Focus,!1)};sr(P,"focus",T?M:void 0),sr(P,"blur",T?F:void 0)}function ad(L){return typeof PointerEvent<"u"&&L instanceof PointerEvent?L.pointerType==="mouse":L instanceof MouseEvent}function Kh(L){var T=!!L.touches;return T}function Gh(L){return function(T){var P=T instanceof MouseEvent,M=!P||P&&T.button===0;M&&L(T)}}var Hy={pageX:0,pageY:0};function xL(L,T){T===void 0&&(T="page");var P=L.touches[0]||L.changedTouches[0],M=P||Hy;return{x:M[T+"X"],y:M[T+"Y"]}}function lge(L,T){return T===void 0&&(T="page"),{x:L[T+"X"],y:L[T+"Y"]}}function B2(L,T){return T===void 0&&(T="page"),{point:Kh(L)?xL(L,T):lge(L,T)}}var W2=function(L,T){T===void 0&&(T=!1);var P=function(M){return L(M,B2(M))};return T?Gh(P):P},cge=function(){return I&&window.onpointerdown===null},dge=function(){return I&&window.ontouchstart===null},uge=function(){return I&&window.onmousedown===null},hge={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},fge={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function cz(L){return cge()?L:dge()?fge[L]:uge()?hge[L]:L}function Sp(L,T,P,M){return er(L,cz(T),W2(P,T==="pointerdown"),M)}function LL(L,T,P,M){return sr(L,cz(T),P&&W2(P,T==="pointerdown"),M)}function dz(L){var T=null;return function(){var P=function(){T=null};return T===null?(T=L,P):!1}}var uz=dz("dragHorizontal"),hz=dz("dragVertical");function fz(L){var T=!1;if(L==="y")T=hz();else if(L==="x")T=uz();else{var P=uz(),M=hz();P&&M?T=function(){P(),M()}:(P&&P(),M&&M())}return T}function V2(){var L=fz(!0);return L?(L(),!1):!0}function gz(L,T,P){return function(M,F){var q;!ad(M)||V2()||((q=L.animationState)===null||q===void 0||q.setActive(n.AnimationType.Hover,T),P==null||P(M,F))}}function gge(L){var T=L.onHoverStart,P=L.onHoverEnd,M=L.whileHover,F=L.visualElement;LL(F,"pointerenter",T||M?gz(F,!0,T):void 0,{passive:!T}),LL(F,"pointerleave",P||M?gz(F,!1,P):void 0,{passive:!P})}var pz=function(L,T){return T?L===T?!0:pz(L,T.parentElement):!1};function kL(L){return i.useEffect(function(){return function(){return L()}},[])}function pge(L){var T=L.onTap,P=L.onTapStart,M=L.onTapCancel,F=L.whileTap,q=L.visualElement,G=T||P||M||F,z=i.useRef(!1),ee=i.useRef(null),ie={passive:!(P||T||M||Ce)};function de(){var Be;(Be=ee.current)===null||Be===void 0||Be.call(ee),ee.current=null}function pe(){var Be;return de(),z.current=!1,(Be=q.animationState)===null||Be===void 0||Be.setActive(n.AnimationType.Tap,!1),!V2()}function me(Be,tt){pe()&&(pz(q.getInstance(),Be.target)?T==null||T(Be,tt):M==null||M(Be,tt))}function ye(Be,tt){pe()&&(M==null||M(Be,tt))}function Ce(Be,tt){var yt;de(),!z.current&&(z.current=!0,ee.current=s.pipe(Sp(window,"pointerup",me,ie),Sp(window,"pointercancel",ye,ie)),(yt=q.animationState)===null||yt===void 0||yt.setActive(n.AnimationType.Tap,!0),P==null||P(Be,tt))}LL(q,"pointerdown",G?Ce:void 0,ie),kL(de)}var mz=new Set;function H2(L,T,P){L||mz.has(T)||(console.warn(T),P&&console.warn(P),mz.add(T))}var z2=new WeakMap,j2=new WeakMap,mge=function(L){var T;(T=z2.get(L.target))===null||T===void 0||T(L)},_ge=function(L){L.forEach(mge)};function vge(L){var T=L.root,P=t.__rest(L,["root"]),M=T||document;j2.has(M)||j2.set(M,{});var F=j2.get(M),q=JSON.stringify(P);return F[q]||(F[q]=new IntersectionObserver(_ge,t.__assign({root:T},P))),F[q]}function bge(L,T,P){var M=vge(T);return z2.set(L,P),M.observe(L),function(){z2.delete(L),M.unobserve(L)}}function yge(L){var T=L.visualElement,P=L.whileInView,M=L.onViewportEnter,F=L.onViewportLeave,q=L.viewport,G=q===void 0?{}:q,z=i.useRef({hasEnteredView:!1,isInView:!1}),ee=!!(P||M||F);G.once&&z.current.hasEnteredView&&(ee=!1);var ie=typeof IntersectionObserver>"u"?Sge:wge;ie(ee,z.current,T,G)}var Cge={some:0,all:1};function wge(L,T,P,M){var F=M.root,q=M.margin,G=M.amount,z=G===void 0?"some":G,ee=M.once;i.useEffect(function(){if(L){var ie={root:F==null?void 0:F.current,rootMargin:q,threshold:typeof z=="number"?z:Cge[z]},de=function(pe){var me,ye=pe.isIntersecting;if(T.isInView!==ye&&(T.isInView=ye,!(ee&&!ye&&T.hasEnteredView))){ye&&(T.hasEnteredView=!0),(me=P.animationState)===null||me===void 0||me.setActive(n.AnimationType.InView,ye);var Ce=P.getProps(),Be=ye?Ce.onViewportEnter:Ce.onViewportLeave;Be==null||Be(pe)}};return bge(P.getInstance(),ie,de)}},[L,F,q,z])}function Sge(L,T,P,M){var F=M.fallback,q=F===void 0?!0:F;i.useEffect(function(){!L||!q||(_!=="production"&&H2(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(function(){var G;T.hasEnteredView=!0;var z=P.getProps().onViewportEnter;z==null||z(null),(G=P.animationState)===null||G===void 0||G.setActive(n.AnimationType.InView,!0)}))},[L])}var Zh=function(L){return function(T){return L(T),null}},_z={inView:Zh(yge),tap:Zh(pge),focus:Zh(_r),hover:Zh(gge)},xge=0,Lge=function(){return xge++},vz=function(){return Ze(Lge)};function U2(){var L=i.useContext(E);if(L===null)return[!0,null];var T=L.isPresent,P=L.onExitComplete,M=L.register,F=vz();i.useEffect(function(){return M(F)},[]);var q=function(){return P==null?void 0:P(F)};return!T&&P?[!1,q]:[!0]}function kge(){return Dge(i.useContext(E))}function Dge(L){return L===null?!0:L.isPresent}function bz(L,T){if(!Array.isArray(T))return!1;var P=T.length;if(P!==L.length)return!1;for(var M=0;M<P;M++)if(T[M]!==L[M])return!1;return!0}var DL=function(L){return L*1e3},yz={linear:s.linear,easeIn:s.easeIn,easeInOut:s.easeInOut,easeOut:s.easeOut,circIn:s.circIn,circInOut:s.circInOut,circOut:s.circOut,backIn:s.backIn,backInOut:s.backInOut,backOut:s.backOut,anticipate:s.anticipate,bounceIn:s.bounceIn,bounceInOut:s.bounceInOut,bounceOut:s.bounceOut},Cz=function(L){if(Array.isArray(L)){r.invariant(L.length===4,"Cubic bezier arrays must contain four numerical values.");var T=t.__read(L,4),P=T[0],M=T[1],F=T[2],q=T[3];return s.cubicBezier(P,M,F,q)}else if(typeof L=="string")return r.invariant(yz[L]!==void 0,"Invalid easing type '".concat(L,"'")),yz[L];return L},Tge=function(L){return Array.isArray(L)&&typeof L[0]!="number"},wz=function(L,T){return L==="zIndex"?!1:!!(typeof T=="number"||Array.isArray(T)||typeof T=="string"&&o.complex.test(T)&&!T.startsWith("url("))},xp=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},TL=function(L){return{type:"spring",stiffness:550,damping:L===0?2*Math.sqrt(550):30,restSpeed:10}},$2=function(){return{type:"keyframes",ease:"linear",duration:.3}},Ege=function(L){return{type:"keyframes",duration:.8,values:L}},Sz={x:xp,y:xp,z:xp,rotate:xp,rotateX:xp,rotateY:xp,rotateZ:xp,scaleX:TL,scaleY:TL,scale:TL,opacity:$2,backgroundColor:$2,color:$2,default:TL},Ige=function(L,T){var P;return sd(T)?P=Ege:P=Sz[L]||Sz.default,t.__assign({to:T},P(T))},Nge=t.__assign(t.__assign({},Do),{color:o.color,backgroundColor:o.color,outlineColor:o.color,fill:o.color,stroke:o.color,borderColor:o.color,borderTopColor:o.color,borderRightColor:o.color,borderBottomColor:o.color,borderLeftColor:o.color,filter:o.filter,WebkitFilter:o.filter}),q2=function(L){return Nge[L]};function K2(L,T){var P,M=q2(L);return M!==o.filter&&(M=o.complex),(P=M.getAnimatableNone)===null||P===void 0?void 0:P.call(M,T)}var G2={current:!1};function Pge(L){L.when,L.delay,L.delayChildren,L.staggerChildren,L.staggerDirection,L.repeat,L.repeatType,L.repeatDelay,L.from;var T=t.__rest(L,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(T).length}var xz=!1;function Mge(L){var T=L.ease,P=L.times,M=L.yoyo,F=L.flip,q=L.loop,G=t.__rest(L,["ease","times","yoyo","flip","loop"]),z=t.__assign({},G);return P&&(z.offset=P),G.duration&&(z.duration=DL(G.duration)),G.repeatDelay&&(z.repeatDelay=DL(G.repeatDelay)),T&&(z.ease=Tge(T)?T.map(Cz):Cz(T)),G.type==="tween"&&(z.type="keyframes"),(M||q||F)&&(r.warning(!xz,"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options."),xz=!0,M?z.repeatType="reverse":q?z.repeatType="loop":F&&(z.repeatType="mirror"),z.repeat=q||M||F||G.repeat),G.type!=="spring"&&(z.type="keyframes"),z}function Rge(L,T){var P,M,F=Z2(L,T)||{};return(M=(P=F.delay)!==null&&P!==void 0?P:L.delay)!==null&&M!==void 0?M:0}function Age(L){return Array.isArray(L.to)&&L.to[0]===null&&(L.to=t.__spreadArray([],t.__read(L.to),!1),L.to[0]=L.from),L}function Oge(L,T,P){var M;return Array.isArray(T.to)&&((M=L.duration)!==null&&M!==void 0||(L.duration=.8)),Age(T),Pge(L)||(L=t.__assign(t.__assign({},L),Ige(P,T.to))),t.__assign(t.__assign({},T),Mge(L))}function Fge(L,T,P,M,F){var q,G=Z2(M,L),z=(q=G.from)!==null&&q!==void 0?q:T.get(),ee=wz(L,P);z==="none"&&ee&&typeof P=="string"?z=K2(L,P):Lz(z)&&typeof P=="string"?z=kz(P):!Array.isArray(P)&&Lz(P)&&typeof z=="string"&&(P=kz(z));var ie=wz(L,z);r.warning(ie===ee,"You are trying to animate ".concat(L,' from "').concat(z,'" to "').concat(P,'". ').concat(z," is not an animatable value - to enable this animation set ").concat(z," to a value animatable to ").concat(P," via the `style` property."));function de(){var me={from:z,to:P,velocity:T.getVelocity(),onComplete:F,onUpdate:function(ye){return T.set(ye)}};return G.type==="inertia"||G.type==="decay"?s.inertia(t.__assign(t.__assign({},me),G)):s.animate(t.__assign(t.__assign({},Oge(G,me,L)),{onUpdate:function(ye){var Ce;me.onUpdate(ye),(Ce=G.onUpdate)===null||Ce===void 0||Ce.call(G,ye)},onComplete:function(){var ye;me.onComplete(),(ye=G.onComplete)===null||ye===void 0||ye.call(G)}}))}function pe(){var me,ye,Ce=wL(P);return T.set(Ce),F(),(me=G==null?void 0:G.onUpdate)===null||me===void 0||me.call(G,Ce),(ye=G==null?void 0:G.onComplete)===null||ye===void 0||ye.call(G),{stop:function(){}}}return!ie||!ee||G.type===!1?pe:de}function Lz(L){return L===0||typeof L=="string"&&parseFloat(L)===0&&L.indexOf(" ")===-1}function kz(L){return typeof L=="number"?0:K2("",L)}function Z2(L,T){return L[T]||L.default||L}function Y2(L,T,P,M){return M===void 0&&(M={}),G2.current&&(M={type:!1}),T.start(function(F){var q,G,z=Fge(L,T,P,M,F),ee=Rge(M,L),ie=function(){return G=z()};return ee?q=window.setTimeout(ie,DL(ee)):ie(),function(){clearTimeout(q),G==null||G.stop()}})}var Bge=function(L){return/^\-?\d*\.?\d+$/.test(L)},Wge=function(L){return/^0[^.\s]+$/.test(L)};function X2(L,T){L.indexOf(T)===-1&&L.push(T)}function Q2(L,T){var P=L.indexOf(T);P>-1&&L.splice(P,1)}function Vge(L,T,P){var M=t.__read(L),F=M.slice(0),q=T<0?F.length+T:T;if(q>=0&&q<F.length){var G=P<0?F.length+P:P,z=t.__read(F.splice(T,1),1),ee=z[0];F.splice(G,0,ee)}return F}var zy=function(){function L(){this.subscriptions=[]}return L.prototype.add=function(T){var P=this;return X2(this.subscriptions,T),function(){return Q2(P.subscriptions,T)}},L.prototype.notify=function(T,P,M){var F=this.subscriptions.length;if(F)if(F===1)this.subscriptions[0](T,P,M);else for(var q=0;q<F;q++){var G=this.subscriptions[q];G&&G(T,P,M)}},L.prototype.getSize=function(){return this.subscriptions.length},L.prototype.clear=function(){this.subscriptions.length=0},L}(),Hge=function(L){return!isNaN(parseFloat(L))},Dz=function(){function L(T){var P=this;this.version="6.5.1",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new zy,this.velocityUpdateSubscribers=new zy,this.renderSubscribers=new zy,this.canTrackVelocity=!1,this.updateAndNotify=function(M,F){F===void 0&&(F=!0),P.prev=P.current,P.current=M;var q=a.getFrameData(),G=q.delta,z=q.timestamp;P.lastUpdated!==z&&(P.timeDelta=G,P.lastUpdated=z,f.default.postRender(P.scheduleVelocityCheck)),P.prev!==P.current&&P.updateSubscribers.notify(P.current),P.velocityUpdateSubscribers.getSize()&&P.velocityUpdateSubscribers.notify(P.getVelocity()),F&&P.renderSubscribers.notify(P.current)},this.scheduleVelocityCheck=function(){return f.default.postRender(P.velocityCheck)},this.velocityCheck=function(M){var F=M.timestamp;F!==P.lastUpdated&&(P.prev=P.current,P.velocityUpdateSubscribers.notify(P.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=T,this.canTrackVelocity=Hge(this.current)}return L.prototype.onChange=function(T){return this.updateSubscribers.add(T)},L.prototype.clearListeners=function(){this.updateSubscribers.clear()},L.prototype.onRenderRequest=function(T){return T(this.get()),this.renderSubscribers.add(T)},L.prototype.attach=function(T){this.passiveEffect=T},L.prototype.set=function(T,P){P===void 0&&(P=!0),!P||!this.passiveEffect?this.updateAndNotify(T,P):this.passiveEffect(T,this.updateAndNotify)},L.prototype.get=function(){return this.current},L.prototype.getPrevious=function(){return this.prev},L.prototype.getVelocity=function(){return this.canTrackVelocity?s.velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},L.prototype.start=function(T){var P=this;return this.stop(),new Promise(function(M){P.hasAnimated=!0,P.stopAnimation=T(M)}).then(function(){return P.clearAnimation()})},L.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},L.prototype.isAnimating=function(){return!!this.stopAnimation},L.prototype.clearAnimation=function(){this.stopAnimation=null},L.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},L}();function gl(L){return new Dz(L)}var Tz=function(L){return function(T){return T.test(L)}},zge={test:function(L){return L==="auto"},parse:function(L){return L}},Ez=[o.number,o.px,o.percent,o.degrees,o.vw,o.vh,zge],jy=function(L){return Ez.find(Tz(L))},jge=t.__spreadArray(t.__spreadArray([],t.__read(Ez),!1),[o.color,o.complex],!1),Uge=function(L){return jge.find(Tz(L))};function $ge(L,T,P){L.hasValue(T)?L.getValue(T).set(P):L.addValue(T,gl(P))}function J2(L,T){var P=_e(L,T),M=P?L.makeTargetAnimatable(P,!1):{},F=M.transitionEnd,q=F===void 0?{}:F;M.transition;var G=t.__rest(M,["transitionEnd","transition"]);G=t.__assign(t.__assign({},G),q);for(var z in G){var ee=wL(G[z]);$ge(L,z,ee)}}function eR(L,T){var P=t.__spreadArray([],t.__read(T),!1).reverse();P.forEach(function(M){var F,q=L.getVariant(M);q&&J2(L,q),(F=L.variantChildren)===null||F===void 0||F.forEach(function(G){eR(G,T)})})}function qge(L,T){if(Array.isArray(T))return eR(L,T);if(typeof T=="string")return eR(L,[T]);J2(L,T)}function tR(L,T,P){var M,F,q,G,z=Object.keys(T).filter(function(ye){return!L.hasValue(ye)}),ee=z.length;if(ee)for(var ie=0;ie<ee;ie++){var de=z[ie],pe=T[de],me=null;Array.isArray(pe)&&(me=pe[0]),me===null&&(me=(F=(M=P[de])!==null&&M!==void 0?M:L.readValue(de))!==null&&F!==void 0?F:T[de]),me!=null&&(typeof me=="string"&&(Bge(me)||Wge(me))?me=parseFloat(me):!Uge(me)&&o.complex.test(pe)&&(me=K2(de,pe)),L.addValue(de,gl(me)),(q=(G=P)[de])!==null&&q!==void 0||(G[de]=me),L.setBaseTarget(de,me))}}function Kge(L,T){if(T){var P=T[L]||T.default||T;return P.from}}function Iz(L,T,P){var M,F,q={};for(var G in L)q[G]=(M=Kge(G,T))!==null&&M!==void 0?M:(F=P.getValue(G))===null||F===void 0?void 0:F.get();return q}function EL(L,T,P){P===void 0&&(P={}),L.notifyAnimationStart(T);var M;if(Array.isArray(T)){var F=T.map(function(G){return iR(L,G,P)});M=Promise.all(F)}else if(typeof T=="string")M=iR(L,T,P);else{var q=typeof T=="function"?_e(L,T,P.custom):T;M=Nz(L,q,P)}return M.then(function(){return L.notifyAnimationComplete(T)})}function iR(L,T,P){var M;P===void 0&&(P={});var F=_e(L,T,P.custom),q=(F||{}).transition,G=q===void 0?L.getDefaultTransition()||{}:q;P.transitionOverride&&(G=P.transitionOverride);var z=F?function(){return Nz(L,F,P)}:function(){return Promise.resolve()},ee=!((M=L.variantChildren)===null||M===void 0)&&M.size?function(ye){ye===void 0&&(ye=0);var Ce=G.delayChildren,Be=Ce===void 0?0:Ce,tt=G.staggerChildren,yt=G.staggerDirection;return Gge(L,T,Be+ye,tt,yt,P)}:function(){return Promise.resolve()},ie=G.when;if(ie){var de=t.__read(ie==="beforeChildren"?[z,ee]:[ee,z],2),pe=de[0],me=de[1];return pe().then(me)}else return Promise.all([z(),ee(P.delay)])}function Nz(L,T,P){var M,F=P===void 0?{}:P,q=F.delay,G=q===void 0?0:q,z=F.transitionOverride,ee=F.type,ie=L.makeTargetAnimatable(T),de=ie.transition,pe=de===void 0?L.getDefaultTransition():de,me=ie.transitionEnd,ye=t.__rest(ie,["transition","transitionEnd"]);z&&(pe=z);var Ce=[],Be=ee&&((M=L.animationState)===null||M===void 0?void 0:M.getState()[ee]);for(var tt in ye){var yt=L.getValue(tt),Ot=ye[tt];if(!(!yt||Ot===void 0||Be&&Xge(Be,tt))){var di=t.__assign({delay:G},pe);L.shouldReduceMotion&&gt(tt)&&(di=t.__assign(t.__assign({},di),{type:!1,delay:0}));var mi=Y2(tt,yt,Ot,di);Ce.push(mi)}}return Promise.all(Ce).then(function(){me&&J2(L,me)})}function Gge(L,T,P,M,F,q){P===void 0&&(P=0),M===void 0&&(M=0),F===void 0&&(F=1);var G=[],z=(L.variantChildren.size-1)*M,ee=F===1?function(ie){return ie===void 0&&(ie=0),ie*M}:function(ie){return ie===void 0&&(ie=0),z-ie*M};return Array.from(L.variantChildren).sort(Yge).forEach(function(ie,de){G.push(iR(ie,T,t.__assign(t.__assign({},q),{delay:P+ee(de)})).then(function(){return ie.notifyAnimationComplete(T)}))}),Promise.all(G)}function Zge(L){L.forEachValue(function(T){return T.stop()})}function Yge(L,T){return L.sortNodePosition(T)}function Xge(L,T){var P=L.protectedKeys,M=L.needsAnimating,F=P.hasOwnProperty(T)&&M[T]!==!0;return M[T]=!1,F}var nR=[n.AnimationType.Animate,n.AnimationType.InView,n.AnimationType.Focus,n.AnimationType.Hover,n.AnimationType.Tap,n.AnimationType.Drag,n.AnimationType.Exit],Qge=t.__spreadArray([],t.__read(nR),!1).reverse(),Jge=nR.length;function epe(L){return function(T){return Promise.all(T.map(function(P){var M=P.animation,F=P.options;return EL(L,M,F)}))}}function tpe(L){var T=epe(L),P=npe(),M={},F=!0,q=function(de,pe){var me=_e(L,pe);if(me){me.transition;var ye=me.transitionEnd,Ce=t.__rest(me,["transition","transitionEnd"]);de=t.__assign(t.__assign(t.__assign({},de),Ce),ye)}return de};function G(de){return M[de]!==void 0}function z(de){T=de(L)}function ee(de,pe){for(var me,ye=L.getProps(),Ce=L.getVariantContext(!0)||{},Be=[],tt=new Set,yt={},Ot=1/0,di=function(Tn){var Li=Qge[Tn],qi=P[Li],tr=(me=ye[Li])!==null&&me!==void 0?me:Ce[Li],pl=te(tr),Ls=Li===pe?qi.isActive:null;Ls===!1&&(Ot=Tn);var Oa=tr===Ce[Li]&&tr!==ye[Li]&&pl;if(Oa&&F&&L.manuallyAnimateOnMount&&(Oa=!1),qi.protectedKeys=t.__assign({},yt),!qi.isActive&&Ls===null||!tr&&!qi.prevProp||$h(tr)||typeof tr=="boolean")return"continue";var Jh=ipe(qi.prevProp,tr),ef=Jh||Li===pe&&qi.isActive&&!Oa&&pl||Tn>Ot&&pl,tf=Array.isArray(tr)?tr:[tr],ml=tf.reduce(q,{});Ls===!1&&(ml={});var Gy=qi.prevResolvedValues,Q_=Gy===void 0?{}:Gy,FL=t.__assign(t.__assign({},Q_),ml),J_=function(ti){ef=!0,tt.delete(ti),qi.needsAnimating[ti]=!0};for(var Xs in FL){var on=ml[Xs],Dt=Q_[Xs];yt.hasOwnProperty(Xs)||(on!==Dt?sd(on)&&sd(Dt)?!bz(on,Dt)||Jh?J_(Xs):qi.protectedKeys[Xs]=!0:on!==void 0?J_(Xs):tt.add(Xs):on!==void 0&&tt.has(Xs)?J_(Xs):qi.protectedKeys[Xs]=!0)}qi.prevProp=tr,qi.prevResolvedValues=ml,qi.isActive&&(yt=t.__assign(t.__assign({},yt),ml)),F&&L.blockInitialAnimation&&(ef=!1),ef&&!Oa&&Be.push.apply(Be,t.__spreadArray([],t.__read(tf.map(function(ti){return{animation:ti,options:t.__assign({type:Li},de)}})),!1))},mi=0;mi<Jge;mi++)di(mi);if(M=t.__assign({},yt),tt.size){var bi={};tt.forEach(function(Tn){var Li=L.getBaseTarget(Tn);Li!==void 0&&(bi[Tn]=Li)}),Be.push({animation:bi})}var yn=!!Be.length;return F&&ye.initial===!1&&!L.manuallyAnimateOnMount&&(yn=!1),F=!1,yn?T(Be):Promise.resolve()}function ie(de,pe,me){var ye;if(P[de].isActive===pe)return Promise.resolve();(ye=L.variantChildren)===null||ye===void 0||ye.forEach(function(tt){var yt;return(yt=tt.animationState)===null||yt===void 0?void 0:yt.setActive(de,pe)}),P[de].isActive=pe;var Ce=ee(me,de);for(var Be in P)P[Be].protectedKeys={};return Ce}return{isAnimated:G,animateChanges:ee,setActive:ie,setAnimateFunction:z,getState:function(){return P}}}function ipe(L,T){return typeof T=="string"?T!==L:J(T)?!bz(T,L):!1}function Lp(L){return L===void 0&&(L=!1),{isActive:L,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function npe(){var L;return L={},L[n.AnimationType.Animate]=Lp(!0),L[n.AnimationType.InView]=Lp(),L[n.AnimationType.Hover]=Lp(),L[n.AnimationType.Tap]=Lp(),L[n.AnimationType.Drag]=Lp(),L[n.AnimationType.Focus]=Lp(),L[n.AnimationType.Exit]=Lp(),L}var rR={animation:Zh(function(L){var T=L.visualElement,P=L.animate;T.animationState||(T.animationState=tpe(T)),$h(P)&&i.useEffect(function(){return P.subscribe(T)},[P])}),exit:Zh(function(L){var T=L.custom,P=L.visualElement,M=t.__read(U2(),2),F=M[0],q=M[1],G=i.useContext(E);i.useEffect(function(){var z,ee;P.isPresent=F;var ie=(z=P.animationState)===null||z===void 0?void 0:z.setActive(n.AnimationType.Exit,!F,{custom:(ee=G==null?void 0:G.custom)!==null&&ee!==void 0?ee:T});!F&&(ie==null||ie.then(q))},[F])})},Pz=function(){function L(T,P,M){var F=this,q=M===void 0?{}:M,G=q.transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(F.lastMoveEvent&&F.lastMoveEventInfo){var me=sR(F.lastMoveEventInfo,F.history),ye=F.startEvent!==null,Ce=s.distance(me.offset,{x:0,y:0})>=3;if(!(!ye&&!Ce)){var Be=me.point,tt=a.getFrameData().timestamp;F.history.push(t.__assign(t.__assign({},Be),{timestamp:tt}));var yt=F.handlers,Ot=yt.onStart,di=yt.onMove;ye||(Ot&&Ot(F.lastMoveEvent,me),F.startEvent=F.lastMoveEvent),di&&di(F.lastMoveEvent,me)}}},this.handlePointerMove=function(me,ye){if(F.lastMoveEvent=me,F.lastMoveEventInfo=oR(ye,F.transformPagePoint),ad(me)&&me.buttons===0){F.handlePointerUp(me,ye);return}f.default.update(F.updatePoint,!0)},this.handlePointerUp=function(me,ye){F.end();var Ce=F.handlers,Be=Ce.onEnd,tt=Ce.onSessionEnd,yt=sR(oR(ye,F.transformPagePoint),F.history);F.startEvent&&Be&&Be(me,yt),tt&&tt(me,yt)},!(Kh(T)&&T.touches.length>1)){this.handlers=P,this.transformPagePoint=G;var z=B2(T),ee=oR(z,this.transformPagePoint),ie=ee.point,de=a.getFrameData().timestamp;this.history=[t.__assign(t.__assign({},ie),{timestamp:de})];var pe=P.onSessionStart;pe&&pe(T,sR(ee,this.history)),this.removeListeners=s.pipe(Sp(window,"pointermove",this.handlePointerMove),Sp(window,"pointerup",this.handlePointerUp),Sp(window,"pointercancel",this.handlePointerUp))}}return L.prototype.updateHandlers=function(T){this.handlers=T},L.prototype.end=function(){this.removeListeners&&this.removeListeners(),a.cancelSync.update(this.updatePoint)},L}();function oR(L,T){return T?{point:T(L.point)}:L}function Mz(L,T){return{x:L.x-T.x,y:L.y-T.y}}function sR(L,T){var P=L.point;return{point:P,delta:Mz(P,Rz(T)),offset:Mz(P,rpe(T)),velocity:ope(T,.1)}}function rpe(L){return L[0]}function Rz(L){return L[L.length-1]}function ope(L,T){if(L.length<2)return{x:0,y:0};for(var P=L.length-1,M=null,F=Rz(L);P>=0&&(M=L[P],!(F.timestamp-M.timestamp>DL(T)));)P--;if(!M)return{x:0,y:0};var q=(F.timestamp-M.timestamp)/1e3;if(q===0)return{x:0,y:0};var G={x:(F.x-M.x)/q,y:(F.y-M.y)/q};return G.x===1/0&&(G.x=0),G.y===1/0&&(G.y=0),G}function ld(L){return L.max-L.min}function Az(L,T,P){return T===void 0&&(T=0),P===void 0&&(P=.01),s.distance(L,T)<P}function Oz(L,T,P,M){M===void 0&&(M=.5),L.origin=M,L.originPoint=s.mix(T.min,T.max,L.origin),L.scale=ld(P)/ld(T),(Az(L.scale,1,1e-4)||isNaN(L.scale))&&(L.scale=1),L.translate=s.mix(P.min,P.max,L.origin)-L.originPoint,(Az(L.translate)||isNaN(L.translate))&&(L.translate=0)}function Uy(L,T,P,M){Oz(L.x,T.x,P.x,M==null?void 0:M.originX),Oz(L.y,T.y,P.y,M==null?void 0:M.originY)}function Fz(L,T,P){L.min=P.min+T.min,L.max=L.min+ld(T)}function spe(L,T,P){Fz(L.x,T.x,P.x),Fz(L.y,T.y,P.y)}function Bz(L,T,P){L.min=T.min-P.min,L.max=L.min+ld(T)}function $y(L,T,P){Bz(L.x,T.x,P.x),Bz(L.y,T.y,P.y)}function ape(L,T,P){var M=T.min,F=T.max;return M!==void 0&&L<M?L=P?s.mix(M,L,P.min):Math.max(L,M):F!==void 0&&L>F&&(L=P?s.mix(F,L,P.max):Math.min(L,F)),L}function Wz(L,T,P){return{min:T!==void 0?L.min+T:void 0,max:P!==void 0?L.max+P-(L.max-L.min):void 0}}function lpe(L,T){var P=T.top,M=T.left,F=T.bottom,q=T.right;return{x:Wz(L.x,M,q),y:Wz(L.y,P,F)}}function Vz(L,T){var P,M=T.min-L.min,F=T.max-L.max;return T.max-T.min<L.max-L.min&&(P=t.__read([F,M],2),M=P[0],F=P[1]),{min:M,max:F}}function cpe(L,T){return{x:Vz(L.x,T.x),y:Vz(L.y,T.y)}}function dpe(L,T){var P=.5,M=ld(L),F=ld(T);return F>M?P=s.progress(T.min,T.max-M,L.min):M>F&&(P=s.progress(L.min,L.max-F,T.min)),s.clamp(0,1,P)}function upe(L,T){var P={};return T.min!==void 0&&(P.min=T.min-L.min),T.max!==void 0&&(P.max=T.max-L.min),P}var aR=.35;function hpe(L){return L===void 0&&(L=aR),L===!1?L=0:L===!0&&(L=aR),{x:Hz(L,"left","right"),y:Hz(L,"top","bottom")}}function Hz(L,T,P){return{min:zz(L,T),max:zz(L,P)}}function zz(L,T){var P;return typeof L=="number"?L:(P=L[T])!==null&&P!==void 0?P:0}var jz=function(){return{translate:0,scale:1,origin:0,originPoint:0}},qy=function(){return{x:jz(),y:jz()}},Uz=function(){return{min:0,max:0}},fo=function(){return{x:Uz(),y:Uz()}};function cd(L){return[L("x"),L("y")]}function $z(L){var T=L.top,P=L.left,M=L.right,F=L.bottom;return{x:{min:P,max:M},y:{min:T,max:F}}}function fpe(L){var T=L.x,P=L.y;return{top:P.min,right:T.max,bottom:P.max,left:T.min}}function gpe(L,T){if(!T)return L;var P=T({x:L.left,y:L.top}),M=T({x:L.right,y:L.bottom});return{top:P.y,left:P.x,bottom:M.y,right:M.x}}function lR(L){return L===void 0||L===1}function qz(L){var T=L.scale,P=L.scaleX,M=L.scaleY;return!lR(T)||!lR(P)||!lR(M)}function Yh(L){return qz(L)||Kz(L.x)||Kz(L.y)||L.z||L.rotate||L.rotateX||L.rotateY}function Kz(L){return L&&L!=="0%"}function IL(L,T,P){var M=L-P,F=T*M;return P+F}function Gz(L,T,P,M,F){return F!==void 0&&(L=IL(L,F,M)),IL(L,P,M)+T}function cR(L,T,P,M,F){T===void 0&&(T=0),P===void 0&&(P=1),L.min=Gz(L.min,T,P,M,F),L.max=Gz(L.max,T,P,M,F)}function Zz(L,T){var P=T.x,M=T.y;cR(L.x,P.translate,P.scale,P.originPoint),cR(L.y,M.translate,M.scale,M.originPoint)}function ppe(L,T,P,M){var F,q;M===void 0&&(M=!1);var G=P.length;if(G){T.x=T.y=1;for(var z,ee,ie=0;ie<G;ie++)z=P[ie],ee=z.projectionDelta,((q=(F=z.instance)===null||F===void 0?void 0:F.style)===null||q===void 0?void 0:q.display)!=="contents"&&(M&&z.options.layoutScroll&&z.scroll&&z!==z.root&&Y_(L,{x:-z.scroll.x,y:-z.scroll.y}),ee&&(T.x*=ee.x.scale,T.y*=ee.y.scale,Zz(L,ee)),M&&Yh(z.latestValues)&&Y_(L,z.latestValues))}}function Xh(L,T){L.min=L.min+T,L.max=L.max+T}function Yz(L,T,P){var M=t.__read(P,3),F=M[0],q=M[1],G=M[2],z=T[G]!==void 0?T[G]:.5,ee=s.mix(L.min,L.max,z);cR(L,T[F],T[q],ee,T.scale)}var mpe=["x","scaleX","originX"],_pe=["y","scaleY","originY"];function Y_(L,T){Yz(L.x,T,mpe),Yz(L.y,T,_pe)}function Xz(L,T){return $z(gpe(L.getBoundingClientRect(),T))}function vpe(L,T,P){var M=Xz(L,P),F=T.scroll;return F&&(Xh(M.x,F.x),Xh(M.y,F.y)),M}var bpe=new WeakMap,ype=function(){function L(T){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fo(),this.visualElement=T}return L.prototype.start=function(T,P){var M=this,F=P===void 0?{}:P,q=F.snapToCursor,G=q===void 0?!1:q;if(this.visualElement.isPresent!==!1){var z=function(pe){M.stopAnimation(),G&&M.snapToCursor(B2(pe,"page").point)},ee=function(pe,me){var ye,Ce=M.getProps(),Be=Ce.drag,tt=Ce.dragPropagation,yt=Ce.onDragStart;Be&&!tt&&(M.openGlobalLock&&M.openGlobalLock(),M.openGlobalLock=fz(Be),!M.openGlobalLock)||(M.isDragging=!0,M.currentDirection=null,M.resolveConstraints(),M.visualElement.projection&&(M.visualElement.projection.isAnimationBlocked=!0,M.visualElement.projection.target=void 0),cd(function(Ot){var di,mi,bi=M.getAxisMotionValue(Ot).get()||0;if(o.percent.test(bi)){var yn=(mi=(di=M.visualElement.projection)===null||di===void 0?void 0:di.layout)===null||mi===void 0?void 0:mi.actual[Ot];if(yn){var Tn=ld(yn);bi=Tn*(parseFloat(bi)/100)}}M.originPoint[Ot]=bi}),yt==null||yt(pe,me),(ye=M.visualElement.animationState)===null||ye===void 0||ye.setActive(n.AnimationType.Drag,!0))},ie=function(pe,me){var ye=M.getProps(),Ce=ye.dragPropagation,Be=ye.dragDirectionLock,tt=ye.onDirectionLock,yt=ye.onDrag;if(!(!Ce&&!M.openGlobalLock)){var Ot=me.offset;if(Be&&M.currentDirection===null){M.currentDirection=Cpe(Ot),M.currentDirection!==null&&(tt==null||tt(M.currentDirection));return}M.updateAxis("x",me.point,Ot),M.updateAxis("y",me.point,Ot),M.visualElement.syncRender(),yt==null||yt(pe,me)}},de=function(pe,me){return M.stop(pe,me)};this.panSession=new Pz(T,{onSessionStart:z,onStart:ee,onMove:ie,onSessionEnd:de},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},L.prototype.stop=function(T,P){var M=this.isDragging;if(this.cancel(),!!M){var F=P.velocity;this.startAnimation(F);var q=this.getProps().onDragEnd;q==null||q(T,P)}},L.prototype.cancel=function(){var T,P;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(T=this.panSession)===null||T===void 0||T.end(),this.panSession=void 0;var M=this.getProps().dragPropagation;!M&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(P=this.visualElement.animationState)===null||P===void 0||P.setActive(n.AnimationType.Drag,!1)},L.prototype.updateAxis=function(T,P,M){var F=this.getProps().drag;if(!(!M||!NL(T,F,this.currentDirection))){var q=this.getAxisMotionValue(T),G=this.originPoint[T]+M[T];this.constraints&&this.constraints[T]&&(G=ape(G,this.constraints[T],this.elastic[T])),q.set(G)}},L.prototype.resolveConstraints=function(){var T=this,P=this.getProps(),M=P.dragConstraints,F=P.dragElastic,q=(this.visualElement.projection||{}).layout,G=this.constraints;M&&V(M)?this.constraints||(this.constraints=this.resolveRefConstraints()):M&&q?this.constraints=lpe(q.actual,M):this.constraints=!1,this.elastic=hpe(F),G!==this.constraints&&q&&this.constraints&&!this.hasMutatedConstraints&&cd(function(z){T.getAxisMotionValue(z)&&(T.constraints[z]=upe(q.actual[z],T.constraints[z]))})},L.prototype.resolveRefConstraints=function(){var T=this.getProps(),P=T.dragConstraints,M=T.onMeasureDragConstraints;if(!P||!V(P))return!1;var F=P.current;r.invariant(F!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var q=this.visualElement.projection;if(!q||!q.layout)return!1;var G=vpe(F,q.root,this.visualElement.getTransformPagePoint()),z=cpe(q.layout.actual,G);if(M){var ee=M(fpe(z));this.hasMutatedConstraints=!!ee,ee&&(z=$z(ee))}return z},L.prototype.startAnimation=function(T){var P=this,M=this.getProps(),F=M.drag,q=M.dragMomentum,G=M.dragElastic,z=M.dragTransition,ee=M.dragSnapToOrigin,ie=M.onDragTransitionEnd,de=this.constraints||{},pe=cd(function(me){var ye;if(NL(me,F,P.currentDirection)){var Ce=(ye=de==null?void 0:de[me])!==null&&ye!==void 0?ye:{};ee&&(Ce={min:0,max:0});var Be=G?200:1e6,tt=G?40:1e7,yt=t.__assign(t.__assign({type:"inertia",velocity:q?T[me]:0,bounceStiffness:Be,bounceDamping:tt,timeConstant:750,restDelta:1,restSpeed:10},z),Ce);return P.startAxisValueAnimation(me,yt)}});return Promise.all(pe).then(ie)},L.prototype.startAxisValueAnimation=function(T,P){var M=this.getAxisMotionValue(T);return Y2(T,M,0,P)},L.prototype.stopAnimation=function(){var T=this;cd(function(P){return T.getAxisMotionValue(P).stop()})},L.prototype.getAxisMotionValue=function(T){var P,M,F="_drag"+T.toUpperCase(),q=this.visualElement.getProps()[F];return q||this.visualElement.getValue(T,(M=(P=this.visualElement.getProps().initial)===null||P===void 0?void 0:P[T])!==null&&M!==void 0?M:0)},L.prototype.snapToCursor=function(T){var P=this;cd(function(M){var F=P.getProps().drag;if(NL(M,F,P.currentDirection)){var q=P.visualElement.projection,G=P.getAxisMotionValue(M);if(q&&q.layout){var z=q.layout.actual[M],ee=z.min,ie=z.max;G.set(T[M]-s.mix(ee,ie,.5))}}})},L.prototype.scalePositionWithinConstraints=function(){var T=this,P,M=this.getProps(),F=M.drag,q=M.dragConstraints,G=this.visualElement.projection;if(!(!V(q)||!G||!this.constraints)){this.stopAnimation();var z={x:0,y:0};cd(function(ie){var de=T.getAxisMotionValue(ie);if(de){var pe=de.get();z[ie]=dpe({min:pe,max:pe},T.constraints[ie])}});var ee=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=ee?ee({},""):"none",(P=G.root)===null||P===void 0||P.updateScroll(),G.updateLayout(),this.resolveConstraints(),cd(function(ie){if(NL(ie,F,null)){var de=T.getAxisMotionValue(ie),pe=T.constraints[ie],me=pe.min,ye=pe.max;de.set(s.mix(me,ye,z[ie]))}})}},L.prototype.addListeners=function(){var T=this,P;bpe.set(this.visualElement,this);var M=this.visualElement.getInstance(),F=Sp(M,"pointerdown",function(ie){var de=T.getProps(),pe=de.drag,me=de.dragListener,ye=me===void 0?!0:me;pe&&ye&&T.start(ie)}),q=function(){var ie=T.getProps().dragConstraints;V(ie)&&(T.constraints=T.resolveRefConstraints())},G=this.visualElement.projection,z=G.addEventListener("measure",q);G&&!G.layout&&((P=G.root)===null||P===void 0||P.updateScroll(),G.updateLayout()),q();var ee=er(window,"resize",function(){return T.scalePositionWithinConstraints()});return G.addEventListener("didUpdate",function(ie){var de=ie.delta,pe=ie.hasLayoutChanged;T.isDragging&&pe&&(cd(function(me){var ye=T.getAxisMotionValue(me);ye&&(T.originPoint[me]+=de[me].translate,ye.set(ye.get()+de[me].translate))}),T.visualElement.syncRender())}),function(){ee(),F(),z()}},L.prototype.getProps=function(){var T=this.visualElement.getProps(),P=T.drag,M=P===void 0?!1:P,F=T.dragDirectionLock,q=F===void 0?!1:F,G=T.dragPropagation,z=G===void 0?!1:G,ee=T.dragConstraints,ie=ee===void 0?!1:ee,de=T.dragElastic,pe=de===void 0?aR:de,me=T.dragMomentum,ye=me===void 0?!0:me;return t.__assign(t.__assign({},T),{drag:M,dragDirectionLock:q,dragPropagation:z,dragConstraints:ie,dragElastic:pe,dragMomentum:ye})},L}();function NL(L,T,P){return(T===!0||T===L)&&(P===null||P===L)}function Cpe(L,T){T===void 0&&(T=10);var P=null;return Math.abs(L.y)>T?P="y":Math.abs(L.x)>T&&(P="x"),P}function wpe(L){var T=L.dragControls,P=L.visualElement,M=Ze(function(){return new ype(P)});i.useEffect(function(){return T&&T.subscribe(M)},[M,T]),i.useEffect(function(){return M.addListeners()},[M])}function Spe(L){var T=L.onPan,P=L.onPanStart,M=L.onPanEnd,F=L.onPanSessionStart,q=L.visualElement,G=T||P||M||F,z=i.useRef(null),ee=i.useContext(x).transformPagePoint,ie={onSessionStart:F,onStart:P,onMove:T,onEnd:function(pe,me){z.current=null,M&&M(pe,me)}};i.useEffect(function(){z.current!==null&&z.current.updateHandlers(ie)});function de(pe){z.current=new Pz(pe,ie,{transformPagePoint:ee})}LL(q,"pointerdown",G&&de),kL(function(){return z.current&&z.current.end()})}var Qz={pan:Zh(Spe),drag:Zh(wpe)},PL=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function xpe(){var L=PL.map(function(){return new zy}),T={},P={clearAllListeners:function(){return L.forEach(function(M){return M.clear()})},updatePropListeners:function(M){PL.forEach(function(F){var q,G="on"+F,z=M[G];(q=T[F])===null||q===void 0||q.call(T),z&&(T[F]=P[G](z))})}};return L.forEach(function(M,F){P["on"+PL[F]]=function(q){return M.add(q)},P["notify"+PL[F]]=function(){for(var q=[],G=0;G<arguments.length;G++)q[G]=arguments[G];return M.notify.apply(M,t.__spreadArray([],t.__read(q),!1))}}),P}function Lpe(L,T,P){var M;for(var F in T){var q=T[F],G=P[F];if(fi(q))L.addValue(F,q);else if(fi(G))L.addValue(F,gl(q));else if(G!==q)if(L.hasValue(F)){var z=L.getValue(F);!z.hasAnimated&&z.set(q)}else L.addValue(F,gl((M=L.getStaticValue(F))!==null&&M!==void 0?M:q))}for(var F in P)T[F]===void 0&&L.removeValue(F);return T}var ML=function(L){var T=L.treeType,P=T===void 0?"":T,M=L.build,F=L.getBaseTarget,q=L.makeTargetAnimatable,G=L.measureViewportBox,z=L.render,ee=L.readValueFromInstance,ie=L.removeValueFromRenderState,de=L.sortNodePosition,pe=L.scrapeMotionValuesFromProps;return function(me,ye){var Ce=me.parent,Be=me.props,tt=me.presenceId,yt=me.blockInitialAnimation,Ot=me.visualState,di=me.shouldReduceMotion;ye===void 0&&(ye={});var mi=!1,bi=Ot.latestValues,yn=Ot.renderState,Tn,Li=xpe(),qi=new Map,tr=new Map,pl={},Ls=t.__assign({},bi),Oa;function Jh(){!Tn||!mi||(ef(),z(Tn,yn,Be.style,on.projection))}function ef(){M(on,yn,bi,ye,Be)}function tf(){Li.notifyUpdate(bi)}function ml(Dt,ti){var ks=ti.onChange(function(BL){bi[Dt]=BL,Be.onUpdate&&f.default.update(tf,!1,!0)}),Zy=ti.onRenderRequest(on.scheduleRender);tr.set(Dt,function(){ks(),Zy()})}var Gy=pe(Be);for(var Q_ in Gy){var FL=Gy[Q_];bi[Q_]!==void 0&&fi(FL)&&FL.set(bi[Q_],!1)}var J_=Fe(Be),Xs=Oe(Be),on=t.__assign(t.__assign({treeType:P,current:null,depth:Ce?Ce.depth+1:0,parent:Ce,children:new Set,presenceId:tt,shouldReduceMotion:di,variantChildren:Xs?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:!!(Ce!=null&&Ce.isMounted()),blockInitialAnimation:yt,isMounted:function(){return!!Tn},mount:function(Dt){mi=!0,Tn=on.current=Dt,on.projection&&on.projection.mount(Dt),Xs&&Ce&&!J_&&(Oa=Ce==null?void 0:Ce.addVariantChild(on)),qi.forEach(function(ti,ks){return ml(ks,ti)}),Ce==null||Ce.children.add(on),on.setProps(Be)},unmount:function(){var Dt;(Dt=on.projection)===null||Dt===void 0||Dt.unmount(),a.cancelSync.update(tf),a.cancelSync.render(Jh),tr.forEach(function(ti){return ti()}),Oa==null||Oa(),Ce==null||Ce.children.delete(on),Li.clearAllListeners(),Tn=void 0,mi=!1},addVariantChild:function(Dt){var ti,ks=on.getClosestVariantNode();if(ks)return(ti=ks.variantChildren)===null||ti===void 0||ti.add(Dt),function(){return ks.variantChildren.delete(Dt)}},sortNodePosition:function(Dt){return!de||P!==Dt.treeType?0:de(on.getInstance(),Dt.getInstance())},getClosestVariantNode:function(){return Xs?on:Ce==null?void 0:Ce.getClosestVariantNode()},getLayoutId:function(){return Be.layoutId},getInstance:function(){return Tn},getStaticValue:function(Dt){return bi[Dt]},setStaticValue:function(Dt,ti){return bi[Dt]=ti},getLatestValues:function(){return bi},setVisibility:function(Dt){on.isVisible!==Dt&&(on.isVisible=Dt,on.scheduleRender())},makeTargetAnimatable:function(Dt,ti){return ti===void 0&&(ti=!0),q(on,Dt,Be,ti)},measureViewportBox:function(){return G(Tn,Be)},addValue:function(Dt,ti){on.hasValue(Dt)&&on.removeValue(Dt),qi.set(Dt,ti),bi[Dt]=ti.get(),ml(Dt,ti)},removeValue:function(Dt){var ti;qi.delete(Dt),(ti=tr.get(Dt))===null||ti===void 0||ti(),tr.delete(Dt),delete bi[Dt],ie(Dt,yn)},hasValue:function(Dt){return qi.has(Dt)},getValue:function(Dt,ti){var ks=qi.get(Dt);return ks===void 0&&ti!==void 0&&(ks=gl(ti),on.addValue(Dt,ks)),ks},forEachValue:function(Dt){return qi.forEach(Dt)},readValue:function(Dt){var ti;return(ti=bi[Dt])!==null&&ti!==void 0?ti:ee(Tn,Dt,ye)},setBaseTarget:function(Dt,ti){Ls[Dt]=ti},getBaseTarget:function(Dt){if(F){var ti=F(Be,Dt);if(ti!==void 0&&!fi(ti))return ti}return Ls[Dt]}},Li),{build:function(){return ef(),yn},scheduleRender:function(){f.default.render(Jh,!1,!0)},syncRender:Jh,setProps:function(Dt){(Dt.transformTemplate||Be.transformTemplate)&&on.scheduleRender(),Be=Dt,Li.updatePropListeners(Dt),pl=Lpe(on,pe(Be),pl)},getProps:function(){return Be},getVariant:function(Dt){var ti;return(ti=Be.variants)===null||ti===void 0?void 0:ti[Dt]},getDefaultTransition:function(){return Be.transition},getTransformPagePoint:function(){return Be.transformPagePoint},getVariantContext:function(Dt){if(Dt===void 0&&(Dt=!1),Dt)return Ce==null?void 0:Ce.getVariantContext();if(!J_){var ti=(Ce==null?void 0:Ce.getVariantContext())||{};return Be.initial!==void 0&&(ti.initial=Be.initial),ti}for(var ks={},Zy=0;Zy<kpe;Zy++){var BL=Jz[Zy],bR=Be[BL];(te(bR)||bR===!1)&&(ks[BL]=bR)}return ks}});return on}},Jz=t.__spreadArray(["initial"],t.__read(nR),!1),kpe=Jz.length;function dR(L){return typeof L=="string"&&L.startsWith("var(--")}var ej=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Dpe(L){var T=ej.exec(L);if(!T)return[,];var P=t.__read(T,3),M=P[1],F=P[2];return[M,F]}var Tpe=4;function uR(L,T,P){P===void 0&&(P=1),r.invariant(P<=Tpe,'Max CSS variable fallback depth detected in property "'.concat(L,'". This may indicate a circular fallback dependency.'));var M=t.__read(Dpe(L),2),F=M[0],q=M[1];if(F){var G=window.getComputedStyle(T).getPropertyValue(F);return G?G.trim():dR(q)?uR(q,T,P+1):q}}function Epe(L,T,P){var M,F=t.__rest(T,[]),q=L.getInstance();if(!(q instanceof Element))return{target:F,transitionEnd:P};P&&(P=t.__assign({},P)),L.forEachValue(function(ie){var de=ie.get();if(dR(de)){var pe=uR(de,q);pe&&ie.set(pe)}});for(var G in F){var z=F[G];if(dR(z)){var ee=uR(z,q);ee&&(F[G]=ee,P&&((M=P[G])!==null&&M!==void 0||(P[G]=z)))}}return{target:F,transitionEnd:P}}var Ipe=new Set(["width","height","top","left","right","bottom","x","y"]),tj=function(L){return Ipe.has(L)},Npe=function(L){return Object.keys(L).some(tj)},ij=function(L,T){L.set(T,!1),L.set(T)},RL=function(L){return L===o.number||L===o.px},nj;(function(L){L.width="width",L.height="height",L.left="left",L.right="right",L.top="top",L.bottom="bottom"})(nj||(nj={}));var rj=function(L,T){return parseFloat(L.split(", ")[T])},oj=function(L,T){return function(P,M){var F=M.transform;if(F==="none"||!F)return 0;var q=F.match(/^matrix3d\((.+)\)$/);if(q)return rj(q[1],T);var G=F.match(/^matrix\((.+)\)$/);return G?rj(G[1],L):0}},Ppe=new Set(["x","y","z"]),Mpe=Ye.filter(function(L){return!Ppe.has(L)});function Rpe(L){var T=[];return Mpe.forEach(function(P){var M=L.getValue(P);M!==void 0&&(T.push([P,M.get()]),M.set(P.startsWith("scale")?1:0))}),T.length&&L.syncRender(),T}var sj={width:function(L,T){var P=L.x,M=T.paddingLeft,F=M===void 0?"0":M,q=T.paddingRight,G=q===void 0?"0":q;return P.max-P.min-parseFloat(F)-parseFloat(G)},height:function(L,T){var P=L.y,M=T.paddingTop,F=M===void 0?"0":M,q=T.paddingBottom,G=q===void 0?"0":q;return P.max-P.min-parseFloat(F)-parseFloat(G)},top:function(L,T){var P=T.top;return parseFloat(P)},left:function(L,T){var P=T.left;return parseFloat(P)},bottom:function(L,T){var P=L.y,M=T.top;return parseFloat(M)+(P.max-P.min)},right:function(L,T){var P=L.x,M=T.left;return parseFloat(M)+(P.max-P.min)},x:oj(4,13),y:oj(5,14)},Ape=function(L,T,P){var M=T.measureViewportBox(),F=T.getInstance(),q=getComputedStyle(F),G=q.display,z={};G==="none"&&T.setStaticValue("display",L.display||"block"),P.forEach(function(ie){z[ie]=sj[ie](M,q)}),T.syncRender();var ee=T.measureViewportBox();return P.forEach(function(ie){var de=T.getValue(ie);ij(de,z[ie]),L[ie]=sj[ie](ee,q)}),L},Ope=function(L,T,P,M){P===void 0&&(P={}),M===void 0&&(M={}),T=t.__assign({},T),M=t.__assign({},M);var F=Object.keys(T).filter(tj),q=[],G=!1,z=[];if(F.forEach(function(de){var pe=L.getValue(de);if(L.hasValue(de)){var me=P[de],ye=jy(me),Ce=T[de],Be;if(sd(Ce)){var tt=Ce.length,yt=Ce[0]===null?1:0;me=Ce[yt],ye=jy(me);for(var Ot=yt;Ot<tt;Ot++)Be?r.invariant(jy(Ce[Ot])===Be,"All keyframes must be of the same type"):(Be=jy(Ce[Ot]),r.invariant(Be===ye||RL(ye)&&RL(Be),"Keyframes must be of the same dimension as the current value"))}else Be=jy(Ce);if(ye!==Be)if(RL(ye)&&RL(Be)){var di=pe.get();typeof di=="string"&&pe.set(parseFloat(di)),typeof Ce=="string"?T[de]=parseFloat(Ce):Array.isArray(Ce)&&Be===o.px&&(T[de]=Ce.map(parseFloat))}else ye!=null&&ye.transform&&(Be!=null&&Be.transform)&&(me===0||Ce===0)?me===0?pe.set(Be.transform(me)):T[de]=ye.transform(Ce):(G||(q=Rpe(L),G=!0),z.push(de),M[de]=M[de]!==void 0?M[de]:T[de],ij(pe,Ce))}}),z.length){var ee=z.indexOf("height")>=0?window.pageYOffset:null,ie=Ape(T,L,z);return q.length&&q.forEach(function(de){var pe=t.__read(de,2),me=pe[0],ye=pe[1];L.getValue(me).set(ye)}),L.syncRender(),ee!==null&&window.scrollTo({top:ee}),{target:ie,transitionEnd:M}}else return{target:T,transitionEnd:M}};function Fpe(L,T,P,M){return Npe(T)?Ope(L,T,P,M):{target:T,transitionEnd:M}}var Bpe=function(L,T,P,M){var F=Epe(L,T,M);return T=F.target,M=F.transitionEnd,Fpe(L,T,P,M)};function Wpe(L){return window.getComputedStyle(L)}var aj={treeType:"dom",readValueFromInstance:function(L,T){if(gt(T)){var P=q2(T);return P&&P.default||0}else{var M=Wpe(L);return(rn(T)?M.getPropertyValue(T):M[T])||0}},sortNodePosition:function(L,T){return L.compareDocumentPosition(T)&2?1:-1},getBaseTarget:function(L,T){var P;return(P=L.style)===null||P===void 0?void 0:P[T]},measureViewportBox:function(L,T){var P=T.transformPagePoint;return Xz(L,P)},resetTransform:function(L,T,P){var M=P.transformTemplate;T.style.transform=M?M({},""):"none",L.scheduleRender()},restoreTransform:function(L,T){L.style.transform=T.style.transform},removeValueFromRenderState:function(L,T){var P=T.vars,M=T.style;delete P[L],delete M[L]},makeTargetAnimatable:function(L,T,P,M){var F=P.transformValues;M===void 0&&(M=!0);var q=T.transition,G=T.transitionEnd,z=t.__rest(T,["transition","transitionEnd"]),ee=Iz(z,q||{},L);if(F&&(G&&(G=F(G)),z&&(z=F(z)),ee&&(ee=F(ee))),M){tR(L,z,ee);var ie=Bpe(L,z,ee,G);G=ie.transitionEnd,z=ie.target}return t.__assign({transition:q,transitionEnd:G},z)},scrapeMotionValuesFromProps:To,build:function(L,T,P,M,F){L.isVisible!==void 0&&(T.style.visibility=L.isVisible?"visible":"hidden"),Qn(T,P,M,F.transformTemplate)},render:Jn},Vpe=ML(aj),Hpe=ML(t.__assign(t.__assign({},aj),{getBaseTarget:function(L,T){return L[T]},readValueFromInstance:function(L,T){var P;return gt(T)?((P=q2(T))===null||P===void 0?void 0:P.default)||0:(T=ho.has(T)?T:$i(T),L.getAttribute(T))},scrapeMotionValuesFromProps:Uh,build:function(L,T,P,M,F){xu(T,P,M,F.transformTemplate)},render:bn})),hR=function(L,T){return Z(L)?Hpe(T,{enableHardwareAcceleration:!1}):Vpe(T,{enableHardwareAcceleration:!0})};function lj(L,T){return T.max===T.min?0:L/(T.max-T.min)*100}var Ky={correct:function(L,T){if(!T.target)return L;if(typeof L=="string")if(o.px.test(L))L=parseFloat(L);else return L;var P=lj(L,T.target.x),M=lj(L,T.target.y);return"".concat(P,"% ").concat(M,"%")}},cj="_$css",zpe={correct:function(L,T){var P=T.treeScale,M=T.projectionDelta,F=L,q=L.includes("var("),G=[];q&&(L=L.replace(ej,function(Be){return G.push(Be),cj}));var z=o.complex.parse(L);if(z.length>5)return F;var ee=o.complex.createTransformer(L),ie=typeof z[0]!="number"?1:0,de=M.x.scale*P.x,pe=M.y.scale*P.y;z[0+ie]/=de,z[1+ie]/=pe;var me=s.mix(de,pe,.5);typeof z[2+ie]=="number"&&(z[2+ie]/=me),typeof z[3+ie]=="number"&&(z[3+ie]/=me);var ye=ee(z);if(q){var Ce=0;ye=ye.replace(cj,function(){var Be=G[Ce];return Ce++,Be})}return ye}},jpe=function(L){t.__extends(T,L);function T(){return L!==null&&L.apply(this,arguments)||this}return T.prototype.componentDidMount=function(){var P=this,M=this.props,F=M.visualElement,q=M.layoutGroup,G=M.switchLayoutGroup,z=M.layoutId,ee=F.projection;se($pe),ee&&(q!=null&&q.group&&q.group.add(ee),G!=null&&G.register&&z&&G.register(ee),ee.root.didUpdate(),ee.addEventListener("animationComplete",function(){P.safeToRemove()}),ee.setOptions(t.__assign(t.__assign({},ee.options),{onExitComplete:function(){return P.safeToRemove()}}))),vt.hasEverUpdated=!0},T.prototype.getSnapshotBeforeUpdate=function(P){var M=this,F=this.props,q=F.layoutDependency,G=F.visualElement,z=F.drag,ee=F.isPresent,ie=G.projection;return ie&&(ie.isPresent=ee,z||P.layoutDependency!==q||q===void 0?ie.willUpdate():this.safeToRemove(),P.isPresent!==ee&&(ee?ie.promote():ie.relegate()||f.default.postRender(function(){var de;!((de=ie.getStack())===null||de===void 0)&&de.members.length||M.safeToRemove()}))),null},T.prototype.componentDidUpdate=function(){var P=this.props.visualElement.projection;P&&(P.root.didUpdate(),!P.currentAnimation&&P.isLead()&&this.safeToRemove())},T.prototype.componentWillUnmount=function(){var P=this.props,M=P.visualElement,F=P.layoutGroup,q=P.switchLayoutGroup,G=M.projection;G&&(G.scheduleCheckAfterUnmount(),F!=null&&F.group&&F.group.remove(G),q!=null&&q.deregister&&q.deregister(G))},T.prototype.safeToRemove=function(){var P=this.props.safeToRemove;P==null||P()},T.prototype.render=function(){return null},T}(h.default.Component);function Upe(L){var T=t.__read(U2(),2),P=T[0],M=T[1],F=i.useContext(st);return h.default.createElement(jpe,t.__assign({},L,{layoutGroup:F,switchLayoutGroup:i.useContext(ni),isPresent:P,safeToRemove:M}))}var $pe={borderRadius:t.__assign(t.__assign({},Ky),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Ky,borderTopRightRadius:Ky,borderBottomLeftRadius:Ky,borderBottomRightRadius:Ky,boxShadow:zpe},dj={measureLayout:Upe};function uj(L,T,P){P===void 0&&(P={});var M=fi(L)?L:gl(L);return Y2("",M,T,P),{stop:function(){return M.stop()},isAnimating:function(){return M.isAnimating()}}}var hj=["TopLeft","TopRight","BottomLeft","BottomRight"],qpe=hj.length,fj=function(L){return typeof L=="string"?parseFloat(L):L},gj=function(L){return typeof L=="number"||o.px.test(L)};function Kpe(L,T,P,M,F,q){var G,z,ee,ie;F?(L.opacity=s.mix(0,(G=P.opacity)!==null&&G!==void 0?G:1,Gpe(M)),L.opacityExit=s.mix((z=T.opacity)!==null&&z!==void 0?z:1,0,Zpe(M))):q&&(L.opacity=s.mix((ee=T.opacity)!==null&&ee!==void 0?ee:1,(ie=P.opacity)!==null&&ie!==void 0?ie:1,M));for(var de=0;de<qpe;de++){var pe="border".concat(hj[de],"Radius"),me=pj(T,pe),ye=pj(P,pe);if(!(me===void 0&&ye===void 0)){me||(me=0),ye||(ye=0);var Ce=me===0||ye===0||gj(me)===gj(ye);Ce?(L[pe]=Math.max(s.mix(fj(me),fj(ye),M),0),(o.percent.test(ye)||o.percent.test(me))&&(L[pe]+="%")):L[pe]=ye}}(T.rotate||P.rotate)&&(L.rotate=s.mix(T.rotate||0,P.rotate||0,M))}function pj(L,T){var P;return(P=L[T])!==null&&P!==void 0?P:L.borderRadius}var Gpe=mj(0,.5,s.circOut),Zpe=mj(.5,.95,s.linear);function mj(L,T,P){return function(M){return M<L?0:M>T?1:P(s.progress(L,T,M))}}function _j(L,T){L.min=T.min,L.max=T.max}function Jl(L,T){_j(L.x,T.x),_j(L.y,T.y)}function vj(L,T,P,M,F){return L-=T,L=IL(L,1/P,M),F!==void 0&&(L=IL(L,1/F,M)),L}function Ype(L,T,P,M,F,q,G){if(T===void 0&&(T=0),P===void 0&&(P=1),M===void 0&&(M=.5),q===void 0&&(q=L),G===void 0&&(G=L),o.percent.test(T)){T=parseFloat(T);var z=s.mix(G.min,G.max,T/100);T=z-G.min}if(typeof T=="number"){var ee=s.mix(q.min,q.max,M);L===q&&(ee-=T),L.min=vj(L.min,T,P,ee,F),L.max=vj(L.max,T,P,ee,F)}}function bj(L,T,P,M,F){var q=t.__read(P,3),G=q[0],z=q[1],ee=q[2];Ype(L,T[G],T[z],T[ee],T.scale,M,F)}var Xpe=["x","scaleX","originX"],Qpe=["y","scaleY","originY"];function yj(L,T,P,M){bj(L.x,T,Xpe,P==null?void 0:P.x,M==null?void 0:M.x),bj(L.y,T,Qpe,P==null?void 0:P.y,M==null?void 0:M.y)}function Cj(L){return L.translate===0&&L.scale===1}function wj(L){return Cj(L.x)&&Cj(L.y)}function Sj(L,T){return L.x.min===T.x.min&&L.x.max===T.x.max&&L.y.min===T.y.min&&L.y.max===T.y.max}var Jpe=function(){function L(){this.members=[]}return L.prototype.add=function(T){X2(this.members,T),T.scheduleRender()},L.prototype.remove=function(T){if(Q2(this.members,T),T===this.prevLead&&(this.prevLead=void 0),T===this.lead){var P=this.members[this.members.length-1];P&&this.promote(P)}},L.prototype.relegate=function(T){var P=this.members.findIndex(function(G){return T===G});if(P===0)return!1;for(var M,F=P;F>=0;F--){var q=this.members[F];if(q.isPresent!==!1){M=q;break}}return M?(this.promote(M),!0):!1},L.prototype.promote=function(T,P){var M,F=this.lead;if(T!==F&&(this.prevLead=F,this.lead=T,T.show(),F)){F.instance&&F.scheduleRender(),T.scheduleRender(),T.resumeFrom=F,P&&(T.resumeFrom.preserveOpacity=!0),F.snapshot&&(T.snapshot=F.snapshot,T.snapshot.latestValues=F.animationValues||F.latestValues,T.snapshot.isShared=!0),!((M=T.root)===null||M===void 0)&&M.isUpdating&&(T.isLayoutDirty=!0);var q=T.options.crossfade;q===!1&&F.hide()}},L.prototype.exitAnimationComplete=function(){this.members.forEach(function(T){var P,M,F,q,G;(M=(P=T.options).onExitComplete)===null||M===void 0||M.call(P),(G=(F=T.resumingFrom)===null||F===void 0?void 0:(q=F.options).onExitComplete)===null||G===void 0||G.call(q)})},L.prototype.scheduleRender=function(){this.members.forEach(function(T){T.instance&&T.scheduleRender(!1)})},L.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},L}(),eme="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function xj(L,T,P){var M=L.x.translate/T.x,F=L.y.translate/T.y,q="translate3d(".concat(M,"px, ").concat(F,"px, 0) ");if(q+="scale(".concat(1/T.x,", ").concat(1/T.y,") "),P){var G=P.rotate,z=P.rotateX,ee=P.rotateY;G&&(q+="rotate(".concat(G,"deg) ")),z&&(q+="rotateX(".concat(z,"deg) ")),ee&&(q+="rotateY(".concat(ee,"deg) "))}var ie=L.x.scale*T.x,de=L.y.scale*T.y;return q+="scale(".concat(ie,", ").concat(de,")"),q===eme?"none":q}var tme=function(L,T){return L.depth-T.depth},Lj=function(){function L(){this.children=[],this.isDirty=!1}return L.prototype.add=function(T){X2(this.children,T),this.isDirty=!0},L.prototype.remove=function(T){Q2(this.children,T),this.isDirty=!0},L.prototype.forEach=function(T){this.isDirty&&this.children.sort(tme),this.isDirty=!1,this.children.forEach(T)},L}(),kj=1e3;function Dj(L){var T=L.attachResizeListener,P=L.defaultParent,M=L.measureScroll,F=L.checkIsScrollRoot,q=L.resetTransform;return function(){function G(z,ee,ie){var de=this;ee===void 0&&(ee={}),ie===void 0&&(ie=P==null?void 0:P()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){de.isUpdating&&(de.isUpdating=!1,de.clearAllSnapshots())},this.updateProjection=function(){de.nodes.forEach(ame),de.nodes.forEach(lme)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=z,this.latestValues=ee,this.root=ie?ie.root||ie:this,this.path=ie?t.__spreadArray(t.__spreadArray([],t.__read(ie.path),!1),[ie],!1):[],this.parent=ie,this.depth=ie?ie.depth+1:0,z&&this.root.registerPotentialNode(z,this);for(var pe=0;pe<this.path.length;pe++)this.path[pe].shouldResetTransform=!0;this.root===this&&(this.nodes=new Lj)}return G.prototype.addEventListener=function(z,ee){return this.eventHandlers.has(z)||this.eventHandlers.set(z,new zy),this.eventHandlers.get(z).add(ee)},G.prototype.notifyListeners=function(z){for(var ee=[],ie=1;ie<arguments.length;ie++)ee[ie-1]=arguments[ie];var de=this.eventHandlers.get(z);de==null||de.notify.apply(de,t.__spreadArray([],t.__read(ee),!1))},G.prototype.hasListeners=function(z){return this.eventHandlers.has(z)},G.prototype.registerPotentialNode=function(z,ee){this.potentialNodes.set(z,ee)},G.prototype.mount=function(z,ee){var ie=this,de;if(ee===void 0&&(ee=!1),!this.instance){this.isSVG=z instanceof SVGElement&&z.tagName!=="svg",this.instance=z;var pe=this.options,me=pe.layoutId,ye=pe.layout,Ce=pe.visualElement;if(Ce&&!Ce.getInstance()&&Ce.mount(z),this.root.nodes.add(this),(de=this.parent)===null||de===void 0||de.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),ee&&(ye||me)&&(this.isLayoutDirty=!0),T){var Be,tt=function(){return ie.root.updateBlockedByResize=!1};T(z,function(){ie.root.updateBlockedByResize=!0,clearTimeout(Be),Be=window.setTimeout(tt,250),vt.hasAnimatedSinceResize&&(vt.hasAnimatedSinceResize=!1,ie.nodes.forEach(sme))})}me&&this.root.registerSharedNode(me,this),this.options.animate!==!1&&Ce&&(me||ye)&&this.addEventListener("didUpdate",function(yt){var Ot,di,mi,bi,yn,Tn=yt.delta,Li=yt.hasLayoutChanged,qi=yt.hasRelativeTargetChanged,tr=yt.layout;if(ie.isTreeAnimationBlocked()){ie.target=void 0,ie.relativeTarget=void 0;return}var pl=(di=(Ot=ie.options.transition)!==null&&Ot!==void 0?Ot:Ce.getDefaultTransition())!==null&&di!==void 0?di:fme,Ls=Ce.getProps(),Oa=Ls.onLayoutAnimationStart,Jh=Ls.onLayoutAnimationComplete,ef=!ie.targetLayout||!Sj(ie.targetLayout,tr)||qi,tf=!Li&&qi;if(!((mi=ie.resumeFrom)===null||mi===void 0)&&mi.instance||tf||Li&&(ef||!ie.currentAnimation)){ie.resumeFrom&&(ie.resumingFrom=ie.resumeFrom,ie.resumingFrom.resumingFrom=void 0),ie.setAnimationOrigin(Tn,tf);var ml=t.__assign(t.__assign({},Z2(pl,"layout")),{onPlay:Oa,onComplete:Jh});Ce.shouldReduceMotion&&(ml.delay=0,ml.type=!1),ie.startAnimation(ml)}else!Li&&ie.animationProgress===0&&ie.finishAnimation(),ie.isLead()&&((yn=(bi=ie.options).onExitComplete)===null||yn===void 0||yn.call(bi));ie.targetLayout=tr})}},G.prototype.unmount=function(){var z,ee;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(z=this.getStack())===null||z===void 0||z.remove(this),(ee=this.parent)===null||ee===void 0||ee.children.delete(this),this.instance=void 0,a.cancelSync.preRender(this.updateProjection)},G.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},G.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},G.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},G.prototype.isTreeAnimationBlocked=function(){var z;return this.isAnimationBlocked||((z=this.parent)===null||z===void 0?void 0:z.isTreeAnimationBlocked())||!1},G.prototype.startUpdate=function(){var z;this.isUpdateBlocked()||(this.isUpdating=!0,(z=this.nodes)===null||z===void 0||z.forEach(cme))},G.prototype.willUpdate=function(z){var ee,ie,de;if(z===void 0&&(z=!0),this.root.isUpdateBlocked()){(ie=(ee=this.options).onExitComplete)===null||ie===void 0||ie.call(ee);return}if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var pe=0;pe<this.path.length;pe++){var me=this.path[pe];me.shouldResetTransform=!0,me.updateScroll()}var ye=this.options,Ce=ye.layoutId,Be=ye.layout;if(!(Ce===void 0&&!Be)){var tt=(de=this.options.visualElement)===null||de===void 0?void 0:de.getProps().transformTemplate;this.prevTransformTemplateValue=tt==null?void 0:tt(this.latestValues,""),this.updateSnapshot(),z&&this.notifyListeners("willUpdate")}}},G.prototype.didUpdate=function(){var z=this.isUpdateBlocked();if(z){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Tj);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(gme),this.potentialNodes.clear()),this.nodes.forEach(ome),this.nodes.forEach(ime),this.nodes.forEach(nme),this.clearAllSnapshots(),a.flushSync.update(),a.flushSync.preRender(),a.flushSync.render())},G.prototype.clearAllSnapshots=function(){this.nodes.forEach(rme),this.sharedNodes.forEach(dme)},G.prototype.scheduleUpdateProjection=function(){f.default.preRender(this.updateProjection,!1,!0)},G.prototype.scheduleCheckAfterUnmount=function(){var z=this;f.default.postRender(function(){z.isLayoutDirty?z.root.didUpdate():z.root.checkUpdateFailed()})},G.prototype.updateSnapshot=function(){if(!(this.snapshot||!this.instance)){var z=this.measure(),ee=this.removeTransform(this.removeElementScroll(z));Pj(ee),this.snapshot={measured:z,layout:ee,latestValues:{}}}},G.prototype.updateLayout=function(){var z;if(this.instance&&(this.updateScroll(),!(!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))){if(this.resumeFrom&&!this.resumeFrom.instance)for(var ee=0;ee<this.path.length;ee++){var ie=this.path[ee];ie.updateScroll()}var de=this.measure();Pj(de);var pe=this.layout;this.layout={measured:de,actual:this.removeElementScroll(de)},this.layoutCorrected=fo(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),(z=this.options.visualElement)===null||z===void 0||z.notifyLayoutMeasure(this.layout.actual,pe==null?void 0:pe.actual)}},G.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=F(this.instance),this.scroll=M(this.instance))},G.prototype.resetTransform=function(){var z;if(q){var ee=this.isLayoutDirty||this.shouldResetTransform,ie=this.projectionDelta&&!wj(this.projectionDelta),de=(z=this.options.visualElement)===null||z===void 0?void 0:z.getProps().transformTemplate,pe=de==null?void 0:de(this.latestValues,""),me=pe!==this.prevTransformTemplateValue;ee&&(ie||Yh(this.latestValues)||me)&&(q(this.instance,pe),this.shouldResetTransform=!1,this.scheduleRender())}},G.prototype.measure=function(){var z=this.options.visualElement;if(!z)return fo();var ee=z.measureViewportBox(),ie=this.root.scroll;return ie&&(Xh(ee.x,ie.x),Xh(ee.y,ie.y)),ee},G.prototype.removeElementScroll=function(z){var ee=fo();Jl(ee,z);for(var ie=0;ie<this.path.length;ie++){var de=this.path[ie],pe=de.scroll,me=de.options,ye=de.isScrollRoot;if(de!==this.root&&pe&&me.layoutScroll){if(ye){Jl(ee,z);var Ce=this.root.scroll;Ce&&(Xh(ee.x,-Ce.x),Xh(ee.y,-Ce.y))}Xh(ee.x,pe.x),Xh(ee.y,pe.y)}}return ee},G.prototype.applyTransform=function(z,ee){ee===void 0&&(ee=!1);var ie=fo();Jl(ie,z);for(var de=0;de<this.path.length;de++){var pe=this.path[de];!ee&&pe.options.layoutScroll&&pe.scroll&&pe!==pe.root&&Y_(ie,{x:-pe.scroll.x,y:-pe.scroll.y}),Yh(pe.latestValues)&&Y_(ie,pe.latestValues)}return Yh(this.latestValues)&&Y_(ie,this.latestValues),ie},G.prototype.removeTransform=function(z){var ee,ie=fo();Jl(ie,z);for(var de=0;de<this.path.length;de++){var pe=this.path[de];if(pe.instance&&Yh(pe.latestValues)){qz(pe.latestValues)&&pe.updateSnapshot();var me=fo(),ye=pe.measure();Jl(me,ye),yj(ie,pe.latestValues,(ee=pe.snapshot)===null||ee===void 0?void 0:ee.layout,me)}}return Yh(this.latestValues)&&yj(ie,this.latestValues),ie},G.prototype.setTargetDelta=function(z){this.targetDelta=z,this.root.scheduleUpdateProjection()},G.prototype.setOptions=function(z){var ee;this.options=t.__assign(t.__assign(t.__assign({},this.options),z),{crossfade:(ee=z.crossfade)!==null&&ee!==void 0?ee:!0})},G.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},G.prototype.resolveTargetDelta=function(){var z,ee=this.options,ie=ee.layout,de=ee.layoutId;!this.layout||!(ie||de)||(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=fo(),this.relativeTargetOrigin=fo(),$y(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),Jl(this.relativeTarget,this.relativeTargetOrigin))),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=fo(),this.targetWithTransforms=fo()),this.relativeTarget&&this.relativeTargetOrigin&&(!((z=this.relativeParent)===null||z===void 0)&&z.target)?spe(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.actual):Jl(this.target,this.layout.actual),Zz(this.target,this.targetDelta)):Jl(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&!!this.relativeParent.resumingFrom==!!this.resumingFrom&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=fo(),this.relativeTargetOrigin=fo(),$y(this.relativeTargetOrigin,this.target,this.relativeParent.target),Jl(this.relativeTarget,this.relativeTargetOrigin)))))},G.prototype.getClosestProjectingParent=function(){if(!(!this.parent||Yh(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},G.prototype.calcProjection=function(){var z,ee=this.options,ie=ee.layout,de=ee.layoutId;if(this.isTreeAnimating=!!(!((z=this.parent)===null||z===void 0)&&z.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!(!this.layout||!(ie||de))){var pe=this.getLead();Jl(this.layoutCorrected,this.layout.actual),ppe(this.layoutCorrected,this.treeScale,this.path,!!this.resumingFrom||this!==pe);var me=pe.target;if(me){this.projectionDelta||(this.projectionDelta=qy(),this.projectionDeltaWithTransform=qy());var ye=this.treeScale.x,Ce=this.treeScale.y,Be=this.projectionTransform;Uy(this.projectionDelta,this.layoutCorrected,me,this.latestValues),this.projectionTransform=xj(this.projectionDelta,this.treeScale),(this.projectionTransform!==Be||this.treeScale.x!==ye||this.treeScale.y!==Ce)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",me))}}},G.prototype.hide=function(){this.isVisible=!1},G.prototype.show=function(){this.isVisible=!0},G.prototype.scheduleRender=function(z){var ee,ie,de;z===void 0&&(z=!0),(ie=(ee=this.options).scheduleRender)===null||ie===void 0||ie.call(ee),z&&((de=this.getStack())===null||de===void 0||de.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},G.prototype.setAnimationOrigin=function(z,ee){var ie=this,de;ee===void 0&&(ee=!1);var pe=this.snapshot,me=(pe==null?void 0:pe.latestValues)||{},ye=t.__assign({},this.latestValues),Ce=qy();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!ee;var Be=fo(),tt=pe==null?void 0:pe.isShared,yt=(((de=this.getStack())===null||de===void 0?void 0:de.members.length)||0)<=1,Ot=!!(tt&&!yt&&this.options.crossfade===!0&&!this.path.some(hme));this.animationProgress=0,this.mixTargetDelta=function(di){var mi,bi=di/1e3;Ej(Ce.x,z.x,bi),Ej(Ce.y,z.y,bi),ie.setTargetDelta(Ce),ie.relativeTarget&&ie.relativeTargetOrigin&&ie.layout&&(!((mi=ie.relativeParent)===null||mi===void 0)&&mi.layout)&&($y(Be,ie.layout.actual,ie.relativeParent.layout.actual),ume(ie.relativeTarget,ie.relativeTargetOrigin,Be,bi)),tt&&(ie.animationValues=ye,Kpe(ye,me,ie.latestValues,bi,Ot,yt)),ie.root.scheduleUpdateProjection(),ie.scheduleRender(),ie.animationProgress=bi},this.mixTargetDelta(0)},G.prototype.startAnimation=function(z){var ee=this,ie,de;this.notifyListeners("animationStart"),(ie=this.currentAnimation)===null||ie===void 0||ie.stop(),this.resumingFrom&&((de=this.resumingFrom.currentAnimation)===null||de===void 0||de.stop()),this.pendingAnimation&&(a.cancelSync.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=f.default.update(function(){vt.hasAnimatedSinceResize=!0,ee.currentAnimation=uj(0,kj,t.__assign(t.__assign({},z),{onUpdate:function(pe){var me;ee.mixTargetDelta(pe),(me=z.onUpdate)===null||me===void 0||me.call(z,pe)},onComplete:function(){var pe;(pe=z.onComplete)===null||pe===void 0||pe.call(z),ee.completeAnimation()}})),ee.resumingFrom&&(ee.resumingFrom.currentAnimation=ee.currentAnimation),ee.pendingAnimation=void 0})},G.prototype.completeAnimation=function(){var z;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(z=this.getStack())===null||z===void 0||z.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},G.prototype.finishAnimation=function(){var z;this.currentAnimation&&((z=this.mixTargetDelta)===null||z===void 0||z.call(this,kj),this.currentAnimation.stop()),this.completeAnimation()},G.prototype.applyTransformsToTarget=function(){var z=this.getLead(),ee=z.targetWithTransforms,ie=z.target,de=z.layout,pe=z.latestValues;!ee||!ie||!de||(Jl(ee,ie),Y_(ee,pe),Uy(this.projectionDeltaWithTransform,this.layoutCorrected,ee,pe))},G.prototype.registerSharedNode=function(z,ee){var ie,de,pe;this.sharedNodes.has(z)||this.sharedNodes.set(z,new Jpe);var me=this.sharedNodes.get(z);me.add(ee),ee.promote({transition:(ie=ee.options.initialPromotionConfig)===null||ie===void 0?void 0:ie.transition,preserveFollowOpacity:(pe=(de=ee.options.initialPromotionConfig)===null||de===void 0?void 0:de.shouldPreserveFollowOpacity)===null||pe===void 0?void 0:pe.call(de,ee)})},G.prototype.isLead=function(){var z=this.getStack();return z?z.lead===this:!0},G.prototype.getLead=function(){var z,ee=this.options.layoutId;return ee?((z=this.getStack())===null||z===void 0?void 0:z.lead)||this:this},G.prototype.getPrevLead=function(){var z,ee=this.options.layoutId;return ee?(z=this.getStack())===null||z===void 0?void 0:z.prevLead:void 0},G.prototype.getStack=function(){var z=this.options.layoutId;if(z)return this.root.sharedNodes.get(z)},G.prototype.promote=function(z){var ee=z===void 0?{}:z,ie=ee.needsReset,de=ee.transition,pe=ee.preserveFollowOpacity,me=this.getStack();me&&me.promote(this,pe),ie&&(this.projectionDelta=void 0,this.needsReset=!0),de&&this.setOptions({transition:de})},G.prototype.relegate=function(){var z=this.getStack();return z?z.relegate(this):!1},G.prototype.resetRotation=function(){var z=this.options.visualElement;if(z){for(var ee=!1,ie={},de=0;de<Le.length;de++){var pe=Le[de],me="rotate"+pe;z.getStaticValue(me)&&(ee=!0,ie[me]=z.getStaticValue(me),z.setStaticValue(me,0))}if(ee){z==null||z.syncRender();for(var me in ie)z.setStaticValue(me,ie[me]);z.scheduleRender()}}},G.prototype.getProjectionStyles=function(z){var ee,ie,de,pe,me,ye;z===void 0&&(z={});var Ce={};if(!this.instance||this.isSVG)return Ce;if(this.isVisible)Ce.visibility="";else return{visibility:"hidden"};var Be=(ee=this.options.visualElement)===null||ee===void 0?void 0:ee.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,Ce.opacity="",Ce.pointerEvents=Lu(z.pointerEvents)||"",Ce.transform=Be?Be(this.latestValues,""):"none",Ce;var tt=this.getLead();if(!this.projectionDelta||!this.layout||!tt.target){var yt={};return this.options.layoutId&&(yt.opacity=(ie=this.latestValues.opacity)!==null&&ie!==void 0?ie:1,yt.pointerEvents=Lu(z.pointerEvents)||""),this.hasProjected&&!Yh(this.latestValues)&&(yt.transform=Be?Be({},""):"none",this.hasProjected=!1),yt}var Ot=tt.animationValues||tt.latestValues;this.applyTransformsToTarget(),Ce.transform=xj(this.projectionDeltaWithTransform,this.treeScale,Ot),Be&&(Ce.transform=Be(Ot,Ce.transform));var di=this.projectionDelta,mi=di.x,bi=di.y;Ce.transformOrigin="".concat(mi.origin*100,"% ").concat(bi.origin*100,"% 0"),tt.animationValues?Ce.opacity=tt===this?(pe=(de=Ot.opacity)!==null&&de!==void 0?de:this.latestValues.opacity)!==null&&pe!==void 0?pe:1:this.preserveOpacity?this.latestValues.opacity:Ot.opacityExit:Ce.opacity=tt===this?(me=Ot.opacity)!==null&&me!==void 0?me:"":(ye=Ot.opacityExit)!==null&&ye!==void 0?ye:0;for(var yn in ae)if(Ot[yn]!==void 0){var Tn=ae[yn],Li=Tn.correct,qi=Tn.applyTo,tr=Li(Ot[yn],tt);if(qi)for(var pl=qi.length,Ls=0;Ls<pl;Ls++)Ce[qi[Ls]]=tr;else Ce[yn]=tr}return this.options.layoutId&&(Ce.pointerEvents=tt===this?Lu(z.pointerEvents)||"":"none"),Ce},G.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},G.prototype.resetTree=function(){this.root.nodes.forEach(function(z){var ee;return(ee=z.currentAnimation)===null||ee===void 0?void 0:ee.stop()}),this.root.nodes.forEach(Tj),this.root.sharedNodes.clear()},G}()}function ime(L){L.updateLayout()}function nme(L){var T,P,M,F,q=(P=(T=L.resumeFrom)===null||T===void 0?void 0:T.snapshot)!==null&&P!==void 0?P:L.snapshot;if(L.isLead()&&L.layout&&q&&L.hasListeners("didUpdate")){var G=L.layout,z=G.actual,ee=G.measured;L.options.animationType==="size"?cd(function(Ot){var di=q.isShared?q.measured[Ot]:q.layout[Ot],mi=ld(di);di.min=z[Ot].min,di.max=di.min+mi}):L.options.animationType==="position"&&cd(function(Ot){var di=q.isShared?q.measured[Ot]:q.layout[Ot],mi=ld(z[Ot]);di.max=di.min+mi});var ie=qy();Uy(ie,z,q.layout);var de=qy();q.isShared?Uy(de,L.applyTransform(ee,!0),q.measured):Uy(de,z,q.layout);var pe=!wj(ie),me=!1;if(!L.resumeFrom&&(L.relativeParent=L.getClosestProjectingParent(),L.relativeParent&&!L.relativeParent.resumeFrom)){var ye=L.relativeParent,Ce=ye.snapshot,Be=ye.layout;if(Ce&&Be){var tt=fo();$y(tt,q.layout,Ce.layout);var yt=fo();$y(yt,z,Be.actual),Sj(tt,yt)||(me=!0)}}L.notifyListeners("didUpdate",{layout:z,snapshot:q,delta:de,layoutDelta:ie,hasLayoutChanged:pe,hasRelativeTargetChanged:me})}else L.isLead()&&((F=(M=L.options).onExitComplete)===null||F===void 0||F.call(M));L.options.transition=void 0}function rme(L){L.clearSnapshot()}function Tj(L){L.clearMeasurements()}function ome(L){var T=L.options.visualElement;T!=null&&T.getProps().onBeforeLayoutMeasure&&T.notifyBeforeLayoutMeasure(),L.resetTransform()}function sme(L){L.finishAnimation(),L.targetDelta=L.relativeTarget=L.target=void 0}function ame(L){L.resolveTargetDelta()}function lme(L){L.calcProjection()}function cme(L){L.resetRotation()}function dme(L){L.removeLeadSnapshot()}function Ej(L,T,P){L.translate=s.mix(T.translate,0,P),L.scale=s.mix(T.scale,1,P),L.origin=T.origin,L.originPoint=T.originPoint}function Ij(L,T,P,M){L.min=s.mix(T.min,P.min,M),L.max=s.mix(T.max,P.max,M)}function ume(L,T,P,M){Ij(L.x,T.x,P.x,M),Ij(L.y,T.y,P.y,M)}function hme(L){return L.animationValues&&L.animationValues.opacityExit!==void 0}var fme={duration:.45,ease:[.4,0,.1,1]};function gme(L,T){for(var P=L.root,M=L.path.length-1;M>=0;M--)if(L.path[M].instance){P=L.path[M];break}var F=P&&P!==L.root?P.instance:document,q=F.querySelector('[data-projection-id="'.concat(T,'"]'));q&&L.mount(q,!0)}function Nj(L){L.min=Math.round(L.min),L.max=Math.round(L.max)}function Pj(L){Nj(L.x),Nj(L.y)}var pme=Dj({attachResizeListener:function(L,T){return er(L,"resize",T)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),kp={current:void 0},fR=Dj({measureScroll:function(L){return{x:L.scrollLeft,y:L.scrollTop}},defaultParent:function(){if(!kp.current){var L=new pme(0,{});L.mount(window),L.setOptions({layoutScroll:!0}),kp.current=L}return kp.current},resetTransform:function(L,T){L.style.transform=T??"none"},checkIsScrollRoot:function(L){return window.getComputedStyle(L).position==="fixed"}}),Mj=t.__assign(t.__assign(t.__assign(t.__assign({},rR),_z),Qz),dj),gR=fe(function(L,T){return Z_(L,T,Mj,hR,fR)});function mme(L){return be(Z_(L,{forwardMotionProps:!1},Mj,hR,fR))}var _me=fe(Z_);function Rj(){var L=i.useRef(!1);return N(function(){return L.current=!0,function(){L.current=!1}},[]),L}function AL(){var L=Rj(),T=t.__read(i.useState(0),2),P=T[0],M=T[1],F=i.useCallback(function(){L.current&&M(P+1)},[P]),q=i.useCallback(function(){return f.default.postRender(F)},[F]);return[q,P]}var pR=function(L){var T=L.children,P=L.initial,M=L.isPresent,F=L.onExitComplete,q=L.custom,G=L.presenceAffectsLayout,z=Ze(vme),ee=vz(),ie=i.useMemo(function(){return{id:ee,initial:P,isPresent:M,custom:q,onExitComplete:function(de){var pe,me;z.set(de,!0);try{for(var ye=t.__values(z.values()),Ce=ye.next();!Ce.done;Ce=ye.next()){var Be=Ce.value;if(!Be)return}}catch(tt){pe={error:tt}}finally{try{Ce&&!Ce.done&&(me=ye.return)&&me.call(ye)}finally{if(pe)throw pe.error}}F==null||F()},register:function(de){return z.set(de,!1),function(){return z.delete(de)}}}},G?void 0:[M]);return i.useMemo(function(){z.forEach(function(de,pe){return z.set(pe,!1)})},[M]),u.useEffect(function(){!M&&!z.size&&(F==null||F())},[M]),u.createElement(E.Provider,{value:ie},T)};function vme(){return new Map}var X_=function(L){return L.key||""};function bme(L,T){L.forEach(function(P){var M=X_(P);T.set(M,P)})}function yme(L){var T=[];return i.Children.forEach(L,function(P){i.isValidElement(P)&&T.push(P)}),T}var Cme=function(L){var T=L.children,P=L.custom,M=L.initial,F=M===void 0?!0:M,q=L.onExitComplete,G=L.exitBeforeEnter,z=L.presenceAffectsLayout,ee=z===void 0?!0:z,ie=t.__read(AL(),1),de=ie[0],pe=i.useContext(st).forceRender;pe&&(de=pe);var me=Rj(),ye=yme(T),Ce=ye,Be=new Set,tt=i.useRef(Ce),yt=i.useRef(new Map).current,Ot=i.useRef(!0);if(N(function(){Ot.current=!1,bme(ye,yt),tt.current=Ce}),kL(function(){Ot.current=!0,yt.clear(),Be.clear()}),Ot.current)return u.createElement(u.Fragment,null,Ce.map(function(Li){return u.createElement(pR,{key:X_(Li),isPresent:!0,initial:F?void 0:!1,presenceAffectsLayout:ee},Li)}));Ce=t.__spreadArray([],t.__read(Ce),!1);for(var di=tt.current.map(X_),mi=ye.map(X_),bi=di.length,yn=0;yn<bi;yn++){var Tn=di[yn];mi.indexOf(Tn)===-1&&Be.add(Tn)}return G&&Be.size&&(Ce=[]),Be.forEach(function(Li){if(mi.indexOf(Li)===-1){var qi=yt.get(Li);if(qi){var tr=di.indexOf(Li),pl=function(){yt.delete(Li),Be.delete(Li);var Ls=tt.current.findIndex(function(Oa){return Oa.key===Li});if(tt.current.splice(Ls,1),!Be.size){if(tt.current=ye,me.current===!1)return;de(),q&&q()}};Ce.splice(tr,0,u.createElement(pR,{key:X_(qi),isPresent:!1,onExitComplete:pl,custom:P,presenceAffectsLayout:ee},qi))}}}),Ce=Ce.map(function(Li){var qi=Li.key;return Be.has(qi)?Li:u.createElement(pR,{key:X_(Li),isPresent:!0,presenceAffectsLayout:ee},Li)}),_!=="production"&&G&&Ce.length>1&&console.warn("You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour."),u.createElement(u.Fragment,null,Be.size?Ce:Ce.map(function(Li){return i.cloneElement(Li)}))},Aj=i.createContext(null),wme=function(L){return!L.isLayoutDirty&&L.willUpdate(!1)};function Oj(){var L=new Set,T=new WeakMap,P=function(){return L.forEach(wme)};return{add:function(M){L.add(M),T.set(M,M.addEventListener("willUpdate",P))},remove:function(M){var F;L.delete(M),(F=T.get(M))===null||F===void 0||F(),T.delete(M),P()},dirty:P}}var Fj=function(L){return L===!0},Sme=function(L){return Fj(L===!0)||L==="id"},Bj=function(L){var T,P,M=L.children,F=L.id,q=L.inheritId,G=L.inherit,z=G===void 0?!0:G;q!==void 0&&(z=q);var ee=i.useContext(st),ie=i.useContext(Aj),de=t.__read(AL(),2),pe=de[0],me=de[1],ye=i.useRef(null),Ce=(T=ee.id)!==null&&T!==void 0?T:ie;ye.current===null&&(Sme(z)&&Ce&&(F=F?Ce+"-"+F:Ce),ye.current={id:F,group:Fj(z)&&(P=ee==null?void 0:ee.group)!==null&&P!==void 0?P:Oj()});var Be=i.useMemo(function(){return t.__assign(t.__assign({},ye.current),{forceRender:pe})},[me]);return u.createElement(st.Provider,{value:Be},M)},xme=0,Lme=function(L){var T=L.children;return u.useEffect(function(){r.warning(!1,"AnimateSharedLayout is deprecated: https://www.framer.com/docs/guide-upgrade/##shared-layout-animations")},[]),u.createElement(Bj,{id:Ze(function(){return"asl-".concat(xme++)})},T)};function kme(L){var T=L.children,P=L.isValidProp,M=t.__rest(L,["children","isValidProp"]);P&&Su(P),M=t.__assign(t.__assign({},i.useContext(x)),M),M.isStatic=Ze(function(){return M.isStatic});var F=i.useMemo(function(){return M},[JSON.stringify(M.transition),M.transformPagePoint,M.reducedMotion]);return u.createElement(x.Provider,{value:F},T)}function Dme(L){var T=L.children,P=L.features,M=L.strict,F=M===void 0?!1:M,q=t.__read(i.useState(!mR(P)),2),G=q[1],z=i.useRef(void 0);if(!mR(P)){var ee=P.renderer,ie=t.__rest(P,["renderer"]);z.current=ee,p(ie)}return i.useEffect(function(){mR(P)&&P().then(function(de){var pe=de.renderer,me=t.__rest(de,["renderer"]);p(me),z.current=pe,G(!0)})},[]),u.createElement(v.Provider,{value:{renderer:z.current,strict:F}},T)}function mR(L){return typeof L=="function"}var Wj=i.createContext(null);function Tme(L,T,P,M){if(!M)return L;var F=L.findIndex(function(de){return de.value===T});if(F===-1)return L;var q=M>0?1:-1,G=L[F+q];if(!G)return L;var z=L[F],ee=G.layout,ie=s.mix(ee.min,ee.max,.5);return q===1&&z.layout.max+P>ie||q===-1&&z.layout.min+P<ie?Vge(L,F,F+q):L}function Eme(L,T){var P=L.children,M=L.as,F=M===void 0?"ul":M,q=L.axis,G=q===void 0?"y":q,z=L.onReorder,ee=L.values,ie=t.__rest(L,["children","as","axis","onReorder","values"]),de=Ze(function(){return gR(F)}),pe=[],me=i.useRef(!1);r.invariant(!!ee,"Reorder.Group must be provided a values prop");var ye={axis:G,registerItem:function(Ce,Be){Be&&pe.findIndex(function(tt){return Ce===tt.value})===-1&&(pe.push({value:Ce,layout:Be[G]}),pe.sort(Pme))},updateOrder:function(Ce,Be,tt){if(!me.current){var yt=Tme(pe,Ce,Be,tt);pe!==yt&&(me.current=!0,z(yt.map(Nme).filter(function(Ot){return ee.indexOf(Ot)!==-1})))}}};return i.useEffect(function(){me.current=!1}),u.createElement(de,t.__assign({},ie,{ref:T}),u.createElement(Wj.Provider,{value:ye},P))}var Ime=i.forwardRef(Eme);function Nme(L){return L.value}function Pme(L,T){return L.layout.min-T.layout.min}function Qh(L){var T=Ze(function(){return gl(L)}),P=i.useContext(x).isStatic;if(P){var M=t.__read(i.useState(L),2),F=M[1];i.useEffect(function(){return T.onChange(F)},[])}return T}var Mme=function(L){return typeof L=="object"&&L.mix},Rme=function(L){return Mme(L)?L.mix:void 0};function Vj(){for(var L=[],T=0;T<arguments.length;T++)L[T]=arguments[T];var P=!Array.isArray(L[0]),M=P?0:-1,F=L[0+M],q=L[1+M],G=L[2+M],z=L[3+M],ee=s.interpolate(q,G,t.__assign({mixer:Rme(G[0])},z));return P?ee(F):ee}function Ame(L,T){N(function(){if(fi(L))return L.onChange(T)},[T])}function Ome(L,T){N(function(){var P=L.map(function(M){return M.onChange(T)});return function(){return P.forEach(function(M){return M()})}})}function Hj(L,T){var P=Qh(T()),M=function(){return P.set(T())};return M(),Ome(L,function(){return f.default.update(M,!1,!0)}),P}function OL(L,T,P,M){var F=typeof T=="function"?T:Vj(T,P,M);return Array.isArray(L)?zj(L,F):zj([L],function(q){var G=t.__read(q,1),z=G[0];return F(z)})}function zj(L,T){var P=Ze(function(){return[]});return Hj(L,function(){P.length=0;for(var M=L.length,F=0;F<M;F++)P[F]=L[F].get();return T(P)})}function jj(L,T){return T===void 0&&(T=0),fi(L)?L:Qh(T)}function Fme(L,T){var P=L.children,M=L.style,F=L.value,q=L.as,G=q===void 0?"li":q,z=L.onDrag,ee=L.layout,ie=ee===void 0?!0:ee,de=t.__rest(L,["children","style","value","as","onDrag","layout"]),pe=Ze(function(){return gR(G)}),me=i.useContext(Wj),ye={x:jj(M==null?void 0:M.x),y:jj(M==null?void 0:M.y)},Ce=OL([ye.x,ye.y],function(mi){var bi=t.__read(mi,2),yn=bi[0],Tn=bi[1];return yn||Tn?1:"unset"}),Be=i.useRef(null);r.invariant(!!me,"Reorder.Item must be a child of Reorder.Group");var tt=me,yt=tt.axis,Ot=tt.registerItem,di=tt.updateOrder;return i.useEffect(function(){Ot(F,Be.current)},[me]),u.createElement(pe,t.__assign({drag:yt},de,{dragSnapToOrigin:!0,style:t.__assign(t.__assign({},M),{x:ye.x,y:ye.y,zIndex:Ce}),layout:ie,onDrag:function(mi,bi){var yn=bi.velocity;yn[yt]&&di(F,ye[yt].get(),yn[yt]),z==null||z(mi,bi)},onLayoutMeasure:function(mi){Be.current=mi},ref:T}),P)}var Bme=i.forwardRef(Fme),Wme={Group:Ime,Item:Bme},Uj=t.__assign(t.__assign({renderer:hR},rR),_z),Vme=t.__assign(t.__assign(t.__assign(t.__assign({},Uj),Qz),dj),{projectionNodeConstructor:fR});function Hme(L){for(var T=[],P=1;P<arguments.length;P++)T[P-1]=arguments[P];var M=L.length;function F(){for(var q="",G=0;G<M;G++){q+=L[G];var z=T[G];z&&(q+=T[G].get())}return q}return Hj(T,F)}function zme(L,T){T===void 0&&(T={});var P=i.useContext(x).isStatic,M=i.useRef(null),F=Qh(fi(L)?L.get():L);return i.useMemo(function(){return F.attach(function(q,G){return P?G(q):(M.current&&M.current.stop(),M.current=s.animate(t.__assign(t.__assign({from:F.get(),to:q,velocity:F.getVelocity()},T),{onUpdate:G})),F.get())})},[JSON.stringify(T)]),Ame(L,function(q){return F.set(parseFloat(q))}),F}function jme(L){var T=Qh(L.getVelocity());return i.useEffect(function(){return L.velocityUpdateSubscribers.add(function(P){T.set(P)})},[L]),T}var Ume=function(){return{scrollX:gl(0),scrollY:gl(0),scrollXProgress:gl(0),scrollYProgress:gl(0)}};function _R(L){L===void 0&&(L={});var T=L.container,P=L.target,M=t.__rest(L,["container","target"]),F=Ze(Ume);return N(function(){return l.scroll(function(q){var G=q.x,z=q.y;F.scrollX.set(G.current),F.scrollXProgress.set(G.progress),F.scrollY.set(z.current),F.scrollYProgress.set(z.progress)},t.__assign(t.__assign({},M),{container:(T==null?void 0:T.current)||void 0,target:(P==null?void 0:P.current)||void 0}))},[]),F}function $me(L){return H2(!1,"useElementScroll is deprecated. Convert to useScroll({ container: ref })."),_R({container:L})}function qme(){return H2(!1,"useViewportScroll is deprecated. Convert to useScroll()."),_R()}var Kme=typeof performance<"u"?function(){return performance.now()}:function(){return Date.now()};function $j(L){var T=Ze(Kme),P=i.useContext(x).isStatic;i.useEffect(function(){if(!P){var M=function(F){var q=F.timestamp;L(q-T)};return f.default.update(M,!0),function(){return a.cancelSync.update(M)}}},[L])}function Gme(){var L=Qh(0);return $j(function(T){return L.set(T)}),L}function qj(){var L=!1,T=[],P=new Set,M={subscribe:function(F){return P.add(F),function(){return void P.delete(F)}},start:function(F,q){if(L){var G=[];return P.forEach(function(z){G.push(EL(z,F,{transitionOverride:q}))}),Promise.all(G)}else return new Promise(function(z){T.push({animation:[F,q],resolve:z})})},set:function(F){return r.invariant(L,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),P.forEach(function(q){qge(q,F)})},stop:function(){P.forEach(function(F){Zge(F)})},mount:function(){return L=!0,T.forEach(function(F){var q=F.animation,G=F.resolve;M.start.apply(M,t.__spreadArray([],t.__read(q),!1)).then(G)}),function(){L=!1,M.stop()}}};return M}function Kj(){var L=Ze(qj);return i.useEffect(L.mount,[]),L}var Zme=Kj;function Yme(){for(var L=[],T=0;T<arguments.length;T++)L[T]=arguments[T];var P=i.useRef(0),M=t.__read(i.useState(L[P.current]),2),F=M[0],q=M[1],G=i.useCallback(function(z){P.current=typeof z!="number"?s.wrap(0,L.length,P.current+1):z,q(L[P.current])},t.__spreadArray([L.length],t.__read(L),!1));return[F,G]}function Xme(L,T){var P=T===void 0?{}:T,M=P.root,F=P.margin,q=P.amount,G=P.once,z=G===void 0?!1:G,ee=t.__read(i.useState(!1),2),ie=ee[0],de=ee[1];return i.useEffect(function(){var pe;if(!(!L.current||z&&ie)){var me=function(){return de(!0),z?void 0:function(){return de(!1)}},ye={root:(pe=M==null?void 0:M.current)!==null&&pe!==void 0?pe:void 0,margin:F,amount:q==="some"?"any":q};return l.inView(L.current,me,ye)}},[M,L,F,z]),ie}var Gj=function(){function L(){this.componentControls=new Set}return L.prototype.subscribe=function(T){var P=this;return this.componentControls.add(T),function(){return P.componentControls.delete(T)}},L.prototype.start=function(T,P){this.componentControls.forEach(function(M){M.start(T.nativeEvent||T,P)})},L}(),Qme=function(){return new Gj};function Jme(){return Ze(Qme)}function Zj(){return e_e}function e_e(L){kp.current&&(kp.current.isUpdating=!1,kp.current.blockUpdate(),L==null||L())}function t_e(){var L=t.__read(AL(),2),T=L[0],P=L[1],M=Zj();return i.useEffect(function(){f.default.postRender(function(){return f.default.postRender(function(){return G2.current=!1})})},[P]),function(F){M(function(){G2.current=!0,T(),F()})}}function i_e(){var L=u.useCallback(function(){var T=kp.current;T&&T.resetTree()},[]);return L}var vR=function(){return{}},n_e=ML({build:function(){},measureViewportBox:fo,resetTransform:function(){},restoreTransform:function(){},removeValueFromRenderState:function(){},render:function(){},scrapeMotionValuesFromProps:vR,readValueFromInstance:function(L,T,P){return P.initialState[T]||0},makeTargetAnimatable:function(L,T){var P=T.transition,M=T.transitionEnd,F=t.__rest(T,["transition","transitionEnd"]),q=Iz(F,P||{},L);return tR(L,F,q),t.__assign({transition:P,transitionEnd:M},F)}}),r_e=qh({scrapeMotionValuesFromProps:vR,createRenderState:vR});function o_e(L){var T=t.__read(i.useState(L),2),P=T[0],M=T[1],F=r_e({},!1),q=Ze(function(){return n_e({props:{},visualState:F},{initialState:L})});i.useEffect(function(){return q.mount({}),q.unmount},[q]),i.useEffect(function(){q.setProps({onUpdate:function(z){M(t.__assign({},z))}})},[M,q]);var G=Ze(function(){return function(z){return EL(q,z)}});return[P,G]}var s_e=1e5,Yj=function(L){return L>.001?1/L:s_e},Xj=!1;function a_e(L){var T=Qh(1),P=Qh(1),M=D();r.invariant(!!(L||M),"If no scale values are provided, useInvertedScale must be used within a child of another motion component."),r.warning(Xj,"useInvertedScale is deprecated and will be removed in 3.0. Use the layout prop instead."),Xj=!0,L?(T=L.scaleX||T,P=L.scaleY||P):M&&(T=M.getValue("scaleX",1),P=M.getValue("scaleY",1));var F=OL(T,Yj),q=OL(P,Yj);return{scaleX:F,scaleY:q}}n.AnimatePresence=Cme,n.AnimateSharedLayout=Lme,n.DeprecatedLayoutGroupContext=Aj,n.DragControls=Gj,n.FlatTree=Lj,n.LayoutGroup=Bj,n.LayoutGroupContext=st,n.LazyMotion=Dme,n.MotionConfig=kme,n.MotionConfigContext=x,n.MotionContext=k,n.MotionValue=Dz,n.PresenceContext=E,n.Reorder=Wme,n.SwitchLayoutGroupContext=ni,n.addPointerEvent=Sp,n.addScaleCorrector=se,n.animate=uj,n.animateVisualElement=EL,n.animationControls=qj,n.animations=rR,n.calcLength=ld,n.checkTargetForNewValues=tR,n.createBox=fo,n.createDomMotionComponent=mme,n.createMotionComponent=be,n.domAnimation=Uj,n.domMax=Vme,n.filterProps=zh,n.isBrowser=I,n.isDragActive=V2,n.isMotionValue=fi,n.isValidMotionProp=xs,n.m=_me,n.makeUseVisualState=qh,n.motion=gR,n.motionValue=gl,n.resolveMotionValue=Lu,n.transform=Vj,n.useAnimation=Zme,n.useAnimationControls=Kj,n.useAnimationFrame=$j,n.useCycle=Yme,n.useDeprecatedAnimatedState=o_e,n.useDeprecatedInvertedScale=a_e,n.useDomEvent=sr,n.useDragControls=Jme,n.useElementScroll=$me,n.useForceUpdate=AL,n.useInView=Xme,n.useInstantLayoutTransition=Zj,n.useInstantTransition=t_e,n.useIsPresent=kge,n.useIsomorphicLayoutEffect=N,n.useMotionTemplate=Hme,n.useMotionValue=Qh,n.usePresence=U2,n.useReducedMotion=K,n.useReducedMotionConfig=Q,n.useResetProjection=i_e,n.useScroll=_R,n.useSpring=zme,n.useTime=Gme,n.useTransform=OL,n.useUnmountEffect=kL,n.useVelocity=jme,n.useViewportScroll=qme,n.useVisualElementContext=D,n.visualElement=ML,n.wrapHandler=W2})(Lo);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(m,p){for(var v in p)Object.defineProperty(m,v,{enumerable:!0,get:p[v]})}e(n,{AccordionBody:function(){return _},default:function(){return y}});var t=h(le),i=Lo,r=h(ii),o=h(Ko),s=h(At),a=Rt,l=ZN,c=Et,d=bx;function u(){return u=Object.assign||function(m){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])}return m},u.apply(this,arguments)}function h(m){return m&&m.__esModule?m:{default:m}}function f(m,p){if(m==null)return{};var v=g(m,p),b,C;if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(m);for(C=0;C<S.length;C++)b=S[C],!(p.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(m,b)&&(v[b]=m[b])}return v}function g(m,p){if(m==null)return{};var v={},b=Object.keys(m),C,S;for(S=0;S<b.length;S++)C=b[S],!(p.indexOf(C)>=0)&&(v[C]=m[C]);return v}var _=t.default.forwardRef(function(m,p){var v=m.className,b=m.children,C=f(m,["className","children"]),S=(0,l.useAccordion)(),x=S.open,k=S.animate,D=(0,c.useTheme)().accordion,E=D.styles.base;v=v??"";var I=(0,a.twMerge)((0,r.default)((0,s.default)(E.body)),v),N={unmount:{height:"0px",transition:{duration:.2,times:[.4,0,.2,1]}},mount:{height:"auto",transition:{duration:.2,times:[.4,0,.2,1]}}},R={unmount:{transition:{duration:.3,ease:"linear"}},mount:{transition:{duration:.3,ease:"linear"}}},O=(0,o.default)(N,k);return t.default.createElement(i.LazyMotion,{features:i.domAnimation},t.default.createElement(i.m.div,{className:"overflow-hidden",initial:"unmount",exit:"unmount",animate:x?"mount":"unmount",variants:O},t.default.createElement(i.m.div,u({},C,{ref:p,className:I,initial:"unmount",exit:"unmount",animate:x?"mount":"unmount",variants:R}),b)))});_.propTypes={className:d.propTypesClassName,children:d.propTypesChildren},_.displayName="MaterialTailwind.AccordionBody";var y=_})(ine);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(p,v){for(var b in v)Object.defineProperty(p,b,{enumerable:!0,get:v[b]})}e(n,{Accordion:function(){return y},AccordionHeader:function(){return c.AccordionHeader},AccordionBody:function(){return d.AccordionBody},useAccordion:function(){return a.useAccordion},default:function(){return m}});var t=f(le),i=f(ii),r=Rt,o=f(At),s=Et,a=ZN,l=bx,c=tne,d=ine;function u(p,v,b){return v in p?Object.defineProperty(p,v,{value:b,enumerable:!0,configurable:!0,writable:!0}):p[v]=b,p}function h(){return h=Object.assign||function(p){for(var v=1;v<arguments.length;v++){var b=arguments[v];for(var C in b)Object.prototype.hasOwnProperty.call(b,C)&&(p[C]=b[C])}return p},h.apply(this,arguments)}function f(p){return p&&p.__esModule?p:{default:p}}function g(p,v){if(p==null)return{};var b=_(p,v),C,S;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(p);for(S=0;S<x.length;S++)C=x[S],!(v.indexOf(C)>=0)&&Object.prototype.propertyIsEnumerable.call(p,C)&&(b[C]=p[C])}return b}function _(p,v){if(p==null)return{};var b={},C=Object.keys(p),S,x;for(x=0;x<C.length;x++)S=C[x],!(v.indexOf(S)>=0)&&(b[S]=p[S]);return b}var y=t.default.forwardRef(function(p,v){var b=p.open,C=p.icon,S=p.animate,x=p.className,k=p.disabled,D=p.children,E=g(p,["open","icon","animate","className","disabled","children"]),I=(0,s.useTheme)().accordion,N=I.defaultProps,R=I.styles.base;C=C??N.icon,S=S??N.animate,k=k??N.disabled,x=(0,r.twMerge)(N.className||"",x);var O=(0,r.twMerge)((0,i.default)((0,o.default)(R.container),u({},(0,o.default)(R.disabled),k)),x),W=t.default.useMemo(function(){return{open:b,icon:C,animate:S,disabled:k}},[b,C,S,k]);return t.default.createElement(a.AccordionContextProvider,{value:W},t.default.createElement("div",h({},E,{ref:v,className:O}),D))});y.propTypes={open:l.propTypesOpen,icon:l.propTypesIcon,animate:l.propTypesAnimate,disabled:l.propTypesDisabled,className:l.propTypesClassName,children:l.propTypesChildren},y.displayName="MaterialTailwind.Accordion";var m=Object.assign(y,{Header:c.AccordionHeader,Body:d.AccordionBody})})(Iee);var xre={},or={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});function e(i,r,o){var s=i.findIndex(function(a){return a===r});return s>=0?r:o}var t=e})(or);var aP={},dy=class{constructor(){this.x=0,this.y=0,this.z=0}findFurthestPoint(e,t,i,r,o,s){return this.x=e-i>t/2?0:t,this.y=r-s>o/2?0:o,this.z=Math.hypot(this.x-(e-i),this.y-(r-s)),this.z}appyStyles(e,t,i,r,o){e.classList.add("ripple"),e.style.backgroundColor=t==="dark"?"rgba(0,0,0, 0.2)":"rgba(255,255,255, 0.3)",e.style.borderRadius="50%",e.style.pointerEvents="none",e.style.position="absolute",e.style.left=o.clientX-i.left-r+"px",e.style.top=o.clientY-i.top-r+"px",e.style.width=e.style.height=r*2+"px"}applyAnimation(e){e.animate([{transform:"scale(0)",opacity:1},{transform:"scale(1.5)",opacity:0}],{duration:500,easing:"linear"})}create(e,t){const i=e.currentTarget;i.style.position="relative",i.style.overflow="hidden";const r=i.getBoundingClientRect(),o=this.findFurthestPoint(e.clientX,i.offsetWidth,r.left,e.clientY,i.offsetHeight,r.top),s=document.createElement("span");this.appyStyles(s,t,r,o,e),this.applyAnimation(s),i.appendChild(s),setTimeout(()=>s.remove(),500)}};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(m,p){for(var v in p)Object.defineProperty(m,v,{enumerable:!0,get:p[v]})}e(n,{IconButton:function(){return _},default:function(){return y}});var t=h(le),i=h(Vt),r=h(dy),o=h(ii),s=Rt,a=h(or),l=h(At),c=Et,d=C_;function u(){return u=Object.assign||function(m){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])}return m},u.apply(this,arguments)}function h(m){return m&&m.__esModule?m:{default:m}}function f(m,p){if(m==null)return{};var v=g(m,p),b,C;if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(m);for(C=0;C<S.length;C++)b=S[C],!(p.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(m,b)&&(v[b]=m[b])}return v}function g(m,p){if(m==null)return{};var v={},b=Object.keys(m),C,S;for(S=0;S<b.length;S++)C=b[S],!(p.indexOf(C)>=0)&&(v[C]=m[C]);return v}var _=t.default.forwardRef(function(m,p){var v=m.variant,b=m.size,C=m.color,S=m.ripple,x=m.className,k=m.children;m.fullWidth;var D=f(m,["variant","size","color","ripple","className","children","fullWidth"]),E=(0,c.useTheme)().iconButton,I=E.valid,N=E.defaultProps,R=E.styles,O=R.base,W=R.variants,K=R.sizes;v=v??N.variant,b=b??N.size,C=C??N.color,S=S??N.ripple,x=(0,s.twMerge)(N.className||"",x);var Q=S!==void 0&&new r.default,Y=(0,l.default)(O),V=(0,l.default)(W[(0,a.default)(I.variants,v,"filled")][(0,a.default)(I.colors,C,"gray")]),X=(0,l.default)(K[(0,a.default)(I.sizes,b,"md")]),J=(0,s.twMerge)((0,o.default)(Y,X,V),x);return t.default.createElement("button",u({},D,{ref:p,className:J,type:D.type||"button",onMouseDown:function(te){var oe=D==null?void 0:D.onMouseDown;return S&&Q.create(te,(v==="filled"||v==="gradient")&&C!=="white"?"light":"dark"),typeof oe=="function"&&oe(te)}}),t.default.createElement("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 transform"},k))});_.propTypes={variant:i.default.oneOf(d.propTypesVariant),size:i.default.oneOf(d.propTypesSize),color:i.default.oneOf(d.propTypesColor),ripple:d.propTypesRipple,className:d.propTypesClassName,children:d.propTypesChildren},_.displayName="MaterialTailwind.IconButton";var y=_})(aP);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(v,b){for(var C in b)Object.defineProperty(v,C,{enumerable:!0,get:b[C]})}e(n,{Alert:function(){return m},default:function(){return p}});var t=g(le),i=g(Vt),r=Lo,o=g(ii),s=g(Ko),a=Rt,l=g(or),c=g(At),d=Et,u=O7,h=g(aP);function f(){return f=Object.assign||function(v){for(var b=1;b<arguments.length;b++){var C=arguments[b];for(var S in C)Object.prototype.hasOwnProperty.call(C,S)&&(v[S]=C[S])}return v},f.apply(this,arguments)}function g(v){return v&&v.__esModule?v:{default:v}}function _(v,b){if(v==null)return{};var C=y(v,b),S,x;if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(v);for(x=0;x<k.length;x++)S=k[x],!(b.indexOf(S)>=0)&&Object.prototype.propertyIsEnumerable.call(v,S)&&(C[S]=v[S])}return C}function y(v,b){if(v==null)return{};var C={},S=Object.keys(v),x,k;for(k=0;k<S.length;k++)x=S[k],!(b.indexOf(x)>=0)&&(C[x]=v[x]);return C}var m=t.default.forwardRef(function(v,b){var C=v.variant,S=v.color,x=v.icon,k=v.open,D=v.action,E=v.onClose,I=v.animate,N=v.className,R=v.children,O=_(v,["variant","color","icon","open","action","onClose","animate","className","children"]),W=(0,d.useTheme)().alert,K=W.defaultProps,Q=W.valid,Y=W.styles,V=Y.base,X=Y.variants;C=C??K.variant,S=S??K.color,I=I??K.animate,k=k??K.open,D=D??K.action,E=E??K.onClose,N=(0,a.twMerge)(K.className||"",N);var J=(0,c.default)(V.alert),te=(0,c.default)(V.action),oe=(0,c.default)(X[(0,l.default)(Q.variants,C,"filled")][(0,l.default)(Q.colors,S,"gray")]),Me=(0,a.twMerge)((0,o.default)(J,oe),N),Re=(0,o.default)(te),_e={unmount:{opacity:0},mount:{opacity:1}},Fe=(0,s.default)(_e,I),Oe=t.default.createElement("div",{className:"shrink-0"},x),De=r.AnimatePresence;return t.default.createElement(r.LazyMotion,{features:r.domAnimation},t.default.createElement(De,null,k&&t.default.createElement(r.m.div,f({},O,{ref:b,role:"alert",className:"".concat(Me," flex"),initial:"unmount",exit:"unmount",animate:k?"mount":"unmount",variants:Fe}),x&&Oe,t.default.createElement("div",{className:"".concat(x?"ml-3":""," mr-12")},R),E&&!D&&t.default.createElement(h.default,{onClick:E,size:"sm",variant:"text",color:C==="outlined"||C==="ghost"?S:"white",className:Re},t.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"h-6 w-6",strokeWidth:2},t.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))),D||null)))});m.propTypes={variant:i.default.oneOf(u.propTypesVariant),color:i.default.oneOf(u.propTypesColor),icon:u.propTypesIcon,open:u.propTypesOpen,action:u.propTypesAction,onClose:u.propTypesOnClose,animate:u.propTypesAnimate,className:u.propTypesClassName,children:u.propTypesChildren},m.displayName="MaterialTailwind.Alert";var p=m})(xre);var Lre={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(m,p){for(var v in p)Object.defineProperty(m,v,{enumerable:!0,get:p[v]})}e(n,{Avatar:function(){return _},default:function(){return y}});var t=h(le),i=h(Vt),r=h(ii),o=Rt,s=h(or),a=h(At),l=Et,c=F7;function d(m,p,v){return p in m?Object.defineProperty(m,p,{value:v,enumerable:!0,configurable:!0,writable:!0}):m[p]=v,m}function u(){return u=Object.assign||function(m){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])}return m},u.apply(this,arguments)}function h(m){return m&&m.__esModule?m:{default:m}}function f(m,p){if(m==null)return{};var v=g(m,p),b,C;if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(m);for(C=0;C<S.length;C++)b=S[C],!(p.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(m,b)&&(v[b]=m[b])}return v}function g(m,p){if(m==null)return{};var v={},b=Object.keys(m),C,S;for(S=0;S<b.length;S++)C=b[S],!(p.indexOf(C)>=0)&&(v[C]=m[C]);return v}var _=t.default.forwardRef(function(m,p){var v=m.variant,b=m.size,C=m.className,S=m.color,x=m.withBorder,k=f(m,["variant","size","className","color","withBorder"]),D=(0,l.useTheme)().avatar,E=D.valid,I=D.defaultProps,N=D.styles,R=N.base,O=N.variants,W=N.sizes,K=N.borderColor;v=v??I.variant,b=b??I.size,x=x??I.withBorder,S=S??I.color,C=(0,o.twMerge)(I.className||"",C);var Q=(0,a.default)(O[(0,s.default)(E.variants,v,"rounded")]),Y=(0,a.default)(W[(0,s.default)(E.sizes,b,"md")]),V=(0,a.default)(K[(0,s.default)(E.colors,S,"gray")]),X,J=(0,o.twMerge)((0,r.default)((0,a.default)(R.initial),Q,Y,(X={},d(X,(0,a.default)(R.withBorder),x),d(X,V,x),X)),C);return t.default.createElement("img",u({},k,{ref:p,className:J}))});_.propTypes={variant:i.default.oneOf(c.propTypesVariant),size:i.default.oneOf(c.propTypesSize),className:c.propTypesClassName,withBorder:c.propTypesWithBorder,color:i.default.oneOf(c.propTypesColor)},_.displayName="MaterialTailwind.Avatar";var y=_})(Lre);var kre={},Dre={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(l,c){for(var d in c)Object.defineProperty(l,d,{enumerable:!0,get:c[d]})}e(n,{propTypesSeparator:function(){return r},propTypesFullWidth:function(){return o},propTypesClassName:function(){return s},propTypesChildren:function(){return a}});var t=i(Vt);function i(l){return l&&l.__esModule?l:{default:l}}var r=t.default.node,o=t.default.bool,s=t.default.string,a=t.default.node.isRequired})(Dre);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(m,p){for(var v in p)Object.defineProperty(m,v,{enumerable:!0,get:p[v]})}e(n,{Breadcrumbs:function(){return _},default:function(){return y}});var t=h(le),i=d(ii),r=Rt,o=d(At),s=Et,a=Dre;function l(m,p,v){return p in m?Object.defineProperty(m,p,{value:v,enumerable:!0,configurable:!0,writable:!0}):m[p]=v,m}function c(){return c=Object.assign||function(m){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])}return m},c.apply(this,arguments)}function d(m){return m&&m.__esModule?m:{default:m}}function u(m){if(typeof WeakMap!="function")return null;var p=new WeakMap,v=new WeakMap;return(u=function(b){return b?v:p})(m)}function h(m,p){if(!p&&m&&m.__esModule)return m;if(m===null||typeof m!="object"&&typeof m!="function")return{default:m};var v=u(p);if(v&&v.has(m))return v.get(m);var b={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in m)if(S!=="default"&&Object.prototype.hasOwnProperty.call(m,S)){var x=C?Object.getOwnPropertyDescriptor(m,S):null;x&&(x.get||x.set)?Object.defineProperty(b,S,x):b[S]=m[S]}return b.default=m,v&&v.set(m,b),b}function f(m,p){if(m==null)return{};var v=g(m,p),b,C;if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(m);for(C=0;C<S.length;C++)b=S[C],!(p.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(m,b)&&(v[b]=m[b])}return v}function g(m,p){if(m==null)return{};var v={},b=Object.keys(m),C,S;for(S=0;S<b.length;S++)C=b[S],!(p.indexOf(C)>=0)&&(v[C]=m[C]);return v}var _=(0,t.forwardRef)(function(m,p){var v=m.separator,b=m.fullWidth,C=m.className,S=m.children,x=f(m,["separator","fullWidth","className","children"]),k=(0,s.useTheme)().breadcrumbs,D=k.defaultProps,E=k.styles.base;v=v??D.separator,b=b??D.fullWidth,C=(0,r.twMerge)(D.className||"",C);var I=(0,i.default)((0,o.default)(E.root.initial),l({},(0,o.default)(E.root.fullWidth),b)),N=(0,r.twMerge)((0,i.default)((0,o.default)(E.list)),C),R=(0,i.default)((0,o.default)(E.item.initial)),O=(0,i.default)((0,o.default)(E.separator));return t.default.createElement("nav",{"aria-label":"breadcrumb",className:I},t.default.createElement("ol",c({},x,{ref:p,className:N}),t.Children.map(S,function(W,K){if((0,t.isValidElement)(W)){var Q;return t.default.createElement("li",{className:(0,i.default)(R,l({},(0,o.default)(E.item.disabled),W==null||(Q=W.props)===null||Q===void 0?void 0:Q.disabled))},W,K!==t.Children.count(S)-1&&t.default.createElement("span",{className:O},v))}return null})))});_.propTypes={separator:a.propTypesSeparator,fullWidth:a.propTypesFullWidth,className:a.propTypesClassName,children:a.propTypesChildren},_.displayName="MaterialTailwind.Breadcrumbs";var y=_})(kre);var Tre={},bW={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(p,v){for(var b in v)Object.defineProperty(p,b,{enumerable:!0,get:v[b]})}e(n,{Spinner:function(){return y},default:function(){return m}});var t=u(Vt),i=f(le),r=u(ii),o=Rt,s=u(or),a=u(At),l=Et,c=Y7;function d(){return d=Object.assign||function(p){for(var v=1;v<arguments.length;v++){var b=arguments[v];for(var C in b)Object.prototype.hasOwnProperty.call(b,C)&&(p[C]=b[C])}return p},d.apply(this,arguments)}function u(p){return p&&p.__esModule?p:{default:p}}function h(p){if(typeof WeakMap!="function")return null;var v=new WeakMap,b=new WeakMap;return(h=function(C){return C?b:v})(p)}function f(p,v){if(!v&&p&&p.__esModule)return p;if(p===null||typeof p!="object"&&typeof p!="function")return{default:p};var b=h(v);if(b&&b.has(p))return b.get(p);var C={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in p)if(x!=="default"&&Object.prototype.hasOwnProperty.call(p,x)){var k=S?Object.getOwnPropertyDescriptor(p,x):null;k&&(k.get||k.set)?Object.defineProperty(C,x,k):C[x]=p[x]}return C.default=p,b&&b.set(p,C),C}function g(p,v){if(p==null)return{};var b=_(p,v),C,S;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(p);for(S=0;S<x.length;S++)C=x[S],!(v.indexOf(C)>=0)&&Object.prototype.propertyIsEnumerable.call(p,C)&&(b[C]=p[C])}return b}function _(p,v){if(p==null)return{};var b={},C=Object.keys(p),S,x;for(x=0;x<C.length;x++)S=C[x],!(v.indexOf(S)>=0)&&(b[S]=p[S]);return b}var y=(0,i.forwardRef)(function(p,v){var b=p.color,C=p.className,S=g(p,["color","className"]),x=(0,l.useTheme)().spinner,k=x.defaultProps,D=x.valid,E=x.styles,I=E.base,N=E.colors;b=b??k.color,C=(0,o.twMerge)(k.className||"",C);var R=(0,a.default)(N[(0,s.default)(D.colors,b,"gray")]),O=(0,o.twMerge)((0,r.default)((0,a.default)(I)),C),W,K;return i.default.createElement("svg",d({},S,{ref:v,className:O,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:(W=S==null?void 0:S.width)!==null&&W!==void 0?W:24,height:(K=S==null?void 0:S.height)!==null&&K!==void 0?K:24}),i.default.createElement("path",{d:"M32 3C35.8083 3 39.5794 3.75011 43.0978 5.20749C46.6163 6.66488 49.8132 8.80101 52.5061 11.4939C55.199 14.1868 57.3351 17.3837 58.7925 20.9022C60.2499 24.4206 61 28.1917 61 32C61 35.8083 60.2499 39.5794 58.7925 43.0978C57.3351 46.6163 55.199 49.8132 52.5061 52.5061C49.8132 55.199 46.6163 57.3351 43.0978 58.7925C39.5794 60.2499 35.8083 61 32 61C28.1917 61 24.4206 60.2499 20.9022 58.7925C17.3837 57.3351 14.1868 55.199 11.4939 52.5061C8.801 49.8132 6.66487 46.6163 5.20749 43.0978C3.7501 39.5794 3 35.8083 3 32C3 28.1917 3.75011 24.4206 5.2075 20.9022C6.66489 17.3837 8.80101 14.1868 11.4939 11.4939C14.1868 8.80099 17.3838 6.66487 20.9022 5.20749C24.4206 3.7501 28.1917 3 32 3L32 3Z",stroke:"currentColor",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),i.default.createElement("path",{d:"M32 3C36.5778 3 41.0906 4.08374 45.1692 6.16256C49.2477 8.24138 52.7762 11.2562 55.466 14.9605C58.1558 18.6647 59.9304 22.9531 60.6448 27.4748C61.3591 31.9965 60.9928 36.6232 59.5759 40.9762",stroke:"currentColor",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round",className:R}))});y.propTypes={color:t.default.oneOf(c.propTypesColor),className:c.propTypesClassName},y.displayName="MaterialTailwind.Spinner";var m=y})(bW);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(v,b){for(var C in b)Object.defineProperty(v,C,{enumerable:!0,get:b[C]})}e(n,{Button:function(){return m},default:function(){return p}});var t=g(le),i=g(Vt),r=g(dy),o=g(ii),s=Rt,a=g(or),l=g(At),c=Et,d=g(bW),u=C_;function h(v,b,C){return b in v?Object.defineProperty(v,b,{value:C,enumerable:!0,configurable:!0,writable:!0}):v[b]=C,v}function f(){return f=Object.assign||function(v){for(var b=1;b<arguments.length;b++){var C=arguments[b];for(var S in C)Object.prototype.hasOwnProperty.call(C,S)&&(v[S]=C[S])}return v},f.apply(this,arguments)}function g(v){return v&&v.__esModule?v:{default:v}}function _(v,b){if(v==null)return{};var C=y(v,b),S,x;if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(v);for(x=0;x<k.length;x++)S=k[x],!(b.indexOf(S)>=0)&&Object.prototype.propertyIsEnumerable.call(v,S)&&(C[S]=v[S])}return C}function y(v,b){if(v==null)return{};var C={},S=Object.keys(v),x,k;for(k=0;k<S.length;k++)x=S[k],!(b.indexOf(x)>=0)&&(C[x]=v[x]);return C}var m=t.default.forwardRef(function(v,b){var C=v.variant,S=v.size,x=v.color,k=v.fullWidth,D=v.ripple,E=v.className,I=v.children,N=v.loading,R=_(v,["variant","size","color","fullWidth","ripple","className","children","loading"]),O=(0,c.useTheme)().button,W=O.valid,K=O.defaultProps,Q=O.styles,Y=Q.base,V=Q.variants,X=Q.sizes;C=C??K.variant,S=S??K.size,x=x??K.color,k=k??K.fullWidth,D=D??K.ripple,E=(0,s.twMerge)(K.className||"",E);var J=D!==void 0&&new r.default,te=(0,l.default)(Y.initial),oe=(0,l.default)(V[(0,a.default)(W.variants,C,"filled")][(0,a.default)(W.colors,x,"gray")]),Me=(0,l.default)(X[(0,a.default)(W.sizes,S,"md")]),Re=(0,s.twMerge)((0,o.default)(te,Me,oe,h({},(0,l.default)(Y.fullWidth),k),{"flex items-center gap-2":N,"gap-3":S==="lg"}),E),_e=(0,s.twMerge)((0,o.default)({"w-4 h-4":!0,"w-5 h-5":S==="lg"})),Fe;return t.default.createElement("button",f({},R,{disabled:(Fe=R.disabled)!==null&&Fe!==void 0?Fe:N,ref:b,className:Re,type:R.type||"button",onMouseDown:function(Oe){var De=R==null?void 0:R.onMouseDown;return D&&J.create(Oe,(C==="filled"||C==="gradient")&&x!=="white"?"light":"dark"),typeof De=="function"&&De(Oe)}}),N&&t.default.createElement(d.default,{className:_e}),I)});m.propTypes={variant:i.default.oneOf(u.propTypesVariant),size:i.default.oneOf(u.propTypesSize),color:i.default.oneOf(u.propTypesColor),fullWidth:u.propTypesFullWidth,ripple:u.propTypesRipple,className:u.propTypesClassName,children:u.propTypesChildren,loading:u.propTypesLoading},m.displayName="MaterialTailwind.Button";var p=m})(Tre);var Ere={},Ire={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(m,p){for(var v in p)Object.defineProperty(m,v,{enumerable:!0,get:p[v]})}e(n,{CardHeader:function(){return _},default:function(){return y}});var t=h(le),i=h(Vt),r=h(ii),o=Rt,s=h(or),a=h(At),l=Et,c=w_;function d(m,p,v){return p in m?Object.defineProperty(m,p,{value:v,enumerable:!0,configurable:!0,writable:!0}):m[p]=v,m}function u(){return u=Object.assign||function(m){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])}return m},u.apply(this,arguments)}function h(m){return m&&m.__esModule?m:{default:m}}function f(m,p){if(m==null)return{};var v=g(m,p),b,C;if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(m);for(C=0;C<S.length;C++)b=S[C],!(p.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(m,b)&&(v[b]=m[b])}return v}function g(m,p){if(m==null)return{};var v={},b=Object.keys(m),C,S;for(S=0;S<b.length;S++)C=b[S],!(p.indexOf(C)>=0)&&(v[C]=m[C]);return v}var _=t.default.forwardRef(function(m,p){var v=m.variant,b=m.color,C=m.shadow,S=m.floated,x=m.className,k=m.children,D=f(m,["variant","color","shadow","floated","className","children"]),E=(0,l.useTheme)().cardHeader,I=E.defaultProps,N=E.styles,R=E.valid,O=N.base,W=N.variants;v=v??I.variant,b=b??I.color,C=C??I.shadow,S=S??I.floated,x=(0,o.twMerge)(I.className||"",x);var K=(0,a.default)(O.initial),Q=(0,a.default)(W[(0,s.default)(R.variants,v,"filled")][(0,s.default)(R.colors,b,"white")]),Y=(0,o.twMerge)((0,r.default)(K,Q,d({},(0,a.default)(O.shadow),C),d({},(0,a.default)(O.floated),S)),x);return t.default.createElement("div",u({},D,{ref:p,className:Y}),k)});_.propTypes={variant:i.default.oneOf(c.propTypesVariant),color:i.default.oneOf(c.propTypesColor),shadow:c.propTypesShadow,floated:c.propTypesFloated,className:c.propTypesClassName,children:c.propTypesChildren},_.displayName="MaterialTailwind.CardHeader";var y=_})(Ire);var Nre={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(g,_){for(var y in _)Object.defineProperty(g,y,{enumerable:!0,get:_[y]})}e(n,{CardBody:function(){return h},default:function(){return f}});var t=c(le),i=c(ii),r=Rt,o=c(At),s=Et,a=w_;function l(){return l=Object.assign||function(g){for(var _=1;_<arguments.length;_++){var y=arguments[_];for(var m in y)Object.prototype.hasOwnProperty.call(y,m)&&(g[m]=y[m])}return g},l.apply(this,arguments)}function c(g){return g&&g.__esModule?g:{default:g}}function d(g,_){if(g==null)return{};var y=u(g,_),m,p;if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(g);for(p=0;p<v.length;p++)m=v[p],!(_.indexOf(m)>=0)&&Object.prototype.propertyIsEnumerable.call(g,m)&&(y[m]=g[m])}return y}function u(g,_){if(g==null)return{};var y={},m=Object.keys(g),p,v;for(v=0;v<m.length;v++)p=m[v],!(_.indexOf(p)>=0)&&(y[p]=g[p]);return y}var h=t.default.forwardRef(function(g,_){var y=g.className,m=g.children,p=d(g,["className","children"]),v=(0,s.useTheme)().cardBody,b=v.defaultProps,C=v.styles.base;y=(0,r.twMerge)(b.className||"",y);var S=(0,r.twMerge)((0,i.default)((0,o.default)(C)),y);return t.default.createElement("div",l({},p,{ref:_,className:S}),m)});h.propTypes={className:a.propTypesClassName,children:a.propTypesChildren},h.displayName="MaterialTailwind.CardBody";var f=h})(Nre);var Pre={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(_,y){for(var m in y)Object.defineProperty(_,m,{enumerable:!0,get:y[m]})}e(n,{CardFooter:function(){return f},default:function(){return g}});var t=d(le),i=d(ii),r=Rt,o=d(At),s=Et,a=w_;function l(_,y,m){return y in _?Object.defineProperty(_,y,{value:m,enumerable:!0,configurable:!0,writable:!0}):_[y]=m,_}function c(){return c=Object.assign||function(_){for(var y=1;y<arguments.length;y++){var m=arguments[y];for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(_[p]=m[p])}return _},c.apply(this,arguments)}function d(_){return _&&_.__esModule?_:{default:_}}function u(_,y){if(_==null)return{};var m=h(_,y),p,v;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(_);for(v=0;v<b.length;v++)p=b[v],!(y.indexOf(p)>=0)&&Object.prototype.propertyIsEnumerable.call(_,p)&&(m[p]=_[p])}return m}function h(_,y){if(_==null)return{};var m={},p=Object.keys(_),v,b;for(b=0;b<p.length;b++)v=p[b],!(y.indexOf(v)>=0)&&(m[v]=_[v]);return m}var f=t.default.forwardRef(function(_,y){var m=_.divider,p=_.className,v=_.children,b=u(_,["divider","className","children"]),C=(0,s.useTheme)().cardFooter,S=C.defaultProps,x=C.styles.base;m=m??S.divider,p=(0,r.twMerge)(S.className||"",p);var k=(0,r.twMerge)((0,i.default)((0,o.default)(x.initial),l({},(0,o.default)(x.divider),m)),p);return t.default.createElement("div",c({},b,{ref:y,className:k}),v)});f.propTypes={divider:a.propTypesDivider,className:a.propTypesClassName,children:a.propTypesChildren},f.displayName="MaterialTailwind.CardFooter";var g=f})(Pre);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(b,C){for(var S in C)Object.defineProperty(b,S,{enumerable:!0,get:C[S]})}e(n,{Card:function(){return p},CardHeader:function(){return c.CardHeader},CardBody:function(){return d.CardBody},CardFooter:function(){return u.CardFooter},default:function(){return v}});var t=_(le),i=_(Vt),r=_(ii),o=Rt,s=_(or),a=_(At),l=Et,c=Ire,d=Nre,u=Pre,h=w_;function f(b,C,S){return C in b?Object.defineProperty(b,C,{value:S,enumerable:!0,configurable:!0,writable:!0}):b[C]=S,b}function g(){return g=Object.assign||function(b){for(var C=1;C<arguments.length;C++){var S=arguments[C];for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(b[x]=S[x])}return b},g.apply(this,arguments)}function _(b){return b&&b.__esModule?b:{default:b}}function y(b,C){if(b==null)return{};var S=m(b,C),x,k;if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(b);for(k=0;k<D.length;k++)x=D[k],!(C.indexOf(x)>=0)&&Object.prototype.propertyIsEnumerable.call(b,x)&&(S[x]=b[x])}return S}function m(b,C){if(b==null)return{};var S={},x=Object.keys(b),k,D;for(D=0;D<x.length;D++)k=x[D],!(C.indexOf(k)>=0)&&(S[k]=b[k]);return S}var p=t.default.forwardRef(function(b,C){var S=b.variant,x=b.color,k=b.shadow,D=b.className,E=b.children,I=y(b,["variant","color","shadow","className","children"]),N=(0,l.useTheme)().card,R=N.defaultProps,O=N.styles,W=N.valid,K=O.base,Q=O.variants;S=S??R.variant,x=x??R.color,k=k??R.shadow,D=(0,o.twMerge)(R.className||"",D);var Y=(0,a.default)(K.initial),V=(0,a.default)(Q[(0,s.default)(W.variants,S,"filled")][(0,s.default)(W.colors,x,"white")]),X=(0,o.twMerge)((0,r.default)(Y,V,f({},(0,a.default)(K.shadow),k)),D);return t.default.createElement("div",g({},I,{ref:C,className:X}),E)});p.propTypes={variant:i.default.oneOf(h.propTypesVariant),color:i.default.oneOf(h.propTypesColor),shadow:h.propTypesShadow,className:h.propTypesClassName,children:h.propTypesChildren},p.displayName="MaterialTailwind.Card";var v=Object.assign(p,{Header:c.CardHeader,Body:d.CardBody,Footer:u.CardFooter})})(Ere);var Mre={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(p,v){for(var b in v)Object.defineProperty(p,b,{enumerable:!0,get:v[b]})}e(n,{Checkbox:function(){return y},default:function(){return m}});var t=f(le),i=f(Vt),r=f(dy),o=f(ii),s=Rt,a=f(or),l=f(At),c=Et,d=S_;function u(p,v,b){return v in p?Object.defineProperty(p,v,{value:b,enumerable:!0,configurable:!0,writable:!0}):p[v]=b,p}function h(){return h=Object.assign||function(p){for(var v=1;v<arguments.length;v++){var b=arguments[v];for(var C in b)Object.prototype.hasOwnProperty.call(b,C)&&(p[C]=b[C])}return p},h.apply(this,arguments)}function f(p){return p&&p.__esModule?p:{default:p}}function g(p,v){if(p==null)return{};var b=_(p,v),C,S;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(p);for(S=0;S<x.length;S++)C=x[S],!(v.indexOf(C)>=0)&&Object.prototype.propertyIsEnumerable.call(p,C)&&(b[C]=p[C])}return b}function _(p,v){if(p==null)return{};var b={},C=Object.keys(p),S,x;for(x=0;x<C.length;x++)S=C[x],!(v.indexOf(S)>=0)&&(b[S]=p[S]);return b}var y=t.default.forwardRef(function(p,v){var b=p.color,C=p.label,S=p.icon,x=p.ripple,k=p.className,D=p.disabled,E=p.containerProps,I=p.labelProps,N=p.iconProps,R=p.inputRef,O=g(p,["color","label","icon","ripple","className","disabled","containerProps","labelProps","iconProps","inputRef"]),W=(0,c.useTheme)().checkbox,K=W.defaultProps,Q=W.valid,Y=W.styles,V=Y.base,X=Y.colors,J=t.default.useId();b=b??K.color,C=C??K.label,S=S??K.icon,x=x??K.ripple,D=D??K.disabled,E=E??K.containerProps,I=I??K.labelProps,N=N??K.iconProps,k=(0,s.twMerge)(K.className||"",k);var te=x!==void 0&&new r.default,oe=(0,o.default)((0,l.default)(V.root),u({},(0,l.default)(V.disabled),D)),Me=(0,s.twMerge)((0,o.default)((0,l.default)(V.container)),E==null?void 0:E.className),Re=(0,s.twMerge)((0,o.default)((0,l.default)(V.input),(0,l.default)(X[(0,a.default)(Q.colors,b,"gray")])),k),_e=(0,s.twMerge)((0,o.default)((0,l.default)(V.label)),I==null?void 0:I.className),Fe=(0,s.twMerge)((0,o.default)((0,l.default)(V.icon)),N==null?void 0:N.className);return t.default.createElement("div",{ref:v,className:oe},t.default.createElement("label",h({},E,{className:Me,htmlFor:O.id||J,onMouseDown:function(Oe){var De=E==null?void 0:E.onMouseDown;return x&&te.create(Oe,"dark"),typeof De=="function"&&De(Oe)}}),t.default.createElement("input",h({},O,{ref:R,type:"checkbox",disabled:D,className:Re,id:O.id||J})),t.default.createElement("span",{className:Fe},S||t.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor",strokeWidth:1},t.default.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})))),C&&t.default.createElement("label",h({},I,{className:_e,htmlFor:O.id||J}),C))});y.propTypes={color:i.default.oneOf(d.propTypesColor),label:d.propTypesLabel,icon:d.propTypesIcon,ripple:d.propTypesRipple,className:d.propTypesClassName,disabled:d.propTypesDisabled,containerProps:d.propTypesObject,labelProps:d.propTypesObject},y.displayName="MaterialTailwind.Checkbox";var m=y})(Mre);var Rre={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(v,b){for(var C in b)Object.defineProperty(v,C,{enumerable:!0,get:b[C]})}e(n,{Chip:function(){return m},default:function(){return p}});var t=g(le),i=g(Vt),r=Lo,o=g(ii),s=g(Ko),a=Rt,l=g(or),c=g(At),d=Et,u=U7,h=g(aP);function f(){return f=Object.assign||function(v){for(var b=1;b<arguments.length;b++){var C=arguments[b];for(var S in C)Object.prototype.hasOwnProperty.call(C,S)&&(v[S]=C[S])}return v},f.apply(this,arguments)}function g(v){return v&&v.__esModule?v:{default:v}}function _(v,b){if(v==null)return{};var C=y(v,b),S,x;if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(v);for(x=0;x<k.length;x++)S=k[x],!(b.indexOf(S)>=0)&&Object.prototype.propertyIsEnumerable.call(v,S)&&(C[S]=v[S])}return C}function y(v,b){if(v==null)return{};var C={},S=Object.keys(v),x,k;for(k=0;k<S.length;k++)x=S[k],!(b.indexOf(x)>=0)&&(C[x]=v[x]);return C}var m=t.default.forwardRef(function(v,b){var C=v.variant,S=v.size,x=v.color,k=v.icon,D=v.open,E=v.onClose,I=v.action,N=v.animate,R=v.className,O=v.value,W=_(v,["variant","size","color","icon","open","onClose","action","animate","className","value"]),K=(0,d.useTheme)().chip,Q=K.defaultProps,Y=K.valid,V=K.styles,X=V.base,J=V.variants,te=V.sizes;C=C??Q.variant,S=S??Q.size,x=x??Q.color,N=N??Q.animate,D=D??Q.open,I=I??Q.action,E=E??Q.onClose,R=(0,a.twMerge)(Q.className||"",R);var oe=(0,c.default)(X.chip),Me=(0,c.default)(X.action),Re=(0,c.default)(X.icon),_e=(0,c.default)(J[(0,l.default)(Y.variants,C,"filled")][(0,l.default)(Y.colors,x,"gray")]),Fe=(0,c.default)(te[(0,l.default)(Y.sizes,S,"md")].chip),Oe=(0,c.default)(te[(0,l.default)(Y.sizes,S,"md")].action),De=(0,c.default)(te[(0,l.default)(Y.sizes,S,"md")].icon),ze=(0,a.twMerge)((0,o.default)(oe,_e,Fe),R),ke=(0,o.default)(Me,Oe),Ze=(0,o.default)(Re,De),vt=(0,o.default)({"ml-4":k&&S==="sm","ml-[18px]":k&&S==="md","ml-5":k&&S==="lg","mr-5":E}),ot={unmount:{opacity:0},mount:{opacity:1}},ct=(0,s.default)(ot,N),st=t.default.createElement("div",{className:Ze},k),ni=r.AnimatePresence;return t.default.createElement(r.LazyMotion,{features:r.domAnimation},t.default.createElement(ni,null,D&&t.default.createElement(r.m.div,f({},W,{ref:b,className:ze,initial:"unmount",exit:"unmount",animate:D?"mount":"unmount",variants:ct}),k&&st,t.default.createElement("span",{className:vt},O),E&&!I&&t.default.createElement(h.default,{onClick:E,size:"sm",variant:"text",color:C==="outlined"||C==="ghost"?x:"white",className:ke},t.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:(0,o.default)({"h-3.5 w-3.5":S==="sm","h-4 w-4":S==="md","h-5 w-5":S==="lg"}),strokeWidth:2},t.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))),I||null)))});m.propTypes={variant:i.default.oneOf(u.propTypesVariant),size:i.default.oneOf(u.propTypesSize),color:i.default.oneOf(u.propTypesColor),icon:u.propTypesIcon,open:u.propTypesOpen,onClose:u.propTypesOnClose,action:u.propTypesAction,animate:u.propTypesAnimate,className:u.propTypesClassName,value:u.propTypesValue},m.displayName="MaterialTailwind.Chip";var p=m})(Rre);var Are={},Mwe=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},t0=new WeakMap,rk=new WeakMap,ok={},JR=0,Ore=function(n){return n&&(n.host||Ore(n.parentNode))},Rwe=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=Ore(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},Awe=function(n,e,t,i){var r=Rwe(e,Array.isArray(n)?n:[n]);ok[t]||(ok[t]=new WeakMap);var o=ok[t],s=[],a=new Set,l=new Set(r),c=function(u){!u||a.has(u)||(a.add(u),c(u.parentNode))};r.forEach(c);var d=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(h){if(a.has(h))d(h);else{var f=h.getAttribute(i),g=f!==null&&f!=="false",_=(t0.get(h)||0)+1,y=(o.get(h)||0)+1;t0.set(h,_),o.set(h,y),s.push(h),_===1&&g&&rk.set(h,!0),y===1&&h.setAttribute(t,"true"),g||h.setAttribute(i,"true")}})};return d(e),a.clear(),JR++,function(){s.forEach(function(u){var h=t0.get(u)-1,f=o.get(u)-1;t0.set(u,h),o.set(u,f),h||(rk.has(u)||u.removeAttribute(i),rk.delete(u)),f||u.removeAttribute(t)}),JR--,JR||(t0=new WeakMap,t0=new WeakMap,rk=new WeakMap,ok={})}},Owe=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),r=e||Mwe(n);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live]"))),Awe(i,r,t,"aria-hidden")):function(){return null}};/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Fwe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],y4=Fwe.join(","),Fre=typeof Element>"u",I1=Fre?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,vE=!Fre&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},bE=function n(e,t){var i;t===void 0&&(t=!0);var r=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"inert"),o=r===""||r==="true",s=o||t&&e&&n(e.parentNode);return s},Bwe=function(e){var t,i=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return i===""||i==="true"},Wwe=function(e,t,i){if(bE(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(y4));return t&&I1.call(e,y4)&&r.unshift(e),r=r.filter(i),r},Vwe=function n(e,t,i){for(var r=[],o=Array.from(e);o.length;){var s=o.shift();if(!bE(s,!1))if(s.tagName==="SLOT"){var a=s.assignedElements(),l=a.length?a:s.children,c=n(l,!0,i);i.flatten?r.push.apply(r,c):r.push({scopeParent:s,candidates:c})}else{var d=I1.call(s,y4);d&&i.filter(s)&&(t||!e.includes(s))&&r.push(s);var u=s.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(s),h=!bE(u,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(s));if(u&&h){var f=n(u===!0?s.children:u.children,!0,i);i.flatten?r.push.apply(r,f):r.push({scopeParent:s,candidates:f})}else o.unshift.apply(o,s.children)}}return r},Bre=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Wre=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Bwe(e))&&!Bre(e)?0:e.tabIndex},Hwe=function(e,t){var i=Wre(e);return i<0&&t&&!Bre(e)?0:i},zwe=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Vre=function(e){return e.tagName==="INPUT"},jwe=function(e){return Vre(e)&&e.type==="hidden"},Uwe=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(i){return i.tagName==="SUMMARY"});return t},$we=function(e,t){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===t)return e[i]},qwe=function(e){if(!e.name)return!0;var t=e.form||vE(e),i=function(a){return t.querySelectorAll('input[type="radio"][name="'+a+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=i(window.CSS.escape(e.name));else try{r=i(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var o=$we(r,e.form);return!o||o===e},Kwe=function(e){return Vre(e)&&e.type==="radio"},Gwe=function(e){return Kwe(e)&&!qwe(e)},Zwe=function(e){var t,i=e&&vE(e),r=(t=i)===null||t===void 0?void 0:t.host,o=!1;if(i&&i!==e){var s,a,l;for(o=!!((s=r)!==null&&s!==void 0&&(a=s.ownerDocument)!==null&&a!==void 0&&a.contains(r)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!o&&r;){var c,d,u;i=vE(r),r=(c=i)===null||c===void 0?void 0:c.host,o=!!((d=r)!==null&&d!==void 0&&(u=d.ownerDocument)!==null&&u!==void 0&&u.contains(r))}}return o},F$=function(e){var t=e.getBoundingClientRect(),i=t.width,r=t.height;return i===0&&r===0},Ywe=function(e,t){var i=t.displayCheck,r=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=I1.call(e,"details>summary:first-of-type"),s=o?e.parentElement:e;if(I1.call(s,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof r=="function"){for(var a=e;e;){var l=e.parentElement,c=vE(e);if(l&&!l.shadowRoot&&r(l)===!0)return F$(e);e.assignedSlot?e=e.assignedSlot:!l&&c!==e.ownerDocument?e=c.host:e=l}e=a}if(Zwe(e))return!e.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return F$(e);return!1},Xwe=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var i=0;i<t.children.length;i++){var r=t.children.item(i);if(r.tagName==="LEGEND")return I1.call(t,"fieldset[disabled] *")?!0:!r.contains(e)}return!0}t=t.parentElement}return!1},Qwe=function(e,t){return!(t.disabled||bE(t)||jwe(t)||Ywe(t,e)||Uwe(t)||Xwe(t))},B$=function(e,t){return!(Gwe(t)||Wre(t)<0||!Qwe(e,t))},Jwe=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},e1e=function n(e){var t=[],i=[];return e.forEach(function(r,o){var s=!!r.scopeParent,a=s?r.scopeParent:r,l=Hwe(a,s),c=s?n(r.candidates):a;l===0?s?t.push.apply(t,c):t.push(a):i.push({documentOrder:o,tabIndex:l,item:r,isScope:s,content:c})}),i.sort(zwe).reduce(function(r,o){return o.isScope?r.push.apply(r,o.content):r.push(o.content),r},[]).concat(t)},yE=function(e,t){t=t||{};var i;return t.getShadowRoot?i=Vwe([e],t.includeContainer,{filter:B$.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Jwe}):i=Wwe(e,t.includeContainer,B$.bind(null,t)),e1e(i)};const Hre=["top","right","bottom","left"],W$=["start","end"],V$=Hre.reduce((n,e)=>n.concat(e,e+"-"+W$[0],e+"-"+W$[1]),[]),Vc=Math.min,us=Math.max,CE=Math.round,sk=Math.floor,Dg=n=>({x:n,y:n}),t1e={left:"right",right:"left",bottom:"top",top:"bottom"},i1e={start:"end",end:"start"};function C4(n,e,t){return us(n,Vc(e,t))}function Hc(n,e){return typeof n=="function"?n(e):n}function il(n){return n.split("-")[0]}function Pc(n){return n.split("-")[1]}function yW(n){return n==="x"?"y":"x"}function CW(n){return n==="y"?"height":"width"}function L_(n){return["top","bottom"].includes(il(n))?"y":"x"}function wW(n){return yW(L_(n))}function zre(n,e,t){t===void 0&&(t=!1);const i=Pc(n),r=wW(n),o=CW(r);let s=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=SE(s)),[s,SE(s)]}function n1e(n){const e=SE(n);return[wE(n),e,wE(e)]}function wE(n){return n.replace(/start|end/g,e=>i1e[e])}function r1e(n,e,t){const i=["left","right"],r=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(n){case"top":case"bottom":return t?e?r:i:e?i:r;case"left":case"right":return e?o:s;default:return[]}}function o1e(n,e,t,i){const r=Pc(n);let o=r1e(il(n),t==="start",i);return r&&(o=o.map(s=>s+"-"+r),e&&(o=o.concat(o.map(wE)))),o}function SE(n){return n.replace(/left|right|bottom|top/g,e=>t1e[e])}function s1e(n){return{top:0,right:0,bottom:0,left:0,...n}}function SW(n){return typeof n!="number"?s1e(n):{top:n,right:n,bottom:n,left:n}}function hb(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function H$(n,e,t){let{reference:i,floating:r}=n;const o=L_(e),s=wW(e),a=CW(s),l=il(e),c=o==="y",d=i.x+i.width/2-r.width/2,u=i.y+i.height/2-r.height/2,h=i[a]/2-r[a]/2;let f;switch(l){case"top":f={x:d,y:i.y-r.height};break;case"bottom":f={x:d,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:u};break;case"left":f={x:i.x-r.width,y:u};break;default:f={x:i.x,y:i.y}}switch(Pc(e)){case"start":f[s]-=h*(t&&c?-1:1);break;case"end":f[s]+=h*(t&&c?-1:1);break}return f}const a1e=async(n,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:o=[],platform:s}=t,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:n,floating:e,strategy:r}),{x:d,y:u}=H$(c,i,l),h=i,f={},g=0;for(let _=0;_<a.length;_++){const{name:y,fn:m}=a[_],{x:p,y:v,data:b,reset:C}=await m({x:d,y:u,initialPlacement:i,placement:h,strategy:r,middlewareData:f,rects:c,platform:s,elements:{reference:n,floating:e}});d=p??d,u=v??u,f={...f,[y]:{...f[y],...b}},C&&g<=50&&(g++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(c=C.rects===!0?await s.getElementRects({reference:n,floating:e,strategy:r}):C.rects),{x:d,y:u}=H$(c,h,l)),_=-1)}return{x:d,y:u,placement:h,strategy:r,middlewareData:f}};async function Yd(n,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:o,rects:s,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:f=0}=Hc(e,n),g=SW(f),y=a[h?u==="floating"?"reference":"floating":u],m=hb(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(y)))==null||t?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),p=u==="floating"?{...s.floating,x:i,y:r}:s.reference,v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),b=await(o.isElement==null?void 0:o.isElement(v))?await(o.getScale==null?void 0:o.getScale(v))||{x:1,y:1}:{x:1,y:1},C=hb(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:p,offsetParent:v,strategy:l}):p);return{top:(m.top-C.top+g.top)/b.y,bottom:(C.bottom-m.bottom+g.bottom)/b.y,left:(m.left-C.left+g.left)/b.x,right:(C.right-m.right+g.right)/b.x}}const l1e=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:r,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Hc(n,e)||{};if(c==null)return{};const u=SW(d),h={x:t,y:i},f=wW(r),g=CW(f),_=await s.getDimensions(c),y=f==="y",m=y?"top":"left",p=y?"bottom":"right",v=y?"clientHeight":"clientWidth",b=o.reference[g]+o.reference[f]-h[f]-o.floating[g],C=h[f]-o.reference[f],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let x=S?S[v]:0;(!x||!await(s.isElement==null?void 0:s.isElement(S)))&&(x=a.floating[v]||o.floating[g]);const k=b/2-C/2,D=x/2-_[g]/2-1,E=Vc(u[m],D),I=Vc(u[p],D),N=E,R=x-_[g]-I,O=x/2-_[g]/2+k,W=C4(N,O,R),K=!l.arrow&&Pc(r)!=null&&O!==W&&o.reference[g]/2-(O<N?E:I)-_[g]/2<0,Q=K?O<N?O-N:O-R:0;return{[f]:h[f]+Q,data:{[f]:W,centerOffset:O-W-Q,...K&&{alignmentOffset:Q}},reset:K}}});function c1e(n,e,t){return(n?[...t.filter(r=>Pc(r)===n),...t.filter(r=>Pc(r)!==n)]:t.filter(r=>il(r)===r)).filter(r=>n?Pc(r)===n||(e?wE(r)!==r:!1):!0)}const d1e=function(n){return n===void 0&&(n={}),{name:"autoPlacement",options:n,async fn(e){var t,i,r;const{rects:o,middlewareData:s,placement:a,platform:l,elements:c}=e,{crossAxis:d=!1,alignment:u,allowedPlacements:h=V$,autoAlignment:f=!0,...g}=Hc(n,e),_=u!==void 0||h===V$?c1e(u||null,f,h):h,y=await Yd(e,g),m=((t=s.autoPlacement)==null?void 0:t.index)||0,p=_[m];if(p==null)return{};const v=zre(p,o,await(l.isRTL==null?void 0:l.isRTL(c.floating)));if(a!==p)return{reset:{placement:_[0]}};const b=[y[il(p)],y[v[0]],y[v[1]]],C=[...((i=s.autoPlacement)==null?void 0:i.overflows)||[],{placement:p,overflows:b}],S=_[m+1];if(S)return{data:{index:m+1,overflows:C},reset:{placement:S}};const x=C.map(E=>{const I=Pc(E.placement);return[E.placement,I&&d?E.overflows.slice(0,2).reduce((N,R)=>N+R,0):E.overflows[0],E.overflows]}).sort((E,I)=>E[1]-I[1]),D=((r=x.filter(E=>E[2].slice(0,Pc(E[0])?2:3).every(I=>I<=0))[0])==null?void 0:r[0])||x[0][0];return D!==a?{data:{index:m+1,overflows:C},reset:{placement:D}}:{}}}},u1e=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:r,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:_=!0,...y}=Hc(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const m=il(r),p=il(a)===a,v=await(l.isRTL==null?void 0:l.isRTL(c.floating)),b=h||(p||!_?[SE(a)]:n1e(a));!h&&g!=="none"&&b.push(...o1e(a,_,g,v));const C=[a,...b],S=await Yd(e,y),x=[];let k=((i=o.flip)==null?void 0:i.overflows)||[];if(d&&x.push(S[m]),u){const N=zre(r,s,v);x.push(S[N[0]],S[N[1]])}if(k=[...k,{placement:r,overflows:x}],!x.every(N=>N<=0)){var D,E;const N=(((D=o.flip)==null?void 0:D.index)||0)+1,R=C[N];if(R)return{data:{index:N,overflows:k},reset:{placement:R}};let O=(E=k.filter(W=>W.overflows[0]<=0).sort((W,K)=>W.overflows[1]-K.overflows[1])[0])==null?void 0:E.placement;if(!O)switch(f){case"bestFit":{var I;const W=(I=k.map(K=>[K.placement,K.overflows.filter(Q=>Q>0).reduce((Q,Y)=>Q+Y,0)]).sort((K,Q)=>K[1]-Q[1])[0])==null?void 0:I[0];W&&(O=W);break}case"initialPlacement":O=a;break}if(r!==O)return{reset:{placement:O}}}return{}}}};function z$(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function j$(n){return Hre.some(e=>n[e]>=0)}const h1e=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...r}=Hc(n,e);switch(i){case"referenceHidden":{const o=await Yd(e,{...r,elementContext:"reference"}),s=z$(o,t.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:j$(s)}}}case"escaped":{const o=await Yd(e,{...r,altBoundary:!0}),s=z$(o,t.floating);return{data:{escapedOffsets:s,escaped:j$(s)}}}default:return{}}}}};function jre(n){const e=Vc(...n.map(o=>o.left)),t=Vc(...n.map(o=>o.top)),i=us(...n.map(o=>o.right)),r=us(...n.map(o=>o.bottom));return{x:e,y:t,width:i-e,height:r-t}}function f1e(n){const e=n.slice().sort((r,o)=>r.y-o.y),t=[];let i=null;for(let r=0;r<e.length;r++){const o=e[r];!i||o.y-i.y>i.height/2?t.push([o]):t[t.length-1].push(o),i=o}return t.map(r=>hb(jre(r)))}const g1e=function(n){return n===void 0&&(n={}),{name:"inline",options:n,async fn(e){const{placement:t,elements:i,rects:r,platform:o,strategy:s}=e,{padding:a=2,x:l,y:c}=Hc(n,e),d=Array.from(await(o.getClientRects==null?void 0:o.getClientRects(i.reference))||[]),u=f1e(d),h=hb(jre(d)),f=SW(a);function g(){if(u.length===2&&u[0].left>u[1].right&&l!=null&&c!=null)return u.find(y=>l>y.left-f.left&&l<y.right+f.right&&c>y.top-f.top&&c<y.bottom+f.bottom)||h;if(u.length>=2){if(L_(t)==="y"){const E=u[0],I=u[u.length-1],N=il(t)==="top",R=E.top,O=I.bottom,W=N?E.left:I.left,K=N?E.right:I.right,Q=K-W,Y=O-R;return{top:R,bottom:O,left:W,right:K,width:Q,height:Y,x:W,y:R}}const y=il(t)==="left",m=us(...u.map(E=>E.right)),p=Vc(...u.map(E=>E.left)),v=u.filter(E=>y?E.left===p:E.right===m),b=v[0].top,C=v[v.length-1].bottom,S=p,x=m,k=x-S,D=C-b;return{top:b,bottom:C,left:S,right:x,width:k,height:D,x:S,y:b}}return h}const _=await o.getElementRects({reference:{getBoundingClientRect:g},floating:i.floating,strategy:s});return r.reference.x!==_.reference.x||r.reference.y!==_.reference.y||r.reference.width!==_.reference.width||r.reference.height!==_.reference.height?{reset:{rects:_}}:{}}}};async function p1e(n,e){const{placement:t,platform:i,elements:r}=n,o=await(i.isRTL==null?void 0:i.isRTL(r.floating)),s=il(t),a=Pc(t),l=L_(t)==="y",c=["left","top"].includes(s)?-1:1,d=o&&l?-1:1,u=Hc(e,n);let{mainAxis:h,crossAxis:f,alignmentAxis:g}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return a&&typeof g=="number"&&(f=a==="end"?g*-1:g),l?{x:f*d,y:h*c}:{x:h*c,y:f*d}}const Ure=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:r,y:o,placement:s,middlewareData:a}=e,l=await p1e(e,n);return s===((t=a.offset)==null?void 0:t.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:o+l.y,data:{...l,placement:s}}}}},m1e=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:r}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:y=>{let{x:m,y:p}=y;return{x:m,y:p}}},...l}=Hc(n,e),c={x:t,y:i},d=await Yd(e,l),u=L_(il(r)),h=yW(u);let f=c[h],g=c[u];if(o){const y=h==="y"?"top":"left",m=h==="y"?"bottom":"right",p=f+d[y],v=f-d[m];f=C4(p,f,v)}if(s){const y=u==="y"?"top":"left",m=u==="y"?"bottom":"right",p=g+d[y],v=g-d[m];g=C4(p,g,v)}const _=a.fn({...e,[h]:f,[u]:g});return{..._,data:{x:_.x-t,y:_.y-i}}}}},_1e=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:r,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Hc(n,e),d={x:t,y:i},u=L_(r),h=yW(u);let f=d[h],g=d[u];const _=Hc(a,e),y=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const v=h==="y"?"height":"width",b=o.reference[h]-o.floating[v]+y.mainAxis,C=o.reference[h]+o.reference[v]-y.mainAxis;f<b?f=b:f>C&&(f=C)}if(c){var m,p;const v=h==="y"?"width":"height",b=["top","left"].includes(il(r)),C=o.reference[u]-o.floating[v]+(b&&((m=s.offset)==null?void 0:m[u])||0)+(b?0:y.crossAxis),S=o.reference[u]+o.reference[v]+(b?0:((p=s.offset)==null?void 0:p[u])||0)-(b?y.crossAxis:0);g<C?g=C:g>S&&(g=S)}return{[h]:f,[u]:g}}}},v1e=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){const{placement:t,rects:i,platform:r,elements:o}=e,{apply:s=()=>{},...a}=Hc(n,e),l=await Yd(e,a),c=il(t),d=Pc(t),u=L_(t)==="y",{width:h,height:f}=i.floating;let g,_;c==="top"||c==="bottom"?(g=c,_=d===(await(r.isRTL==null?void 0:r.isRTL(o.floating))?"start":"end")?"left":"right"):(_=c,g=d==="end"?"top":"bottom");const y=f-l[g],m=h-l[_],p=!e.middlewareData.shift;let v=y,b=m;if(u){const S=h-l.left-l.right;b=d||p?Vc(m,S):S}else{const S=f-l.top-l.bottom;v=d||p?Vc(y,S):S}if(p&&!d){const S=us(l.left,0),x=us(l.right,0),k=us(l.top,0),D=us(l.bottom,0);u?b=h-2*(S!==0||x!==0?S+x:us(l.left,l.right)):v=f-2*(k!==0||D!==0?k+D:us(l.top,l.bottom))}await s({...e,availableWidth:b,availableHeight:v});const C=await r.getDimensions(o.floating);return h!==C.width||f!==C.height?{reset:{rects:!0}}:{}}}};function Tg(n){return $re(n)?(n.nodeName||"").toLowerCase():"#document"}function Ya(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Oh(n){var e;return(e=($re(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function $re(n){return n instanceof Node||n instanceof Ya(n).Node}function kh(n){return n instanceof Element||n instanceof Ya(n).Element}function ru(n){return n instanceof HTMLElement||n instanceof Ya(n).HTMLElement}function U$(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ya(n).ShadowRoot}function Lx(n){const{overflow:e,overflowX:t,overflowY:i,display:r}=jl(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(r)}function b1e(n){return["table","td","th"].includes(Tg(n))}function xW(n){const e=LW(),t=jl(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function y1e(n){let e=fb(n);for(;ru(e)&&!lP(e);){if(xW(e))return e;e=fb(e)}return null}function LW(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function lP(n){return["html","body","#document"].includes(Tg(n))}function jl(n){return Ya(n).getComputedStyle(n)}function cP(n){return kh(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function fb(n){if(Tg(n)==="html")return n;const e=n.assignedSlot||n.parentNode||U$(n)&&n.host||Oh(n);return U$(e)?e.host:e}function qre(n){const e=fb(n);return lP(e)?n.ownerDocument?n.ownerDocument.body:n.body:ru(e)&&Lx(e)?e:qre(e)}function dh(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=qre(n),o=r===((i=n.ownerDocument)==null?void 0:i.body),s=Ya(r);return o?e.concat(s,s.visualViewport||[],Lx(r)?r:[],s.frameElement&&t?dh(s.frameElement):[]):e.concat(r,dh(r,[],t))}function Kre(n){const e=jl(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=ru(n),o=r?n.offsetWidth:t,s=r?n.offsetHeight:i,a=CE(t)!==o||CE(i)!==s;return a&&(t=o,i=s),{width:t,height:i,$:a}}function kW(n){return kh(n)?n:n.contextElement}function Lv(n){const e=kW(n);if(!ru(e))return Dg(1);const t=e.getBoundingClientRect(),{width:i,height:r,$:o}=Kre(e);let s=(o?CE(t.width):t.width)/i,a=(o?CE(t.height):t.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const C1e=Dg(0);function Gre(n){const e=Ya(n);return!LW()||!e.visualViewport?C1e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function w1e(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ya(n)?!1:e}function Fm(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),o=kW(n);let s=Dg(1);e&&(i?kh(i)&&(s=Lv(i)):s=Lv(n));const a=w1e(o,t,i)?Gre(o):Dg(0);let l=(r.left+a.x)/s.x,c=(r.top+a.y)/s.y,d=r.width/s.x,u=r.height/s.y;if(o){const h=Ya(o),f=i&&kh(i)?Ya(i):i;let g=h,_=g.frameElement;for(;_&&i&&f!==g;){const y=Lv(_),m=_.getBoundingClientRect(),p=jl(_),v=m.left+(_.clientLeft+parseFloat(p.paddingLeft))*y.x,b=m.top+(_.clientTop+parseFloat(p.paddingTop))*y.y;l*=y.x,c*=y.y,d*=y.x,u*=y.y,l+=v,c+=b,g=Ya(_),_=g.frameElement}}return hb({width:d,height:u,x:l,y:c})}const S1e=[":popover-open",":modal"];function Zre(n){return S1e.some(e=>{try{return n.matches(e)}catch{return!1}})}function x1e(n){let{elements:e,rect:t,offsetParent:i,strategy:r}=n;const o=r==="fixed",s=Oh(i),a=e?Zre(e.floating):!1;if(i===s||a&&o)return t;let l={scrollLeft:0,scrollTop:0},c=Dg(1);const d=Dg(0),u=ru(i);if((u||!u&&!o)&&((Tg(i)!=="body"||Lx(s))&&(l=cP(i)),ru(i))){const h=Fm(i);c=Lv(i),d.x=h.x+i.clientLeft,d.y=h.y+i.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+d.x,y:t.y*c.y-l.scrollTop*c.y+d.y}}function L1e(n){return Array.from(n.getClientRects())}function Yre(n){return Fm(Oh(n)).left+cP(n).scrollLeft}function k1e(n){const e=Oh(n),t=cP(n),i=n.ownerDocument.body,r=us(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),o=us(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let s=-t.scrollLeft+Yre(n);const a=-t.scrollTop;return jl(i).direction==="rtl"&&(s+=us(e.clientWidth,i.clientWidth)-r),{width:r,height:o,x:s,y:a}}function D1e(n,e){const t=Ya(n),i=Oh(n),r=t.visualViewport;let o=i.clientWidth,s=i.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;const c=LW();(!c||c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a,y:l}}function T1e(n,e){const t=Fm(n,!0,e==="fixed"),i=t.top+n.clientTop,r=t.left+n.clientLeft,o=ru(n)?Lv(n):Dg(1),s=n.clientWidth*o.x,a=n.clientHeight*o.y,l=r*o.x,c=i*o.y;return{width:s,height:a,x:l,y:c}}function $$(n,e,t){let i;if(e==="viewport")i=D1e(n,t);else if(e==="document")i=k1e(Oh(n));else if(kh(e))i=T1e(e,t);else{const r=Gre(n);i={...e,x:e.x-r.x,y:e.y-r.y}}return hb(i)}function Xre(n,e){const t=fb(n);return t===e||!kh(t)||lP(t)?!1:jl(t).position==="fixed"||Xre(t,e)}function E1e(n,e){const t=e.get(n);if(t)return t;let i=dh(n,[],!1).filter(a=>kh(a)&&Tg(a)!=="body"),r=null;const o=jl(n).position==="fixed";let s=o?fb(n):n;for(;kh(s)&&!lP(s);){const a=jl(s),l=xW(s);!l&&a.position==="fixed"&&(r=null),(o?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Lx(s)&&!l&&Xre(n,s))?i=i.filter(d=>d!==s):r=a,s=fb(s)}return e.set(n,i),i}function I1e(n){let{element:e,boundary:t,rootBoundary:i,strategy:r}=n;const s=[...t==="clippingAncestors"?E1e(e,this._c):[].concat(t),i],a=s[0],l=s.reduce((c,d)=>{const u=$$(e,d,r);return c.top=us(u.top,c.top),c.right=Vc(u.right,c.right),c.bottom=Vc(u.bottom,c.bottom),c.left=us(u.left,c.left),c},$$(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function N1e(n){const{width:e,height:t}=Kre(n);return{width:e,height:t}}function P1e(n,e,t){const i=ru(e),r=Oh(e),o=t==="fixed",s=Fm(n,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Dg(0);if(i||!i&&!o)if((Tg(e)!=="body"||Lx(r))&&(a=cP(e)),i){const u=Fm(e,!0,o,e);l.x=u.x+e.clientLeft,l.y=u.y+e.clientTop}else r&&(l.x=Yre(r));const c=s.left+a.scrollLeft-l.x,d=s.top+a.scrollTop-l.y;return{x:c,y:d,width:s.width,height:s.height}}function q$(n,e){return!ru(n)||jl(n).position==="fixed"?null:e?e(n):n.offsetParent}function Qre(n,e){const t=Ya(n);if(!ru(n)||Zre(n))return t;let i=q$(n,e);for(;i&&b1e(i)&&jl(i).position==="static";)i=q$(i,e);return i&&(Tg(i)==="html"||Tg(i)==="body"&&jl(i).position==="static"&&!xW(i))?t:i||y1e(n)||t}const M1e=async function(n){const e=this.getOffsetParent||Qre,t=this.getDimensions;return{reference:P1e(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,...await t(n.floating)}}};function R1e(n){return jl(n).direction==="rtl"}const Jre={convertOffsetParentRelativeRectToViewportRelativeRect:x1e,getDocumentElement:Oh,getClippingRect:I1e,getOffsetParent:Qre,getElementRects:M1e,getClientRects:L1e,getDimensions:N1e,getScale:Lv,isElement:kh,isRTL:R1e};function A1e(n,e){let t=null,i;const r=Oh(n);function o(){var a;clearTimeout(i),(a=t)==null||a.disconnect(),t=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:d,width:u,height:h}=n.getBoundingClientRect();if(a||e(),!u||!h)return;const f=sk(d),g=sk(r.clientWidth-(c+u)),_=sk(r.clientHeight-(d+h)),y=sk(c),p={rootMargin:-f+"px "+-g+"px "+-_+"px "+-y+"px",threshold:us(0,Vc(1,l))||1};let v=!0;function b(C){const S=C[0].intersectionRatio;if(S!==l){if(!v)return s();S?s(!1,S):i=setTimeout(()=>{s(!1,1e-7)},100)}v=!1}try{t=new IntersectionObserver(b,{...p,root:r.ownerDocument})}catch{t=new IntersectionObserver(b,p)}t.observe(n)}return s(!0),o}function O1e(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=kW(n),d=r||o?[...c?dh(c):[],...dh(e)]:[];d.forEach(m=>{r&&m.addEventListener("scroll",t,{passive:!0}),o&&m.addEventListener("resize",t)});const u=c&&a?A1e(c,t):null;let h=-1,f=null;s&&(f=new ResizeObserver(m=>{let[p]=m;p&&p.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=f)==null||v.observe(e)})),t()}),c&&!l&&f.observe(c),f.observe(e));let g,_=l?Fm(n):null;l&&y();function y(){const m=Fm(n);_&&(m.x!==_.x||m.y!==_.y||m.width!==_.width||m.height!==_.height)&&t(),_=m,g=requestAnimationFrame(y)}return t(),()=>{var m;d.forEach(p=>{r&&p.removeEventListener("scroll",t),o&&p.removeEventListener("resize",t)}),u==null||u(),(m=f)==null||m.disconnect(),f=null,l&&cancelAnimationFrame(g)}}const F1e=d1e,B1e=m1e,W1e=u1e,V1e=v1e,H1e=h1e,K$=l1e,z1e=g1e,j1e=_1e,eoe=(n,e,t)=>{const i=new Map,r={platform:Jre,...t},o={...r.platform,_c:i};return a1e(n,e,{...r,platform:o})},U1e=n=>{const{element:e,padding:t}=n;function i(r){return Object.prototype.hasOwnProperty.call(r,"current")}return{name:"arrow",options:n,fn(r){return i(e)?e.current!=null?K$({element:e.current,padding:t}).fn(r):{}:e?K$({element:e,padding:t}).fn(r):{}}}};var YD=typeof document<"u"?le.useLayoutEffect:le.useEffect;function xE(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(i=t;i--!==0;)if(!xE(n[i],e[i]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[i]))return!1;for(i=t;i--!==0;){const o=r[i];if(!(o==="_owner"&&n.$$typeof)&&!xE(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function G$(n){const e=le.useRef(n);return YD(()=>{e.current=n}),e}function $1e(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:r,whileElementsMounted:o,open:s}=n,[a,l]=le.useState({x:null,y:null,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[c,d]=le.useState(i);xE(c,i)||d(i);const u=le.useRef(null),h=le.useRef(null),f=le.useRef(a),g=G$(o),_=G$(r),[y,m]=le.useState(null),[p,v]=le.useState(null),b=le.useCallback(E=>{u.current!==E&&(u.current=E,m(E))},[]),C=le.useCallback(E=>{h.current!==E&&(h.current=E,v(E))},[]),S=le.useCallback(()=>{if(!u.current||!h.current)return;const E={placement:e,strategy:t,middleware:c};_.current&&(E.platform=_.current),eoe(u.current,h.current,E).then(I=>{const N={...I,isPositioned:!0};x.current&&!xE(f.current,N)&&(f.current=N,xh.flushSync(()=>{l(N)}))})},[c,e,t,_]);YD(()=>{s===!1&&f.current.isPositioned&&(f.current.isPositioned=!1,l(E=>({...E,isPositioned:!1})))},[s]);const x=le.useRef(!1);YD(()=>(x.current=!0,()=>{x.current=!1}),[]),YD(()=>{if(y&&p){if(g.current)return g.current(y,p,S);S()}},[y,p,S,g]);const k=le.useMemo(()=>({reference:u,floating:h,setReference:b,setFloating:C}),[b,C]),D=le.useMemo(()=>({reference:y,floating:p}),[y,p]);return le.useMemo(()=>({...a,update:S,refs:k,elements:D,reference:b,floating:C}),[a,S,k,D,b,C])}var dr=typeof document<"u"?le.useLayoutEffect:le.useEffect;let eA=!1,q1e=0;const Z$=()=>"floating-ui-"+q1e++;function K1e(){const[n,e]=le.useState(()=>eA?Z$():void 0);return dr(()=>{n==null&&e(Z$())},[]),le.useEffect(()=>{eA||(eA=!0)},[]),n}const G1e=LQ.useId,N1=G1e||K1e;function toe(){const n=new Map;return{emit(e,t){var i;(i=n.get(e))==null||i.forEach(r=>r(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){n.set(e,(n.get(e)||[]).filter(i=>i!==t))}}}const ioe=le.createContext(null),noe=le.createContext(null),uy=()=>{var n;return((n=le.useContext(ioe))==null?void 0:n.id)||null},k_=()=>le.useContext(noe),Z1e=n=>{const e=N1(),t=k_(),i=uy(),r=n||i;return dr(()=>{const o={id:e,parentId:r};return t==null||t.addNode(o),()=>{t==null||t.removeNode(o)}},[t,e,r]),e},Y1e=n=>{let{children:e,id:t}=n;const i=uy();return le.createElement(ioe.Provider,{value:le.useMemo(()=>({id:t,parentId:i}),[t,i])},e)},X1e=n=>{let{children:e}=n;const t=le.useRef([]),i=le.useCallback(s=>{t.current=[...t.current,s]},[]),r=le.useCallback(s=>{t.current=t.current.filter(a=>a!==s)},[]),o=le.useState(()=>toe())[0];return le.createElement(noe.Provider,{value:le.useMemo(()=>({nodesRef:t,addNode:i,removeNode:r,events:o}),[t,i,r,o])},e)};function pa(n){return(n==null?void 0:n.ownerDocument)||document}function DW(){const n=navigator.userAgentData;return n!=null&&n.platform?n.platform:navigator.platform}function roe(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(e=>{let{brand:t,version:i}=e;return t+"/"+i}).join(" "):navigator.userAgent}function TW(n){return pa(n).defaultView||window}function Il(n){return n?n instanceof TW(n).Element:!1}function Bm(n){return n?n instanceof TW(n).HTMLElement:!1}function Q1e(n){if(typeof ShadowRoot>"u")return!1;const e=TW(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function ooe(n){if(n.mozInputSource===0&&n.isTrusted)return!0;const e=/Android/i;return(e.test(DW())||e.test(roe()))&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}function soe(n){return n.width===0&&n.height===0||n.width===1&&n.height===1&&n.pressure===0&&n.detail===0&&n.pointerType!=="mouse"||n.width<1&&n.height<1&&n.pressure===0&&n.detail===0}function w4(){return/apple/i.test(navigator.vendor)}function aoe(){return DW().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function LE(n,e){const t=["mouse","pen"];return e||t.push("",void 0),t.includes(n)}function Nl(n){const e=le.useRef(n);return dr(()=>{e.current=n}),e}const Y$="data-floating-ui-safe-polygon";function XD(n,e,t){return t&&!LE(t)?0:typeof n=="number"?n:n==null?void 0:n[e]}const J1e=function(n,e){let{enabled:t=!0,delay:i=0,handleClose:r=null,mouseOnly:o=!1,restMs:s=0,move:a=!0}=e===void 0?{}:e;const{open:l,onOpenChange:c,dataRef:d,events:u,elements:{domReference:h,floating:f},refs:g}=n,_=k_(),y=uy(),m=Nl(r),p=Nl(i),v=le.useRef(),b=le.useRef(),C=le.useRef(),S=le.useRef(),x=le.useRef(!0),k=le.useRef(!1),D=le.useRef(()=>{}),E=le.useCallback(()=>{var O;const W=(O=d.current.openEvent)==null?void 0:O.type;return(W==null?void 0:W.includes("mouse"))&&W!=="mousedown"},[d]);le.useEffect(()=>{if(!t)return;function O(){clearTimeout(b.current),clearTimeout(S.current),x.current=!0}return u.on("dismiss",O),()=>{u.off("dismiss",O)}},[t,u]),le.useEffect(()=>{if(!t||!m.current||!l)return;function O(){E()&&c(!1)}const W=pa(f).documentElement;return W.addEventListener("mouseleave",O),()=>{W.removeEventListener("mouseleave",O)}},[f,l,c,t,m,d,E]);const I=le.useCallback(function(O){O===void 0&&(O=!0);const W=XD(p.current,"close",v.current);W&&!C.current?(clearTimeout(b.current),b.current=setTimeout(()=>c(!1),W)):O&&(clearTimeout(b.current),c(!1))},[p,c]),N=le.useCallback(()=>{D.current(),C.current=void 0},[]),R=le.useCallback(()=>{if(k.current){const O=pa(g.floating.current).body;O.style.pointerEvents="",O.removeAttribute(Y$),k.current=!1}},[g]);return le.useEffect(()=>{if(!t)return;function O(){return d.current.openEvent?["click","mousedown"].includes(d.current.openEvent.type):!1}function W(Y){if(clearTimeout(b.current),x.current=!1,o&&!LE(v.current)||s>0&&XD(p.current,"open")===0)return;d.current.openEvent=Y;const V=XD(p.current,"open",v.current);V?b.current=setTimeout(()=>{c(!0)},V):c(!0)}function K(Y){if(O())return;D.current();const V=pa(f);if(clearTimeout(S.current),m.current){clearTimeout(b.current),C.current=m.current({...n,tree:_,x:Y.clientX,y:Y.clientY,onClose(){R(),N(),I()}});const X=C.current;V.addEventListener("mousemove",X),D.current=()=>{V.removeEventListener("mousemove",X)};return}I()}function Q(Y){O()||m.current==null||m.current({...n,tree:_,x:Y.clientX,y:Y.clientY,onClose(){N(),I()}})(Y)}if(Il(h)){const Y=h;return l&&Y.addEventListener("mouseleave",Q),f==null||f.addEventListener("mouseleave",Q),a&&Y.addEventListener("mousemove",W,{once:!0}),Y.addEventListener("mouseenter",W),Y.addEventListener("mouseleave",K),()=>{l&&Y.removeEventListener("mouseleave",Q),f==null||f.removeEventListener("mouseleave",Q),a&&Y.removeEventListener("mousemove",W),Y.removeEventListener("mouseenter",W),Y.removeEventListener("mouseleave",K)}}},[h,f,t,n,o,s,a,I,N,R,c,l,_,p,m,d]),dr(()=>{var O;if(t&&l&&(O=m.current)!=null&&O.__options.blockPointerEvents&&E()){const Q=pa(f).body;if(Q.setAttribute(Y$,""),Q.style.pointerEvents="none",k.current=!0,Il(h)&&f){var W,K;const Y=h,V=_==null||(W=_.nodesRef.current.find(X=>X.id===y))==null||(K=W.context)==null?void 0:K.elements.floating;return V&&(V.style.pointerEvents=""),Y.style.pointerEvents="auto",f.style.pointerEvents="auto",()=>{Y.style.pointerEvents="",f.style.pointerEvents=""}}}},[t,l,y,f,h,_,m,d,E]),dr(()=>{l||(v.current=void 0,N(),R())},[l,N,R]),le.useEffect(()=>()=>{N(),clearTimeout(b.current),clearTimeout(S.current),R()},[t,N,R]),le.useMemo(()=>{if(!t)return{};function O(W){v.current=W.pointerType}return{reference:{onPointerDown:O,onPointerEnter:O,onMouseMove(){l||s===0||(clearTimeout(S.current),S.current=setTimeout(()=>{x.current||c(!0)},s))}},floating:{onMouseEnter(){clearTimeout(b.current)},onMouseLeave(){u.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),I(!1)}}}},[u,t,s,l,c,I])},loe=le.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:!1}),coe=()=>le.useContext(loe),eSe=n=>{let{children:e,delay:t,timeoutMs:i=0}=n;const[r,o]=le.useReducer((l,c)=>({...l,...c}),{delay:t,timeoutMs:i,initialDelay:t,currentId:null,isInstantPhase:!1}),s=le.useRef(null),a=le.useCallback(l=>{o({currentId:l})},[]);return dr(()=>{r.currentId?s.current===null?s.current=r.currentId:o({isInstantPhase:!0}):(o({isInstantPhase:!1}),s.current=null)},[r.currentId]),le.createElement(loe.Provider,{value:le.useMemo(()=>({...r,setState:o,setCurrentId:a}),[r,o,a])},e)},tSe=(n,e)=>{let{open:t,onOpenChange:i}=n,{id:r}=e;const{currentId:o,setCurrentId:s,initialDelay:a,setState:l,timeoutMs:c}=coe();le.useEffect(()=>{o&&(l({delay:{open:1,close:XD(a,"close")}}),o!==r&&i(!1))},[r,i,l,o,a]),le.useEffect(()=>{function d(){i(!1),l({delay:a,currentId:null})}if(!t&&o===r)if(c){const u=window.setTimeout(d,c);return()=>{clearTimeout(u)}}else d()},[t,l,o,r,i,a,c]),le.useEffect(()=>{t&&s(r)},[t,s,r])};function P1(){return P1=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},P1.apply(this,arguments)}function Wm(n){let e=n.activeElement;for(;((t=e)==null||(i=t.shadowRoot)==null?void 0:i.activeElement)!=null;){var t,i;e=e.shadowRoot.activeElement}return e}function oa(n,e){if(!n||!e)return!1;const t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Q1e(t)){let i=e;do{if(i&&n===i)return!0;i=i.parentNode||i.host}while(i)}return!1}let X$=0;function uf(n,e){e===void 0&&(e={});const{preventScroll:t=!1,cancelPrevious:i=!0,sync:r=!1}=e;i&&cancelAnimationFrame(X$);const o=()=>n==null?void 0:n.focus({preventScroll:t});r?o():X$=requestAnimationFrame(o)}function iSe(n,e){var t;let i=[],r=(t=n.find(o=>o.id===e))==null?void 0:t.parentId;for(;r;){const o=n.find(s=>s.id===r);r=o==null?void 0:o.parentId,o&&(i=i.concat(o))}return i}function kw(n,e){let t=n.filter(r=>{var o;return r.parentId===e&&((o=r.context)==null?void 0:o.open)})||[],i=t;for(;i.length;)i=n.filter(r=>{var o;return(o=i)==null?void 0:o.some(s=>{var a;return r.parentId===s.id&&((a=r.context)==null?void 0:a.open)})})||[],t=t.concat(i);return t}function dP(n){return"composedPath"in n?n.composedPath()[0]:n.target}const nSe="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function doe(n){return Bm(n)&&n.matches(nSe)}function Sl(n){n.preventDefault(),n.stopPropagation()}const kE=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function uoe(n,e){const t=yE(n,kE());e==="prev"&&t.reverse();const i=t.indexOf(Wm(pa(n)));return t.slice(i+1)[0]}function hoe(){return uoe(document.body,"next")}function foe(){return uoe(document.body,"prev")}function Dw(n,e){const t=e||n.currentTarget,i=n.relatedTarget;return!i||!oa(t,i)}function rSe(n){yE(n,kE()).forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")})}function oSe(n){n.querySelectorAll("[data-tabindex]").forEach(t=>{const i=t.dataset.tabindex;delete t.dataset.tabindex,i?t.setAttribute("tabindex",i):t.removeAttribute("tabindex")})}const sSe=LQ.useInsertionEffect,aSe=sSe||(n=>n());function hy(n){const e=le.useRef(()=>{});return aSe(()=>{e.current=n}),le.useCallback(function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e.current==null?void 0:e.current(...i)},[])}const EW={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let S4,IW;function Q$(n){n.key==="Tab"&&(S4=n.target,clearTimeout(IW))}function lSe(n){const e=S4===n.relatedTarget;return S4=n.relatedTarget,clearTimeout(IW),e}const DE=le.forwardRef(function(e,t){const i=hy(e.onFocus),[r,o]=le.useState();return dr(()=>(w4()&&o("button"),document.addEventListener("keydown",Q$),()=>{document.removeEventListener("keydown",Q$)}),[]),le.createElement("span",P1({},e,{ref:t,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,"data-floating-ui-focus-guard":"",style:EW,onFocus:s=>{w4()&&aoe()&&!lSe(s)?(s.persist(),IW=window.setTimeout(()=>{i(s)},50)):i(s)}}))}),goe=le.createContext(null),poe=function(n){let{id:e,enabled:t=!0}=n===void 0?{}:n;const[i,r]=le.useState(null),o=N1(),s=moe();return dr(()=>{if(!t)return;const a=e?document.getElementById(e):null;if(a)a.setAttribute("data-floating-ui-portal",""),r(a);else{const l=document.createElement("div");e!==""&&(l.id=e||o),l.setAttribute("data-floating-ui-portal",""),r(l);const c=(s==null?void 0:s.portalNode)||document.body;return c.appendChild(l),()=>{c.removeChild(l)}}},[e,s,o,t]),i},cSe=n=>{let{children:e,id:t,root:i=null,preserveTabOrder:r=!0}=n;const o=poe({id:t,enabled:!i}),[s,a]=le.useState(null),l=le.useRef(null),c=le.useRef(null),d=le.useRef(null),u=le.useRef(null),h=!!s&&!s.modal&&!!(i||o)&&r;return le.useEffect(()=>{if(!o||!r||s!=null&&s.modal)return;function f(g){o&&Dw(g)&&(g.type==="focusin"?oSe:rSe)(o)}return o.addEventListener("focusin",f,!0),o.addEventListener("focusout",f,!0),()=>{o.removeEventListener("focusin",f,!0),o.removeEventListener("focusout",f,!0)}},[o,r,s==null?void 0:s.modal]),le.createElement(goe.Provider,{value:le.useMemo(()=>({preserveTabOrder:r,beforeOutsideRef:l,afterOutsideRef:c,beforeInsideRef:d,afterInsideRef:u,portalNode:o,setFocusManagerState:a}),[r,o])},h&&o&&le.createElement(DE,{"data-type":"outside",ref:l,onFocus:f=>{if(Dw(f,o)){var g;(g=d.current)==null||g.focus()}else{const _=foe()||(s==null?void 0:s.refs.domReference.current);_==null||_.focus()}}}),h&&o&&le.createElement("span",{"aria-owns":o.id,style:EW}),i?xh.createPortal(e,i):o?xh.createPortal(e,o):null,h&&o&&le.createElement(DE,{"data-type":"outside",ref:c,onFocus:f=>{if(Dw(f,o)){var g;(g=u.current)==null||g.focus()}else{const _=hoe()||(s==null?void 0:s.refs.domReference.current);_==null||_.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1))}}}))},moe=()=>le.useContext(goe),dSe=le.forwardRef(function(e,t){return le.createElement("button",P1({},e,{type:"button",ref:t,tabIndex:-1,style:EW}))});function uSe(n){let{context:e,children:t,order:i=["content"],guards:r=!0,initialFocus:o=0,returnFocus:s=!0,modal:a=!0,visuallyHiddenDismiss:l=!1,closeOnFocusOut:c=!0}=n;const{refs:d,nodeId:u,onOpenChange:h,events:f,dataRef:g,elements:{domReference:_,floating:y}}=e,m=Nl(i),p=k_(),v=moe(),[b,C]=le.useState(null),S=typeof o=="number"&&o<0,x=le.useRef(null),k=le.useRef(null),D=le.useRef(!1),E=le.useRef(null),I=le.useRef(!1),N=v!=null,R=_&&_.getAttribute("role")==="combobox"&&doe(_),O=le.useCallback(function(Y){return Y===void 0&&(Y=y),Y?yE(Y,kE()):[]},[y]),W=le.useCallback(Y=>{const V=O(Y);return m.current.map(X=>_&&X==="reference"?_:y&&X==="floating"?y:V).filter(Boolean).flat()},[_,y,m,O]);le.useEffect(()=>{if(!a)return;function Y(X){if(X.key==="Tab"){O().length===0&&!R&&Sl(X);const J=W(),te=dP(X);m.current[0]==="reference"&&te===_&&(Sl(X),X.shiftKey?uf(J[J.length-1]):uf(J[1])),m.current[1]==="floating"&&te===y&&X.shiftKey&&(Sl(X),uf(J[0]))}}const V=pa(y);return V.addEventListener("keydown",Y),()=>{V.removeEventListener("keydown",Y)}},[_,y,a,m,d,R,O,W]),le.useEffect(()=>{if(!c)return;function Y(){I.current=!0,setTimeout(()=>{I.current=!1})}function V(X){const J=X.relatedTarget,te=!(oa(_,J)||oa(y,J)||oa(J,y)||oa(v==null?void 0:v.portalNode,J)||J!=null&&J.hasAttribute("data-floating-ui-focus-guard")||p&&(kw(p.nodesRef.current,u).find(oe=>{var Me,Re;return oa((Me=oe.context)==null?void 0:Me.elements.floating,J)||oa((Re=oe.context)==null?void 0:Re.elements.domReference,J)})||iSe(p.nodesRef.current,u).find(oe=>{var Me,Re;return((Me=oe.context)==null?void 0:Me.elements.floating)===J||((Re=oe.context)==null?void 0:Re.elements.domReference)===J})));J&&te&&!I.current&&J!==E.current&&(D.current=!0,setTimeout(()=>h(!1)))}if(y&&Bm(_))return _.addEventListener("focusout",V),_.addEventListener("pointerdown",Y),!a&&y.addEventListener("focusout",V),()=>{_.removeEventListener("focusout",V),_.removeEventListener("pointerdown",Y),!a&&y.removeEventListener("focusout",V)}},[_,y,a,u,p,v,h,c]),le.useEffect(()=>{var Y;const V=Array.from((v==null||(Y=v.portalNode)==null?void 0:Y.querySelectorAll("[data-floating-ui-portal]"))||[]);function X(){return[x.current,k.current].filter(Boolean)}if(y&&a){const J=[y,...V,...X()],te=Owe(m.current.includes("reference")||R?J.concat(_||[]):J);return()=>{te()}}},[_,y,a,m,v,R]),le.useEffect(()=>{if(a&&!r&&y){const Y=[],V=kE(),X=yE(pa(y).body,V),J=W(),te=X.filter(oe=>!J.includes(oe));return te.forEach((oe,Me)=>{Y[Me]=oe.getAttribute("tabindex"),oe.setAttribute("tabindex","-1")}),()=>{te.forEach((oe,Me)=>{const Re=Y[Me];Re==null?oe.removeAttribute("tabindex"):oe.setAttribute("tabindex",Re)})}}},[y,a,r,W]),dr(()=>{if(!y)return;const Y=pa(y);let V=s,X=!1;const J=Wm(Y),te=g.current;E.current=J;const oe=W(y),Me=(typeof o=="number"?oe[o]:o.current)||y;!S&&uf(Me,{preventScroll:Me===y});function Re(_e){if(_e.type==="escapeKey"&&d.domReference.current&&(E.current=d.domReference.current),["referencePress","escapeKey"].includes(_e.type))return;const Fe=_e.data.returnFocus;typeof Fe=="object"?(V=!0,X=Fe.preventScroll):V=Fe}return f.on("dismiss",Re),()=>{if(f.off("dismiss",Re),oa(y,Wm(Y))&&d.domReference.current&&(E.current=d.domReference.current),V&&Bm(E.current)&&!D.current)if(!d.domReference.current||I.current)uf(E.current,{cancelPrevious:!1,preventScroll:X});else{var _e;te.__syncReturnFocus=!0,(_e=E.current)==null||_e.focus({preventScroll:X}),setTimeout(()=>{delete te.__syncReturnFocus})}}},[y,W,o,s,g,d,f,S]),dr(()=>{if(v)return v.setFocusManagerState({...e,modal:a,closeOnFocusOut:c}),()=>{v.setFocusManagerState(null)}},[v,a,c,e]),dr(()=>{if(S||!y)return;function Y(){C(O().length)}if(Y(),typeof MutationObserver=="function"){const V=new MutationObserver(Y);return V.observe(y,{childList:!0,subtree:!0}),()=>{V.disconnect()}}},[y,O,S,d]);const K=r&&(N||a)&&!R;function Q(Y){return l&&a?le.createElement(dSe,{ref:Y==="start"?x:k,onClick:()=>h(!1)},typeof l=="string"?l:"Dismiss"):null}return le.createElement(le.Fragment,null,K&&le.createElement(DE,{"data-type":"inside",ref:v==null?void 0:v.beforeInsideRef,onFocus:Y=>{if(a){const X=W();uf(i[0]==="reference"?X[0]:X[X.length-1])}else if(v!=null&&v.preserveTabOrder&&v.portalNode)if(D.current=!1,Dw(Y,v.portalNode)){const X=hoe()||_;X==null||X.focus()}else{var V;(V=v.beforeOutsideRef.current)==null||V.focus()}}}),R?null:Q("start"),le.cloneElement(t,b===0||i.includes("floating")?{tabIndex:0}:{}),Q("end"),K&&le.createElement(DE,{"data-type":"inside",ref:v==null?void 0:v.afterInsideRef,onFocus:Y=>{if(a)uf(W()[0]);else if(v!=null&&v.preserveTabOrder&&v.portalNode)if(D.current=!0,Dw(Y,v.portalNode)){const X=foe()||_;X==null||X.focus()}else{var V;(V=v.afterOutsideRef.current)==null||V.focus()}}}))}const ak="data-floating-ui-scroll-lock",hSe=le.forwardRef(function(e,t){let{lockScroll:i=!1,...r}=e;return dr(()=>{var o,s;if(!i||document.body.hasAttribute(ak))return;document.body.setAttribute(ak,"");const c=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",d=window.innerWidth-document.documentElement.clientWidth;if(!/iP(hone|ad|od)|iOS/.test(DW()))return Object.assign(document.body.style,{overflow:"hidden",[c]:d+"px"}),()=>{document.body.removeAttribute(ak),Object.assign(document.body.style,{overflow:"",[c]:""})};const u=((o=window.visualViewport)==null?void 0:o.offsetLeft)||0,h=((s=window.visualViewport)==null?void 0:s.offsetTop)||0,f=window.pageXOffset,g=window.pageYOffset;return Object.assign(document.body.style,{position:"fixed",overflow:"hidden",top:-(g-Math.floor(h))+"px",left:-(f-Math.floor(u))+"px",right:"0",[c]:d+"px"}),()=>{Object.assign(document.body.style,{position:"",overflow:"",top:"",left:"",right:"",[c]:""}),document.body.removeAttribute(ak),window.scrollTo(f,g)}},[i]),le.createElement("div",P1({ref:t},r,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...r.style}}))});function J$(n){return Bm(n.target)&&n.target.tagName==="BUTTON"}function eq(n){return doe(n)}const fSe=function(n,e){let{open:t,onOpenChange:i,dataRef:r,elements:{domReference:o}}=n,{enabled:s=!0,event:a="click",toggle:l=!0,ignoreMouse:c=!1,keyboardHandlers:d=!0}=e===void 0?{}:e;const u=le.useRef();return le.useMemo(()=>s?{reference:{onPointerDown(h){u.current=h.pointerType},onMouseDown(h){h.button===0&&(LE(u.current,!0)&&c||a!=="click"&&(t?l&&(!r.current.openEvent||r.current.openEvent.type==="mousedown")&&i(!1):(h.preventDefault(),i(!0)),r.current.openEvent=h.nativeEvent))},onClick(h){if(!r.current.__syncReturnFocus){if(a==="mousedown"&&u.current){u.current=void 0;return}LE(u.current,!0)&&c||(t?l&&(!r.current.openEvent||r.current.openEvent.type==="click")&&i(!1):i(!0),r.current.openEvent=h.nativeEvent)}},onKeyDown(h){u.current=void 0,d&&(J$(h)||(h.key===" "&&!eq(o)&&h.preventDefault(),h.key==="Enter"&&(t?l&&i(!1):i(!0))))},onKeyUp(h){d&&(J$(h)||eq(o)||h.key===" "&&(t?l&&i(!1):i(!0)))}}}:{},[s,r,a,c,d,o,l,t,i])};function QD(n,e){if(e==null)return!1;if("composedPath"in n)return n.composedPath().includes(e);const t=n;return t.target!=null&&e.contains(t.target)}const gSe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},pSe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},mSe=function(n){var e,t;return n===void 0&&(n=!0),{escapeKeyBubbles:typeof n=="boolean"?n:(e=n.escapeKey)!=null?e:!0,outsidePressBubbles:typeof n=="boolean"?n:(t=n.outsidePress)!=null?t:!0}},_Se=function(n,e){let{open:t,onOpenChange:i,events:r,nodeId:o,elements:{reference:s,domReference:a,floating:l},dataRef:c}=n,{enabled:d=!0,escapeKey:u=!0,outsidePress:h=!0,outsidePressEvent:f="pointerdown",referencePress:g=!1,referencePressEvent:_="pointerdown",ancestorScroll:y=!1,bubbles:m=!0}=e===void 0?{}:e;const p=k_(),v=uy()!=null,b=hy(typeof h=="function"?h:()=>!1),C=typeof h=="function"?b:h,S=le.useRef(!1),{escapeKeyBubbles:x,outsidePressBubbles:k}=mSe(m);return le.useEffect(()=>{if(!t||!d)return;c.current.__escapeKeyBubbles=x,c.current.__outsidePressBubbles=k;function D(O){if(O.key==="Escape"){const W=p?kw(p.nodesRef.current,o):[];if(W.length>0){let K=!0;if(W.forEach(Q=>{var Y;if((Y=Q.context)!=null&&Y.open&&!Q.context.dataRef.current.__escapeKeyBubbles){K=!1;return}}),!K)return}r.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),i(!1)}}function E(O){const W=S.current;if(S.current=!1,W||typeof C=="function"&&!C(O))return;const K=dP(O);if(Bm(K)&&l){const V=l.ownerDocument.defaultView||window,X=K.scrollWidth>K.clientWidth,J=K.scrollHeight>K.clientHeight;let te=J&&O.offsetX>K.clientWidth;if(J&&V.getComputedStyle(K).direction==="rtl"&&(te=O.offsetX<=K.offsetWidth-K.clientWidth),te||X&&O.offsetY>K.clientHeight)return}const Q=p&&kw(p.nodesRef.current,o).some(V=>{var X;return QD(O,(X=V.context)==null?void 0:X.elements.floating)});if(QD(O,l)||QD(O,a)||Q)return;const Y=p?kw(p.nodesRef.current,o):[];if(Y.length>0){let V=!0;if(Y.forEach(X=>{var J;if((J=X.context)!=null&&J.open&&!X.context.dataRef.current.__outsidePressBubbles){V=!1;return}}),!V)return}r.emit("dismiss",{type:"outsidePress",data:{returnFocus:v?{preventScroll:!0}:ooe(O)||soe(O)}}),i(!1)}function I(){i(!1)}const N=pa(l);u&&N.addEventListener("keydown",D),C&&N.addEventListener(f,E);let R=[];return y&&(Il(a)&&(R=dh(a)),Il(l)&&(R=R.concat(dh(l))),!Il(s)&&s&&s.contextElement&&(R=R.concat(dh(s.contextElement)))),R=R.filter(O=>{var W;return O!==((W=N.defaultView)==null?void 0:W.visualViewport)}),R.forEach(O=>{O.addEventListener("scroll",I,{passive:!0})}),()=>{u&&N.removeEventListener("keydown",D),C&&N.removeEventListener(f,E),R.forEach(O=>{O.removeEventListener("scroll",I)})}},[c,l,a,s,u,C,f,r,p,o,t,i,y,d,x,k,v]),le.useEffect(()=>{S.current=!1},[C,f]),le.useMemo(()=>d?{reference:{[gSe[_]]:()=>{g&&(r.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),i(!1))}},floating:{[pSe[f]]:()=>{S.current=!0}}}:{},[d,r,g,f,_,i])},vSe=function(n,e){let{open:t,onOpenChange:i,dataRef:r,events:o,refs:s,elements:{floating:a,domReference:l}}=n,{enabled:c=!0,keyboardOnly:d=!0}=e===void 0?{}:e;const u=le.useRef(""),h=le.useRef(!1),f=le.useRef();return le.useEffect(()=>{if(!c)return;const _=pa(a).defaultView||window;function y(){!t&&Bm(l)&&l===Wm(pa(l))&&(h.current=!0)}return _.addEventListener("blur",y),()=>{_.removeEventListener("blur",y)}},[a,l,t,c]),le.useEffect(()=>{if(!c)return;function g(_){(_.type==="referencePress"||_.type==="escapeKey")&&(h.current=!0)}return o.on("dismiss",g),()=>{o.off("dismiss",g)}},[o,c]),le.useEffect(()=>()=>{clearTimeout(f.current)},[]),le.useMemo(()=>c?{reference:{onPointerDown(g){let{pointerType:_}=g;u.current=_,h.current=!!(_&&d)},onMouseLeave(){h.current=!1},onFocus(g){var _;h.current||g.type==="focus"&&((_=r.current.openEvent)==null?void 0:_.type)==="mousedown"&&r.current.openEvent&&QD(r.current.openEvent,l)||(r.current.openEvent=g.nativeEvent,i(!0))},onBlur(g){h.current=!1;const _=g.relatedTarget,y=Il(_)&&_.hasAttribute("data-floating-ui-focus-guard")&&_.getAttribute("data-type")==="outside";f.current=setTimeout(()=>{oa(s.floating.current,_)||oa(l,_)||y||i(!1)})}}}:{},[c,d,l,s,r,i])};let tq=!1;const NW="ArrowUp",uP="ArrowDown",gb="ArrowLeft",kx="ArrowRight";function lk(n,e,t){return Math.floor(n/e)!==t}function oC(n,e){return e<0||e>=n.current.length}function is(n,e){let{startingIndex:t=-1,decrement:i=!1,disabledIndices:r,amount:o=1}=e===void 0?{}:e;const s=n.current;let a=t;do{var l,c;a=a+(i?-o:o)}while(a>=0&&a<=s.length-1&&(r?r.includes(a):s[a]==null||(l=s[a])!=null&&l.hasAttribute("disabled")||((c=s[a])==null?void 0:c.getAttribute("aria-disabled"))==="true"));return a}function hP(n,e,t){switch(n){case"vertical":return e;case"horizontal":return t;default:return e||t}}function iq(n,e){return hP(e,n===NW||n===uP,n===gb||n===kx)}function tA(n,e,t){return hP(e,n===uP,t?n===gb:n===kx)||n==="Enter"||n==" "||n===""}function bSe(n,e,t){return hP(e,t?n===gb:n===kx,n===uP)}function ySe(n,e,t){return hP(e,t?n===kx:n===gb,n===NW)}function iA(n,e){return is(n,{disabledIndices:e})}function nq(n,e){return is(n,{decrement:!0,startingIndex:n.current.length,disabledIndices:e})}const CSe=function(n,e){let{open:t,onOpenChange:i,refs:r,elements:{domReference:o}}=n,{listRef:s,activeIndex:a,onNavigate:l=()=>{},enabled:c=!0,selectedIndex:d=null,allowEscape:u=!1,loop:h=!1,nested:f=!1,rtl:g=!1,virtual:_=!1,focusItemOnOpen:y="auto",focusItemOnHover:m=!0,openOnArrowKeyDown:p=!0,disabledIndices:v=void 0,orientation:b="vertical",cols:C=1,scrollItemIntoView:S=!0}=e===void 0?{listRef:{current:[]},activeIndex:null,onNavigate:()=>{}}:e;const x=uy(),k=k_(),D=hy(l),E=le.useRef(y),I=le.useRef(d??-1),N=le.useRef(null),R=le.useRef(!0),O=le.useRef(D),W=le.useRef(t),K=le.useRef(!1),Q=le.useRef(!1),Y=Nl(v),V=Nl(t),X=Nl(S),[J,te]=le.useState(),oe=le.useCallback(function(_e,Fe,Oe){Oe===void 0&&(Oe=!1);const De=_e.current[Fe.current];_?te(De==null?void 0:De.id):uf(De,{preventScroll:!0,sync:aoe()&&w4()?tq||K.current:!1}),requestAnimationFrame(()=>{const ze=X.current;ze&&De&&(Oe||!R.current)&&(De.scrollIntoView==null||De.scrollIntoView(typeof ze=="boolean"?{block:"nearest",inline:"nearest"}:ze))})},[_,X]);dr(()=>{document.createElement("div").focus({get preventScroll(){return tq=!0,!1}})},[]),dr(()=>{c&&(t?E.current&&d!=null&&(Q.current=!0,D(d)):W.current&&(I.current=-1,O.current(null)))},[c,t,d,D]),dr(()=>{if(c&&t)if(a==null){if(K.current=!1,d!=null)return;W.current&&(I.current=-1,oe(s,I)),!W.current&&E.current&&(N.current!=null||E.current===!0&&N.current==null)&&(I.current=N.current==null||tA(N.current,b,g)||f?iA(s,Y.current):nq(s,Y.current),D(I.current))}else oC(s,a)||(I.current=a,oe(s,I,Q.current),Q.current=!1)},[c,t,a,d,f,s,b,g,D,oe,Y]),dr(()=>{if(c&&W.current&&!t){var _e,Fe;const Oe=k==null||(_e=k.nodesRef.current.find(De=>De.id===x))==null||(Fe=_e.context)==null?void 0:Fe.elements.floating;Oe&&!oa(Oe,Wm(pa(Oe)))&&Oe.focus({preventScroll:!0})}},[c,t,k,x]),dr(()=>{N.current=null,O.current=D,W.current=t});const Me=a!=null,Re=le.useMemo(()=>{function _e(Oe){if(!t)return;const De=s.current.indexOf(Oe);De!==-1&&D(De)}return{onFocus(Oe){let{currentTarget:De}=Oe;_e(De)},onClick:Oe=>{let{currentTarget:De}=Oe;return De.focus({preventScroll:!0})},...m&&{onMouseMove(Oe){let{currentTarget:De}=Oe;_e(De)},onPointerLeave(){if(R.current&&(I.current=-1,oe(s,I),xh.flushSync(()=>D(null)),!_)){var Oe;(Oe=r.floating.current)==null||Oe.focus({preventScroll:!0})}}}}},[t,r,oe,m,s,D,_]);return le.useMemo(()=>{if(!c)return{};const _e=Y.current;function Fe(ke){if(R.current=!1,K.current=!0,!V.current&&ke.currentTarget===r.floating.current)return;if(f&&ySe(ke.key,b,g)){Sl(ke),i(!1),Bm(o)&&o.focus();return}const Ze=I.current,vt=iA(s,_e),ot=nq(s,_e);if(ke.key==="Home"&&(I.current=vt,D(I.current)),ke.key==="End"&&(I.current=ot,D(I.current)),C>1){const ct=I.current;if(ke.key===NW){if(Sl(ke),ct===-1)I.current=ot;else if(I.current=is(s,{startingIndex:ct,amount:C,decrement:!0,disabledIndices:_e}),h&&(ct-C<vt||I.current<0)){const st=ct%C,ni=ot%C,Yi=ot-(ni-st);ni===st?I.current=ot:I.current=ni>st?Yi:Yi-C}oC(s,I.current)&&(I.current=ct),D(I.current)}if(ke.key===uP&&(Sl(ke),ct===-1?I.current=vt:(I.current=is(s,{startingIndex:ct,amount:C,disabledIndices:_e}),h&&ct+C>ot&&(I.current=is(s,{startingIndex:ct%C-C,amount:C,disabledIndices:_e}))),oC(s,I.current)&&(I.current=ct),D(I.current)),b==="both"){const st=Math.floor(ct/C);ke.key===kx&&(Sl(ke),ct%C!==C-1?(I.current=is(s,{startingIndex:ct,disabledIndices:_e}),h&&lk(I.current,C,st)&&(I.current=is(s,{startingIndex:ct-ct%C-1,disabledIndices:_e}))):h&&(I.current=is(s,{startingIndex:ct-ct%C-1,disabledIndices:_e})),lk(I.current,C,st)&&(I.current=ct)),ke.key===gb&&(Sl(ke),ct%C!==0?(I.current=is(s,{startingIndex:ct,disabledIndices:_e,decrement:!0}),h&&lk(I.current,C,st)&&(I.current=is(s,{startingIndex:ct+(C-ct%C),decrement:!0,disabledIndices:_e}))):h&&(I.current=is(s,{startingIndex:ct+(C-ct%C),decrement:!0,disabledIndices:_e})),lk(I.current,C,st)&&(I.current=ct));const ni=Math.floor(ot/C)===st;oC(s,I.current)&&(h&&ni?I.current=ke.key===gb?ot:is(s,{startingIndex:ct-ct%C-1,disabledIndices:_e}):I.current=ct),D(I.current);return}}if(iq(ke.key,b)){if(Sl(ke),t&&!_&&Wm(ke.currentTarget.ownerDocument)===ke.currentTarget){I.current=tA(ke.key,b,g)?vt:ot,D(I.current);return}tA(ke.key,b,g)?h?I.current=Ze>=ot?u&&Ze!==s.current.length?-1:vt:is(s,{startingIndex:Ze,disabledIndices:_e}):I.current=Math.min(ot,is(s,{startingIndex:Ze,disabledIndices:_e})):h?I.current=Ze<=vt?u&&Ze!==-1?s.current.length:ot:is(s,{startingIndex:Ze,decrement:!0,disabledIndices:_e}):I.current=Math.max(vt,is(s,{startingIndex:Ze,decrement:!0,disabledIndices:_e})),oC(s,I.current)?D(null):D(I.current)}}function Oe(ke){y==="auto"&&ooe(ke.nativeEvent)&&(E.current=!0)}function De(ke){E.current=y,y==="auto"&&soe(ke.nativeEvent)&&(E.current=!0)}const ze=_&&t&&Me&&{"aria-activedescendant":J};return{reference:{...ze,onKeyDown(ke){R.current=!1;const Ze=ke.key.indexOf("Arrow")===0;if(_&&t)return Fe(ke);if(!t&&!p&&Ze)return;if((Ze||ke.key==="Enter"||ke.key===" "||ke.key==="")&&(N.current=ke.key),f){bSe(ke.key,b,g)&&(Sl(ke),t?(I.current=iA(s,_e),D(I.current)):i(!0));return}iq(ke.key,b)&&(d!=null&&(I.current=d),Sl(ke),!t&&p?i(!0):Fe(ke),t&&D(I.current))},onFocus(){t&&D(null)},onPointerDown:De,onMouseDown:Oe,onClick:Oe},floating:{"aria-orientation":b==="both"?void 0:b,...ze,onKeyDown:Fe,onPointerMove(){R.current=!0}},item:Re}},[o,r,J,Y,V,s,c,b,g,_,t,Me,f,d,p,u,C,h,y,D,i,Re])};function wSe(n){return le.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})},n)}const SSe=function(n,e){let{open:t}=n,{enabled:i=!0,role:r="dialog"}=e===void 0?{}:e;const o=N1(),s=N1();return le.useMemo(()=>{const a={id:o,role:r};return i?r==="tooltip"?{reference:{"aria-describedby":t?o:void 0},floating:a}:{reference:{"aria-expanded":t?"true":"false","aria-haspopup":r==="alertdialog"?"dialog":r,"aria-controls":t?o:void 0,...r==="listbox"&&{role:"combobox"},...r==="menu"&&{id:s}},floating:{...a,...r==="menu"&&{"aria-labelledby":s}}}:{}},[i,r,t,o,s])},rq=n=>n.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,t)=>(t?"-":"")+e.toLowerCase());function xSe(n,e){const[t,i]=le.useState(n);return n&&!t&&i(!0),le.useEffect(()=>{if(!n){const r=setTimeout(()=>i(!1),e);return()=>clearTimeout(r)}},[n,e]),t}function _oe(n,e){let{open:t,elements:{floating:i}}=n,{duration:r=250}=e===void 0?{}:e;const s=(typeof r=="number"?r:r.close)||0,[a,l]=le.useState(!1),[c,d]=le.useState("unmounted"),u=xSe(t,s);return dr(()=>{a&&!u&&d("unmounted")},[a,u]),dr(()=>{if(i)if(t){d("initial");const h=requestAnimationFrame(()=>{d("open")});return()=>{cancelAnimationFrame(h)}}else l(!0),d("close")},[t,i]),{isMounted:u,status:c}}function LSe(n,e){let{initial:t={opacity:0},open:i,close:r,common:o,duration:s=250}=e===void 0?{}:e;const a=n.placement,l=a.split("-")[0],[c,d]=le.useState({}),{isMounted:u,status:h}=_oe(n,{duration:s}),f=Nl(t),g=Nl(i),_=Nl(r),y=Nl(o),m=typeof s=="number",p=(m?s:s.open)||0,v=(m?s:s.close)||0;return dr(()=>{const b={side:l,placement:a},C=f.current,S=_.current,x=g.current,k=y.current,D=typeof C=="function"?C(b):C,E=typeof S=="function"?S(b):S,I=typeof k=="function"?k(b):k,N=(typeof x=="function"?x(b):x)||Object.keys(D).reduce((R,O)=>(R[O]="",R),{});if(h==="initial"&&d(R=>({transitionProperty:R.transitionProperty,...I,...D})),h==="open"&&d({transitionProperty:Object.keys(N).map(rq).join(","),transitionDuration:p+"ms",...I,...N}),h==="close"){const R=E||D;d({transitionProperty:Object.keys(R).map(rq).join(","),transitionDuration:v+"ms",...I,...R})}},[l,a,v,_,f,g,y,p,h]),{isMounted:u,styles:c}}const kSe=function(n,e){var t;let{open:i,dataRef:r}=n,{listRef:o,activeIndex:s,onMatch:a=()=>{},enabled:l=!0,findMatch:c=null,resetMs:d=1e3,ignoreKeys:u=[],selectedIndex:h=null}=e===void 0?{listRef:{current:[]},activeIndex:null}:e;const f=le.useRef(),g=le.useRef(""),_=le.useRef((t=h??s)!=null?t:-1),y=le.useRef(null),m=hy(a),p=Nl(c),v=Nl(u);return dr(()=>{i&&(clearTimeout(f.current),y.current=null,g.current="")},[i]),dr(()=>{if(i&&g.current===""){var b;_.current=(b=h??s)!=null?b:-1}},[i,h,s]),le.useMemo(()=>{if(!l)return{};function b(C){const S=dP(C.nativeEvent);if(Il(S)&&(Wm(pa(S))!==C.currentTarget&&S.closest('[role="dialog"],[role="menu"],[role="listbox"],[role="tree"],[role="grid"]')!==C.currentTarget))return;g.current.length>0&&g.current[0]!==" "&&(r.current.typing=!0,C.key===" "&&Sl(C));const x=o.current;if(x==null||v.current.includes(C.key)||C.key.length!==1||C.ctrlKey||C.metaKey||C.altKey)return;x.every(R=>{var O,W;return R?((O=R[0])==null?void 0:O.toLocaleLowerCase())!==((W=R[1])==null?void 0:W.toLocaleLowerCase()):!0})&&g.current===C.key&&(g.current="",_.current=y.current),g.current+=C.key,clearTimeout(f.current),f.current=setTimeout(()=>{g.current="",_.current=y.current,r.current.typing=!1},d);const D=_.current,E=[...x.slice((D||0)+1),...x.slice(0,(D||0)+1)],I=p.current?p.current(E,g.current):E.find(R=>(R==null?void 0:R.toLocaleLowerCase().indexOf(g.current.toLocaleLowerCase()))===0),N=I?x.indexOf(I):-1;N!==-1&&(m(N),y.current=N)}return{reference:{onKeyDown:b},floating:{onKeyDown:b}}},[l,r,o,d,v,p,m])};function oq(n,e){return{...n,rects:{...n.rects,floating:{...n.rects.floating,height:e}}}}const DSe=n=>({name:"inner",options:n,async fn(e){const{listRef:t,overflowRef:i,onFallbackChange:r,offset:o=0,index:s=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:c,...d}=n,{rects:u,elements:{floating:h}}=e,f=t.current[s];if(!f)return{};const g={...e,...await Ure(-f.offsetTop-u.reference.height/2-f.offsetHeight/2-o).fn(e)},_=(c==null?void 0:c.current)||h,y=await Yd(oq(g,_.scrollHeight),d),m=await Yd(g,{...d,elementContext:"reference"}),p=Math.max(0,y.top),v=g.y+p,b=Math.max(0,_.scrollHeight-p-Math.max(0,y.bottom));return _.style.maxHeight=b+"px",_.scrollTop=p,r&&(_.offsetHeight<f.offsetHeight*Math.min(a,t.current.length-1)-1||m.top>=-l||m.bottom>=-l?xh.flushSync(()=>r(!0)):xh.flushSync(()=>r(!1))),i&&(i.current=await Yd(oq({...g,y:v},_.offsetHeight),d)),{y:v}}}),TSe=(n,e)=>{let{open:t,elements:i}=n,{enabled:r=!0,overflowRef:o,scrollRef:s,onChange:a}=e;const l=hy(a),c=le.useRef(!1),d=le.useRef(null),u=le.useRef(null);return le.useEffect(()=>{if(!r)return;function h(g){if(g.ctrlKey||!f||o.current==null)return;const _=g.deltaY,y=o.current.top>=-.5,m=o.current.bottom>=-.5,p=f.scrollHeight-f.clientHeight,v=_<0?-1:1,b=_<0?"max":"min";f.scrollHeight<=f.clientHeight||(!y&&_>0||!m&&_<0?(g.preventDefault(),xh.flushSync(()=>{l(C=>C+Math[b](_,p*v))})):/firefox/i.test(roe())&&(f.scrollTop+=_))}const f=(s==null?void 0:s.current)||i.floating;if(t&&f)return f.addEventListener("wheel",h),requestAnimationFrame(()=>{d.current=f.scrollTop,o.current!=null&&(u.current={...o.current})}),()=>{d.current=null,u.current=null,f.removeEventListener("wheel",h)}},[r,t,i.floating,o,s,l]),le.useMemo(()=>r?{floating:{onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const h=(s==null?void 0:s.current)||i.floating;if(!(!o.current||!h||!c.current)){if(d.current!==null){const f=h.scrollTop-d.current;(o.current.bottom<-.5&&f<-1||o.current.top<-.5&&f>1)&&xh.flushSync(()=>l(g=>g+f))}requestAnimationFrame(()=>{d.current=h.scrollTop})}}}}:{},[r,o,i.floating,s,l])};function ESe(n,e){const[t,i]=n;let r=!1;const o=e.length;for(let s=0,a=o-1;s<o;a=s++){const[l,c]=e[s]||[0,0],[d,u]=e[a]||[0,0];c>=i!=u>=i&&t<=(d-l)*(i-c)/(u-c)+l&&(r=!r)}return r}function ISe(n,e){return n[0]>=e.x&&n[0]<=e.x+e.width&&n[1]>=e.y&&n[1]<=e.y+e.height}function NSe(n){let{restMs:e=0,buffer:t=.5,blockPointerEvents:i=!1}=n===void 0?{}:n,r,o=!1,s=!1;const a=l=>{let{x:c,y:d,placement:u,elements:h,onClose:f,nodeId:g,tree:_}=l;return function(m){function p(){clearTimeout(r),f()}if(clearTimeout(r),!h.domReference||!h.floating||u==null||c==null||d==null)return;const{clientX:v,clientY:b}=m,C=[v,b],S=dP(m),x=m.type==="mouseleave",k=oa(h.floating,S),D=oa(h.domReference,S),E=h.domReference.getBoundingClientRect(),I=h.floating.getBoundingClientRect(),N=u.split("-")[0],R=c>I.right-I.width/2,O=d>I.bottom-I.height/2,W=ISe(C,E);if(k&&(s=!0),D&&(s=!1),D&&!x){s=!0;return}if(x&&Il(m.relatedTarget)&&oa(h.floating,m.relatedTarget)||_&&kw(_.nodesRef.current,g).some(V=>{let{context:X}=V;return X==null?void 0:X.open}))return;if(N==="top"&&d>=E.bottom-1||N==="bottom"&&d<=E.top+1||N==="left"&&c>=E.right-1||N==="right"&&c<=E.left+1)return p();let K=[];switch(N){case"top":K=[[I.left,E.top+1],[I.left,I.bottom-1],[I.right,I.bottom-1],[I.right,E.top+1]],o=v>=I.left&&v<=I.right&&b>=I.top&&b<=E.top+1;break;case"bottom":K=[[I.left,I.top+1],[I.left,E.bottom-1],[I.right,E.bottom-1],[I.right,I.top+1]],o=v>=I.left&&v<=I.right&&b>=E.bottom-1&&b<=I.bottom;break;case"left":K=[[I.right-1,I.bottom],[I.right-1,I.top],[E.left+1,I.top],[E.left+1,I.bottom]],o=v>=I.left&&v<=E.left+1&&b>=I.top&&b<=I.bottom;break;case"right":K=[[E.right-1,I.bottom],[E.right-1,I.top],[I.left+1,I.top],[I.left+1,I.bottom]],o=v>=E.right-1&&v<=I.right&&b>=I.top&&b<=I.bottom;break}function Q(V){let[X,J]=V;const te=I.width>E.width,oe=I.height>E.height;switch(N){case"top":{const Me=[te?X+t/2:R?X+t*4:X-t*4,J+t+1],Re=[te?X-t/2:R?X+t*4:X-t*4,J+t+1],_e=[[I.left,R||te?I.bottom-t:I.top],[I.right,R?te?I.bottom-t:I.top:I.bottom-t]];return[Me,Re,..._e]}case"bottom":{const Me=[te?X+t/2:R?X+t*4:X-t*4,J-t],Re=[te?X-t/2:R?X+t*4:X-t*4,J-t],_e=[[I.left,R||te?I.top+t:I.bottom],[I.right,R?te?I.top+t:I.bottom:I.top+t]];return[Me,Re,..._e]}case"left":{const Me=[X+t+1,oe?J+t/2:O?J+t*4:J-t*4],Re=[X+t+1,oe?J-t/2:O?J+t*4:J-t*4];return[...[[O||oe?I.right-t:I.left,I.top],[O?oe?I.right-t:I.left:I.right-t,I.bottom]],Me,Re]}case"right":{const Me=[X-t,oe?J+t/2:O?J+t*4:J-t*4],Re=[X-t,oe?J-t/2:O?J+t*4:J-t*4],_e=[[O||oe?I.left+t:I.right,I.top],[O?oe?I.left+t:I.right:I.left+t,I.bottom]];return[Me,Re,..._e]}}}const Y=o?K:Q([c,d]);if(!o){if(s&&!W)return p();ESe([v,b],Y)?e&&!s&&(r=setTimeout(p,e)):p()}}};return a.__options={blockPointerEvents:i},a}function PSe(n){n===void 0&&(n={});const{open:e=!1,onOpenChange:t,nodeId:i}=n,r=$1e(n),o=k_(),s=le.useRef(null),a=le.useRef({}),l=le.useState(()=>toe())[0],[c,d]=le.useState(null),u=le.useCallback(m=>{const p=Il(m)?{getBoundingClientRect:()=>m.getBoundingClientRect(),contextElement:m}:m;r.refs.setReference(p)},[r.refs]),h=le.useCallback(m=>{(Il(m)||m===null)&&(s.current=m,d(m)),(Il(r.refs.reference.current)||r.refs.reference.current===null||m!==null&&!Il(m))&&r.refs.setReference(m)},[r.refs]),f=le.useMemo(()=>({...r.refs,setReference:h,setPositionReference:u,domReference:s}),[r.refs,h,u]),g=le.useMemo(()=>({...r.elements,domReference:c}),[r.elements,c]),_=hy(t),y=le.useMemo(()=>({...r,refs:f,elements:g,dataRef:a,nodeId:i,events:l,open:e,onOpenChange:_}),[r,i,l,e,_,f,g]);return dr(()=>{const m=o==null?void 0:o.nodesRef.current.find(p=>p.id===i);m&&(m.context=y)}),le.useMemo(()=>({...r,context:y,refs:f,reference:h,positionReference:u}),[r,f,y,h,u])}function nA(n,e,t){const i=new Map;return{...t==="floating"&&{tabIndex:-1},...n,...e.map(r=>r?r[t]:null).concat(n).reduce((r,o)=>(o&&Object.entries(o).forEach(s=>{let[a,l]=s;if(a.indexOf("on")===0){if(i.has(a)||i.set(a,[]),typeof l=="function"){var c;(c=i.get(a))==null||c.push(l),r[a]=function(){for(var d,u=arguments.length,h=new Array(u),f=0;f<u;f++)h[f]=arguments[f];(d=i.get(a))==null||d.forEach(g=>g(...h))}}}else r[a]=l}),r),{})}}const MSe=function(n){n===void 0&&(n=[]);const e=n,t=le.useCallback(o=>nA(o,n,"reference"),e),i=le.useCallback(o=>nA(o,n,"floating"),e),r=le.useCallback(o=>nA(o,n,"item"),n.map(o=>o==null?void 0:o.item));return le.useMemo(()=>({getReferenceProps:t,getFloatingProps:i,getItemProps:r}),[t,i,r])},RSe=Object.freeze(Object.defineProperty({__proto__:null,FloatingDelayGroup:eSe,FloatingFocusManager:uSe,FloatingNode:Y1e,FloatingOverlay:hSe,FloatingPortal:cSe,FloatingTree:X1e,arrow:U1e,autoPlacement:F1e,autoUpdate:O1e,computePosition:eoe,detectOverflow:Yd,flip:W1e,getOverflowAncestors:dh,hide:H1e,inline:z1e,inner:DSe,limitShift:j1e,offset:Ure,platform:Jre,safePolygon:NSe,shift:B1e,size:V1e,useClick:fSe,useDelayGroup:tSe,useDelayGroupContext:coe,useDismiss:_Se,useFloating:PSe,useFloatingNodeId:Z1e,useFloatingParentNodeId:uy,useFloatingPortalNode:poe,useFloatingTree:k_,useFocus:vSe,useHover:J1e,useId:N1,useInnerOffset:TSe,useInteractions:MSe,useListNavigation:CSe,useMergeRefs:wSe,useRole:SSe,useTransitionStatus:_oe,useTransitionStyles:LSe,useTypeahead:kSe},Symbol.toStringTag,{value:"Module"})),ao=ux(RSe);var voe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(g,_){for(var y in _)Object.defineProperty(g,y,{enumerable:!0,get:_[y]})}e(n,{DialogHeader:function(){return h},default:function(){return f}});var t=c(le),i=c(ii),r=Rt,o=c(At),s=Et,a=ly;function l(){return l=Object.assign||function(g){for(var _=1;_<arguments.length;_++){var y=arguments[_];for(var m in y)Object.prototype.hasOwnProperty.call(y,m)&&(g[m]=y[m])}return g},l.apply(this,arguments)}function c(g){return g&&g.__esModule?g:{default:g}}function d(g,_){if(g==null)return{};var y=u(g,_),m,p;if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(g);for(p=0;p<v.length;p++)m=v[p],!(_.indexOf(m)>=0)&&Object.prototype.propertyIsEnumerable.call(g,m)&&(y[m]=g[m])}return y}function u(g,_){if(g==null)return{};var y={},m=Object.keys(g),p,v;for(v=0;v<m.length;v++)p=m[v],!(_.indexOf(p)>=0)&&(y[p]=g[p]);return y}var h=t.default.forwardRef(function(g,_){var y=g.className,m=g.children,p=d(g,["className","children"]),v=(0,s.useTheme)().dialogHeader,b=v.defaultProps,C=v.styles.base;y=(0,r.twMerge)(b.className||"",y);var S=(0,r.twMerge)((0,i.default)((0,o.default)(C)),y);return t.default.createElement("div",l({},p,{ref:_,className:S}),m)});h.propTypes={className:a.propTypesClassName,children:a.propTypesChildren},h.displayName="MaterialTailwind.DialogHeader";var f=h})(voe);var boe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(_,y){for(var m in y)Object.defineProperty(_,m,{enumerable:!0,get:y[m]})}e(n,{DialogBody:function(){return f},default:function(){return g}});var t=d(le),i=d(ii),r=Rt,o=d(At),s=Et,a=ly;function l(_,y,m){return y in _?Object.defineProperty(_,y,{value:m,enumerable:!0,configurable:!0,writable:!0}):_[y]=m,_}function c(){return c=Object.assign||function(_){for(var y=1;y<arguments.length;y++){var m=arguments[y];for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(_[p]=m[p])}return _},c.apply(this,arguments)}function d(_){return _&&_.__esModule?_:{default:_}}function u(_,y){if(_==null)return{};var m=h(_,y),p,v;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(_);for(v=0;v<b.length;v++)p=b[v],!(y.indexOf(p)>=0)&&Object.prototype.propertyIsEnumerable.call(_,p)&&(m[p]=_[p])}return m}function h(_,y){if(_==null)return{};var m={},p=Object.keys(_),v,b;for(b=0;b<p.length;b++)v=p[b],!(y.indexOf(v)>=0)&&(m[v]=_[v]);return m}var f=t.default.forwardRef(function(_,y){var m=_.divider,p=_.className,v=_.children,b=u(_,["divider","className","children"]),C=(0,s.useTheme)().dialogBody,S=C.defaultProps,x=C.styles.base;p=(0,r.twMerge)(S.className||"",p);var k=(0,r.twMerge)((0,i.default)((0,o.default)(x.initial),l({},(0,o.default)(x.divider),m)),p);return t.default.createElement("div",c({},b,{ref:y,className:k}),v)});f.propTypes={divider:a.propTypesDivider,className:a.propTypesClassName,children:a.propTypesChildren},f.displayName="MaterialTailwind.DialogBody";var g=f})(boe);var yoe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(g,_){for(var y in _)Object.defineProperty(g,y,{enumerable:!0,get:_[y]})}e(n,{DialogFooter:function(){return h},default:function(){return f}});var t=c(le),i=c(ii),r=Rt,o=c(At),s=Et,a=ly;function l(){return l=Object.assign||function(g){for(var _=1;_<arguments.length;_++){var y=arguments[_];for(var m in y)Object.prototype.hasOwnProperty.call(y,m)&&(g[m]=y[m])}return g},l.apply(this,arguments)}function c(g){return g&&g.__esModule?g:{default:g}}function d(g,_){if(g==null)return{};var y=u(g,_),m,p;if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(g);for(p=0;p<v.length;p++)m=v[p],!(_.indexOf(m)>=0)&&Object.prototype.propertyIsEnumerable.call(g,m)&&(y[m]=g[m])}return y}function u(g,_){if(g==null)return{};var y={},m=Object.keys(g),p,v;for(v=0;v<m.length;v++)p=m[v],!(_.indexOf(p)>=0)&&(y[p]=g[p]);return y}var h=t.default.forwardRef(function(g,_){var y=g.className,m=g.children,p=d(g,["className","children"]),v=(0,s.useTheme)().dialogFooter,b=v.defaultProps,C=v.styles.base;y=(0,r.twMerge)(b.className||"",y);var S=(0,r.twMerge)((0,i.default)((0,o.default)(C)),y);return t.default.createElement("div",l({},p,{ref:_,className:S}),m)});h.propTypes={className:a.propTypesClassName,children:a.propTypesChildren},h.displayName="MaterialTailwind.DialogFooter";var f=h})(yoe);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(E,I){for(var N in I)Object.defineProperty(E,N,{enumerable:!0,get:I[N]})}e(n,{Dialog:function(){return k},DialogHeader:function(){return f.DialogHeader},DialogBody:function(){return g.DialogBody},DialogFooter:function(){return _.DialogFooter},default:function(){return D}});var t=p(le),i=p(Vt),r=ao,o=Lo,s=p(ii),a=p(Ko),l=Rt,c=p(or),d=p(At),u=Et,h=ly,f=voe,g=boe,_=yoe;function y(E,I,N){return I in E?Object.defineProperty(E,I,{value:N,enumerable:!0,configurable:!0,writable:!0}):E[I]=N,E}function m(){return m=Object.assign||function(E){for(var I=1;I<arguments.length;I++){var N=arguments[I];for(var R in N)Object.prototype.hasOwnProperty.call(N,R)&&(E[R]=N[R])}return E},m.apply(this,arguments)}function p(E){return E&&E.__esModule?E:{default:E}}function v(E){for(var I=1;I<arguments.length;I++){var N=arguments[I]!=null?arguments[I]:{},R=Object.keys(N);typeof Object.getOwnPropertySymbols=="function"&&(R=R.concat(Object.getOwnPropertySymbols(N).filter(function(O){return Object.getOwnPropertyDescriptor(N,O).enumerable}))),R.forEach(function(O){y(E,O,N[O])})}return E}function b(E,I){var N=Object.keys(E);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(E);I&&(R=R.filter(function(O){return Object.getOwnPropertyDescriptor(E,O).enumerable})),N.push.apply(N,R)}return N}function C(E,I){return I=I??{},Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(I)):b(Object(I)).forEach(function(N){Object.defineProperty(E,N,Object.getOwnPropertyDescriptor(I,N))}),E}function S(E,I){if(E==null)return{};var N=x(E,I),R,O;if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(E);for(O=0;O<W.length;O++)R=W[O],!(I.indexOf(R)>=0)&&Object.prototype.propertyIsEnumerable.call(E,R)&&(N[R]=E[R])}return N}function x(E,I){if(E==null)return{};var N={},R=Object.keys(E),O,W;for(W=0;W<R.length;W++)O=R[W],!(I.indexOf(O)>=0)&&(N[O]=E[O]);return N}var k=t.default.forwardRef(function(E,I){var N=E.open,R=E.handler,O=E.size,W=E.dismiss,K=E.animate,Q=E.className,Y=E.children,V=S(E,["open","handler","size","dismiss","animate","className","children"]),X=(0,u.useTheme)().dialog,J=X.defaultProps,te=X.valid,oe=X.styles,Me=oe.base,Re=oe.sizes;R=R??void 0,O=O??J.size,W=W??J.dismiss,K=K??J.animate,Q=(0,l.twMerge)(J.className||"",Q);var _e=(0,s.default)((0,d.default)(Me.backdrop)),Fe=(0,l.twMerge)((0,s.default)((0,d.default)(Me.container),(0,d.default)(Re[(0,c.default)(te.sizes,O,"md")])),Q),Oe={unmount:{opacity:0,y:-50,transition:{duration:.3}},mount:{opacity:1,y:0,transition:{duration:.3}}},De={unmount:{opacity:0,transition:{delay:.2}},mount:{opacity:1}},ze=(0,a.default)(Oe,K),ke=(0,r.useFloating)({open:N,onOpenChange:R}),Ze=ke.floating,vt=ke.context,ot=(0,r.useId)(),ct="".concat(ot,"-label"),st="".concat(ot,"-description"),ni=(0,r.useInteractions)([(0,r.useClick)(vt),(0,r.useRole)(vt),(0,r.useDismiss)(vt,W)]).getFloatingProps,Yi=(0,r.useMergeRefs)([I,Ze]),zn=o.AnimatePresence;return t.default.createElement(o.LazyMotion,{features:o.domAnimation},t.default.createElement(r.FloatingPortal,null,t.default.createElement(zn,null,N&&t.default.createElement(r.FloatingOverlay,{style:{zIndex:9999},lockScroll:!0},t.default.createElement(r.FloatingFocusManager,{context:vt},t.default.createElement(o.m.div,{className:O==="xxl"?"":_e,initial:"unmount",exit:"unmount",animate:N?"mount":"unmount",variants:De,transition:{duration:.2}},t.default.createElement(o.m.div,m({},ni(C(v({},V),{ref:Yi,className:Fe,"aria-labelledby":ct,"aria-describedby":st})),{initial:"unmount",exit:"unmount",animate:N?"mount":"unmount",variants:ze}),Y)))))))});k.propTypes={open:h.propTypesOpen,handler:h.propTypesHandler,size:i.default.oneOf(h.propTypesSize),dismiss:h.propTypesDismiss,animate:h.propTypesAnimate,className:h.propTypesClassName,children:h.propTypesChildren},k.displayName="MaterialTailwind.Dialog";var D=Object.assign(k,{Header:f.DialogHeader,Body:g.DialogBody,Footer:_.DialogFooter})})(Are);var Coe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(m,p){for(var v in p)Object.defineProperty(m,v,{enumerable:!0,get:p[v]})}e(n,{Input:function(){return _},default:function(){return y}});var t=h(le),i=h(Vt),r=h(ii),o=h(or),s=h(At),a=Et,l=_x,c=Rt;function d(m,p,v){return p in m?Object.defineProperty(m,p,{value:v,enumerable:!0,configurable:!0,writable:!0}):m[p]=v,m}function u(){return u=Object.assign||function(m){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])}return m},u.apply(this,arguments)}function h(m){return m&&m.__esModule?m:{default:m}}function f(m,p){if(m==null)return{};var v=g(m,p),b,C;if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(m);for(C=0;C<S.length;C++)b=S[C],!(p.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(m,b)&&(v[b]=m[b])}return v}function g(m,p){if(m==null)return{};var v={},b=Object.keys(m),C,S;for(S=0;S<b.length;S++)C=b[S],!(p.indexOf(C)>=0)&&(v[C]=m[C]);return v}var _=t.default.forwardRef(function(m,p){var v=m.variant,b=m.color,C=m.size,S=m.label,x=m.error,k=m.success,D=m.icon,E=m.containerProps,I=m.labelProps,N=m.className,R=m.shrink,O=m.inputRef,W=f(m,["variant","color","size","label","error","success","icon","containerProps","labelProps","className","shrink","inputRef"]),K=(0,a.useTheme)().input,Q=K.defaultProps,Y=K.valid,V=K.styles,X=V.base,J=V.variants;v=v??Q.variant,C=C??Q.size,b=b??Q.color,S=S??Q.label,I=I??Q.labelProps,E=E??Q.containerProps,R=R??Q.shrink,D=D??Q.icon,N=(0,c.twMerge)(Q.className||"",N);var te=J[(0,o.default)(Y.variants,v,"outlined")],oe=te.sizes[(0,o.default)(Y.sizes,C,"md")],Me=(0,s.default)(te.error.input),Re=(0,s.default)(te.success.input),_e=(0,s.default)(te.shrink.input),Fe=(0,s.default)(te.colors.input[(0,o.default)(Y.colors,b,"gray")]),Oe=(0,s.default)(te.error.label),De=(0,s.default)(te.success.label),ze=(0,s.default)(te.shrink.label),ke=(0,s.default)(te.colors.label[(0,o.default)(Y.colors,b,"gray")]),Ze=(0,r.default)((0,s.default)(X.container),(0,s.default)(oe.container),E==null?void 0:E.className),vt=(0,r.default)((0,s.default)(X.input),(0,s.default)(te.base.input),(0,s.default)(oe.input),d({},(0,s.default)(te.base.inputWithIcon),D),d({},Fe,!x&&!k),d({},Me,x),d({},Re,k),d({},_e,R),N),ot=(0,r.default)((0,s.default)(X.label),(0,s.default)(te.base.label),(0,s.default)(oe.label),d({},ke,!x&&!k),d({},Oe,x),d({},De,k),d({},ze,R),I==null?void 0:I.className),ct=(0,r.default)((0,s.default)(X.icon),(0,s.default)(te.base.icon),(0,s.default)(oe.icon)),st=(0,r.default)((0,s.default)(X.asterisk));return t.default.createElement("div",u({},E,{ref:p,className:Ze}),D&&t.default.createElement("div",{className:ct},D),t.default.createElement("input",u({},W,{ref:O,className:vt,placeholder:(W==null?void 0:W.placeholder)||" "})),t.default.createElement("label",u({},I,{className:ot}),S," ",W.required?t.default.createElement("span",{className:st},"*"):""))});_.propTypes={variant:i.default.oneOf(l.propTypesVariant),size:i.default.oneOf(l.propTypesSize),color:i.default.oneOf(l.propTypesColor),label:l.propTypesLabel,error:l.propTypesError,success:l.propTypesSuccess,icon:l.propTypesIcon,labelProps:l.propTypesLabelProps,containerProps:l.propTypesContainerProps,shrink:l.propTypesShrink,className:l.propTypesClassName},_.displayName="MaterialTailwind.Input";var y=_})(Coe);var woe={},Dx={},fy={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(y,m){for(var p in m)Object.defineProperty(y,p,{enumerable:!0,get:m[p]})}e(n,{propTypesOpen:function(){return o},propTypesHandler:function(){return s},propTypesPlacement:function(){return a},propTypesOffset:function(){return l},propTypesDismiss:function(){return c},propTypesAnimate:function(){return d},propTypesLockScroll:function(){return u},propTypesDisabled:function(){return h},propTypesClassName:function(){return f},propTypesChildren:function(){return g},propTypesContextValue:function(){return _}});var t=r(Vt),i=Xn;function r(y){return y&&y.__esModule?y:{default:y}}var o=t.default.bool,s=t.default.func,a=i.propTypesPlacements,l=i.propTypesOffsetType,c=t.default.shape({itemPress:t.default.bool,enabled:t.default.bool,escapeKey:t.default.bool,referencePress:t.default.bool,referencePressEvent:t.default.oneOf(["pointerdown","mousedown","click"]),outsidePress:t.default.oneOfType([t.default.bool,t.default.func]),outsidePressEvent:t.default.oneOf(["pointerdown","mousedown","click"]),ancestorScroll:t.default.bool,bubbles:t.default.oneOfType([t.default.bool,t.default.shape({escapeKey:t.default.bool,outsidePress:t.default.bool})])}),d=i.propTypesAnimation,u=t.default.bool,h=t.default.bool,f=t.default.string,g=t.default.node.isRequired,_=t.default.shape({open:t.default.bool.isRequired,handler:t.default.func.isRequired,setInternalOpen:t.default.func.isRequired,strategy:t.default.oneOf(["fixed","absolute"]).isRequired,x:t.default.number.isRequired,y:t.default.number.isRequired,reference:t.default.func.isRequired,floating:t.default.func.isRequired,listItemsRef:t.default.instanceOf(Object).isRequired,getReferenceProps:t.default.func.isRequired,getFloatingProps:t.default.func.isRequired,getItemProps:t.default.func.isRequired,appliedAnimation:d.isRequired,lockScroll:t.default.bool.isRequired,context:t.default.instanceOf(Object).isRequired,tree:t.default.any.isRequired,allowHover:t.default.bool.isRequired,activeIndex:t.default.number.isRequired,setActiveIndex:t.default.func.isRequired,nested:t.default.bool.isRequired})})(fy);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(l,c){for(var d in c)Object.defineProperty(l,d,{enumerable:!0,get:c[d]})}e(n,{MenuContext:function(){return o},useMenu:function(){return s},MenuContextProvider:function(){return a}});var t=r(le),i=fy;function r(l){return l&&l.__esModule?l:{default:l}}var o=t.default.createContext(null);o.displayName="MaterialTailwind.MenuContext";function s(){var l=t.default.useContext(o);if(!l)throw new Error("useMenu() must be used within a Menu. It happens when you use MenuCore, MenuHandler, MenuItem or MenuList components outside the Menu component.");return l}var a=function(l){var c=l.value,d=l.children;return t.default.createElement(o.Provider,{value:c},d)};a.prototypes={value:i.propTypesContextValue,children:i.propTypesChildren},a.displayName="MaterialTailwind.MenuContextProvider"})(Dx);var Soe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(p,v){for(var b in v)Object.defineProperty(p,b,{enumerable:!0,get:v[b]})}e(n,{MenuCore:function(){return y},default:function(){return m}});var t=u(le),i=u(Vt),r=ao,o=u(Ko),s=Et,a=Dx,l=fy;function c(p,v){(v==null||v>p.length)&&(v=p.length);for(var b=0,C=new Array(v);b<v;b++)C[b]=p[b];return C}function d(p){if(Array.isArray(p))return p}function u(p){return p&&p.__esModule?p:{default:p}}function h(p,v){var b=p==null?null:typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(b!=null){var C=[],S=!0,x=!1,k,D;try{for(b=b.call(p);!(S=(k=b.next()).done)&&(C.push(k.value),!(v&&C.length===v));S=!0);}catch(E){x=!0,D=E}finally{try{!S&&b.return!=null&&b.return()}finally{if(x)throw D}}return C}}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(p,v){return d(p)||h(p,v)||_(p,v)||f()}function _(p,v){if(p){if(typeof p=="string")return c(p,v);var b=Object.prototype.toString.call(p).slice(8,-1);if(b==="Object"&&p.constructor&&(b=p.constructor.name),b==="Map"||b==="Set")return Array.from(b);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return c(p,v)}}var y=t.default.forwardRef(function(p,v){var b=p.open,C=p.handler,S=p.placement,x=p.offset,k=p.dismiss,D=p.animate,E=p.lockScroll,I=p.allowHover,N=p.children,R=(0,s.useTheme)().menu,O=R.defaultProps,W=g(t.default.useState(!1),2),K=W[0],Q=W[1],Y=g(t.default.useState(!1),2),V=Y[0],X=Y[1];b=b??K,C=C??Q,S=S??O.placement,x=x??O.offset,k=k??O.dismiss,D=D??O.animate,E=E??O.lockScroll;var J={unmount:{opacity:0,transformOrigin:"top",transform:"scale(0.95)",transition:{duration:.2,times:[.4,0,.2,1]}},mount:{opacity:1,transformOrigin:"top",transform:"scale(1)",transition:{duration:.2,times:[.4,0,.2,1]}}},te=(0,o.default)(J,D),oe=g(t.default.useState(null),2),Me=oe[0],Re=oe[1],_e=t.default.useRef([]),Fe=t.default.useRef(t.default.Children.map(N,function(Z){return t.default.isValidElement(Z)?Z.props.label:null})),Oe=(0,r.useFloatingTree)(),De=(0,r.useFloatingNodeId)(),ze=(0,r.useFloatingParentNodeId)(),ke=ze!=null,Ze=(0,r.useFloating)({open:b,nodeId:De,placement:S,onOpenChange:C,middleware:[(0,r.offset)(x),(0,r.flip)(),(0,r.shift)()],whileElementsMounted:r.autoUpdate}),vt=Ze.x,ot=Ze.y,ct=Ze.strategy,st=Ze.refs,ni=Ze.context,Yi=(0,r.useInteractions)([(0,r.useHover)(ni,{handleClose:(0,r.safePolygon)({restMs:25,blockPointerEvents:!0}),enabled:I||ke&&V,delay:{open:75}}),(0,r.useClick)(ni,{toggle:!ke||!V,event:"mousedown",ignoreMouse:ke}),(0,r.useRole)(ni,{role:"menu"}),(0,r.useDismiss)(ni,k),(0,r.useListNavigation)(ni,{listRef:_e,activeIndex:Me,nested:ke,onNavigate:Re}),(0,r.useTypeahead)(ni,{listRef:Fe,onMatch:b?Re:void 0,activeIndex:Me})]),zn=Yi.getReferenceProps,be=Yi.getFloatingProps,he=Yi.getItemProps;t.default.useEffect(function(){var Z=function(){k.itemPress&&C(!1)},ae=function(Le){Le.nodeId!==De&&Le.parentId===ze&&C(!1)};return Oe==null||Oe.events.on("click",Z),Oe==null||Oe.events.on("menuopen",ae),function(){Oe==null||Oe.events.off("click",Z),Oe==null||Oe.events.off("menuopen",ae)}},[Oe,De,ze,C,k]),t.default.useEffect(function(){b&&(Oe==null||Oe.events.emit("menuopen",{parentId:ze,nodeId:De}))},[Oe,b,De,ze]),t.default.useEffect(function(){var Z=function(Le){var He=Le.pointerType;He!=="touch"&&X(!0)},ae=function(){X(!1)};return window.addEventListener("pointermove",Z,{once:!0,capture:!0}),window.addEventListener("keydown",ae,!0),function(){window.removeEventListener("pointermove",Z,{capture:!0}),window.removeEventListener("keydown",ae,!0)}},[V]);var fe=(0,r.useMergeRefs)([st.setReference,v]),$=t.default.useMemo(function(){return{open:b,handler:C,setInternalOpen:Q,strategy:ct,x:vt,y:ot,reference:fe,floating:st.setFloating,listItemsRef:_e,getReferenceProps:zn,getFloatingProps:be,getItemProps:he,appliedAnimation:te,lockScroll:E,context:ni,activeIndex:Me,tree:Oe,allowHover:I,internalAllowHover:V,nested:ke,setActiveIndex:Re}},[b,C,Q,ct,vt,ot,fe,st,zn,be,he,te,E,ni,Me,Oe,I,V,ke,Re]);return t.default.createElement(a.MenuContextProvider,{value:$},t.default.createElement(r.FloatingNode,{id:De},N))});y.propTypes={open:l.propTypesOpen,handler:l.propTypesHandler,placement:i.default.oneOf(l.propTypesPlacement),offset:l.propTypesOffset,dismiss:l.propTypesDismiss,animate:l.propTypesAnimate,lockScroll:l.propTypesLockScroll,children:l.propTypesChildren},y.displayName="MaterialTailwind.MenuCore";var m=y})(Soe);var xoe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(_,y){for(var m in y)Object.defineProperty(_,m,{enumerable:!0,get:y[m]})}e(n,{MenuHandler:function(){return f},default:function(){return g}});var t=a(le),i=ao,r=Dx,o=fy;function s(_,y,m){return y in _?Object.defineProperty(_,y,{value:m,enumerable:!0,configurable:!0,writable:!0}):_[y]=m,_}function a(_){return _&&_.__esModule?_:{default:_}}function l(_){for(var y=1;y<arguments.length;y++){var m=arguments[y]!=null?arguments[y]:{},p=Object.keys(m);typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(m).filter(function(v){return Object.getOwnPropertyDescriptor(m,v).enumerable}))),p.forEach(function(v){s(_,v,m[v])})}return _}function c(_,y){var m=Object.keys(_);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(_);y&&(p=p.filter(function(v){return Object.getOwnPropertyDescriptor(_,v).enumerable})),m.push.apply(m,p)}return m}function d(_,y){return y=y??{},Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(y)):c(Object(y)).forEach(function(m){Object.defineProperty(_,m,Object.getOwnPropertyDescriptor(y,m))}),_}function u(_,y){if(_==null)return{};var m=h(_,y),p,v;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(_);for(v=0;v<b.length;v++)p=b[v],!(y.indexOf(p)>=0)&&Object.prototype.propertyIsEnumerable.call(_,p)&&(m[p]=_[p])}return m}function h(_,y){if(_==null)return{};var m={},p=Object.keys(_),v,b;for(b=0;b<p.length;b++)v=p[b],!(y.indexOf(v)>=0)&&(m[v]=_[v]);return m}var f=t.default.forwardRef(function(_,y){var m=_.children,p=u(_,["children"]),v=(0,r.useMenu)(),b=v.getReferenceProps,C=v.reference,S=v.nested,x=(0,i.useMergeRefs)([y,C]);return t.default.cloneElement(m,l({},b(l(d(l({},p),{ref:x,onClick:function(D){D.stopPropagation()}}),S&&{role:"menuitem"}))))});f.propTypes={children:o.propTypesChildren},f.displayName="MaterialTailwind.MenuHandler";var g=f})(xoe);var Loe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(m,p){for(var v in p)Object.defineProperty(m,v,{enumerable:!0,get:p[v]})}e(n,{MenuList:function(){return _},default:function(){return y}});var t=h(le),i=ao,r=Lo,o=h(ii),s=Rt,a=h(At),l=Et,c=Dx,d=fy;function u(){return u=Object.assign||function(m){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])}return m},u.apply(this,arguments)}function h(m){return m&&m.__esModule?m:{default:m}}function f(m,p){if(m==null)return{};var v=g(m,p),b,C;if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(m);for(C=0;C<S.length;C++)b=S[C],!(p.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(m,b)&&(v[b]=m[b])}return v}function g(m,p){if(m==null)return{};var v={},b=Object.keys(m),C,S;for(S=0;S<b.length;S++)C=b[S],!(p.indexOf(C)>=0)&&(v[C]=m[C]);return v}var _=t.default.forwardRef(function(m,p){var v=m.children,b=m.className,C=f(m,["children","className"]),S=(0,l.useTheme)().menu,x=S.styles.base,k=(0,c.useMenu)(),D=k.open,E=k.handler,I=k.strategy,N=k.x,R=k.y,O=k.floating,W=k.listItemsRef,K=k.getFloatingProps,Q=k.getItemProps,Y=k.appliedAnimation,V=k.lockScroll,X=k.context,J=k.activeIndex,te=k.tree,oe=k.allowHover,Me=k.internalAllowHover,Re=k.setActiveIndex,_e=k.nested;b=b??"";var Fe=(0,s.twMerge)((0,o.default)((0,a.default)(x.menu)),b),Oe=(0,i.useMergeRefs)([p,O]),De=r.AnimatePresence,ze=t.default.createElement(r.m.div,u({},C,{ref:Oe,style:{position:I,top:R??0,left:N??0},className:Fe},K({onKeyDown:function(Ze){Ze.key==="Tab"&&(E(!1),Ze.shiftKey&&Ze.preventDefault())}}),{initial:"unmount",exit:"unmount",animate:D?"mount":"unmount",variants:Y}),t.default.Children.map(v,function(ke,Ze){return t.default.isValidElement(ke)&&t.default.cloneElement(ke,Q({tabIndex:J===Ze?0:-1,role:"menuitem",className:ke.props.className,ref:function(ot){W.current[Ze]=ot},onClick:function(ot){if(ke.props.onClick){var ct,st;(st=(ct=ke.props).onClick)===null||st===void 0||st.call(ct,ot)}te==null||te.events.emit("click")},onMouseEnter:function(){(oe&&D||Me&&D)&&Re(Ze)}}))}));return t.default.createElement(r.LazyMotion,{features:r.domAnimation},t.default.createElement(i.FloatingPortal,null,t.default.createElement(De,null,D&&t.default.createElement(t.default.Fragment,null,V?t.default.createElement(i.FloatingOverlay,{lockScroll:!0},t.default.createElement(i.FloatingFocusManager,{context:X,modal:!_e,initialFocus:_e?-1:0,returnFocus:!_e,visuallyHiddenDismiss:!0},ze)):t.default.createElement(i.FloatingFocusManager,{context:X,modal:!_e,initialFocus:_e?-1:0,returnFocus:!_e,visuallyHiddenDismiss:!0},ze)))))});_.propTypes={className:d.propTypesClassName,children:d.propTypesChildren},_.displayName="MaterialTailwind.MenuList";var y=_})(Loe);var koe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(_,y){for(var m in y)Object.defineProperty(_,m,{enumerable:!0,get:y[m]})}e(n,{MenuItem:function(){return f},default:function(){return g}});var t=d(le),i=d(ii),r=Rt,o=d(At),s=Et,a=fy;function l(_,y,m){return y in _?Object.defineProperty(_,y,{value:m,enumerable:!0,configurable:!0,writable:!0}):_[y]=m,_}function c(){return c=Object.assign||function(_){for(var y=1;y<arguments.length;y++){var m=arguments[y];for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(_[p]=m[p])}return _},c.apply(this,arguments)}function d(_){return _&&_.__esModule?_:{default:_}}function u(_,y){if(_==null)return{};var m=h(_,y),p,v;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(_);for(v=0;v<b.length;v++)p=b[v],!(y.indexOf(p)>=0)&&Object.prototype.propertyIsEnumerable.call(_,p)&&(m[p]=_[p])}return m}function h(_,y){if(_==null)return{};var m={},p=Object.keys(_),v,b;for(b=0;b<p.length;b++)v=p[b],!(y.indexOf(v)>=0)&&(m[v]=_[v]);return m}var f=t.default.forwardRef(function(_,y){var m=_.className,p=m===void 0?"":m,v=_.disabled,b=v===void 0?!1:v,C=_.children,S=u(_,["className","disabled","children"]),x=(0,s.useTheme)().menu,k=x.styles.base,D=(0,r.twMerge)((0,i.default)((0,o.default)(k.item.initial),l({},(0,o.default)(k.item.disabled),b)),p);return t.default.createElement("button",c({},S,{ref:y,role:"menuitem",className:D}),C)});f.propTypes={className:a.propTypesClassName,disabled:a.propTypesDisabled,children:a.propTypesChildren},f.displayName="MaterialTailwind.MenuItem";var g=f})(koe);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(f,g){for(var _ in g)Object.defineProperty(f,_,{enumerable:!0,get:g[_]})}e(n,{Menu:function(){return u},MenuHandler:function(){return s.MenuHandler},MenuList:function(){return a.MenuList},MenuItem:function(){return l.MenuItem},useMenu:function(){return r.useMenu},default:function(){return h}});var t=d(le),i=ao,r=Dx,o=Soe,s=xoe,a=Loe,l=koe;function c(){return c=Object.assign||function(f){for(var g=1;g<arguments.length;g++){var _=arguments[g];for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&(f[y]=_[y])}return f},c.apply(this,arguments)}function d(f){return f&&f.__esModule?f:{default:f}}var u=t.default.forwardRef(function(f,g){var _=f.open,y=f.handler,m=f.placement,p=f.offset,v=f.dismiss,b=f.animate,C=f.lockScroll,S=f.allowHover,x=f.children,k=(0,i.useFloatingParentNodeId)(),D={open:_,handler:y,placement:m,offset:p,dismiss:v,animate:b,lockScroll:C,allowHover:S};return k==null?t.default.createElement(i.FloatingTree,null,t.default.createElement(o.MenuCore,c({ref:g},D),x)):t.default.createElement(o.MenuCore,c({ref:g},D),x)});u.propTypes=o.MenuCore.propTypes,u.displayName="MaterialTailwind.Menu";var h=Object.assign(u,{Handler:s.MenuHandler,List:a.MenuList,Item:l.MenuItem})})(woe);var Doe={},Toe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(m,p){for(var v in p)Object.defineProperty(m,v,{enumerable:!0,get:p[v]})}e(n,{MobileNav:function(){return _},default:function(){return y}});var t=h(le),i=Lo,r=ao,o=h(Ko),s=h(ii),a=Rt,l=h(At),c=Et,d=GN;function u(){return u=Object.assign||function(m){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])}return m},u.apply(this,arguments)}function h(m){return m&&m.__esModule?m:{default:m}}function f(m,p){if(m==null)return{};var v=g(m,p),b,C;if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(m);for(C=0;C<S.length;C++)b=S[C],!(p.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(m,b)&&(v[b]=m[b])}return v}function g(m,p){if(m==null)return{};var v={},b=Object.keys(m),C,S;for(S=0;S<b.length;S++)C=b[S],!(p.indexOf(C)>=0)&&(v[C]=m[C]);return v}var _=t.default.forwardRef(function(m,p){var v=m.open,b=m.animate,C=m.className,S=m.children,x=f(m,["open","animate","className","children"]),k;console.error(`<MobileNav /> will be deprecated in the future versions of @material-tailwind/react use <Collapse /> instead.
      
More details: https://www.material-tailwind.com/docs/react/collapse
      `);var D=t.default.useRef(null),E=(0,c.useTheme)().navbar,I=E.styles,N=I.base.mobileNav;b=b??{},C=C??"";var R=(0,a.twMerge)((0,s.default)((0,l.default)(N)),C),O={unmount:{height:0,opacity:0,transition:{duration:.3,times:"[0.4, 0, 0.2, 1]"}},mount:{opacity:1,height:"".concat((k=D.current)===null||k===void 0?void 0:k.scrollHeight,"px"),transition:{duration:.3,times:"[0.4, 0, 0.2, 1]"}}},W=(0,o.default)(O,b),K=i.AnimatePresence,Q=(0,r.useMergeRefs)([p,D]);return t.default.createElement(i.LazyMotion,{features:i.domAnimation},t.default.createElement(K,null,t.default.createElement(i.m.div,u({},x,{ref:Q,className:R,initial:"unmount",exit:"unmount",animate:v?"mount":"unmount",variants:W}),S)))});_.displayName="MaterialTailwind.MobileNav",_.propTypes={open:d.propTypesOpen,animate:d.propTypesAnimate,className:d.propTypesClassName,children:d.propTypesChildren};var y=_})(Toe);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(p,v){for(var b in v)Object.defineProperty(p,b,{enumerable:!0,get:v[b]})}e(n,{Navbar:function(){return y},MobileNav:function(){return c.MobileNav},default:function(){return m}});var t=f(le),i=f(Vt),r=f(ii),o=Rt,s=f(or),a=f(At),l=Et,c=Toe,d=GN;function u(p,v,b){return v in p?Object.defineProperty(p,v,{value:b,enumerable:!0,configurable:!0,writable:!0}):p[v]=b,p}function h(){return h=Object.assign||function(p){for(var v=1;v<arguments.length;v++){var b=arguments[v];for(var C in b)Object.prototype.hasOwnProperty.call(b,C)&&(p[C]=b[C])}return p},h.apply(this,arguments)}function f(p){return p&&p.__esModule?p:{default:p}}function g(p,v){if(p==null)return{};var b=_(p,v),C,S;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(p);for(S=0;S<x.length;S++)C=x[S],!(v.indexOf(C)>=0)&&Object.prototype.propertyIsEnumerable.call(p,C)&&(b[C]=p[C])}return b}function _(p,v){if(p==null)return{};var b={},C=Object.keys(p),S,x;for(x=0;x<C.length;x++)S=C[x],!(v.indexOf(S)>=0)&&(b[S]=p[S]);return b}var y=t.default.forwardRef(function(p,v){var b=p.variant,C=p.color,S=p.shadow,x=p.blurred,k=p.fullWidth,D=p.className,E=p.children,I=g(p,["variant","color","shadow","blurred","fullWidth","className","children"]),N=(0,l.useTheme)().navbar,R=N.defaultProps,O=N.valid,W=N.styles,K=W.base,Q=W.variants;b=b??R.variant,C=C??R.color,S=S??R.shadow,x=x??R.blurred,k=k??R.fullWidth,D=(0,o.twMerge)(R.className||"",D);var Y,V=(0,r.default)((0,a.default)(K.navbar.initial),(Y={},u(Y,(0,a.default)(K.navbar.shadow),S),u(Y,(0,a.default)(K.navbar.blurred),x&&C==="white"),u(Y,(0,a.default)(K.navbar.fullWidth),k),Y)),X=(0,r.default)((0,a.default)(Q[(0,s.default)(O.variants,b,"filled")][(0,s.default)(O.colors,C,"white")])),J=(0,o.twMerge)((0,r.default)(V,X),D);return t.default.createElement("nav",h({},I,{ref:v,className:J}),E)});y.propTypes={variant:i.default.oneOf(d.propTypesVariant),color:i.default.oneOf(d.propTypesColor),shadow:d.propTypesShadow,blurred:d.propTypesBlurred,fullWidth:d.propTypesFullWidth,className:d.propTypesClassName,children:d.propTypesChildren},y.displayName="MaterialTailwind.Navbar";var m=Object.assign(y,{MobileNav:c.MobileNav})})(Doe);var Eoe={},fP={},gy={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(y,m){for(var p in m)Object.defineProperty(y,p,{enumerable:!0,get:m[p]})}e(n,{propTypesOpen:function(){return o},propTypesHandler:function(){return s},propTypesPlacement:function(){return a},propTypesOffset:function(){return l},propTypesDismiss:function(){return c},propTypesAnimate:function(){return d},propTypesContent:function(){return u},propTypesInteractive:function(){return h},propTypesClassName:function(){return f},propTypesChildren:function(){return g},propTypesContextValue:function(){return _}});var t=r(Vt),i=Xn;function r(y){return y&&y.__esModule?y:{default:y}}var o=t.default.bool,s=t.default.func,a=i.propTypesPlacements,l=i.propTypesOffsetType,c=i.propTypesDismissType,d=i.propTypesAnimation,u=t.default.node,h=t.default.bool,f=t.default.string,g=t.default.node.isRequired,_=t.default.shape({open:t.default.bool.isRequired,strategy:t.default.oneOf(["fixed","absolute"]).isRequired,x:t.default.number,y:t.default.number,context:t.default.instanceOf(Object).isRequired,reference:t.default.func.isRequired,floating:t.default.func.isRequired,getReferenceProps:t.default.func.isRequired,getFloatingProps:t.default.func.isRequired,appliedAnimation:d.isRequired,labelId:t.default.string.isRequired,descriptionId:t.default.string.isRequired}).isRequired})(gy);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(l,c){for(var d in c)Object.defineProperty(l,d,{enumerable:!0,get:c[d]})}e(n,{PopoverContext:function(){return o},usePopover:function(){return s},PopoverContextProvider:function(){return a}});var t=r(le),i=gy;function r(l){return l&&l.__esModule?l:{default:l}}var o=t.default.createContext(null);o.displayName="MaterialTailwind.PopoverContext";function s(){var l=t.default.useContext(o);if(!l)throw new Error("usePopover() must be used within a Popover. It happens when you use PopoverHandler or PopoverContent components outside the Popover component.");return l}var a=function(l){var c=l.value,d=l.children;return t.default.createElement(o.Provider,{value:c},d)};a.propTypes={value:i.propTypesContextValue,children:i.propTypesChildren},a.displayName="MaterialTailwind.PopoverContextProvider"})(fP);var Ioe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(_,y){for(var m in y)Object.defineProperty(_,m,{enumerable:!0,get:y[m]})}e(n,{PopoverHandler:function(){return f},default:function(){return g}});var t=a(le),i=ao,r=fP,o=gy;function s(_,y,m){return y in _?Object.defineProperty(_,y,{value:m,enumerable:!0,configurable:!0,writable:!0}):_[y]=m,_}function a(_){return _&&_.__esModule?_:{default:_}}function l(_){for(var y=1;y<arguments.length;y++){var m=arguments[y]!=null?arguments[y]:{},p=Object.keys(m);typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(m).filter(function(v){return Object.getOwnPropertyDescriptor(m,v).enumerable}))),p.forEach(function(v){s(_,v,m[v])})}return _}function c(_,y){var m=Object.keys(_);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(_);y&&(p=p.filter(function(v){return Object.getOwnPropertyDescriptor(_,v).enumerable})),m.push.apply(m,p)}return m}function d(_,y){return y=y??{},Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(y)):c(Object(y)).forEach(function(m){Object.defineProperty(_,m,Object.getOwnPropertyDescriptor(y,m))}),_}function u(_,y){if(_==null)return{};var m=h(_,y),p,v;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(_);for(v=0;v<b.length;v++)p=b[v],!(y.indexOf(p)>=0)&&Object.prototype.propertyIsEnumerable.call(_,p)&&(m[p]=_[p])}return m}function h(_,y){if(_==null)return{};var m={},p=Object.keys(_),v,b;for(b=0;b<p.length;b++)v=p[b],!(y.indexOf(v)>=0)&&(m[v]=_[v]);return m}var f=t.default.forwardRef(function(_,y){var m=_.children,p=u(_,["children"]),v=(0,r.usePopover)(),b=v.getReferenceProps,C=v.reference,S=(0,i.useMergeRefs)([y,C]);return t.default.cloneElement(m,l({},b(d(l({},p),{ref:S}))))});f.propTypes={children:o.propTypesChildren},f.displayName="MaterialTailwind.PopoverHandler";var g=f})(Ioe);var Noe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(C,S){for(var x in S)Object.defineProperty(C,x,{enumerable:!0,get:S[x]})}e(n,{PopoverContent:function(){return v},default:function(){return b}});var t=f(le),i=ao,r=Lo,o=f(ii),s=Rt,a=f(At),l=Et,c=fP,d=gy;function u(C,S,x){return S in C?Object.defineProperty(C,S,{value:x,enumerable:!0,configurable:!0,writable:!0}):C[S]=x,C}function h(){return h=Object.assign||function(C){for(var S=1;S<arguments.length;S++){var x=arguments[S];for(var k in x)Object.prototype.hasOwnProperty.call(x,k)&&(C[k]=x[k])}return C},h.apply(this,arguments)}function f(C){return C&&C.__esModule?C:{default:C}}function g(C){for(var S=1;S<arguments.length;S++){var x=arguments[S]!=null?arguments[S]:{},k=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(k=k.concat(Object.getOwnPropertySymbols(x).filter(function(D){return Object.getOwnPropertyDescriptor(x,D).enumerable}))),k.forEach(function(D){u(C,D,x[D])})}return C}function _(C,S){var x=Object.keys(C);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(C);S&&(k=k.filter(function(D){return Object.getOwnPropertyDescriptor(C,D).enumerable})),x.push.apply(x,k)}return x}function y(C,S){return S=S??{},Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(S)):_(Object(S)).forEach(function(x){Object.defineProperty(C,x,Object.getOwnPropertyDescriptor(S,x))}),C}function m(C,S){if(C==null)return{};var x=p(C,S),k,D;if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(C);for(D=0;D<E.length;D++)k=E[D],!(S.indexOf(k)>=0)&&Object.prototype.propertyIsEnumerable.call(C,k)&&(x[k]=C[k])}return x}function p(C,S){if(C==null)return{};var x={},k=Object.keys(C),D,E;for(E=0;E<k.length;E++)D=k[E],!(S.indexOf(D)>=0)&&(x[D]=C[D]);return x}var v=t.default.forwardRef(function(C,S){var x=C.children,k=C.className,D=m(C,["children","className"]),E=(0,l.useTheme)().popover,I=E.defaultProps,N=E.styles.base,R=(0,c.usePopover)(),O=R.open,W=R.strategy,K=R.x,Q=R.y,Y=R.context,V=R.floating,X=R.getFloatingProps,J=R.appliedAnimation,te=R.labelId,oe=R.descriptionId;k=(0,s.twMerge)(I.className||"",k);var Me=(0,s.twMerge)((0,o.default)((0,a.default)(N)),k),Re=(0,i.useMergeRefs)([S,V]),_e=r.AnimatePresence;return t.default.createElement(r.LazyMotion,{features:r.domAnimation},t.default.createElement(i.FloatingPortal,null,t.default.createElement(_e,null,O&&t.default.createElement(i.FloatingFocusManager,{context:Y},t.default.createElement(r.m.div,h({},X(y(g({},D),{ref:Re,className:Me,style:{position:W,top:Q??"",left:K??""},"aria-labelledby":te,"aria-describedby":oe})),{initial:"unmount",exit:"unmount",animate:O?"mount":"unmount",variants:J}),x)))))});v.propTypes={className:d.propTypesClassName,children:d.propTypesChildren},v.displayName="MaterialTailwind.PopoverContent";var b=v})(Noe);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(b,C){for(var S in C)Object.defineProperty(b,S,{enumerable:!0,get:C[S]})}e(n,{Popover:function(){return p},PopoverHandler:function(){return c.PopoverHandler},PopoverContent:function(){return d.PopoverContent},usePopover:function(){return a.usePopover},default:function(){return v}});var t=f(le),i=f(Vt),r=ao,o=f(Ko),s=Et,a=fP,l=gy,c=Ioe,d=Noe;function u(b,C){(C==null||C>b.length)&&(C=b.length);for(var S=0,x=new Array(C);S<C;S++)x[S]=b[S];return x}function h(b){if(Array.isArray(b))return b}function f(b){return b&&b.__esModule?b:{default:b}}function g(b,C){var S=b==null?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(S!=null){var x=[],k=!0,D=!1,E,I;try{for(S=S.call(b);!(k=(E=S.next()).done)&&(x.push(E.value),!(C&&x.length===C));k=!0);}catch(N){D=!0,I=N}finally{try{!k&&S.return!=null&&S.return()}finally{if(D)throw I}}return x}}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(b,C){return h(b)||g(b,C)||m(b,C)||_()}function m(b,C){if(b){if(typeof b=="string")return u(b,C);var S=Object.prototype.toString.call(b).slice(8,-1);if(S==="Object"&&b.constructor&&(S=b.constructor.name),S==="Map"||S==="Set")return Array.from(S);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return u(b,C)}}var p=function(b){var C=b.open,S=b.handler,x=b.placement,k=b.offset,D=b.dismiss,E=b.animate,I=b.children,N=(0,s.useTheme)().popover,R=N.defaultProps,O=y(t.default.useState(!1),2),W=O[0],K=O[1];C=C??W,S=S??K,x=x??R.placement,k=k??R.offset,D=D??R.dismiss,E=E??R.animate;var Q={unmount:{opacity:0},mount:{opacity:1}},Y=(0,o.default)(Q,E),V=(0,r.useFloating)({open:C,onOpenChange:S,middleware:[(0,r.offset)(k),(0,r.flip)(),(0,r.shift)()],placement:x}),X=V.x,J=V.y,te=V.reference,oe=V.floating,Me=V.strategy,Re=V.refs,_e=V.update,Fe=V.context,Oe=(0,r.useId)(),De="".concat(Oe,"-label"),ze="".concat(Oe,"-description"),ke=(0,r.useInteractions)([(0,r.useClick)(Fe),(0,r.useRole)(Fe),(0,r.useDismiss)(Fe,D)]),Ze=ke.getReferenceProps,vt=ke.getFloatingProps;t.default.useEffect(function(){if(Re.reference.current&&Re.floating.current&&C)return(0,r.autoUpdate)(Re.reference.current,Re.floating.current,_e)},[C,_e,Re.reference,Re.floating]);var ot=t.default.useMemo(function(){return{open:C,strategy:Me,x:X,y:J,context:Fe,reference:te,floating:oe,getReferenceProps:Ze,getFloatingProps:vt,appliedAnimation:Y,labelId:De,descriptionId:ze}},[C,Me,X,J,Fe,te,oe,vt,Ze,Y,De,ze]);return t.default.createElement(a.PopoverContextProvider,{value:ot},I)};p.propTypes={open:l.propTypesOpen,handler:l.propTypesHandler,placement:i.default.oneOf(l.propTypesPlacement),offset:l.propTypesOffset,dismiss:l.propTypesDismiss,animate:l.propTypesAnimate,children:l.propTypesChildren},p.displayName="MaterialTailwind.Popover";var v=Object.assign(p,{Handler:c.PopoverHandler,Content:d.PopoverContent})})(Eoe);var Poe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(m,p){for(var v in p)Object.defineProperty(m,v,{enumerable:!0,get:p[v]})}e(n,{Progress:function(){return _},default:function(){return y}});var t=h(le),i=h(Vt),r=h(ii),o=Rt,s=h(or),a=h(At),l=Et,c=$7;function d(m,p,v){return p in m?Object.defineProperty(m,p,{value:v,enumerable:!0,configurable:!0,writable:!0}):m[p]=v,m}function u(){return u=Object.assign||function(m){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])}return m},u.apply(this,arguments)}function h(m){return m&&m.__esModule?m:{default:m}}function f(m,p){if(m==null)return{};var v=g(m,p),b,C;if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(m);for(C=0;C<S.length;C++)b=S[C],!(p.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(m,b)&&(v[b]=m[b])}return v}function g(m,p){if(m==null)return{};var v={},b=Object.keys(m),C,S;for(S=0;S<b.length;S++)C=b[S],!(p.indexOf(C)>=0)&&(v[C]=m[C]);return v}var _=t.default.forwardRef(function(m,p){var v=m.variant,b=m.color,C=m.size,S=m.value,x=m.label,k=m.className,D=m.barProps,E=f(m,["variant","color","size","value","label","className","barProps"]),I=(0,l.useTheme)().progress,N=I.defaultProps,R=I.valid,O=I.styles,W=O.base,K=O.variants,Q=O.sizes;v=v??N.variant,b=b??N.color,C=C??N.size,x=x??N.label,D=D??N.barProps,k=(0,o.twMerge)(N.className||"",k);var Y=(0,a.default)(K[(0,s.default)(R.variants,v,"filled")][(0,s.default)(R.colors,b,"gray")]),V=(0,a.default)(Q[(0,s.default)(R.sizes,C,"md")].container.initial),X=(0,r.default)((0,a.default)(W.container.initial),V),J=(0,a.default)(Q[(0,s.default)(R.sizes,C,"md")].container.withLabel),te=(0,r.default)((0,a.default)(W.container.withLabel),J),oe=(0,a.default)(Q[(0,s.default)(R.sizes,C,"md")].bar),Me=(0,r.default)((0,a.default)(W.bar),oe),Re=(0,o.twMerge)((0,r.default)(X,d({},te,x)),k),_e=(0,o.twMerge)((0,r.default)(Me,Y),D==null?void 0:D.className);return t.default.createElement("div",u({},E,{ref:p,className:Re}),t.default.createElement("div",u({},D,{className:_e,style:{width:"".concat(S,"%")}}),x&&"".concat(S,"% ").concat(typeof x=="string"?x:"")))});_.propTypes={variant:i.default.oneOf(c.propTypesVariant),color:i.default.oneOf(c.propTypesColor),size:i.default.oneOf(c.propTypesSize),value:c.propTypesValue,label:c.propTypesLabel,barProps:c.propTypesBarProps,className:c.propTypesClassName},_.displayName="MaterialTailwind.Progress";var y=_})(Poe);var Moe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(p,v){for(var b in v)Object.defineProperty(p,b,{enumerable:!0,get:v[b]})}e(n,{Radio:function(){return y},default:function(){return m}});var t=f(le),i=f(Vt),r=f(dy),o=f(ii),s=Rt,a=f(or),l=f(At),c=Et,d=S_;function u(p,v,b){return v in p?Object.defineProperty(p,v,{value:b,enumerable:!0,configurable:!0,writable:!0}):p[v]=b,p}function h(){return h=Object.assign||function(p){for(var v=1;v<arguments.length;v++){var b=arguments[v];for(var C in b)Object.prototype.hasOwnProperty.call(b,C)&&(p[C]=b[C])}return p},h.apply(this,arguments)}function f(p){return p&&p.__esModule?p:{default:p}}function g(p,v){if(p==null)return{};var b=_(p,v),C,S;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(p);for(S=0;S<x.length;S++)C=x[S],!(v.indexOf(C)>=0)&&Object.prototype.propertyIsEnumerable.call(p,C)&&(b[C]=p[C])}return b}function _(p,v){if(p==null)return{};var b={},C=Object.keys(p),S,x;for(x=0;x<C.length;x++)S=C[x],!(v.indexOf(S)>=0)&&(b[S]=p[S]);return b}var y=t.default.forwardRef(function(p,v){var b=p.color,C=p.label,S=p.icon,x=p.ripple,k=p.className,D=p.disabled,E=p.containerProps,I=p.labelProps,N=p.iconProps,R=p.inputRef,O=g(p,["color","label","icon","ripple","className","disabled","containerProps","labelProps","iconProps","inputRef"]),W=(0,c.useTheme)().radio,K=W.defaultProps,Q=W.valid,Y=W.styles,V=Y.base,X=Y.colors,J=t.default.useId();b=b??K.color,C=C??K.label,S=S??K.icon,x=x??K.ripple,D=D??K.disabled,E=E??K.containerProps,I=I??K.labelProps,N=N??K.iconProps,k=(0,s.twMerge)(K.className||"",k);var te=x!==void 0&&new r.default,oe=(0,o.default)((0,l.default)(V.root),u({},(0,l.default)(V.disabled),D)),Me=(0,s.twMerge)((0,o.default)((0,l.default)(V.container)),E==null?void 0:E.className),Re=(0,s.twMerge)((0,o.default)((0,l.default)(V.input),(0,l.default)(X[(0,a.default)(Q.colors,b,"gray")])),k),_e=(0,s.twMerge)((0,o.default)((0,l.default)(V.label)),I==null?void 0:I.className),Fe=(0,o.default)((0,o.default)((0,l.default)(V.icon)),X[(0,a.default)(Q.colors,b,"gray")].color,N==null?void 0:N.className);return t.default.createElement("div",{ref:v,className:oe},t.default.createElement("label",h({},E,{className:Me,htmlFor:O.id||J,onMouseDown:function(Oe){var De=E==null?void 0:E.onMouseDown;return x&&te.create(Oe,"dark"),typeof De=="function"&&De(Oe)}}),t.default.createElement("input",h({},O,{ref:R,type:"radio",disabled:D,className:Re,id:O.id||J})),t.default.createElement("span",{className:Fe},S||t.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"currentColor"},t.default.createElement("circle",{"data-name":"ellipse",cx:"8",cy:"8",r:"8"})))),C&&t.default.createElement("label",h({},I,{className:_e,htmlFor:O.id||J}),C))});y.propTypes={color:i.default.oneOf(d.propTypesColor),label:d.propTypesLabel,icon:d.propTypesIcon,ripple:d.propTypesRipple,className:d.propTypesClassName,disabled:d.propTypesDisabled,containerProps:d.propTypesObject,labelProps:d.propTypesObject},y.displayName="MaterialTailwind.Radio";var m=y})(Moe);var Roe={},PW={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(d,u){for(var h in u)Object.defineProperty(d,h,{enumerable:!0,get:u[h]})}e(n,{SelectContext:function(){return s},useSelect:function(){return a},usePrevious:function(){return l},SelectContextProvider:function(){return c}});var t=o(le),i=Lo,r=vx;function o(d){return d&&d.__esModule?d:{default:d}}var s=t.default.createContext(null);s.displayName="MaterialTailwind.SelectContext";function a(){var d=t.default.useContext(s);if(d===null)throw new Error("useSelect() must be used within a Select. It happens when you use SelectOption component outside the Select component.");return d}function l(d){var u=t.default.useRef();return(0,i.useIsomorphicLayoutEffect)(function(){u.current=d},[d]),u.current}var c=function(d){var u=d.value,h=d.children;return t.default.createElement(s.Provider,{value:u},h)};c.propTypes={value:r.propTypesContextValue,children:r.propTypesChildren},c.displayName="MaterialTailwind.SelectContextProvider"})(PW);var Aoe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(y,m){for(var p in m)Object.defineProperty(y,p,{enumerable:!0,get:m[p]})}e(n,{SelectOption:function(){return g},default:function(){return _}});var t=u(le),i=u(ii),r=Rt,o=u(At),s=Et,a=PW,l=vx;function c(y,m,p){return m in y?Object.defineProperty(y,m,{value:p,enumerable:!0,configurable:!0,writable:!0}):y[m]=p,y}function d(){return d=Object.assign||function(y){for(var m=1;m<arguments.length;m++){var p=arguments[m];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[v]=p[v])}return y},d.apply(this,arguments)}function u(y){return y&&y.__esModule?y:{default:y}}function h(y,m){if(y==null)return{};var p=f(y,m),v,b;if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(y);for(b=0;b<C.length;b++)v=C[b],!(m.indexOf(v)>=0)&&Object.prototype.propertyIsEnumerable.call(y,v)&&(p[v]=y[v])}return p}function f(y,m){if(y==null)return{};var p={},v=Object.keys(y),b,C;for(C=0;C<v.length;C++)b=v[C],!(m.indexOf(b)>=0)&&(p[b]=y[b]);return p}var g=function(y){var m=function(){Y(S),J(b),X(!1),oe(null)},p=function(Ze){(Ze.key==="Enter"||Ze.key===" "&&!Re.current.typing)&&(Ze.preventDefault(),m())},v=y.value,b=v===void 0?"":v,C=y.index,S=C===void 0?0:C,x=y.disabled,k=x===void 0?!1:x,D=y.className,E=D===void 0?"":D,I=y.children,N=h(y,["value","index","disabled","className","children"]),R=(0,s.useTheme)().select,O=R.styles,W=O.base,K=(0,a.useSelect)(),Q=K.selectedIndex,Y=K.setSelectedIndex,V=K.listRef,X=K.setOpen,J=K.onChange,te=K.activeIndex,oe=K.setActiveIndex,Me=K.getItemProps,Re=K.dataRef,_e=(0,o.default)(W.option.initial),Fe=(0,o.default)(W.option.active),Oe=(0,o.default)(W.option.disabled),De,ze=(0,r.twMerge)((0,i.default)(_e,(De={},c(De,Fe,Q===S),c(De,Oe,k),De)),E??"");return t.default.createElement("li",d({},N,{role:"option",ref:function(ke){return V.current[S]=ke},className:ze,disabled:k,tabIndex:te===S?0:1,"aria-selected":te===S&&Q===S,"data-selected":Q===S},Me({onClick:function(ke){var Ze=N==null?void 0:N.onClick;typeof Ze=="function"&&(Ze(ke),m()),m()},onKeyDown:function(ke){var Ze=N==null?void 0:N.onKeyDown;typeof Ze=="function"&&(Ze(ke),p(ke)),p(ke)}})),I)};g.propTypes={value:l.propTypesValue,index:l.propTypesIndex,disabled:l.propTypesDisabled,className:l.propTypesClassName,children:l.propTypesChildren},g.displayName="MaterialTailwind.SelectOption";var _=g})(Aoe);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(V,X){for(var J in X)Object.defineProperty(V,J,{enumerable:!0,get:X[J]})}e(n,{Select:function(){return Q},Option:function(){return g.SelectOption},useSelect:function(){return h.useSelect},usePrevious:function(){return h.usePrevious},default:function(){return Y}});var t=b(le),i=b(Vt),r=ao,o=Lo,s=b(ii),a=Rt,l=b(Ko),c=b(or),d=b(At),u=Et,h=PW,f=vx,g=Aoe;function _(V,X){(X==null||X>V.length)&&(X=V.length);for(var J=0,te=new Array(X);J<X;J++)te[J]=V[J];return te}function y(V){if(Array.isArray(V))return V}function m(V){if(Array.isArray(V))return _(V)}function p(V,X,J){return X in V?Object.defineProperty(V,X,{value:J,enumerable:!0,configurable:!0,writable:!0}):V[X]=J,V}function v(){return v=Object.assign||function(V){for(var X=1;X<arguments.length;X++){var J=arguments[X];for(var te in J)Object.prototype.hasOwnProperty.call(J,te)&&(V[te]=J[te])}return V},v.apply(this,arguments)}function b(V){return V&&V.__esModule?V:{default:V}}function C(V){if(typeof Symbol<"u"&&V[Symbol.iterator]!=null||V["@@iterator"]!=null)return Array.from(V)}function S(V,X){var J=V==null?null:typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(J!=null){var te=[],oe=!0,Me=!1,Re,_e;try{for(J=J.call(V);!(oe=(Re=J.next()).done)&&(te.push(Re.value),!(X&&te.length===X));oe=!0);}catch(Fe){Me=!0,_e=Fe}finally{try{!oe&&J.return!=null&&J.return()}finally{if(Me)throw _e}}return te}}function x(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(V){for(var X=1;X<arguments.length;X++){var J=arguments[X]!=null?arguments[X]:{},te=Object.keys(J);typeof Object.getOwnPropertySymbols=="function"&&(te=te.concat(Object.getOwnPropertySymbols(J).filter(function(oe){return Object.getOwnPropertyDescriptor(J,oe).enumerable}))),te.forEach(function(oe){p(V,oe,J[oe])})}return V}function E(V,X){var J=Object.keys(V);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(V);X&&(te=te.filter(function(oe){return Object.getOwnPropertyDescriptor(V,oe).enumerable})),J.push.apply(J,te)}return J}function I(V,X){return X=X??{},Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(X)):E(Object(X)).forEach(function(J){Object.defineProperty(V,J,Object.getOwnPropertyDescriptor(X,J))}),V}function N(V,X){if(V==null)return{};var J=R(V,X),te,oe;if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(V);for(oe=0;oe<Me.length;oe++)te=Me[oe],!(X.indexOf(te)>=0)&&Object.prototype.propertyIsEnumerable.call(V,te)&&(J[te]=V[te])}return J}function R(V,X){if(V==null)return{};var J={},te=Object.keys(V),oe,Me;for(Me=0;Me<te.length;Me++)oe=te[Me],!(X.indexOf(oe)>=0)&&(J[oe]=V[oe]);return J}function O(V,X){return y(V)||S(V,X)||K(V,X)||x()}function W(V){return m(V)||C(V)||K(V)||k()}function K(V,X){if(V){if(typeof V=="string")return _(V,X);var J=Object.prototype.toString.call(V).slice(8,-1);if(J==="Object"&&V.constructor&&(J=V.constructor.name),J==="Map"||J==="Set")return Array.from(J);if(J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J))return _(V,X)}}var Q=t.default.forwardRef(function(V,X){var J=V.variant,te=V.color,oe=V.size,Me=V.label,Re=V.error,_e=V.success,Fe=V.arrow,Oe=V.value,De=V.onChange,ze=V.selected,ke=V.offset,Ze=V.dismiss,vt=V.animate,ot=V.lockScroll,ct=V.labelProps,st=V.menuProps,ni=V.className,Yi=V.disabled,zn=V.name,be=V.children,he=V.containerProps,fe=N(V,["variant","color","size","label","error","success","arrow","value","onChange","selected","offset","dismiss","animate","lockScroll","labelProps","menuProps","className","disabled","name","children","containerProps"]),$,Z=(0,u.useTheme)().select,ae=Z.defaultProps,se=Z.valid,Le=Z.styles,He=Le.base,Ye=Le.variants,nt=O(t.default.useState("close"),2),bt=nt[0],gt=nt[1];J=J??ae.variant,te=te??ae.color,oe=oe??ae.size,Me=Me??ae.label,Re=Re??ae.error,_e=_e??ae.success,Fe=Fe??ae.arrow,Oe=Oe??ae.value,De=De??ae.onChange,ze=ze??ae.selected,ke=ke??ae.offset,Ze=Ze??ae.dismiss,vt=vt??ae.animate,ct=ct??ae.labelProps,st=st??ae.menuProps;var ci;he=(ci=(0,l.default)(he,(ae==null?void 0:ae.containerProps)||{}))!==null&&ci!==void 0?ci:ae.containerProps,ni=(0,a.twMerge)(ae.className||"",ni),be=Array.isArray(be)?be:[be];var Qt=t.default.useRef([]),ut,fi=t.default.useRef(W((ut=t.default.Children.map(be,function(er){var sr=er.props;return sr==null?void 0:sr.value}))!==null&&ut!==void 0?ut:[])),Ui=O(t.default.useState(!1),2),An=Ui[0],ri=Ui[1],rn=O(t.default.useState(null),2),co=rn[0],Ys=rn[1],Do=O(t.default.useState(0),2),Qn=Do[0],Ss=Do[1],Ra=O(t.default.useState(!1),2),Ql=Ra[0],Xo=Ra[1],wu=(0,h.usePrevious)(co),uo=(0,r.useFloating)({placement:"bottom-start",open:An,onOpenChange:ri,whileElementsMounted:r.autoUpdate,middleware:[(0,r.offset)(5),(0,r.flip)({padding:10}),(0,r.size)({apply:function(sr){var _r=sr.rects,ad=sr.elements,Kh,Gh;Object.assign(ad==null||(Kh=ad.floating)===null||Kh===void 0?void 0:Kh.style,{width:"".concat(_r==null||(Gh=_r.reference)===null||Gh===void 0?void 0:Gh.width,"px"),zIndex:99})},padding:20})]}),xs=uo.x,fl=uo.y,Su=uo.strategy,zh=uo.refs,Qo=uo.context;t.default.useEffect(function(){Ss(Math.max(0,fi.current.indexOf(Oe)+1))},[Oe]);var Aa=zh.floating,jh=(0,r.useInteractions)([(0,r.useClick)(Qo),(0,r.useRole)(Qo,{role:"listbox"}),(0,r.useDismiss)(Qo,D({},Ze)),(0,r.useListNavigation)(Qo,{listRef:Qt,activeIndex:co,selectedIndex:Qn,onNavigate:Ys,loop:!0}),(0,r.useTypeahead)(Qo,{listRef:fi,activeIndex:co,selectedIndex:Qn,onMatch:An?Ys:Ss})]),q_=jh.getReferenceProps,K_=jh.getFloatingProps,xu=jh.getItemProps;(0,o.useIsomorphicLayoutEffect)(function(){var er=Aa.current;if(An&&Ql&&er){var sr=co!=null?Qt.current[co]:Qn!=null?Qt.current[Qn]:null;if(sr&&wu!=null){var _r,ad,Kh=(ad=(_r=Qt.current[wu])===null||_r===void 0?void 0:_r.offsetHeight)!==null&&ad!==void 0?ad:0,Gh=er.offsetHeight,Hy=sr.offsetTop,xL=Hy+Kh;Hy<er.scrollTop?er.scrollTop-=er.scrollTop-Hy+5:xL>Gh+er.scrollTop&&(er.scrollTop+=xL-Gh-er.scrollTop+5)}}},[An,Ql,wu,co]);var G_=t.default.useMemo(function(){return{selectedIndex:Qn,setSelectedIndex:Ss,listRef:Qt,setOpen:ri,onChange:De||function(){},activeIndex:co,setActiveIndex:Ys,getItemProps:xu,dataRef:Qo.dataRef}},[Qn,De,co,xu,Qo.dataRef]);t.default.useEffect(function(){gt(An?"open":!An&&Qn||!An&&Oe?"withValue":"close")},[An,Oe,Qn,ze]);var Ct=Ye[(0,c.default)(se.variants,J,"outlined")],ve=Ct.sizes[(0,c.default)(se.sizes,oe,"md")],Ge=Ct.error.select,pt=Ct.success.select,$i=Ct.colors.select[(0,c.default)(se.colors,te,"gray")],Jn=Ct.error.label,ho=Ct.success.label,bn=Ct.colors.label[(0,c.default)(se.colors,te,"gray")],To=Ct.states[bt],Uh=(0,s.default)((0,d.default)(He.container),(0,d.default)(ve.container),he==null?void 0:he.className),$h=(0,a.twMerge)((0,s.default)((0,d.default)(He.select),(0,d.default)(Ct.base.select),(0,d.default)(To.select),(0,d.default)(ve.select),p({},(0,d.default)($i[bt]),!Re&&!_e),p({},(0,d.default)(Ge.initial),Re),p({},(0,d.default)(Ge.states[bt]),Re),p({},(0,d.default)(pt.initial),_e),p({},(0,d.default)(pt.states[bt]),_e)),ni),sd,R2=(0,a.twMerge)((0,s.default)((0,d.default)(He.label),(0,d.default)(Ct.base.label),(0,d.default)(To.label),(0,d.default)(ve.label.initial),(0,d.default)(ve.label.states[bt]),p({},(0,d.default)(bn[bt]),!Re&&!_e),p({},(0,d.default)(Jn.initial),Re),p({},(0,d.default)(Jn.states[bt]),Re),p({},(0,d.default)(ho.initial),_e),p({},(0,d.default)(ho.states[bt]),_e)),(sd=ct.className)!==null&&sd!==void 0?sd:""),wL=(0,s.default)((0,d.default)(He.arrow.initial),p({},(0,d.default)(He.arrow.active),An)),Lu,SL=(0,a.twMerge)((0,s.default)((0,d.default)(He.menu)),(Lu=st.className)!==null&&Lu!==void 0?Lu:""),qh=(0,s.default)("absolute top-2/4 -translate-y-2/4",J==="outlined"?"left-3 pt-0.5":"left-0 pt-3"),A2={unmount:{opacity:0,transformOrigin:"top",transform:"scale(0.95)",transition:{duration:.2,times:[.4,0,.2,1]}},mount:{opacity:1,transformOrigin:"top",transform:"scale(1)",transition:{duration:.2,times:[.4,0,.2,1]}}},O2=(0,l.default)(A2,vt),F2=o.AnimatePresence;t.default.useEffect(function(){Oe&&!De&&console.error("Warning: You provided a `value` prop to a select component without an `onChange` handler. This will render a read-only select. If the field should be mutable use `onChange` handler with `value` together.")},[Oe,De]);var Z_=t.default.createElement(r.FloatingFocusManager,{context:Qo,modal:!1},t.default.createElement(o.m.ul,v({},K_(I(D({},st),{ref:zh.setFloating,role:"listbox",className:SL,style:{position:Su,top:fl??0,left:xs??0,overflow:"auto"},onPointerEnter:function(sr){var _r=st==null?void 0:st.onPointerEnter;typeof _r=="function"&&(_r(sr),Xo(!1)),Xo(!1)},onPointerMove:function(sr){var _r=st==null?void 0:st.onPointerMove;typeof _r=="function"&&(_r(sr),Xo(!1)),Xo(!1)},onKeyDown:function(sr){var _r=st==null?void 0:st.onKeyDown;typeof _r=="function"&&(_r(sr),Xo(!0)),Xo(!0)}})),{initial:"unmount",exit:"unmount",animate:An?"mount":"unmount",variants:O2}),t.default.Children.map(be,function(er,sr){var _r;return t.default.isValidElement(er)&&t.default.cloneElement(er,I(D({},er.props),{index:((_r=er.props)===null||_r===void 0?void 0:_r.index)||sr+1,id:"material-tailwind-select-".concat(sr)}))})));return t.default.createElement(h.SelectContextProvider,{value:G_},t.default.createElement("div",v({},he,{ref:X,className:Uh}),t.default.createElement("button",v({type:"button"},q_(I(D({},fe),{ref:zh.setReference,className:$h,disabled:Yi,name:zn}))),typeof ze=="function"?t.default.createElement("span",{className:qh},ze(be[Qn-1],Qn-1)):Oe&&!De?t.default.createElement("span",{className:qh},Oe):t.default.createElement("span",v({},($=be[Qn-1])===null||$===void 0?void 0:$.props,{className:qh})),t.default.createElement("div",{className:wL},Fe??t.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},t.default.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})))),t.default.createElement("label",v({},ct,{className:R2}),Me),t.default.createElement(o.LazyMotion,{features:o.domAnimation},t.default.createElement(F2,null,An&&t.default.createElement(t.default.Fragment,null,ot?t.default.createElement(r.FloatingOverlay,{lockScroll:!0},Z_):Z_)))))});Q.propTypes={variant:i.default.oneOf(f.propTypesVariant),color:i.default.oneOf(f.propTypesColor),size:i.default.oneOf(f.propTypesSize),label:f.propTypesLabel,error:f.propTypesError,success:f.propTypesSuccess,arrow:f.propTypesArrow,value:f.propTypesValue,onChange:f.propTypesOnChange,selected:f.propTypesSelected,offset:f.propTypesOffset,dismiss:f.propTypesDismiss,animate:f.propTypesAnimate,lockScroll:f.propTypesLockScroll,labelProps:f.propTypesLabelProps,menuProps:f.propTypesMenuProps,className:f.propTypesClassName,disabled:f.propTypesDisabled,name:f.propTypesName,children:f.propTypesChildren,containerProps:f.propTypesContainerProps},Q.displayName="MaterialTailwind.Select";var Y=Object.assign(Q,{Option:g.SelectOption})})(Roe);var Ooe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(p,v){for(var b in v)Object.defineProperty(p,b,{enumerable:!0,get:v[b]})}e(n,{Switch:function(){return y},default:function(){return m}});var t=f(le),i=f(Vt),r=f(dy),o=f(ii),s=Rt,a=f(or),l=f(At),c=Et,d=S_;function u(p,v,b){return v in p?Object.defineProperty(p,v,{value:b,enumerable:!0,configurable:!0,writable:!0}):p[v]=b,p}function h(){return h=Object.assign||function(p){for(var v=1;v<arguments.length;v++){var b=arguments[v];for(var C in b)Object.prototype.hasOwnProperty.call(b,C)&&(p[C]=b[C])}return p},h.apply(this,arguments)}function f(p){return p&&p.__esModule?p:{default:p}}function g(p,v){if(p==null)return{};var b=_(p,v),C,S;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(p);for(S=0;S<x.length;S++)C=x[S],!(v.indexOf(C)>=0)&&Object.prototype.propertyIsEnumerable.call(p,C)&&(b[C]=p[C])}return b}function _(p,v){if(p==null)return{};var b={},C=Object.keys(p),S,x;for(x=0;x<C.length;x++)S=C[x],!(v.indexOf(S)>=0)&&(b[S]=p[S]);return b}var y=t.default.forwardRef(function(p,v){var b=p.color,C=p.label,S=p.ripple,x=p.className,k=p.disabled,D=p.containerProps,E=p.circleProps,I=p.labelProps,N=p.inputRef,R=g(p,["color","label","ripple","className","disabled","containerProps","circleProps","labelProps","inputRef"]),O=(0,c.useTheme)(),W=O.switch,K=W.defaultProps,Q=W.valid,Y=W.styles,V=Y.base,X=Y.colors,J=t.default.useId();b=b??K.color,S=S??K.ripple,k=k??K.disabled,D=D??K.containerProps,I=I??K.labelProps,E=E??K.circleProps,x=(0,s.twMerge)(K.className||"",x);var te=S!==void 0&&new r.default,oe=(0,o.default)((0,l.default)(V.root),u({},(0,l.default)(V.disabled),k)),Me=(0,s.twMerge)((0,o.default)((0,l.default)(V.container)),D==null?void 0:D.className),Re=(0,s.twMerge)((0,o.default)((0,l.default)(V.input),(0,l.default)(X[(0,a.default)(Q.colors,b,"gray")])),x),_e=(0,s.twMerge)((0,o.default)((0,l.default)(V.circle),X[(0,a.default)(Q.colors,b,"gray")].circle,X[(0,a.default)(Q.colors,b,"gray")].before),E==null?void 0:E.className),Fe=(0,o.default)((0,l.default)(V.ripple)),Oe=(0,s.twMerge)((0,o.default)((0,l.default)(V.label)),I==null?void 0:I.className);return t.default.createElement("div",{ref:v,className:oe},t.default.createElement("div",h({},D,{className:Me}),t.default.createElement("input",h({},R,{ref:N,type:"checkbox",disabled:k,id:R.id||J,className:Re})),t.default.createElement("label",h({},E,{htmlFor:R.id||J,className:_e}),S&&t.default.createElement("div",{className:Fe,onMouseDown:function(De){var ze=D==null?void 0:D.onMouseDown;return S&&te.create(De,"dark"),typeof ze=="function"&&ze(De)}}))),C&&t.default.createElement("label",h({},I,{htmlFor:R.id||J,className:Oe}),C))});y.propTypes={color:i.default.oneOf(d.propTypesColor),label:d.propTypesLabel,ripple:d.propTypesRipple,className:d.propTypesClassName,disabled:d.propTypesDisabled,containerProps:d.propTypesObject,labelProps:d.propTypesObject,circleProps:d.propTypesObject},y.displayName="MaterialTailwind.Switch";var m=y})(Ooe);var Foe={},py={},D_={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(f,g){for(var _ in g)Object.defineProperty(f,_,{enumerable:!0,get:g[_]})}e(n,{propTypesId:function(){return o},propTypesValue:function(){return s},propTypesAnimate:function(){return a},propTypesDisabled:function(){return l},propTypesClassName:function(){return c},propTypesOrientation:function(){return d},propTypesIndicator:function(){return u},propTypesChildren:function(){return h}});var t=r(Vt),i=Xn;function r(f){return f&&f.__esModule?f:{default:f}}var o=t.default.string,s=t.default.oneOfType([t.default.string,t.default.number]).isRequired,a=i.propTypesAnimation,l=t.default.bool,c=t.default.string,d=t.default.oneOf(["horizontal","vertical"]),u=t.default.instanceOf(Object),h=t.default.node.isRequired})(D_);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(D,E){for(var I in E)Object.defineProperty(D,I,{enumerable:!0,get:E[I]})}e(n,{TabsContext:function(){return y},useTabs:function(){return m},TabsContextProvider:function(){return p},setId:function(){return v},setActive:function(){return b},setAnimation:function(){return C},setIndicator:function(){return S},setIsInitial:function(){return x},setOrientation:function(){return k}});var t=a(le),i=D_;function r(D,E){(E==null||E>D.length)&&(E=D.length);for(var I=0,N=new Array(E);I<E;I++)N[I]=D[I];return N}function o(D){if(Array.isArray(D))return D}function s(D,E,I){return E in D?Object.defineProperty(D,E,{value:I,enumerable:!0,configurable:!0,writable:!0}):D[E]=I,D}function a(D){return D&&D.__esModule?D:{default:D}}function l(D,E){var I=D==null?null:typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(I!=null){var N=[],R=!0,O=!1,W,K;try{for(I=I.call(D);!(R=(W=I.next()).done)&&(N.push(W.value),!(E&&N.length===E));R=!0);}catch(Q){O=!0,K=Q}finally{try{!R&&I.return!=null&&I.return()}finally{if(O)throw K}}return N}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(D){for(var E=1;E<arguments.length;E++){var I=arguments[E]!=null?arguments[E]:{},N=Object.keys(I);typeof Object.getOwnPropertySymbols=="function"&&(N=N.concat(Object.getOwnPropertySymbols(I).filter(function(R){return Object.getOwnPropertyDescriptor(I,R).enumerable}))),N.forEach(function(R){s(D,R,I[R])})}return D}function u(D,E){var I=Object.keys(D);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(D);E&&(N=N.filter(function(R){return Object.getOwnPropertyDescriptor(D,R).enumerable})),I.push.apply(I,N)}return I}function h(D,E){return E=E??{},Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(E)):u(Object(E)).forEach(function(I){Object.defineProperty(D,I,Object.getOwnPropertyDescriptor(E,I))}),D}function f(D,E){return o(D)||l(D,E)||g(D,E)||c()}function g(D,E){if(D){if(typeof D=="string")return r(D,E);var I=Object.prototype.toString.call(D).slice(8,-1);if(I==="Object"&&D.constructor&&(I=D.constructor.name),I==="Map"||I==="Set")return Array.from(I);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return r(D,E)}}function _(D,E){switch(E.type){case"SET_ID":return h(d({},D),{id:E.value});case"SET_ACTIVE":return h(d({},D),{active:E.value});case"SET_ANIMATION":return h(d({},D),{appliedAnimation:E.value});case"SET_INDICATOR":return h(d({},D),{indicatorProps:E.value});case"SET_IS_INITIAL":return h(d({},D),{isInitial:E.value});case"SET_ORIENTATION":return h(d({},D),{orientation:E.value});default:throw new Error("Unhandled action type: ".concat(E.type))}}var y=t.default.createContext(null);y.displayName="MaterialTailwind.TabsContext";function m(){var D=t.default.useContext(y);if(!D)throw new Error("useTabs() must be used within a Tabs. It happens when you use TabsHeader, TabsBody, Tab or TabPanel outside the Tabs component.");return D}var p=function(D){var E=D.id,I=D.value,N=D.orientation,R=D.children,O=t.default.useMemo(function(){return{id:E??"indicator",active:I,orientation:N,isInitial:!0,appliedAnimation:{initial:{},unmount:{},mount:{}},indicatorProps:void 0}},[E,I,N]),W=f(t.default.useReducer(_,O),2),K=W[0],Q=W[1],Y=t.default.useMemo(function(){return{state:K,dispatch:Q}},[K]);return t.default.createElement(y.Provider,{value:Y},R)},v=function(D,E){return D({type:"SET_ID",value:E})},b=function(D,E){return D({type:"SET_ACTIVE",value:E})},C=function(D,E){return D({type:"SET_ANIMATION",value:E})},S=function(D,E){return D({type:"SET_INDICATOR",value:E})},x=function(D,E){return D({type:"SET_IS_INITIAL",value:E})},k=function(D,E){return D({type:"SET_ORIENTATION",value:E})};p.propTypes={id:i.propTypesId,value:i.propTypesValue,orientation:i.propTypesOrientation,children:i.propTypesChildren},p.displayName="MaterialTailwind.TabsContextProvider"})(py);var Boe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(m,p){for(var v in p)Object.defineProperty(m,v,{enumerable:!0,get:p[v]})}e(n,{Tab:function(){return _},default:function(){return y}});var t=h(le),i=Lo,r=h(ii),o=Rt,s=h(At),a=Et,l=py,c=D_;function d(m,p,v){return p in m?Object.defineProperty(m,p,{value:v,enumerable:!0,configurable:!0,writable:!0}):m[p]=v,m}function u(){return u=Object.assign||function(m){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])}return m},u.apply(this,arguments)}function h(m){return m&&m.__esModule?m:{default:m}}function f(m,p){if(m==null)return{};var v=g(m,p),b,C;if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(m);for(C=0;C<S.length;C++)b=S[C],!(p.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(m,b)&&(v[b]=m[b])}return v}function g(m,p){if(m==null)return{};var v={},b=Object.keys(m),C,S;for(S=0;S<b.length;S++)C=b[S],!(p.indexOf(C)>=0)&&(v[C]=m[C]);return v}var _=t.default.forwardRef(function(m,p){var v=m.value,b=m.className,C=m.activeClassName,S=m.disabled,x=m.children,k=f(m,["value","className","activeClassName","disabled","children"]),D=(0,a.useTheme)(),E=D.tab,I=E.defaultProps,N=E.styles.base,R=(0,l.useTabs)(),O=R.state,W=R.dispatch,K=O.id,Q=O.active,Y=O.indicatorProps;S=S??I.disabled,b=(0,o.twMerge)(I.className||"",b),C=(0,o.twMerge)(I.activeClassName||"",C);var V,X=(0,o.twMerge)((0,r.default)((0,s.default)(N.tab.initial),(V={},d(V,(0,s.default)(N.tab.disabled),S),d(V,C,Q===v),V)),b),J,te=(0,o.twMerge)((0,r.default)((0,s.default)(N.indicator)),(J=Y==null?void 0:Y.className)!==null&&J!==void 0?J:"");return t.default.createElement("li",u({},k,{ref:p,role:"tab",className:X,onClick:function(oe){var Me=k==null?void 0:k.onClick;typeof Me=="function"&&((0,l.setActive)(W,v),(0,l.setIsInitial)(W,!1),Me(oe)),(0,l.setIsInitial)(W,!1),(0,l.setActive)(W,v)},"data-value":v}),t.default.createElement("div",{className:"z-20 text-inherit"},x),Q===v&&t.default.createElement(i.motion.div,u({},Y,{transition:{duration:.5},className:te,layoutId:K})))});_.propTypes={value:c.propTypesValue,className:c.propTypesClassName,disabled:c.propTypesDisabled,children:c.propTypesChildren},_.displayName="MaterialTailwind.Tab";var y=_})(Boe);var Woe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(m,p){for(var v in p)Object.defineProperty(m,v,{enumerable:!0,get:p[v]})}e(n,{TabsBody:function(){return _},default:function(){return y}});var t=h(le),i=Lo,r=h(Ko),o=h(ii),s=Rt,a=h(At),l=Et,c=py,d=D_;function u(){return u=Object.assign||function(m){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])}return m},u.apply(this,arguments)}function h(m){return m&&m.__esModule?m:{default:m}}function f(m,p){if(m==null)return{};var v=g(m,p),b,C;if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(m);for(C=0;C<S.length;C++)b=S[C],!(p.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(m,b)&&(v[b]=m[b])}return v}function g(m,p){if(m==null)return{};var v={},b=Object.keys(m),C,S;for(S=0;S<b.length;S++)C=b[S],!(p.indexOf(C)>=0)&&(v[C]=m[C]);return v}var _=t.default.forwardRef(function(m,p){var v=m.animate,b=m.className,C=m.children,S=f(m,["animate","className","children"]),x=(0,l.useTheme)().tabsBody,k=x.defaultProps,D=x.styles.base,E=(0,c.useTabs)().dispatch;v=v??k.animate,b=(0,s.twMerge)(k.className||"",b);var I=(0,s.twMerge)((0,o.default)((0,a.default)(D)),b),N=t.default.useMemo(function(){return{initial:{opacity:0,position:"absolute",top:"0",left:"0",zIndex:1,transition:{duration:0}},unmount:{opacity:0,position:"absolute",top:"0",left:"0",zIndex:1,transition:{duration:.5,times:[.4,0,.2,1]}},mount:{opacity:1,position:"relative",zIndex:2,transition:{duration:.5,times:[.4,0,.2,1]}}}},[]),R=t.default.useMemo(function(){return(0,r.default)(N,v)},[v,N]);return(0,i.useIsomorphicLayoutEffect)(function(){(0,c.setAnimation)(E,R)},[R,E]),t.default.createElement("div",u({},S,{ref:p,className:I}),C)});_.propTypes={animate:d.propTypesAnimate,className:d.propTypesClassName,children:d.propTypesChildren},_.displayName="MaterialTailwind.TabsBody";var y=_})(Woe);var Voe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(y,m){for(var p in m)Object.defineProperty(y,p,{enumerable:!0,get:m[p]})}e(n,{TabsHeader:function(){return g},default:function(){return _}});var t=u(le),i=u(ii),r=Rt,o=u(At),s=Et,a=py,l=D_;function c(y,m,p){return m in y?Object.defineProperty(y,m,{value:p,enumerable:!0,configurable:!0,writable:!0}):y[m]=p,y}function d(){return d=Object.assign||function(y){for(var m=1;m<arguments.length;m++){var p=arguments[m];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[v]=p[v])}return y},d.apply(this,arguments)}function u(y){return y&&y.__esModule?y:{default:y}}function h(y,m){if(y==null)return{};var p=f(y,m),v,b;if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(y);for(b=0;b<C.length;b++)v=C[b],!(m.indexOf(v)>=0)&&Object.prototype.propertyIsEnumerable.call(y,v)&&(p[v]=y[v])}return p}function f(y,m){if(y==null)return{};var p={},v=Object.keys(y),b,C;for(C=0;C<v.length;C++)b=v[C],!(m.indexOf(b)>=0)&&(p[b]=y[b]);return p}var g=t.default.forwardRef(function(y,m){var p=y.indicatorProps,v=y.className,b=y.children,C=h(y,["indicatorProps","className","children"]),S=(0,s.useTheme)().tabsHeader,x=S.defaultProps,k=S.styles,D=(0,a.useTabs)(),E=D.state,I=D.dispatch,N=E.orientation;t.default.useEffect(function(){(0,a.setIndicator)(I,p)},[I,p]),v=(0,r.twMerge)(x.className||"",v);var R=(0,r.twMerge)((0,i.default)((0,o.default)(k.base),c({},k[N]&&(0,o.default)(k[N]),N)),v);return t.default.createElement("nav",null,t.default.createElement("ul",d({},C,{ref:m,role:"tablist",className:R}),b))});g.propTypes={indicatorProps:l.propTypesIndicator,className:l.propTypesClassName,children:l.propTypesChildren},g.displayName="MaterialTailwind.TabsHeader";var _=g})(Voe);var Hoe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(y,m){for(var p in m)Object.defineProperty(y,p,{enumerable:!0,get:m[p]})}e(n,{TabPanel:function(){return g},default:function(){return _}});var t=u(le),i=Lo,r=u(ii),o=Rt,s=u(At),a=Et,l=py,c=D_;function d(){return d=Object.assign||function(y){for(var m=1;m<arguments.length;m++){var p=arguments[m];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[v]=p[v])}return y},d.apply(this,arguments)}function u(y){return y&&y.__esModule?y:{default:y}}function h(y,m){if(y==null)return{};var p=f(y,m),v,b;if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(y);for(b=0;b<C.length;b++)v=C[b],!(m.indexOf(v)>=0)&&Object.prototype.propertyIsEnumerable.call(y,v)&&(p[v]=y[v])}return p}function f(y,m){if(y==null)return{};var p={},v=Object.keys(y),b,C;for(C=0;C<v.length;C++)b=v[C],!(m.indexOf(b)>=0)&&(p[b]=y[b]);return p}var g=t.default.forwardRef(function(y,m){var p=y.value,v=y.className,b=y.children,C=h(y,["value","className","children"]),S=(0,a.useTheme)().tabPanel,x=S.defaultProps,k=S.styles.base,D=(0,l.useTabs)().state,E=D.active,I=D.appliedAnimation,N=D.isInitial;v=(0,o.twMerge)(x.className||"",v);var R=(0,o.twMerge)((0,r.default)((0,s.default)(k)),v),O=i.AnimatePresence;return t.default.createElement(i.LazyMotion,{features:i.domAnimation},t.default.createElement(O,{exitBeforeEnter:!0},t.default.createElement(i.m.div,d({},C,{ref:m,role:"tabpanel",className:R,initial:"unmount",exit:"unmount",animate:E===p?"mount":N?"initial":"unmount",variants:I,"data-value":p}),b)))});g.propTypes={value:c.propTypesValue,className:c.propTypesClassName,children:c.propTypesChildren},g.displayName="MaterialTailwind.TabPanel";var _=g})(Hoe);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(b,C){for(var S in C)Object.defineProperty(b,S,{enumerable:!0,get:C[S]})}e(n,{Tabs:function(){return p},Tab:function(){return l.Tab},TabsBody:function(){return c.TabsBody},TabsHeader:function(){return d.TabsHeader},TabPanel:function(){return u.TabPanel},useTabs:function(){return a.useTabs},default:function(){return v}});var t=_(le),i=_(ii),r=Rt,o=_(At),s=Et,a=py,l=Boe,c=Woe,d=Voe,u=Hoe,h=D_;function f(b,C,S){return C in b?Object.defineProperty(b,C,{value:S,enumerable:!0,configurable:!0,writable:!0}):b[C]=S,b}function g(){return g=Object.assign||function(b){for(var C=1;C<arguments.length;C++){var S=arguments[C];for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(b[x]=S[x])}return b},g.apply(this,arguments)}function _(b){return b&&b.__esModule?b:{default:b}}function y(b,C){if(b==null)return{};var S=m(b,C),x,k;if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(b);for(k=0;k<D.length;k++)x=D[k],!(C.indexOf(x)>=0)&&Object.prototype.propertyIsEnumerable.call(b,x)&&(S[x]=b[x])}return S}function m(b,C){if(b==null)return{};var S={},x=Object.keys(b),k,D;for(D=0;D<x.length;D++)k=x[D],!(C.indexOf(k)>=0)&&(S[k]=b[k]);return S}var p=t.default.forwardRef(function(b,C){var S=b.value,x=b.className,k=b.orientation,D=b.children,E=y(b,["value","className","orientation","children"]),I=(0,s.useTheme)().tabs,N=I.defaultProps,R=I.styles,O=t.default.useId();k=k??N.orientation,x=(0,r.twMerge)(N.className||"",x);var W=(0,r.twMerge)((0,i.default)((0,o.default)(R.base),f({},R[k]&&(0,o.default)(R[k]),k)),x);return t.default.createElement(a.TabsContextProvider,{id:O,value:S,orientation:k},t.default.createElement("div",g({},E,{ref:C,className:W}),D))});p.propTypes={id:h.propTypesId,value:h.propTypesValue,className:h.propTypesClassName,orientation:h.propTypesOrientation,children:h.propTypesChildren},p.displayName="MaterialTailwind.Tabs";var v=Object.assign(p,{Tab:l.Tab,Body:c.TabsBody,Header:d.TabsHeader,Panel:u.TabPanel})})(Foe);var zoe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(m,p){for(var v in p)Object.defineProperty(m,v,{enumerable:!0,get:p[v]})}e(n,{Textarea:function(){return _},default:function(){return y}});var t=h(le),i=h(Vt),r=h(ii),o=h(or),s=h(At),a=Et,l=_x,c=Rt;function d(m,p,v){return p in m?Object.defineProperty(m,p,{value:v,enumerable:!0,configurable:!0,writable:!0}):m[p]=v,m}function u(){return u=Object.assign||function(m){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])}return m},u.apply(this,arguments)}function h(m){return m&&m.__esModule?m:{default:m}}function f(m,p){if(m==null)return{};var v=g(m,p),b,C;if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(m);for(C=0;C<S.length;C++)b=S[C],!(p.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(m,b)&&(v[b]=m[b])}return v}function g(m,p){if(m==null)return{};var v={},b=Object.keys(m),C,S;for(S=0;S<b.length;S++)C=b[S],!(p.indexOf(C)>=0)&&(v[C]=m[C]);return v}var _=t.default.forwardRef(function(m,p){var v=m.variant,b=m.color,C=m.size,S=m.label,x=m.error,k=m.success,D=m.resize,E=m.labelProps,I=m.containerProps,N=m.shrink,R=m.className,O=f(m,["variant","color","size","label","error","success","resize","labelProps","containerProps","shrink","className"]),W=(0,a.useTheme)().textarea,K=W.defaultProps,Q=W.valid,Y=W.styles,V=Y.base,X=Y.variants;v=v??K.variant,C=C??K.size,b=b??K.color,S=S??K.label,E=E??K.labelProps,I=I??K.containerProps,N=N??K.shrink,R=(0,c.twMerge)(K.className||"",R);var J=X[(0,o.default)(Q.variants,v,"outlined")],te=(0,s.default)(J.error.textarea),oe=(0,s.default)(J.success.textarea),Me=(0,s.default)(J.shrink.textarea),Re=(0,s.default)(J.colors.textarea[(0,o.default)(Q.colors,b,"gray")]),_e=(0,s.default)(J.error.label),Fe=(0,s.default)(J.success.label),Oe=(0,s.default)(J.shrink.label),De=(0,s.default)(J.colors.label[(0,o.default)(Q.colors,b,"gray")]),ze=(0,r.default)((0,s.default)(V.container),I==null?void 0:I.className),ke=(0,r.default)((0,s.default)(V.textarea),(0,s.default)(J.base.textarea),(0,s.default)(J.sizes[(0,o.default)(Q.sizes,C,"md")].textarea),d({},Re,!x&&!k),d({},te,x),d({},oe,k),d({},Me,N),D?"":"!resize-none",R),Ze=(0,r.default)((0,s.default)(V.label),(0,s.default)(J.base.label),(0,s.default)(J.sizes[(0,o.default)(Q.sizes,C,"md")].label),d({},De,!x&&!k),d({},_e,x),d({},Fe,k),d({},Oe,N),E==null?void 0:E.className),vt=(0,r.default)((0,s.default)(V.asterisk));return t.default.createElement("div",{ref:p,className:ze},t.default.createElement("textarea",u({},O,{className:ke,placeholder:(O==null?void 0:O.placeholder)||" "})),t.default.createElement("label",{className:Ze},S," ",O.required?t.default.createElement("span",{className:vt},"*"):""))});_.propTypes={variant:i.default.oneOf(l.propTypesVariant),size:i.default.oneOf(l.propTypesSize),color:i.default.oneOf(l.propTypesColor),label:l.propTypesLabel,error:l.propTypesError,success:l.propTypesSuccess,resize:l.propTypesResize,labelProps:l.propTypesLabelProps,containerProps:l.propTypesContainerProps,shrink:l.propTypesShrink,className:l.propTypesClassName},_.displayName="MaterialTailwind.Textarea";var y=_})(zoe);var joe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(N,R){for(var O in R)Object.defineProperty(N,O,{enumerable:!0,get:R[O]})}e(n,{Tooltip:function(){return E},default:function(){return I}});var t=y(le),i=y(Vt),r=ao,o=Lo,s=y(ii),a=Rt,l=y(Ko),c=y(At),d=Et,u=gy;function h(N,R){(R==null||R>N.length)&&(R=N.length);for(var O=0,W=new Array(R);O<R;O++)W[O]=N[O];return W}function f(N){if(Array.isArray(N))return N}function g(N,R,O){return R in N?Object.defineProperty(N,R,{value:O,enumerable:!0,configurable:!0,writable:!0}):N[R]=O,N}function _(){return _=Object.assign||function(N){for(var R=1;R<arguments.length;R++){var O=arguments[R];for(var W in O)Object.prototype.hasOwnProperty.call(O,W)&&(N[W]=O[W])}return N},_.apply(this,arguments)}function y(N){return N&&N.__esModule?N:{default:N}}function m(N,R){var O=N==null?null:typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(O!=null){var W=[],K=!0,Q=!1,Y,V;try{for(O=O.call(N);!(K=(Y=O.next()).done)&&(W.push(Y.value),!(R&&W.length===R));K=!0);}catch(X){Q=!0,V=X}finally{try{!K&&O.return!=null&&O.return()}finally{if(Q)throw V}}return W}}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(N){for(var R=1;R<arguments.length;R++){var O=arguments[R]!=null?arguments[R]:{},W=Object.keys(O);typeof Object.getOwnPropertySymbols=="function"&&(W=W.concat(Object.getOwnPropertySymbols(O).filter(function(K){return Object.getOwnPropertyDescriptor(O,K).enumerable}))),W.forEach(function(K){g(N,K,O[K])})}return N}function b(N,R){var O=Object.keys(N);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(N);R&&(W=W.filter(function(K){return Object.getOwnPropertyDescriptor(N,K).enumerable})),O.push.apply(O,W)}return O}function C(N,R){return R=R??{},Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(R)):b(Object(R)).forEach(function(O){Object.defineProperty(N,O,Object.getOwnPropertyDescriptor(R,O))}),N}function S(N,R){if(N==null)return{};var O=x(N,R),W,K;if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(N);for(K=0;K<Q.length;K++)W=Q[K],!(R.indexOf(W)>=0)&&Object.prototype.propertyIsEnumerable.call(N,W)&&(O[W]=N[W])}return O}function x(N,R){if(N==null)return{};var O={},W=Object.keys(N),K,Q;for(Q=0;Q<W.length;Q++)K=W[Q],!(R.indexOf(K)>=0)&&(O[K]=N[K]);return O}function k(N,R){return f(N)||m(N,R)||D(N,R)||p()}function D(N,R){if(N){if(typeof N=="string")return h(N,R);var O=Object.prototype.toString.call(N).slice(8,-1);if(O==="Object"&&N.constructor&&(O=N.constructor.name),O==="Map"||O==="Set")return Array.from(O);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return h(N,R)}}var E=t.default.forwardRef(function(N,R){var O=N.open,W=N.handler,K=N.content,Q=N.interactive,Y=N.placement,V=N.offset,X=N.dismiss,J=N.animate,te=N.className,oe=N.children,Me=S(N,["open","handler","content","interactive","placement","offset","dismiss","animate","className","children"]),Re=(0,d.useTheme)().tooltip,_e=Re.defaultProps,Fe=Re.styles.base,Oe=k(t.default.useState(!1),2),De=Oe[0],ze=Oe[1];O=O??De,W=W??ze,Q=Q??_e.interactive,Y=Y??_e.placement,V=V??_e.offset,X=X??_e.dismiss,J=J??_e.animate,te=(0,a.twMerge)(_e.className||"",te);var ke=(0,a.twMerge)((0,s.default)((0,c.default)(Fe)),te),Ze={unmount:{opacity:0},mount:{opacity:1}},vt=(0,l.default)(Ze,J),ot=(0,r.useFloating)({open:O,onOpenChange:W,middleware:[(0,r.offset)(V),(0,r.flip)(),(0,r.shift)()],placement:Y}),ct=ot.x,st=ot.y,ni=ot.reference,Yi=ot.floating,zn=ot.strategy,be=ot.refs,he=ot.update,fe=ot.context,$=(0,r.useInteractions)([(0,r.useClick)(fe,{enabled:Q}),(0,r.useFocus)(fe),(0,r.useHover)(fe),(0,r.useRole)(fe,{role:"tooltip"}),(0,r.useDismiss)(fe,X)]),Z=$.getReferenceProps,ae=$.getFloatingProps;t.default.useEffect(function(){if(be.reference.current&&be.floating.current&&O)return(0,r.autoUpdate)(be.reference.current,be.floating.current,he)},[O,he,be.reference,be.floating]);var se=(0,r.useMergeRefs)([R,Yi]),Le=(0,r.useMergeRefs)([R,ni]),He=o.AnimatePresence;return t.default.createElement(t.default.Fragment,null,typeof oe=="string"?t.default.createElement("span",_({},Z({ref:Le})),oe):t.default.cloneElement(oe,v({},Z(C(v({},oe==null?void 0:oe.props),{ref:Le})))),t.default.createElement(o.LazyMotion,{features:o.domAnimation},t.default.createElement(r.FloatingPortal,null,t.default.createElement(He,null,O&&t.default.createElement(o.m.div,_({},ae(C(v({},Me),{ref:se,className:ke,style:{position:zn,top:st??"",left:ct??""}})),{initial:"unmount",exit:"unmount",animate:O?"mount":"unmount",variants:vt}),K)))))});E.propTypes={open:u.propTypesOpen,handler:u.propTypesHandler,content:u.propTypesContent,interactive:u.propTypesInteractive,placement:i.default.oneOf(u.propTypesPlacement),offset:u.propTypesOffset,dismiss:u.propTypesDismiss,animate:u.propTypesAnimate,className:u.propTypesClassName,children:u.propTypesChildren},E.displayName="MaterialTailwind.Tooltip";var I=E})(joe);var Uoe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(v,b){for(var C in b)Object.defineProperty(v,C,{enumerable:!0,get:b[C]})}e(n,{Typography:function(){return m},default:function(){return p}});var t=u(le),i=u(Vt),r=u(ii),o=Rt,s=u(or),a=u(At),l=Et,c=q7;function d(v,b,C){return b in v?Object.defineProperty(v,b,{value:C,enumerable:!0,configurable:!0,writable:!0}):v[b]=C,v}function u(v){return v&&v.__esModule?v:{default:v}}function h(v){for(var b=1;b<arguments.length;b++){var C=arguments[b]!=null?arguments[b]:{},S=Object.keys(C);typeof Object.getOwnPropertySymbols=="function"&&(S=S.concat(Object.getOwnPropertySymbols(C).filter(function(x){return Object.getOwnPropertyDescriptor(C,x).enumerable}))),S.forEach(function(x){d(v,x,C[x])})}return v}function f(v,b){var C=Object.keys(v);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(v);b&&(S=S.filter(function(x){return Object.getOwnPropertyDescriptor(v,x).enumerable})),C.push.apply(C,S)}return C}function g(v,b){return b=b??{},Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(b)):f(Object(b)).forEach(function(C){Object.defineProperty(v,C,Object.getOwnPropertyDescriptor(b,C))}),v}function _(v,b){if(v==null)return{};var C=y(v,b),S,x;if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(v);for(x=0;x<k.length;x++)S=k[x],!(b.indexOf(S)>=0)&&Object.prototype.propertyIsEnumerable.call(v,S)&&(C[S]=v[S])}return C}function y(v,b){if(v==null)return{};var C={},S=Object.keys(v),x,k;for(k=0;k<S.length;k++)x=S[k],!(b.indexOf(x)>=0)&&(C[x]=v[x]);return C}var m=t.default.forwardRef(function(v,b){var C=v.variant,S=v.color,x=v.textGradient,k=v.as,D=v.className,E=v.children,I=_(v,["variant","color","textGradient","as","className","children"]),N=(0,l.useTheme)().typography,R=N.defaultProps,O=N.valid,W=N.styles,K=W.variants,Q=W.colors,Y=W.textGradient;C=C??R.variant,S=S??R.color,x=x||R.textGradient,k=k??void 0,D=(0,o.twMerge)(R.className||"",D);var V=(0,a.default)(K[(0,s.default)(O.variants,C,"paragraph")]),X=Q[(0,s.default)(O.colors,S,"inherit")],J=(0,a.default)(Y),te=(0,o.twMerge)((0,r.default)(V,d({},X.color,!x),d({},J,x),d({},X.gradient,x)),D),oe;switch(C){case"h1":oe=t.default.createElement(k||"h1",g(h({},I),{ref:b,className:te}),E);break;case"h2":oe=t.default.createElement(k||"h2",g(h({},I),{ref:b,className:te}),E);break;case"h3":oe=t.default.createElement(k||"h3",g(h({},I),{ref:b,className:te}),E);break;case"h4":oe=t.default.createElement(k||"h4",g(h({},I),{ref:b,className:te}),E);break;case"h5":oe=t.default.createElement(k||"h5",g(h({},I),{ref:b,className:te}),E);break;case"h6":oe=t.default.createElement(k||"h6",g(h({},I),{ref:b,className:te}),E);break;case"lead":oe=t.default.createElement(k||"p",g(h({},I),{ref:b,className:te}),E);break;case"paragraph":oe=t.default.createElement(k||"p",g(h({},I),{ref:b,className:te}),E);break;case"small":oe=t.default.createElement(k||"p",g(h({},I),{ref:b,className:te}),E);break;default:oe=t.default.createElement(k||"p",g(h({},I),{ref:b,className:te}),E);break}return oe});m.propTypes={variant:i.default.oneOf(c.propTypesVariant),color:i.default.oneOf(c.propTypesColor),as:c.propTypesAs,textGradient:c.propTypesTextGradient,className:c.propTypesClassName,children:c.propTypesChildren},m.displayName="MaterialTailwind.Typography";var p=m})(Uoe);var $oe={},qoe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(c,d){for(var u in d)Object.defineProperty(c,u,{enumerable:!0,get:d[u]})}e(n,{propTypesClassName:function(){return o},propTypesChildren:function(){return s},propTypesOpen:function(){return a},propTypesAnimate:function(){return l}});var t=r(Vt),i=Xn;function r(c){return c&&c.__esModule?c:{default:c}}var o=t.default.string,s=t.default.node.isRequired,a=t.default.bool.isRequired,l=i.propTypesAnimation})(qoe);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(m,p){for(var v in p)Object.defineProperty(m,v,{enumerable:!0,get:p[v]})}e(n,{Collapse:function(){return _},default:function(){return y}});var t=h(le),i=Lo,r=ao,o=h(Ko),s=h(ii),a=Rt,l=h(At),c=Et,d=qoe;function u(){return u=Object.assign||function(m){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])}return m},u.apply(this,arguments)}function h(m){return m&&m.__esModule?m:{default:m}}function f(m,p){if(m==null)return{};var v=g(m,p),b,C;if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(m);for(C=0;C<S.length;C++)b=S[C],!(p.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(m,b)&&(v[b]=m[b])}return v}function g(m,p){if(m==null)return{};var v={},b=Object.keys(m),C,S;for(S=0;S<b.length;S++)C=b[S],!(p.indexOf(C)>=0)&&(v[C]=m[C]);return v}var _=t.default.forwardRef(function(m,p){var v=m.open,b=m.animate,C=m.className,S=m.children,x=f(m,["open","animate","className","children"]),k=t.default.useRef(null),D=(0,c.useTheme)().collapse,E=D.styles,I=E.base;b=b??{},C=C??"";var N=(0,a.twMerge)((0,s.default)((0,l.default)(I)),C),R={unmount:{height:"0px",transition:{duration:.3,times:[.4,0,.2,1]}},mount:{height:"auto",transition:{duration:.3,times:[.4,0,.2,1]}}},O=(0,o.default)(R,b),W=i.AnimatePresence,K=(0,r.useMergeRefs)([p,k]);return t.default.createElement(i.LazyMotion,{features:i.domAnimation},t.default.createElement(W,null,t.default.createElement(i.m.div,u({},x,{ref:K,className:N,initial:"unmount",exit:"unmount",animate:v?"mount":"unmount",variants:O}),S)))});_.displayName="MaterialTailwind.Collapse",_.propTypes={open:d.propTypesOpen,animate:d.propTypesAnimate,className:d.propTypesClassName,children:d.propTypesChildren};var y=_})($oe);var Koe={},Tx={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(c,d){for(var u in d)Object.defineProperty(c,u,{enumerable:!0,get:d[u]})}e(n,{propTypesClassName:function(){return r},propTypesDisabled:function(){return o},propTypesSelected:function(){return s},propTypesRipple:function(){return a},propTypesChildren:function(){return l}});var t=i(Vt);function i(c){return c&&c.__esModule?c:{default:c}}var r=t.default.string,o=t.default.bool,s=t.default.bool,a=t.default.bool,l=t.default.node.isRequired})(Tx);var Goe={},MW={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(g,_){for(var y in _)Object.defineProperty(g,y,{enumerable:!0,get:_[y]})}e(n,{ListItemPrefix:function(){return h},default:function(){return f}});var t=c(le),i=Et,r=c(ii),o=Rt,s=c(At),a=Tx;function l(){return l=Object.assign||function(g){for(var _=1;_<arguments.length;_++){var y=arguments[_];for(var m in y)Object.prototype.hasOwnProperty.call(y,m)&&(g[m]=y[m])}return g},l.apply(this,arguments)}function c(g){return g&&g.__esModule?g:{default:g}}function d(g,_){if(g==null)return{};var y=u(g,_),m,p;if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(g);for(p=0;p<v.length;p++)m=v[p],!(_.indexOf(m)>=0)&&Object.prototype.propertyIsEnumerable.call(g,m)&&(y[m]=g[m])}return y}function u(g,_){if(g==null)return{};var y={},m=Object.keys(g),p,v;for(v=0;v<m.length;v++)p=m[v],!(_.indexOf(p)>=0)&&(y[p]=g[p]);return y}var h=t.default.forwardRef(function(g,_){var y=g.className,m=g.children,p=d(g,["className","children"]),v=(0,i.useTheme)().list,b=v.styles.base,C=(0,o.twMerge)((0,r.default)((0,s.default)(b.itemPrefix)),y);return t.default.createElement("div",l({},p,{ref:_,className:C}),m)});h.propTypes={className:a.propTypesClassName,children:a.propTypesChildren},h.displayName="MaterialTailwind.ListItemPrefix";var f=h})(MW);var RW={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(g,_){for(var y in _)Object.defineProperty(g,y,{enumerable:!0,get:_[y]})}e(n,{ListItemSuffix:function(){return h},default:function(){return f}});var t=c(le),i=Et,r=c(ii),o=Rt,s=c(At),a=Tx;function l(){return l=Object.assign||function(g){for(var _=1;_<arguments.length;_++){var y=arguments[_];for(var m in y)Object.prototype.hasOwnProperty.call(y,m)&&(g[m]=y[m])}return g},l.apply(this,arguments)}function c(g){return g&&g.__esModule?g:{default:g}}function d(g,_){if(g==null)return{};var y=u(g,_),m,p;if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(g);for(p=0;p<v.length;p++)m=v[p],!(_.indexOf(m)>=0)&&Object.prototype.propertyIsEnumerable.call(g,m)&&(y[m]=g[m])}return y}function u(g,_){if(g==null)return{};var y={},m=Object.keys(g),p,v;for(v=0;v<m.length;v++)p=m[v],!(_.indexOf(p)>=0)&&(y[p]=g[p]);return y}var h=t.default.forwardRef(function(g,_){var y=g.className,m=g.children,p=d(g,["className","children"]),v=(0,i.useTheme)().list,b=v.styles.base,C=(0,o.twMerge)((0,r.default)((0,s.default)(b.itemSuffix)),y);return t.default.createElement("div",l({},p,{ref:_,className:C}),m)});h.propTypes={className:a.propTypesClassName,children:a.propTypesChildren},h.displayName="MaterialTailwind.ListItemSuffix";var f=h})(RW);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(p,v){for(var b in v)Object.defineProperty(p,b,{enumerable:!0,get:v[b]})}e(n,{ListItem:function(){return y},ListItemPrefix:function(){return c.ListItemPrefix},ListItemSuffix:function(){return d.ListItemSuffix},default:function(){return m}});var t=f(le),i=Et,r=f(dy),o=f(ii),s=Rt,a=f(At),l=Tx,c=MW,d=RW;function u(p,v,b){return v in p?Object.defineProperty(p,v,{value:b,enumerable:!0,configurable:!0,writable:!0}):p[v]=b,p}function h(){return h=Object.assign||function(p){for(var v=1;v<arguments.length;v++){var b=arguments[v];for(var C in b)Object.prototype.hasOwnProperty.call(b,C)&&(p[C]=b[C])}return p},h.apply(this,arguments)}function f(p){return p&&p.__esModule?p:{default:p}}function g(p,v){if(p==null)return{};var b=_(p,v),C,S;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(p);for(S=0;S<x.length;S++)C=x[S],!(v.indexOf(C)>=0)&&Object.prototype.propertyIsEnumerable.call(p,C)&&(b[C]=p[C])}return b}function _(p,v){if(p==null)return{};var b={},C=Object.keys(p),S,x;for(x=0;x<C.length;x++)S=C[x],!(v.indexOf(S)>=0)&&(b[S]=p[S]);return b}var y=t.default.forwardRef(function(p,v){var b=p.className,C=p.disabled,S=p.selected,x=p.ripple,k=p.children,D=g(p,["className","disabled","selected","ripple","children"]),E=(0,i.useTheme)().list,I=E.defaultProps,N=E.styles.base;x=x??I.ripple;var R=x!==void 0&&new r.default,O,W=(0,s.twMerge)((0,o.default)((0,a.default)(N.item.initial),(O={},u(O,(0,a.default)(N.item.disabled),C),u(O,(0,a.default)(N.item.selected),S&&!C),O)),b);return t.default.createElement("div",h({},D,{ref:v,role:"button",tabIndex:0,className:W,onMouseDown:function(K){var Q=D==null?void 0:D.onMouseDown;return x&&R.create(K,"dark"),typeof Q=="function"&&Q(K)}}),k)});y.propTypes={className:l.propTypesClassName,selected:l.propTypesSelected,disabled:l.propTypesDisabled,ripple:l.propTypesRipple,children:l.propTypesChildren},y.displayName="MaterialTailwind.ListItem";var m=Object.assign(y,{Prefix:c.ListItemPrefix,Suffix:d.ListItemSuffix})})(Goe);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(m,p){for(var v in p)Object.defineProperty(m,v,{enumerable:!0,get:p[v]})}e(n,{List:function(){return _},ListItem:function(){return l.ListItem},ListItemPrefix:function(){return c.ListItemPrefix},ListItemSuffix:function(){return d.ListItemSuffix},default:function(){return y}});var t=h(le),i=Et,r=h(ii),o=Rt,s=h(At),a=Tx,l=Goe,c=MW,d=RW;function u(){return u=Object.assign||function(m){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])}return m},u.apply(this,arguments)}function h(m){return m&&m.__esModule?m:{default:m}}function f(m,p){if(m==null)return{};var v=g(m,p),b,C;if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(m);for(C=0;C<S.length;C++)b=S[C],!(p.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(m,b)&&(v[b]=m[b])}return v}function g(m,p){if(m==null)return{};var v={},b=Object.keys(m),C,S;for(S=0;S<b.length;S++)C=b[S],!(p.indexOf(C)>=0)&&(v[C]=m[C]);return v}var _=t.default.forwardRef(function(m,p){var v=m.className,b=m.children,C=f(m,["className","children"]),S=(0,i.useTheme)().list,x=S.defaultProps,k=S.styles.base;v=(0,o.twMerge)(x.className||"",v);var D=(0,o.twMerge)((0,r.default)((0,s.default)(k.list)),v);return t.default.createElement("nav",u({},C,{ref:p,className:D}),b)});_.propTypes={className:a.propTypesClassName,children:a.propTypesChildren},_.displayName="MaterialTailwind.List";var y=Object.assign(_,{Item:l.ListItem,ItemPrefix:c.ListItemPrefix,ItemSuffix:d.ListItemSuffix})})(Koe);var Zoe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(m,p){for(var v in p)Object.defineProperty(m,v,{enumerable:!0,get:p[v]})}e(n,{ButtonGroup:function(){return _},default:function(){return y}});var t=h(le),i=h(Vt),r=h(ii),o=Rt,s=h(or),a=h(At),l=Et,c=C_;function d(m,p,v){return p in m?Object.defineProperty(m,p,{value:v,enumerable:!0,configurable:!0,writable:!0}):m[p]=v,m}function u(){return u=Object.assign||function(m){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(m[b]=v[b])}return m},u.apply(this,arguments)}function h(m){return m&&m.__esModule?m:{default:m}}function f(m,p){if(m==null)return{};var v=g(m,p),b,C;if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(m);for(C=0;C<S.length;C++)b=S[C],!(p.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(m,b)&&(v[b]=m[b])}return v}function g(m,p){if(m==null)return{};var v={},b=Object.keys(m),C,S;for(S=0;S<b.length;S++)C=b[S],!(p.indexOf(C)>=0)&&(v[C]=m[C]);return v}var _=t.default.forwardRef(function(m,p){var v=m.variant,b=m.size,C=m.color,S=m.fullWidth,x=m.ripple,k=m.className,D=m.children,E=f(m,["variant","size","color","fullWidth","ripple","className","children"]),I=(0,l.useTheme)().buttonGroup,N=I.defaultProps,R=I.styles,O=I.valid,W=R.base,K=R.dividerColor;v=v??N.variant,b=b??N.size,C=C??N.color,x=x??N.ripple,S=S??N.fullWidth,k=(0,o.twMerge)(N.className||"",k);var Q,Y=(0,o.twMerge)((0,r.default)((0,a.default)(W.initial),(Q={},d(Q,(0,a.default)(W.fullWidth),S),d(Q,"divide-x",v!=="outlined"),d(Q,(0,a.default)(K[(0,s.default)(O.colors,C,"gray")]),v!=="outlined"),Q)),k);return t.default.createElement("div",u({},E,{ref:p,className:Y}),t.default.Children.map(D,function(V,X){var J;return t.default.isValidElement(V)&&t.default.cloneElement(V,{variant:v,size:b,color:C,ripple:x,fullWidth:S,className:(0,o.twMerge)((0,r.default)({"rounded-r-none":X!==t.default.Children.count(D)-1,"border-r-0":X!==t.default.Children.count(D)-1,"rounded-l-none":X!==0}),(J=V.props)===null||J===void 0?void 0:J.className)})}))});_.propTypes={variant:i.default.oneOf(c.propTypesVariant),size:i.default.oneOf(c.propTypesSize),color:i.default.oneOf(c.propTypesColor),fullWidth:c.propTypesFullWidth,ripple:c.propTypesRipple,className:c.propTypesClassName,children:c.propTypesChildren},_.displayName="MaterialTailwind.ButtonGroup";var y=_})(Zoe);var Yoe={},Xoe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(g,_){for(var y in _)Object.defineProperty(g,y,{enumerable:!0,get:_[y]})}e(n,{propTypesClassName:function(){return r},propTypesPrevArrow:function(){return o},propTypesNextArrow:function(){return s},propTypesNavigation:function(){return a},propTypesAutoplay:function(){return l},propTypesAutoplayDelay:function(){return c},propTypesTransition:function(){return d},propTypesLoop:function(){return u},propTypesChildren:function(){return h},propTypesSlideRef:function(){return f}});var t=i(Vt);function i(g){return g&&g.__esModule?g:{default:g}}var r=t.default.string,o=t.default.func,s=t.default.func,a=t.default.func,l=t.default.bool,c=t.default.number,d=t.default.object,u=t.default.bool,h=t.default.node.isRequired,f=t.default.oneOfType([t.default.func,t.default.shape({current:t.default.any})])})(Xoe);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(S,x){for(var k in x)Object.defineProperty(S,k,{enumerable:!0,get:x[k]})}e(n,{Carousel:function(){return b},default:function(){return C}});var t=f(le),i=Lo,r=ao,o=f(ii),s=Rt,a=f(At),l=Et,c=Xoe;function d(S,x){(x==null||x>S.length)&&(x=S.length);for(var k=0,D=new Array(x);k<x;k++)D[k]=S[k];return D}function u(S){if(Array.isArray(S))return S}function h(){return h=Object.assign||function(S){for(var x=1;x<arguments.length;x++){var k=arguments[x];for(var D in k)Object.prototype.hasOwnProperty.call(k,D)&&(S[D]=k[D])}return S},h.apply(this,arguments)}function f(S){return S&&S.__esModule?S:{default:S}}function g(S,x){var k=S==null?null:typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(k!=null){var D=[],E=!0,I=!1,N,R;try{for(k=k.call(S);!(E=(N=k.next()).done)&&(D.push(N.value),!(x&&D.length===x));E=!0);}catch(O){I=!0,R=O}finally{try{!E&&k.return!=null&&k.return()}finally{if(I)throw R}}return D}}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(S,x){if(S==null)return{};var k=m(S,x),D,E;if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(S);for(E=0;E<I.length;E++)D=I[E],!(x.indexOf(D)>=0)&&Object.prototype.propertyIsEnumerable.call(S,D)&&(k[D]=S[D])}return k}function m(S,x){if(S==null)return{};var k={},D=Object.keys(S),E,I;for(I=0;I<D.length;I++)E=D[I],!(x.indexOf(E)>=0)&&(k[E]=S[E]);return k}function p(S,x){return u(S)||g(S,x)||v(S,x)||_()}function v(S,x){if(S){if(typeof S=="string")return d(S,x);var k=Object.prototype.toString.call(S).slice(8,-1);if(k==="Object"&&S.constructor&&(k=S.constructor.name),k==="Map"||k==="Set")return Array.from(k);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return d(S,x)}}var b=t.default.forwardRef(function(S,x){var k=S.children,D=S.prevArrow,E=S.nextArrow,I=S.navigation,N=S.autoplay,R=S.autoplayDelay,O=S.transition,W=S.loop,K=S.className,Q=S.slideRef,Y=y(S,["children","prevArrow","nextArrow","navigation","autoplay","autoplayDelay","transition","loop","className","slideRef"]),V=(0,l.useTheme)().carousel,X=V.defaultProps,J=V.styles.base,te=(0,i.useMotionValue)(0),oe=t.default.useRef(null),Me=p(t.default.useState(0),2),Re=Me[0],_e=Me[1],Fe=t.default.Children.toArray(k);D=D??X.prevArrow,E=E??X.nextArrow,I=I??X.navigation,N=N??X.autoplay,R=R??X.autoplayDelay,O=O??X.transition,W=W??X.loop,K=(0,s.twMerge)(X.className||"",K);var Oe=(0,s.twMerge)((0,o.default)((0,a.default)(J.carousel)),K),De=(0,s.twMerge)((0,o.default)((0,a.default)(J.slide))),ze=t.default.useCallback(function(){var ot;return-Re*(((ot=oe.current)===null||ot===void 0?void 0:ot.clientWidth)||0)},[Re]),ke=t.default.useCallback(function(){var ot=W?0:Re;_e(Re+1===Fe.length?ot:Re+1)},[Re,W,Fe.length]),Ze=function(){var ot=W?Fe.length-1:0;_e(Re-1<0?ot:Re-1)};t.default.useEffect(function(){var ot=(0,i.animate)(te,ze(),O);return ot.stop},[ze,Re,te,O]),t.default.useEffect(function(){window.addEventListener("resize",function(){(0,i.animate)(te,ze(),O)})},[ze,O,te]),t.default.useEffect(function(){if(N){var ot=setInterval(function(){return ke()},R);return function(){return clearInterval(ot)}}},[N,ke,R]);var vt=(0,r.useMergeRefs)([oe,x]);return t.default.createElement("div",h({},Y,{ref:vt,className:Oe}),Fe.map(function(ot,ct){return t.default.createElement(i.LazyMotion,{key:ct,features:i.domAnimation},t.default.createElement(i.m.div,{ref:Q,className:De,style:{x:te,left:"".concat(ct*100,"%"),right:"".concat(ct*100,"%")}},ot))}),D&&D({loop:W,handlePrev:Ze,activeIndex:Re,firstIndex:Re===0}),E&&E({loop:W,handleNext:ke,activeIndex:Re,lastIndex:Re===Fe.length-1}),I&&I({setActiveIndex:_e,activeIndex:Re,length:Fe.length}))});b.propTypes={className:c.propTypesClassName,children:c.propTypesChildren,nextArrow:c.propTypesNextArrow,prevArrow:c.propTypesPrevArrow,navigation:c.propTypesNavigation,autoplay:c.propTypesAutoplay,autoplayDelay:c.propTypesAutoplayDelay,transition:c.propTypesTransition,loop:c.propTypesLoop,slideRef:c.propTypesSlideRef},b.displayName="MaterialTailwind.Carousel";var C=b})(Yoe);var Qoe={},Joe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(y,m){for(var p in m)Object.defineProperty(y,p,{enumerable:!0,get:m[p]})}e(n,{propTypesOpen:function(){return o},propTypesSize:function(){return s},propTypesOverlay:function(){return a},propTypesChildren:function(){return l},propTypesPlacement:function(){return c},propTypesOverlayProps:function(){return d},propTypesClassName:function(){return u},propTypesOnClose:function(){return h},propTypesDismiss:function(){return f},propTypesTransition:function(){return g},propTypesOverlayRef:function(){return _}});var t=r(Vt),i=Xn;function r(y){return y&&y.__esModule?y:{default:y}}var o=t.default.bool.isRequired,s=t.default.number,a=t.default.bool,l=t.default.node.isRequired,c=["top","right","bottom","left"],d=t.default.object,u=t.default.string,h=t.default.func,f=i.propTypesDismissType,g=t.default.object,_=t.default.oneOfType([t.default.func,t.default.shape({current:t.default.any})])})(Joe);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(b,C){for(var S in C)Object.defineProperty(b,S,{enumerable:!0,get:C[S]})}e(n,{Drawer:function(){return p},default:function(){return v}});var t=g(le),i=g(Vt),r=Lo,o=ao,s=g(Ko),a=g(ii),l=Rt,c=g(At),d=Et,u=Joe;function h(b,C,S){return C in b?Object.defineProperty(b,C,{value:S,enumerable:!0,configurable:!0,writable:!0}):b[C]=S,b}function f(){return f=Object.assign||function(b){for(var C=1;C<arguments.length;C++){var S=arguments[C];for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(b[x]=S[x])}return b},f.apply(this,arguments)}function g(b){return b&&b.__esModule?b:{default:b}}function _(b){for(var C=1;C<arguments.length;C++){var S=arguments[C]!=null?arguments[C]:{},x=Object.keys(S);typeof Object.getOwnPropertySymbols=="function"&&(x=x.concat(Object.getOwnPropertySymbols(S).filter(function(k){return Object.getOwnPropertyDescriptor(S,k).enumerable}))),x.forEach(function(k){h(b,k,S[k])})}return b}function y(b,C){if(b==null)return{};var S=m(b,C),x,k;if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(b);for(k=0;k<D.length;k++)x=D[k],!(C.indexOf(x)>=0)&&Object.prototype.propertyIsEnumerable.call(b,x)&&(S[x]=b[x])}return S}function m(b,C){if(b==null)return{};var S={},x=Object.keys(b),k,D;for(D=0;D<x.length;D++)k=x[D],!(C.indexOf(k)>=0)&&(S[k]=b[k]);return S}var p=t.default.forwardRef(function(b,C){var S=b.open,x=b.size,k=b.overlay,D=b.children,E=b.placement,I=b.overlayProps,N=b.className,R=b.onClose,O=b.dismiss,W=b.transition,K=b.overlayRef,Q=y(b,["open","size","overlay","children","placement","overlayProps","className","onClose","dismiss","transition","overlayRef"]),Y=(0,d.useTheme)().drawer,V=Y.defaultProps,X=Y.styles.base,J=(0,r.useAnimation)();x=x??V.size,k=k??V.overlay,E=E??V.placement,I=I??V.overlayProps,R=R??V.onClose;var te;O=(te=(0,s.default)(V.dismiss,O||{}))!==null&&te!==void 0?te:V.dismiss,W=W??V.transition,N=(0,l.twMerge)(V.className||"",N);var oe=(0,l.twMerge)((0,a.default)((0,c.default)(X.drawer),{"top-0 right-0":E==="right","bottom-0 left-0":E==="bottom","top-0 left-0":E==="top"||E==="left"}),N),Me=(0,l.twMerge)((0,a.default)((0,c.default)(X.overlay)),I==null?void 0:I.className),Re=(0,o.useFloating)({open:S,onOpenChange:R}).context,_e=(0,o.useInteractions)([(0,o.useDismiss)(Re,O)]).getFloatingProps;t.default.useEffect(function(){J.start(S?"open":"close")},[S,J,E]);var Fe={open:{x:0,y:0},close:{x:E==="left"?-x:E==="right"?x:0,y:E==="top"?-x:E==="bottom"?x:0}},Oe={unmount:{opacity:0,transition:{delay:.3}},mount:{opacity:1}};return t.default.createElement(t.default.Fragment,null,t.default.createElement(r.LazyMotion,{features:r.domAnimation},t.default.createElement(r.AnimatePresence,null,k&&S&&t.default.createElement(r.m.div,{ref:K,className:Me,initial:"unmount",exit:"unmount",animate:S?"mount":"unmount",variants:Oe,transition:{duration:.3}})),t.default.createElement(r.m.div,f({},_e(_({ref:C},Q)),{className:oe,style:{maxWidth:E==="left"||E==="right"?x:"100%",maxHeight:E==="top"||E==="bottom"?x:"100%",height:E==="left"||E==="right"?"100vh":"100%"},initial:"close",animate:J,variants:Fe,transition:W}),D)))});p.propTypes={open:u.propTypesOpen,size:u.propTypesSize,overlay:u.propTypesOverlay,children:u.propTypesChildren,placement:i.default.oneOf(u.propTypesPlacement),overlayProps:u.propTypesOverlayProps,className:u.propTypesClassName,onClose:u.propTypesOnClose,dismiss:u.propTypesDismiss,transition:u.propTypesTransition,overlayRef:u.propTypesOverlayRef},p.displayName="MaterialTailwind.Drawer";var v=p})(Qoe);var ese={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(p,v){for(var b in v)Object.defineProperty(p,b,{enumerable:!0,get:v[b]})}e(n,{Badge:function(){return y},default:function(){return m}});var t=f(le),i=f(Vt),r=f(Ko),o=f(ii),s=Rt,a=f(or),l=f(At),c=Et,d=K7;function u(p,v,b){return v in p?Object.defineProperty(p,v,{value:b,enumerable:!0,configurable:!0,writable:!0}):p[v]=b,p}function h(){return h=Object.assign||function(p){for(var v=1;v<arguments.length;v++){var b=arguments[v];for(var C in b)Object.prototype.hasOwnProperty.call(b,C)&&(p[C]=b[C])}return p},h.apply(this,arguments)}function f(p){return p&&p.__esModule?p:{default:p}}function g(p,v){if(p==null)return{};var b=_(p,v),C,S;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(p);for(S=0;S<x.length;S++)C=x[S],!(v.indexOf(C)>=0)&&Object.prototype.propertyIsEnumerable.call(p,C)&&(b[C]=p[C])}return b}function _(p,v){if(p==null)return{};var b={},C=Object.keys(p),S,x;for(x=0;x<C.length;x++)S=C[x],!(v.indexOf(S)>=0)&&(b[S]=p[S]);return b}var y=t.default.forwardRef(function(p,v){var b=p.color,C=p.invisible,S=p.withBorder,x=p.overlap,k=p.placement,D=p.className,E=p.content,I=p.children,N=p.containerProps,R=p.containerRef,O=g(p,["color","invisible","withBorder","overlap","placement","className","content","children","containerProps","containerRef"]),W=(0,c.useTheme)().badge,K=W.valid,Q=W.defaultProps,Y=W.styles,V=Y.base,X=Y.placements,J=Y.colors;b=b??Q.color,C=C??Q.invisible,S=S??Q.withBorder,x=x??Q.overlap,k=k??Q.placement,D=(0,s.twMerge)(Q.className||"",D);var te;N=(te=(0,r.default)(N,Q.containerProps||{}))!==null&&te!==void 0?te:Q.containerProps;var oe=(0,l.default)(V.badge.initial),Me=(0,l.default)(V.badge.withBorder),Re=(0,l.default)(V.badge.withContent),_e=(0,l.default)(J[(0,a.default)(K.colors,b,"red")]),Fe=(0,l.default)(X[(0,a.default)(K.placements,k,"top-end")][(0,a.default)(K.overlaps,x,"square")]),Oe,De=(0,s.twMerge)((0,o.default)(oe,Fe,_e,(Oe={},u(Oe,Me,S),u(Oe,Re,E),Oe)),D),ze=(0,s.twMerge)((0,o.default)((0,l.default)(V.container),N==null?void 0:N.className));return t.default.createElement("div",h({ref:R},N,{className:ze}),I,!C&&t.default.createElement("span",h({},O,{ref:v,className:De}),E))});y.propTypes={color:i.default.oneOf(d.propTypesColor),invisible:d.propTypesInvisible,withBorder:d.propTypesWithBorder,overlap:i.default.oneOf(d.propTypesOverlap),className:d.propTypesClassName,content:d.propTypesContent,children:d.propTypesChildren,placement:i.default.oneOf(d.propTypesPlacement),containerProps:d.propTypesContainerProps,containerRef:d.propTypesContainerRef},y.displayName="MaterialTailwind.Badge";var m=y})(ese);var tse={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(E,I){for(var N in I)Object.defineProperty(E,N,{enumerable:!0,get:I[N]})}e(n,{Rating:function(){return k},default:function(){return D}});var t=g(le),i=g(Vt),r=g(ii),o=Rt,s=g(or),a=g(At),l=Et,c=G7;function d(E,I){(I==null||I>E.length)&&(I=E.length);for(var N=0,R=new Array(I);N<I;N++)R[N]=E[N];return R}function u(E){if(Array.isArray(E))return E}function h(E){if(Array.isArray(E))return d(E)}function f(){return f=Object.assign||function(E){for(var I=1;I<arguments.length;I++){var N=arguments[I];for(var R in N)Object.prototype.hasOwnProperty.call(N,R)&&(E[R]=N[R])}return E},f.apply(this,arguments)}function g(E){return E&&E.__esModule?E:{default:E}}function _(E){if(typeof Symbol<"u"&&E[Symbol.iterator]!=null||E["@@iterator"]!=null)return Array.from(E)}function y(E,I){var N=E==null?null:typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(N!=null){var R=[],O=!0,W=!1,K,Q;try{for(N=N.call(E);!(O=(K=N.next()).done)&&(R.push(K.value),!(I&&R.length===I));O=!0);}catch(Y){W=!0,Q=Y}finally{try{!O&&N.return!=null&&N.return()}finally{if(W)throw Q}}return R}}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(E,I){if(E==null)return{};var N=b(E,I),R,O;if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(E);for(O=0;O<W.length;O++)R=W[O],!(I.indexOf(R)>=0)&&Object.prototype.propertyIsEnumerable.call(E,R)&&(N[R]=E[R])}return N}function b(E,I){if(E==null)return{};var N={},R=Object.keys(E),O,W;for(W=0;W<R.length;W++)O=R[W],!(I.indexOf(O)>=0)&&(N[O]=E[O]);return N}function C(E,I){return u(E)||y(E,I)||x(E,I)||m()}function S(E){return h(E)||_(E)||x(E)||p()}function x(E,I){if(E){if(typeof E=="string")return d(E,I);var N=Object.prototype.toString.call(E).slice(8,-1);if(N==="Object"&&E.constructor&&(N=E.constructor.name),N==="Map"||N==="Set")return Array.from(N);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return d(E,I)}}var k=t.default.forwardRef(function(E,I){var N=E.count,R=E.value,O=E.ratedIcon,W=E.unratedIcon,K=E.ratedColor,Q=E.unratedColor,Y=E.className,V=E.onChange,X=E.readonly,J=v(E,["count","value","ratedIcon","unratedIcon","ratedColor","unratedColor","className","onChange","readonly"]),te,oe,Me=(0,l.useTheme)().rating,Re=Me.valid,_e=Me.defaultProps,Fe=Me.styles,Oe=Fe.base,De=Fe.colors;N=N??_e.count,R=R??_e.value,O=O??_e.ratedIcon,O=O??_e.ratedIcon,W=W??_e.unratedIcon,K=K??_e.ratedColor,Q=Q??_e.unratedColor,V=V??_e.onChange,X=X??_e.readonly,Y=(0,o.twMerge)(_e.className||"",Y);var ze=C(t.default.useState(function(){return S(Array(R).fill("rated")).concat(S(Array(N-R).fill("un_rated")))}),2),ke=ze[0],Ze=ze[1],vt=C(t.default.useState(function(){return S(Array(N).fill("un_rated"))}),2),ot=vt[0],ct=vt[1],st=C(t.default.useState(!1),2),ni=st[0],Yi=st[1],zn=(0,a.default)(De[(0,s.default)(Re.colors,K,"yellow")]),be=(0,a.default)(De[(0,s.default)(Re.colors,Q,"blue-gray")]),he=(0,o.twMerge)((0,r.default)((0,a.default)(Oe.rating),Y)),fe=(0,a.default)(Oe.icon),$=O,Z=W,ae=t.default.isValidElement(O)&&t.default.cloneElement($,{className:(0,o.twMerge)((0,r.default)(fe,zn,$==null||(te=$.props)===null||te===void 0?void 0:te.className))}),se=t.default.isValidElement(O)&&t.default.cloneElement(Z,{className:(0,o.twMerge)((0,r.default)(fe,be,Z==null||(oe=Z.props)===null||oe===void 0?void 0:oe.className))}),Le=!t.default.isValidElement(O)&&t.default.createElement(O,{className:(0,o.twMerge)((0,r.default)(fe,zn))}),He=!t.default.isValidElement(O)&&t.default.createElement(W,{className:(0,o.twMerge)((0,r.default)(fe,be))}),Ye=function(nt){return nt.map(function(bt,gt){return t.default.createElement("span",{key:gt,onClick:function(){if(!X){var ci=ke.map(function(Qt,ut){return ut<=gt?"rated":"un_rated"});Ze(ci),V&&typeof V=="function"&&V(ci.filter(function(Qt){return Qt==="rated"}).length)}},onMouseEnter:function(){if(!X){var ci=ot.map(function(Qt,ut){return ut<=gt?"rated":"un_rated"});Yi(!0),ct(ci)}},onMouseLeave:function(){return!X&&Yi(!1)}},t.default.isValidElement(bt==="rated"?O:W)?bt==="rated"?ae:se:bt==="rated"?Le:He)})};return t.default.createElement("div",f({},J,{ref:I,className:he}),Ye(ni?ot:ke))});k.propTypes={count:c.propTypesCount,value:c.propTypesValue,ratedIcon:c.propTypesRatedIcon,unratedIcon:c.propTypesUnratedIcon,ratedColor:i.default.oneOf(c.propTypesColor),unratedColor:i.default.oneOf(c.propTypesColor),className:c.propTypesClassName,onChange:c.propTypesOnChange,readonly:c.propTypesReadonly},k.displayName="MaterialTailwind.Rating";var D=k})(tse);var ise={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(x,k){for(var D in k)Object.defineProperty(x,D,{enumerable:!0,get:k[D]})}e(n,{Slider:function(){return C},default:function(){return S}});var t=g(le),i=g(Vt),r=g(Ko),o=g(ii),s=Rt,a=g(or),l=g(At),c=Et,d=Z7;function u(x,k){(k==null||k>x.length)&&(k=x.length);for(var D=0,E=new Array(k);D<k;D++)E[D]=x[D];return E}function h(x){if(Array.isArray(x))return x}function f(){return f=Object.assign||function(x){for(var k=1;k<arguments.length;k++){var D=arguments[k];for(var E in D)Object.prototype.hasOwnProperty.call(D,E)&&(x[E]=D[E])}return x},f.apply(this,arguments)}function g(x){return x&&x.__esModule?x:{default:x}}function _(x,k){var D=x==null?null:typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(D!=null){var E=[],I=!0,N=!1,R,O;try{for(D=D.call(x);!(I=(R=D.next()).done)&&(E.push(R.value),!(k&&E.length===k));I=!0);}catch(W){N=!0,O=W}finally{try{!I&&D.return!=null&&D.return()}finally{if(N)throw O}}return E}}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(x,k){if(x==null)return{};var D=p(x,k),E,I;if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(x);for(I=0;I<N.length;I++)E=N[I],!(k.indexOf(E)>=0)&&Object.prototype.propertyIsEnumerable.call(x,E)&&(D[E]=x[E])}return D}function p(x,k){if(x==null)return{};var D={},E=Object.keys(x),I,N;for(N=0;N<E.length;N++)I=E[N],!(k.indexOf(I)>=0)&&(D[I]=x[I]);return D}function v(x,k){return h(x)||_(x,k)||b(x,k)||y()}function b(x,k){if(x){if(typeof x=="string")return u(x,k);var D=Object.prototype.toString.call(x).slice(8,-1);if(D==="Object"&&x.constructor&&(D=x.constructor.name),D==="Map"||D==="Set")return Array.from(D);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return u(x,k)}}var C=t.default.forwardRef(function(x,k){var D=x.color,E=x.size,I=x.className,N=x.trackClassName,R=x.thumbClassName,O=x.barClassName,W=x.value,K=x.defaultValue,Q=x.onChange,Y=x.min,V=x.max,X=x.step,J=x.inputRef,te=x.inputProps,oe=m(x,["color","size","className","trackClassName","thumbClassName","barClassName","value","defaultValue","onChange","min","max","step","inputRef","inputProps"]),Me=(0,c.useTheme)().slider,Re=Me.valid,_e=Me.defaultProps,Fe=Me.styles,Oe=Fe.base,De=Fe.sizes,ze=Fe.colors,ke=v(t.default.useState(K||0),2),Ze=ke[0],vt=ke[1];t.default.useMemo(function(){K&&vt(K)},[K]),D=D??_e.color,E=E??_e.size,Y=Y??_e.min,V=V??_e.max,X=X??_e.step,I=(0,s.twMerge)(_e.className||"",I);var ot;R=(ot=(0,o.default)(_e.thumbClassName,R))!==null&&ot!==void 0?ot:_e.thumbClassName;var ct;N=(ct=(0,o.default)(_e.trackClassName,N))!==null&&ct!==void 0?ct:_e.trackClassName;var st;O=(st=(0,o.default)(_e.barClassName,O))!==null&&st!==void 0?st:_e.barClassName;var ni;te=(ni=(0,r.default)(te,(_e==null?void 0:_e.inputProps)||{}))!==null&&ni!==void 0?ni:_e.inputProps;var Yi=(0,s.twMerge)((0,o.default)((0,l.default)(Oe.container),(0,l.default)(ze[(0,a.default)(Re.colors,D,"gray")]),(0,l.default)(De[(0,a.default)(Re.sizes,E,"md")].container),I)),zn=(0,s.twMerge)((0,o.default)((0,l.default)(Oe.bar),O)),be=(0,o.default)((0,l.default)(Oe.track),(0,l.default)(De[(0,a.default)(Re.sizes,E,"md")].track)),he=(0,o.default)((0,l.default)(Oe.thumb),(0,l.default)(De[(0,a.default)(Re.sizes,E,"md")].thumb)),fe=(0,o.default)((0,l.default)(Oe.slider),(0,s.twMerge)(be,N),(0,s.twMerge)(he,R));return t.default.createElement("div",f({},oe,{ref:k,className:Yi}),t.default.createElement("label",{className:zn,style:{width:"".concat(W||Ze,"%")}}),t.default.createElement("input",f({ref:J,type:"range",max:V,min:Y,step:X,className:fe},W?{value:W}:null,{defaultValue:K,onChange:function($){return Q?Q($):vt(Number($.target.value))}})))});C.propTypes={color:i.default.oneOf(d.propTypesColor),size:i.default.oneOf(d.propTypesSize),className:d.propTypesClassName,trackClassName:d.propTypesTrackClassName,thumbClassName:d.propTypesThumbClassName,barClassName:d.propTypesBarClassName,defaultValue:d.propTypesDefaultValue,value:d.propTypesValue,onChange:d.propTypesOnChange,min:d.propTypesMin,max:d.propTypesMax,step:d.propTypesStep,inputRef:d.propTypesInputRef,inputProps:d.propTypesInputProps},C.displayName="MaterialTailwind.Slider";var S=C})(ise);var nse={},Ex={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(C,S){for(var x in S)Object.defineProperty(C,x,{enumerable:!0,get:S[x]})}e(n,{useTimelineItem:function(){return p},TimelineItem:function(){return v},default:function(){return b}});var t=d(le),i=Rt,r=d(At),o=Et,s=Ah;function a(C,S){(S==null||S>C.length)&&(S=C.length);for(var x=0,k=new Array(S);x<S;x++)k[x]=C[x];return k}function l(C){if(Array.isArray(C))return C}function c(){return c=Object.assign||function(C){for(var S=1;S<arguments.length;S++){var x=arguments[S];for(var k in x)Object.prototype.hasOwnProperty.call(x,k)&&(C[k]=x[k])}return C},c.apply(this,arguments)}function d(C){return C&&C.__esModule?C:{default:C}}function u(C,S){var x=C==null?null:typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(x!=null){var k=[],D=!0,E=!1,I,N;try{for(x=x.call(C);!(D=(I=x.next()).done)&&(k.push(I.value),!(S&&k.length===S));D=!0);}catch(R){E=!0,N=R}finally{try{!D&&x.return!=null&&x.return()}finally{if(E)throw N}}return k}}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(C,S){if(C==null)return{};var x=g(C,S),k,D;if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(C);for(D=0;D<E.length;D++)k=E[D],!(S.indexOf(k)>=0)&&Object.prototype.propertyIsEnumerable.call(C,k)&&(x[k]=C[k])}return x}function g(C,S){if(C==null)return{};var x={},k=Object.keys(C),D,E;for(E=0;E<k.length;E++)D=k[E],!(S.indexOf(D)>=0)&&(x[D]=C[D]);return x}function _(C,S){return l(C)||u(C,S)||y(C,S)||h()}function y(C,S){if(C){if(typeof C=="string")return a(C,S);var x=Object.prototype.toString.call(C).slice(8,-1);if(x==="Object"&&C.constructor&&(x=C.constructor.name),x==="Map"||x==="Set")return Array.from(x);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return a(C,S)}}var m=t.default.createContext(0);m.displayName="MaterialTailwind.TimelineItemContext";function p(){var C=t.default.useContext(m);if(!C)throw new Error("useTimelineItemContext() must be used within a TimelineItem. It happens when you use TimelineIcon, TimelineConnector or TimelineBody components outside the TimelineItem component.");return C}var v=t.default.forwardRef(function(C,S){var x=C.className,k=C.children,D=f(C,["className","children"]),E=(0,o.useTheme)().timelineItem,I=E.styles,N=I.base,R=_(t.default.useState(0),2),O=R[0],W=R[1],K=t.default.useMemo(function(){return[O,W]},[O,W]),Q=(0,i.twMerge)((0,r.default)(N),x);return t.default.createElement(m.Provider,{value:K},t.default.createElement("li",c({ref:S},D,{className:Q}),k))});v.propTypes={className:s.propTypeClassName,children:s.propTypeChildren.isRequired},v.displayName="MaterialTailwind.TimelineItem";var b=v})(Ex);var rse={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(x,k){for(var D in k)Object.defineProperty(x,D,{enumerable:!0,get:k[D]})}e(n,{TimelineIcon:function(){return C},default:function(){return S}});var t=g(le),i=g(Vt),r=ao,o=Rt,s=g(or),a=g(At),l=Et,c=Ex,d=Ah;function u(x,k){(k==null||k>x.length)&&(k=x.length);for(var D=0,E=new Array(k);D<k;D++)E[D]=x[D];return E}function h(x){if(Array.isArray(x))return x}function f(){return f=Object.assign||function(x){for(var k=1;k<arguments.length;k++){var D=arguments[k];for(var E in D)Object.prototype.hasOwnProperty.call(D,E)&&(x[E]=D[E])}return x},f.apply(this,arguments)}function g(x){return x&&x.__esModule?x:{default:x}}function _(x,k){var D=x==null?null:typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(D!=null){var E=[],I=!0,N=!1,R,O;try{for(D=D.call(x);!(I=(R=D.next()).done)&&(E.push(R.value),!(k&&E.length===k));I=!0);}catch(W){N=!0,O=W}finally{try{!I&&D.return!=null&&D.return()}finally{if(N)throw O}}return E}}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(x,k){if(x==null)return{};var D=p(x,k),E,I;if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(x);for(I=0;I<N.length;I++)E=N[I],!(k.indexOf(E)>=0)&&Object.prototype.propertyIsEnumerable.call(x,E)&&(D[E]=x[E])}return D}function p(x,k){if(x==null)return{};var D={},E=Object.keys(x),I,N;for(N=0;N<E.length;N++)I=E[N],!(k.indexOf(I)>=0)&&(D[I]=x[I]);return D}function v(x,k){return h(x)||_(x,k)||b(x,k)||y()}function b(x,k){if(x){if(typeof x=="string")return u(x,k);var D=Object.prototype.toString.call(x).slice(8,-1);if(D==="Object"&&x.constructor&&(D=x.constructor.name),D==="Map"||D==="Set")return Array.from(D);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return u(x,k)}}var C=t.default.forwardRef(function(x,k){var D=x.color,E=x.variant,I=x.className,N=x.children,R=m(x,["color","variant","className","children"]),O=(0,l.useTheme)().timelineIcon,W=O.styles,K=O.valid,Q=W.base,Y=W.variants,V=v((0,c.useTimelineItem)(),2),X=V[1],J=t.default.useRef(null),te=(0,r.useMergeRefs)([k,J]);t.default.useEffect(function(){var Re=J.current;if(Re){var _e=Re.getBoundingClientRect().width;return X(_e),function(){X(0)}}},[X,I,N]);var oe=(0,a.default)(Y[(0,s.default)(K.variants,E,"filled")][(0,s.default)(K.colors,D,"gray")]),Me=(0,o.twMerge)((0,a.default)(Q),oe,I);return t.default.createElement("span",f({ref:te},R,{className:Me}),N)});C.propTypes={children:d.propTypeChildren,className:d.propTypeClassName,color:i.default.oneOf(d.propTypeColor),variant:i.default.oneOf(d.propTypeVariant)},C.displayName="MaterialTailwind.TimelineIcon";var S=C})(rse);var ose={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(b,C){for(var S in C)Object.defineProperty(b,S,{enumerable:!0,get:C[S]})}e(n,{TimelineHeader:function(){return p},default:function(){return v}});var t=u(le),i=Rt,r=u(At),o=Et,s=Ex,a=Ah;function l(b,C){(C==null||C>b.length)&&(C=b.length);for(var S=0,x=new Array(C);S<C;S++)x[S]=b[S];return x}function c(b){if(Array.isArray(b))return b}function d(){return d=Object.assign||function(b){for(var C=1;C<arguments.length;C++){var S=arguments[C];for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(b[x]=S[x])}return b},d.apply(this,arguments)}function u(b){return b&&b.__esModule?b:{default:b}}function h(b,C){var S=b==null?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(S!=null){var x=[],k=!0,D=!1,E,I;try{for(S=S.call(b);!(k=(E=S.next()).done)&&(x.push(E.value),!(C&&x.length===C));k=!0);}catch(N){D=!0,I=N}finally{try{!k&&S.return!=null&&S.return()}finally{if(D)throw I}}return x}}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(b,C){if(b==null)return{};var S=_(b,C),x,k;if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(b);for(k=0;k<D.length;k++)x=D[k],!(C.indexOf(x)>=0)&&Object.prototype.propertyIsEnumerable.call(b,x)&&(S[x]=b[x])}return S}function _(b,C){if(b==null)return{};var S={},x=Object.keys(b),k,D;for(D=0;D<x.length;D++)k=x[D],!(C.indexOf(k)>=0)&&(S[k]=b[k]);return S}function y(b,C){return c(b)||h(b,C)||m(b,C)||f()}function m(b,C){if(b){if(typeof b=="string")return l(b,C);var S=Object.prototype.toString.call(b).slice(8,-1);if(S==="Object"&&b.constructor&&(S=b.constructor.name),S==="Map"||S==="Set")return Array.from(S);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return l(b,C)}}var p=t.default.forwardRef(function(b,C){var S=b.className,x=b.children,k=g(b,["className","children"]),D=(0,o.useTheme)().timelineBody,E=D.styles,I=E.base,N=y((0,s.useTimelineItem)(),1),R=N[0],O=(0,i.twMerge)((0,r.default)(I),S);return t.default.createElement("div",d({},k,{ref:C,className:O}),t.default.createElement("span",{className:"pointer-events-none invisible h-full flex-shrink-0",style:{width:"".concat(R,"px")}}),t.default.createElement("div",null,x))});p.propTypes={children:a.propTypeChildren,className:a.propTypeClassName},p.displayName="MaterialTailwind.TimelineHeader";var v=p})(ose);var sse={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(f,g){for(var _ in g)Object.defineProperty(f,_,{enumerable:!0,get:g[_]})}e(n,{TimelineHeader:function(){return u},default:function(){return h}});var t=l(le),i=Rt,r=l(At),o=Et,s=Ah;function a(){return a=Object.assign||function(f){for(var g=1;g<arguments.length;g++){var _=arguments[g];for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&(f[y]=_[y])}return f},a.apply(this,arguments)}function l(f){return f&&f.__esModule?f:{default:f}}function c(f,g){if(f==null)return{};var _=d(f,g),y,m;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);for(m=0;m<p.length;m++)y=p[m],!(g.indexOf(y)>=0)&&Object.prototype.propertyIsEnumerable.call(f,y)&&(_[y]=f[y])}return _}function d(f,g){if(f==null)return{};var _={},y=Object.keys(f),m,p;for(p=0;p<y.length;p++)m=y[p],!(g.indexOf(m)>=0)&&(_[m]=f[m]);return _}var u=t.default.forwardRef(function(f,g){var _=f.className,y=f.children,m=c(f,["className","children"]),p=(0,o.useTheme)().timelineHeader,v=p.styles,b=v.base,C=(0,i.twMerge)((0,r.default)(b),_);return t.default.createElement("div",a({},m,{ref:g,className:C}),y)});u.propTypes={children:s.propTypeChildren,className:s.propTypeClassName},u.displayName="MaterialTailwind.TimelineHeader";var h=u})(sse);var ase={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(b,C){for(var S in C)Object.defineProperty(b,S,{enumerable:!0,get:C[S]})}e(n,{TimelineConnector:function(){return p},default:function(){return v}});var t=u(le),i=Rt,r=u(At),o=Et,s=Ex,a=Ah;function l(b,C){(C==null||C>b.length)&&(C=b.length);for(var S=0,x=new Array(C);S<C;S++)x[S]=b[S];return x}function c(b){if(Array.isArray(b))return b}function d(){return d=Object.assign||function(b){for(var C=1;C<arguments.length;C++){var S=arguments[C];for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(b[x]=S[x])}return b},d.apply(this,arguments)}function u(b){return b&&b.__esModule?b:{default:b}}function h(b,C){var S=b==null?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(S!=null){var x=[],k=!0,D=!1,E,I;try{for(S=S.call(b);!(k=(E=S.next()).done)&&(x.push(E.value),!(C&&x.length===C));k=!0);}catch(N){D=!0,I=N}finally{try{!k&&S.return!=null&&S.return()}finally{if(D)throw I}}return x}}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(b,C){if(b==null)return{};var S=_(b,C),x,k;if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(b);for(k=0;k<D.length;k++)x=D[k],!(C.indexOf(x)>=0)&&Object.prototype.propertyIsEnumerable.call(b,x)&&(S[x]=b[x])}return S}function _(b,C){if(b==null)return{};var S={},x=Object.keys(b),k,D;for(D=0;D<x.length;D++)k=x[D],!(C.indexOf(k)>=0)&&(S[k]=b[k]);return S}function y(b,C){return c(b)||h(b,C)||m(b,C)||f()}function m(b,C){if(b){if(typeof b=="string")return l(b,C);var S=Object.prototype.toString.call(b).slice(8,-1);if(S==="Object"&&b.constructor&&(S=b.constructor.name),S==="Map"||S==="Set")return Array.from(S);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return l(b,C)}}var p=t.default.forwardRef(function(b,C){var S=b.className,x=b.children,k=g(b,["className","children"]),D,E=(0,o.useTheme)().timelineConnector,I=E.styles,N=I.base,R=y((0,s.useTimelineItem)(),1),O=R[0],W=(0,r.default)(N.line),K=(0,i.twMerge)((0,r.default)(N.container),S);return t.default.createElement("span",d({},k,{ref:C,className:K,style:{top:"".concat(O,"px"),width:"".concat(O,"px"),opacity:O?1:0,height:"calc(100% - ".concat(O,"px)")}}),x&&t.default.isValidElement(x)?t.default.cloneElement(x,{className:(0,i.twMerge)(W,(D=x.props)===null||D===void 0?void 0:D.className)}):t.default.createElement("span",{className:W}))});p.propTypes={children:a.propTypeChildren,className:a.propTypeClassName},p.displayName="MaterialTailwind.TimelineConnector";var v=p})(ase);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(p,v){for(var b in v)Object.defineProperty(p,b,{enumerable:!0,get:v[b]})}e(n,{Timeline:function(){return y},TimelineItem:function(){return a.default},TimelineIcon:function(){return l.default},TimelineBody:function(){return c.default},TimelineHeader:function(){return d.default},TimelineConnector:function(){return u.default},default:function(){return m}});var t=f(le),i=Rt,r=f(At),o=Et,s=Ah,a=f(Ex),l=f(rse),c=f(ose),d=f(sse),u=f(ase);function h(){return h=Object.assign||function(p){for(var v=1;v<arguments.length;v++){var b=arguments[v];for(var C in b)Object.prototype.hasOwnProperty.call(b,C)&&(p[C]=b[C])}return p},h.apply(this,arguments)}function f(p){return p&&p.__esModule?p:{default:p}}function g(p,v){if(p==null)return{};var b=_(p,v),C,S;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(p);for(S=0;S<x.length;S++)C=x[S],!(v.indexOf(C)>=0)&&Object.prototype.propertyIsEnumerable.call(p,C)&&(b[C]=p[C])}return b}function _(p,v){if(p==null)return{};var b={},C=Object.keys(p),S,x;for(x=0;x<C.length;x++)S=C[x],!(v.indexOf(S)>=0)&&(b[S]=p[S]);return b}var y=t.default.forwardRef(function(p,v){var b=p.className,C=p.children,S=g(p,["className","children"]),x=(0,o.useTheme)().timeline,k=x.styles,D=k.base,E=(0,i.twMerge)((0,r.default)(D),b);return t.default.createElement("ul",h({ref:v},S,{className:E}),C)});y.propTypes={className:s.propTypeClassName,children:s.propTypeChildren},y.displayName="MaterialTailwind.Timeline";var m=Object.assign(y,{Item:a.default,Icon:l.default,Header:d.default,Body:c.default,Connector:u.default})})(nse);var lse={},cse={},AW={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(c,d){for(var u in d)Object.defineProperty(c,u,{enumerable:!0,get:d[u]})}e(n,{propTypesActiveStep:function(){return r},propTypesIsLastStep:function(){return o},propTypesIsFirstStep:function(){return s},propTypesChildren:function(){return a},propTypesClassName:function(){return l}});var t=i(Vt);function i(c){return c&&c.__esModule?c:{default:c}}var r=t.default.number,o=t.default.func,s=t.default.func,a=t.default.node,l=t.default.string})(AW);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(f,g){for(var _ in g)Object.defineProperty(f,_,{enumerable:!0,get:g[_]})}e(n,{Step:function(){return u},default:function(){return h}});var t=l(le),i=Rt,r=l(At),o=Et,s=AW;function a(){return a=Object.assign||function(f){for(var g=1;g<arguments.length;g++){var _=arguments[g];for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&(f[y]=_[y])}return f},a.apply(this,arguments)}function l(f){return f&&f.__esModule?f:{default:f}}function c(f,g){if(f==null)return{};var _=d(f,g),y,m;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);for(m=0;m<p.length;m++)y=p[m],!(g.indexOf(y)>=0)&&Object.prototype.propertyIsEnumerable.call(f,y)&&(_[y]=f[y])}return _}function d(f,g){if(f==null)return{};var _={},y=Object.keys(f),m,p;for(p=0;p<y.length;p++)m=y[p],!(g.indexOf(m)>=0)&&(_[m]=f[m]);return _}var u=t.default.forwardRef(function(f,g){var _=f.className;f.activeClassName,f.completedClassName;var y=f.children,m=c(f,["className","activeClassName","completedClassName","children"]),p=(0,o.useTheme)().step,v=p.styles.base,b=(0,i.twMerge)((0,r.default)(v.initial),_);return t.default.createElement("div",a({},m,{ref:g,className:b}),y)});u.propTypes={className:s.propTypesClassName,activeClassName:s.propTypesClassName,completedClassName:s.propTypesClassName,children:s.propTypesChildren},u.displayName="MaterialTailwind.Step";var h=u})(cse);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(D,E){for(var I in E)Object.defineProperty(D,I,{enumerable:!0,get:E[I]})}e(n,{Stepper:function(){return x},Step:function(){return a.default},default:function(){return k}});var t=f(le),i=ao,r=Rt,o=f(At),s=Et,a=f(cse),l=AW;function c(D,E){(E==null||E>D.length)&&(E=D.length);for(var I=0,N=new Array(E);I<E;I++)N[I]=D[I];return N}function d(D){if(Array.isArray(D))return D}function u(D,E,I){return E in D?Object.defineProperty(D,E,{value:I,enumerable:!0,configurable:!0,writable:!0}):D[E]=I,D}function h(){return h=Object.assign||function(D){for(var E=1;E<arguments.length;E++){var I=arguments[E];for(var N in I)Object.prototype.hasOwnProperty.call(I,N)&&(D[N]=I[N])}return D},h.apply(this,arguments)}function f(D){return D&&D.__esModule?D:{default:D}}function g(D,E){var I=D==null?null:typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(I!=null){var N=[],R=!0,O=!1,W,K;try{for(I=I.call(D);!(R=(W=I.next()).done)&&(N.push(W.value),!(E&&N.length===E));R=!0);}catch(Q){O=!0,K=Q}finally{try{!R&&I.return!=null&&I.return()}finally{if(O)throw K}}return N}}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(D){for(var E=1;E<arguments.length;E++){var I=arguments[E]!=null?arguments[E]:{},N=Object.keys(I);typeof Object.getOwnPropertySymbols=="function"&&(N=N.concat(Object.getOwnPropertySymbols(I).filter(function(R){return Object.getOwnPropertyDescriptor(I,R).enumerable}))),N.forEach(function(R){u(D,R,I[R])})}return D}function m(D,E){var I=Object.keys(D);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(D);E&&(N=N.filter(function(R){return Object.getOwnPropertyDescriptor(D,R).enumerable})),I.push.apply(I,N)}return I}function p(D,E){return E=E??{},Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(E)):m(Object(E)).forEach(function(I){Object.defineProperty(D,I,Object.getOwnPropertyDescriptor(E,I))}),D}function v(D,E){if(D==null)return{};var I=b(D,E),N,R;if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(D);for(R=0;R<O.length;R++)N=O[R],!(E.indexOf(N)>=0)&&Object.prototype.propertyIsEnumerable.call(D,N)&&(I[N]=D[N])}return I}function b(D,E){if(D==null)return{};var I={},N=Object.keys(D),R,O;for(O=0;O<N.length;O++)R=N[O],!(E.indexOf(R)>=0)&&(I[R]=D[R]);return I}function C(D,E){return d(D)||g(D,E)||S(D,E)||_()}function S(D,E){if(D){if(typeof D=="string")return c(D,E);var I=Object.prototype.toString.call(D).slice(8,-1);if(I==="Object"&&D.constructor&&(I=D.constructor.name),I==="Map"||I==="Set")return Array.from(I);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return c(D,E)}}var x=t.default.forwardRef(function(D,E){var I=D.activeStep,N=D.isFirstStep,R=D.isLastStep,O=D.className,W=D.lineClassName,K=D.activeLineClassName,Q=D.children,Y=v(D,["activeStep","isFirstStep","isLastStep","className","lineClassName","activeLineClassName","children"]),V=(0,s.useTheme)(),X=V.stepper,J=V.step,te=X.styles.base,oe=J.styles,Me=oe.base,Re=t.default.useRef(null),_e=C(t.default.useState(0),2),Fe=_e[0],Oe=_e[1],De=I===0,ze=Array.isArray(Q)&&I===Q.length-1,ke=Array.isArray(Q)&&I>Q.length-1;t.default.useEffect(function(){if(Re.current){var Yi=Q,zn=Re.current.getBoundingClientRect().width,be=zn/(Yi.length-1);Oe(be)}},[Q]);var Ze=t.default.useMemo(function(){if(!ke)return Fe*I},[I,ke,Fe]);(0,i.useMergeRefs)([E,Re]);var vt=(0,r.twMerge)((0,o.default)(te.stepper),O),ot=(0,r.twMerge)((0,o.default)(te.line.initial),W),ct=(0,r.twMerge)(ot,(0,o.default)(te.line.active),K),st=(0,o.default)(Me.active),ni=(0,o.default)(Me.completed);return t.default.useEffect(function(){R&&typeof R=="function"&&R(ze),N&&typeof N=="function"&&N(De)},[N,De,R,ze]),t.default.createElement("div",h({},Y,{ref:Re,className:vt}),t.default.createElement("div",{className:ot}),t.default.createElement("div",{className:ct,style:{width:"".concat(Ze,"px")}}),Array.isArray(Q)?Q.map(function(Yi,zn){var be,he;return t.default.cloneElement(Yi,p(y({key:zn},Yi.props),{className:(0,r.twMerge)(Yi.props.className,zn===I?(0,r.twMerge)(st,(be=Yi.props)===null||be===void 0?void 0:be.activeClassName):zn<I?(0,r.twMerge)(ni,(he=Yi.props)===null||he===void 0?void 0:he.completedClassName):"")}))}):Q)});x.propTypes={activeStep:l.propTypesActiveStep,isFirstStep:l.propTypesIsFirstStep,isLastStep:l.propTypesIsLastStep,className:l.propTypesClassName,lineClassName:l.propTypesClassName,activeLineClassName:l.propTypesClassName,children:l.propTypesChildren},x.displayName="MaterialTailwind.Stepper";var k=Object.assign(x,{Step:a.default})})(lse);var rA={},Ix={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(f,g){for(var _ in g)Object.defineProperty(f,_,{enumerable:!0,get:g[_]})}e(n,{propTypesOpen:function(){return o},propTypesHanlder:function(){return s},propTypesPlacement:function(){return a},propTypesOffset:function(){return l},propTypesDismiss:function(){return c},propTypesChildren:function(){return d},propTypesAnimate:function(){return u},propTypesClassName:function(){return h}});var t=r(Vt),i=Xn;function r(f){return f&&f.__esModule?f:{default:f}}var o=t.default.bool,s=t.default.func,a=t.default.oneOf(i.propTypesPlacements),l=i.propTypesOffsetType,c=i.propTypesDismissType,d=t.default.node.isRequired,u=i.propTypesAnimation,h=t.default.string})(Ix);var oA={},sq;function ASe(){return sq||(sq=1,function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(y,m){for(var p in m)Object.defineProperty(y,p,{enumerable:!0,get:m[p]})}e(n,{SpeedDialHandler:function(){return g},default:function(){return _}});var t=l(le),i=ao,r=OW(),o=Rt,s=Ix;function a(y,m,p){return m in y?Object.defineProperty(y,m,{value:p,enumerable:!0,configurable:!0,writable:!0}):y[m]=p,y}function l(y){return y&&y.__esModule?y:{default:y}}function c(y){for(var m=1;m<arguments.length;m++){var p=arguments[m]!=null?arguments[m]:{},v=Object.keys(p);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(p).filter(function(b){return Object.getOwnPropertyDescriptor(p,b).enumerable}))),v.forEach(function(b){a(y,b,p[b])})}return y}function d(y,m){var p=Object.keys(y);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(y);m&&(v=v.filter(function(b){return Object.getOwnPropertyDescriptor(y,b).enumerable})),p.push.apply(p,v)}return p}function u(y,m){return m=m??{},Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(m)):d(Object(m)).forEach(function(p){Object.defineProperty(y,p,Object.getOwnPropertyDescriptor(m,p))}),y}function h(y,m){if(y==null)return{};var p=f(y,m),v,b;if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(y);for(b=0;b<C.length;b++)v=C[b],!(m.indexOf(v)>=0)&&Object.prototype.propertyIsEnumerable.call(y,v)&&(p[v]=y[v])}return p}function f(y,m){if(y==null)return{};var p={},v=Object.keys(y),b,C;for(C=0;C<v.length;C++)b=v[C],!(m.indexOf(b)>=0)&&(p[b]=y[b]);return p}var g=t.default.forwardRef(function(y,m){var p=y.children,v=h(y,["children"]),b,C=(0,r.useSpeedDial)(),S=C.getReferenceProps,x=C.refs,k=(0,i.useMergeRefs)([m,x.setReference]);return t.default.cloneElement(p,c({},S(u(c({},v),{ref:k,className:(0,o.twMerge)(p==null||(b=p.props)===null||b===void 0?void 0:b.className,v==null?void 0:v.className)}))))});g.propTypes={children:s.propTypesChildren},g.displayName="MaterialTailwind.SpeedDialHandler";var _=g}(oA)),oA}var sA={},aq;function OSe(){return aq||(aq=1,function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(y,m){for(var p in m)Object.defineProperty(y,p,{enumerable:!0,get:m[p]})}e(n,{SpeedDialContent:function(){return g},default:function(){return _}});var t=u(le),i=Lo,r=ao,o=OW(),s=Et,a=Rt,l=u(At),c=Ix;function d(){return d=Object.assign||function(y){for(var m=1;m<arguments.length;m++){var p=arguments[m];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(y[v]=p[v])}return y},d.apply(this,arguments)}function u(y){return y&&y.__esModule?y:{default:y}}function h(y,m){if(y==null)return{};var p=f(y,m),v,b;if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(y);for(b=0;b<C.length;b++)v=C[b],!(m.indexOf(v)>=0)&&Object.prototype.propertyIsEnumerable.call(y,v)&&(p[v]=y[v])}return p}function f(y,m){if(y==null)return{};var p={},v=Object.keys(y),b,C;for(C=0;C<v.length;C++)b=v[C],!(m.indexOf(b)>=0)&&(p[b]=y[b]);return p}var g=t.default.forwardRef(function(y,m){var p=y.children,v=y.className,b=h(y,["children","className"]),C=(0,s.useTheme)(),S=C.speedDialContent.styles,x=(0,o.useSpeedDial)(),k=x.x,D=x.y,E=x.refs,I=x.open,N=x.strategy,R=x.getFloatingProps,O=x.animation,W=(0,r.useMergeRefs)([m,E.setFloating]),K=(0,a.twMerge)((0,l.default)(S),v),Q=i.AnimatePresence;return t.default.createElement(i.LazyMotion,{features:i.domAnimation},t.default.createElement(Q,null,I&&t.default.createElement("div",d({},b,{ref:W,className:K,style:{position:N,top:D??0,left:k??0}},R()),t.default.Children.map(p,function(Y){return t.default.createElement(i.m.div,{initial:"unmount",exit:"unmount",animate:I?"mount":"unmount",variants:O},Y)}))))});g.propTypes={children:c.propTypesChildren,className:c.propTypesClassName},g.displayName="MaterialTailwind.SpeedDialContent";var _=g}(sA)),sA}var dse={};(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(f,g){for(var _ in g)Object.defineProperty(f,_,{enumerable:!0,get:g[_]})}e(n,{SpeedDialAction:function(){return u},default:function(){return h}});var t=l(le),i=Et,r=Rt,o=l(At),s=Ix;function a(){return a=Object.assign||function(f){for(var g=1;g<arguments.length;g++){var _=arguments[g];for(var y in _)Object.prototype.hasOwnProperty.call(_,y)&&(f[y]=_[y])}return f},a.apply(this,arguments)}function l(f){return f&&f.__esModule?f:{default:f}}function c(f,g){if(f==null)return{};var _=d(f,g),y,m;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(f);for(m=0;m<p.length;m++)y=p[m],!(g.indexOf(y)>=0)&&Object.prototype.propertyIsEnumerable.call(f,y)&&(_[y]=f[y])}return _}function d(f,g){if(f==null)return{};var _={},y=Object.keys(f),m,p;for(p=0;p<y.length;p++)m=y[p],!(g.indexOf(m)>=0)&&(_[m]=f[m]);return _}var u=t.default.forwardRef(function(f,g){var _=f.className,y=f.children,m=c(f,["className","children"]),p=(0,i.useTheme)(),v=p.speedDialAction.styles,b=(0,r.twMerge)((0,o.default)(v),_);return t.default.createElement("button",a({},m,{ref:g,className:b}),y)});u.propTypes={children:s.propTypesChildren,className:s.propTypesClassName},u.displayName="SpeedDialAction";var h=u})(dse);var lq;function OW(){return lq||(lq=1,function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(C,S){for(var x in S)Object.defineProperty(C,x,{enumerable:!0,get:S[x]})}e(n,{SpeedDialContext:function(){return m},useSpeedDial:function(){return p},SpeedDial:function(){return v},SpeedDialHandler:function(){return a.default},SpeedDialContent:function(){return l.default},SpeedDialAction:function(){return c.default},default:function(){return b}});var t=h(le),i=ao,r=Et,o=h(Ko),s=Ix,a=h(ASe()),l=h(OSe()),c=h(dse);function d(C,S){(S==null||S>C.length)&&(S=C.length);for(var x=0,k=new Array(S);x<S;x++)k[x]=C[x];return k}function u(C){if(Array.isArray(C))return C}function h(C){return C&&C.__esModule?C:{default:C}}function f(C,S){var x=C==null?null:typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(x!=null){var k=[],D=!0,E=!1,I,N;try{for(x=x.call(C);!(D=(I=x.next()).done)&&(k.push(I.value),!(S&&k.length===S));D=!0);}catch(R){E=!0,N=R}finally{try{!D&&x.return!=null&&x.return()}finally{if(E)throw N}}return k}}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(C,S){return u(C)||f(C,S)||y(C,S)||g()}function y(C,S){if(C){if(typeof C=="string")return d(C,S);var x=Object.prototype.toString.call(C).slice(8,-1);if(x==="Object"&&C.constructor&&(x=C.constructor.name),x==="Map"||x==="Set")return Array.from(x);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return d(C,S)}}var m=t.default.createContext(null);function p(){var C=t.default.useContext(m);if(!C)throw new Error("useSpeedDial must be used within a <SpeedDial />.");return C}function v(C){var S=C.open,x=C.handler,k=C.placement,D=C.offset,E=C.dismiss,I=C.animate,N=C.children,R=(0,r.useTheme)(),O=R.speedDial.defaultProps,W=_(t.default.useState(!1),2),K=W[0],Q=W[1];S=S??K,x=x??Q,k=k??O.placement,D=D??O.offset,E=E??O.dismiss,I=I??O.animate;var Y={unmount:{opacity:0,transform:"scale(0.5)",transition:{duration:.2,times:[.4,0,.2,1]}},mount:{opacity:1,transform:"scale(1)",transition:{duration:.2,times:[.4,0,.2,1]}}},V=(0,o.default)(Y,I),X=(0,i.useFloatingNodeId)(),J=(0,i.useFloating)({open:S,nodeId:X,placement:k,onOpenChange:x,whileElementsMounted:i.autoUpdate,middleware:[(0,i.offset)(D),(0,i.flip)(),(0,i.shift)()]}),te=J.x,oe=J.y,Me=J.strategy,Re=J.refs,_e=J.context,Fe=(0,i.useInteractions)([(0,i.useHover)(_e,{handleClose:(0,i.safePolygon)()}),(0,i.useDismiss)(_e,E)]),Oe=Fe.getReferenceProps,De=Fe.getFloatingProps,ze=t.default.useMemo(function(){return{x:te,y:oe,strategy:Me,refs:Re,open:S,context:_e,getReferenceProps:Oe,getFloatingProps:De,animation:V}},[_e,De,Oe,Re,Me,te,oe,S,V]);return t.default.createElement(m.Provider,{value:ze},t.default.createElement("div",{className:"group"},t.default.createElement(i.FloatingNode,{id:X},N)))}v.propTypes={open:s.propTypesOpen,handler:s.propTypesHanlder,placement:s.propTypesPlacement,offset:s.propTypesOffset,dismiss:s.propTypesDismiss,className:s.propTypesClassName,children:s.propTypesChildren,animate:s.propTypesAnimate},v.displayName="MaterialTailwind.SpeedDial";var b=Object.assign(v,{Handler:a.default,Content:l.default,Action:c.default})}(rA)),rA}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),e(Iee,n),e(xre,n),e(Lre,n),e(kre,n),e(Tre,n),e(Ere,n),e(Mre,n),e(Rre,n),e(Are,n),e(aP,n),e(Coe,n),e(woe,n),e(Doe,n),e(Eoe,n),e(Poe,n),e(Moe,n),e(Roe,n),e(Ooe,n),e(Foe,n),e(zoe,n),e(joe,n),e(Uoe,n),e($oe,n),e(Koe,n),e(Zoe,n),e(Yoe,n),e(Qoe,n),e(ese,n),e(tse,n),e(ise,n),e(bW,n),e(nse,n),e(lse,n),e(OW(),n),e(Et,n),e(A7,n);function e(t,i){return Object.keys(t).forEach(function(r){r!=="default"&&!Object.prototype.hasOwnProperty.call(i,r)&&Object.defineProperty(i,r,{enumerable:!0,get:function(){return t[r]}})}),t}})(WC);const FSe=[{title:"task 1"},{title:"task 2"},{title:"task 3"},{title:"task 4"}];function Fa(n,e=0){return n[n.length-(1+e)]}function BSe(n){if(n.length===0)throw new Error("Invalid tail call");return[n.slice(0,n.length-1),n[n.length-1]]}function vn(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e||n.length!==e.length)return!1;for(let i=0,r=n.length;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function WSe(n,e){const t=n.length-1;e<t&&(n[e]=n[t]),n.pop()}function M1(n,e,t){return VSe(n.length,i=>t(n[i],e))}function VSe(n,e){let t=0,i=n-1;for(;t<=i;){const r=(t+i)/2|0,o=e(r);if(o<0)t=r+1;else if(o>0)i=r-1;else return r}return-(t+1)}function x4(n,e,t){if(n=n|0,n>=e.length)throw new TypeError("invalid index");const i=e[Math.floor(e.length*Math.random())],r=[],o=[],s=[];for(const a of e){const l=t(a,i);l<0?r.push(a):l>0?o.push(a):s.push(a)}return n<r.length?x4(n,r,t):n<r.length+s.length?s[0]:x4(n-(r.length+s.length),o,t)}function cq(n,e){const t=[];let i;for(const r of n.slice(0).sort(e))!i||e(i[0],r)!==0?(i=[r],t.push(i)):i.push(r);return t}function*FW(n,e){let t,i;for(const r of n)i!==void 0&&e(i,r)?t.push(r):(t&&(yield t),t=[r]),i=r;t&&(yield t)}function use(n,e){for(let t=0;t<=n.length;t++)e(t===0?void 0:n[t-1],t===n.length?void 0:n[t])}function HSe(n,e){for(let t=0;t<n.length;t++)e(t===0?void 0:n[t-1],n[t],t+1===n.length?void 0:n[t+1])}function zc(n){return n.filter(e=>!!e)}function dq(n){let e=0;for(let t=0;t<n.length;t++)n[t]&&(n[e]=n[t],e+=1);n.length=e}function hse(n){return!Array.isArray(n)||n.length===0}function io(n){return Array.isArray(n)&&n.length>0}function Eg(n,e=t=>t){const t=new Set;return n.filter(i=>{const r=e(i);return t.has(r)?!1:(t.add(r),!0)})}function BW(n,e){return n.length>0?n[0]:e}function No(n,e){let t=typeof e=="number"?n:0;typeof e=="number"?t=n:(t=0,e=n);const i=[];if(t<=e)for(let r=t;r<e;r++)i.push(r);else for(let r=t;r>e;r--)i.push(r);return i}function gP(n,e,t){const i=n.slice(0,e),r=n.slice(e);return i.concat(t,r)}function aA(n,e){const t=n.indexOf(e);t>-1&&(n.splice(t,1),n.unshift(e))}function ck(n,e){const t=n.indexOf(e);t>-1&&(n.splice(t,1),n.push(e))}function L4(n,e){for(const t of e)n.push(t)}function WW(n){return Array.isArray(n)?n:[n]}function zSe(n,e,t){const i=fse(n,e),r=n.length,o=t.length;n.length=r+o;for(let s=r-1;s>=i;s--)n[s+o]=n[s];for(let s=0;s<o;s++)n[s+i]=t[s]}function uq(n,e,t,i){const r=fse(n,e);let o=n.splice(r,t);return o===void 0&&(o=[]),zSe(n,r,i),o}function fse(n,e){return e<0?Math.max(e+n.length,0):Math.min(e,n.length)}var R1;(function(n){function e(o){return o<0}n.isLessThan=e;function t(o){return o<=0}n.isLessThanOrEqual=t;function i(o){return o>0}n.isGreaterThan=i;function r(o){return o===0}n.isNeitherLessOrGreaterThan=r,n.greaterThan=1,n.lessThan=-1,n.neitherLessOrGreaterThan=0})(R1||(R1={}));function Xa(n,e){return(t,i)=>e(n(t),n(i))}function jSe(...n){return(e,t)=>{for(const i of n){const r=i(e,t);if(!R1.isNeitherLessOrGreaterThan(r))return r}return R1.neitherLessOrGreaterThan}}const uh=(n,e)=>n-e,USe=(n,e)=>uh(n?1:0,e?1:0);function gse(n){return(e,t)=>-n(e,t)}class Dh{constructor(e){this.items=e,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;const i=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,i}takeFromEndWhile(e){let t=this.lastIdx;for(;t>=0&&e(this.items[t]);)t--;const i=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,i}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const e=this.items[this.firstIdx];return this.firstIdx++,e}takeCount(e){const t=this.items.slice(this.firstIdx,this.firstIdx+e);return this.firstIdx+=e,t}}class Xd{constructor(e){this.iterate=e}toArray(){const e=[];return this.iterate(t=>(e.push(t),!0)),e}filter(e){return new Xd(t=>this.iterate(i=>e(i)?t(i):!0))}map(e){return new Xd(t=>this.iterate(i=>t(e(i))))}findLast(e){let t;return this.iterate(i=>(e(i)&&(t=i),!0)),t}findLastMaxBy(e){let t,i=!0;return this.iterate(r=>((i||R1.isGreaterThan(e(r,t)))&&(i=!1,t=r),!0)),t}}Xd.empty=new Xd(n=>{});function Ho(n){return typeof n=="string"}function Oo(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&!(n instanceof RegExp)&&!(n instanceof Date)}function $Se(n){const e=Object.getPrototypeOf(Uint8Array);return typeof n=="object"&&n instanceof e}function Ig(n){return typeof n=="number"&&!isNaN(n)}function hq(n){return!!n&&typeof n[Symbol.iterator]=="function"}function pse(n){return n===!0||n===!1}function Ms(n){return typeof n>"u"}function Vm(n){return!ca(n)}function ca(n){return Ms(n)||n===null}function Ci(n,e){if(!n)throw new Error(e?`Unexpected type, expected '${e}'`:"Unexpected type")}function Ff(n){if(ca(n))throw new Error("Assertion Failed: argument is undefined or null");return n}function A1(n){return typeof n=="function"}function qSe(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)KSe(n[i],e[i])}function KSe(n,e){if(Ho(e)){if(typeof n!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(A1(e)){try{if(n instanceof e)return}catch{}if(!ca(n)&&n.constructor===e||e.length===1&&e.call(void 0,n)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function Vu(n){if(!n||typeof n!="object"||n instanceof RegExp)return n;const e=Array.isArray(n)?[]:{};return Object.entries(n).forEach(([t,i])=>{e[t]=i&&typeof i=="object"?Vu(i):i}),e}function GSe(n){if(!n||typeof n!="object")return n;const e=[n];for(;e.length>0;){const t=e.shift();Object.freeze(t);for(const i in t)if(mse.call(t,i)){const r=t[i];typeof r=="object"&&!Object.isFrozen(r)&&!$Se(r)&&e.push(r)}}return n}const mse=Object.prototype.hasOwnProperty;function _se(n,e){return k4(n,e,new Set)}function k4(n,e,t){if(ca(n))return n;const i=e(n);if(typeof i<"u")return i;if(Array.isArray(n)){const r=[];for(const o of n)r.push(k4(o,e,t));return r}if(Oo(n)){if(t.has(n))throw new Error("Cannot clone recursive data-structure");t.add(n);const r={};for(const o in n)mse.call(n,o)&&(r[o]=k4(n[o],e,t));return t.delete(n),r}return n}function pP(n,e,t=!0){return Oo(n)?(Oo(e)&&Object.keys(e).forEach(i=>{i in n?t&&(Oo(n[i])&&Oo(e[i])?pP(n[i],e[i],t):n[i]=e[i]):n[i]=e[i]}),n):e}function wa(n,e){if(n===e)return!0;if(n==null||e===null||e===void 0||typeof n!=typeof e||typeof n!="object"||Array.isArray(n)!==Array.isArray(e))return!1;let t,i;if(Array.isArray(n)){if(n.length!==e.length)return!1;for(t=0;t<n.length;t++)if(!wa(n[t],e[t]))return!1}else{const r=[];for(i in n)r.push(i);r.sort();const o=[];for(i in e)o.push(i);if(o.sort(),!wa(r,o))return!1;for(t=0;t<r.length;t++)if(!wa(n[r[t]],e[r[t]]))return!1}return!0}function ZSe(n){let e=[];for(;Object.prototype!==n;)e=e.concat(Object.getOwnPropertyNames(n)),n=Object.getPrototypeOf(n);return e}function VW(n){const e=[];for(const t of ZSe(n))typeof n[t]=="function"&&e.push(t);return e}function YSe(n,e){const t=r=>function(){const o=Array.prototype.slice.call(arguments,0);return e(r,o)},i={};for(const r of n)i[r]=t(r);return i}let XSe=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function vse(n,e){let t;return e.length===0?t=n:t=n.replace(/\{(\d+)\}/g,(i,r)=>{const o=r[0],s=e[o];let a=i;return typeof s=="string"?a=s:(typeof s=="number"||typeof s=="boolean"||s===void 0||s===null)&&(a=String(s)),a}),XSe&&(t=""+t.replace(/[aouei]/g,"$&$&")+""),t}function w(n,e,...t){return vse(e,t)}function Ns(n,e,...t){const i=vse(e,t);return{value:i,original:i}}var lA;const q0="en";let TE=!1,EE=!1,JD=!1,bse=!1,HW=!1,zW=!1,yse=!1,dk,eT=q0,fq=q0,QSe,nc;const hh=globalThis;let Po;typeof hh.vscode<"u"&&typeof hh.vscode.process<"u"?Po=hh.vscode.process:typeof process<"u"&&(Po=process);const JSe=typeof((lA=Po==null?void 0:Po.versions)===null||lA===void 0?void 0:lA.electron)=="string",exe=JSe&&(Po==null?void 0:Po.type)==="renderer";if(typeof Po=="object"){TE=Po.platform==="win32",EE=Po.platform==="darwin",JD=Po.platform==="linux",JD&&Po.env.SNAP&&Po.env.SNAP_REVISION,Po.env.CI||Po.env.BUILD_ARTIFACTSTAGINGDIRECTORY,dk=q0,eT=q0;const n=Po.env.VSCODE_NLS_CONFIG;if(n)try{const e=JSON.parse(n),t=e.availableLanguages["*"];dk=e.locale,fq=e.osLocale,eT=t||q0,QSe=e._translationsConfigFile}catch{}bse=!0}else typeof navigator=="object"&&!exe?(nc=navigator.userAgent,TE=nc.indexOf("Windows")>=0,EE=nc.indexOf("Macintosh")>=0,zW=(nc.indexOf("Macintosh")>=0||nc.indexOf("iPad")>=0||nc.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,JD=nc.indexOf("Linux")>=0,yse=(nc==null?void 0:nc.indexOf("Mobi"))>=0,HW=!0,w({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"),dk=q0,eT=dk,fq=navigator.language):console.error("Unable to resolve platform.");const no=TE,qt=EE,Uo=JD,Mc=bse,lp=HW,txe=HW&&typeof hh.importScripts=="function",ixe=txe?hh.origin:void 0,jc=zW,Cse=yse,ou=nc,nxe=eT,rxe=typeof hh.postMessage=="function"&&!hh.importScripts,wse=(()=>{if(rxe){const n=[];hh.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let i=0,r=n.length;i<r;i++){const o=n[i];if(o.id===t.data.vscodeScheduleAsyncWork){n.splice(i,1),o.callback();return}}});let e=0;return t=>{const i=++e;n.push({id:i,callback:t}),hh.postMessage({vscodeScheduleAsyncWork:i},"*")}}return n=>setTimeout(n)})(),ma=EE||zW?2:TE?1:3;let gq=!0,pq=!1;function Sse(){if(!pq){pq=!0;const n=new Uint8Array(2);n[0]=1,n[1]=2,gq=new Uint16Array(n.buffer)[0]===513}return gq}const xse=!!(ou&&ou.indexOf("Chrome")>=0),oxe=!!(ou&&ou.indexOf("Firefox")>=0),sxe=!!(!xse&&ou&&ou.indexOf("Safari")>=0),axe=!!(ou&&ou.indexOf("Edg/")>=0),lxe=!!(ou&&ou.indexOf("Android")>=0),Jr={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}};var Kt;(function(n){function e(v){return v&&typeof v=="object"&&typeof v[Symbol.iterator]=="function"}n.is=e;const t=Object.freeze([]);function i(){return t}n.empty=i;function*r(v){yield v}n.single=r;function o(v){return e(v)?v:r(v)}n.wrap=o;function s(v){return v||t}n.from=s;function*a(v){for(let b=v.length-1;b>=0;b--)yield v[b]}n.reverse=a;function l(v){return!v||v[Symbol.iterator]().next().done===!0}n.isEmpty=l;function c(v){return v[Symbol.iterator]().next().value}n.first=c;function d(v,b){for(const C of v)if(b(C))return!0;return!1}n.some=d;function u(v,b){for(const C of v)if(b(C))return C}n.find=u;function*h(v,b){for(const C of v)b(C)&&(yield C)}n.filter=h;function*f(v,b){let C=0;for(const S of v)yield b(S,C++)}n.map=f;function*g(...v){for(const b of v)yield*b}n.concat=g;function _(v,b,C){let S=C;for(const x of v)S=b(S,x);return S}n.reduce=_;function*y(v,b,C=v.length){for(b<0&&(b+=v.length),C<0?C+=v.length:C>v.length&&(C=v.length);b<C;b++)yield v[b]}n.slice=y;function m(v,b=Number.POSITIVE_INFINITY){const C=[];if(b===0)return[C,v];const S=v[Symbol.iterator]();for(let x=0;x<b;x++){const k=S.next();if(k.done)return[C,n.empty()];C.push(k.value)}return[C,{[Symbol.iterator](){return S}}]}n.consume=m;async function p(v){const b=[];for await(const C of v)b.push(C);return Promise.resolve(b)}n.asyncToArray=p})(Kt||(Kt={}));let qn=class D4{constructor(e){this.element=e,this.next=D4.Undefined,this.prev=D4.Undefined}};qn.Undefined=new qn(void 0);class Fo{constructor(){this._first=qn.Undefined,this._last=qn.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===qn.Undefined}clear(){let e=this._first;for(;e!==qn.Undefined;){const t=e.next;e.prev=qn.Undefined,e.next=qn.Undefined,e=t}this._first=qn.Undefined,this._last=qn.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){const i=new qn(e);if(this._first===qn.Undefined)this._first=i,this._last=i;else if(t){const o=this._last;this._last=i,i.prev=o,o.next=i}else{const o=this._first;this._first=i,i.next=o,o.prev=i}this._size+=1;let r=!1;return()=>{r||(r=!0,this._remove(i))}}shift(){if(this._first!==qn.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==qn.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==qn.Undefined&&e.next!==qn.Undefined){const t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===qn.Undefined&&e.next===qn.Undefined?(this._first=qn.Undefined,this._last=qn.Undefined):e.next===qn.Undefined?(this._last=this._last.prev,this._last.next=qn.Undefined):e.prev===qn.Undefined&&(this._first=this._first.next,this._first.prev=qn.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==qn.Undefined;)yield e.element,e=e.next}}const Lse="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function cxe(n=""){let e="(-?\\d*\\.\\d\\w*)|([^";for(const t of Lse)n.indexOf(t)>=0||(e+="\\"+t);return e+="\\s]+)",new RegExp(e,"g")}const jW=cxe();function UW(n){let e=jW;if(n&&n instanceof RegExp)if(n.global)e=n;else{let t="g";n.ignoreCase&&(t+="i"),n.multiline&&(t+="m"),n.unicode&&(t+="u"),e=new RegExp(n.source,t)}return e.lastIndex=0,e}const kse=new Fo;kse.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function O1(n,e,t,i,r){if(e=UW(e),r||(r=Kt.first(kse)),t.length>r.maxLen){let c=n-r.maxLen/2;return c<0?c=0:i+=c,t=t.substring(c,n+r.maxLen/2),O1(n,e,t,i,r)}const o=Date.now(),s=n-1-i;let a=-1,l=null;for(let c=1;!(Date.now()-o>=r.timeBudget);c++){const d=s-r.windowSize*c;e.lastIndex=Math.max(0,d);const u=dxe(e,t,s,a);if(!u&&l||(l=u,d<=0))break;a=d}if(l){const c={word:l[0],startColumn:i+1+l.index,endColumn:i+1+l.index+l[0].length};return e.lastIndex=0,c}return null}function dxe(n,e,t,i){let r;for(;r=n.exec(e);){const o=r.index||0;if(o<=t&&n.lastIndex>=t)return r;if(i>0&&o>i)return null}return null}const hf=8;class Dse{constructor(e){this._values=e}hasChanged(e){return this._values[e]}}class Tse{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class tn{constructor(e,t,i,r){this.id=e,this.name=t,this.defaultValue=i,this.schema=r}applyUpdate(e,t){return mP(e,t)}compute(e,t,i){return i}}class Tw{constructor(e,t){this.newValue=e,this.didChange=t}}function mP(n,e){if(typeof n!="object"||typeof e!="object"||!n||!e)return new Tw(e,n!==e);if(Array.isArray(n)||Array.isArray(e)){const i=Array.isArray(n)&&Array.isArray(e)&&vn(n,e);return new Tw(e,!i)}let t=!1;for(const i in e)if(e.hasOwnProperty(i)){const r=mP(n[i],e[i]);r.didChange&&(n[i]=r.newValue,t=!0)}return new Tw(n,t)}class Nx{constructor(e){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0}applyUpdate(e,t){return mP(e,t)}validate(e){return this.defaultValue}}class my{constructor(e,t,i,r){this.id=e,this.name=t,this.defaultValue=i,this.schema=r}applyUpdate(e,t){return mP(e,t)}validate(e){return typeof e>"u"?this.defaultValue:e}compute(e,t,i){return i}}function et(n,e){return typeof n>"u"?e:n==="false"?!1:!!n}class Jt extends my{constructor(e,t,i,r=void 0){typeof r<"u"&&(r.type="boolean",r.default=i),super(e,t,i,r)}validate(e){return et(e,this.defaultValue)}}function Vp(n,e,t,i){if(typeof n>"u")return e;let r=parseInt(n,10);return isNaN(r)?e:(r=Math.max(t,r),r=Math.min(i,r),r|0)}class Di extends my{static clampedInt(e,t,i,r){return Vp(e,t,i,r)}constructor(e,t,i,r,o,s=void 0){typeof s<"u"&&(s.type="integer",s.default=i,s.minimum=r,s.maximum=o),super(e,t,i,s),this.minimum=r,this.maximum=o}validate(e){return Di.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}}function uxe(n,e,t,i){if(typeof n>"u")return e;const r=Pl.float(n,e);return Pl.clamp(r,t,i)}class Pl extends my{static clamp(e,t,i){return e<t?t:e>i?i:e}static float(e,t){if(typeof e=="number")return e;if(typeof e>"u")return t;const i=parseFloat(e);return isNaN(i)?t:i}constructor(e,t,i,r,o){typeof o<"u"&&(o.type="number",o.default=i),super(e,t,i,o),this.validationFn=r}validate(e){return this.validationFn(Pl.float(e,this.defaultValue))}}class ls extends my{static string(e,t){return typeof e!="string"?t:e}constructor(e,t,i,r=void 0){typeof r<"u"&&(r.type="string",r.default=i),super(e,t,i,r)}validate(e){return ls.string(e,this.defaultValue)}}function xn(n,e,t,i){return typeof n!="string"?e:i&&n in i?i[n]:t.indexOf(n)===-1?e:n}class sn extends my{constructor(e,t,i,r,o=void 0){typeof o<"u"&&(o.type="string",o.enum=r,o.default=i),super(e,t,i,o),this._allowedValues=r}validate(e){return xn(e,this.defaultValue,this._allowedValues)}}class uk extends tn{constructor(e,t,i,r,o,s,a=void 0){typeof a<"u"&&(a.type="string",a.enum=o,a.default=r),super(e,t,i,a),this._allowedValues=o,this._convert=s}validate(e){return typeof e!="string"?this.defaultValue:this._allowedValues.indexOf(e)===-1?this.defaultValue:this._convert(e)}}function hxe(n){switch(n){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class fxe extends tn{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[w("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached."),w("accessibilitySupport.on","Optimize for usage with a Screen Reader."),w("accessibilitySupport.off","Assume a screen reader is not attached.")],default:"auto",tags:["accessibility"],description:w("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,i){return i===0?e.accessibilitySupport:i}}class gxe extends tn{constructor(){const e={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:w("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:w("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{insertSpace:et(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:et(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function pxe(n){switch(n){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var Pr;(function(n){n[n.Line=1]="Line",n[n.Block=2]="Block",n[n.Underline=3]="Underline",n[n.LineThin=4]="LineThin",n[n.BlockOutline=5]="BlockOutline",n[n.UnderlineThin=6]="UnderlineThin"})(Pr||(Pr={}));function mxe(n){switch(n){case"line":return Pr.Line;case"block":return Pr.Block;case"underline":return Pr.Underline;case"line-thin":return Pr.LineThin;case"block-outline":return Pr.BlockOutline;case"underline-thin":return Pr.UnderlineThin}}class _xe extends Nx{constructor(){super(140)}compute(e,t,i){const r=["monaco-editor"];return t.get(39)&&r.push(t.get(39)),e.extraEditorClassName&&r.push(e.extraEditorClassName),t.get(73)==="default"?r.push("mouse-default"):t.get(73)==="copy"&&r.push("mouse-copy"),t.get(110)&&r.push("showUnused"),t.get(138)&&r.push("showDeprecated"),r.join(" ")}}class vxe extends Jt{constructor(){super(37,"emptySelectionClipboard",!0,{description:w("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(e,t,i){return i&&e.emptySelectionClipboard}}class bxe extends tn{constructor(){const e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:w("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[w("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),w("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),w("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:w("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[w("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),w("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),w("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:w("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:w("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:qt},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:w("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:w("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{cursorMoveOnType:et(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof e.seedSearchStringFromSelection=="boolean"?e.seedSearchStringFromSelection?"always":"never":xn(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof e.autoFindInSelection=="boolean"?e.autoFindInSelection?"always":"never":xn(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:et(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:et(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:et(t.loop,this.defaultValue.loop)}}}class da extends tn{constructor(){super(51,"fontLigatures",da.OFF,{anyOf:[{type:"boolean",description:w("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:w("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:w("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e==="false"||e.length===0?da.OFF:e==="true"?da.ON:e:e?da.ON:da.OFF}}da.OFF='"liga" off, "calt" off';da.ON='"liga" on, "calt" on';class Sc extends tn{constructor(){super(54,"fontVariations",Sc.OFF,{anyOf:[{type:"boolean",description:w("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:w("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:w("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e==="false"?Sc.OFF:e==="true"?Sc.TRANSLATE:e:e?Sc.TRANSLATE:Sc.OFF}compute(e,t,i){return e.fontInfo.fontVariationSettings}}Sc.OFF="normal";Sc.TRANSLATE="translate";class yxe extends Nx{constructor(){super(50)}compute(e,t,i){return e.fontInfo}}class Cxe extends my{constructor(){super(52,"fontSize",ps.fontSize,{type:"number",minimum:6,maximum:100,default:ps.fontSize,description:w("fontSize","Controls the font size in pixels.")})}validate(e){const t=Pl.float(e,this.defaultValue);return t===0?ps.fontSize:Pl.clamp(t,6,100)}compute(e,t,i){return e.fontInfo.fontSize}}class Ed extends tn{constructor(){super(53,"fontWeight",ps.fontWeight,{anyOf:[{type:"number",minimum:Ed.MINIMUM_VALUE,maximum:Ed.MAXIMUM_VALUE,errorMessage:w("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:Ed.SUGGESTION_VALUES}],default:ps.fontWeight,description:w("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return e==="normal"||e==="bold"?e:String(Di.clampedInt(e,ps.fontWeight,Ed.MINIMUM_VALUE,Ed.MAXIMUM_VALUE))}}Ed.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"];Ed.MINIMUM_VALUE=1;Ed.MAXIMUM_VALUE=1e3;class wxe extends tn{constructor(){const e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[w("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),w("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),w("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},i=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:w("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":{description:w("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleTypeDefinitions":{description:w("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleDeclarations":{description:w("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleImplementations":{description:w("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist."),...t},"editor.gotoLocation.multipleReferences":{description:w("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist."),...t},"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:i,description:w("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:i,description:w("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:i,description:w("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:i,description:w("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:i,description:w("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){var t,i,r,o,s;if(!e||typeof e!="object")return this.defaultValue;const a=e;return{multiple:xn(a.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(t=a.multipleDefinitions)!==null&&t!==void 0?t:xn(a.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(i=a.multipleTypeDefinitions)!==null&&i!==void 0?i:xn(a.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(r=a.multipleDeclarations)!==null&&r!==void 0?r:xn(a.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(o=a.multipleImplementations)!==null&&o!==void 0?o:xn(a.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(s=a.multipleReferences)!==null&&s!==void 0?s:xn(a.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:ls.string(a.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:ls.string(a.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:ls.string(a.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:ls.string(a.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:ls.string(a.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class Sxe extends tn{constructor(){const e={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:w("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,minimum:0,maximum:1e4,description:w("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:w("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:e.hidingDelay,description:w("hover.hidingDelay","Controls the delay in milliseconds after which the hover is hidden. Requires `editor.hover.sticky` to be enabled.")},"editor.hover.above":{type:"boolean",default:e.above,description:w("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:et(t.enabled,this.defaultValue.enabled),delay:Di.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:et(t.sticky,this.defaultValue.sticky),hidingDelay:Di.clampedInt(t.hidingDelay,this.defaultValue.hidingDelay,0,6e5),above:et(t.above,this.defaultValue.above)}}}class kv extends Nx{constructor(){super(143)}compute(e,t,i){return kv.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio,glyphMarginDecorationLaneCount:e.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(e){const t=e.height/e.lineHeight,i=Math.floor(e.paddingTop/e.lineHeight);let r=Math.floor(e.paddingBottom/e.lineHeight);e.scrollBeyondLastLine&&(r=Math.max(r,t-1));const o=(i+e.viewLineCount+r)/(e.pixelRatio*e.height),s=Math.floor(e.viewLineCount/o);return{typicalViewportLineCount:t,extraLinesBeforeFirstLine:i,extraLinesBeyondLastLine:r,desiredRatio:o,minimapLineCount:s}}static _computeMinimapLayout(e,t){const i=e.outerWidth,r=e.outerHeight,o=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(o*r),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:r};const s=t.stableMinimapLayoutInput,a=s&&e.outerHeight===s.outerHeight&&e.lineHeight===s.lineHeight&&e.typicalHalfwidthCharacterWidth===s.typicalHalfwidthCharacterWidth&&e.pixelRatio===s.pixelRatio&&e.scrollBeyondLastLine===s.scrollBeyondLastLine&&e.paddingTop===s.paddingTop&&e.paddingBottom===s.paddingBottom&&e.minimap.enabled===s.minimap.enabled&&e.minimap.side===s.minimap.side&&e.minimap.size===s.minimap.size&&e.minimap.showSlider===s.minimap.showSlider&&e.minimap.renderCharacters===s.minimap.renderCharacters&&e.minimap.maxColumn===s.minimap.maxColumn&&e.minimap.scale===s.minimap.scale&&e.verticalScrollbarWidth===s.verticalScrollbarWidth&&e.isViewportWrapping===s.isViewportWrapping,l=e.lineHeight,c=e.typicalHalfwidthCharacterWidth,d=e.scrollBeyondLastLine,u=e.minimap.renderCharacters;let h=o>=2?Math.round(e.minimap.scale*2):e.minimap.scale;const f=e.minimap.maxColumn,g=e.minimap.size,_=e.minimap.side,y=e.verticalScrollbarWidth,m=e.viewLineCount,p=e.remainingWidth,v=e.isViewportWrapping,b=u?2:3;let C=Math.floor(o*r);const S=C/o;let x=!1,k=!1,D=b*h,E=h/o,I=1;if(g==="fill"||g==="fit"){const{typicalViewportLineCount:Y,extraLinesBeforeFirstLine:V,extraLinesBeyondLastLine:X,desiredRatio:J,minimapLineCount:te}=kv.computeContainedMinimapLineCount({viewLineCount:m,scrollBeyondLastLine:d,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,height:r,lineHeight:l,pixelRatio:o});if(m/te>1)x=!0,k=!0,h=1,D=1,E=h/o;else{let Me=!1,Re=h+1;if(g==="fit"){const _e=Math.ceil((V+m+X)*D);v&&a&&p<=t.stableFitRemainingWidth?(Me=!0,Re=t.stableFitMaxMinimapScale):Me=_e>C}if(g==="fill"||Me){x=!0;const _e=h;D=Math.min(l*o,Math.max(1,Math.floor(1/J))),v&&a&&p<=t.stableFitRemainingWidth&&(Re=t.stableFitMaxMinimapScale),h=Math.min(Re,Math.max(1,Math.floor(D/b))),h>_e&&(I=Math.min(2,h/_e)),E=h/o/I,C=Math.ceil(Math.max(Y,V+m+X)*D),v?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=p,t.stableFitMaxMinimapScale=h):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0)}}}const N=Math.floor(f*E),R=Math.min(N,Math.max(0,Math.floor((p-y-2)*E/(c+E)))+hf);let O=Math.floor(o*R);const W=O/o;O=Math.floor(O*I);const K=u?1:2,Q=_==="left"?0:i-R-y;return{renderMinimap:K,minimapLeft:Q,minimapWidth:R,minimapHeightIsEditorHeight:x,minimapIsSampling:k,minimapScale:h,minimapLineHeight:D,minimapCanvasInnerWidth:O,minimapCanvasInnerHeight:C,minimapCanvasOuterWidth:W,minimapCanvasOuterHeight:S}}static computeLayout(e,t){const i=t.outerWidth|0,r=t.outerHeight|0,o=t.lineHeight|0,s=t.lineNumbersDigitCount|0,a=t.typicalHalfwidthCharacterWidth,l=t.maxDigitWidth,c=t.pixelRatio,d=t.viewLineCount,u=e.get(135),h=u==="inherit"?e.get(134):u,f=h==="inherit"?e.get(130):h,g=e.get(133),_=t.isDominatedByLongLines,y=e.get(57),m=e.get(67).renderType!==0,p=e.get(68),v=e.get(104),b=e.get(83),C=e.get(72),S=e.get(102),x=S.verticalScrollbarSize,k=S.verticalHasArrows,D=S.arrowSize,E=S.horizontalScrollbarSize,I=e.get(43),N=e.get(109)!=="never";let R=e.get(65);I&&N&&(R+=16);let O=0;if(m){const Oe=Math.max(s,p);O=Math.round(Oe*l)}let W=0;y&&(W=o*t.glyphMarginDecorationLaneCount);let K=0,Q=K+W,Y=Q+O,V=Y+R;const X=i-W-O-R;let J=!1,te=!1,oe=-1;h==="inherit"&&_?(J=!0,te=!0):f==="on"||f==="bounded"?te=!0:f==="wordWrapColumn"&&(oe=g);const Me=kv._computeMinimapLayout({outerWidth:i,outerHeight:r,lineHeight:o,typicalHalfwidthCharacterWidth:a,pixelRatio:c,scrollBeyondLastLine:v,paddingTop:b.top,paddingBottom:b.bottom,minimap:C,verticalScrollbarWidth:x,viewLineCount:d,remainingWidth:X,isViewportWrapping:te},t.memory||new Tse);Me.renderMinimap!==0&&Me.minimapLeft===0&&(K+=Me.minimapWidth,Q+=Me.minimapWidth,Y+=Me.minimapWidth,V+=Me.minimapWidth);const Re=X-Me.minimapWidth,_e=Math.max(1,Math.floor((Re-x-2)/a)),Fe=k?D:0;return te&&(oe=Math.max(1,_e),f==="bounded"&&(oe=Math.min(oe,g))),{width:i,height:r,glyphMarginLeft:K,glyphMarginWidth:W,glyphMarginDecorationLaneCount:t.glyphMarginDecorationLaneCount,lineNumbersLeft:Q,lineNumbersWidth:O,decorationsLeft:Y,decorationsWidth:R,contentLeft:V,contentWidth:Re,minimap:Me,viewportColumn:_e,isWordWrapMinified:J,isViewportWrapping:te,wrappingColumn:oe,verticalScrollbarWidth:x,horizontalScrollbarHeight:E,overviewRuler:{top:Fe,width:x,height:r-2*Fe,right:0}}}}class xxe extends tn{constructor(){super(137,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[w("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),w("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:w("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(e){return xn(e,"simple",["simple","advanced"])}compute(e,t,i){return t.get(2)===2?"advanced":i}}var xl;(function(n){n.Off="off",n.OnCode="onCode",n.On="on"})(xl||(xl={}));class Lxe extends tn{constructor(){const e={enabled:xl.OnCode};super(64,"lightbulb",e,{"editor.lightbulb.enabled":{type:"string",tags:["experimental"],enum:[xl.Off,xl.OnCode,xl.On],default:e.enabled,enumDescriptions:[w("editor.lightbulb.enabled.off","Disable the code action menu."),w("editor.lightbulb.enabled.onCode","Show the code action menu when the cursor is on lines with code."),w("editor.lightbulb.enabled.on","Show the code action menu when the cursor is on lines with code or on empty lines.")],description:w("enabled","Enables the Code Action lightbulb in the editor.")}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{enabled:xn(e.enabled,this.defaultValue.enabled,[xl.Off,xl.OnCode,xl.On])}}}class kxe extends tn{constructor(){const e={enabled:!1,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(114,"stickyScroll",e,{"editor.stickyScroll.enabled":{type:"boolean",default:e.enabled,description:w("editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor."),tags:["experimental"]},"editor.stickyScroll.maxLineCount":{type:"number",default:e.maxLineCount,minimum:1,maximum:10,description:w("editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:e.defaultModel,description:w("editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:e.scrollWithEditor,description:w("editor.stickyScroll.scrollWithEditor","Enable scrolling of Sticky Scroll with the editor's horizontal scrollbar.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:et(t.enabled,this.defaultValue.enabled),maxLineCount:Di.clampedInt(t.maxLineCount,this.defaultValue.maxLineCount,1,10),defaultModel:xn(t.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:et(t.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}class Dxe extends tn{constructor(){const e={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(139,"inlayHints",e,{"editor.inlayHints.enabled":{type:"string",default:e.enabled,description:w("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[w("editor.inlayHints.on","Inlay hints are enabled"),w("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",qt?"Ctrl+Option":"Ctrl+Alt"),w("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",qt?"Ctrl+Option":"Ctrl+Alt"),w("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:w("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,markdownDescription:w("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:e.padding,description:w("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return typeof t.enabled=="boolean"&&(t.enabled=t.enabled?"on":"off"),{enabled:xn(t.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:Di.clampedInt(t.fontSize,this.defaultValue.fontSize,0,100),fontFamily:ls.string(t.fontFamily,this.defaultValue.fontFamily),padding:et(t.padding,this.defaultValue.padding)}}}class Txe extends tn{constructor(){super(65,"lineDecorationsWidth",10)}validate(e){return typeof e=="string"&&/^\d+(\.\d+)?ch$/.test(e)?-parseFloat(e.substring(0,e.length-2)):Di.clampedInt(e,this.defaultValue,0,1e3)}compute(e,t,i){return i<0?Di.clampedInt(-i*e.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):i}}class Exe extends Pl{constructor(){super(66,"lineHeight",ps.lineHeight,e=>Pl.clamp(e,0,150),{markdownDescription:w("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(e,t,i){return e.fontInfo.lineHeight}}class Ixe extends tn{constructor(){const e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(72,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:w("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:e.autohide,description:w("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[w("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),w("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),w("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:w("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:w("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:w("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:w("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:w("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:w("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:et(t.enabled,this.defaultValue.enabled),autohide:et(t.autohide,this.defaultValue.autohide),size:xn(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:xn(t.side,this.defaultValue.side,["right","left"]),showSlider:xn(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:et(t.renderCharacters,this.defaultValue.renderCharacters),scale:Di.clampedInt(t.scale,1,1,3),maxColumn:Di.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function Nxe(n){return n==="ctrlCmd"?qt?"metaKey":"ctrlKey":"altKey"}class Pxe extends tn{constructor(){super(83,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:w("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:w("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{top:Di.clampedInt(t.top,0,0,1e3),bottom:Di.clampedInt(t.bottom,0,0,1e3)}}}class Mxe extends tn{constructor(){const e={enabled:!0,cycle:!0};super(85,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:w("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:w("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:et(t.enabled,this.defaultValue.enabled),cycle:et(t.cycle,this.defaultValue.cycle)}}}class Rxe extends Nx{constructor(){super(141)}compute(e,t,i){return e.pixelRatio}}class Axe extends tn{constructor(){const e={other:"on",comments:"off",strings:"off"},t=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[w("on","Quick suggestions show inside the suggest widget"),w("inline","Quick suggestions show as ghost text"),w("off","Quick suggestions are disabled")]}];super(88,"quickSuggestions",e,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:t,default:e.strings,description:w("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:t,default:e.comments,description:w("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:t,default:e.other,description:w("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:e,markdownDescription:w("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),this.defaultValue=e}validate(e){if(typeof e=="boolean"){const c=e?"on":"off";return{comments:c,strings:c,other:c}}if(!e||typeof e!="object")return this.defaultValue;const{other:t,comments:i,strings:r}=e,o=["on","inline","off"];let s,a,l;return typeof t=="boolean"?s=t?"on":"off":s=xn(t,this.defaultValue.other,o),typeof i=="boolean"?a=i?"on":"off":a=xn(i,this.defaultValue.comments,o),typeof r=="boolean"?l=r?"on":"off":l=xn(r,this.defaultValue.strings,o),{other:s,comments:a,strings:l}}}class Oxe extends tn{constructor(){super(67,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[w("lineNumbers.off","Line numbers are not rendered."),w("lineNumbers.on","Line numbers are rendered as absolute number."),w("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),w("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:w("lineNumbers","Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,i=this.defaultValue.renderFn;return typeof e<"u"&&(typeof e=="function"?(t=4,i=e):e==="interval"?t=3:e==="relative"?t=2:e==="on"?t=1:t=0),{renderType:t,renderFn:i}}}function IE(n){const e=n.get(97);return e==="editable"?n.get(90):e!=="on"}class Fxe extends tn{constructor(){const e=[],t={type:"number",description:w("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(101,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:w("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:w("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){const t=[];for(const i of e)if(typeof i=="number")t.push({column:Di.clampedInt(i,0,0,1e4),color:null});else if(i&&typeof i=="object"){const r=i;t.push({column:Di.clampedInt(r.column,0,0,1e4),color:r.color})}return t.sort((i,r)=>i.column-r.column),t}return this.defaultValue}}class Bxe extends tn{constructor(){super(91,"readOnlyMessage",void 0)}validate(e){return!e||typeof e!="object"?this.defaultValue:e}}function mq(n,e){if(typeof n!="string")return e;switch(n){case"hidden":return 2;case"visible":return 3;default:return 1}}let Wxe=class extends tn{constructor(){const e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};super(102,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[w("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),w("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),w("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:w("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[w("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),w("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),w("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:w("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:w("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:w("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:w("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:e.ignoreHorizontalScrollbarInContentHeight,description:w("scrollbar.ignoreHorizontalScrollbarInContentHeight","When set, the horizontal scrollbar will not increase the size of the editor's content.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e,i=Di.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),r=Di.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:Di.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:mq(t.vertical,this.defaultValue.vertical),horizontal:mq(t.horizontal,this.defaultValue.horizontal),useShadows:et(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:et(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:et(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:et(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:et(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:i,horizontalSliderSize:Di.clampedInt(t.horizontalSliderSize,i,0,1e3),verticalScrollbarSize:r,verticalSliderSize:Di.clampedInt(t.verticalSliderSize,r,0,1e3),scrollByPage:et(t.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:et(t.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}}};const ea="inUntrustedWorkspace",cs={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class Vxe extends tn{constructor(){const e={nonBasicASCII:ea,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:ea,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(124,"unicodeHighlight",e,{[cs.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,ea],default:e.nonBasicASCII,description:w("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[cs.invisibleCharacters]:{restricted:!0,type:"boolean",default:e.invisibleCharacters,description:w("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[cs.ambiguousCharacters]:{restricted:!0,type:"boolean",default:e.ambiguousCharacters,description:w("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[cs.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,ea],default:e.includeComments,description:w("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")},[cs.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,ea],default:e.includeStrings,description:w("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")},[cs.allowedCharacters]:{restricted:!0,type:"object",default:e.allowedCharacters,description:w("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[cs.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:e.allowedLocales,description:w("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(e,t){let i=!1;t.allowedCharacters&&e&&(wa(e.allowedCharacters,t.allowedCharacters)||(e={...e,allowedCharacters:t.allowedCharacters},i=!0)),t.allowedLocales&&e&&(wa(e.allowedLocales,t.allowedLocales)||(e={...e,allowedLocales:t.allowedLocales},i=!0));const r=super.applyUpdate(e,t);return i?new Tw(r.newValue,!0):r}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{nonBasicASCII:Dv(t.nonBasicASCII,ea,[!0,!1,ea]),invisibleCharacters:et(t.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:et(t.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:Dv(t.includeComments,ea,[!0,!1,ea]),includeStrings:Dv(t.includeStrings,ea,[!0,!1,ea]),allowedCharacters:this.validateBooleanMap(e.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(e.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(e,t){if(typeof e!="object"||!e)return t;const i={};for(const[r,o]of Object.entries(e))o===!0&&(i[r]=!0);return i}}class Hxe extends tn{constructor(){const e={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1,fontFamily:"default"};super(62,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:w("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:e.showToolbar,enum:["always","onHover","never"],enumDescriptions:[w("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),w("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion."),w("inlineSuggest.showToolbar.never","Never show the inline suggestion toolbar.")],description:w("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:e.suppressSuggestions,description:w("inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")},"editor.inlineSuggest.fontFamily":{type:"string",default:e.fontFamily,description:w("inlineSuggest.fontFamily","Controls the font family of the inline suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:et(t.enabled,this.defaultValue.enabled),mode:xn(t.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:xn(t.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:et(t.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:et(t.keepOnBlur,this.defaultValue.keepOnBlur),fontFamily:ls.string(t.fontFamily,this.defaultValue.fontFamily)}}}class zxe extends tn{constructor(){const e={enabled:Jr.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:Jr.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",e,{"editor.bracketPairColorization.enabled":{type:"boolean",default:e.enabled,markdownDescription:w("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:e.independentColorPoolPerBracketType,description:w("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:et(t.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:et(t.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class jxe extends tn{constructor(){const e={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",e,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[w("editor.guides.bracketPairs.true","Enables bracket pair guides."),w("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),w("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:e.bracketPairs,description:w("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[w("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),w("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),w("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:e.bracketPairsHorizontal,description:w("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:e.highlightActiveBracketPair,description:w("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:e.indentation,description:w("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[w("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),w("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),w("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:e.highlightActiveIndentation,description:w("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{bracketPairs:Dv(t.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:Dv(t.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:et(t.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:et(t.indentation,this.defaultValue.indentation),highlightActiveIndentation:Dv(t.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function Dv(n,e,t){const i=t.indexOf(n);return i===-1?e:t[i]}class Uxe extends tn{constructor(){const e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(117,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[w("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),w("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:w("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:w("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:w("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:w("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[w("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),w("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),w("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),w("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:e.selectionMode,markdownDescription:w("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions (`#editor.quickSuggestions#` and `#editor.suggestOnTriggerCharacters#`) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:w("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:w("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:w("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:w("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:w("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:w("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:w("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:w("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{insertMode:xn(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:et(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:et(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:et(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:et(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:xn(t.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:et(t.showIcons,this.defaultValue.showIcons),showStatusBar:et(t.showStatusBar,this.defaultValue.showStatusBar),preview:et(t.preview,this.defaultValue.preview),previewMode:xn(t.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:et(t.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:et(t.showMethods,this.defaultValue.showMethods),showFunctions:et(t.showFunctions,this.defaultValue.showFunctions),showConstructors:et(t.showConstructors,this.defaultValue.showConstructors),showDeprecated:et(t.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:et(t.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:et(t.showFields,this.defaultValue.showFields),showVariables:et(t.showVariables,this.defaultValue.showVariables),showClasses:et(t.showClasses,this.defaultValue.showClasses),showStructs:et(t.showStructs,this.defaultValue.showStructs),showInterfaces:et(t.showInterfaces,this.defaultValue.showInterfaces),showModules:et(t.showModules,this.defaultValue.showModules),showProperties:et(t.showProperties,this.defaultValue.showProperties),showEvents:et(t.showEvents,this.defaultValue.showEvents),showOperators:et(t.showOperators,this.defaultValue.showOperators),showUnits:et(t.showUnits,this.defaultValue.showUnits),showValues:et(t.showValues,this.defaultValue.showValues),showConstants:et(t.showConstants,this.defaultValue.showConstants),showEnums:et(t.showEnums,this.defaultValue.showEnums),showEnumMembers:et(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:et(t.showKeywords,this.defaultValue.showKeywords),showWords:et(t.showWords,this.defaultValue.showWords),showColors:et(t.showColors,this.defaultValue.showColors),showFiles:et(t.showFiles,this.defaultValue.showFiles),showReferences:et(t.showReferences,this.defaultValue.showReferences),showFolders:et(t.showFolders,this.defaultValue.showFolders),showTypeParameters:et(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:et(t.showSnippets,this.defaultValue.showSnippets),showUsers:et(t.showUsers,this.defaultValue.showUsers),showIssues:et(t.showIssues,this.defaultValue.showIssues)}}}class $xe extends tn{constructor(){super(112,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:w("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:w("selectSubwords","Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected."),default:!0,type:"boolean"}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:et(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:et(e.selectSubwords,this.defaultValue.selectSubwords)}}}class qxe extends tn{constructor(){super(136,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[w("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),w("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),w("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),w("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:w("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}validate(e){switch(e){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(e,t,i){return t.get(2)===2?0:i}}class Kxe extends Nx{constructor(){super(144)}compute(e,t,i){const r=t.get(143);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:r.isWordWrapMinified,isViewportWrapping:r.isViewportWrapping,wrappingColumn:r.wrappingColumn}}}class Gxe extends tn{constructor(){const e={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",e,{"editor.dropIntoEditor.enabled":{type:"boolean",default:e.enabled,markdownDescription:w("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down the `Shift` key (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:w("dropIntoEditor.showDropSelector","Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[w("dropIntoEditor.showDropSelector.afterDrop","Show the drop selector widget after a file is dropped into the editor."),w("dropIntoEditor.showDropSelector.never","Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:et(t.enabled,this.defaultValue.enabled),showDropSelector:xn(t.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class Zxe extends tn{constructor(){const e={enabled:!0,showPasteSelector:"afterPaste"};super(84,"pasteAs",e,{"editor.pasteAs.enabled":{type:"boolean",default:e.enabled,markdownDescription:w("pasteAs.enabled","Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:w("pasteAs.showPasteSelector","Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[w("pasteAs.showPasteSelector.afterPaste","Show the paste selector widget after content is pasted into the editor."),w("pasteAs.showPasteSelector.never","Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:et(t.enabled,this.defaultValue.enabled),showPasteSelector:xn(t.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}const Yxe="Consolas, 'Courier New', monospace",Xxe="Menlo, Monaco, 'Courier New', monospace",Qxe="'Droid Sans Mono', 'monospace', monospace",ps={fontFamily:qt?Xxe:Uo?Qxe:Yxe,fontWeight:"normal",fontSize:qt?12:14,lineHeight:0,letterSpacing:0},K0=[];function Ie(n){return K0[n.id]=n,n}const Qc={acceptSuggestionOnCommitCharacter:Ie(new Jt(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:w("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:Ie(new sn(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",w("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:w("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:Ie(new fxe),accessibilityPageSize:Ie(new Di(3,"accessibilityPageSize",10,1,1073741824,{description:w("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:Ie(new ls(4,"ariaLabel",w("editorViewAccessibleLabel","Editor content"))),ariaRequired:Ie(new Jt(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:Ie(new Jt(8,"screenReaderAnnounceInlineSuggestion",!0,{description:w("screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:Ie(new sn(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",w("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),w("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:w("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingComments:Ie(new sn(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",w("editor.autoClosingComments.languageDefined","Use language configurations to determine when to autoclose comments."),w("editor.autoClosingComments.beforeWhitespace","Autoclose comments only when the cursor is to the left of whitespace."),""],description:w("autoClosingComments","Controls whether the editor should automatically close comments after the user adds an opening comment.")})),autoClosingDelete:Ie(new sn(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",w("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:w("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:Ie(new sn(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",w("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:w("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:Ie(new sn(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",w("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),w("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:w("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:Ie(new uk(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],hxe,{enumDescriptions:[w("editor.autoIndent.none","The editor will not insert indentation automatically."),w("editor.autoIndent.keep","The editor will keep the current line's indentation."),w("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),w("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),w("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:w("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:Ie(new Jt(13,"automaticLayout",!1)),autoSurround:Ie(new sn(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[w("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),w("editor.autoSurround.quotes","Surround with quotes but not brackets."),w("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:w("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:Ie(new zxe),bracketPairGuides:Ie(new jxe),stickyTabStops:Ie(new Jt(115,"stickyTabStops",!1,{description:w("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:Ie(new Jt(17,"codeLens",!0,{description:w("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:Ie(new ls(18,"codeLensFontFamily","",{description:w("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:Ie(new Di(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:w("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:Ie(new Jt(20,"colorDecorators",!0,{description:w("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorActivatedOn:Ie(new sn(146,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[w("editor.colorDecoratorActivatedOn.clickAndHover","Make the color picker appear both on click and hover of the color decorator"),w("editor.colorDecoratorActivatedOn.hover","Make the color picker appear on hover of the color decorator"),w("editor.colorDecoratorActivatedOn.click","Make the color picker appear on click of the color decorator")],description:w("colorDecoratorActivatedOn","Controls the condition to make a color picker appear from a color decorator")})),colorDecoratorsLimit:Ie(new Di(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:w("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:Ie(new Jt(22,"columnSelection",!1,{description:w("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:Ie(new gxe),contextmenu:Ie(new Jt(24,"contextmenu",!0)),copyWithSyntaxHighlighting:Ie(new Jt(25,"copyWithSyntaxHighlighting",!0,{description:w("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:Ie(new uk(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],pxe,{description:w("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:Ie(new sn(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[w("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),w("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),w("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:w("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:Ie(new uk(28,"cursorStyle",Pr.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],mxe,{description:w("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:Ie(new Di(29,"cursorSurroundingLines",0,0,1073741824,{description:w("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:Ie(new sn(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[w("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),w("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],markdownDescription:w("cursorSurroundingLinesStyle","Controls when `#cursorSurroundingLines#` should be enforced.")})),cursorWidth:Ie(new Di(31,"cursorWidth",0,0,1073741824,{markdownDescription:w("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:Ie(new Jt(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:Ie(new Jt(33,"disableMonospaceOptimizations",!1)),domReadOnly:Ie(new Jt(34,"domReadOnly",!1)),dragAndDrop:Ie(new Jt(35,"dragAndDrop",!0,{description:w("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:Ie(new vxe),dropIntoEditor:Ie(new Gxe),stickyScroll:Ie(new kxe),experimentalWhitespaceRendering:Ie(new sn(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[w("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),w("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),w("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:w("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:Ie(new ls(39,"extraEditorClassName","")),fastScrollSensitivity:Ie(new Pl(40,"fastScrollSensitivity",5,n=>n<=0?5:n,{markdownDescription:w("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:Ie(new bxe),fixedOverflowWidgets:Ie(new Jt(42,"fixedOverflowWidgets",!1)),folding:Ie(new Jt(43,"folding",!0,{description:w("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:Ie(new sn(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[w("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),w("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:w("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:Ie(new Jt(45,"foldingHighlight",!0,{description:w("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:Ie(new Jt(46,"foldingImportsByDefault",!1,{description:w("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:Ie(new Di(47,"foldingMaximumRegions",5e3,10,65e3,{description:w("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:Ie(new Jt(48,"unfoldOnClickAfterEndOfLine",!1,{description:w("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:Ie(new ls(49,"fontFamily",ps.fontFamily,{description:w("fontFamily","Controls the font family.")})),fontInfo:Ie(new yxe),fontLigatures2:Ie(new da),fontSize:Ie(new Cxe),fontWeight:Ie(new Ed),fontVariations:Ie(new Sc),formatOnPaste:Ie(new Jt(55,"formatOnPaste",!1,{description:w("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:Ie(new Jt(56,"formatOnType",!1,{description:w("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:Ie(new Jt(57,"glyphMargin",!0,{description:w("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:Ie(new wxe),hideCursorInOverviewRuler:Ie(new Jt(59,"hideCursorInOverviewRuler",!1,{description:w("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:Ie(new Sxe),inDiffEditor:Ie(new Jt(61,"inDiffEditor",!1)),letterSpacing:Ie(new Pl(63,"letterSpacing",ps.letterSpacing,n=>Pl.clamp(n,-5,20),{description:w("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:Ie(new Lxe),lineDecorationsWidth:Ie(new Txe),lineHeight:Ie(new Exe),lineNumbers:Ie(new Oxe),lineNumbersMinChars:Ie(new Di(68,"lineNumbersMinChars",5,1,300)),linkedEditing:Ie(new Jt(69,"linkedEditing",!1,{description:w("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:Ie(new Jt(70,"links",!0,{description:w("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:Ie(new sn(71,"matchBrackets","always",["always","near","never"],{description:w("matchBrackets","Highlight matching brackets.")})),minimap:Ie(new Ixe),mouseStyle:Ie(new sn(73,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Ie(new Pl(74,"mouseWheelScrollSensitivity",1,n=>n===0?1:n,{markdownDescription:w("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:Ie(new Jt(75,"mouseWheelZoom",!1,{markdownDescription:qt?w("mouseWheelZoom.mac","Zoom the font of the editor when using mouse wheel and holding `Cmd`."):w("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:Ie(new Jt(76,"multiCursorMergeOverlapping",!0,{description:w("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:Ie(new uk(77,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],Nxe,{markdownEnumDescriptions:[w("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),w("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:w({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:Ie(new sn(78,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[w("multiCursorPaste.spread","Each cursor pastes a single line of the text."),w("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:w("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:Ie(new Di(79,"multiCursorLimit",1e4,1,1e5,{markdownDescription:w("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:Ie(new sn(80,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[w("occurrencesHighlight.off","Does not highlight occurrences."),w("occurrencesHighlight.singleFile","Highlights occurrences only in the current file."),w("occurrencesHighlight.multiFile","Experimental: Highlights occurrences across all valid open files.")],markdownDescription:w("occurrencesHighlight","Controls whether occurrences should be highlighted across open files.")})),overviewRulerBorder:Ie(new Jt(81,"overviewRulerBorder",!0,{description:w("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:Ie(new Di(82,"overviewRulerLanes",3,0,3)),padding:Ie(new Pxe),pasteAs:Ie(new Zxe),parameterHints:Ie(new Mxe),peekWidgetDefaultFocus:Ie(new sn(86,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[w("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),w("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:w("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:Ie(new Jt(87,"definitionLinkOpensInPeek",!1,{description:w("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:Ie(new Axe),quickSuggestionsDelay:Ie(new Di(89,"quickSuggestionsDelay",10,0,1073741824,{description:w("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:Ie(new Jt(90,"readOnly",!1)),readOnlyMessage:Ie(new Bxe),renameOnType:Ie(new Jt(92,"renameOnType",!1,{description:w("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:w("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:Ie(new Jt(93,"renderControlCharacters",!0,{description:w("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:Ie(new sn(94,"renderFinalNewline",Uo?"dimmed":"on",["off","on","dimmed"],{description:w("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:Ie(new sn(95,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",w("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:w("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:Ie(new Jt(96,"renderLineHighlightOnlyWhenFocus",!1,{description:w("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:Ie(new sn(97,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Ie(new sn(98,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",w("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),w("renderWhitespace.selection","Render whitespace characters only on selected text."),w("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:w("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:Ie(new Di(99,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:Ie(new Jt(100,"roundedSelection",!0,{description:w("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:Ie(new Fxe),scrollbar:Ie(new Wxe),scrollBeyondLastColumn:Ie(new Di(103,"scrollBeyondLastColumn",4,0,1073741824,{description:w("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:Ie(new Jt(104,"scrollBeyondLastLine",!0,{description:w("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:Ie(new Jt(105,"scrollPredominantAxis",!0,{description:w("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:Ie(new Jt(106,"selectionClipboard",!0,{description:w("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:Uo})),selectionHighlight:Ie(new Jt(107,"selectionHighlight",!0,{description:w("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:Ie(new Jt(108,"selectOnLineNumbers",!0)),showFoldingControls:Ie(new sn(109,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[w("showFoldingControls.always","Always show the folding controls."),w("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),w("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:w("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:Ie(new Jt(110,"showUnused",!0,{description:w("showUnused","Controls fading out of unused code.")})),showDeprecated:Ie(new Jt(138,"showDeprecated",!0,{description:w("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:Ie(new Dxe),snippetSuggestions:Ie(new sn(111,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[w("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),w("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),w("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),w("snippetSuggestions.none","Do not show snippet suggestions.")],description:w("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:Ie(new $xe),smoothScrolling:Ie(new Jt(113,"smoothScrolling",!1,{description:w("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:Ie(new Di(116,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Ie(new Uxe),inlineSuggest:Ie(new Hxe),inlineCompletionsAccessibilityVerbose:Ie(new Jt(147,"inlineCompletionsAccessibilityVerbose",!1,{description:w("inlineCompletionsAccessibilityVerbose","Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.")})),suggestFontSize:Ie(new Di(118,"suggestFontSize",0,0,1e3,{markdownDescription:w("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:Ie(new Di(119,"suggestLineHeight",0,0,1e3,{markdownDescription:w("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:Ie(new Jt(120,"suggestOnTriggerCharacters",!0,{description:w("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:Ie(new sn(121,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[w("suggestSelection.first","Always select the first suggestion."),w("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),w("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:w("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:Ie(new sn(122,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[w("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),w("tabCompletion.off","Disable tab completions."),w("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:w("tabCompletion","Enables tab completions.")})),tabIndex:Ie(new Di(123,"tabIndex",0,-1,1073741824)),unicodeHighlight:Ie(new Vxe),unusualLineTerminators:Ie(new sn(125,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[w("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),w("unusualLineTerminators.off","Unusual line terminators are ignored."),w("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:w("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:Ie(new Jt(126,"useShadowDOM",!0)),useTabStops:Ie(new Jt(127,"useTabStops",!0,{description:w("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordBreak:Ie(new sn(128,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[w("wordBreak.normal","Use the default line break rule."),w("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:w("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSeparators:Ie(new ls(129,"wordSeparators",Lse,{description:w("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:Ie(new sn(130,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[w("wordWrap.off","Lines will never wrap."),w("wordWrap.on","Lines will wrap at the viewport width."),w({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),w({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:w({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:Ie(new ls(131,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;")),wordWrapBreakBeforeCharacters:Ie(new ls(132,"wordWrapBreakBeforeCharacters","([{+")),wordWrapColumn:Ie(new Di(133,"wordWrapColumn",80,1,1073741824,{markdownDescription:w({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:Ie(new sn(134,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Ie(new sn(135,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:Ie(new _xe),defaultColorDecorators:Ie(new Jt(145,"defaultColorDecorators",!1,{markdownDescription:w("defaultColorDecorators","Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:Ie(new Rxe),tabFocusMode:Ie(new Jt(142,"tabFocusMode",!1,{markdownDescription:w("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:Ie(new kv),wrappingInfo:Ie(new Kxe),wrappingIndent:Ie(new qxe),wrappingStrategy:Ie(new xxe)};class Jxe{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?pb.isErrorNoTelemetry(e)?new pb(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}emit(e){this.listeners.forEach(t=>{t(e)})}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}}const Ese=new Jxe;function St(n){Jc(n)||Ese.onUnexpectedError(n)}function Hn(n){Jc(n)||Ese.onUnexpectedExternalError(n)}function _q(n){if(n instanceof Error){const{name:e,message:t}=n,i=n.stacktrace||n.stack;return{$isError:!0,name:e,message:t,stack:i,noTelemetry:pb.isErrorNoTelemetry(n)}}return n}const NE="Canceled";function Jc(n){return n instanceof cp?!0:n instanceof Error&&n.name===NE&&n.message===NE}class cp extends Error{constructor(){super(NE),this.name=this.message}}function eLe(){const n=new Error(NE);return n.name=n.message,n}function Qa(n){return n?new Error(`Illegal argument: ${n}`):new Error("Illegal argument")}function $W(n){return n?new Error(`Illegal state: ${n}`):new Error("Illegal state")}class tLe extends Error{constructor(e){super("NotSupported"),e&&(this.message=e)}}class pb extends Error{constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof pb)return e;const t=new pb;return t.message=e.message,t.stack=e.stack,t}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}}class Xi extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,Xi.prototype)}}function Ng(n,e){const t=this;let i=!1,r;return function(){if(i)return r;if(i=!0,e)try{r=n.apply(t,arguments)}finally{e()}else r=n.apply(t,arguments);return r}}function qW(n){return typeof n.dispose=="function"&&n.dispose.length===0}function vi(n){if(Kt.is(n)){const e=[];for(const t of n)if(t)try{t.dispose()}catch(i){e.push(i)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(n)?[]:n}else if(n)return n.dispose(),n}function Wl(...n){return at(()=>vi(n))}function at(n){return{dispose:Ng(()=>{n()})}}class xe{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{vi(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?xe.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}deleteAndLeak(e){e&&this._toDispose.has(e)&&this._toDispose.delete(e)}}xe.DISABLE_DISPOSED_WARNING=!1;class ce{constructor(){this._store=new xe,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}}ce.None=Object.freeze({dispose(){}});class Lr{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||((t=this._value)===null||t===void 0||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,(e=this._value)===null||e===void 0||e.dispose(),this._value=void 0}}class iLe{constructor(e){this._disposable=e,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}class nLe{constructor(e){this.object=e}dispose(){}}class KW{constructor(){this._store=new Map,this._isDisposed=!1}dispose(){this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{vi(this._store.values())}finally{this._store.clear()}}get(e){return this._store.get(e)}set(e,t,i=!1){var r;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),i||(r=this._store.get(e))===null||r===void 0||r.dispose(),this._store.set(e,t)}deleteAndDispose(e){var t;(t=this._store.get(e))===null||t===void 0||t.dispose(),this._store.delete(e)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}const rLe=globalThis.performance&&typeof globalThis.performance.now=="function";class ro{static create(e){return new ro(e)}constructor(e){this._now=rLe&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}var Ve;(function(n){n.None=()=>ce.None;function e(I,N){return u(I,()=>{},0,void 0,!0,void 0,N)}n.defer=e;function t(I){return(N,R=null,O)=>{let W=!1,K;return K=I(Q=>{if(!W)return K?K.dispose():W=!0,N.call(R,Q)},null,O),W&&K.dispose(),K}}n.once=t;function i(I,N,R){return c((O,W=null,K)=>I(Q=>O.call(W,N(Q)),null,K),R)}n.map=i;function r(I,N,R){return c((O,W=null,K)=>I(Q=>{N(Q),O.call(W,Q)},null,K),R)}n.forEach=r;function o(I,N,R){return c((O,W=null,K)=>I(Q=>N(Q)&&O.call(W,Q),null,K),R)}n.filter=o;function s(I){return I}n.signal=s;function a(...I){return(N,R=null,O)=>{const W=Wl(...I.map(K=>K(Q=>N.call(R,Q))));return d(W,O)}}n.any=a;function l(I,N,R,O){let W=R;return i(I,K=>(W=N(W,K),W),O)}n.reduce=l;function c(I,N){let R;const O={onWillAddFirstListener(){R=I(W.fire,W)},onDidRemoveLastListener(){R==null||R.dispose()}},W=new ne(O);return N==null||N.add(W),W.event}function d(I,N){return N instanceof Array?N.push(I):N&&N.add(I),I}function u(I,N,R=100,O=!1,W=!1,K,Q){let Y,V,X,J=0,te;const oe={leakWarningThreshold:K,onWillAddFirstListener(){Y=I(Re=>{J++,V=N(V,Re),O&&!X&&(Me.fire(V),V=void 0),te=()=>{const _e=V;V=void 0,X=void 0,(!O||J>1)&&Me.fire(_e),J=0},typeof R=="number"?(clearTimeout(X),X=setTimeout(te,R)):X===void 0&&(X=0,queueMicrotask(te))})},onWillRemoveListener(){W&&J>0&&(te==null||te())},onDidRemoveLastListener(){te=void 0,Y.dispose()}},Me=new ne(oe);return Q==null||Q.add(Me),Me.event}n.debounce=u;function h(I,N=0,R){return n.debounce(I,(O,W)=>O?(O.push(W),O):[W],N,void 0,!0,void 0,R)}n.accumulate=h;function f(I,N=(O,W)=>O===W,R){let O=!0,W;return o(I,K=>{const Q=O||!N(K,W);return O=!1,W=K,Q},R)}n.latch=f;function g(I,N,R){return[n.filter(I,N,R),n.filter(I,O=>!N(O),R)]}n.split=g;function _(I,N=!1,R=[],O){let W=R.slice(),K=I(V=>{W?W.push(V):Y.fire(V)});O&&O.add(K);const Q=()=>{W==null||W.forEach(V=>Y.fire(V)),W=null},Y=new ne({onWillAddFirstListener(){K||(K=I(V=>Y.fire(V)),O&&O.add(K))},onDidAddFirstListener(){W&&(N?setTimeout(Q):Q())},onDidRemoveLastListener(){K&&K.dispose(),K=null}});return O&&O.add(Y),Y.event}n.buffer=_;function y(I,N){return(O,W,K)=>{const Q=N(new p);return I(function(Y){const V=Q.evaluate(Y);V!==m&&O.call(W,V)},void 0,K)}}n.chain=y;const m=Symbol("HaltChainable");class p{constructor(){this.steps=[]}map(N){return this.steps.push(N),this}forEach(N){return this.steps.push(R=>(N(R),R)),this}filter(N){return this.steps.push(R=>N(R)?R:m),this}reduce(N,R){let O=R;return this.steps.push(W=>(O=N(O,W),O)),this}latch(N=(R,O)=>R===O){let R=!0,O;return this.steps.push(W=>{const K=R||!N(W,O);return R=!1,O=W,K?W:m}),this}evaluate(N){for(const R of this.steps)if(N=R(N),N===m)break;return N}}function v(I,N,R=O=>O){const O=(...Y)=>Q.fire(R(...Y)),W=()=>I.on(N,O),K=()=>I.removeListener(N,O),Q=new ne({onWillAddFirstListener:W,onDidRemoveLastListener:K});return Q.event}n.fromNodeEventEmitter=v;function b(I,N,R=O=>O){const O=(...Y)=>Q.fire(R(...Y)),W=()=>I.addEventListener(N,O),K=()=>I.removeEventListener(N,O),Q=new ne({onWillAddFirstListener:W,onDidRemoveLastListener:K});return Q.event}n.fromDOMEventEmitter=b;function C(I){return new Promise(N=>t(I)(N))}n.toPromise=C;function S(I){const N=new ne;return I.then(R=>{N.fire(R)},()=>{N.fire(void 0)}).finally(()=>{N.dispose()}),N.event}n.fromPromise=S;function x(I,N,R){return N(R),I(O=>N(O))}n.runAndSubscribe=x;class k{constructor(N,R){this._observable=N,this._counter=0,this._hasChanged=!1;const O={onWillAddFirstListener:()=>{N.addObserver(this)},onDidRemoveLastListener:()=>{N.removeObserver(this)}};this.emitter=new ne(O),R&&R.add(this.emitter)}beginUpdate(N){this._counter++}handlePossibleChange(N){}handleChange(N,R){this._hasChanged=!0}endUpdate(N){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function D(I,N){return new k(I,N).emitter.event}n.fromObservable=D;function E(I){return(N,R,O)=>{let W=0,K=!1;const Q={beginUpdate(){W++},endUpdate(){W--,W===0&&(I.reportChanges(),K&&(K=!1,N.call(R)))},handlePossibleChange(){},handleChange(){K=!0}};I.addObserver(Q),I.reportChanges();const Y={dispose(){I.removeObserver(Q)}};return O instanceof xe?O.add(Y):Array.isArray(O)&&O.push(Y),Y}}n.fromObservableLight=E})(Ve||(Ve={}));class mb{constructor(e){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${e}_${mb._idPool++}`,mb.all.add(this)}start(e){this._stopWatch=new ro,this.listenerCount=e}stop(){if(this._stopWatch){const e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}}mb.all=new Set;mb._idPool=0;let oLe=-1;class sLe{constructor(e,t=Math.random().toString(18).slice(2,5)){this.threshold=e,this.name=t,this._warnCountdown=0}dispose(){var e;(e=this._stacks)===null||e===void 0||e.clear()}check(e,t){const i=this.threshold;if(i<=0||t<i)return;this._stacks||(this._stacks=new Map);const r=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,r+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=i*.5;let o,s=0;for(const[a,l]of this._stacks)(!o||s<l)&&(o=a,s=l);console.warn(`[${this.name}] potential listener LEAK detected, having ${t} listeners already. MOST frequent listener (${s}):`),console.warn(o)}return()=>{const o=this._stacks.get(e.value)||0;this._stacks.set(e.value,o-1)}}}class GW{static create(){var e;return new GW((e=new Error().stack)!==null&&e!==void 0?e:"")}constructor(e){this.value=e}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class cA{constructor(e){this.value=e}}const aLe=2;let ne=class{constructor(e){var t,i,r,o,s;this._size=0,this._options=e,this._leakageMon=!((t=this._options)===null||t===void 0)&&t.leakWarningThreshold?new sLe((r=(i=this._options)===null||i===void 0?void 0:i.leakWarningThreshold)!==null&&r!==void 0?r:oLe):void 0,this._perfMon=!((o=this._options)===null||o===void 0)&&o._profName?new mb(this._options._profName):void 0,this._deliveryQueue=(s=this._options)===null||s===void 0?void 0:s.deliveryQueue}dispose(){var e,t,i,r;this._disposed||(this._disposed=!0,((e=this._deliveryQueue)===null||e===void 0?void 0:e.current)===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),(i=(t=this._options)===null||t===void 0?void 0:t.onDidRemoveLastListener)===null||i===void 0||i.call(t),(r=this._leakageMon)===null||r===void 0||r.dispose())}get event(){var e;return(e=this._event)!==null&&e!==void 0||(this._event=(t,i,r)=>{var o,s,a,l,c;if(this._leakageMon&&this._size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),ce.None;if(this._disposed)return ce.None;i&&(t=t.bind(i));const d=new cA(t);let u;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(d.stack=GW.create(),u=this._leakageMon.check(d.stack,this._size+1)),this._listeners?this._listeners instanceof cA?((c=this._deliveryQueue)!==null&&c!==void 0||(this._deliveryQueue=new Ise),this._listeners=[this._listeners,d]):this._listeners.push(d):((s=(o=this._options)===null||o===void 0?void 0:o.onWillAddFirstListener)===null||s===void 0||s.call(o,this),this._listeners=d,(l=(a=this._options)===null||a===void 0?void 0:a.onDidAddFirstListener)===null||l===void 0||l.call(a,this)),this._size++;const h=at(()=>{u==null||u(),this._removeListener(d)});return r instanceof xe?r.add(h):Array.isArray(r)&&r.push(h),h}),this._event}_removeListener(e){var t,i,r,o;if((i=(t=this._options)===null||t===void 0?void 0:t.onWillRemoveListener)===null||i===void 0||i.call(t,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(o=(r=this._options)===null||r===void 0?void 0:r.onDidRemoveLastListener)===null||o===void 0||o.call(r,this),this._size=0;return}const s=this._listeners,a=s.indexOf(e);if(a===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,s[a]=void 0;const l=this._deliveryQueue.current===this;if(this._size*aLe<=s.length){let c=0;for(let d=0;d<s.length;d++)s[d]?s[c++]=s[d]:l&&(this._deliveryQueue.end--,c<this._deliveryQueue.i&&this._deliveryQueue.i--);s.length=c}}_deliver(e,t){var i;if(!e)return;const r=((i=this._options)===null||i===void 0?void 0:i.onListenerError)||St;if(!r){e.value(t);return}try{e.value(t)}catch(o){r(o)}}_deliverQueue(e){const t=e.current._listeners;for(;e.i<e.end;)this._deliver(t[e.i++],e.value);e.reset()}fire(e){var t,i,r,o;if(!((t=this._deliveryQueue)===null||t===void 0)&&t.current&&(this._deliverQueue(this._deliveryQueue),(i=this._perfMon)===null||i===void 0||i.stop()),(r=this._perfMon)===null||r===void 0||r.start(this._size),this._listeners)if(this._listeners instanceof cA)this._deliver(this._listeners,e);else{const s=this._deliveryQueue;s.enqueue(this,e,this._listeners.length),this._deliverQueue(s)}(o=this._perfMon)===null||o===void 0||o.stop()}hasListeners(){return this._size>0}};const lLe=()=>new Ise;class Ise{constructor(){this.i=-1,this.end=0}enqueue(e,t,i){this.i=0,this.end=i,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class Hm extends ne{constructor(e){super(e),this._isPaused=0,this._eventQueue=new Fo,this._mergeFn=e==null?void 0:e.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(e){this._size&&(this._isPaused!==0?this._eventQueue.push(e):super.fire(e))}}class Nse extends Hm{constructor(e){var t;super(e),this._delay=(t=e.delay)!==null&&t!==void 0?t:100}fire(e){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(e)}}class cLe extends ne{constructor(e){super(e),this._queuedEvents=[],this._mergeFn=e==null?void 0:e.merge}fire(e){this.hasListeners()&&(this._queuedEvents.push(e),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(t=>super.fire(t)),this._queuedEvents=[]}))}}class dLe{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new ne({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(e){const t={event:e,listener:null};return this.events.push(t),this.hasListeners&&this.hook(t),at(Ng(()=>{this.hasListeners&&this.unhook(t);const r=this.events.indexOf(t);this.events.splice(r,1)}))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(e=>this.hook(e))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(e=>this.unhook(e))}hook(e){e.listener=e.event(t=>this.emitter.fire(t))}unhook(e){e.listener&&e.listener.dispose(),e.listener=null}dispose(){this.emitter.dispose()}}class ZW{constructor(){this.buffers=[]}wrapEvent(e){return(t,i,r)=>e(o=>{const s=this.buffers[this.buffers.length-1];s?s.push(()=>t.call(i,o)):t.call(i,o)},void 0,r)}bufferEvents(e){const t=[];this.buffers.push(t);const i=e();return this.buffers.pop(),t.forEach(r=>r()),i}}class vq{constructor(){this.listening=!1,this.inputEvent=Ve.None,this.inputEventListener=ce.None,this.emitter=new ne({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}const Pse=Object.freeze(function(n,e){const t=setTimeout(n.bind(e),0);return{dispose(){clearTimeout(t)}}});var Ht;(function(n){function e(t){return t===n.None||t===n.Cancelled||t instanceof tT?!0:!t||typeof t!="object"?!1:typeof t.isCancellationRequested=="boolean"&&typeof t.onCancellationRequested=="function"}n.isCancellationToken=e,n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Ve.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Pse})})(Ht||(Ht={}));class tT{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Pse:(this._emitter||(this._emitter=new ne),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}let Pn=class{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new tT),this._token}cancel(){this._token?this._token instanceof tT&&this._token.cancel():this._token=Ht.Cancelled}dispose(e=!1){var t;e&&this.cancel(),(t=this._parentListener)===null||t===void 0||t.dispose(),this._token?this._token instanceof tT&&this._token.dispose():this._token=Ht.None}};class YW{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const iT=new YW,T4=new YW,E4=new YW,Mse=new Array(230),uLe=Object.create(null),hLe=Object.create(null),XW=[];for(let n=0;n<=193;n++)XW[n]=-1;(function(){const n="",e=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",n,n],[1,1,"Hyper",0,n,0,n,n,n],[1,2,"Super",0,n,0,n,n,n],[1,3,"Fn",0,n,0,n,n,n],[1,4,"FnLock",0,n,0,n,n,n],[1,5,"Suspend",0,n,0,n,n,n],[1,6,"Resume",0,n,0,n,n,n],[1,7,"Turbo",0,n,0,n,n,n],[1,8,"Sleep",0,n,0,"VK_SLEEP",n,n],[1,9,"WakeUp",0,n,0,n,n,n],[0,10,"KeyA",31,"A",65,"VK_A",n,n],[0,11,"KeyB",32,"B",66,"VK_B",n,n],[0,12,"KeyC",33,"C",67,"VK_C",n,n],[0,13,"KeyD",34,"D",68,"VK_D",n,n],[0,14,"KeyE",35,"E",69,"VK_E",n,n],[0,15,"KeyF",36,"F",70,"VK_F",n,n],[0,16,"KeyG",37,"G",71,"VK_G",n,n],[0,17,"KeyH",38,"H",72,"VK_H",n,n],[0,18,"KeyI",39,"I",73,"VK_I",n,n],[0,19,"KeyJ",40,"J",74,"VK_J",n,n],[0,20,"KeyK",41,"K",75,"VK_K",n,n],[0,21,"KeyL",42,"L",76,"VK_L",n,n],[0,22,"KeyM",43,"M",77,"VK_M",n,n],[0,23,"KeyN",44,"N",78,"VK_N",n,n],[0,24,"KeyO",45,"O",79,"VK_O",n,n],[0,25,"KeyP",46,"P",80,"VK_P",n,n],[0,26,"KeyQ",47,"Q",81,"VK_Q",n,n],[0,27,"KeyR",48,"R",82,"VK_R",n,n],[0,28,"KeyS",49,"S",83,"VK_S",n,n],[0,29,"KeyT",50,"T",84,"VK_T",n,n],[0,30,"KeyU",51,"U",85,"VK_U",n,n],[0,31,"KeyV",52,"V",86,"VK_V",n,n],[0,32,"KeyW",53,"W",87,"VK_W",n,n],[0,33,"KeyX",54,"X",88,"VK_X",n,n],[0,34,"KeyY",55,"Y",89,"VK_Y",n,n],[0,35,"KeyZ",56,"Z",90,"VK_Z",n,n],[0,36,"Digit1",22,"1",49,"VK_1",n,n],[0,37,"Digit2",23,"2",50,"VK_2",n,n],[0,38,"Digit3",24,"3",51,"VK_3",n,n],[0,39,"Digit4",25,"4",52,"VK_4",n,n],[0,40,"Digit5",26,"5",53,"VK_5",n,n],[0,41,"Digit6",27,"6",54,"VK_6",n,n],[0,42,"Digit7",28,"7",55,"VK_7",n,n],[0,43,"Digit8",29,"8",56,"VK_8",n,n],[0,44,"Digit9",30,"9",57,"VK_9",n,n],[0,45,"Digit0",21,"0",48,"VK_0",n,n],[1,46,"Enter",3,"Enter",13,"VK_RETURN",n,n],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",n,n],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",n,n],[1,49,"Tab",2,"Tab",9,"VK_TAB",n,n],[1,50,"Space",10,"Space",32,"VK_SPACE",n,n],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,n,0,n,n,n],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",n,n],[1,64,"F1",59,"F1",112,"VK_F1",n,n],[1,65,"F2",60,"F2",113,"VK_F2",n,n],[1,66,"F3",61,"F3",114,"VK_F3",n,n],[1,67,"F4",62,"F4",115,"VK_F4",n,n],[1,68,"F5",63,"F5",116,"VK_F5",n,n],[1,69,"F6",64,"F6",117,"VK_F6",n,n],[1,70,"F7",65,"F7",118,"VK_F7",n,n],[1,71,"F8",66,"F8",119,"VK_F8",n,n],[1,72,"F9",67,"F9",120,"VK_F9",n,n],[1,73,"F10",68,"F10",121,"VK_F10",n,n],[1,74,"F11",69,"F11",122,"VK_F11",n,n],[1,75,"F12",70,"F12",123,"VK_F12",n,n],[1,76,"PrintScreen",0,n,0,n,n,n],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",n,n],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",n,n],[1,79,"Insert",19,"Insert",45,"VK_INSERT",n,n],[1,80,"Home",14,"Home",36,"VK_HOME",n,n],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",n,n],[1,82,"Delete",20,"Delete",46,"VK_DELETE",n,n],[1,83,"End",13,"End",35,"VK_END",n,n],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",n,n],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",n],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",n],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",n],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",n],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",n,n],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",n,n],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",n,n],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",n,n],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",n,n],[1,94,"NumpadEnter",3,n,0,n,n,n],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",n,n],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",n,n],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",n,n],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",n,n],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",n,n],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",n,n],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",n,n],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",n,n],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",n,n],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",n,n],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",n,n],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",n,n],[1,107,"ContextMenu",58,"ContextMenu",93,n,n,n],[1,108,"Power",0,n,0,n,n,n],[1,109,"NumpadEqual",0,n,0,n,n,n],[1,110,"F13",71,"F13",124,"VK_F13",n,n],[1,111,"F14",72,"F14",125,"VK_F14",n,n],[1,112,"F15",73,"F15",126,"VK_F15",n,n],[1,113,"F16",74,"F16",127,"VK_F16",n,n],[1,114,"F17",75,"F17",128,"VK_F17",n,n],[1,115,"F18",76,"F18",129,"VK_F18",n,n],[1,116,"F19",77,"F19",130,"VK_F19",n,n],[1,117,"F20",78,"F20",131,"VK_F20",n,n],[1,118,"F21",79,"F21",132,"VK_F21",n,n],[1,119,"F22",80,"F22",133,"VK_F22",n,n],[1,120,"F23",81,"F23",134,"VK_F23",n,n],[1,121,"F24",82,"F24",135,"VK_F24",n,n],[1,122,"Open",0,n,0,n,n,n],[1,123,"Help",0,n,0,n,n,n],[1,124,"Select",0,n,0,n,n,n],[1,125,"Again",0,n,0,n,n,n],[1,126,"Undo",0,n,0,n,n,n],[1,127,"Cut",0,n,0,n,n,n],[1,128,"Copy",0,n,0,n,n,n],[1,129,"Paste",0,n,0,n,n,n],[1,130,"Find",0,n,0,n,n,n],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",n,n],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",n,n],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",n,n],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",n,n],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",n,n],[1,136,"KanaMode",0,n,0,n,n,n],[0,137,"IntlYen",0,n,0,n,n,n],[1,138,"Convert",0,n,0,n,n,n],[1,139,"NonConvert",0,n,0,n,n,n],[1,140,"Lang1",0,n,0,n,n,n],[1,141,"Lang2",0,n,0,n,n,n],[1,142,"Lang3",0,n,0,n,n,n],[1,143,"Lang4",0,n,0,n,n,n],[1,144,"Lang5",0,n,0,n,n,n],[1,145,"Abort",0,n,0,n,n,n],[1,146,"Props",0,n,0,n,n,n],[1,147,"NumpadParenLeft",0,n,0,n,n,n],[1,148,"NumpadParenRight",0,n,0,n,n,n],[1,149,"NumpadBackspace",0,n,0,n,n,n],[1,150,"NumpadMemoryStore",0,n,0,n,n,n],[1,151,"NumpadMemoryRecall",0,n,0,n,n,n],[1,152,"NumpadMemoryClear",0,n,0,n,n,n],[1,153,"NumpadMemoryAdd",0,n,0,n,n,n],[1,154,"NumpadMemorySubtract",0,n,0,n,n,n],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",n,n],[1,156,"NumpadClearEntry",0,n,0,n,n,n],[1,0,n,5,"Ctrl",17,"VK_CONTROL",n,n],[1,0,n,4,"Shift",16,"VK_SHIFT",n,n],[1,0,n,6,"Alt",18,"VK_MENU",n,n],[1,0,n,57,"Meta",91,"VK_COMMAND",n,n],[1,157,"ControlLeft",5,n,0,"VK_LCONTROL",n,n],[1,158,"ShiftLeft",4,n,0,"VK_LSHIFT",n,n],[1,159,"AltLeft",6,n,0,"VK_LMENU",n,n],[1,160,"MetaLeft",57,n,0,"VK_LWIN",n,n],[1,161,"ControlRight",5,n,0,"VK_RCONTROL",n,n],[1,162,"ShiftRight",4,n,0,"VK_RSHIFT",n,n],[1,163,"AltRight",6,n,0,"VK_RMENU",n,n],[1,164,"MetaRight",57,n,0,"VK_RWIN",n,n],[1,165,"BrightnessUp",0,n,0,n,n,n],[1,166,"BrightnessDown",0,n,0,n,n,n],[1,167,"MediaPlay",0,n,0,n,n,n],[1,168,"MediaRecord",0,n,0,n,n,n],[1,169,"MediaFastForward",0,n,0,n,n,n],[1,170,"MediaRewind",0,n,0,n,n,n],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",n,n],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",n,n],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",n,n],[1,174,"Eject",0,n,0,n,n,n],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",n,n],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",n,n],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",n,n],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",n,n],[1,179,"LaunchApp1",0,n,0,"VK_MEDIA_LAUNCH_APP1",n,n],[1,180,"SelectTask",0,n,0,n,n,n],[1,181,"LaunchScreenSaver",0,n,0,n,n,n],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",n,n],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",n,n],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",n,n],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",n,n],[1,186,"BrowserStop",0,n,0,"VK_BROWSER_STOP",n,n],[1,187,"BrowserRefresh",0,n,0,"VK_BROWSER_REFRESH",n,n],[1,188,"BrowserFavorites",0,n,0,"VK_BROWSER_FAVORITES",n,n],[1,189,"ZoomToggle",0,n,0,n,n,n],[1,190,"MailReply",0,n,0,n,n,n],[1,191,"MailForward",0,n,0,n,n,n],[1,192,"MailSend",0,n,0,n,n,n],[1,0,n,114,"KeyInComposition",229,n,n,n],[1,0,n,116,"ABNT_C2",194,"VK_ABNT_C2",n,n],[1,0,n,96,"OEM_8",223,"VK_OEM_8",n,n],[1,0,n,0,n,0,"VK_KANA",n,n],[1,0,n,0,n,0,"VK_HANGUL",n,n],[1,0,n,0,n,0,"VK_JUNJA",n,n],[1,0,n,0,n,0,"VK_FINAL",n,n],[1,0,n,0,n,0,"VK_HANJA",n,n],[1,0,n,0,n,0,"VK_KANJI",n,n],[1,0,n,0,n,0,"VK_CONVERT",n,n],[1,0,n,0,n,0,"VK_NONCONVERT",n,n],[1,0,n,0,n,0,"VK_ACCEPT",n,n],[1,0,n,0,n,0,"VK_MODECHANGE",n,n],[1,0,n,0,n,0,"VK_SELECT",n,n],[1,0,n,0,n,0,"VK_PRINT",n,n],[1,0,n,0,n,0,"VK_EXECUTE",n,n],[1,0,n,0,n,0,"VK_SNAPSHOT",n,n],[1,0,n,0,n,0,"VK_HELP",n,n],[1,0,n,0,n,0,"VK_APPS",n,n],[1,0,n,0,n,0,"VK_PROCESSKEY",n,n],[1,0,n,0,n,0,"VK_PACKET",n,n],[1,0,n,0,n,0,"VK_DBE_SBCSCHAR",n,n],[1,0,n,0,n,0,"VK_DBE_DBCSCHAR",n,n],[1,0,n,0,n,0,"VK_ATTN",n,n],[1,0,n,0,n,0,"VK_CRSEL",n,n],[1,0,n,0,n,0,"VK_EXSEL",n,n],[1,0,n,0,n,0,"VK_EREOF",n,n],[1,0,n,0,n,0,"VK_PLAY",n,n],[1,0,n,0,n,0,"VK_ZOOM",n,n],[1,0,n,0,n,0,"VK_NONAME",n,n],[1,0,n,0,n,0,"VK_PA1",n,n],[1,0,n,0,n,0,"VK_OEM_CLEAR",n,n]],t=[],i=[];for(const r of e){const[o,s,a,l,c,d,u,h,f]=r;if(i[s]||(i[s]=!0,uLe[a]=s,hLe[a.toLowerCase()]=s,o&&(XW[s]=l)),!t[l]){if(t[l]=!0,!c)throw new Error(`String representation missing for key code ${l} around scan code ${a}`);iT.define(l,c),T4.define(l,h||c),E4.define(l,f||h||c)}d&&(Mse[d]=l)}})();var $u;(function(n){function e(a){return iT.keyCodeToStr(a)}n.toString=e;function t(a){return iT.strToKeyCode(a)}n.fromString=t;function i(a){return T4.keyCodeToStr(a)}n.toUserSettingsUS=i;function r(a){return E4.keyCodeToStr(a)}n.toUserSettingsGeneral=r;function o(a){return T4.strToKeyCode(a)||E4.strToKeyCode(a)}n.fromUserSettings=o;function s(a){if(a>=98&&a<=113)return null;switch(a){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return iT.keyCodeToStr(a)}n.toElectronAccelerator=s})($u||($u={}));function Yn(n,e){const t=(e&65535)<<16>>>0;return(n|t)>>>0}var bq={};let Tv;const dA=globalThis.vscode;if(typeof dA<"u"&&typeof dA.process<"u"){const n=dA.process;Tv={get platform(){return n.platform},get arch(){return n.arch},get env(){return n.env},cwd(){return n.cwd()}}}else typeof process<"u"?Tv={get platform(){return process.platform},get arch(){return process.arch},get env(){return bq},cwd(){return bq.VSCODE_CWD||process.cwd()}}:Tv={get platform(){return no?"win32":qt?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const PE=Tv.cwd,I4=Tv.env,fLe=Tv.platform,gLe=65,pLe=97,mLe=90,_Le=122,lg=46,_o=47,Js=92,rf=58,vLe=63;class Rse extends Error{constructor(e,t,i){let r;typeof t=="string"&&t.indexOf("not ")===0?(r="must not be",t=t.replace(/^not /,"")):r="must be";const o=e.indexOf(".")!==-1?"property":"argument";let s=`The "${e}" ${o} ${r} of type ${t}`;s+=`. Received type ${typeof i}`,super(s),this.code="ERR_INVALID_ARG_TYPE"}}function bLe(n,e){if(n===null||typeof n!="object")throw new Rse(e,"Object",n)}function yr(n,e){if(typeof n!="string")throw new Rse(e,"string",n)}const dp=fLe==="win32";function yi(n){return n===_o||n===Js}function N4(n){return n===_o}function of(n){return n>=gLe&&n<=mLe||n>=pLe&&n<=_Le}function ME(n,e,t,i){let r="",o=0,s=-1,a=0,l=0;for(let c=0;c<=n.length;++c){if(c<n.length)l=n.charCodeAt(c);else{if(i(l))break;l=_o}if(i(l)){if(!(s===c-1||a===1))if(a===2){if(r.length<2||o!==2||r.charCodeAt(r.length-1)!==lg||r.charCodeAt(r.length-2)!==lg){if(r.length>2){const d=r.lastIndexOf(t);d===-1?(r="",o=0):(r=r.slice(0,d),o=r.length-1-r.lastIndexOf(t)),s=c,a=0;continue}else if(r.length!==0){r="",o=0,s=c,a=0;continue}}e&&(r+=r.length>0?`${t}..`:"..",o=2)}else r.length>0?r+=`${t}${n.slice(s+1,c)}`:r=n.slice(s+1,c),o=c-s-1;s=c,a=0}else l===lg&&a!==-1?++a:a=-1}return r}function Ase(n,e){bLe(e,"pathObject");const t=e.dir||e.root,i=e.base||`${e.name||""}${e.ext||""}`;return t?t===e.root?`${t}${i}`:`${t}${n}${i}`:i}const Rs={resolve(...n){let e="",t="",i=!1;for(let r=n.length-1;r>=-1;r--){let o;if(r>=0){if(o=n[r],yr(o,"path"),o.length===0)continue}else e.length===0?o=PE():(o=I4[`=${e}`]||PE(),(o===void 0||o.slice(0,2).toLowerCase()!==e.toLowerCase()&&o.charCodeAt(2)===Js)&&(o=`${e}\\`));const s=o.length;let a=0,l="",c=!1;const d=o.charCodeAt(0);if(s===1)yi(d)&&(a=1,c=!0);else if(yi(d))if(c=!0,yi(o.charCodeAt(1))){let u=2,h=u;for(;u<s&&!yi(o.charCodeAt(u));)u++;if(u<s&&u!==h){const f=o.slice(h,u);for(h=u;u<s&&yi(o.charCodeAt(u));)u++;if(u<s&&u!==h){for(h=u;u<s&&!yi(o.charCodeAt(u));)u++;(u===s||u!==h)&&(l=`\\\\${f}\\${o.slice(h,u)}`,a=u)}}}else a=1;else of(d)&&o.charCodeAt(1)===rf&&(l=o.slice(0,2),a=2,s>2&&yi(o.charCodeAt(2))&&(c=!0,a=3));if(l.length>0)if(e.length>0){if(l.toLowerCase()!==e.toLowerCase())continue}else e=l;if(i){if(e.length>0)break}else if(t=`${o.slice(a)}\\${t}`,i=c,c&&e.length>0)break}return t=ME(t,!i,"\\",yi),i?`${e}\\${t}`:`${e}${t}`||"."},normalize(n){yr(n,"path");const e=n.length;if(e===0)return".";let t=0,i,r=!1;const o=n.charCodeAt(0);if(e===1)return N4(o)?"\\":n;if(yi(o))if(r=!0,yi(n.charCodeAt(1))){let a=2,l=a;for(;a<e&&!yi(n.charCodeAt(a));)a++;if(a<e&&a!==l){const c=n.slice(l,a);for(l=a;a<e&&yi(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!yi(n.charCodeAt(a));)a++;if(a===e)return`\\\\${c}\\${n.slice(l)}\\`;a!==l&&(i=`\\\\${c}\\${n.slice(l,a)}`,t=a)}}}else t=1;else of(o)&&n.charCodeAt(1)===rf&&(i=n.slice(0,2),t=2,e>2&&yi(n.charCodeAt(2))&&(r=!0,t=3));let s=t<e?ME(n.slice(t),!r,"\\",yi):"";return s.length===0&&!r&&(s="."),s.length>0&&yi(n.charCodeAt(e-1))&&(s+="\\"),i===void 0?r?`\\${s}`:s:r?`${i}\\${s}`:`${i}${s}`},isAbsolute(n){yr(n,"path");const e=n.length;if(e===0)return!1;const t=n.charCodeAt(0);return yi(t)||e>2&&of(t)&&n.charCodeAt(1)===rf&&yi(n.charCodeAt(2))},join(...n){if(n.length===0)return".";let e,t;for(let o=0;o<n.length;++o){const s=n[o];yr(s,"path"),s.length>0&&(e===void 0?e=t=s:e+=`\\${s}`)}if(e===void 0)return".";let i=!0,r=0;if(typeof t=="string"&&yi(t.charCodeAt(0))){++r;const o=t.length;o>1&&yi(t.charCodeAt(1))&&(++r,o>2&&(yi(t.charCodeAt(2))?++r:i=!1))}if(i){for(;r<e.length&&yi(e.charCodeAt(r));)r++;r>=2&&(e=`\\${e.slice(r)}`)}return Rs.normalize(e)},relative(n,e){if(yr(n,"from"),yr(e,"to"),n===e)return"";const t=Rs.resolve(n),i=Rs.resolve(e);if(t===i||(n=t.toLowerCase(),e=i.toLowerCase(),n===e))return"";let r=0;for(;r<n.length&&n.charCodeAt(r)===Js;)r++;let o=n.length;for(;o-1>r&&n.charCodeAt(o-1)===Js;)o--;const s=o-r;let a=0;for(;a<e.length&&e.charCodeAt(a)===Js;)a++;let l=e.length;for(;l-1>a&&e.charCodeAt(l-1)===Js;)l--;const c=l-a,d=s<c?s:c;let u=-1,h=0;for(;h<d;h++){const g=n.charCodeAt(r+h);if(g!==e.charCodeAt(a+h))break;g===Js&&(u=h)}if(h!==d){if(u===-1)return i}else{if(c>d){if(e.charCodeAt(a+h)===Js)return i.slice(a+h+1);if(h===2)return i.slice(a+h)}s>d&&(n.charCodeAt(r+h)===Js?u=h:h===2&&(u=3)),u===-1&&(u=0)}let f="";for(h=r+u+1;h<=o;++h)(h===o||n.charCodeAt(h)===Js)&&(f+=f.length===0?"..":"\\..");return a+=u,f.length>0?`${f}${i.slice(a,l)}`:(i.charCodeAt(a)===Js&&++a,i.slice(a,l))},toNamespacedPath(n){if(typeof n!="string"||n.length===0)return n;const e=Rs.resolve(n);if(e.length<=2)return n;if(e.charCodeAt(0)===Js){if(e.charCodeAt(1)===Js){const t=e.charCodeAt(2);if(t!==vLe&&t!==lg)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(of(e.charCodeAt(0))&&e.charCodeAt(1)===rf&&e.charCodeAt(2)===Js)return`\\\\?\\${e}`;return n},dirname(n){yr(n,"path");const e=n.length;if(e===0)return".";let t=-1,i=0;const r=n.charCodeAt(0);if(e===1)return yi(r)?n:".";if(yi(r)){if(t=i=1,yi(n.charCodeAt(1))){let a=2,l=a;for(;a<e&&!yi(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&yi(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!yi(n.charCodeAt(a));)a++;if(a===e)return n;a!==l&&(t=i=a+1)}}}}else of(r)&&n.charCodeAt(1)===rf&&(t=e>2&&yi(n.charCodeAt(2))?3:2,i=t);let o=-1,s=!0;for(let a=e-1;a>=i;--a)if(yi(n.charCodeAt(a))){if(!s){o=a;break}}else s=!1;if(o===-1){if(t===-1)return".";o=t}return n.slice(0,o)},basename(n,e){e!==void 0&&yr(e,"ext"),yr(n,"path");let t=0,i=-1,r=!0,o;if(n.length>=2&&of(n.charCodeAt(0))&&n.charCodeAt(1)===rf&&(t=2),e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let s=e.length-1,a=-1;for(o=n.length-1;o>=t;--o){const l=n.charCodeAt(o);if(yi(l)){if(!r){t=o+1;break}}else a===-1&&(r=!1,a=o+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(i=o):(s=-1,i=a))}return t===i?i=a:i===-1&&(i=n.length),n.slice(t,i)}for(o=n.length-1;o>=t;--o)if(yi(n.charCodeAt(o))){if(!r){t=o+1;break}}else i===-1&&(r=!1,i=o+1);return i===-1?"":n.slice(t,i)},extname(n){yr(n,"path");let e=0,t=-1,i=0,r=-1,o=!0,s=0;n.length>=2&&n.charCodeAt(1)===rf&&of(n.charCodeAt(0))&&(e=i=2);for(let a=n.length-1;a>=e;--a){const l=n.charCodeAt(a);if(yi(l)){if(!o){i=a+1;break}continue}r===-1&&(o=!1,r=a+1),l===lg?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||r===-1||s===0||s===1&&t===r-1&&t===i+1?"":n.slice(t,r)},format:Ase.bind(null,"\\"),parse(n){yr(n,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;const t=n.length;let i=0,r=n.charCodeAt(0);if(t===1)return yi(r)?(e.root=e.dir=n,e):(e.base=e.name=n,e);if(yi(r)){if(i=1,yi(n.charCodeAt(1))){let u=2,h=u;for(;u<t&&!yi(n.charCodeAt(u));)u++;if(u<t&&u!==h){for(h=u;u<t&&yi(n.charCodeAt(u));)u++;if(u<t&&u!==h){for(h=u;u<t&&!yi(n.charCodeAt(u));)u++;u===t?i=u:u!==h&&(i=u+1)}}}}else if(of(r)&&n.charCodeAt(1)===rf){if(t<=2)return e.root=e.dir=n,e;if(i=2,yi(n.charCodeAt(2))){if(t===3)return e.root=e.dir=n,e;i=3}}i>0&&(e.root=n.slice(0,i));let o=-1,s=i,a=-1,l=!0,c=n.length-1,d=0;for(;c>=i;--c){if(r=n.charCodeAt(c),yi(r)){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),r===lg?o===-1?o=c:d!==1&&(d=1):o!==-1&&(d=-1)}return a!==-1&&(o===-1||d===0||d===1&&o===a-1&&o===s+1?e.base=e.name=n.slice(s,a):(e.name=n.slice(s,o),e.base=n.slice(s,a),e.ext=n.slice(o,a))),s>0&&s!==i?e.dir=n.slice(0,s-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},yLe=(()=>{if(dp){const n=/\\/g;return()=>{const e=PE().replace(n,"/");return e.slice(e.indexOf("/"))}}return()=>PE()})(),Gn={resolve(...n){let e="",t=!1;for(let i=n.length-1;i>=-1&&!t;i--){const r=i>=0?n[i]:yLe();yr(r,"path"),r.length!==0&&(e=`${r}/${e}`,t=r.charCodeAt(0)===_o)}return e=ME(e,!t,"/",N4),t?`/${e}`:e.length>0?e:"."},normalize(n){if(yr(n,"path"),n.length===0)return".";const e=n.charCodeAt(0)===_o,t=n.charCodeAt(n.length-1)===_o;return n=ME(n,!e,"/",N4),n.length===0?e?"/":t?"./":".":(t&&(n+="/"),e?`/${n}`:n)},isAbsolute(n){return yr(n,"path"),n.length>0&&n.charCodeAt(0)===_o},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){const i=n[t];yr(i,"path"),i.length>0&&(e===void 0?e=i:e+=`/${i}`)}return e===void 0?".":Gn.normalize(e)},relative(n,e){if(yr(n,"from"),yr(e,"to"),n===e||(n=Gn.resolve(n),e=Gn.resolve(e),n===e))return"";const t=1,i=n.length,r=i-t,o=1,s=e.length-o,a=r<s?r:s;let l=-1,c=0;for(;c<a;c++){const u=n.charCodeAt(t+c);if(u!==e.charCodeAt(o+c))break;u===_o&&(l=c)}if(c===a)if(s>a){if(e.charCodeAt(o+c)===_o)return e.slice(o+c+1);if(c===0)return e.slice(o+c)}else r>a&&(n.charCodeAt(t+c)===_o?l=c:c===0&&(l=0));let d="";for(c=t+l+1;c<=i;++c)(c===i||n.charCodeAt(c)===_o)&&(d+=d.length===0?"..":"/..");return`${d}${e.slice(o+l)}`},toNamespacedPath(n){return n},dirname(n){if(yr(n,"path"),n.length===0)return".";const e=n.charCodeAt(0)===_o;let t=-1,i=!0;for(let r=n.length-1;r>=1;--r)if(n.charCodeAt(r)===_o){if(!i){t=r;break}}else i=!1;return t===-1?e?"/":".":e&&t===1?"//":n.slice(0,t)},basename(n,e){e!==void 0&&yr(e,"ext"),yr(n,"path");let t=0,i=-1,r=!0,o;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let s=e.length-1,a=-1;for(o=n.length-1;o>=0;--o){const l=n.charCodeAt(o);if(l===_o){if(!r){t=o+1;break}}else a===-1&&(r=!1,a=o+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(i=o):(s=-1,i=a))}return t===i?i=a:i===-1&&(i=n.length),n.slice(t,i)}for(o=n.length-1;o>=0;--o)if(n.charCodeAt(o)===_o){if(!r){t=o+1;break}}else i===-1&&(r=!1,i=o+1);return i===-1?"":n.slice(t,i)},extname(n){yr(n,"path");let e=-1,t=0,i=-1,r=!0,o=0;for(let s=n.length-1;s>=0;--s){const a=n.charCodeAt(s);if(a===_o){if(!r){t=s+1;break}continue}i===-1&&(r=!1,i=s+1),a===lg?e===-1?e=s:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||i===-1||o===0||o===1&&e===i-1&&e===t+1?"":n.slice(e,i)},format:Ase.bind(null,"/"),parse(n){yr(n,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;const t=n.charCodeAt(0)===_o;let i;t?(e.root="/",i=1):i=0;let r=-1,o=0,s=-1,a=!0,l=n.length-1,c=0;for(;l>=i;--l){const d=n.charCodeAt(l);if(d===_o){if(!a){o=l+1;break}continue}s===-1&&(a=!1,s=l+1),d===lg?r===-1?r=l:c!==1&&(c=1):r!==-1&&(c=-1)}if(s!==-1){const d=o===0&&t?1:o;r===-1||c===0||c===1&&r===s-1&&r===o+1?e.base=e.name=n.slice(d,s):(e.name=n.slice(d,r),e.base=n.slice(d,s),e.ext=n.slice(r,s))}return o>0?e.dir=n.slice(0,o-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};Gn.win32=Rs.win32=Rs;Gn.posix=Rs.posix=Gn;const Ose=dp?Rs.normalize:Gn.normalize,CLe=dp?Rs.resolve:Gn.resolve,wLe=dp?Rs.relative:Gn.relative,Fse=dp?Rs.dirname:Gn.dirname,cg=dp?Rs.basename:Gn.basename,SLe=dp?Rs.extname:Gn.extname,Rc=dp?Rs.sep:Gn.sep,xLe=/^\w[\w\d+.-]*$/,LLe=/^\//,kLe=/^\/\//;function DLe(n,e){if(!n.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${n.authority}", path: "${n.path}", query: "${n.query}", fragment: "${n.fragment}"}`);if(n.scheme&&!xLe.test(n.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(n.path){if(n.authority){if(!LLe.test(n.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(kLe.test(n.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function TLe(n,e){return!n&&!e?"file":n}function ELe(n,e){switch(n){case"https":case"http":case"file":e?e[0]!==bc&&(e=bc+e):e=bc;break}return e}const En="",bc="/",ILe=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class rt{static isUri(e){return e instanceof rt?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}constructor(e,t,i,r,o,s=!1){typeof e=="object"?(this.scheme=e.scheme||En,this.authority=e.authority||En,this.path=e.path||En,this.query=e.query||En,this.fragment=e.fragment||En):(this.scheme=TLe(e,s),this.authority=t||En,this.path=ELe(this.scheme,i||En),this.query=r||En,this.fragment=o||En,DLe(this,s))}get fsPath(){return RE(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:i,path:r,query:o,fragment:s}=e;return t===void 0?t=this.scheme:t===null&&(t=En),i===void 0?i=this.authority:i===null&&(i=En),r===void 0?r=this.path:r===null&&(r=En),o===void 0?o=this.query:o===null&&(o=En),s===void 0?s=this.fragment:s===null&&(s=En),t===this.scheme&&i===this.authority&&r===this.path&&o===this.query&&s===this.fragment?this:new i0(t,i,r,o,s)}static parse(e,t=!1){const i=ILe.exec(e);return i?new i0(i[2]||En,hk(i[4]||En),hk(i[5]||En),hk(i[7]||En),hk(i[9]||En),t):new i0(En,En,En,En,En)}static file(e){let t=En;if(no&&(e=e.replace(/\\/g,bc)),e[0]===bc&&e[1]===bc){const i=e.indexOf(bc,2);i===-1?(t=e.substring(2),e=bc):(t=e.substring(2,i),e=e.substring(i)||bc)}return new i0("file",t,e,En,En)}static from(e,t){return new i0(e.scheme,e.authority,e.path,e.query,e.fragment,t)}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let i;return no&&e.scheme==="file"?i=rt.file(Rs.join(RE(e,!0),...t)).path:i=Gn.join(e.path,...t),e.with({path:i})}toString(e=!1){return P4(this,e)}toJSON(){return this}static revive(e){var t,i;if(e){if(e instanceof rt)return e;{const r=new i0(e);return r._formatted=(t=e.external)!==null&&t!==void 0?t:null,r._fsPath=e._sep===Bse&&(i=e.fsPath)!==null&&i!==void 0?i:null,r}}else return e}}const Bse=no?1:void 0;let i0=class extends rt{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=RE(this,!1)),this._fsPath}toString(e=!1){return e?P4(this,!0):(this._formatted||(this._formatted=P4(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=Bse),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}};const Wse={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function yq(n,e,t){let i,r=-1;for(let o=0;o<n.length;o++){const s=n.charCodeAt(o);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||s===45||s===46||s===95||s===126||e&&s===47||t&&s===91||t&&s===93||t&&s===58)r!==-1&&(i+=encodeURIComponent(n.substring(r,o)),r=-1),i!==void 0&&(i+=n.charAt(o));else{i===void 0&&(i=n.substr(0,o));const a=Wse[s];a!==void 0?(r!==-1&&(i+=encodeURIComponent(n.substring(r,o)),r=-1),i+=a):r===-1&&(r=o)}}return r!==-1&&(i+=encodeURIComponent(n.substring(r))),i!==void 0?i:n}function NLe(n){let e;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i===35||i===63?(e===void 0&&(e=n.substr(0,t)),e+=Wse[i]):e!==void 0&&(e+=n[t])}return e!==void 0?e:n}function RE(n,e){let t;return n.authority&&n.path.length>1&&n.scheme==="file"?t=`//${n.authority}${n.path}`:n.path.charCodeAt(0)===47&&(n.path.charCodeAt(1)>=65&&n.path.charCodeAt(1)<=90||n.path.charCodeAt(1)>=97&&n.path.charCodeAt(1)<=122)&&n.path.charCodeAt(2)===58?e?t=n.path.substr(1):t=n.path[1].toLowerCase()+n.path.substr(2):t=n.path,no&&(t=t.replace(/\//g,"\\")),t}function P4(n,e){const t=e?NLe:yq;let i="",{scheme:r,authority:o,path:s,query:a,fragment:l}=n;if(r&&(i+=r,i+=":"),(o||r==="file")&&(i+=bc,i+=bc),o){let c=o.indexOf("@");if(c!==-1){const d=o.substr(0,c);o=o.substr(c+1),c=d.lastIndexOf(":"),c===-1?i+=t(d,!1,!1):(i+=t(d.substr(0,c),!1,!1),i+=":",i+=t(d.substr(c+1),!1,!0)),i+="@"}o=o.toLowerCase(),c=o.lastIndexOf(":"),c===-1?i+=t(o,!1,!0):(i+=t(o.substr(0,c),!1,!0),i+=o.substr(c))}if(s){if(s.length>=3&&s.charCodeAt(0)===47&&s.charCodeAt(2)===58){const c=s.charCodeAt(1);c>=65&&c<=90&&(s=`/${String.fromCharCode(c+32)}:${s.substr(3)}`)}else if(s.length>=2&&s.charCodeAt(1)===58){const c=s.charCodeAt(0);c>=65&&c<=90&&(s=`${String.fromCharCode(c+32)}:${s.substr(2)}`)}i+=t(s,!0,!1)}return a&&(i+="?",i+=t(a,!1,!1)),l&&(i+="#",i+=e?l:yq(l,!1,!1)),i}function Vse(n){try{return decodeURIComponent(n)}catch{return n.length>3?n.substr(0,3)+Vse(n.substr(3)):n}}const Cq=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function hk(n){return n.match(Cq)?n.replace(Cq,e=>Vse(e)):n}let re=class Hp{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new Hp(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return Hp.equals(this,e)}static equals(e,t){return!e&&!t?!0:!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return Hp.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<t.column}isBeforeOrEqual(e){return Hp.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<=t.column}static compare(e,t){const i=e.lineNumber|0,r=t.lineNumber|0;if(i===r){const o=e.column|0,s=t.column|0;return o-s}return i-r}clone(){return new Hp(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new Hp(e.lineNumber,e.column)}static isIPosition(e){return e&&typeof e.lineNumber=="number"&&typeof e.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}},B=class Dr{constructor(e,t,i,r){e>i||e===i&&t>r?(this.startLineNumber=i,this.startColumn=r,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=r)}isEmpty(){return Dr.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return Dr.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<e.startColumn||t.lineNumber===e.endLineNumber&&t.column>e.endColumn)}static strictContainsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<=e.startColumn||t.lineNumber===e.endLineNumber&&t.column>=e.endColumn)}containsRange(e){return Dr.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)}strictContainsRange(e){return Dr.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)}plusRange(e){return Dr.plusRange(this,e)}static plusRange(e,t){let i,r,o,s;return t.startLineNumber<e.startLineNumber?(i=t.startLineNumber,r=t.startColumn):t.startLineNumber===e.startLineNumber?(i=t.startLineNumber,r=Math.min(t.startColumn,e.startColumn)):(i=e.startLineNumber,r=e.startColumn),t.endLineNumber>e.endLineNumber?(o=t.endLineNumber,s=t.endColumn):t.endLineNumber===e.endLineNumber?(o=t.endLineNumber,s=Math.max(t.endColumn,e.endColumn)):(o=e.endLineNumber,s=e.endColumn),new Dr(i,r,o,s)}intersectRanges(e){return Dr.intersectRanges(this,e)}static intersectRanges(e,t){let i=e.startLineNumber,r=e.startColumn,o=e.endLineNumber,s=e.endColumn;const a=t.startLineNumber,l=t.startColumn,c=t.endLineNumber,d=t.endColumn;return i<a?(i=a,r=l):i===a&&(r=Math.max(r,l)),o>c?(o=c,s=d):o===c&&(s=Math.min(s,d)),i>o||i===o&&r>s?null:new Dr(i,r,o,s)}equalsRange(e){return Dr.equalsRange(this,e)}static equalsRange(e,t){return!e&&!t?!0:!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return Dr.getEndPosition(this)}static getEndPosition(e){return new re(e.endLineNumber,e.endColumn)}getStartPosition(){return Dr.getStartPosition(this)}static getStartPosition(e){return new re(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new Dr(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new Dr(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return Dr.collapseToStart(this)}static collapseToStart(e){return new Dr(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}collapseToEnd(){return Dr.collapseToEnd(this)}static collapseToEnd(e){return new Dr(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn)}delta(e){return new Dr(this.startLineNumber+e,this.startColumn,this.endLineNumber+e,this.endColumn)}static fromPositions(e,t=e){return new Dr(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new Dr(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&typeof e.startLineNumber=="number"&&typeof e.startColumn=="number"&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){const o=e.startLineNumber|0,s=t.startLineNumber|0;if(o===s){const a=e.startColumn|0,l=t.startColumn|0;if(a===l){const c=e.endLineNumber|0,d=t.endLineNumber|0;if(c===d){const u=e.endColumn|0,h=t.endColumn|0;return u-h}return c-d}return a-l}return o-s}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}},Ke=class bl extends B{constructor(e,t,i,r){super(e,t,i,r),this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=i,this.positionColumn=r}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return bl.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return this.getDirection()===0?new bl(this.startLineNumber,this.startColumn,e,t):new bl(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new re(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new re(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(e,t){return this.getDirection()===0?new bl(e,t,this.endLineNumber,this.endColumn):new bl(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new bl(e.lineNumber,e.column,t.lineNumber,t.column)}static fromRange(e,t){return t===0?new bl(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):new bl(e.endLineNumber,e.endColumn,e.startLineNumber,e.startColumn)}static liftSelection(e){return new bl(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let i=0,r=e.length;i<r;i++)if(!this.selectionsEqual(e[i],t[i]))return!1;return!0}static isISelection(e){return e&&typeof e.selectionStartLineNumber=="number"&&typeof e.selectionStartColumn=="number"&&typeof e.positionLineNumber=="number"&&typeof e.positionColumn=="number"}static createWithDirection(e,t,i,r,o){return o===0?new bl(e,t,i,r):new bl(i,r,e,t)}};const M4=Object.create(null);function A(n,e){if(Ho(e)){const t=M4[e];if(t===void 0)throw new Error(`${n} references an unknown codicon: ${e}`);e=t}return M4[n]=e,{id:n}}function Hse(){return M4}const Ae={add:A("add",6e4),plus:A("plus",6e4),gistNew:A("gist-new",6e4),repoCreate:A("repo-create",6e4),lightbulb:A("lightbulb",60001),lightBulb:A("light-bulb",60001),repo:A("repo",60002),repoDelete:A("repo-delete",60002),gistFork:A("gist-fork",60003),repoForked:A("repo-forked",60003),gitPullRequest:A("git-pull-request",60004),gitPullRequestAbandoned:A("git-pull-request-abandoned",60004),recordKeys:A("record-keys",60005),keyboard:A("keyboard",60005),tag:A("tag",60006),tagAdd:A("tag-add",60006),tagRemove:A("tag-remove",60006),gitPullRequestLabel:A("git-pull-request-label",60006),person:A("person",60007),personFollow:A("person-follow",60007),personOutline:A("person-outline",60007),personFilled:A("person-filled",60007),gitBranch:A("git-branch",60008),gitBranchCreate:A("git-branch-create",60008),gitBranchDelete:A("git-branch-delete",60008),sourceControl:A("source-control",60008),mirror:A("mirror",60009),mirrorPublic:A("mirror-public",60009),star:A("star",60010),starAdd:A("star-add",60010),starDelete:A("star-delete",60010),starEmpty:A("star-empty",60010),comment:A("comment",60011),commentAdd:A("comment-add",60011),alert:A("alert",60012),warning:A("warning",60012),search:A("search",60013),searchSave:A("search-save",60013),logOut:A("log-out",60014),signOut:A("sign-out",60014),logIn:A("log-in",60015),signIn:A("sign-in",60015),eye:A("eye",60016),eyeUnwatch:A("eye-unwatch",60016),eyeWatch:A("eye-watch",60016),circleFilled:A("circle-filled",60017),primitiveDot:A("primitive-dot",60017),closeDirty:A("close-dirty",60017),debugBreakpoint:A("debug-breakpoint",60017),debugBreakpointDisabled:A("debug-breakpoint-disabled",60017),debugBreakpointPending:A("debug-breakpoint-pending",60377),debugHint:A("debug-hint",60017),primitiveSquare:A("primitive-square",60018),edit:A("edit",60019),pencil:A("pencil",60019),info:A("info",60020),issueOpened:A("issue-opened",60020),gistPrivate:A("gist-private",60021),gitForkPrivate:A("git-fork-private",60021),lock:A("lock",60021),mirrorPrivate:A("mirror-private",60021),close:A("close",60022),removeClose:A("remove-close",60022),x:A("x",60022),repoSync:A("repo-sync",60023),sync:A("sync",60023),clone:A("clone",60024),desktopDownload:A("desktop-download",60024),beaker:A("beaker",60025),microscope:A("microscope",60025),vm:A("vm",60026),deviceDesktop:A("device-desktop",60026),file:A("file",60027),fileText:A("file-text",60027),more:A("more",60028),ellipsis:A("ellipsis",60028),kebabHorizontal:A("kebab-horizontal",60028),mailReply:A("mail-reply",60029),reply:A("reply",60029),organization:A("organization",60030),organizationFilled:A("organization-filled",60030),organizationOutline:A("organization-outline",60030),newFile:A("new-file",60031),fileAdd:A("file-add",60031),newFolder:A("new-folder",60032),fileDirectoryCreate:A("file-directory-create",60032),trash:A("trash",60033),trashcan:A("trashcan",60033),history:A("history",60034),clock:A("clock",60034),folder:A("folder",60035),fileDirectory:A("file-directory",60035),symbolFolder:A("symbol-folder",60035),logoGithub:A("logo-github",60036),markGithub:A("mark-github",60036),github:A("github",60036),terminal:A("terminal",60037),console:A("console",60037),repl:A("repl",60037),zap:A("zap",60038),symbolEvent:A("symbol-event",60038),error:A("error",60039),stop:A("stop",60039),variable:A("variable",60040),symbolVariable:A("symbol-variable",60040),array:A("array",60042),symbolArray:A("symbol-array",60042),symbolModule:A("symbol-module",60043),symbolPackage:A("symbol-package",60043),symbolNamespace:A("symbol-namespace",60043),symbolObject:A("symbol-object",60043),symbolMethod:A("symbol-method",60044),symbolFunction:A("symbol-function",60044),symbolConstructor:A("symbol-constructor",60044),symbolBoolean:A("symbol-boolean",60047),symbolNull:A("symbol-null",60047),symbolNumeric:A("symbol-numeric",60048),symbolNumber:A("symbol-number",60048),symbolStructure:A("symbol-structure",60049),symbolStruct:A("symbol-struct",60049),symbolParameter:A("symbol-parameter",60050),symbolTypeParameter:A("symbol-type-parameter",60050),symbolKey:A("symbol-key",60051),symbolText:A("symbol-text",60051),symbolReference:A("symbol-reference",60052),goToFile:A("go-to-file",60052),symbolEnum:A("symbol-enum",60053),symbolValue:A("symbol-value",60053),symbolRuler:A("symbol-ruler",60054),symbolUnit:A("symbol-unit",60054),activateBreakpoints:A("activate-breakpoints",60055),archive:A("archive",60056),arrowBoth:A("arrow-both",60057),arrowDown:A("arrow-down",60058),arrowLeft:A("arrow-left",60059),arrowRight:A("arrow-right",60060),arrowSmallDown:A("arrow-small-down",60061),arrowSmallLeft:A("arrow-small-left",60062),arrowSmallRight:A("arrow-small-right",60063),arrowSmallUp:A("arrow-small-up",60064),arrowUp:A("arrow-up",60065),bell:A("bell",60066),bold:A("bold",60067),book:A("book",60068),bookmark:A("bookmark",60069),debugBreakpointConditionalUnverified:A("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:A("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:A("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:A("debug-breakpoint-data-unverified",60072),debugBreakpointData:A("debug-breakpoint-data",60073),debugBreakpointDataDisabled:A("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:A("debug-breakpoint-log-unverified",60074),debugBreakpointLog:A("debug-breakpoint-log",60075),debugBreakpointLogDisabled:A("debug-breakpoint-log-disabled",60075),briefcase:A("briefcase",60076),broadcast:A("broadcast",60077),browser:A("browser",60078),bug:A("bug",60079),calendar:A("calendar",60080),caseSensitive:A("case-sensitive",60081),check:A("check",60082),checklist:A("checklist",60083),chevronDown:A("chevron-down",60084),dropDownButton:A("drop-down-button",60084),chevronLeft:A("chevron-left",60085),chevronRight:A("chevron-right",60086),chevronUp:A("chevron-up",60087),chromeClose:A("chrome-close",60088),chromeMaximize:A("chrome-maximize",60089),chromeMinimize:A("chrome-minimize",60090),chromeRestore:A("chrome-restore",60091),circle:A("circle",60092),circleOutline:A("circle-outline",60092),debugBreakpointUnverified:A("debug-breakpoint-unverified",60092),circleSlash:A("circle-slash",60093),circuitBoard:A("circuit-board",60094),clearAll:A("clear-all",60095),clippy:A("clippy",60096),closeAll:A("close-all",60097),cloudDownload:A("cloud-download",60098),cloudUpload:A("cloud-upload",60099),code:A("code",60100),collapseAll:A("collapse-all",60101),colorMode:A("color-mode",60102),commentDiscussion:A("comment-discussion",60103),compareChanges:A("compare-changes",60157),creditCard:A("credit-card",60105),dash:A("dash",60108),dashboard:A("dashboard",60109),database:A("database",60110),debugContinue:A("debug-continue",60111),debugDisconnect:A("debug-disconnect",60112),debugPause:A("debug-pause",60113),debugRestart:A("debug-restart",60114),debugStart:A("debug-start",60115),debugStepInto:A("debug-step-into",60116),debugStepOut:A("debug-step-out",60117),debugStepOver:A("debug-step-over",60118),debugStop:A("debug-stop",60119),debug:A("debug",60120),deviceCameraVideo:A("device-camera-video",60121),deviceCamera:A("device-camera",60122),deviceMobile:A("device-mobile",60123),diffAdded:A("diff-added",60124),diffIgnored:A("diff-ignored",60125),diffModified:A("diff-modified",60126),diffRemoved:A("diff-removed",60127),diffRenamed:A("diff-renamed",60128),diff:A("diff",60129),discard:A("discard",60130),editorLayout:A("editor-layout",60131),emptyWindow:A("empty-window",60132),exclude:A("exclude",60133),extensions:A("extensions",60134),eyeClosed:A("eye-closed",60135),fileBinary:A("file-binary",60136),fileCode:A("file-code",60137),fileMedia:A("file-media",60138),filePdf:A("file-pdf",60139),fileSubmodule:A("file-submodule",60140),fileSymlinkDirectory:A("file-symlink-directory",60141),fileSymlinkFile:A("file-symlink-file",60142),fileZip:A("file-zip",60143),files:A("files",60144),filter:A("filter",60145),flame:A("flame",60146),foldDown:A("fold-down",60147),foldUp:A("fold-up",60148),fold:A("fold",60149),folderActive:A("folder-active",60150),folderOpened:A("folder-opened",60151),gear:A("gear",60152),gift:A("gift",60153),gistSecret:A("gist-secret",60154),gist:A("gist",60155),gitCommit:A("git-commit",60156),gitCompare:A("git-compare",60157),gitMerge:A("git-merge",60158),githubAction:A("github-action",60159),githubAlt:A("github-alt",60160),globe:A("globe",60161),grabber:A("grabber",60162),graph:A("graph",60163),gripper:A("gripper",60164),heart:A("heart",60165),home:A("home",60166),horizontalRule:A("horizontal-rule",60167),hubot:A("hubot",60168),inbox:A("inbox",60169),issueClosed:A("issue-closed",60324),issueReopened:A("issue-reopened",60171),issues:A("issues",60172),italic:A("italic",60173),jersey:A("jersey",60174),json:A("json",60175),bracket:A("bracket",60175),kebabVertical:A("kebab-vertical",60176),key:A("key",60177),law:A("law",60178),lightbulbAutofix:A("lightbulb-autofix",60179),linkExternal:A("link-external",60180),link:A("link",60181),listOrdered:A("list-ordered",60182),listUnordered:A("list-unordered",60183),liveShare:A("live-share",60184),loading:A("loading",60185),location:A("location",60186),mailRead:A("mail-read",60187),mail:A("mail",60188),markdown:A("markdown",60189),megaphone:A("megaphone",60190),mention:A("mention",60191),milestone:A("milestone",60192),gitPullRequestMilestone:A("git-pull-request-milestone",60192),mortarBoard:A("mortar-board",60193),move:A("move",60194),multipleWindows:A("multiple-windows",60195),mute:A("mute",60196),noNewline:A("no-newline",60197),note:A("note",60198),octoface:A("octoface",60199),openPreview:A("open-preview",60200),package:A("package",60201),paintcan:A("paintcan",60202),pin:A("pin",60203),play:A("play",60204),run:A("run",60204),plug:A("plug",60205),preserveCase:A("preserve-case",60206),preview:A("preview",60207),project:A("project",60208),pulse:A("pulse",60209),question:A("question",60210),quote:A("quote",60211),radioTower:A("radio-tower",60212),reactions:A("reactions",60213),references:A("references",60214),refresh:A("refresh",60215),regex:A("regex",60216),remoteExplorer:A("remote-explorer",60217),remote:A("remote",60218),remove:A("remove",60219),replaceAll:A("replace-all",60220),replace:A("replace",60221),repoClone:A("repo-clone",60222),repoForcePush:A("repo-force-push",60223),repoPull:A("repo-pull",60224),repoPush:A("repo-push",60225),report:A("report",60226),requestChanges:A("request-changes",60227),rocket:A("rocket",60228),rootFolderOpened:A("root-folder-opened",60229),rootFolder:A("root-folder",60230),rss:A("rss",60231),ruby:A("ruby",60232),saveAll:A("save-all",60233),saveAs:A("save-as",60234),save:A("save",60235),screenFull:A("screen-full",60236),screenNormal:A("screen-normal",60237),searchStop:A("search-stop",60238),server:A("server",60240),settingsGear:A("settings-gear",60241),settings:A("settings",60242),shield:A("shield",60243),smiley:A("smiley",60244),sortPrecedence:A("sort-precedence",60245),splitHorizontal:A("split-horizontal",60246),splitVertical:A("split-vertical",60247),squirrel:A("squirrel",60248),starFull:A("star-full",60249),starHalf:A("star-half",60250),symbolClass:A("symbol-class",60251),symbolColor:A("symbol-color",60252),symbolCustomColor:A("symbol-customcolor",60252),symbolConstant:A("symbol-constant",60253),symbolEnumMember:A("symbol-enum-member",60254),symbolField:A("symbol-field",60255),symbolFile:A("symbol-file",60256),symbolInterface:A("symbol-interface",60257),symbolKeyword:A("symbol-keyword",60258),symbolMisc:A("symbol-misc",60259),symbolOperator:A("symbol-operator",60260),symbolProperty:A("symbol-property",60261),wrench:A("wrench",60261),wrenchSubaction:A("wrench-subaction",60261),symbolSnippet:A("symbol-snippet",60262),tasklist:A("tasklist",60263),telescope:A("telescope",60264),textSize:A("text-size",60265),threeBars:A("three-bars",60266),thumbsdown:A("thumbsdown",60267),thumbsup:A("thumbsup",60268),tools:A("tools",60269),triangleDown:A("triangle-down",60270),triangleLeft:A("triangle-left",60271),triangleRight:A("triangle-right",60272),triangleUp:A("triangle-up",60273),twitter:A("twitter",60274),unfold:A("unfold",60275),unlock:A("unlock",60276),unmute:A("unmute",60277),unverified:A("unverified",60278),verified:A("verified",60279),versions:A("versions",60280),vmActive:A("vm-active",60281),vmOutline:A("vm-outline",60282),vmRunning:A("vm-running",60283),watch:A("watch",60284),whitespace:A("whitespace",60285),wholeWord:A("whole-word",60286),window:A("window",60287),wordWrap:A("word-wrap",60288),zoomIn:A("zoom-in",60289),zoomOut:A("zoom-out",60290),listFilter:A("list-filter",60291),listFlat:A("list-flat",60292),listSelection:A("list-selection",60293),selection:A("selection",60293),listTree:A("list-tree",60294),debugBreakpointFunctionUnverified:A("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:A("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:A("debug-breakpoint-function-disabled",60296),debugStackframeActive:A("debug-stackframe-active",60297),circleSmallFilled:A("circle-small-filled",60298),debugStackframeDot:A("debug-stackframe-dot",60298),debugStackframe:A("debug-stackframe",60299),debugStackframeFocused:A("debug-stackframe-focused",60299),debugBreakpointUnsupported:A("debug-breakpoint-unsupported",60300),symbolString:A("symbol-string",60301),debugReverseContinue:A("debug-reverse-continue",60302),debugStepBack:A("debug-step-back",60303),debugRestartFrame:A("debug-restart-frame",60304),callIncoming:A("call-incoming",60306),callOutgoing:A("call-outgoing",60307),menu:A("menu",60308),expandAll:A("expand-all",60309),feedback:A("feedback",60310),gitPullRequestReviewer:A("git-pull-request-reviewer",60310),groupByRefType:A("group-by-ref-type",60311),ungroupByRefType:A("ungroup-by-ref-type",60312),account:A("account",60313),gitPullRequestAssignee:A("git-pull-request-assignee",60313),bellDot:A("bell-dot",60314),debugConsole:A("debug-console",60315),library:A("library",60316),output:A("output",60317),runAll:A("run-all",60318),syncIgnored:A("sync-ignored",60319),pinned:A("pinned",60320),githubInverted:A("github-inverted",60321),debugAlt:A("debug-alt",60305),serverProcess:A("server-process",60322),serverEnvironment:A("server-environment",60323),pass:A("pass",60324),stopCircle:A("stop-circle",60325),playCircle:A("play-circle",60326),record:A("record",60327),debugAltSmall:A("debug-alt-small",60328),vmConnect:A("vm-connect",60329),cloud:A("cloud",60330),merge:A("merge",60331),exportIcon:A("export",60332),graphLeft:A("graph-left",60333),magnet:A("magnet",60334),notebook:A("notebook",60335),redo:A("redo",60336),checkAll:A("check-all",60337),pinnedDirty:A("pinned-dirty",60338),passFilled:A("pass-filled",60339),circleLargeFilled:A("circle-large-filled",60340),circleLarge:A("circle-large",60341),circleLargeOutline:A("circle-large-outline",60341),combine:A("combine",60342),gather:A("gather",60342),table:A("table",60343),variableGroup:A("variable-group",60344),typeHierarchy:A("type-hierarchy",60345),typeHierarchySub:A("type-hierarchy-sub",60346),typeHierarchySuper:A("type-hierarchy-super",60347),gitPullRequestCreate:A("git-pull-request-create",60348),runAbove:A("run-above",60349),runBelow:A("run-below",60350),notebookTemplate:A("notebook-template",60351),debugRerun:A("debug-rerun",60352),workspaceTrusted:A("workspace-trusted",60353),workspaceUntrusted:A("workspace-untrusted",60354),workspaceUnspecified:A("workspace-unspecified",60355),terminalCmd:A("terminal-cmd",60356),terminalDebian:A("terminal-debian",60357),terminalLinux:A("terminal-linux",60358),terminalPowershell:A("terminal-powershell",60359),terminalTmux:A("terminal-tmux",60360),terminalUbuntu:A("terminal-ubuntu",60361),terminalBash:A("terminal-bash",60362),arrowSwap:A("arrow-swap",60363),copy:A("copy",60364),personAdd:A("person-add",60365),filterFilled:A("filter-filled",60366),wand:A("wand",60367),debugLineByLine:A("debug-line-by-line",60368),inspect:A("inspect",60369),layers:A("layers",60370),layersDot:A("layers-dot",60371),layersActive:A("layers-active",60372),compass:A("compass",60373),compassDot:A("compass-dot",60374),compassActive:A("compass-active",60375),azure:A("azure",60376),issueDraft:A("issue-draft",60377),gitPullRequestClosed:A("git-pull-request-closed",60378),gitPullRequestDraft:A("git-pull-request-draft",60379),debugAll:A("debug-all",60380),debugCoverage:A("debug-coverage",60381),runErrors:A("run-errors",60382),folderLibrary:A("folder-library",60383),debugContinueSmall:A("debug-continue-small",60384),beakerStop:A("beaker-stop",60385),graphLine:A("graph-line",60386),graphScatter:A("graph-scatter",60387),pieChart:A("pie-chart",60388),bracketDot:A("bracket-dot",60389),bracketError:A("bracket-error",60390),lockSmall:A("lock-small",60391),azureDevops:A("azure-devops",60392),verifiedFilled:A("verified-filled",60393),newLine:A("newline",60394),layout:A("layout",60395),layoutActivitybarLeft:A("layout-activitybar-left",60396),layoutActivitybarRight:A("layout-activitybar-right",60397),layoutPanelLeft:A("layout-panel-left",60398),layoutPanelCenter:A("layout-panel-center",60399),layoutPanelJustify:A("layout-panel-justify",60400),layoutPanelRight:A("layout-panel-right",60401),layoutPanel:A("layout-panel",60402),layoutSidebarLeft:A("layout-sidebar-left",60403),layoutSidebarRight:A("layout-sidebar-right",60404),layoutStatusbar:A("layout-statusbar",60405),layoutMenubar:A("layout-menubar",60406),layoutCentered:A("layout-centered",60407),layoutSidebarRightOff:A("layout-sidebar-right-off",60416),layoutPanelOff:A("layout-panel-off",60417),layoutSidebarLeftOff:A("layout-sidebar-left-off",60418),target:A("target",60408),indent:A("indent",60409),recordSmall:A("record-small",60410),errorSmall:A("error-small",60411),arrowCircleDown:A("arrow-circle-down",60412),arrowCircleLeft:A("arrow-circle-left",60413),arrowCircleRight:A("arrow-circle-right",60414),arrowCircleUp:A("arrow-circle-up",60415),heartFilled:A("heart-filled",60420),map:A("map",60421),mapFilled:A("map-filled",60422),circleSmall:A("circle-small",60423),bellSlash:A("bell-slash",60424),bellSlashDot:A("bell-slash-dot",60425),commentUnresolved:A("comment-unresolved",60426),gitPullRequestGoToChanges:A("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:A("git-pull-request-new-changes",60428),searchFuzzy:A("search-fuzzy",60429),commentDraft:A("comment-draft",60430),send:A("send",60431),sparkle:A("sparkle",60432),insert:A("insert",60433),mic:A("mic",60434),thumbsDownFilled:A("thumbsdown-filled",60435),thumbsUpFilled:A("thumbsup-filled",60436),coffee:A("coffee",60437),snake:A("snake",60438),game:A("game",60439),vr:A("vr",60440),chip:A("chip",60441),piano:A("piano",60442),music:A("music",60443),micFilled:A("mic-filled",60444),gitFetch:A("git-fetch",60445),copilot:A("copilot",60446),lightbulbSparkle:A("lightbulb-sparkle",60447),lightbulbSparkleAutofix:A("lightbulb-sparkle-autofix",60447),robot:A("robot",60448),sparkleFilled:A("sparkle-filled",60449),diffSingle:A("diff-single",60450),diffMultiple:A("diff-multiple",60451),surroundWith:A("surround-with",60452),gitStash:A("git-stash",60454),gitStashApply:A("git-stash-apply",60455),gitStashPop:A("git-stash-pop",60456),dialogError:A("dialog-error","error"),dialogWarning:A("dialog-warning","warning"),dialogInfo:A("dialog-info","info"),dialogClose:A("dialog-close","close"),treeItemExpanded:A("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:A("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:A("tree-filter-on-type-off","list-selection"),treeFilterClear:A("tree-filter-clear","close"),treeItemLoading:A("tree-item-loading","loading"),menuSelection:A("menu-selection","check"),menuSubmenu:A("menu-submenu","chevron-right"),menuBarMore:A("menubar-more","more"),scrollbarButtonLeft:A("scrollbar-button-left","triangle-left"),scrollbarButtonRight:A("scrollbar-button-right","triangle-right"),scrollbarButtonUp:A("scrollbar-button-up","triangle-up"),scrollbarButtonDown:A("scrollbar-button-down","triangle-down"),toolBarMore:A("toolbar-more","more"),quickInputBack:A("quick-input-back","arrow-left")};let PLe=class{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new ne,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._tokenizationSupports.set(e,t),this.handleChange([e]),at(()=>{this._tokenizationSupports.get(e)===t&&(this._tokenizationSupports.delete(e),this.handleChange([e]))})}get(e){return this._tokenizationSupports.get(e)||null}registerFactory(e,t){var i;(i=this._factories.get(e))===null||i===void 0||i.dispose();const r=new MLe(this,e,t);return this._factories.set(e,r),at(()=>{const o=this._factories.get(e);!o||o!==r||(this._factories.delete(e),o.dispose())})}async getOrCreate(e){const t=this.get(e);if(t)return t;const i=this._factories.get(e);return!i||i.isResolved?null:(await i.resolve(),this.get(e))}isResolved(e){if(this.get(e))return!0;const i=this._factories.get(e);return!!(!i||i.isResolved)}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}};class MLe extends ce{get isResolved(){return this._isResolved}constructor(e,t,i){super(),this._registry=e,this._languageId=t,this._factory=i,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}async resolve(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise}async _create(){const e=await this._factory.tokenizationSupport;this._isResolved=!0,e&&!this._isDisposed&&this._register(this._registry.register(this._languageId,e))}}let F1=class{constructor(e,t,i){this.offset=e,this.type=t,this.language=i,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}};class QW{constructor(e,t){this.tokens=e,this.endState=t,this._tokenizationResultBrand=void 0}}class _P{constructor(e,t){this.tokens=e,this.endState=t,this._encodedTokenizationResultBrand=void 0}}var B1;(function(n){const e=new Map;e.set(0,Ae.symbolMethod),e.set(1,Ae.symbolFunction),e.set(2,Ae.symbolConstructor),e.set(3,Ae.symbolField),e.set(4,Ae.symbolVariable),e.set(5,Ae.symbolClass),e.set(6,Ae.symbolStruct),e.set(7,Ae.symbolInterface),e.set(8,Ae.symbolModule),e.set(9,Ae.symbolProperty),e.set(10,Ae.symbolEvent),e.set(11,Ae.symbolOperator),e.set(12,Ae.symbolUnit),e.set(13,Ae.symbolValue),e.set(15,Ae.symbolEnum),e.set(14,Ae.symbolConstant),e.set(15,Ae.symbolEnum),e.set(16,Ae.symbolEnumMember),e.set(17,Ae.symbolKeyword),e.set(27,Ae.symbolSnippet),e.set(18,Ae.symbolText),e.set(19,Ae.symbolColor),e.set(20,Ae.symbolFile),e.set(21,Ae.symbolReference),e.set(22,Ae.symbolCustomColor),e.set(23,Ae.symbolFolder),e.set(24,Ae.symbolTypeParameter),e.set(25,Ae.account),e.set(26,Ae.issues);function t(o){let s=e.get(o);return s||(console.info("No codicon found for CompletionItemKind "+o),s=Ae.symbolProperty),s}n.toIcon=t;const i=new Map;i.set("method",0),i.set("function",1),i.set("constructor",2),i.set("field",3),i.set("variable",4),i.set("class",5),i.set("struct",6),i.set("interface",7),i.set("module",8),i.set("property",9),i.set("event",10),i.set("operator",11),i.set("unit",12),i.set("value",13),i.set("constant",14),i.set("enum",15),i.set("enum-member",16),i.set("enumMember",16),i.set("keyword",17),i.set("snippet",27),i.set("text",18),i.set("color",19),i.set("file",20),i.set("reference",21),i.set("customcolor",22),i.set("folder",23),i.set("type-parameter",24),i.set("typeParameter",24),i.set("account",25),i.set("issue",26);function r(o,s){let a=i.get(o);return typeof a>"u"&&!s&&(a=9),a}n.fromString=r})(B1||(B1={}));var fh;(function(n){n[n.Automatic=0]="Automatic",n[n.Explicit=1]="Explicit"})(fh||(fh={}));class zse{constructor(e,t,i,r){this.range=e,this.text=t,this.completionKind=i,this.isSnippetText=r}equals(e){return B.lift(this.range).equalsRange(e.range)&&this.text===e.text&&this.completionKind===e.completionKind&&this.isSnippetText===e.isSnippetText}}var Qd;(function(n){n[n.Invoke=1]="Invoke",n[n.TriggerCharacter=2]="TriggerCharacter",n[n.ContentChange=3]="ContentChange"})(Qd||(Qd={}));var W1;(function(n){n[n.Text=0]="Text",n[n.Read=1]="Read",n[n.Write=2]="Write"})(W1||(W1={}));function RLe(n){return n&&rt.isUri(n.uri)&&B.isIRange(n.range)&&(B.isIRange(n.originSelectionRange)||B.isIRange(n.targetSelectionRange))}const ALe={17:w("Array","array"),16:w("Boolean","boolean"),4:w("Class","class"),13:w("Constant","constant"),8:w("Constructor","constructor"),9:w("Enum","enumeration"),21:w("EnumMember","enumeration member"),23:w("Event","event"),7:w("Field","field"),0:w("File","file"),11:w("Function","function"),10:w("Interface","interface"),19:w("Key","key"),5:w("Method","method"),1:w("Module","module"),2:w("Namespace","namespace"),20:w("Null","null"),15:w("Number","number"),18:w("Object","object"),24:w("Operator","operator"),3:w("Package","package"),6:w("Property","property"),14:w("String","string"),22:w("Struct","struct"),25:w("TypeParameter","type parameter"),12:w("Variable","variable")};function OLe(n,e){return w("symbolAriaLabel","{0} ({1})",n,ALe[e])}var AE;(function(n){const e=new Map;e.set(0,Ae.symbolFile),e.set(1,Ae.symbolModule),e.set(2,Ae.symbolNamespace),e.set(3,Ae.symbolPackage),e.set(4,Ae.symbolClass),e.set(5,Ae.symbolMethod),e.set(6,Ae.symbolProperty),e.set(7,Ae.symbolField),e.set(8,Ae.symbolConstructor),e.set(9,Ae.symbolEnum),e.set(10,Ae.symbolInterface),e.set(11,Ae.symbolFunction),e.set(12,Ae.symbolVariable),e.set(13,Ae.symbolConstant),e.set(14,Ae.symbolString),e.set(15,Ae.symbolNumber),e.set(16,Ae.symbolBoolean),e.set(17,Ae.symbolArray),e.set(18,Ae.symbolObject),e.set(19,Ae.symbolKey),e.set(20,Ae.symbolNull),e.set(21,Ae.symbolEnumMember),e.set(22,Ae.symbolStruct),e.set(23,Ae.symbolEvent),e.set(24,Ae.symbolOperator),e.set(25,Ae.symbolTypeParameter);function t(i){let r=e.get(i);return r||(console.info("No codicon found for SymbolKind "+i),r=Ae.symbolProperty),r}n.toIcon=t})(AE||(AE={}));class Bo{static fromValue(e){switch(e){case"comment":return Bo.Comment;case"imports":return Bo.Imports;case"region":return Bo.Region}return new Bo(e)}constructor(e){this.value=e}}Bo.Comment=new Bo("comment");Bo.Imports=new Bo("imports");Bo.Region=new Bo("region");var R4;(function(n){function e(t){return!t||typeof t!="object"?!1:typeof t.id=="string"&&typeof t.title=="string"}n.is=e})(R4||(R4={}));var OE;(function(n){n[n.Type=1]="Type",n[n.Parameter=2]="Parameter"})(OE||(OE={}));class FLe{constructor(e){this.createSupport=e,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(e=>{e&&e.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}const ln=new PLe;var A4;(function(n){n[n.Unknown=0]="Unknown",n[n.Disabled=1]="Disabled",n[n.Enabled=2]="Enabled"})(A4||(A4={}));var O4;(function(n){n[n.Invoke=1]="Invoke",n[n.Auto=2]="Auto"})(O4||(O4={}));var F4;(function(n){n[n.None=0]="None",n[n.KeepWhitespace=1]="KeepWhitespace",n[n.InsertAsSnippet=4]="InsertAsSnippet"})(F4||(F4={}));var B4;(function(n){n[n.Method=0]="Method",n[n.Function=1]="Function",n[n.Constructor=2]="Constructor",n[n.Field=3]="Field",n[n.Variable=4]="Variable",n[n.Class=5]="Class",n[n.Struct=6]="Struct",n[n.Interface=7]="Interface",n[n.Module=8]="Module",n[n.Property=9]="Property",n[n.Event=10]="Event",n[n.Operator=11]="Operator",n[n.Unit=12]="Unit",n[n.Value=13]="Value",n[n.Constant=14]="Constant",n[n.Enum=15]="Enum",n[n.EnumMember=16]="EnumMember",n[n.Keyword=17]="Keyword",n[n.Text=18]="Text",n[n.Color=19]="Color",n[n.File=20]="File",n[n.Reference=21]="Reference",n[n.Customcolor=22]="Customcolor",n[n.Folder=23]="Folder",n[n.TypeParameter=24]="TypeParameter",n[n.User=25]="User",n[n.Issue=26]="Issue",n[n.Snippet=27]="Snippet"})(B4||(B4={}));var W4;(function(n){n[n.Deprecated=1]="Deprecated"})(W4||(W4={}));var V4;(function(n){n[n.Invoke=0]="Invoke",n[n.TriggerCharacter=1]="TriggerCharacter",n[n.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(V4||(V4={}));var H4;(function(n){n[n.EXACT=0]="EXACT",n[n.ABOVE=1]="ABOVE",n[n.BELOW=2]="BELOW"})(H4||(H4={}));var z4;(function(n){n[n.NotSet=0]="NotSet",n[n.ContentFlush=1]="ContentFlush",n[n.RecoverFromMarkers=2]="RecoverFromMarkers",n[n.Explicit=3]="Explicit",n[n.Paste=4]="Paste",n[n.Undo=5]="Undo",n[n.Redo=6]="Redo"})(z4||(z4={}));var j4;(function(n){n[n.LF=1]="LF",n[n.CRLF=2]="CRLF"})(j4||(j4={}));var U4;(function(n){n[n.Text=0]="Text",n[n.Read=1]="Read",n[n.Write=2]="Write"})(U4||(U4={}));var $4;(function(n){n[n.None=0]="None",n[n.Keep=1]="Keep",n[n.Brackets=2]="Brackets",n[n.Advanced=3]="Advanced",n[n.Full=4]="Full"})($4||($4={}));var q4;(function(n){n[n.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",n[n.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",n[n.accessibilitySupport=2]="accessibilitySupport",n[n.accessibilityPageSize=3]="accessibilityPageSize",n[n.ariaLabel=4]="ariaLabel",n[n.ariaRequired=5]="ariaRequired",n[n.autoClosingBrackets=6]="autoClosingBrackets",n[n.autoClosingComments=7]="autoClosingComments",n[n.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",n[n.autoClosingDelete=9]="autoClosingDelete",n[n.autoClosingOvertype=10]="autoClosingOvertype",n[n.autoClosingQuotes=11]="autoClosingQuotes",n[n.autoIndent=12]="autoIndent",n[n.automaticLayout=13]="automaticLayout",n[n.autoSurround=14]="autoSurround",n[n.bracketPairColorization=15]="bracketPairColorization",n[n.guides=16]="guides",n[n.codeLens=17]="codeLens",n[n.codeLensFontFamily=18]="codeLensFontFamily",n[n.codeLensFontSize=19]="codeLensFontSize",n[n.colorDecorators=20]="colorDecorators",n[n.colorDecoratorsLimit=21]="colorDecoratorsLimit",n[n.columnSelection=22]="columnSelection",n[n.comments=23]="comments",n[n.contextmenu=24]="contextmenu",n[n.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",n[n.cursorBlinking=26]="cursorBlinking",n[n.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",n[n.cursorStyle=28]="cursorStyle",n[n.cursorSurroundingLines=29]="cursorSurroundingLines",n[n.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",n[n.cursorWidth=31]="cursorWidth",n[n.disableLayerHinting=32]="disableLayerHinting",n[n.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",n[n.domReadOnly=34]="domReadOnly",n[n.dragAndDrop=35]="dragAndDrop",n[n.dropIntoEditor=36]="dropIntoEditor",n[n.emptySelectionClipboard=37]="emptySelectionClipboard",n[n.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",n[n.extraEditorClassName=39]="extraEditorClassName",n[n.fastScrollSensitivity=40]="fastScrollSensitivity",n[n.find=41]="find",n[n.fixedOverflowWidgets=42]="fixedOverflowWidgets",n[n.folding=43]="folding",n[n.foldingStrategy=44]="foldingStrategy",n[n.foldingHighlight=45]="foldingHighlight",n[n.foldingImportsByDefault=46]="foldingImportsByDefault",n[n.foldingMaximumRegions=47]="foldingMaximumRegions",n[n.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",n[n.fontFamily=49]="fontFamily",n[n.fontInfo=50]="fontInfo",n[n.fontLigatures=51]="fontLigatures",n[n.fontSize=52]="fontSize",n[n.fontWeight=53]="fontWeight",n[n.fontVariations=54]="fontVariations",n[n.formatOnPaste=55]="formatOnPaste",n[n.formatOnType=56]="formatOnType",n[n.glyphMargin=57]="glyphMargin",n[n.gotoLocation=58]="gotoLocation",n[n.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",n[n.hover=60]="hover",n[n.inDiffEditor=61]="inDiffEditor",n[n.inlineSuggest=62]="inlineSuggest",n[n.letterSpacing=63]="letterSpacing",n[n.lightbulb=64]="lightbulb",n[n.lineDecorationsWidth=65]="lineDecorationsWidth",n[n.lineHeight=66]="lineHeight",n[n.lineNumbers=67]="lineNumbers",n[n.lineNumbersMinChars=68]="lineNumbersMinChars",n[n.linkedEditing=69]="linkedEditing",n[n.links=70]="links",n[n.matchBrackets=71]="matchBrackets",n[n.minimap=72]="minimap",n[n.mouseStyle=73]="mouseStyle",n[n.mouseWheelScrollSensitivity=74]="mouseWheelScrollSensitivity",n[n.mouseWheelZoom=75]="mouseWheelZoom",n[n.multiCursorMergeOverlapping=76]="multiCursorMergeOverlapping",n[n.multiCursorModifier=77]="multiCursorModifier",n[n.multiCursorPaste=78]="multiCursorPaste",n[n.multiCursorLimit=79]="multiCursorLimit",n[n.occurrencesHighlight=80]="occurrencesHighlight",n[n.overviewRulerBorder=81]="overviewRulerBorder",n[n.overviewRulerLanes=82]="overviewRulerLanes",n[n.padding=83]="padding",n[n.pasteAs=84]="pasteAs",n[n.parameterHints=85]="parameterHints",n[n.peekWidgetDefaultFocus=86]="peekWidgetDefaultFocus",n[n.definitionLinkOpensInPeek=87]="definitionLinkOpensInPeek",n[n.quickSuggestions=88]="quickSuggestions",n[n.quickSuggestionsDelay=89]="quickSuggestionsDelay",n[n.readOnly=90]="readOnly",n[n.readOnlyMessage=91]="readOnlyMessage",n[n.renameOnType=92]="renameOnType",n[n.renderControlCharacters=93]="renderControlCharacters",n[n.renderFinalNewline=94]="renderFinalNewline",n[n.renderLineHighlight=95]="renderLineHighlight",n[n.renderLineHighlightOnlyWhenFocus=96]="renderLineHighlightOnlyWhenFocus",n[n.renderValidationDecorations=97]="renderValidationDecorations",n[n.renderWhitespace=98]="renderWhitespace",n[n.revealHorizontalRightPadding=99]="revealHorizontalRightPadding",n[n.roundedSelection=100]="roundedSelection",n[n.rulers=101]="rulers",n[n.scrollbar=102]="scrollbar",n[n.scrollBeyondLastColumn=103]="scrollBeyondLastColumn",n[n.scrollBeyondLastLine=104]="scrollBeyondLastLine",n[n.scrollPredominantAxis=105]="scrollPredominantAxis",n[n.selectionClipboard=106]="selectionClipboard",n[n.selectionHighlight=107]="selectionHighlight",n[n.selectOnLineNumbers=108]="selectOnLineNumbers",n[n.showFoldingControls=109]="showFoldingControls",n[n.showUnused=110]="showUnused",n[n.snippetSuggestions=111]="snippetSuggestions",n[n.smartSelect=112]="smartSelect",n[n.smoothScrolling=113]="smoothScrolling",n[n.stickyScroll=114]="stickyScroll",n[n.stickyTabStops=115]="stickyTabStops",n[n.stopRenderingLineAfter=116]="stopRenderingLineAfter",n[n.suggest=117]="suggest",n[n.suggestFontSize=118]="suggestFontSize",n[n.suggestLineHeight=119]="suggestLineHeight",n[n.suggestOnTriggerCharacters=120]="suggestOnTriggerCharacters",n[n.suggestSelection=121]="suggestSelection",n[n.tabCompletion=122]="tabCompletion",n[n.tabIndex=123]="tabIndex",n[n.unicodeHighlighting=124]="unicodeHighlighting",n[n.unusualLineTerminators=125]="unusualLineTerminators",n[n.useShadowDOM=126]="useShadowDOM",n[n.useTabStops=127]="useTabStops",n[n.wordBreak=128]="wordBreak",n[n.wordSeparators=129]="wordSeparators",n[n.wordWrap=130]="wordWrap",n[n.wordWrapBreakAfterCharacters=131]="wordWrapBreakAfterCharacters",n[n.wordWrapBreakBeforeCharacters=132]="wordWrapBreakBeforeCharacters",n[n.wordWrapColumn=133]="wordWrapColumn",n[n.wordWrapOverride1=134]="wordWrapOverride1",n[n.wordWrapOverride2=135]="wordWrapOverride2",n[n.wrappingIndent=136]="wrappingIndent",n[n.wrappingStrategy=137]="wrappingStrategy",n[n.showDeprecated=138]="showDeprecated",n[n.inlayHints=139]="inlayHints",n[n.editorClassName=140]="editorClassName",n[n.pixelRatio=141]="pixelRatio",n[n.tabFocusMode=142]="tabFocusMode",n[n.layoutInfo=143]="layoutInfo",n[n.wrappingInfo=144]="wrappingInfo",n[n.defaultColorDecorators=145]="defaultColorDecorators",n[n.colorDecoratorsActivatedOn=146]="colorDecoratorsActivatedOn",n[n.inlineCompletionsAccessibilityVerbose=147]="inlineCompletionsAccessibilityVerbose"})(q4||(q4={}));var K4;(function(n){n[n.TextDefined=0]="TextDefined",n[n.LF=1]="LF",n[n.CRLF=2]="CRLF"})(K4||(K4={}));var G4;(function(n){n[n.LF=0]="LF",n[n.CRLF=1]="CRLF"})(G4||(G4={}));var Z4;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=3]="Right"})(Z4||(Z4={}));var Y4;(function(n){n[n.None=0]="None",n[n.Indent=1]="Indent",n[n.IndentOutdent=2]="IndentOutdent",n[n.Outdent=3]="Outdent"})(Y4||(Y4={}));var X4;(function(n){n[n.Both=0]="Both",n[n.Right=1]="Right",n[n.Left=2]="Left",n[n.None=3]="None"})(X4||(X4={}));var Q4;(function(n){n[n.Type=1]="Type",n[n.Parameter=2]="Parameter"})(Q4||(Q4={}));var J4;(function(n){n[n.Automatic=0]="Automatic",n[n.Explicit=1]="Explicit"})(J4||(J4={}));var eF;(function(n){n[n.DependsOnKbLayout=-1]="DependsOnKbLayout",n[n.Unknown=0]="Unknown",n[n.Backspace=1]="Backspace",n[n.Tab=2]="Tab",n[n.Enter=3]="Enter",n[n.Shift=4]="Shift",n[n.Ctrl=5]="Ctrl",n[n.Alt=6]="Alt",n[n.PauseBreak=7]="PauseBreak",n[n.CapsLock=8]="CapsLock",n[n.Escape=9]="Escape",n[n.Space=10]="Space",n[n.PageUp=11]="PageUp",n[n.PageDown=12]="PageDown",n[n.End=13]="End",n[n.Home=14]="Home",n[n.LeftArrow=15]="LeftArrow",n[n.UpArrow=16]="UpArrow",n[n.RightArrow=17]="RightArrow",n[n.DownArrow=18]="DownArrow",n[n.Insert=19]="Insert",n[n.Delete=20]="Delete",n[n.Digit0=21]="Digit0",n[n.Digit1=22]="Digit1",n[n.Digit2=23]="Digit2",n[n.Digit3=24]="Digit3",n[n.Digit4=25]="Digit4",n[n.Digit5=26]="Digit5",n[n.Digit6=27]="Digit6",n[n.Digit7=28]="Digit7",n[n.Digit8=29]="Digit8",n[n.Digit9=30]="Digit9",n[n.KeyA=31]="KeyA",n[n.KeyB=32]="KeyB",n[n.KeyC=33]="KeyC",n[n.KeyD=34]="KeyD",n[n.KeyE=35]="KeyE",n[n.KeyF=36]="KeyF",n[n.KeyG=37]="KeyG",n[n.KeyH=38]="KeyH",n[n.KeyI=39]="KeyI",n[n.KeyJ=40]="KeyJ",n[n.KeyK=41]="KeyK",n[n.KeyL=42]="KeyL",n[n.KeyM=43]="KeyM",n[n.KeyN=44]="KeyN",n[n.KeyO=45]="KeyO",n[n.KeyP=46]="KeyP",n[n.KeyQ=47]="KeyQ",n[n.KeyR=48]="KeyR",n[n.KeyS=49]="KeyS",n[n.KeyT=50]="KeyT",n[n.KeyU=51]="KeyU",n[n.KeyV=52]="KeyV",n[n.KeyW=53]="KeyW",n[n.KeyX=54]="KeyX",n[n.KeyY=55]="KeyY",n[n.KeyZ=56]="KeyZ",n[n.Meta=57]="Meta",n[n.ContextMenu=58]="ContextMenu",n[n.F1=59]="F1",n[n.F2=60]="F2",n[n.F3=61]="F3",n[n.F4=62]="F4",n[n.F5=63]="F5",n[n.F6=64]="F6",n[n.F7=65]="F7",n[n.F8=66]="F8",n[n.F9=67]="F9",n[n.F10=68]="F10",n[n.F11=69]="F11",n[n.F12=70]="F12",n[n.F13=71]="F13",n[n.F14=72]="F14",n[n.F15=73]="F15",n[n.F16=74]="F16",n[n.F17=75]="F17",n[n.F18=76]="F18",n[n.F19=77]="F19",n[n.F20=78]="F20",n[n.F21=79]="F21",n[n.F22=80]="F22",n[n.F23=81]="F23",n[n.F24=82]="F24",n[n.NumLock=83]="NumLock",n[n.ScrollLock=84]="ScrollLock",n[n.Semicolon=85]="Semicolon",n[n.Equal=86]="Equal",n[n.Comma=87]="Comma",n[n.Minus=88]="Minus",n[n.Period=89]="Period",n[n.Slash=90]="Slash",n[n.Backquote=91]="Backquote",n[n.BracketLeft=92]="BracketLeft",n[n.Backslash=93]="Backslash",n[n.BracketRight=94]="BracketRight",n[n.Quote=95]="Quote",n[n.OEM_8=96]="OEM_8",n[n.IntlBackslash=97]="IntlBackslash",n[n.Numpad0=98]="Numpad0",n[n.Numpad1=99]="Numpad1",n[n.Numpad2=100]="Numpad2",n[n.Numpad3=101]="Numpad3",n[n.Numpad4=102]="Numpad4",n[n.Numpad5=103]="Numpad5",n[n.Numpad6=104]="Numpad6",n[n.Numpad7=105]="Numpad7",n[n.Numpad8=106]="Numpad8",n[n.Numpad9=107]="Numpad9",n[n.NumpadMultiply=108]="NumpadMultiply",n[n.NumpadAdd=109]="NumpadAdd",n[n.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",n[n.NumpadSubtract=111]="NumpadSubtract",n[n.NumpadDecimal=112]="NumpadDecimal",n[n.NumpadDivide=113]="NumpadDivide",n[n.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",n[n.ABNT_C1=115]="ABNT_C1",n[n.ABNT_C2=116]="ABNT_C2",n[n.AudioVolumeMute=117]="AudioVolumeMute",n[n.AudioVolumeUp=118]="AudioVolumeUp",n[n.AudioVolumeDown=119]="AudioVolumeDown",n[n.BrowserSearch=120]="BrowserSearch",n[n.BrowserHome=121]="BrowserHome",n[n.BrowserBack=122]="BrowserBack",n[n.BrowserForward=123]="BrowserForward",n[n.MediaTrackNext=124]="MediaTrackNext",n[n.MediaTrackPrevious=125]="MediaTrackPrevious",n[n.MediaStop=126]="MediaStop",n[n.MediaPlayPause=127]="MediaPlayPause",n[n.LaunchMediaPlayer=128]="LaunchMediaPlayer",n[n.LaunchMail=129]="LaunchMail",n[n.LaunchApp2=130]="LaunchApp2",n[n.Clear=131]="Clear",n[n.MAX_VALUE=132]="MAX_VALUE"})(eF||(eF={}));var tF;(function(n){n[n.Hint=1]="Hint",n[n.Info=2]="Info",n[n.Warning=4]="Warning",n[n.Error=8]="Error"})(tF||(tF={}));var iF;(function(n){n[n.Unnecessary=1]="Unnecessary",n[n.Deprecated=2]="Deprecated"})(iF||(iF={}));var nF;(function(n){n[n.Inline=1]="Inline",n[n.Gutter=2]="Gutter"})(nF||(nF={}));var rF;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.TEXTAREA=1]="TEXTAREA",n[n.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",n[n.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",n[n.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",n[n.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",n[n.CONTENT_TEXT=6]="CONTENT_TEXT",n[n.CONTENT_EMPTY=7]="CONTENT_EMPTY",n[n.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",n[n.CONTENT_WIDGET=9]="CONTENT_WIDGET",n[n.OVERVIEW_RULER=10]="OVERVIEW_RULER",n[n.SCROLLBAR=11]="SCROLLBAR",n[n.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",n[n.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(rF||(rF={}));var oF;(function(n){n[n.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",n[n.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",n[n.TOP_CENTER=2]="TOP_CENTER"})(oF||(oF={}));var sF;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(sF||(sF={}));var aF;(function(n){n[n.Left=0]="Left",n[n.Right=1]="Right",n[n.None=2]="None",n[n.LeftOfInjectedText=3]="LeftOfInjectedText",n[n.RightOfInjectedText=4]="RightOfInjectedText"})(aF||(aF={}));var lF;(function(n){n[n.Off=0]="Off",n[n.On=1]="On",n[n.Relative=2]="Relative",n[n.Interval=3]="Interval",n[n.Custom=4]="Custom"})(lF||(lF={}));var cF;(function(n){n[n.None=0]="None",n[n.Text=1]="Text",n[n.Blocks=2]="Blocks"})(cF||(cF={}));var dF;(function(n){n[n.Smooth=0]="Smooth",n[n.Immediate=1]="Immediate"})(dF||(dF={}));var uF;(function(n){n[n.Auto=1]="Auto",n[n.Hidden=2]="Hidden",n[n.Visible=3]="Visible"})(uF||(uF={}));var hF;(function(n){n[n.LTR=0]="LTR",n[n.RTL=1]="RTL"})(hF||(hF={}));var fF;(function(n){n.Off="off",n.OnCode="onCode",n.On="on"})(fF||(fF={}));var gF;(function(n){n[n.Invoke=1]="Invoke",n[n.TriggerCharacter=2]="TriggerCharacter",n[n.ContentChange=3]="ContentChange"})(gF||(gF={}));var pF;(function(n){n[n.File=0]="File",n[n.Module=1]="Module",n[n.Namespace=2]="Namespace",n[n.Package=3]="Package",n[n.Class=4]="Class",n[n.Method=5]="Method",n[n.Property=6]="Property",n[n.Field=7]="Field",n[n.Constructor=8]="Constructor",n[n.Enum=9]="Enum",n[n.Interface=10]="Interface",n[n.Function=11]="Function",n[n.Variable=12]="Variable",n[n.Constant=13]="Constant",n[n.String=14]="String",n[n.Number=15]="Number",n[n.Boolean=16]="Boolean",n[n.Array=17]="Array",n[n.Object=18]="Object",n[n.Key=19]="Key",n[n.Null=20]="Null",n[n.EnumMember=21]="EnumMember",n[n.Struct=22]="Struct",n[n.Event=23]="Event",n[n.Operator=24]="Operator",n[n.TypeParameter=25]="TypeParameter"})(pF||(pF={}));var mF;(function(n){n[n.Deprecated=1]="Deprecated"})(mF||(mF={}));var _F;(function(n){n[n.Hidden=0]="Hidden",n[n.Blink=1]="Blink",n[n.Smooth=2]="Smooth",n[n.Phase=3]="Phase",n[n.Expand=4]="Expand",n[n.Solid=5]="Solid"})(_F||(_F={}));var vF;(function(n){n[n.Line=1]="Line",n[n.Block=2]="Block",n[n.Underline=3]="Underline",n[n.LineThin=4]="LineThin",n[n.BlockOutline=5]="BlockOutline",n[n.UnderlineThin=6]="UnderlineThin"})(vF||(vF={}));var bF;(function(n){n[n.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",n[n.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",n[n.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",n[n.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(bF||(bF={}));var yF;(function(n){n[n.None=0]="None",n[n.Same=1]="Same",n[n.Indent=2]="Indent",n[n.DeepIndent=3]="DeepIndent"})(yF||(yF={}));let Px=class{static chord(e,t){return Yn(e,t)}};Px.CtrlCmd=2048;Px.Shift=1024;Px.Alt=512;Px.WinCtrl=256;function jse(){return{editor:void 0,languages:void 0,CancellationTokenSource:Pn,Emitter:ne,KeyCode:eF,KeyMod:Px,Position:re,Range:B,Selection:Ke,SelectionDirection:hF,MarkerSeverity:tF,MarkerTag:iF,Uri:rt,Token:F1}}function BLe(n,e){const t=n;typeof t.vscodeWindowId!="number"&&Object.defineProperty(t,"vscodeWindowId",{get:()=>e})}const wi=window,_b=wi;class WLe{constructor(e){this.fn=e,this.lastCache=void 0,this.lastArgKey=void 0}get(e){const t=JSON.stringify(e);return this.lastArgKey!==t&&(this.lastArgKey=t,this.lastCache=this.fn(e)),this.lastCache}}class wq{get cachedValues(){return this._map}constructor(e){this.fn=e,this._map=new Map}get(e){if(this._map.has(e))return this._map.get(e);const t=this.fn(e);return this._map.set(e,t),t}}class up{constructor(e){this.executor=e,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}var vb;function Use(n){return!n||typeof n!="string"?!0:n.trim().length===0}const VLe=/{(\d+)}/g;function zm(n,...e){return e.length===0?n:n.replace(VLe,function(t,i){const r=parseInt(i,10);return isNaN(r)||r<0||r>=e.length?t:e[r]})}function HLe(n){return n.replace(/[<>"'&]/g,e=>{switch(e){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return e})}function FE(n){return n.replace(/[<>&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function xa(n){return n.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function zLe(n,e=" "){const t=Mx(n,e);return $se(t,e)}function Mx(n,e){if(!n||!e)return n;const t=e.length;if(t===0||n.length===0)return n;let i=0;for(;n.indexOf(e,i)===i;)i=i+t;return n.substring(i)}function $se(n,e){if(!n||!e)return n;const t=e.length,i=n.length;if(t===0||i===0)return n;let r=i,o=-1;for(;o=n.lastIndexOf(e,r-1),!(o===-1||o+t!==r);){if(o===0)return"";r=o}return n.substring(0,r)}function jLe(n){return n.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function ULe(n){return n.replace(/\*/g,"")}function qse(n,e,t={}){if(!n)throw new Error("Cannot create regex from empty string");e||(n=xa(n)),t.wholeWord&&(/\B/.test(n.charAt(0))||(n="\\b"+n),/\B/.test(n.charAt(n.length-1))||(n=n+"\\b"));let i="";return t.global&&(i+="g"),t.matchCase||(i+="i"),t.multiline&&(i+="m"),t.unicode&&(i+="u"),new RegExp(n,i)}function $Le(n){return n.source==="^"||n.source==="^$"||n.source==="$"||n.source==="^\\s*$"?!1:!!(n.exec("")&&n.lastIndex===0)}function su(n){return n.split(/\r\n|\r|\n/)}function xo(n){for(let e=0,t=n.length;e<t;e++){const i=n.charCodeAt(e);if(i!==32&&i!==9)return e}return-1}function Ti(n,e=0,t=n.length){for(let i=e;i<t;i++){const r=n.charCodeAt(i);if(r!==32&&r!==9)return n.substring(e,i)}return n.substring(e,t)}function Ac(n,e=n.length-1){for(let t=e;t>=0;t--){const i=n.charCodeAt(t);if(i!==32&&i!==9)return t}return-1}function V1(n,e){return n<e?-1:n>e?1:0}function JW(n,e,t=0,i=n.length,r=0,o=e.length){for(;t<i&&r<o;t++,r++){const l=n.charCodeAt(t),c=e.charCodeAt(r);if(l<c)return-1;if(l>c)return 1}const s=i-t,a=o-r;return s<a?-1:s>a?1:0}function CF(n,e){return Rx(n,e,0,n.length,0,e.length)}function Rx(n,e,t=0,i=n.length,r=0,o=e.length){for(;t<i&&r<o;t++,r++){let l=n.charCodeAt(t),c=e.charCodeAt(r);if(l===c)continue;if(l>=128||c>=128)return JW(n.toLowerCase(),e.toLowerCase(),t,i,r,o);Bf(l)&&(l-=32),Bf(c)&&(c-=32);const d=l-c;if(d!==0)return d}const s=i-t,a=o-r;return s<a?-1:s>a?1:0}function fk(n){return n>=48&&n<=57}function Bf(n){return n>=97&&n<=122}function Sd(n){return n>=65&&n<=90}function G0(n,e){return n.length===e.length&&Rx(n,e)===0}function e6(n,e){const t=e.length;return e.length>n.length?!1:Rx(n,e,0,t)===0}function jm(n,e){const t=Math.min(n.length,e.length);let i;for(i=0;i<t;i++)if(n.charCodeAt(i)!==e.charCodeAt(i))return i;return t}function BE(n,e){const t=Math.min(n.length,e.length);let i;const r=n.length-1,o=e.length-1;for(i=0;i<t;i++)if(n.charCodeAt(r-i)!==e.charCodeAt(o-i))return i;return t}function cr(n){return 55296<=n&&n<=56319}function Um(n){return 56320<=n&&n<=57343}function t6(n,e){return(n-55296<<10)+(e-56320)+65536}function WE(n,e,t){const i=n.charCodeAt(t);if(cr(i)&&t+1<e){const r=n.charCodeAt(t+1);if(Um(r))return t6(i,r)}return i}function qLe(n,e){const t=n.charCodeAt(e-1);if(Um(t)&&e>1){const i=n.charCodeAt(e-2);if(cr(i))return t6(i,t)}return t}class i6{get offset(){return this._offset}constructor(e,t=0){this._str=e,this._len=e.length,this._offset=t}setOffset(e){this._offset=e}prevCodePoint(){const e=qLe(this._str,this._offset);return this._offset-=e>=65536?2:1,e}nextCodePoint(){const e=WE(this._str,this._len,this._offset);return this._offset+=e>=65536?2:1,e}eol(){return this._offset>=this._len}}class VE{get offset(){return this._iterator.offset}constructor(e,t=0){this._iterator=new i6(e,t)}nextGraphemeLength(){const e=Wf.getInstance(),t=this._iterator,i=t.offset;let r=e.getGraphemeBreakType(t.nextCodePoint());for(;!t.eol();){const o=t.offset,s=e.getGraphemeBreakType(t.nextCodePoint());if(Sq(r,s)){t.setOffset(o);break}r=s}return t.offset-i}prevGraphemeLength(){const e=Wf.getInstance(),t=this._iterator,i=t.offset;let r=e.getGraphemeBreakType(t.prevCodePoint());for(;t.offset>0;){const o=t.offset,s=e.getGraphemeBreakType(t.prevCodePoint());if(Sq(s,r)){t.setOffset(o);break}r=s}return i-t.offset}eol(){return this._iterator.eol()}}function n6(n,e){return new VE(n,e).nextGraphemeLength()}function Kse(n,e){return new VE(n,e).prevGraphemeLength()}function KLe(n,e){e>0&&Um(n.charCodeAt(e))&&e--;const t=e+n6(n,e);return[t-Kse(n,t),t]}let uA;function GLe(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function bb(n){return uA||(uA=GLe()),uA.test(n)}const ZLe=/^[\t\n\r\x20-\x7E]*$/;function Ax(n){return ZLe.test(n)}const Gse=/[\u2028\u2029]/;function Zse(n){return Gse.test(n)}function Pg(n){return n>=11904&&n<=55215||n>=63744&&n<=64255||n>=65281&&n<=65374}function r6(n){return n>=127462&&n<=127487||n===8986||n===8987||n===9200||n===9203||n>=9728&&n<=10175||n===11088||n===11093||n>=127744&&n<=128591||n>=128640&&n<=128764||n>=128992&&n<=129008||n>=129280&&n<=129535||n>=129648&&n<=129782}const YLe="\uFEFF";function o6(n){return!!(n&&n.length>0&&n.charCodeAt(0)===65279)}function XLe(n,e=!1){return n?(e&&(n=n.replace(/\\./g,"")),n.toLowerCase()!==n):!1}function Yse(n){return n=n%(2*26),n<26?String.fromCharCode(97+n):String.fromCharCode(65+n-26)}function Sq(n,e){return n===0?e!==5&&e!==7:n===2&&e===3?!1:n===4||n===2||n===3||e===4||e===2||e===3?!0:!(n===8&&(e===8||e===9||e===11||e===12)||(n===11||n===9)&&(e===9||e===10)||(n===12||n===10)&&e===10||e===5||e===13||e===7||n===1||n===13&&e===14||n===6&&e===6)}class Wf{static getInstance(){return Wf._INSTANCE||(Wf._INSTANCE=new Wf),Wf._INSTANCE}constructor(){this._data=QLe()}getGraphemeBreakType(e){if(e<32)return e===10?3:e===13?2:4;if(e<127)return 0;const t=this._data,i=t.length/3;let r=1;for(;r<=i;)if(e<t[3*r])r=2*r;else if(e>t[3*r+1])r=2*r+1;else return t[3*r+2];return 0}}Wf._INSTANCE=null;function QLe(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function JLe(n,e){if(n===0)return 0;const t=eke(n,e);if(t!==void 0)return t;const i=new i6(e,n);return i.prevCodePoint(),i.offset}function eke(n,e){const t=new i6(e,n);let i=t.prevCodePoint();for(;tke(i)||i===65039||i===8419;){if(t.offset===0)return;i=t.prevCodePoint()}if(!r6(i))return;let r=t.offset;return r>0&&t.prevCodePoint()===8205&&(r=t.offset),r}function tke(n){return 127995<=n&&n<=127999}const Xse="";class $m{static getInstance(e){return vb.cache.get(Array.from(e))}static getLocales(){return vb._locales.value}constructor(e){this.confusableDictionary=e}isAmbiguous(e){return this.confusableDictionary.has(e)}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}vb=$m;$m.ambiguousCharacterData=new up(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'));$m.cache=new WLe(n=>{function e(c){const d=new Map;for(let u=0;u<c.length;u+=2)d.set(c[u],c[u+1]);return d}function t(c,d){const u=new Map(c);for(const[h,f]of d)u.set(h,f);return u}function i(c,d){if(!c)return d;const u=new Map;for(const[h,f]of c)d.has(h)&&u.set(h,f);return u}const r=vb.ambiguousCharacterData.value;let o=n.filter(c=>!c.startsWith("_")&&c in r);o.length===0&&(o=["_default"]);let s;for(const c of o){const d=e(r[c]);s=i(s,d)}const a=e(r._common),l=t(a,s);return new vb(l)});$m._locales=new up(()=>Object.keys(vb.ambiguousCharacterData.value).filter(n=>!n.startsWith("_")));class Jd{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(Jd.getRawData())),this._data}static isInvisibleCharacter(e){return Jd.getData().has(e)}static get codePoints(){return Jd.getData()}}Jd._data=void 0;class wF{constructor(){this.mapWindowIdToZoomFactor=new Map}getZoomFactor(e){var t;return(t=this.mapWindowIdToZoomFactor.get(this.getWindowId(e)))!==null&&t!==void 0?t:1}getWindowId(e){return e.vscodeWindowId}}wF.INSTANCE=new wF;class ike extends ce{constructor(){super(),this._onDidChange=this._register(new ne),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(e){var t;(t=this._mediaQueryList)===null||t===void 0||t.removeEventListener("change",this._listener),this._mediaQueryList=_b.matchMedia(`(resolution: ${_b.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),e&&this._onDidChange.fire()}}class nke extends ce{get value(){return this._value}constructor(){super(),this._onDidChange=this._register(new ne),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const e=this._register(new ike);this._register(e.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}_getPixelRatio(){const e=document.createElement("canvas").getContext("2d"),t=_b.devicePixelRatio||1,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/i}}class rke{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=new nke),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function Qse(n,e,t){typeof e=="string"&&(e=n.matchMedia(e)),e.addEventListener("change",t)}const H1=new rke;function oke(n){return wF.INSTANCE.getZoomFactor(n)}const _y=navigator.userAgent,nl=_y.indexOf("Firefox")>=0,ym=_y.indexOf("AppleWebKit")>=0,Cm=_y.indexOf("Chrome")>=0,Th=!Cm&&_y.indexOf("Safari")>=0,Jse=!Cm&&!Th&&ym;_y.indexOf("Electron/")>=0;const xq=_y.indexOf("Android")>=0;let nT=!1;if(typeof wi.matchMedia=="function"){const n=wi.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),e=wi.matchMedia("(display-mode: fullscreen)");nT=n.matches,Qse(wi,n,({matches:t})=>{nT&&e.matches||(nT=t)})}function ske(){return nT}class eae{constructor(e){this.domNode=e,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){const t=tc(e);this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){const t=tc(e);this._width!==t&&(this._width=t,this.domNode.style.width=this._width)}setHeight(e){const t=tc(e);this._height!==t&&(this._height=t,this.domNode.style.height=this._height)}setTop(e){const t=tc(e);this._top!==t&&(this._top=t,this.domNode.style.top=this._top)}setLeft(e){const t=tc(e);this._left!==t&&(this._left=t,this.domNode.style.left=this._left)}setBottom(e){const t=tc(e);this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom)}setRight(e){const t=tc(e);this._right!==t&&(this._right=t,this.domNode.style.right=this._right)}setPaddingLeft(e){const t=tc(e);this._paddingLeft!==t&&(this._paddingLeft=t,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){const t=tc(e);this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(e){this._fontVariationSettings!==e&&(this._fontVariationSettings=e,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){const t=tc(e);this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){const t=tc(e);this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function tc(n){return typeof n=="number"?`${n}px`:n}function pi(n){return new eae(n)}function Ur(n,e){n instanceof eae?(n.setFontFamily(e.getMassagedFontFamily()),n.setFontWeight(e.fontWeight),n.setFontSize(e.fontSize),n.setFontFeatureSettings(e.fontFeatureSettings),n.setFontVariationSettings(e.fontVariationSettings),n.setLineHeight(e.lineHeight),n.setLetterSpacing(e.letterSpacing)):(n.style.fontFamily=e.getMassagedFontFamily(),n.style.fontWeight=e.fontWeight,n.style.fontSize=e.fontSize+"px",n.style.fontFeatureSettings=e.fontFeatureSettings,n.style.fontVariationSettings=e.fontVariationSettings,n.style.lineHeight=e.lineHeight+"px",n.style.letterSpacing=e.letterSpacing+"px")}class ake{constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}}class s6{constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(){this._createDomElements(),_b.document.body.appendChild(this._container),this._readFromDomElements(),_b.document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";const t=document.createElement("div");Ur(t,this._bareFontInfo),e.appendChild(t);const i=document.createElement("div");Ur(i,this._bareFontInfo),i.style.fontWeight="bold",e.appendChild(i);const r=document.createElement("div");Ur(r,this._bareFontInfo),r.style.fontStyle="italic",e.appendChild(r);const o=[];for(const s of this._requests){let a;s.type===0&&(a=t),s.type===2&&(a=i),s.type===1&&(a=r),a.appendChild(document.createElement("br"));const l=document.createElement("span");s6._render(l,s),a.appendChild(l),o.push(l)}this._container=e,this._testElements=o}static _render(e,t){if(t.chr===" "){let i="";for(let r=0;r<8;r++)i+=i;e.innerText=i}else{let i=t.chr;for(let r=0;r<8;r++)i+=i;e.textContent=i}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){const i=this._requests[e],r=this._testElements[e];i.fulfill(r.offsetWidth/256)}}}function lke(n,e){new s6(n,e).read()}const za=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new ne,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(n){n=Math.min(Math.max(-5,n),20),this._zoomLevel!==n&&(this._zoomLevel=n,this._onDidChangeZoomLevel.fire(this._zoomLevel))}},cke=qt?1.5:1.35,hA=8;class wm{static createFromValidatedSettings(e,t,i){const r=e.get(49),o=e.get(53),s=e.get(52),a=e.get(51),l=e.get(54),c=e.get(66),d=e.get(63);return wm._create(r,o,s,a,l,c,d,t,i)}static _create(e,t,i,r,o,s,a,l,c){s===0?s=cke*i:s<hA&&(s=s*i),s=Math.round(s),s<hA&&(s=hA);const d=1+(c?0:za.getZoomLevel()*.1);return i*=d,s*=d,o===Sc.TRANSLATE&&(t==="normal"||t==="bold"?o=Sc.OFF:(o=`'wght' ${parseInt(t,10)}`,t="normal")),new wm({pixelRatio:l,fontFamily:e,fontWeight:t,fontSize:i,fontFeatureSettings:r,fontVariationSettings:o,lineHeight:s,letterSpacing:a})}constructor(e){this._bareFontInfoBrand=void 0,this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.fontVariationSettings=e.fontVariationSettings,this.lineHeight=e.lineHeight|0,this.letterSpacing=e.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const e=ps.fontFamily,t=wm._wrapInQuotes(this.fontFamily);return e&&this.fontFamily!==e?`${t}, ${e}`:t}static _wrapInQuotes(e){return/[,"']/.test(e)?e:/[+ ]/.test(e)?`"${e}"`:e}}const dke=2;class SF extends wm{constructor(e,t){super(e),this._editorStylingBrand=void 0,this.version=dke,this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.fontVariationSettings===e.fontVariationSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}}class uke extends ce{constructor(){super(),this._onDidChange=this._register(new ne),this.onDidChange=this._onDidChange.event,this._cache=new Lq,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new Lq,this._onDidChange.fire()}_writeToCache(e,t){this._cache.put(e,t),!t.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=wi.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const e=this._cache.getValues();let t=!1;for(const i of e)i.isTrusted||(t=!0,this._cache.remove(i));t&&this._onDidChange.fire()}readFontInfo(e){if(!this._cache.has(e)){let t=this._actualReadFontInfo(e);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new SF({pixelRatio:H1.value,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,fontVariationSettings:t.fontVariationSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(e,t)}return this._cache.get(e)}_createRequest(e,t,i,r){const o=new ake(e,t);return i.push(o),r==null||r.push(o),o}_actualReadFontInfo(e){const t=[],i=[],r=this._createRequest("n",0,t,i),o=this._createRequest("",0,t,null),s=this._createRequest(" ",0,t,i),a=this._createRequest("0",0,t,i),l=this._createRequest("1",0,t,i),c=this._createRequest("2",0,t,i),d=this._createRequest("3",0,t,i),u=this._createRequest("4",0,t,i),h=this._createRequest("5",0,t,i),f=this._createRequest("6",0,t,i),g=this._createRequest("7",0,t,i),_=this._createRequest("8",0,t,i),y=this._createRequest("9",0,t,i),m=this._createRequest("",0,t,i),p=this._createRequest("",0,t,null),v=this._createRequest("",0,t,i),b=this._createRequest("",0,t,null),C="|/-_ilm%";for(let E=0,I=C.length;E<I;E++)this._createRequest(C.charAt(E),0,t,i),this._createRequest(C.charAt(E),1,t,i),this._createRequest(C.charAt(E),2,t,i);lke(e,t);const S=Math.max(a.width,l.width,c.width,d.width,u.width,h.width,f.width,g.width,_.width,y.width);let x=e.fontFeatureSettings===da.OFF;const k=i[0].width;for(let E=1,I=i.length;x&&E<I;E++){const N=k-i[E].width;if(N<-.001||N>.001){x=!1;break}}let D=!0;return x&&p.width!==k&&(D=!1),p.width>m.width&&(D=!1),new SF({pixelRatio:H1.value,fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,fontVariationSettings:e.fontVariationSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:x,typicalHalfwidthCharacterWidth:r.width,typicalFullwidthCharacterWidth:o.width,canUseHalfwidthRightwardsArrow:D,spaceWidth:s.width,middotWidth:v.width,wsmiddotWidth:b.width,maxDigitWidth:S},!0)}}class Lq{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){const t=e.getId();return!!this._values[t]}get(e){const t=e.getId();return this._values[t]}put(e,t){const i=e.getId();this._keys[i]=e,this._values[i]=t}remove(e){const t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map(e=>this._values[e])}}const xF=new uke;var Dc;(function(n){n.serviceIds=new Map,n.DI_TARGET="$di$target",n.DI_DEPENDENCIES="$di$dependencies";function e(t){return t[n.DI_DEPENDENCIES]||[]}n.getServiceDependencies=e})(Dc||(Dc={}));const dt=zt("instantiationService");function hke(n,e,t){e[Dc.DI_TARGET]===e?e[Dc.DI_DEPENDENCIES].push({id:n,index:t}):(e[Dc.DI_DEPENDENCIES]=[{id:n,index:t}],e[Dc.DI_TARGET]=e)}function zt(n){if(Dc.serviceIds.has(n))return Dc.serviceIds.get(n);const e=function(t,i,r){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");hke(e,t,r)};return e.toString=()=>n,Dc.serviceIds.set(n,e),e}const ai=zt("codeEditorService"),Ji=zt("modelService"),Cs=zt("textModelService");class Fs extends ce{constructor(e,t="",i="",r=!0,o){super(),this._onDidChange=this._register(new ne),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=e,this._label=t,this._cssClass=i,this._enabled=r,this._actionCallback=o}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}async run(e,t){this._actionCallback&&await this._actionCallback(e)}}class qm extends ce{constructor(){super(...arguments),this._onWillRun=this._register(new ne),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new ne),this.onDidRun=this._onDidRun.event}async run(e,t){if(!e.enabled)return;this._onWillRun.fire({action:e});let i;try{await this.runAction(e,t)}catch(r){i=r}this._onDidRun.fire({action:e,error:i})}async runAction(e,t){await e.run(t)}}class rr{constructor(){this.id=rr.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...e){let t=[];for(const i of e)i.length&&(t.length?t=[...t,new rr,...i]:t=i);return t}async run(){}}rr.ID="vs.actions.separator";class yb{get actions(){return this._actions}constructor(e,t,i,r){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=e,this.label=t,this.class=r,this._actions=i}async run(){}}class vP extends Fs{constructor(){super(vP.ID,w("submenu.empty","(empty)"),void 0,!1)}}vP.ID="vs.actions.empty";function Ev(n){var e,t;return{id:n.id,label:n.label,class:n.class,enabled:(e=n.enabled)!==null&&e!==void 0?e:!0,checked:(t=n.checked)!==null&&t!==void 0?t:!1,run:async(...i)=>n.run(...i),tooltip:n.label}}var LF;(function(n){function e(t){return t&&typeof t=="object"&&typeof t.id=="string"}n.isThemeColor=e})(LF||(LF={}));var lt;(function(n){n.iconNameSegment="[A-Za-z0-9]+",n.iconNameExpression="[A-Za-z0-9-]+",n.iconModifierExpression="~[A-Za-z]+",n.iconNameCharacter="[A-Za-z0-9~-]";const e=new RegExp(`^(${n.iconNameExpression})(${n.iconModifierExpression})?$`);function t(h){const f=e.exec(h.id);if(!f)return t(Ae.error);const[,g,_]=f,y=["codicon","codicon-"+g];return _&&y.push("codicon-modifier-"+_.substring(1)),y}n.asClassNameArray=t;function i(h){return t(h).join(" ")}n.asClassName=i;function r(h){return"."+t(h).join(".")}n.asCSSSelector=r;function o(h){return h&&typeof h=="object"&&typeof h.id=="string"&&(typeof h.color>"u"||LF.isThemeColor(h.color))}n.isThemeIcon=o;const s=new RegExp(`^\\$\\((${n.iconNameExpression}(?:${n.iconModifierExpression})?)\\)$`);function a(h){const f=s.exec(h);if(!f)return;const[,g]=f;return{id:g}}n.fromString=a;function l(h){return{id:h}}n.fromId=l;function c(h,f){let g=h.id;const _=g.lastIndexOf("~");return _!==-1&&(g=g.substring(0,_)),f&&(g=`${g}~${f}`),{id:g}}n.modify=c;function d(h){const f=h.id.lastIndexOf("~");if(f!==-1)return h.id.substring(f+1)}n.getModifier=d;function u(h,f){var g,_;return h.id===f.id&&((g=h.color)===null||g===void 0?void 0:g.id)===((_=f.color)===null||_===void 0?void 0:_.id)}n.isEqual=u})(lt||(lt={}));const fn=zt("commandService"),Gt=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new ne,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(n,e){if(!n)throw new Error("invalid command");if(typeof n=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:n,handler:e})}if(n.metadata&&Array.isArray(n.metadata.args)){const s=[];for(const l of n.metadata.args)s.push(l.constraint);const a=n.handler;n.handler=function(l,...c){return qSe(c,s),a(l,...c)}}const{id:t}=n;let i=this._commands.get(t);i||(i=new Fo,this._commands.set(t,i));const r=i.unshift(n),o=at(()=>{r();const s=this._commands.get(t);s!=null&&s.isEmpty()&&this._commands.delete(t)});return this._onDidRegisterCommand.fire(t),o}registerCommandAlias(n,e){return Gt.registerCommand(n,(t,...i)=>t.get(fn).executeCommand(e,...i))}getCommand(n){const e=this._commands.get(n);if(!(!e||e.isEmpty()))return Kt.first(e)}getCommands(){const n=new Map;for(const e of this._commands.keys()){const t=this.getCommand(e);t&&n.set(e,t)}return n}};Gt.registerCommand("noop",()=>{});function fA(...n){switch(n.length){case 1:return w("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",n[0]);case 2:return w("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",n[0],n[1]);case 3:return w("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",n[0],n[1],n[2]);default:return}}const fke=w("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),gke=w("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");let Kp=class kF{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return e.lexeme;case 18:return e.lexeme;case 19:return e.lexeme;case 20:return"EOF";default:throw $W(`unhandled token type: ${JSON.stringify(e)}; have you forgotten to add a case?`)}}reset(e){return this._input=e,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const t=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:t})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const t=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:t})}else this._match(126)?this._addToken(9):this._error(fA("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(fA("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(fA("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(e){return this._isAtEnd()||this._input.charCodeAt(this._current)!==e?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(e){this._tokens.push({type:e,offset:this._start})}_error(e){const t=this._start,i=this._input.substring(this._start,this._current),r={type:19,offset:this._start,lexeme:i};this._errors.push({offset:t,lexeme:i,additionalInfo:e}),this._tokens.push(r)}_string(){this.stringRe.lastIndex=this._start;const e=this.stringRe.exec(this._input);if(e){this._current=this._start+e[0].length;const t=this._input.substring(this._start,this._current),i=kF._keywords.get(t);i?this._addToken(i):this._tokens.push({type:17,lexeme:t,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(fke);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let e=this._current,t=!1,i=!1;for(;;){if(e>=this._input.length){this._current=e,this._error(gke);return}const o=this._input.charCodeAt(e);if(t)t=!1;else if(o===47&&!i){e++;break}else o===91?i=!0:o===92?t=!0:o===93&&(i=!1);e++}for(;e<this._input.length&&kF._regexFlags.has(this._input.charCodeAt(e));)e++;this._current=e;const r=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:r,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}};Kp._regexFlags=new Set(["i","g","s","m","y","u"].map(n=>n.charCodeAt(0)));Kp._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);const oo=new Map;oo.set("false",!1);oo.set("true",!0);oo.set("isMac",qt);oo.set("isLinux",Uo);oo.set("isWindows",no);oo.set("isWeb",lp);oo.set("isMacNative",qt&&!lp);oo.set("isEdge",axe);oo.set("isFirefox",oxe);oo.set("isChrome",xse);oo.set("isSafari",sxe);const pke=Object.prototype.hasOwnProperty,mke={regexParsingWithErrorRecovery:!0},_ke=w("contextkey.parser.error.emptyString","Empty context key expression"),vke=w("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),bke=w("contextkey.parser.error.noInAfterNot","'in' after 'not'."),kq=w("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),yke=w("contextkey.parser.error.unexpectedToken","Unexpected token"),Cke=w("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),wke=w("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),Ske=w("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");let tae=class zC{constructor(e=mke){this._config=e,this._scanner=new Kp,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(e){if(e===""){this._parsingErrors.push({message:_ke,offset:0,lexeme:"",additionalInfo:vke});return}this._tokens=this._scanner.reset(e).scan(),this._current=0,this._parsingErrors=[];try{const t=this._expr();if(!this._isAtEnd()){const i=this._peek(),r=i.type===17?Cke:void 0;throw this._parsingErrors.push({message:yke,offset:i.offset,lexeme:Kp.getLexeme(i),additionalInfo:r}),zC._parseError}return t}catch(t){if(t!==zC._parseError)throw t;return}}_expr(){return this._or()}_or(){const e=[this._and()];for(;this._matchOne(16);){const t=this._and();e.push(t)}return e.length===1?e[0]:we.or(...e)}_and(){const e=[this._term()];for(;this._matchOne(15);){const t=this._term();e.push(t)}return e.length===1?e[0]:we.and(...e)}_term(){if(this._matchOne(2)){const e=this._peek();switch(e.type){case 11:return this._advance(),$o.INSTANCE;case 12:return this._advance(),_s.INSTANCE;case 0:{this._advance();const t=this._expr();return this._consume(1,kq),t==null?void 0:t.negate()}case 17:return this._advance(),E_.create(e.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",e)}}return this._primary()}_primary(){const e=this._peek();switch(e.type){case 11:return this._advance(),we.true();case 12:return this._advance(),we.false();case 0:{this._advance();const t=this._expr();return this._consume(1,kq),t}case 17:{const t=e.lexeme;if(this._advance(),this._matchOne(9)){const r=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),r.type!==10)throw this._errExpectedButGot("REGEX",r);const o=r.lexeme,s=o.lastIndexOf("/"),a=s===o.length-1?void 0:this._removeFlagsGY(o.substring(s+1));let l;try{l=new RegExp(o.substring(1,s),a)}catch{throw this._errExpectedButGot("REGEX",r)}return z1.create(t,l)}switch(r.type){case 10:case 19:{const o=[r.lexeme];this._advance();let s=this._peek(),a=0;for(let h=0;h<r.lexeme.length;h++)r.lexeme.charCodeAt(h)===40?a++:r.lexeme.charCodeAt(h)===41&&a--;for(;!this._isAtEnd()&&s.type!==15&&s.type!==16;){switch(s.type){case 0:a++;break;case 1:a--;break;case 10:case 18:for(let h=0;h<s.lexeme.length;h++)s.lexeme.charCodeAt(h)===40?a++:r.lexeme.charCodeAt(h)===41&&a--}if(a<0)break;o.push(Kp.getLexeme(s)),this._advance(),s=this._peek()}const l=o.join(""),c=l.lastIndexOf("/"),d=c===l.length-1?void 0:this._removeFlagsGY(l.substring(c+1));let u;try{u=new RegExp(l.substring(1,c),d)}catch{throw this._errExpectedButGot("REGEX",r)}return we.regex(t,u)}case 18:{const o=r.lexeme;this._advance();let s=null;if(!Use(o)){const a=o.indexOf("/"),l=o.lastIndexOf("/");if(a!==l&&a>=0){const c=o.slice(a+1,l),d=o[l+1]==="i"?"i":"";try{s=new RegExp(c,d)}catch{throw this._errExpectedButGot("REGEX",r)}}}if(s===null)throw this._errExpectedButGot("REGEX",r);return z1.create(t,s)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,bke);const r=this._value();return we.notIn(t,r)}switch(this._peek().type){case 3:{this._advance();const r=this._value();if(this._previous().type===18)return we.equals(t,r);switch(r){case"true":return we.has(t);case"false":return we.not(t);default:return we.equals(t,r)}}case 4:{this._advance();const r=this._value();if(this._previous().type===18)return we.notEquals(t,r);switch(r){case"true":return we.not(t);case"false":return we.has(t);default:return we.notEquals(t,r)}}case 5:return this._advance(),LP.create(t,this._value());case 6:return this._advance(),kP.create(t,this._value());case 7:return this._advance(),SP.create(t,this._value());case 8:return this._advance(),xP.create(t,this._value());case 13:return this._advance(),we.in(t,this._value());default:return we.has(t)}}case 20:throw this._parsingErrors.push({message:wke,offset:e.offset,lexeme:"",additionalInfo:Ske}),zC._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const e=this._peek();switch(e.type){case 17:case 18:return this._advance(),e.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(e){return e.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(e){return this._check(e)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(e,t){if(this._check(e))return this._advance();throw this._errExpectedButGot(t,this._peek())}_errExpectedButGot(e,t,i){const r=w("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,e,Kp.getLexeme(t)),o=t.offset,s=Kp.getLexeme(t);return this._parsingErrors.push({message:r,offset:o,lexeme:s,additionalInfo:i}),zC._parseError}_check(e){return this._peek().type===e}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}};tae._parseError=new Error;class we{static false(){return $o.INSTANCE}static true(){return _s.INSTANCE}static has(e){return T_.create(e)}static equals(e,t){return vy.create(e,t)}static notEquals(e,t){return CP.create(e,t)}static regex(e,t){return z1.create(e,t)}static in(e,t){return bP.create(e,t)}static notIn(e,t){return yP.create(e,t)}static not(e){return E_.create(e)}static and(...e){return sm.create(e,null,!0)}static or(...e){return qu.create(e,null,!0)}static deserialize(e){return e==null?void 0:this._parser.parse(e)}}we._parser=new tae({regexParsingWithErrorRecovery:!1});function xke(n,e){const t=n?n.substituteConstants():void 0,i=e?e.substituteConstants():void 0;return!t&&!i?!0:!t||!i?!1:t.equals(i)}function Ew(n,e){return n.cmp(e)}class $o{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return _s.INSTANCE}}$o.INSTANCE=new $o;class _s{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return $o.INSTANCE}}_s.INSTANCE=new _s;class T_{static create(e,t=null){const i=oo.get(e);return typeof i=="boolean"?i?_s.INSTANCE:$o.INSTANCE:new T_(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=2}cmp(e){return e.type!==this.type?this.type-e.type:nae(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=oo.get(this.key);return typeof e=="boolean"?e?_s.INSTANCE:$o.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=E_.create(this.key,this)),this.negated}}class vy{static create(e,t,i=null){if(typeof t=="boolean")return t?T_.create(e,i):E_.create(e,i);const r=oo.get(e);return typeof r=="boolean"?t===(r?"true":"false")?_s.INSTANCE:$o.INSTANCE:new vy(e,t,i)}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=4}cmp(e){return e.type!==this.type?this.type-e.type:I_(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){const e=oo.get(this.key);if(typeof e=="boolean"){const t=e?"true":"false";return this.value===t?_s.INSTANCE:$o.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=CP.create(this.key,this.value,this)),this.negated}}class bP{static create(e,t){return new bP(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}cmp(e){return e.type!==this.type?this.type-e.type:I_(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.includes(i):typeof i=="string"&&typeof t=="object"&&t!==null?pke.call(t,i):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=yP.create(this.key,this.valueKey)),this.negated}}class yP{static create(e,t){return new yP(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=11,this._negated=bP.create(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type?this._negated.equals(e._negated):!1}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class CP{static create(e,t,i=null){if(typeof t=="boolean")return t?E_.create(e,i):T_.create(e,i);const r=oo.get(e);return typeof r=="boolean"?t===(r?"true":"false")?$o.INSTANCE:_s.INSTANCE:new CP(e,t,i)}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=5}cmp(e){return e.type!==this.type?this.type-e.type:I_(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){const e=oo.get(this.key);if(typeof e=="boolean"){const t=e?"true":"false";return this.value===t?$o.INSTANCE:_s.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=vy.create(this.key,this.value,this)),this.negated}}class E_{static create(e,t=null){const i=oo.get(e);return typeof i=="boolean"?i?$o.INSTANCE:_s.INSTANCE:new E_(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=3}cmp(e){return e.type!==this.type?this.type-e.type:nae(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=oo.get(this.key);return typeof e=="boolean"?e?$o.INSTANCE:_s.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=T_.create(this.key,this)),this.negated}}function wP(n,e){if(typeof n=="string"){const t=parseFloat(n);isNaN(t)||(n=t)}return typeof n=="string"||typeof n=="number"?e(n):$o.INSTANCE}class SP{static create(e,t,i=null){return wP(t,r=>new SP(e,r,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=12}cmp(e){return e.type!==this.type?this.type-e.type:I_(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=kP.create(this.key,this.value,this)),this.negated}}class xP{static create(e,t,i=null){return wP(t,r=>new xP(e,r,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=13}cmp(e){return e.type!==this.type?this.type-e.type:I_(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=LP.create(this.key,this.value,this)),this.negated}}class LP{static create(e,t,i=null){return wP(t,r=>new LP(e,r,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=14}cmp(e){return e.type!==this.type?this.type-e.type:I_(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=xP.create(this.key,this.value,this)),this.negated}}class kP{static create(e,t,i=null){return wP(t,r=>new kP(e,r,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=15}cmp(e){return e.type!==this.type?this.type-e.type:I_(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=SP.create(this.key,this.value,this)),this.negated}}class z1{static create(e,t){return new z1(e,t)}constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=a6.create(this)),this.negated}}class a6{static create(e){return new a6(e)}constructor(e){this._actual=e,this.type=8}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}function iae(n){let e=null;for(let t=0,i=n.length;t<i;t++){const r=n[t].substituteConstants();if(n[t]!==r&&e===null){e=[];for(let o=0;o<t;o++)e[o]=n[o]}e!==null&&(e[t]=r)}return e===null?n:e}class sm{static create(e,t,i){return sm._normalizeArr(e,t,i)}constructor(e,t){this.expr=e,this.negated=t,this.type=6}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const r=Ew(this.expr[t],e.expr[t]);if(r!==0)return r}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=iae(this.expr);return e===this.expr?this:sm.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t,i){const r=[];let o=!1;for(const s of e)if(s){if(s.type===1){o=!0;continue}if(s.type===0)return $o.INSTANCE;if(s.type===6){r.push(...s.expr);continue}r.push(s)}if(r.length===0&&o)return _s.INSTANCE;if(r.length!==0){if(r.length===1)return r[0];r.sort(Ew);for(let s=1;s<r.length;s++)r[s-1].equals(r[s])&&(r.splice(s,1),s--);if(r.length===1)return r[0];for(;r.length>1;){const s=r[r.length-1];if(s.type!==9)break;r.pop();const a=r.pop(),l=r.length===0,c=qu.create(s.expr.map(d=>sm.create([d,a],null,i)),null,l);c&&(r.push(c),r.sort(Ew))}if(r.length===1)return r[0];if(i){for(let s=0;s<r.length;s++)for(let a=s+1;a<r.length;a++)if(r[s].negate().equals(r[a]))return $o.INSTANCE;if(r.length===1)return r[0]}return new sm(r,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());this.negated=qu.create(e,this,!0)}return this.negated}}class qu{static create(e,t,i){return qu._normalizeArr(e,t,i)}constructor(e,t){this.expr=e,this.negated=t,this.type=9}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const r=Ew(this.expr[t],e.expr[t]);if(r!==0)return r}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=iae(this.expr);return e===this.expr?this:qu.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,i){let r=[],o=!1;if(e){for(let s=0,a=e.length;s<a;s++){const l=e[s];if(l){if(l.type===0){o=!0;continue}if(l.type===1)return _s.INSTANCE;if(l.type===9){r=r.concat(l.expr);continue}r.push(l)}}if(r.length===0&&o)return $o.INSTANCE;r.sort(Ew)}if(r.length!==0){if(r.length===1)return r[0];for(let s=1;s<r.length;s++)r[s-1].equals(r[s])&&(r.splice(s,1),s--);if(r.length===1)return r[0];if(i){for(let s=0;s<r.length;s++)for(let a=s+1;a<r.length;a++)if(r[s].negate().equals(r[a]))return _s.INSTANCE;if(r.length===1)return r[0]}return new qu(r,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());for(;e.length>1;){const t=e.shift(),i=e.shift(),r=[];for(const o of Tq(t))for(const s of Tq(i))r.push(sm.create([o,s],null,!1));e.unshift(qu.create(r,null,!1))}this.negated=qu.create(e,this,!0)}return this.negated}}class je extends T_{static all(){return je._info.values()}constructor(e,t,i){super(e,null),this._defaultValue=t,typeof i=="object"?je._info.push({...i,key:e}):i!==!0&&je._info.push({key:e,description:i,type:t!=null?typeof t:void 0})}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return vy.create(this.key,e)}}je._info=[];const _t=zt("contextKeyService");function nae(n,e){return n<e?-1:n>e?1:0}function I_(n,e,t,i){return n<t?-1:n>t?1:e<i?-1:e>i?1:0}function DF(n,e){if(n.type===0||e.type===1)return!0;if(n.type===9)return e.type===9?Dq(n.expr,e.expr):!1;if(e.type===9){for(const t of e.expr)if(DF(n,t))return!0;return!1}if(n.type===6){if(e.type===6)return Dq(e.expr,n.expr);for(const t of n.expr)if(DF(t,e))return!0;return!1}return n.equals(e)}function Dq(n,e){let t=0,i=0;for(;t<n.length&&i<e.length;){const r=n[t].cmp(e[i]);if(r<0)return!1;r===0&&t++,i++}return t===n.length}function Tq(n){return n.type===9?n.expr:[n]}function TF(n,e){if(typeof n=="number"){if(n===0)return null;const t=(n&65535)>>>0,i=(n&4294901760)>>>16;return i!==0?new gA([gk(t,e),gk(i,e)]):new gA([gk(t,e)])}else{const t=[];for(let i=0;i<n.length;i++)t.push(gk(n[i],e));return new gA(t)}}function gk(n,e){const t=!!(n&2048),i=!!(n&256),r=e===2?i:t,o=!!(n&1024),s=!!(n&512),a=e===2?t:i,l=n&255;return new Eh(r,o,s,a,l)}class Eh{constructor(e,t,i,r,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=r,this.keyCode=o}equals(e){return e instanceof Eh&&this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class gA{constructor(e){if(e.length===0)throw Qa("chords");this.chords=e}}class Lke{constructor(e,t,i,r,o,s){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=r,this.keyLabel=o,this.keyAriaLabel=s}}class kke{}function pA(n,e){if(!n)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}function DP(n,e="Unreachable"){throw new Error(e)}function Eq(n){n||St(new Xi("Assertion Failed"))}function Cb(n){if(!n()){debugger;n(),St(new Xi("Assertion Failed"))}}function rae(n,e){let t=0;for(;t<n.length-1;){const i=n[t],r=n[t+1];if(!e(i,r))return!1;t++}return!0}class Dke{constructor(){this.data=new Map}add(e,t){pA(Ho(e)),pA(Oo(t)),pA(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}}const nn=new Dke;class l6{constructor(){this._coreKeybindings=new Fo,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(ma===1){if(e&&e.win)return e.win}else if(ma===2){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=l6.bindToCurrentPlatform(e),i=new xe;if(t&&t.primary){const r=TF(t.primary,ma);r&&i.add(this._registerDefaultKeybinding(r,e.id,e.args,e.weight,0,e.when))}if(t&&Array.isArray(t.secondary))for(let r=0,o=t.secondary.length;r<o;r++){const s=t.secondary[r],a=TF(s,ma);a&&i.add(this._registerDefaultKeybinding(a,e.id,e.args,e.weight,-r-1,e.when))}return i}registerCommandAndKeybindingRule(e){return Wl(this.registerKeybindingRule(e),Gt.registerCommand(e))}_registerDefaultKeybinding(e,t,i,r,o,s){const a=this._coreKeybindings.push({keybinding:e,command:t,commandArgs:i,when:s,weight1:r,weight2:o,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,at(()=>{a(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(Eke)),this._cachedMergedKeybindings.slice(0)}}const vs=new l6,Tke={EditorModes:"platform.keybindingsRegistry"};nn.add(Tke.EditorModes,vs);function Eke(n,e){if(n.weight1!==e.weight1)return n.weight1-e.weight1;if(n.command&&e.command){if(n.command<e.command)return-1;if(n.command>e.command)return 1}return n.weight2-e.weight2}var Ike=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Iq=function(n,e){return function(t,i){e(t,i,n)}},rT;function Z0(n){return n.command!==void 0}function Nke(n){return n.submenu!==void 0}class H{constructor(e){if(H._instances.has(e))throw new TypeError(`MenuId with identifier '${e}' already exists. Use MenuId.for(ident) or a unique identifier`);H._instances.set(e,this),this.id=e}}H._instances=new Map;H.CommandPalette=new H("CommandPalette");H.DebugBreakpointsContext=new H("DebugBreakpointsContext");H.DebugCallStackContext=new H("DebugCallStackContext");H.DebugConsoleContext=new H("DebugConsoleContext");H.DebugVariablesContext=new H("DebugVariablesContext");H.DebugHoverContext=new H("DebugHoverContext");H.DebugWatchContext=new H("DebugWatchContext");H.DebugToolBar=new H("DebugToolBar");H.DebugToolBarStop=new H("DebugToolBarStop");H.EditorContext=new H("EditorContext");H.SimpleEditorContext=new H("SimpleEditorContext");H.EditorContent=new H("EditorContent");H.EditorLineNumberContext=new H("EditorLineNumberContext");H.EditorContextCopy=new H("EditorContextCopy");H.EditorContextPeek=new H("EditorContextPeek");H.EditorContextShare=new H("EditorContextShare");H.EditorTitle=new H("EditorTitle");H.EditorTitleRun=new H("EditorTitleRun");H.EditorTitleContext=new H("EditorTitleContext");H.EditorTitleContextShare=new H("EditorTitleContextShare");H.EmptyEditorGroup=new H("EmptyEditorGroup");H.EmptyEditorGroupContext=new H("EmptyEditorGroupContext");H.EditorTabsBarContext=new H("EditorTabsBarContext");H.EditorTabsBarShowTabsSubmenu=new H("EditorTabsBarShowTabsSubmenu");H.EditorTabsBarShowTabsZenModeSubmenu=new H("EditorTabsBarShowTabsZenModeSubmenu");H.EditorActionsPositionSubmenu=new H("EditorActionsPositionSubmenu");H.ExplorerContext=new H("ExplorerContext");H.ExplorerContextShare=new H("ExplorerContextShare");H.ExtensionContext=new H("ExtensionContext");H.GlobalActivity=new H("GlobalActivity");H.CommandCenter=new H("CommandCenter");H.CommandCenterCenter=new H("CommandCenterCenter");H.LayoutControlMenuSubmenu=new H("LayoutControlMenuSubmenu");H.LayoutControlMenu=new H("LayoutControlMenu");H.MenubarMainMenu=new H("MenubarMainMenu");H.MenubarAppearanceMenu=new H("MenubarAppearanceMenu");H.MenubarDebugMenu=new H("MenubarDebugMenu");H.MenubarEditMenu=new H("MenubarEditMenu");H.MenubarCopy=new H("MenubarCopy");H.MenubarFileMenu=new H("MenubarFileMenu");H.MenubarGoMenu=new H("MenubarGoMenu");H.MenubarHelpMenu=new H("MenubarHelpMenu");H.MenubarLayoutMenu=new H("MenubarLayoutMenu");H.MenubarNewBreakpointMenu=new H("MenubarNewBreakpointMenu");H.PanelAlignmentMenu=new H("PanelAlignmentMenu");H.PanelPositionMenu=new H("PanelPositionMenu");H.ActivityBarPositionMenu=new H("ActivityBarPositionMenu");H.MenubarPreferencesMenu=new H("MenubarPreferencesMenu");H.MenubarRecentMenu=new H("MenubarRecentMenu");H.MenubarSelectionMenu=new H("MenubarSelectionMenu");H.MenubarShare=new H("MenubarShare");H.MenubarSwitchEditorMenu=new H("MenubarSwitchEditorMenu");H.MenubarSwitchGroupMenu=new H("MenubarSwitchGroupMenu");H.MenubarTerminalMenu=new H("MenubarTerminalMenu");H.MenubarViewMenu=new H("MenubarViewMenu");H.MenubarHomeMenu=new H("MenubarHomeMenu");H.OpenEditorsContext=new H("OpenEditorsContext");H.OpenEditorsContextShare=new H("OpenEditorsContextShare");H.ProblemsPanelContext=new H("ProblemsPanelContext");H.SCMInputBox=new H("SCMInputBox");H.SCMIncomingChanges=new H("SCMIncomingChanges");H.SCMOutgoingChanges=new H("SCMOutgoingChanges");H.SCMIncomingChangesAllChangesContext=new H("SCMIncomingChangesAllChangesContext");H.SCMIncomingChangesHistoryItemContext=new H("SCMIncomingChangesHistoryItemContext");H.SCMOutgoingChangesAllChangesContext=new H("SCMOutgoingChangesAllChangesContext");H.SCMOutgoingChangesHistoryItemContext=new H("SCMOutgoingChangesHistoryItemContext");H.SCMChangeContext=new H("SCMChangeContext");H.SCMResourceContext=new H("SCMResourceContext");H.SCMResourceContextShare=new H("SCMResourceContextShare");H.SCMResourceFolderContext=new H("SCMResourceFolderContext");H.SCMResourceGroupContext=new H("SCMResourceGroupContext");H.SCMSourceControl=new H("SCMSourceControl");H.SCMSourceControlInline=new H("SCMSourceControlInline");H.SCMTitle=new H("SCMTitle");H.SearchContext=new H("SearchContext");H.SearchActionMenu=new H("SearchActionContext");H.StatusBarWindowIndicatorMenu=new H("StatusBarWindowIndicatorMenu");H.StatusBarRemoteIndicatorMenu=new H("StatusBarRemoteIndicatorMenu");H.StickyScrollContext=new H("StickyScrollContext");H.TestItem=new H("TestItem");H.TestItemGutter=new H("TestItemGutter");H.TestMessageContext=new H("TestMessageContext");H.TestMessageContent=new H("TestMessageContent");H.TestPeekElement=new H("TestPeekElement");H.TestPeekTitle=new H("TestPeekTitle");H.TouchBarContext=new H("TouchBarContext");H.TitleBarContext=new H("TitleBarContext");H.TitleBarTitleContext=new H("TitleBarTitleContext");H.TunnelContext=new H("TunnelContext");H.TunnelPrivacy=new H("TunnelPrivacy");H.TunnelProtocol=new H("TunnelProtocol");H.TunnelPortInline=new H("TunnelInline");H.TunnelTitle=new H("TunnelTitle");H.TunnelLocalAddressInline=new H("TunnelLocalAddressInline");H.TunnelOriginInline=new H("TunnelOriginInline");H.ViewItemContext=new H("ViewItemContext");H.ViewContainerTitle=new H("ViewContainerTitle");H.ViewContainerTitleContext=new H("ViewContainerTitleContext");H.ViewTitle=new H("ViewTitle");H.ViewTitleContext=new H("ViewTitleContext");H.CommentEditorActions=new H("CommentEditorActions");H.CommentThreadTitle=new H("CommentThreadTitle");H.CommentThreadActions=new H("CommentThreadActions");H.CommentThreadAdditionalActions=new H("CommentThreadAdditionalActions");H.CommentThreadTitleContext=new H("CommentThreadTitleContext");H.CommentThreadCommentContext=new H("CommentThreadCommentContext");H.CommentTitle=new H("CommentTitle");H.CommentActions=new H("CommentActions");H.InteractiveToolbar=new H("InteractiveToolbar");H.InteractiveCellTitle=new H("InteractiveCellTitle");H.InteractiveCellDelete=new H("InteractiveCellDelete");H.InteractiveCellExecute=new H("InteractiveCellExecute");H.InteractiveInputExecute=new H("InteractiveInputExecute");H.NotebookToolbar=new H("NotebookToolbar");H.NotebookStickyScrollContext=new H("NotebookStickyScrollContext");H.NotebookCellTitle=new H("NotebookCellTitle");H.NotebookCellDelete=new H("NotebookCellDelete");H.NotebookCellInsert=new H("NotebookCellInsert");H.NotebookCellBetween=new H("NotebookCellBetween");H.NotebookCellListTop=new H("NotebookCellTop");H.NotebookCellExecute=new H("NotebookCellExecute");H.NotebookCellExecutePrimary=new H("NotebookCellExecutePrimary");H.NotebookDiffCellInputTitle=new H("NotebookDiffCellInputTitle");H.NotebookDiffCellMetadataTitle=new H("NotebookDiffCellMetadataTitle");H.NotebookDiffCellOutputsTitle=new H("NotebookDiffCellOutputsTitle");H.NotebookOutputToolbar=new H("NotebookOutputToolbar");H.NotebookEditorLayoutConfigure=new H("NotebookEditorLayoutConfigure");H.NotebookKernelSource=new H("NotebookKernelSource");H.BulkEditTitle=new H("BulkEditTitle");H.BulkEditContext=new H("BulkEditContext");H.TimelineItemContext=new H("TimelineItemContext");H.TimelineTitle=new H("TimelineTitle");H.TimelineTitleContext=new H("TimelineTitleContext");H.TimelineFilterSubMenu=new H("TimelineFilterSubMenu");H.AccountsContext=new H("AccountsContext");H.SidebarTitle=new H("SidebarTitle");H.PanelTitle=new H("PanelTitle");H.AuxiliaryBarTitle=new H("AuxiliaryBarTitle");H.TerminalInstanceContext=new H("TerminalInstanceContext");H.TerminalEditorInstanceContext=new H("TerminalEditorInstanceContext");H.TerminalNewDropdownContext=new H("TerminalNewDropdownContext");H.TerminalTabContext=new H("TerminalTabContext");H.TerminalTabEmptyAreaContext=new H("TerminalTabEmptyAreaContext");H.TerminalStickyScrollContext=new H("TerminalStickyScrollContext");H.WebviewContext=new H("WebviewContext");H.InlineCompletionsActions=new H("InlineCompletionsActions");H.NewFile=new H("NewFile");H.MergeInput1Toolbar=new H("MergeToolbar1Toolbar");H.MergeInput2Toolbar=new H("MergeToolbar2Toolbar");H.MergeBaseToolbar=new H("MergeBaseToolbar");H.MergeInputResultToolbar=new H("MergeToolbarResultToolbar");H.InlineSuggestionToolbar=new H("InlineSuggestionToolbar");H.ChatContext=new H("ChatContext");H.ChatCodeBlock=new H("ChatCodeblock");H.ChatMessageTitle=new H("ChatMessageTitle");H.ChatExecute=new H("ChatExecute");H.ChatInputSide=new H("ChatInputSide");H.AccessibleView=new H("AccessibleView");H.MultiDiffEditorFileToolbar=new H("MultiDiffEditorFileToolbar");const ed=zt("menuService");class Ku{static for(e){let t=this._all.get(e);return t||(t=new Ku(e),this._all.set(e,t)),t}static merge(e){const t=new Set;for(const i of e)i instanceof Ku&&t.add(i.id);return t}constructor(e){this.id=e,this.has=t=>t===e}}Ku._all=new Map;const Rr=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new cLe({merge:Ku.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(n){return this._commands.set(n.id,n),this._onDidChangeMenu.fire(Ku.for(H.CommandPalette)),at(()=>{this._commands.delete(n.id)&&this._onDidChangeMenu.fire(Ku.for(H.CommandPalette))})}getCommand(n){return this._commands.get(n)}getCommands(){const n=new Map;return this._commands.forEach((e,t)=>n.set(t,e)),n}appendMenuItem(n,e){let t=this._menuItems.get(n);t||(t=new Fo,this._menuItems.set(n,t));const i=t.push(e);return this._onDidChangeMenu.fire(Ku.for(n)),at(()=>{i(),this._onDidChangeMenu.fire(Ku.for(n))})}appendMenuItems(n){const e=new xe;for(const{id:t,item:i}of n)e.add(this.appendMenuItem(t,i));return e}getMenuItems(n){let e;return this._menuItems.has(n)?e=[...this._menuItems.get(n)]:e=[],n===H.CommandPalette&&this._appendImplicitItems(e),e}_appendImplicitItems(n){const e=new Set;for(const t of n)Z0(t)&&(e.add(t.command.id),t.alt&&e.add(t.alt.id));this._commands.forEach((t,i)=>{e.has(i)||n.push({command:t})})}};class j1 extends yb{constructor(e,t,i){super(`submenuitem.${e.submenu.id}`,typeof e.title=="string"?e.title:e.title.value,i,"submenu"),this.item=e,this.hideActions=t}}let Ul=rT=class{static label(e,t){return t!=null&&t.renderShortTitle&&e.shortTitle?typeof e.shortTitle=="string"?e.shortTitle:e.shortTitle.value:typeof e.title=="string"?e.title:e.title.value}constructor(e,t,i,r,o,s){var a,l;this.hideActions=r,this._commandService=s,this.id=e.id,this.label=rT.label(e,i),this.tooltip=(l=typeof e.tooltip=="string"?e.tooltip:(a=e.tooltip)===null||a===void 0?void 0:a.value)!==null&&l!==void 0?l:"",this.enabled=!e.precondition||o.contextMatchesRules(e.precondition),this.checked=void 0;let c;if(e.toggled){const d=e.toggled.condition?e.toggled:{condition:e.toggled};this.checked=o.contextMatchesRules(d.condition),this.checked&&d.tooltip&&(this.tooltip=typeof d.tooltip=="string"?d.tooltip:d.tooltip.value),this.checked&&lt.isThemeIcon(d.icon)&&(c=d.icon),this.checked&&d.title&&(this.label=typeof d.title=="string"?d.title:d.title.value)}c||(c=lt.isThemeIcon(e.icon)?e.icon:void 0),this.item=e,this.alt=t?new rT(t,void 0,i,r,o,s):void 0,this._options=i,this.class=c&&lt.asClassName(c)}run(...e){var t,i;let r=[];return!((t=this._options)===null||t===void 0)&&t.arg&&(r=[...r,this._options.arg]),!((i=this._options)===null||i===void 0)&&i.shouldForwardArgs&&(r=[...r,...e]),this._commandService.executeCommand(this.id,...r)}};Ul=rT=Ike([Iq(4,_t),Iq(5,fn)],Ul);class Ia{constructor(e){this.desc=e}}function ji(n){const e=new xe,t=new n,{f1:i,menu:r,keybinding:o,...s}=t.desc;if(Gt.getCommand(s.id))throw new Error(`Cannot register two commands with the same id: ${s.id}`);if(e.add(Gt.registerCommand({id:s.id,handler:(a,...l)=>t.run(a,...l),metadata:s.metadata})),Array.isArray(r))for(const a of r)e.add(Rr.appendMenuItem(a.id,{command:{...s,precondition:a.precondition===null?void 0:s.precondition},...a}));else r&&e.add(Rr.appendMenuItem(r.id,{command:{...s,precondition:r.precondition===null?void 0:s.precondition},...r}));if(i&&(e.add(Rr.appendMenuItem(H.CommandPalette,{command:s,when:s.precondition})),e.add(Rr.addCommand(s))),Array.isArray(o))for(const a of o)e.add(vs.registerKeybindingRule({...a,id:s.id,when:s.precondition?we.and(s.precondition,a.when):a.when}));else o&&e.add(vs.registerKeybindingRule({...o,id:s.id,when:s.precondition?we.and(s.precondition,o.when):o.when}));return e}const qs=zt("telemetryService"),Ks=zt("logService");var Hr;(function(n){n[n.Off=0]="Off",n[n.Trace=1]="Trace",n[n.Debug=2]="Debug",n[n.Info=3]="Info",n[n.Warning=4]="Warning",n[n.Error=5]="Error"})(Hr||(Hr={}));const oae=Hr.Info;class sae extends ce{constructor(){super(...arguments),this.level=oae,this._onDidChangeLogLevel=this._register(new ne),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(e){return this.level!==Hr.Off&&this.level<=e}}class Pke extends sae{constructor(e=oae,t=!0){super(),this.useColors=t,this.setLevel(e)}trace(e,...t){this.checkLogLevel(Hr.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",e,...t):console.log(e,...t))}debug(e,...t){this.checkLogLevel(Hr.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",e,...t):console.log(e,...t))}info(e,...t){this.checkLogLevel(Hr.Info)&&(this.useColors?console.log("%c INFO","color: #33f",e,...t):console.log(e,...t))}warn(e,...t){this.checkLogLevel(Hr.Warning)&&(this.useColors?console.log("%c WARN","color: #993",e,...t):console.log(e,...t))}error(e,...t){this.checkLogLevel(Hr.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",e,...t):console.error(e,...t))}}class Mke extends sae{constructor(e){super(),this.loggers=e,e.length&&this.setLevel(e[0].getLevel())}setLevel(e){for(const t of this.loggers)t.setLevel(e);super.setLevel(e)}trace(e,...t){for(const i of this.loggers)i.trace(e,...t)}debug(e,...t){for(const i of this.loggers)i.debug(e,...t)}info(e,...t){for(const i of this.loggers)i.info(e,...t)}warn(e,...t){for(const i of this.loggers)i.warn(e,...t)}error(e,...t){for(const i of this.loggers)i.error(e,...t)}dispose(){for(const e of this.loggers)e.dispose();super.dispose()}}function Rke(n){switch(n){case Hr.Trace:return"trace";case Hr.Debug:return"debug";case Hr.Info:return"info";case Hr.Warning:return"warn";case Hr.Error:return"error";case Hr.Off:return"off"}}new je("logLevel",Rke(Hr.Info));const c6={clipboard:{writeText:Mc||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:Mc||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:Mc||ske()?0:navigator.keyboard||Th?1:2,touch:"ontouchstart"in wi||navigator.maxTouchPoints>0,pointerEvents:wi.PointerEvent&&("ontouchstart"in wi||navigator.maxTouchPoints>0)};function Ake(n){if(n.charCode){const t=String.fromCharCode(n.charCode).toUpperCase();return $u.fromString(t)}const e=n.keyCode;if(e===3)return 7;if(nl)switch(e){case 59:return 85;case 60:if(Uo)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(qt)return 57;break}else if(ym){if(qt&&e===93)return 57;if(!qt&&e===92)return 57}return Mse[e]||0}const Oke=qt?256:2048,Fke=512,Bke=1024,Wke=qt?2048:256;class Oi{constructor(e){this._standardKeyboardEventBrand=!0;const t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.altGraphKey=t.getModifierState("AltGraph"),this.keyCode=Ake(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=Oke),this.altKey&&(t|=Fke),this.shiftKey&&(t|=Bke),this.metaKey&&(t|=Wke),t|=e,t}_computeKeyCodeChord(){let e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new Eh(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}const Nq=new WeakMap;function Vke(n){if(!n.parent||n.parent===n)return null;try{const e=n.location,t=n.parent.location;if(e.origin!=="null"&&t.origin!=="null"&&e.origin!==t.origin)return null}catch{return null}return n.parent}class Hke{static getSameOriginWindowChain(e){let t=Nq.get(e);if(!t){t=[],Nq.set(e,t);let i=e,r;do r=Vke(i),r?t.push({window:new WeakRef(i),iframeElement:i.frameElement||null}):t.push({window:new WeakRef(i),iframeElement:null}),i=r;while(i)}return t.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){var i,r;if(!t||e===t)return{top:0,left:0};let o=0,s=0;const a=this.getSameOriginWindowChain(e);for(const l of a){const c=l.window.deref();if(o+=(i=c==null?void 0:c.scrollY)!==null&&i!==void 0?i:0,s+=(r=c==null?void 0:c.scrollX)!==null&&r!==void 0?r:0,c===t||!l.iframeElement)break;const d=l.iframeElement.getBoundingClientRect();o+=d.top,s+=d.left}return{top:o,left:s}}}class Ml{constructor(e,t){this.timestamp=Date.now(),this.browserEvent=t,this.leftButton=t.button===0,this.middleButton=t.button===1,this.rightButton=t.button===2,this.buttons=t.buttons,this.target=t.target,this.detail=t.detail||1,t.type==="dblclick"&&(this.detail=2),this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,typeof t.pageX=="number"?(this.posx=t.pageX,this.posy=t.pageY):(this.posx=t.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=t.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);const i=Hke.getPositionOfChildWindowRelativeToAncestorWindow(e,t.view);this.posx-=i.left,this.posy-=i.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class Km{constructor(e,t=0,i=0){var r;if(this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t,e){const o=e,s=e,a=((r=e.view)===null||r===void 0?void 0:r.devicePixelRatio)||1;if(typeof o.wheelDeltaY<"u")Cm?this.deltaY=o.wheelDeltaY/(120*a):this.deltaY=o.wheelDeltaY/120;else if(typeof s.VERTICAL_AXIS<"u"&&s.axis===s.VERTICAL_AXIS)this.deltaY=-s.detail/3;else if(e.type==="wheel"){const l=e;l.deltaMode===l.DOM_DELTA_LINE?nl&&!qt?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof o.wheelDeltaX<"u")Th&&no?this.deltaX=-(o.wheelDeltaX/120):Cm?this.deltaX=o.wheelDeltaX/(120*a):this.deltaX=o.wheelDeltaX/120;else if(typeof s.HORIZONTAL_AXIS<"u"&&s.axis===s.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){const l=e;l.deltaMode===l.DOM_DELTA_LINE?nl&&!qt?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(Cm?this.deltaY=e.wheelDelta/(120*a):this.deltaY=e.wheelDelta/120)}}preventDefault(){var e;(e=this.browserEvent)===null||e===void 0||e.preventDefault()}stopPropagation(){var e;(e=this.browserEvent)===null||e===void 0||e.stopPropagation()}}const aae=Symbol("MicrotaskDelay");function EF(n){return!!n&&typeof n.then=="function"}function gr(n){const e=new Pn,t=n(e.token),i=new Promise((r,o)=>{const s=e.token.onCancellationRequested(()=>{s.dispose(),o(new cp)});Promise.resolve(t).then(a=>{s.dispose(),e.dispose(),r(a)},a=>{s.dispose(),e.dispose(),o(a)})});return new class{cancel(){e.cancel(),e.dispose()}then(r,o){return i.then(r,o)}catch(r){return this.then(void 0,r)}finally(r){return i.finally(r)}}}function TP(n,e,t){return new Promise((i,r)=>{const o=e.onCancellationRequested(()=>{o.dispose(),i(t)});n.then(i,r).finally(()=>o.dispose())})}class zke{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){const t=()=>{if(this.queuedPromise=null,this.isDisposed)return;const i=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,i};this.queuedPromise=new Promise(i=>{this.activePromise.then(t,t).then(i)})}return new Promise((t,i)=>{this.queuedPromise.then(t,i)})}return this.activePromise=e(),new Promise((t,i)=>{this.activePromise.then(r=>{this.activePromise=null,t(r)},r=>{this.activePromise=null,i(r)})})}dispose(){this.isDisposed=!0}}const jke=(n,e)=>{let t=!0;const i=setTimeout(()=>{t=!1,e()},n);return{isTriggered:()=>t,dispose:()=>{clearTimeout(i),t=!1}}},Uke=n=>{let e=!0;return queueMicrotask(()=>{e&&(e=!1,n())}),{isTriggered:()=>e,dispose:()=>{e=!1}}};class $l{constructor(e){this.defaultDelay=e,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,t=this.defaultDelay){this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((r,o)=>{this.doResolve=r,this.doReject=o}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const r=this.task;return this.task=null,r()}}));const i=()=>{var r;this.deferred=null,(r=this.doResolve)===null||r===void 0||r.call(this,null)};return this.deferred=t===aae?Uke(i):jke(t,i),this.completionPromise}isTriggered(){var e;return!!(!((e=this.deferred)===null||e===void 0)&&e.isTriggered())}cancel(){var e;this.cancelTimeout(),this.completionPromise&&((e=this.doReject)===null||e===void 0||e.call(this,new cp),this.completionPromise=null)}cancelTimeout(){var e;(e=this.deferred)===null||e===void 0||e.dispose(),this.deferred=null}dispose(){this.cancel()}}class lae{constructor(e){this.delayer=new $l(e),this.throttler=new zke}trigger(e,t){return this.delayer.trigger(()=>this.throttler.queue(e),t)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}function Mg(n,e){return e?new Promise((t,i)=>{const r=setTimeout(()=>{o.dispose(),t()},n),o=e.onCancellationRequested(()=>{clearTimeout(r),o.dispose(),i(new cp)})}):gr(t=>Mg(n,t))}function Rg(n,e=0,t){const i=setTimeout(()=>{n(),t&&r.dispose()},e),r=at(()=>{clearTimeout(i),t==null||t.deleteAndLeak(r)});return t==null||t.add(r),r}function d6(n,e=i=>!!i,t=null){let i=0;const r=n.length,o=()=>{if(i>=r)return Promise.resolve(t);const s=n[i++];return Promise.resolve(s()).then(l=>e(l)?Promise.resolve(l):o())};return o()}class Kl{constructor(e,t){this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}}class u6{constructor(){this.disposable=void 0}cancel(){var e;(e=this.disposable)===null||e===void 0||e.dispose(),this.disposable=void 0}cancelAndSet(e,t,i=globalThis){this.cancel();const r=i.setInterval(()=>{e()},t);this.disposable=at(()=>{i.clearInterval(r),this.disposable=void 0})}dispose(){this.cancel()}}class ki{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var e;(e=this.runner)===null||e===void 0||e.call(this)}}let cae,Iw;(function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?Iw=(n,e)=>{wse(()=>{if(t)return;const i=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,i-Date.now())}}))});let t=!1;return{dispose(){t||(t=!0)}}}:Iw=(n,e,t)=>{const i=n.requestIdleCallback(e,typeof t=="number"?{timeout:t}:void 0);let r=!1;return{dispose(){r||(r=!0,n.cancelIdleCallback(i))}}},cae=n=>Iw(globalThis,n)})();class dae{constructor(e,t){this._didRun=!1,this._executor=()=>{try{this._value=t()}catch(i){this._error=i}finally{this._didRun=!0}},this._handle=Iw(e,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class $ke extends dae{constructor(e){super(globalThis,e)}}class EP{get isRejected(){var e;return((e=this.outcome)===null||e===void 0?void 0:e.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((e,t)=>{this.completeCallback=e,this.errorCallback=t})}complete(e){return new Promise(t=>{this.completeCallback(e),this.outcome={outcome:0,value:e},t()})}error(e){return new Promise(t=>{this.errorCallback(e),this.outcome={outcome:1,value:e},t()})}cancel(){return this.error(new cp)}}var IF;(function(n){async function e(i){let r;const o=await Promise.all(i.map(s=>s.then(a=>a,a=>{r||(r=a)})));if(typeof r<"u")throw r;return o}n.settled=e;function t(i){return new Promise(async(r,o)=>{try{await i(r,o)}catch(s){o(s)}})}n.withAsyncBody=t})(IF||(IF={}));class Fn{static fromArray(e){return new Fn(t=>{t.emitMany(e)})}static fromPromise(e){return new Fn(async t=>{t.emitMany(await e)})}static fromPromises(e){return new Fn(async t=>{await Promise.all(e.map(async i=>t.emitOne(await i)))})}static merge(e){return new Fn(async t=>{await Promise.all(e.map(async i=>{for await(const r of i)t.emitOne(r)}))})}constructor(e){this._state=0,this._results=[],this._error=null,this._onStateChanged=new ne,queueMicrotask(async()=>{const t={emitOne:i=>this.emitOne(i),emitMany:i=>this.emitMany(i),reject:i=>this.reject(i)};try{await Promise.resolve(e(t)),this.resolve()}catch(i){this.reject(i)}finally{t.emitOne=void 0,t.emitMany=void 0,t.reject=void 0}})}[Symbol.asyncIterator](){let e=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};await Ve.toPromise(this._onStateChanged.event)}while(!0)}}}static map(e,t){return new Fn(async i=>{for await(const r of e)i.emitOne(t(r))})}map(e){return Fn.map(this,e)}static filter(e,t){return new Fn(async i=>{for await(const r of e)t(r)&&i.emitOne(r)})}filter(e){return Fn.filter(this,e)}static coalesce(e){return Fn.filter(e,t=>!!t)}coalesce(){return Fn.coalesce(this)}static async toPromise(e){const t=[];for await(const i of e)t.push(i);return t}toPromise(){return Fn.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}}Fn.EMPTY=Fn.fromArray([]);class qke extends Fn{constructor(e,t){super(t),this._source=e}cancel(){this._source.cancel()}}function Kke(n){const e=new Pn,t=n(e.token);return new qke(e,async i=>{const r=e.token.onCancellationRequested(()=>{r.dispose(),e.dispose(),i.reject(new cp)});try{for await(const o of t){if(e.token.isCancellationRequested)return;i.emitOne(o)}r.dispose(),e.dispose()}catch(o){r.dispose(),e.dispose(),i.reject(o)}})}/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */const{entries:uae,setPrototypeOf:Pq,isFrozen:Gke,getPrototypeOf:Zke,getOwnPropertyDescriptor:Yke}=Object;let{freeze:Vs,seal:Uc,create:Xke}=Object,{apply:NF,construct:PF}=typeof Reflect<"u"&&Reflect;NF||(NF=function(e,t,i){return e.apply(t,i)});Vs||(Vs=function(e){return e});Uc||(Uc=function(e){return e});PF||(PF=function(e,t){return new e(...t)});const Qke=ql(Array.prototype.forEach),Mq=ql(Array.prototype.pop),sC=ql(Array.prototype.push),oT=ql(String.prototype.toLowerCase),mA=ql(String.prototype.toString),Jke=ql(String.prototype.match),ic=ql(String.prototype.replace),eDe=ql(String.prototype.indexOf),tDe=ql(String.prototype.trim),Ba=ql(RegExp.prototype.test),aC=iDe(TypeError);function ql(n){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return NF(n,e,i)}}function iDe(n){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return PF(n,t)}}function Si(n,e,t){var i;t=(i=t)!==null&&i!==void 0?i:oT,Pq&&Pq(n,null);let r=e.length;for(;r--;){let o=e[r];if(typeof o=="string"){const s=t(o);s!==o&&(Gke(e)||(e[r]=s),o=s)}n[o]=!0}return n}function n0(n){const e=Xke(null);for(const[t,i]of uae(n))e[t]=i;return e}function pk(n,e){for(;n!==null;){const i=Yke(n,e);if(i){if(i.get)return ql(i.get);if(typeof i.value=="function")return ql(i.value)}n=Zke(n)}function t(i){return console.warn("fallback value for",i),null}return t}const Rq=Vs(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),_A=Vs(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),vA=Vs(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),nDe=Vs(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),bA=Vs(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),rDe=Vs(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Aq=Vs(["#text"]),Oq=Vs(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),yA=Vs(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Fq=Vs(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),mk=Vs(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),oDe=Uc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),sDe=Uc(/<%[\w\W]*|[\w\W]*%>/gm),aDe=Uc(/\${[\w\W]*}/gm),lDe=Uc(/^data-[\-\w.\u00B7-\uFFFF]/),cDe=Uc(/^aria-[\-\w]+$/),hae=Uc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),dDe=Uc(/^(?:\w+script|data):/i),uDe=Uc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),fae=Uc(/^html$/i);var Bq=Object.freeze({__proto__:null,MUSTACHE_EXPR:oDe,ERB_EXPR:sDe,TMPLIT_EXPR:aDe,DATA_ATTR:lDe,ARIA_ATTR:cDe,IS_ALLOWED_URI:hae,IS_SCRIPT_OR_DATA:dDe,ATTR_WHITESPACE:uDe,DOCTYPE_NAME:fae});const hDe=()=>typeof window>"u"?null:window,fDe=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(i=t.getAttribute(r));const o="dompurify"+(i?"#"+i:"");try{return e.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function gae(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hDe();const e=Ct=>gae(Ct);if(e.version="3.0.5",e.removed=[],!n||!n.document||n.document.nodeType!==9)return e.isSupported=!1,e;const t=n.document,i=t.currentScript;let{document:r}=n;const{DocumentFragment:o,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:c,NamedNodeMap:d=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:u,DOMParser:h,trustedTypes:f}=n,g=l.prototype,_=pk(g,"cloneNode"),y=pk(g,"nextSibling"),m=pk(g,"childNodes"),p=pk(g,"parentNode");if(typeof s=="function"){const Ct=r.createElement("template");Ct.content&&Ct.content.ownerDocument&&(r=Ct.content.ownerDocument)}let v,b="";const{implementation:C,createNodeIterator:S,createDocumentFragment:x,getElementsByTagName:k}=r,{importNode:D}=t;let E={};e.isSupported=typeof uae=="function"&&typeof p=="function"&&C&&C.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:I,ERB_EXPR:N,TMPLIT_EXPR:R,DATA_ATTR:O,ARIA_ATTR:W,IS_SCRIPT_OR_DATA:K,ATTR_WHITESPACE:Q}=Bq;let{IS_ALLOWED_URI:Y}=Bq,V=null;const X=Si({},[...Rq,..._A,...vA,...bA,...Aq]);let J=null;const te=Si({},[...Oq,...yA,...Fq,...mk]);let oe=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Me=null,Re=null,_e=!0,Fe=!0,Oe=!1,De=!0,ze=!1,ke=!1,Ze=!1,vt=!1,ot=!1,ct=!1,st=!1,ni=!0,Yi=!1;const zn="user-content-";let be=!0,he=!1,fe={},$=null;const Z=Si({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ae=null;const se=Si({},["audio","video","img","source","image","track"]);let Le=null;const He=Si({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ye="http://www.w3.org/1998/Math/MathML",nt="http://www.w3.org/2000/svg",bt="http://www.w3.org/1999/xhtml";let gt=bt,ci=!1,Qt=null;const ut=Si({},[Ye,nt,bt],mA);let fi;const Ui=["application/xhtml+xml","text/html"],An="text/html";let ri,rn=null;const co=r.createElement("form"),Ys=function(ve){return ve instanceof RegExp||ve instanceof Function},Do=function(ve){if(!(rn&&rn===ve)){if((!ve||typeof ve!="object")&&(ve={}),ve=n0(ve),fi=Ui.indexOf(ve.PARSER_MEDIA_TYPE)===-1?fi=An:fi=ve.PARSER_MEDIA_TYPE,ri=fi==="application/xhtml+xml"?mA:oT,V="ALLOWED_TAGS"in ve?Si({},ve.ALLOWED_TAGS,ri):X,J="ALLOWED_ATTR"in ve?Si({},ve.ALLOWED_ATTR,ri):te,Qt="ALLOWED_NAMESPACES"in ve?Si({},ve.ALLOWED_NAMESPACES,mA):ut,Le="ADD_URI_SAFE_ATTR"in ve?Si(n0(He),ve.ADD_URI_SAFE_ATTR,ri):He,ae="ADD_DATA_URI_TAGS"in ve?Si(n0(se),ve.ADD_DATA_URI_TAGS,ri):se,$="FORBID_CONTENTS"in ve?Si({},ve.FORBID_CONTENTS,ri):Z,Me="FORBID_TAGS"in ve?Si({},ve.FORBID_TAGS,ri):{},Re="FORBID_ATTR"in ve?Si({},ve.FORBID_ATTR,ri):{},fe="USE_PROFILES"in ve?ve.USE_PROFILES:!1,_e=ve.ALLOW_ARIA_ATTR!==!1,Fe=ve.ALLOW_DATA_ATTR!==!1,Oe=ve.ALLOW_UNKNOWN_PROTOCOLS||!1,De=ve.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ze=ve.SAFE_FOR_TEMPLATES||!1,ke=ve.WHOLE_DOCUMENT||!1,ot=ve.RETURN_DOM||!1,ct=ve.RETURN_DOM_FRAGMENT||!1,st=ve.RETURN_TRUSTED_TYPE||!1,vt=ve.FORCE_BODY||!1,ni=ve.SANITIZE_DOM!==!1,Yi=ve.SANITIZE_NAMED_PROPS||!1,be=ve.KEEP_CONTENT!==!1,he=ve.IN_PLACE||!1,Y=ve.ALLOWED_URI_REGEXP||hae,gt=ve.NAMESPACE||bt,oe=ve.CUSTOM_ELEMENT_HANDLING||{},ve.CUSTOM_ELEMENT_HANDLING&&Ys(ve.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(oe.tagNameCheck=ve.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ve.CUSTOM_ELEMENT_HANDLING&&Ys(ve.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(oe.attributeNameCheck=ve.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ve.CUSTOM_ELEMENT_HANDLING&&typeof ve.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(oe.allowCustomizedBuiltInElements=ve.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ze&&(Fe=!1),ct&&(ot=!0),fe&&(V=Si({},[...Aq]),J=[],fe.html===!0&&(Si(V,Rq),Si(J,Oq)),fe.svg===!0&&(Si(V,_A),Si(J,yA),Si(J,mk)),fe.svgFilters===!0&&(Si(V,vA),Si(J,yA),Si(J,mk)),fe.mathMl===!0&&(Si(V,bA),Si(J,Fq),Si(J,mk))),ve.ADD_TAGS&&(V===X&&(V=n0(V)),Si(V,ve.ADD_TAGS,ri)),ve.ADD_ATTR&&(J===te&&(J=n0(J)),Si(J,ve.ADD_ATTR,ri)),ve.ADD_URI_SAFE_ATTR&&Si(Le,ve.ADD_URI_SAFE_ATTR,ri),ve.FORBID_CONTENTS&&($===Z&&($=n0($)),Si($,ve.FORBID_CONTENTS,ri)),be&&(V["#text"]=!0),ke&&Si(V,["html","head","body"]),V.table&&(Si(V,["tbody"]),delete Me.tbody),ve.TRUSTED_TYPES_POLICY){if(typeof ve.TRUSTED_TYPES_POLICY.createHTML!="function")throw aC('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ve.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw aC('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');v=ve.TRUSTED_TYPES_POLICY,b=v.createHTML("")}else v===void 0&&(v=fDe(f,i)),v!==null&&typeof b=="string"&&(b=v.createHTML(""));Vs&&Vs(ve),rn=ve}},Qn=Si({},["mi","mo","mn","ms","mtext"]),Ss=Si({},["foreignobject","desc","title","annotation-xml"]),Ra=Si({},["title","style","font","a","script"]),Ql=Si({},_A);Si(Ql,vA),Si(Ql,nDe);const Xo=Si({},bA);Si(Xo,rDe);const wu=function(ve){let Ge=p(ve);(!Ge||!Ge.tagName)&&(Ge={namespaceURI:gt,tagName:"template"});const pt=oT(ve.tagName),$i=oT(Ge.tagName);return Qt[ve.namespaceURI]?ve.namespaceURI===nt?Ge.namespaceURI===bt?pt==="svg":Ge.namespaceURI===Ye?pt==="svg"&&($i==="annotation-xml"||Qn[$i]):!!Ql[pt]:ve.namespaceURI===Ye?Ge.namespaceURI===bt?pt==="math":Ge.namespaceURI===nt?pt==="math"&&Ss[$i]:!!Xo[pt]:ve.namespaceURI===bt?Ge.namespaceURI===nt&&!Ss[$i]||Ge.namespaceURI===Ye&&!Qn[$i]?!1:!Xo[pt]&&(Ra[pt]||!Ql[pt]):!!(fi==="application/xhtml+xml"&&Qt[ve.namespaceURI]):!1},uo=function(ve){sC(e.removed,{element:ve});try{ve.parentNode.removeChild(ve)}catch{ve.remove()}},xs=function(ve,Ge){try{sC(e.removed,{attribute:Ge.getAttributeNode(ve),from:Ge})}catch{sC(e.removed,{attribute:null,from:Ge})}if(Ge.removeAttribute(ve),ve==="is"&&!J[ve])if(ot||ct)try{uo(Ge)}catch{}else try{Ge.setAttribute(ve,"")}catch{}},fl=function(ve){let Ge,pt;if(vt)ve="<remove></remove>"+ve;else{const ho=Jke(ve,/^[\r\n\t ]+/);pt=ho&&ho[0]}fi==="application/xhtml+xml"&&gt===bt&&(ve='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ve+"</body></html>");const $i=v?v.createHTML(ve):ve;if(gt===bt)try{Ge=new h().parseFromString($i,fi)}catch{}if(!Ge||!Ge.documentElement){Ge=C.createDocument(gt,"template",null);try{Ge.documentElement.innerHTML=ci?b:$i}catch{}}const Jn=Ge.body||Ge.documentElement;return ve&&pt&&Jn.insertBefore(r.createTextNode(pt),Jn.childNodes[0]||null),gt===bt?k.call(Ge,ke?"html":"body")[0]:ke?Ge.documentElement:Jn},Su=function(ve){return S.call(ve.ownerDocument||ve,ve,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},zh=function(ve){return ve instanceof u&&(typeof ve.nodeName!="string"||typeof ve.textContent!="string"||typeof ve.removeChild!="function"||!(ve.attributes instanceof d)||typeof ve.removeAttribute!="function"||typeof ve.setAttribute!="function"||typeof ve.namespaceURI!="string"||typeof ve.insertBefore!="function"||typeof ve.hasChildNodes!="function")},Qo=function(ve){return typeof a=="object"?ve instanceof a:ve&&typeof ve=="object"&&typeof ve.nodeType=="number"&&typeof ve.nodeName=="string"},Aa=function(ve,Ge,pt){E[ve]&&Qke(E[ve],$i=>{$i.call(e,Ge,pt,rn)})},jh=function(ve){let Ge;if(Aa("beforeSanitizeElements",ve,null),zh(ve))return uo(ve),!0;const pt=ri(ve.nodeName);if(Aa("uponSanitizeElement",ve,{tagName:pt,allowedTags:V}),ve.hasChildNodes()&&!Qo(ve.firstElementChild)&&(!Qo(ve.content)||!Qo(ve.content.firstElementChild))&&Ba(/<[/\w]/g,ve.innerHTML)&&Ba(/<[/\w]/g,ve.textContent))return uo(ve),!0;if(!V[pt]||Me[pt]){if(!Me[pt]&&K_(pt)&&(oe.tagNameCheck instanceof RegExp&&Ba(oe.tagNameCheck,pt)||oe.tagNameCheck instanceof Function&&oe.tagNameCheck(pt)))return!1;if(be&&!$[pt]){const $i=p(ve)||ve.parentNode,Jn=m(ve)||ve.childNodes;if(Jn&&$i){const ho=Jn.length;for(let bn=ho-1;bn>=0;--bn)$i.insertBefore(_(Jn[bn],!0),y(ve))}}return uo(ve),!0}return ve instanceof l&&!wu(ve)||(pt==="noscript"||pt==="noembed"||pt==="noframes")&&Ba(/<\/no(script|embed|frames)/i,ve.innerHTML)?(uo(ve),!0):(ze&&ve.nodeType===3&&(Ge=ve.textContent,Ge=ic(Ge,I," "),Ge=ic(Ge,N," "),Ge=ic(Ge,R," "),ve.textContent!==Ge&&(sC(e.removed,{element:ve.cloneNode()}),ve.textContent=Ge)),Aa("afterSanitizeElements",ve,null),!1)},q_=function(ve,Ge,pt){if(ni&&(Ge==="id"||Ge==="name")&&(pt in r||pt in co))return!1;if(!(Fe&&!Re[Ge]&&Ba(O,Ge))){if(!(_e&&Ba(W,Ge))){if(!J[Ge]||Re[Ge]){if(!(K_(ve)&&(oe.tagNameCheck instanceof RegExp&&Ba(oe.tagNameCheck,ve)||oe.tagNameCheck instanceof Function&&oe.tagNameCheck(ve))&&(oe.attributeNameCheck instanceof RegExp&&Ba(oe.attributeNameCheck,Ge)||oe.attributeNameCheck instanceof Function&&oe.attributeNameCheck(Ge))||Ge==="is"&&oe.allowCustomizedBuiltInElements&&(oe.tagNameCheck instanceof RegExp&&Ba(oe.tagNameCheck,pt)||oe.tagNameCheck instanceof Function&&oe.tagNameCheck(pt))))return!1}else if(!Le[Ge]){if(!Ba(Y,ic(pt,Q,""))){if(!((Ge==="src"||Ge==="xlink:href"||Ge==="href")&&ve!=="script"&&eDe(pt,"data:")===0&&ae[ve])){if(!(Oe&&!Ba(K,ic(pt,Q,"")))){if(pt)return!1}}}}}}return!0},K_=function(ve){return ve.indexOf("-")>0},xu=function(ve){let Ge,pt,$i,Jn;Aa("beforeSanitizeAttributes",ve,null);const{attributes:ho}=ve;if(!ho)return;const bn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:J};for(Jn=ho.length;Jn--;){Ge=ho[Jn];const{name:To,namespaceURI:Uh}=Ge;if(pt=To==="value"?Ge.value:tDe(Ge.value),$i=ri(To),bn.attrName=$i,bn.attrValue=pt,bn.keepAttr=!0,bn.forceKeepAttr=void 0,Aa("uponSanitizeAttribute",ve,bn),pt=bn.attrValue,bn.forceKeepAttr||(xs(To,ve),!bn.keepAttr))continue;if(!De&&Ba(/\/>/i,pt)){xs(To,ve);continue}ze&&(pt=ic(pt,I," "),pt=ic(pt,N," "),pt=ic(pt,R," "));const $h=ri(ve.nodeName);if(q_($h,$i,pt)){if(Yi&&($i==="id"||$i==="name")&&(xs(To,ve),pt=zn+pt),v&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!Uh)switch(f.getAttributeType($h,$i)){case"TrustedHTML":{pt=v.createHTML(pt);break}case"TrustedScriptURL":{pt=v.createScriptURL(pt);break}}try{Uh?ve.setAttributeNS(Uh,To,pt):ve.setAttribute(To,pt),Mq(e.removed)}catch{}}}Aa("afterSanitizeAttributes",ve,null)},G_=function Ct(ve){let Ge;const pt=Su(ve);for(Aa("beforeSanitizeShadowDOM",ve,null);Ge=pt.nextNode();)Aa("uponSanitizeShadowNode",Ge,null),!jh(Ge)&&(Ge.content instanceof o&&Ct(Ge.content),xu(Ge));Aa("afterSanitizeShadowDOM",ve,null)};return e.sanitize=function(Ct){let ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ge,pt,$i,Jn;if(ci=!Ct,ci&&(Ct="<!-->"),typeof Ct!="string"&&!Qo(Ct))if(typeof Ct.toString=="function"){if(Ct=Ct.toString(),typeof Ct!="string")throw aC("dirty is not a string, aborting")}else throw aC("toString is not a function");if(!e.isSupported)return Ct;if(Ze||Do(ve),e.removed=[],typeof Ct=="string"&&(he=!1),he){if(Ct.nodeName){const To=ri(Ct.nodeName);if(!V[To]||Me[To])throw aC("root node is forbidden and cannot be sanitized in-place")}}else if(Ct instanceof a)Ge=fl("<!---->"),pt=Ge.ownerDocument.importNode(Ct,!0),pt.nodeType===1&&pt.nodeName==="BODY"||pt.nodeName==="HTML"?Ge=pt:Ge.appendChild(pt);else{if(!ot&&!ze&&!ke&&Ct.indexOf("<")===-1)return v&&st?v.createHTML(Ct):Ct;if(Ge=fl(Ct),!Ge)return ot?null:st?b:""}Ge&&vt&&uo(Ge.firstChild);const ho=Su(he?Ct:Ge);for(;$i=ho.nextNode();)jh($i)||($i.content instanceof o&&G_($i.content),xu($i));if(he)return Ct;if(ot){if(ct)for(Jn=x.call(Ge.ownerDocument);Ge.firstChild;)Jn.appendChild(Ge.firstChild);else Jn=Ge;return(J.shadowroot||J.shadowrootmode)&&(Jn=D.call(t,Jn,!0)),Jn}let bn=ke?Ge.outerHTML:Ge.innerHTML;return ke&&V["!doctype"]&&Ge.ownerDocument&&Ge.ownerDocument.doctype&&Ge.ownerDocument.doctype.name&&Ba(fae,Ge.ownerDocument.doctype.name)&&(bn="<!DOCTYPE "+Ge.ownerDocument.doctype.name+`>
`+bn),ze&&(bn=ic(bn,I," "),bn=ic(bn,N," "),bn=ic(bn,R," ")),v&&st?v.createHTML(bn):bn},e.setConfig=function(Ct){Do(Ct),Ze=!0},e.clearConfig=function(){rn=null,Ze=!1},e.isValidAttribute=function(Ct,ve,Ge){rn||Do({});const pt=ri(Ct),$i=ri(ve);return q_(pt,$i,Ge)},e.addHook=function(Ct,ve){typeof ve=="function"&&(E[Ct]=E[Ct]||[],sC(E[Ct],ve))},e.removeHook=function(Ct){if(E[Ct])return Mq(E[Ct])},e.removeHooks=function(Ct){E[Ct]&&(E[Ct]=[])},e.removeAllHooks=function(){E={}},e}var _u=gae();_u.version;_u.isSupported;const pae=_u.sanitize;_u.setConfig;_u.clearConfig;_u.isValidAttribute;const MF=_u.addHook,mae=_u.removeHook;_u.removeHooks;_u.removeAllHooks;var Tt;(function(n){n.inMemory="inmemory",n.vscode="vscode",n.internal="private",n.walkThrough="walkThrough",n.walkThroughSnippet="walkThroughSnippet",n.http="http",n.https="https",n.file="file",n.mailto="mailto",n.untitled="untitled",n.data="data",n.command="command",n.vscodeRemote="vscode-remote",n.vscodeRemoteResource="vscode-remote-resource",n.vscodeManagedRemoteResource="vscode-managed-remote-resource",n.vscodeUserData="vscode-userdata",n.vscodeCustomEditor="vscode-custom-editor",n.vscodeNotebookCell="vscode-notebook-cell",n.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",n.vscodeNotebookCellOutput="vscode-notebook-cell-output",n.vscodeInteractiveInput="vscode-interactive-input",n.vscodeSettings="vscode-settings",n.vscodeWorkspaceTrust="vscode-workspace-trust",n.vscodeTerminal="vscode-terminal",n.vscodeChatSesssion="vscode-chat-editor",n.webviewPanel="webview-panel",n.vscodeWebview="vscode-webview",n.extension="extension",n.vscodeFileResource="vscode-file",n.tmp="tmp",n.vsls="vsls",n.vscodeSourceControl="vscode-scm"})(Tt||(Tt={}));function h6(n,e){return rt.isUri(n)?G0(n.scheme,e):e6(n,e+":")}function Wq(n,...e){return e.some(t=>h6(n,t))}const gDe="tkn";class pDe{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${Tt.vscodeRemoteResource}`}setPreferredWebSchema(e){this._preferredWebSchema=e}rewrite(e){if(this._delegate)try{return this._delegate(e)}catch(a){return St(a),e}const t=e.authority;let i=this._hosts[t];i&&i.indexOf(":")!==-1&&i.indexOf("[")===-1&&(i=`[${i}]`);const r=this._ports[t],o=this._connectionTokens[t];let s=`path=${encodeURIComponent(e.path)}`;return typeof o=="string"&&(s+=`&${gDe}=${encodeURIComponent(o)}`),rt.from({scheme:lp?this._preferredWebSchema:Tt.vscodeRemoteResource,authority:`${i}:${r}`,path:this._remoteResourcesPath,query:s})}}const _ae=new pDe,mDe="vscode-app";class U1{uriToBrowserUri(e){return e.scheme===Tt.vscodeRemote?_ae.rewrite(e):e.scheme===Tt.file&&(Mc||ixe===`${Tt.vscodeFileResource}://${U1.FALLBACK_AUTHORITY}`)?e.with({scheme:Tt.vscodeFileResource,authority:e.authority||U1.FALLBACK_AUTHORITY,query:null,fragment:null}):e}}U1.FALLBACK_AUTHORITY=mDe;const vae=new U1;var Vq;(function(n){const e=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);n.CoopAndCoep=Object.freeze(e.get("3"));const t="vscode-coi";function i(o){let s;typeof o=="string"?s=new URL(o).searchParams:o instanceof URL?s=o.searchParams:rt.isUri(o)&&(s=new URL(o.toString(!0)).searchParams);const a=s==null?void 0:s.get(t);if(a)return e.get(a)}n.getHeadersFromQuery=i;function r(o,s,a){if(!globalThis.crossOriginIsolated)return;const l=s&&a?"3":a?"2":"1";o instanceof URLSearchParams?o.set(t,l):o[t]=l}n.addSearchParam=r})(Vq||(Vq={}));function IP(n){return NP(n,0)}function NP(n,e){switch(typeof n){case"object":return n===null?Ju(349,e):Array.isArray(n)?vDe(n,e):bDe(n,e);case"string":return f6(n,e);case"boolean":return _De(n,e);case"number":return Ju(n,e);case"undefined":return Ju(937,e);default:return Ju(617,e)}}function Ju(n,e){return(e<<5)-e+n|0}function _De(n,e){return Ju(n?433:863,e)}function f6(n,e){e=Ju(149417,e);for(let t=0,i=n.length;t<i;t++)e=Ju(n.charCodeAt(t),e);return e}function vDe(n,e){return e=Ju(104579,e),n.reduce((t,i)=>NP(i,t),e)}function bDe(n,e){return e=Ju(181387,e),Object.keys(n).sort().reduce((t,i)=>(t=f6(i,t),NP(n[i],t)),e)}function CA(n,e,t=32){const i=t-e,r=~((1<<i)-1);return(n<<e|(r&n)>>>i)>>>0}function Hq(n,e=0,t=n.byteLength,i=0){for(let r=0;r<t;r++)n[e+r]=i}function yDe(n,e,t="0"){for(;n.length<e;)n=t+n;return n}function lC(n,e=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join(""):yDe((n>>>0).toString(16),e/4)}class PP{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){const t=e.length;if(t===0)return;const i=this._buff;let r=this._buffLen,o=this._leftoverHighSurrogate,s,a;for(o!==0?(s=o,a=-1,o=0):(s=e.charCodeAt(0),a=0);;){let l=s;if(cr(s))if(a+1<t){const c=e.charCodeAt(a+1);Um(c)?(a++,l=t6(s,c)):l=65533}else{o=s;break}else Um(s)&&(l=65533);if(r=this._push(i,r,l),a++,a<t)s=e.charCodeAt(a);else break}this._buffLen=r,this._leftoverHighSurrogate=o}_push(e,t,i){return i<128?e[t++]=i:i<2048?(e[t++]=192|(i&1984)>>>6,e[t++]=128|(i&63)>>>0):i<65536?(e[t++]=224|(i&61440)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0):(e[t++]=240|(i&1835008)>>>18,e[t++]=128|(i&258048)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),lC(this._h0)+lC(this._h1)+lC(this._h2)+lC(this._h3)+lC(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,Hq(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Hq(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=PP._bigBlock32,t=this._buffDV;for(let u=0;u<64;u+=4)e.setUint32(u,t.getUint32(u,!1),!1);for(let u=64;u<320;u+=4)e.setUint32(u,CA(e.getUint32(u-12,!1)^e.getUint32(u-32,!1)^e.getUint32(u-56,!1)^e.getUint32(u-64,!1),1),!1);let i=this._h0,r=this._h1,o=this._h2,s=this._h3,a=this._h4,l,c,d;for(let u=0;u<80;u++)u<20?(l=r&o|~r&s,c=1518500249):u<40?(l=r^o^s,c=1859775393):u<60?(l=r&o|r&s|o&s,c=2400959708):(l=r^o^s,c=3395469782),d=CA(i,5)+l+a+c+e.getUint32(u*4,!1)&4294967295,a=s,s=o,o=CA(r,30),r=i,i=d;this._h0=this._h0+i&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+o&4294967295,this._h3=this._h3+s&4294967295,this._h4=this._h4+a&4294967295}}PP._bigBlock32=new DataView(new ArrayBuffer(320));const{registerWindow:nZe,getWindow:ht,getDocument:rZe,getWindows:bae,getWindowsCount:CDe,getWindowId:zq,getWindowById:oZe,hasWindow:sZe,onDidRegisterWindow:MP,onWillUnregisterWindow:wDe,onDidUnregisterWindow:aZe}=function(){const n=new Map;BLe(wi,1),n.set(wi.vscodeWindowId,{window:wi,disposables:new xe});const e=new ne,t=new ne,i=new ne;return{onDidRegisterWindow:e.event,onWillUnregisterWindow:i.event,onDidUnregisterWindow:t.event,registerWindow(r){if(n.has(r.vscodeWindowId))return ce.None;const o=new xe,s={window:r,disposables:o.add(new xe)};return n.set(r.vscodeWindowId,s),o.add(at(()=>{n.delete(r.vscodeWindowId),t.fire(r)})),o.add(ge(r,Ne.BEFORE_UNLOAD,()=>{i.fire(r)})),e.fire(s),o},getWindows(){return n.values()},getWindowsCount(){return n.size},getWindowId(r){return r.vscodeWindowId},hasWindow(r){return n.has(r)},getWindowById(r){return n.get(r)},getWindow(r){var o;const s=r;if(!((o=s==null?void 0:s.ownerDocument)===null||o===void 0)&&o.defaultView)return s.ownerDocument.defaultView.window;const a=r;return a!=null&&a.view?a.view.window:wi},getDocument(r){return ht(r).document}}}();function $r(n){for(;n.firstChild;)n.firstChild.remove()}class SDe{constructor(e,t,i,r){this._node=e,this._type=t,this._handler=i,this._options=r||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function ge(n,e,t,i){return new SDe(n,e,t,i)}function yae(n,e){return function(t){return e(new Ml(n,t))}}function xDe(n){return function(e){return n(new Oi(e))}}const kn=function(e,t,i,r){let o=i;return t==="click"||t==="mousedown"?o=yae(ht(e),i):(t==="keydown"||t==="keypress"||t==="keyup")&&(o=xDe(i)),ge(e,t,o,r)},LDe=function(e,t,i){const r=yae(ht(e),t);return kDe(e,r,i)};function kDe(n,e,t){return ge(n,jc&&c6.pointerEvents?Ne.POINTER_DOWN:Ne.MOUSE_DOWN,e,t)}function jC(n,e,t){return Iw(n,e,t)}class wA extends dae{constructor(e,t){super(e,t)}}let HE,Hs;class g6 extends u6{constructor(e){super(),this.defaultTarget=e&&ht(e)}cancelAndSet(e,t,i){return super.cancelAndSet(e,t,i??this.defaultTarget)}}class SA{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){St(e)}}static sort(e,t){return t.priority-e.priority}}(function(){const n=new Map,e=new Map,t=new Map,i=new Map,r=o=>{var s;t.set(o,!1);const a=(s=n.get(o))!==null&&s!==void 0?s:[];for(e.set(o,a),n.set(o,[]),i.set(o,!0);a.length>0;)a.sort(SA.sort),a.shift().execute();i.set(o,!1)};Hs=(o,s,a=0)=>{const l=zq(o),c=new SA(s,a);let d=n.get(l);return d||(d=[],n.set(l,d)),d.push(c),t.get(l)||(t.set(l,!0),o.requestAnimationFrame(()=>r(l))),c},HE=(o,s,a)=>{const l=zq(o);if(i.get(l)){const c=new SA(s,a);let d=e.get(l);return d||(d=[],e.set(l,d)),d.push(c),c}else return Hs(o,s,a)}})();function RP(n){return ht(n).getComputedStyle(n,null)}function Ag(n,e){const t=ht(n),i=t.document;if(n!==i.body)return new oi(n.clientWidth,n.clientHeight);if(jc&&(t!=null&&t.visualViewport))return new oi(t.visualViewport.width,t.visualViewport.height);if(t!=null&&t.innerWidth&&t.innerHeight)return new oi(t.innerWidth,t.innerHeight);if(i.body&&i.body.clientWidth&&i.body.clientHeight)return new oi(i.body.clientWidth,i.body.clientHeight);if(i.documentElement&&i.documentElement.clientWidth&&i.documentElement.clientHeight)return new oi(i.documentElement.clientWidth,i.documentElement.clientHeight);if(e)return Ag(e);throw new Error("Unable to figure out browser width and height")}class wn{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,i){const r=RP(e),o=r?r.getPropertyValue(t):"0";return wn.convertToPixels(e,o)}static getBorderLeftWidth(e){return wn.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return wn.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return wn.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return wn.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return wn.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return wn.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return wn.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return wn.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return wn.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return wn.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return wn.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return wn.getDimension(e,"margin-bottom","marginBottom")}}class oi{constructor(e,t){this.width=e,this.height=t}with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new oi(e,t):this}static is(e){return typeof e=="object"&&typeof e.height=="number"&&typeof e.width=="number"}static lift(e){return e instanceof oi?e:new oi(e.width,e.height)}static equals(e,t){return e===t?!0:!e||!t?!1:e.width===t.width&&e.height===t.height}}oi.None=new oi(0,0);function Cae(n){let e=n.offsetParent,t=n.offsetTop,i=n.offsetLeft;for(;(n=n.parentNode)!==null&&n!==n.ownerDocument.body&&n!==n.ownerDocument.documentElement;){t-=n.scrollTop;const r=Sae(n)?null:RP(n);r&&(i-=r.direction!=="rtl"?n.scrollLeft:-n.scrollLeft),n===e&&(i+=wn.getBorderLeftWidth(n),t+=wn.getBorderTopWidth(n),t+=n.offsetTop,i+=n.offsetLeft,e=n.offsetParent)}return{left:i,top:t}}function DDe(n,e,t){typeof e=="number"&&(n.style.width=`${e}px`),typeof t=="number"&&(n.style.height=`${t}px`)}function Vn(n){const e=n.getBoundingClientRect(),t=ht(n);return{left:e.left+t.scrollX,top:e.top+t.scrollY,width:e.width,height:e.height}}function wae(n){let e=n,t=1;do{const i=RP(e).zoom;i!=null&&i!=="1"&&(t*=i),e=e.parentElement}while(e!==null&&e!==e.ownerDocument.documentElement);return t}function os(n){const e=wn.getMarginLeft(n)+wn.getMarginRight(n);return n.offsetWidth+e}function xA(n){const e=wn.getBorderLeftWidth(n)+wn.getBorderRightWidth(n),t=wn.getPaddingLeft(n)+wn.getPaddingRight(n);return n.offsetWidth-e-t}function TDe(n){const e=wn.getBorderTopWidth(n)+wn.getBorderBottomWidth(n),t=wn.getPaddingTop(n)+wn.getPaddingBottom(n);return n.offsetHeight-e-t}function am(n){const e=wn.getMarginTop(n)+wn.getMarginBottom(n);return n.offsetHeight+e}function Ar(n,e){return!!(e!=null&&e.contains(n))}function EDe(n,e,t){for(;n&&n.nodeType===n.ELEMENT_NODE;){if(n.classList.contains(e))return n;if(t){if(typeof t=="string"){if(n.classList.contains(t))return null}else if(n===t)return null}n=n.parentNode}return null}function LA(n,e,t){return!!EDe(n,e,t)}function Sae(n){return n&&!!n.host&&!!n.mode}function zE(n){return!!Gm(n)}function Gm(n){for(var e;n.parentNode;){if(n===((e=n.ownerDocument)===null||e===void 0?void 0:e.body))return null;n=n.parentNode}return Sae(n)?n:null}function qr(){let n=by().activeElement;for(;n!=null&&n.shadowRoot;)n=n.shadowRoot.activeElement;return n}function AP(n){return qr()===n}function xae(n){return Ar(qr(),n)}function by(){var n;return CDe()<=1?wi.document:(n=Array.from(bae()).map(({window:t})=>t.document).find(t=>t.hasFocus()))!==null&&n!==void 0?n:wi.document}function IDe(){var n,e;return(e=(n=by().defaultView)===null||n===void 0?void 0:n.window)!==null&&e!==void 0?e:wi}const p6=new Map;function NDe(){return new PDe}class PDe{constructor(){this._currentCssStyle="",this._styleSheet=void 0}setStyle(e){e!==this._currentCssStyle&&(this._currentCssStyle=e,this._styleSheet?this._styleSheet.innerText=e:this._styleSheet=La(wi.document.head,t=>t.innerText=e))}dispose(){this._styleSheet&&($r(this._styleSheet),this._styleSheet=void 0)}}function La(n=wi.document.head,e,t){const i=document.createElement("style");if(i.type="text/css",i.media="screen",e==null||e(i),n.appendChild(i),t&&t.add(at(()=>n.removeChild(i))),n===wi.document.head){const r=new Set;p6.set(i,r);for(const{window:o,disposables:s}of bae()){if(o===wi)continue;const a=s.add(MDe(i,r,o));t==null||t.add(a)}}return i}function MDe(n,e,t){var i,r;const o=new xe,s=n.cloneNode(!0);t.document.head.appendChild(s),o.add(at(()=>t.document.head.removeChild(s)));for(const a of kae(n))(i=s.sheet)===null||i===void 0||i.insertRule(a.cssText,(r=s.sheet)===null||r===void 0?void 0:r.cssRules.length);return o.add(RDe.observe(n,o,{childList:!0})(()=>{s.textContent=n.textContent})),e.add(s),o.add(at(()=>e.delete(s))),o}const RDe=new class{constructor(){this.mutationObservers=new Map}observe(n,e,t){let i=this.mutationObservers.get(n);i||(i=new Map,this.mutationObservers.set(n,i));const r=IP(t);let o=i.get(r);if(o)o.users+=1;else{const s=new ne,a=new MutationObserver(c=>s.fire(c));a.observe(n,t);const l=o={users:1,observer:a,onDidMutate:s.event};e.add(at(()=>{l.users-=1,l.users===0&&(s.dispose(),a.disconnect(),i==null||i.delete(r),(i==null?void 0:i.size)===0&&this.mutationObservers.delete(n))})),i.set(r,o)}return o.onDidMutate}};let kA=null;function Lae(){return kA||(kA=La()),kA}function kae(n){var e,t;return!((e=n==null?void 0:n.sheet)===null||e===void 0)&&e.rules?n.sheet.rules:!((t=n==null?void 0:n.sheet)===null||t===void 0)&&t.cssRules?n.sheet.cssRules:[]}function jE(n,e,t=Lae()){var i,r;if(!(!t||!e)){(i=t.sheet)===null||i===void 0||i.insertRule(`${n} {${e}}`,0);for(const o of(r=p6.get(t))!==null&&r!==void 0?r:[])jE(n,e,o)}}function RF(n,e=Lae()){var t,i;if(!e)return;const r=kae(e),o=[];for(let s=0;s<r.length;s++){const a=r[s];ADe(a)&&a.selectorText.indexOf(n)!==-1&&o.push(s)}for(let s=o.length-1;s>=0;s--)(t=e.sheet)===null||t===void 0||t.deleteRule(o[s]);for(const s of(i=p6.get(e))!==null&&i!==void 0?i:[])RF(n,s)}function ADe(n){return typeof n.selectorText=="string"}function m6(n){return n instanceof MouseEvent||n instanceof ht(n).MouseEvent}function _6(n){return n instanceof KeyboardEvent||n instanceof ht(n).KeyboardEvent}const Ne={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:ym?"webkitAnimationStart":"animationstart",ANIMATION_END:ym?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:ym?"webkitAnimationIteration":"animationiteration"};function ODe(n){const e=n;return!!(e&&typeof e.preventDefault=="function"&&typeof e.stopPropagation=="function")}const Mt={stop:(n,e)=>(n.preventDefault(),e&&n.stopPropagation(),n)};function FDe(n){const e=[];for(let t=0;n&&n.nodeType===n.ELEMENT_NODE;t++)e[t]=n.scrollTop,n=n.parentNode;return e}function BDe(n,e){for(let t=0;n&&n.nodeType===n.ELEMENT_NODE;t++)n.scrollTop!==e[t]&&(n.scrollTop=e[t]),n=n.parentNode}class UE extends ce{static hasFocusWithin(e){if(e instanceof HTMLElement){const t=Gm(e),i=t?t.activeElement:e.ownerDocument.activeElement;return Ar(i,e)}else{const t=e;return Ar(t.document.activeElement,t.document)}}constructor(e){super(),this._onDidFocus=this._register(new ne),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new ne),this.onDidBlur=this._onDidBlur.event;let t=UE.hasFocusWithin(e),i=!1;const r=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},o=()=>{t&&(i=!0,(e instanceof HTMLElement?ht(e):e).setTimeout(()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{UE.hasFocusWithin(e)!==t&&(t?o():r())},this._register(ge(e,Ne.FOCUS,r,!0)),this._register(ge(e,Ne.BLUR,o,!0)),e instanceof HTMLElement&&(this._register(ge(e,Ne.FOCUS_IN,()=>this._refreshStateHandler())),this._register(ge(e,Ne.FOCUS_OUT,()=>this._refreshStateHandler())))}}function $c(n){return new UE(n)}function WDe(n,e){return n.after(e),e}function Se(n,...e){if(n.append(...e),e.length===1&&typeof e[0]!="string")return e[0]}function v6(n,e){return n.insertBefore(e,n.firstChild),e}function Kr(n,...e){n.innerText="",Se(n,...e)}const VDe=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var $1;(function(n){n.HTML="http://www.w3.org/1999/xhtml",n.SVG="http://www.w3.org/2000/svg"})($1||($1={}));function Dae(n,e,t,...i){const r=VDe.exec(e);if(!r)throw new Error("Bad use of emmet");const o=r[1]||"div";let s;return n!==$1.HTML?s=document.createElementNS(n,o):s=document.createElement(o),r[3]&&(s.id=r[3]),r[4]&&(s.className=r[4].replace(/\./g," ").trim()),t&&Object.entries(t).forEach(([a,l])=>{typeof l>"u"||(/^on\w+$/.test(a)?s[a]=l:a==="selected"?l&&s.setAttribute(a,"true"):s.setAttribute(a,l))}),s.append(...i),s}function Te(n,e,...t){return Dae($1.HTML,n,e,...t)}Te.SVG=function(n,e,...t){return Dae($1.SVG,n,e,...t)};function HDe(n,...e){n?Ps(...e):Mo(...e)}function Ps(...n){for(const e of n)e.style.display="",e.removeAttribute("aria-hidden")}function Mo(...n){for(const e of n)e.style.display="none",e.setAttribute("aria-hidden","true")}function jq(n,e){const t=n.devicePixelRatio*e;return Math.max(1,Math.floor(t))/n.devicePixelRatio}function Tae(n){wi.open(n,"_blank","noopener")}function zDe(n,e){const t=()=>{e(),i=Hs(n,t)};let i=Hs(n,t);return at(()=>i.dispose())}_ae.setPreferredWebSchema(/^https:/.test(wi.location.href)?"https":"http");function Og(n){return n?`url('${vae.uriToBrowserUri(n).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function Uq(n){return`'${n.replace(/'/g,"%27")}'`}function gh(n,e){if(n!==void 0){const t=n.match(/^\s*var\((.+)\)$/);if(t){const i=t[1].split(",",2);return i.length===2&&(e=gh(i[1].trim(),e)),`var(${i[0]}, ${e})`}return n}return e}function jDe(n,e=!1){const t=document.createElement("a");return MF("afterSanitizeAttributes",i=>{for(const r of["href","src"])if(i.hasAttribute(r)){const o=i.getAttribute(r);if(r==="href"&&o.startsWith("#"))continue;if(t.href=o,!n.includes(t.protocol.replace(/:$/,""))){if(e&&r==="src"&&t.href.startsWith("data:"))continue;i.removeAttribute(r)}}}),at(()=>{mae("afterSanitizeAttributes")})}const UDe=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);class eh extends ne{constructor(){super(),this._subscriptions=new xe,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(Ve.runAndSubscribe(MP,({window:e,disposables:t})=>this.registerListeners(e,t),{window:wi,disposables:this._subscriptions}))}registerListeners(e,t){t.add(ge(e,"keydown",i=>{if(i.defaultPrevented)return;const r=new Oi(i);if(!(r.keyCode===6&&i.repeat)){if(i.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(i.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(i.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(i.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(r.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=i.altKey,this._keyStatus.ctrlKey=i.ctrlKey,this._keyStatus.metaKey=i.metaKey,this._keyStatus.shiftKey=i.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=i,this.fire(this._keyStatus))}},!0)),t.add(ge(e,"keyup",i=>{i.defaultPrevented||(!i.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!i.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!i.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!i.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=i.altKey,this._keyStatus.ctrlKey=i.ctrlKey,this._keyStatus.metaKey=i.metaKey,this._keyStatus.shiftKey=i.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=i,this.fire(this._keyStatus)))},!0)),t.add(ge(e.document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),t.add(ge(e.document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),t.add(ge(e.document.body,"mousemove",i=>{i.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),t.add(ge(e,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return eh.instance||(eh.instance=new eh),eh.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class $De extends ce{constructor(e,t){super(),this.element=e,this.callbacks=t,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this.callbacks.onDragStart&&this._register(ge(this.element,Ne.DRAG_START,e=>{var t,i;(i=(t=this.callbacks).onDragStart)===null||i===void 0||i.call(t,e)})),this.callbacks.onDrag&&this._register(ge(this.element,Ne.DRAG,e=>{var t,i;(i=(t=this.callbacks).onDrag)===null||i===void 0||i.call(t,e)})),this._register(ge(this.element,Ne.DRAG_ENTER,e=>{var t,i;this.counter++,this.dragStartTime=e.timeStamp,(i=(t=this.callbacks).onDragEnter)===null||i===void 0||i.call(t,e)})),this._register(ge(this.element,Ne.DRAG_OVER,e=>{var t,i;e.preventDefault(),(i=(t=this.callbacks).onDragOver)===null||i===void 0||i.call(t,e,e.timeStamp-this.dragStartTime)})),this._register(ge(this.element,Ne.DRAG_LEAVE,e=>{var t,i;this.counter--,this.counter===0&&(this.dragStartTime=0,(i=(t=this.callbacks).onDragLeave)===null||i===void 0||i.call(t,e))})),this._register(ge(this.element,Ne.DRAG_END,e=>{var t,i;this.counter=0,this.dragStartTime=0,(i=(t=this.callbacks).onDragEnd)===null||i===void 0||i.call(t,e)})),this._register(ge(this.element,Ne.DROP,e=>{var t,i;this.counter=0,this.dragStartTime=0,(i=(t=this.callbacks).onDrop)===null||i===void 0||i.call(t,e)}))}}const qDe=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function Ri(n,...e){let t,i;Array.isArray(e[0])?(t={},i=e[0]):(t=e[0]||{},i=e[1]);const r=qDe.exec(n);if(!r||!r.groups)throw new Error("Bad use of h");const o=r.groups.tag||"div",s=document.createElement(o);r.groups.id&&(s.id=r.groups.id);const a=[];if(r.groups.class)for(const c of r.groups.class.split("."))c!==""&&a.push(c);if(t.className!==void 0)for(const c of t.className.split("."))c!==""&&a.push(c);a.length>0&&(s.className=a.join(" "));const l={};if(r.groups.name&&(l[r.groups.name]=s),i)for(const c of i)c instanceof HTMLElement?s.appendChild(c):typeof c=="string"?s.append(c):"root"in c&&(Object.assign(l,c),s.appendChild(c.root));for(const[c,d]of Object.entries(t))if(c!=="className")if(c==="style")for(const[u,h]of Object.entries(d))s.style.setProperty($q(u),typeof h=="number"?h+"px":""+h);else c==="tabIndex"?s.tabIndex=d:s.setAttribute($q(c),d.toString());return l.root=s,l}function $q(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}class OP{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this.metadata=e.metadata}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const e=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const t of e){let i=t.kbExpr;this.precondition&&(i?i=we.and(i,this.precondition):i=this.precondition);const r={id:this.id,weight:t.weight,args:t.args,when:i,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};vs.registerKeybindingRule(r)}}Gt.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),metadata:this.metadata})}_registerMenuItem(e){Rr.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}}class yy extends OP{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t,i,r){return this._implementations.push({priority:e,name:t,implementation:i,when:r}),this._implementations.sort((o,s)=>s.priority-o.priority),{dispose:()=>{for(let o=0;o<this._implementations.length;o++)if(this._implementations[o].implementation===i){this._implementations.splice(o,1);return}}}}runCommand(e,t){const i=e.get(Ks),r=e.get(_t);i.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const o of this._implementations){if(o.when){const a=r.getContext(qr());if(!o.when.evaluate(a))continue}const s=o.implementation(e,t);if(s)return i.trace(`Command '${this.id}' was handled by '${o.name}'.`),typeof s=="boolean"?void 0:s}i.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class Eae extends OP{constructor(e,t){super(t),this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}}class kr extends OP{static bindToContribution(e){return class extends kr{constructor(i){super(i),this._callback=i.handler}runEditorCommand(i,r,o){const s=e(r);s&&this._callback(s,o)}}}static runEditorCommand(e,t,i,r){const o=e.get(ai),s=o.getFocusedCodeEditor()||o.getActiveCodeEditor();if(s)return s.invokeWithinContext(a=>{if(a.get(_t).contextMatchesRules(i??void 0))return r(a,s,t)})}runCommand(e,t){return kr.runEditorCommand(e,t,this.precondition,(i,r,o)=>this.runEditorCommand(i,r,o))}}class $e extends kr{static convertOptions(e){let t;Array.isArray(e.menuOpts)?t=e.menuOpts:e.menuOpts?t=[e.menuOpts]:t=[];function i(r){return r.menuId||(r.menuId=H.EditorContext),r.title||(r.title=e.label),r.when=we.and(e.precondition,r.when),r}return Array.isArray(e.contextMenuOpts)?t.push(...e.contextMenuOpts.map(i)):e.contextMenuOpts&&t.push(i(e.contextMenuOpts)),e.menuOpts=t,e}constructor(e){super($e.convertOptions(e)),this.label=e.label,this.alias=e.alias}runEditorCommand(e,t,i){return this.reportTelemetry(e,t),this.run(e,t,i||{})}reportTelemetry(e,t){e.get(qs).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class Iae extends $e{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t){return this._implementations.push([e,t]),this._implementations.sort((i,r)=>r[0]-i[0]),{dispose:()=>{for(let i=0;i<this._implementations.length;i++)if(this._implementations[i][1]===t){this._implementations.splice(i,1);return}}}}run(e,t,i){for(const r of this._implementations){const o=r[1](e,t,i);if(o)return typeof o=="boolean"?void 0:o}}}class td extends Ia{run(e,...t){const i=e.get(ai),r=i.getFocusedCodeEditor()||i.getActiveCodeEditor();if(r)return r.invokeWithinContext(o=>{var s,a;const l=o.get(_t),c=o.get(Ks);if(!l.contextMatchesRules((s=this.desc.precondition)!==null&&s!==void 0?s:void 0)){c.debug("[EditorAction2] NOT running command because its precondition is FALSE",this.desc.id,(a=this.desc.precondition)===null||a===void 0?void 0:a.serialize());return}return this.runEditorCommand(o,r,...t)})}}function vu(n,e){Gt.registerCommand(n,function(t,...i){const r=t.get(dt),[o,s]=i;Ci(rt.isUri(o)),Ci(re.isIPosition(s));const a=t.get(Ji).getModel(o);if(a){const l=re.lift(s);return r.invokeFunction(e,a,l,...i.slice(2))}return t.get(Cs).createModelReference(o).then(l=>new Promise((c,d)=>{try{const u=r.invokeFunction(e,l.object.textEditorModel,re.lift(s),i.slice(2));c(u)}catch(u){d(u)}}).finally(()=>{l.dispose()}))})}function We(n){return ja.INSTANCE.registerEditorCommand(n),n}function Ee(n){const e=new n;return ja.INSTANCE.registerEditorAction(e),e}function Nae(n){return ja.INSTANCE.registerEditorAction(n),n}function KDe(n){ja.INSTANCE.registerEditorAction(n)}function li(n,e,t){ja.INSTANCE.registerEditorContribution(n,e,t)}var Iv;(function(n){function e(s){return ja.INSTANCE.getEditorCommand(s)}n.getEditorCommand=e;function t(){return ja.INSTANCE.getEditorActions()}n.getEditorActions=t;function i(){return ja.INSTANCE.getEditorContributions()}n.getEditorContributions=i;function r(s){return ja.INSTANCE.getEditorContributions().filter(a=>s.indexOf(a.id)>=0)}n.getSomeEditorContributions=r;function o(){return ja.INSTANCE.getDiffEditorContributions()}n.getDiffEditorContributions=o})(Iv||(Iv={}));const GDe={EditorCommonContributions:"editor.contributions"};class ja{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t,i){this.editorContributions.push({id:e,ctor:t,instantiation:i})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}}ja.INSTANCE=new ja;nn.add(GDe.EditorCommonContributions,ja.INSTANCE);function Ox(n){return n.register(),n}const Pae=Ox(new yy({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:H.MenubarEditMenu,group:"1_do",title:w({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:H.CommandPalette,group:"",title:w("undo","Undo"),order:1}]}));Ox(new Eae(Pae,{id:"default:undo",precondition:void 0}));const Mae=Ox(new yy({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:H.MenubarEditMenu,group:"1_do",title:w({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:H.CommandPalette,group:"",title:w("redo","Redo"),order:1}]}));Ox(new Eae(Mae,{id:"default:redo",precondition:void 0}));const ZDe=Ox(new yy({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:H.MenubarSelectionMenu,group:"1_basic",title:w({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:H.CommandPalette,group:"",title:w("selectAll","Select All"),order:1}]})),YDe="$initialize";let qq=!1;function AF(n){lp&&(qq||(qq=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(n.message))}class XDe{constructor(e,t,i,r){this.vsWorker=e,this.req=t,this.method=i,this.args=r,this.type=0}}class Kq{constructor(e,t,i,r){this.vsWorker=e,this.seq=t,this.res=i,this.err=r,this.type=1}}class QDe{constructor(e,t,i,r){this.vsWorker=e,this.req=t,this.eventName=i,this.arg=r,this.type=2}}class JDe{constructor(e,t,i){this.vsWorker=e,this.req=t,this.event=i,this.type=3}}class eTe{constructor(e,t){this.vsWorker=e,this.req=t,this.type=4}}class tTe{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(e){this._workerId=e}sendMessage(e,t){const i=String(++this._lastSentReq);return new Promise((r,o)=>{this._pendingReplies[i]={resolve:r,reject:o},this._send(new XDe(this._workerId,i,e,t))})}listen(e,t){let i=null;const r=new ne({onWillAddFirstListener:()=>{i=String(++this._lastSentReq),this._pendingEmitters.set(i,r),this._send(new QDe(this._workerId,i,e,t))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(i),this._send(new eTe(this._workerId,i)),i=null}});return r.event}handleMessage(e){!e||!e.vsWorker||this._workerId!==-1&&e.vsWorker!==this._workerId||this._handleMessage(e)}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}_handleReplyMessage(e){if(!this._pendingReplies[e.seq]){console.warn("Got reply to unknown seq");return}const t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){let i=e.err;e.err.$isError&&(i=new Error,i.name=e.err.name,i.message=e.err.message,i.stack=e.err.stack),t.reject(i);return}t.resolve(e.res)}_handleRequestMessage(e){const t=e.req;this._handler.handleMessage(e.method,e.args).then(r=>{this._send(new Kq(this._workerId,t,r,void 0))},r=>{r.detail instanceof Error&&(r.detail=_q(r.detail)),this._send(new Kq(this._workerId,t,void 0,_q(r)))})}_handleSubscribeEventMessage(e){const t=e.req,i=this._handler.handleEvent(e.eventName,e.arg)(r=>{this._send(new JDe(this._workerId,t,r))});this._pendingEvents.set(t,i)}_handleEventMessage(e){if(!this._pendingEmitters.has(e.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(e.req).fire(e.event)}_handleUnsubscribeEventMessage(e){if(!this._pendingEvents.has(e.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req)}_send(e){const t=[];if(e.type===0)for(let i=0;i<e.args.length;i++)e.args[i]instanceof ArrayBuffer&&t.push(e.args[i]);else e.type===1&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t)}}class iTe extends ce{constructor(e,t,i){super();let r=null;this._worker=this._register(e.create("vs/base/common/worker/simpleWorker",d=>{this._protocol.handleMessage(d)},d=>{r==null||r(d)})),this._protocol=new tTe({sendMessage:(d,u)=>{this._worker.postMessage(d,u)},handleMessage:(d,u)=>{if(typeof i[d]!="function")return Promise.reject(new Error("Missing method "+d+" on main thread host."));try{return Promise.resolve(i[d].apply(i,u))}catch(h){return Promise.reject(h)}},handleEvent:(d,u)=>{if(Aae(d)){const h=i[d].call(i,u);if(typeof h!="function")throw new Error(`Missing dynamic event ${d} on main thread host.`);return h}if(Rae(d)){const h=i[d];if(typeof h!="function")throw new Error(`Missing event ${d} on main thread host.`);return h}throw new Error(`Malformed event name ${d}`)}}),this._protocol.setWorkerId(this._worker.getId());let o=null;const s=globalThis.require;typeof s<"u"&&typeof s.getConfig=="function"?o=s.getConfig():typeof globalThis.requirejs<"u"&&(o=globalThis.requirejs.s.contexts._.config);const a=VW(i);this._onModuleLoaded=this._protocol.sendMessage(YDe,[this._worker.getId(),JSON.parse(JSON.stringify(o)),t,a]);const l=(d,u)=>this._request(d,u),c=(d,u)=>this._protocol.listen(d,u);this._lazyProxy=new Promise((d,u)=>{r=u,this._onModuleLoaded.then(h=>{d(nTe(h,l,c))},h=>{u(h),this._onError("Worker failed to load "+t,h)})})}getProxyObject(){return this._lazyProxy}_request(e,t){return new Promise((i,r)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(e,t).then(i,r)},r)})}_onError(e,t){console.error(e),console.info(t)}}function Rae(n){return n[0]==="o"&&n[1]==="n"&&Sd(n.charCodeAt(2))}function Aae(n){return/^onDynamic/.test(n)&&Sd(n.charCodeAt(9))}function nTe(n,e,t){const i=s=>function(){const a=Array.prototype.slice.call(arguments,0);return e(s,a)},r=s=>function(a){return t(s,a)},o={};for(const s of n){if(Aae(s)){o[s]=r(s);continue}if(Rae(s)){o[s]=t(s,void 0);continue}o[s]=i(s)}return o}function Fh(n,e){var t;const i=globalThis.MonacoEnvironment;if(i!=null&&i.createTrustedTypesPolicy)try{return i.createTrustedTypesPolicy(n,e)}catch(r){St(r);return}try{return(t=wi.trustedTypes)===null||t===void 0?void 0:t.createPolicy(n,e)}catch(r){St(r);return}}const Gq=Fh("defaultWorkerFactory",{createScriptURL:n=>n});function rTe(n){const e=globalThis.MonacoEnvironment;if(e){if(typeof e.getWorker=="function")return e.getWorker("workerMain.js",n);if(typeof e.getWorkerUrl=="function"){const t=e.getWorkerUrl("workerMain.js",n);return new Worker(Gq?Gq.createScriptURL(t):t,{name:n})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function oTe(n){return typeof n.then=="function"}class sTe extends ce{constructor(e,t,i,r,o){super(),this.id=t,this.label=i;const s=rTe(i);oTe(s)?this.worker=s:this.worker=Promise.resolve(s),this.postMessage(e,[]),this.worker.then(a=>{a.onmessage=function(l){r(l.data)},a.onmessageerror=o,typeof a.addEventListener=="function"&&a.addEventListener("error",o)}),this._register(at(()=>{var a;(a=this.worker)===null||a===void 0||a.then(l=>{l.onmessage=null,l.onmessageerror=null,l.removeEventListener("error",o),l.terminate()}),this.worker=null}))}getId(){return this.id}postMessage(e,t){var i;(i=this.worker)===null||i===void 0||i.then(r=>{try{r.postMessage(e,t)}catch(o){St(o),St(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:o}))}})}}class FP{constructor(e){this._label=e,this._webWorkerFailedBeforeError=!1}create(e,t,i){const r=++FP.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new sTe(e,r,this._label||"anonymous"+r,t,o=>{AF(o),this._webWorkerFailedBeforeError=o,i(o)})}}FP.LAST_WORKER_ID=0;var Bn;(function(n){n[n.None=0]="None",n[n.Indent=1]="Indent",n[n.IndentOutdent=2]="IndentOutdent",n[n.Outdent=3]="Outdent"})(Bn||(Bn={}));class DA{constructor(e){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=e.open,this.close=e.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++)switch(e.notIn[t]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(e,t){if(e.getTokenCount()===0)return!0;const i=e.findTokenIndexAtOffset(t-2),r=e.getStandardTokenType(i);return this.isOK(r)}_findNeutralCharacterInRange(e,t){for(let i=e;i<=t;i++){const r=String.fromCharCode(i);if(!this.open.includes(r)&&!this.close.includes(r))return r}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class aTe{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)cC(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),cC(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),cC(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),cC(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),t.close.length===1&&t.open.length===1&&cC(this.autoClosingPairsCloseSingleChar,t.close,t)}}function cC(n,e,t){n.has(e)?n.get(e).push(t):n.set(e,[t])}function BP(n,e){const t=n.getCount(),i=n.findTokenIndexAtOffset(e),r=n.getLanguageId(i);let o=i;for(;o+1<t&&n.getLanguageId(o+1)===r;)o++;let s=i;for(;s>0&&n.getLanguageId(s-1)===r;)s--;return new lTe(n,r,s,o+1,n.getStartOffset(s),n.getEndOffset(o))}class lTe{constructor(e,t,i,r,o,s){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=i,this._lastTokenIndex=r,this.firstCharOffset=o,this._lastCharOffset=s}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}function _d(n){return(n&3)!==0}class wb{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(t=>new DA(t)):e.brackets?this._autoClosingPairs=e.brackets.map(t=>new DA({open:t[0],close:t[1]})):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new DA({open:t.open,close:t.close||""}))}this._autoCloseBeforeForQuotes=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:wb.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:wb.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(e){return e?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}wb.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`;wb.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`;const Zq=typeof Buffer<"u";let TA;class WP{static wrap(e){return Zq&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new WP(e)}constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}toString(){return Zq?this.buffer.toString():(TA||(TA=new TextDecoder),TA.decode(this.buffer))}}function cTe(n,e){return n[e+0]<<0>>>0|n[e+1]<<8>>>0}function dTe(n,e,t){n[t+0]=e&255,e=e>>>8,n[t+1]=e&255}function uc(n,e){return n[e]*2**24+n[e+1]*2**16+n[e+2]*2**8+n[e+3]}function hc(n,e,t){n[t+3]=e,e=e>>>8,n[t+2]=e,e=e>>>8,n[t+1]=e,e=e>>>8,n[t]=e}function Yq(n,e){return n[e]}function Xq(n,e,t){n[t]=e}let EA;function Oae(){return EA||(EA=new TextDecoder("UTF-16LE")),EA}let IA;function uTe(){return IA||(IA=new TextDecoder("UTF-16BE")),IA}let NA;function Fae(){return NA||(NA=Sse()?Oae():uTe()),NA}function hTe(n,e,t){const i=new Uint16Array(n.buffer,e,t);return t>0&&(i[0]===65279||i[0]===65534)?fTe(n,e,t):Oae().decode(i)}function fTe(n,e,t){const i=[];let r=0;for(let o=0;o<t;o++){const s=cTe(n,e);e+=2,i[r++]=String.fromCharCode(s)}return i.join("")}class Cy{constructor(e){this._capacity=e|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return Fae().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}appendCharCode(e){const t=this._capacity-this._bufferLength;t<=1&&(t===0||cr(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIICharCode(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendString(e){const t=e.length;if(this._bufferLength+t>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=e;return}for(let i=0;i<t;i++)this._buffer[this._bufferLength++]=e.charCodeAt(i)}}class $E{constructor(e,t,i,r,o,s){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=i,this.close=r,this.forwardRegex=o,this.reversedRegex=s,this._openSet=$E._toSet(this.open),this._closeSet=$E._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const i of e)t.add(i);return t}}function gTe(n){const e=n.length;n=n.map(s=>[s[0].toLowerCase(),s[1].toLowerCase()]);const t=[];for(let s=0;s<e;s++)t[s]=s;const i=(s,a)=>{const[l,c]=s,[d,u]=a;return l===d||l===u||c===d||c===u},r=(s,a)=>{const l=Math.min(s,a),c=Math.max(s,a);for(let d=0;d<e;d++)t[d]===c&&(t[d]=l)};for(let s=0;s<e;s++){const a=n[s];for(let l=s+1;l<e;l++){const c=n[l];i(a,c)&&r(t[s],t[l])}}const o=[];for(let s=0;s<e;s++){const a=[],l=[];for(let c=0;c<e;c++)if(t[c]===s){const[d,u]=n[c];a.push(d),l.push(u)}a.length>0&&o.push({open:a,close:l})}return o}class pTe{constructor(e,t){this._richEditBracketsBrand=void 0;const i=gTe(t);this.brackets=i.map((r,o)=>new $E(e,o,r.open,r.close,mTe(r.open,r.close,i,o),_Te(r.open,r.close,i,o))),this.forwardRegex=vTe(this.brackets),this.reversedRegex=bTe(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const r of this.brackets){for(const o of r.open)this.textIsBracket[o]=r,this.textIsOpenBracket[o]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,o.length);for(const o of r.close)this.textIsBracket[o]=r,this.textIsOpenBracket[o]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,o.length)}}}function Bae(n,e,t,i){for(let r=0,o=e.length;r<o;r++){if(r===t)continue;const s=e[r];for(const a of s.open)a.indexOf(n)>=0&&i.push(a);for(const a of s.close)a.indexOf(n)>=0&&i.push(a)}}function Wae(n,e){return n.length-e.length}function VP(n){if(n.length<=1)return n;const e=[],t=new Set;for(const i of n)t.has(i)||(e.push(i),t.add(i));return e}function mTe(n,e,t,i){let r=[];r=r.concat(n),r=r.concat(e);for(let o=0,s=r.length;o<s;o++)Bae(r[o],t,i,r);return r=VP(r),r.sort(Wae),r.reverse(),HP(r)}function _Te(n,e,t,i){let r=[];r=r.concat(n),r=r.concat(e);for(let o=0,s=r.length;o<s;o++)Bae(r[o],t,i,r);return r=VP(r),r.sort(Wae),r.reverse(),HP(r.map(b6))}function vTe(n){let e=[];for(const t of n){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=VP(e),HP(e)}function bTe(n){let e=[];for(const t of n){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=VP(e),HP(e.map(b6))}function yTe(n){const e=/^[\w ]+$/.test(n);return n=xa(n),e?`\\b${n}\\b`:n}function HP(n){const e=`(${n.map(yTe).join(")|(")})`;return qse(e,!0)}const b6=function(){function n(i){const r=new Uint16Array(i.length);let o=0;for(let s=i.length-1;s>=0;s--)r[o++]=i.charCodeAt(s);return Fae().decode(r)}let e=null,t=null;return function(r){return e!==r&&(e=r,t=n(e)),t}}();class yl{static _findPrevBracketInText(e,t,i,r){const o=i.match(e);if(!o)return null;const s=i.length-(o.index||0),a=o[0].length,l=r+s;return new B(t,l-a+1,t,l+1)}static findPrevBracketInRange(e,t,i,r,o){const a=b6(i).substring(i.length-o,i.length-r);return this._findPrevBracketInText(e,t,a,r)}static findNextBracketInText(e,t,i,r){const o=i.match(e);if(!o)return null;const s=o.index||0,a=o[0].length;if(a===0)return null;const l=r+s;return new B(t,l+1,t,l+1+a)}static findNextBracketInRange(e,t,i,r,o){const s=i.substring(r,o);return this.findNextBracketInText(e,t,s,r)}}class CTe{constructor(e){this._richEditBrackets=e}getElectricCharacters(){const e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const i of t.close){const r=i.charAt(i.length-1);e.push(r)}return Eg(e)}onElectricCharacter(e,t,i){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const r=t.findTokenIndexAtOffset(i-1);if(_d(t.getStandardTokenType(r)))return null;const o=this._richEditBrackets.reversedRegex,s=t.getLineContent().substring(0,i-1)+e,a=yl.findPrevBracketInRange(o,1,s,0,s.length);if(!a)return null;const l=s.substring(a.startColumn-1,a.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[l])return null;const d=t.getActualLineContentBefore(a.startColumn-1);return/^\s*$/.test(d)?{matchOpenBracket:l}:null}}function _k(n){return n.global&&(n.lastIndex=0),!0}class wTe{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&_k(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&_k(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&_k(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&_k(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}class Y0{constructor(e){e=e||{},e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(t=>{const i=Y0._createOpenBracketRegExp(t[0]),r=Y0._createCloseBracketRegExp(t[1]);i&&r&&this._brackets.push({open:t[0],openRegExp:i,close:t[1],closeRegExp:r})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,r){if(e>=3)for(let o=0,s=this._regExpRules.length;o<s;o++){const a=this._regExpRules[o];if([{reg:a.beforeText,text:i},{reg:a.afterText,text:r},{reg:a.previousLineText,text:t}].every(c=>c.reg?(c.reg.lastIndex=0,c.reg.test(c.text)):!0))return a.action}if(e>=2&&i.length>0&&r.length>0)for(let o=0,s=this._brackets.length;o<s;o++){const a=this._brackets[o];if(a.openRegExp.test(i)&&a.closeRegExp.test(r))return{indentAction:Bn.IndentOutdent}}if(e>=2&&i.length>0){for(let o=0,s=this._brackets.length;o<s;o++)if(this._brackets[o].openRegExp.test(i))return{indentAction:Bn.Indent}}return null}static _createOpenBracketRegExp(e){let t=xa(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",Y0._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=xa(e);return/\B/.test(t.charAt(t.length-1))||(t=t+"\\b"),t="^\\s*"+t,Y0._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return St(t),null}}}const jt=zt("configurationService");function OF(n,e){const t=Object.create(null);for(const i in n)Vae(t,i,n[i],e);return t}function Vae(n,e,t,i){const r=e.split("."),o=r.pop();let s=n;for(let a=0;a<r.length;a++){const l=r[a];let c=s[l];switch(typeof c){case"undefined":c=s[l]=Object.create(null);break;case"object":break;default:i(`Ignoring ${e} as ${r.slice(0,a+1).join(".")} is ${JSON.stringify(c)}`);return}s=c}if(typeof s=="object"&&s!==null)try{s[o]=t}catch{i(`Ignoring ${e} as ${r.join(".")} is ${JSON.stringify(s)}`)}else i(`Ignoring ${e} as ${r.join(".")} is ${JSON.stringify(s)}`)}function STe(n,e){const t=e.split(".");Hae(n,t)}function Hae(n,e){const t=e.shift();if(e.length===0){delete n[t];return}if(Object.keys(n).indexOf(t)!==-1){const i=n[t];typeof i=="object"&&!Array.isArray(i)&&(Hae(i,e),Object.keys(i).length===0&&delete n[t])}}function Qq(n,e,t){function i(s,a){let l=s;for(const c of a){if(typeof l!="object"||l===null)return;l=l[c]}return l}const r=e.split("."),o=i(n,r);return typeof o>"u"?t:o}function xTe(n){return n.replace(/[\[\]]/g,"")}const Zi=zt("languageService");class xd{constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}const zae=[];function Yt(n,e,t){e instanceof xd||(e=new xd(e,[],!!t)),zae.push([n,e])}function Jq(){return zae}const pn=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"}),zP={JSONContribution:"base.contributions.json"};function LTe(n){return n.length>0&&n.charAt(n.length-1)==="#"?n.substring(0,n.length-1):n}class kTe{constructor(){this._onDidChangeSchema=new ne,this.schemasById={}}registerSchema(e,t){this.schemasById[LTe(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}}const DTe=new kTe;nn.add(zP.JSONContribution,DTe);const id={Configuration:"base.contributions.configuration"},dC="vscode://schemas/settings/resourceLanguage",eK=nn.as(zP.JSONContribution);class TTe{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new ne,this._onDidUpdateConfiguration=new ne,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:w("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},eK.registerSchema(dC,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const i=new Set;this.doRegisterConfigurations(e,t,i),eK.registerSchema(dC,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}registerDefaultConfigurations(e){const t=new Set;this.doRegisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doRegisterDefaultConfigurations(e,t){var i;const r=[];for(const{overrides:o,source:s}of e)for(const a in o)if(t.add(a),Fg.test(a)){const l=this.configurationDefaultsOverrides.get(a),c=(i=l==null?void 0:l.valuesSources)!==null&&i!==void 0?i:new Map;if(s)for(const f of Object.keys(o[a]))c.set(f,s);const d={...(l==null?void 0:l.value)||{},...o[a]};this.configurationDefaultsOverrides.set(a,{source:s,value:d,valuesSources:c});const u=xTe(a),h={type:"object",default:d,description:w("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",u),$ref:dC,defaultDefaultValue:d,source:Ho(s)?void 0:s,defaultValueSource:s};r.push(...qE(a)),this.configurationProperties[a]=h,this.defaultLanguageConfigurationOverridesNode.properties[a]=h}else{this.configurationDefaultsOverrides.set(a,{value:o[a],source:s});const l=this.configurationProperties[a];l&&(this.updatePropertyDefaultValue(a,l),this.updateSchema(a,l))}this.doRegisterOverrideIdentifiers(r)}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t,i){e.forEach(r=>{this.validateAndRegisterProperties(r,t,r.extensionInfo,r.restrictedProperties,void 0,i),this.configurationContributors.push(r),this.registerJSONConfiguration(r)})}validateAndRegisterProperties(e,t=!0,i,r,o=3,s){var a;o=ca(e.scope)?o:e.scope;const l=e.properties;if(l)for(const d in l){const u=l[d];if(t&&NTe(d,u)){delete l[d];continue}if(u.source=i,u.defaultDefaultValue=l[d].default,this.updatePropertyDefaultValue(d,u),Fg.test(d)?u.scope=void 0:(u.scope=ca(u.scope)?o:u.scope,u.restricted=ca(u.restricted)?!!(r!=null&&r.includes(d)):u.restricted),l[d].hasOwnProperty("included")&&!l[d].included){this.excludedConfigurationProperties[d]=l[d],delete l[d];continue}else this.configurationProperties[d]=l[d],!((a=l[d].policy)===null||a===void 0)&&a.name&&this.policyConfigurations.set(l[d].policy.name,d);!l[d].deprecationMessage&&l[d].markdownDeprecationMessage&&(l[d].deprecationMessage=l[d].markdownDeprecationMessage),s.add(d)}const c=e.allOf;if(c)for(const d of c)this.validateAndRegisterProperties(d,t,i,r,o,s)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(e){const t=i=>{const r=i.properties;if(r)for(const s in r)this.updateSchema(s,r[s]);const o=i.allOf;o==null||o.forEach(t)};t(e)}updateSchema(e,t){switch(t.scope){case 1:break;case 2:break;case 6:break;case 3:break;case 4:break;case 5:this.resourceLanguageSettingsSchema.properties[e]=t;break}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,i={type:"object",description:w("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:w("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:dC};this.updatePropertyDefaultValue(t,i)}}registerOverridePropertyPatternKey(){w("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),w("overrideSettings.errorMessage","This setting does not support per-language configuration."),this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){const i=this.configurationDefaultsOverrides.get(e);let r=i==null?void 0:i.value,o=i==null?void 0:i.source;Ms(r)&&(r=t.defaultDefaultValue,o=void 0),Ms(r)&&(r=ITe(t.type)),t.default=r,t.defaultValueSource=o}}const jae="\\[([^\\]]+)\\]",tK=new RegExp(jae,"g"),ETe=`^(${jae})+$`,Fg=new RegExp(ETe);function qE(n){const e=[];if(Fg.test(n)){let t=tK.exec(n);for(;t!=null&&t.length;){const i=t[1].trim();i&&e.push(i),t=tK.exec(n)}}return Eg(e)}function ITe(n){switch(Array.isArray(n)?n[0]:n){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const sT=new TTe;nn.add(id.Configuration,sT);function NTe(n,e){var t,i,r,o;return n.trim()?Fg.test(n)?w("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",n):sT.getConfigurationProperties()[n]!==void 0?w("config.property.duplicate","Cannot register '{0}'. This property is already registered.",n):!((t=e.policy)===null||t===void 0)&&t.name&&sT.getPolicyConfigurations().get((i=e.policy)===null||i===void 0?void 0:i.name)!==void 0?w("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",n,(r=e.policy)===null||r===void 0?void 0:r.name,sT.getPolicyConfigurations().get((o=e.policy)===null||o===void 0?void 0:o.name)):null:w("config.property.empty","Cannot register an empty property")}const PTe={ModesRegistry:"editor.modesRegistry"};class MTe{constructor(){this._onDidChangeLanguages=new ne,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,i=this._languages.length;t<i;t++)if(this._languages[t]===e){this._languages.splice(t,1);return}}}}getLanguages(){return this._languages}}const Sb=new MTe;nn.add(PTe.ModesRegistry,Sb);const Sa="plaintext",RTe=".txt";Sb.registerLanguage({id:Sa,extensions:[RTe],aliases:[w("plainText.alias","Plain Text"),"text"],mimetypes:[pn.text]});nn.as(id.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}]);class ATe{constructor(e,t){this.languageId=e;const i=t.brackets?iK(t.brackets):[],r=new wq(a=>{const l=new Set;return{info:new OTe(this,a,l),closing:l}}),o=new wq(a=>{const l=new Set,c=new Set;return{info:new FTe(this,a,l,c),opening:l,openingColorized:c}});for(const[a,l]of i){const c=r.get(a),d=o.get(l);c.closing.add(d.info),d.opening.add(c.info)}const s=t.colorizedBracketPairs?iK(t.colorizedBracketPairs):i.filter(a=>!(a[0]==="<"&&a[1]===">"));for(const[a,l]of s){const c=r.get(a),d=o.get(l);c.closing.add(d.info),d.openingColorized.add(c.info),d.opening.add(c.info)}this._openingBrackets=new Map([...r.cachedValues].map(([a,l])=>[a,l.info])),this._closingBrackets=new Map([...o.cachedValues].map(([a,l])=>[a,l.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(e){return this._openingBrackets.get(e)}getClosingBracketInfo(e){return this._closingBrackets.get(e)}getBracketInfo(e){return this.getOpeningBracketInfo(e)||this.getClosingBracketInfo(e)}}function iK(n){return n.filter(([e,t])=>e!==""&&t!=="")}class Uae{constructor(e,t){this.config=e,this.bracketText=t}get languageId(){return this.config.languageId}}class OTe extends Uae{constructor(e,t,i){super(e,t),this.openedBrackets=i,this.isOpeningBracket=!0}}class FTe extends Uae{constructor(e,t,i,r){super(e,t),this.openingBrackets=i,this.openingColorizedBrackets=r,this.isOpeningBracket=!1}closes(e){return e.config!==this.config?!1:this.openingBrackets.has(e)}closesColorized(e){return e.config!==this.config?!1:this.openingColorizedBrackets.has(e)}getOpeningBrackets(){return[...this.openingBrackets]}}var BTe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},nK=function(n,e){return function(t,i){e(t,i,n)}};class PA{constructor(e){this.languageId=e}affects(e){return this.languageId?this.languageId===e:!0}}const Pi=zt("languageConfigurationService");let FF=class extends ce{constructor(e,t){super(),this.configurationService=e,this.languageService=t,this._registry=this._register(new zTe),this.onDidChangeEmitter=this._register(new ne),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const i=new Set(Object.values(BF));this._register(this.configurationService.onDidChangeConfiguration(r=>{const o=r.change.keys.some(a=>i.has(a)),s=r.change.overrides.filter(([a,l])=>l.some(c=>i.has(c))).map(([a])=>a);if(o)this.configurations.clear(),this.onDidChangeEmitter.fire(new PA(void 0));else for(const a of s)this.languageService.isRegisteredLanguageId(a)&&(this.configurations.delete(a),this.onDidChangeEmitter.fire(new PA(a)))})),this._register(this._registry.onDidChange(r=>{this.configurations.delete(r.languageId),this.onDidChangeEmitter.fire(new PA(r.languageId))}))}register(e,t,i){return this._registry.register(e,t,i)}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=WTe(e,this._registry,this.configurationService,this.languageService),this.configurations.set(e,t)),t}};FF=BTe([nK(0,jt),nK(1,Zi)],FF);function WTe(n,e,t,i){let r=e.getLanguageConfiguration(n);if(!r){if(!i.isRegisteredLanguageId(n))return new Pv(n,{});r=new Pv(n,{})}const o=VTe(r.languageId,t),s=qae([r.underlyingConfig,o]);return new Pv(r.languageId,s)}const BF={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function VTe(n,e){const t=e.getValue(BF.brackets,{overrideIdentifier:n}),i=e.getValue(BF.colorizedBracketPairs,{overrideIdentifier:n});return{brackets:rK(t),colorizedBracketPairs:rK(i)}}function rK(n){if(Array.isArray(n))return n.map(e=>{if(!(!Array.isArray(e)||e.length!==2))return[e[0],e[1]]}).filter(e=>!!e)}function $ae(n,e,t){const i=n.getLineContent(e);let r=Ti(i);return r.length>t-1&&(r=r.substring(0,t-1)),r}function Nv(n,e,t){n.tokenization.forceTokenization(e);const i=n.tokenization.getLineTokens(e),r=typeof t>"u"?n.getLineMaxColumn(e)-1:t-1;return BP(i,r)}class HTe{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const i=new oK(e,t,++this._order);return this._entries.push(i),this._resolved=null,at(()=>{for(let r=0;r<this._entries.length;r++)if(this._entries[r]===i){this._entries.splice(r,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new Pv(this.languageId,e))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(oK.cmp),qae(this._entries.map(e=>e.configuration)))}}function qae(n){let e={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const t of n)e={comments:t.comments||e.comments,brackets:t.brackets||e.brackets,wordPattern:t.wordPattern||e.wordPattern,indentationRules:t.indentationRules||e.indentationRules,onEnterRules:t.onEnterRules||e.onEnterRules,autoClosingPairs:t.autoClosingPairs||e.autoClosingPairs,surroundingPairs:t.surroundingPairs||e.surroundingPairs,autoCloseBefore:t.autoCloseBefore||e.autoCloseBefore,folding:t.folding||e.folding,colorizedBracketPairs:t.colorizedBracketPairs||e.colorizedBracketPairs,__electricCharacterSupport:t.__electricCharacterSupport||e.__electricCharacterSupport};return e}class oK{constructor(e,t,i){this.configuration=e,this.priority=t,this.order=i}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class sK{constructor(e){this.languageId=e}}class zTe extends ce{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new ne),this.onDidChange=this._onDidChange.event,this._register(this.register(Sa,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(e,t,i=0){let r=this._entries.get(e);r||(r=new HTe(e),this._entries.set(e,r));const o=r.register(t,i);return this._onDidChange.fire(new sK(e)),at(()=>{o.dispose(),this._onDidChange.fire(new sK(e))})}getLanguageConfiguration(e){const t=this._entries.get(e);return(t==null?void 0:t.getResolvedConfiguration())||null}}class Pv{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new Y0(this.underlyingConfig):null,this.comments=Pv._handleComments(this.underlyingConfig),this.characterPair=new wb(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||jW,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new wTe(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new ATe(e,this.underlyingConfig)}getWordDefinition(){return UW(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new pTe(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new CTe(this.brackets)),this._electricCharacter}onEnter(e,t,i,r){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,r):null}getAutoClosingPairs(){return new aTe(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(e){return this.characterPair.getAutoCloseBeforeSet(e)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(e){const t=e.comments;if(!t)return null;const i={};if(t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment){const[r,o]=t.blockComment;i.blockCommentStartToken=r,i.blockCommentEndToken=o}return i}}Yt(Pi,FF,1);class ff{constructor(e,t,i,r){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=r}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}class aK{constructor(e){this.source=e}getElements(){const e=this.source,t=new Int32Array(e.length);for(let i=0,r=e.length;i<r;i++)t[i]=e.charCodeAt(i);return t}}function jTe(n,e,t){return new Id(new aK(n),new aK(e)).ComputeDiff(t).changes}class r0{static Assert(e,t){if(!e)throw new Error(t)}}class o0{static Copy(e,t,i,r,o){for(let s=0;s<o;s++)i[r+s]=e[t+s]}static Copy2(e,t,i,r,o){for(let s=0;s<o;s++)i[r+s]=e[t+s]}}class lK{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new ff(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class Id{constructor(e,t,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=e,this._modifiedSequence=t;const[r,o,s]=Id._getElements(e),[a,l,c]=Id._getElements(t);this._hasStrings=s&&c,this._originalStringElements=r,this._originalElementsOrHash=o,this._modifiedStringElements=a,this._modifiedElementsOrHash=l,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&typeof e[0]=="string"}static _getElements(e){const t=e.getElements();if(Id._isStringArray(t)){const i=new Int32Array(t.length);for(let r=0,o=t.length;r<o;r++)i[r]=f6(t[r],0);return[t,i,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._modifiedStringElements[t]:!0}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;const i=Id._getStrictElement(this._originalSequence,e),r=Id._getStrictElement(this._modifiedSequence,t);return i===r}static _getStrictElement(e,t){return typeof e.getStrictElement=="function"?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._originalElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._originalStringElements[t]:!0}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._modifiedStringElements[e]===this._modifiedStringElements[t]:!0}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,r,o){const s=[!1];let a=this.ComputeDiffRecursive(e,t,i,r,s);return o&&(a=this.PrettifyChanges(a)),{quitEarly:s[0],changes:a}}ComputeDiffRecursive(e,t,i,r,o){for(o[0]=!1;e<=t&&i<=r&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&r>=i&&this.ElementsAreEqual(t,r);)t--,r--;if(e>t||i>r){let u;return i<=r?(r0.Assert(e===t+1,"originalStart should only be one more than originalEnd"),u=[new ff(e,0,i,r-i+1)]):e<=t?(r0.Assert(i===r+1,"modifiedStart should only be one more than modifiedEnd"),u=[new ff(e,t-e+1,i,0)]):(r0.Assert(e===t+1,"originalStart should only be one more than originalEnd"),r0.Assert(i===r+1,"modifiedStart should only be one more than modifiedEnd"),u=[]),u}const s=[0],a=[0],l=this.ComputeRecursionPoint(e,t,i,r,s,a,o),c=s[0],d=a[0];if(l!==null)return l;if(!o[0]){const u=this.ComputeDiffRecursive(e,c,i,d,o);let h=[];return o[0]?h=[new ff(c+1,t-(c+1)+1,d+1,r-(d+1)+1)]:h=this.ComputeDiffRecursive(c+1,t,d+1,r,o),this.ConcatenateChanges(u,h)}return[new ff(e,t-e+1,i,r-i+1)]}WALKTRACE(e,t,i,r,o,s,a,l,c,d,u,h,f,g,_,y,m,p){let v=null,b=null,C=new lK,S=t,x=i,k=f[0]-y[0]-r,D=-1073741824,E=this.m_forwardHistory.length-1;do{const I=k+e;I===S||I<x&&c[I-1]<c[I+1]?(u=c[I+1],g=u-k-r,u<D&&C.MarkNextChange(),D=u,C.AddModifiedElement(u+1,g),k=I+1-e):(u=c[I-1]+1,g=u-k-r,u<D&&C.MarkNextChange(),D=u-1,C.AddOriginalElement(u,g+1),k=I-1-e),E>=0&&(c=this.m_forwardHistory[E],e=c[0],S=1,x=c.length-1)}while(--E>=-1);if(v=C.getReverseChanges(),p[0]){let I=f[0]+1,N=y[0]+1;if(v!==null&&v.length>0){const R=v[v.length-1];I=Math.max(I,R.getOriginalEnd()),N=Math.max(N,R.getModifiedEnd())}b=[new ff(I,h-I+1,N,_-N+1)]}else{C=new lK,S=s,x=a,k=f[0]-y[0]-l,D=1073741824,E=m?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const I=k+o;I===S||I<x&&d[I-1]>=d[I+1]?(u=d[I+1]-1,g=u-k-l,u>D&&C.MarkNextChange(),D=u+1,C.AddOriginalElement(u+1,g+1),k=I+1-o):(u=d[I-1],g=u-k-l,u>D&&C.MarkNextChange(),D=u,C.AddModifiedElement(u+1,g+1),k=I-1-o),E>=0&&(d=this.m_reverseHistory[E],o=d[0],S=1,x=d.length-1)}while(--E>=-1);b=C.getChanges()}return this.ConcatenateChanges(v,b)}ComputeRecursionPoint(e,t,i,r,o,s,a){let l=0,c=0,d=0,u=0,h=0,f=0;e--,i--,o[0]=0,s[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const g=t-e+(r-i),_=g+1,y=new Int32Array(_),m=new Int32Array(_),p=r-i,v=t-e,b=e-i,C=t-r,x=(v-p)%2===0;y[p]=e,m[v]=t,a[0]=!1;for(let k=1;k<=g/2+1;k++){let D=0,E=0;d=this.ClipDiagonalBound(p-k,k,p,_),u=this.ClipDiagonalBound(p+k,k,p,_);for(let N=d;N<=u;N+=2){N===d||N<u&&y[N-1]<y[N+1]?l=y[N+1]:l=y[N-1]+1,c=l-(N-p)-b;const R=l;for(;l<t&&c<r&&this.ElementsAreEqual(l+1,c+1);)l++,c++;if(y[N]=l,l+c>D+E&&(D=l,E=c),!x&&Math.abs(N-v)<=k-1&&l>=m[N])return o[0]=l,s[0]=c,R<=m[N]&&1447>0&&k<=1448?this.WALKTRACE(p,d,u,b,v,h,f,C,y,m,l,t,o,c,r,s,x,a):null}const I=(D-e+(E-i)-k)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(D,I))return a[0]=!0,o[0]=D,s[0]=E,I>0&&1447>0&&k<=1448?this.WALKTRACE(p,d,u,b,v,h,f,C,y,m,l,t,o,c,r,s,x,a):(e++,i++,[new ff(e,t-e+1,i,r-i+1)]);h=this.ClipDiagonalBound(v-k,k,v,_),f=this.ClipDiagonalBound(v+k,k,v,_);for(let N=h;N<=f;N+=2){N===h||N<f&&m[N-1]>=m[N+1]?l=m[N+1]-1:l=m[N-1],c=l-(N-v)-C;const R=l;for(;l>e&&c>i&&this.ElementsAreEqual(l,c);)l--,c--;if(m[N]=l,x&&Math.abs(N-p)<=k&&l<=y[N])return o[0]=l,s[0]=c,R>=y[N]&&1447>0&&k<=1448?this.WALKTRACE(p,d,u,b,v,h,f,C,y,m,l,t,o,c,r,s,x,a):null}if(k<=1447){let N=new Int32Array(u-d+2);N[0]=p-d+1,o0.Copy2(y,d,N,1,u-d+1),this.m_forwardHistory.push(N),N=new Int32Array(f-h+2),N[0]=v-h+1,o0.Copy2(m,h,N,1,f-h+1),this.m_reverseHistory.push(N)}}return this.WALKTRACE(p,d,u,b,v,h,f,C,y,m,l,t,o,c,r,s,x,a)}PrettifyChanges(e){for(let t=0;t<e.length;t++){const i=e[t],r=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,o=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,s=i.originalLength>0,a=i.modifiedLength>0;for(;i.originalStart+i.originalLength<r&&i.modifiedStart+i.modifiedLength<o&&(!s||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!a||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){const c=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!c)break;i.originalStart++,i.modifiedStart++}const l=[null];if(t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],l)){e[t]=l[0],e.splice(t+1,1),t--;continue}}for(let t=e.length-1;t>=0;t--){const i=e[t];let r=0,o=0;if(t>0){const u=e[t-1];r=u.originalStart+u.originalLength,o=u.modifiedStart+u.modifiedLength}const s=i.originalLength>0,a=i.modifiedLength>0;let l=0,c=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let u=1;;u++){const h=i.originalStart-u,f=i.modifiedStart-u;if(h<r||f<o||s&&!this.OriginalElementsAreEqual(h,h+i.originalLength)||a&&!this.ModifiedElementsAreEqual(f,f+i.modifiedLength))break;const _=(h===r&&f===o?5:0)+this._boundaryScore(h,i.originalLength,f,i.modifiedLength);_>c&&(c=_,l=u)}i.originalStart-=l,i.modifiedStart-=l;const d=[null];if(t>0&&this.ChangesOverlap(e[t-1],e[t],d)){e[t-1]=d[0],e.splice(t,1),t++;continue}}if(this._hasStrings)for(let t=1,i=e.length;t<i;t++){const r=e[t-1],o=e[t],s=o.originalStart-r.originalStart-r.originalLength,a=r.originalStart,l=o.originalStart+o.originalLength,c=l-a,d=r.modifiedStart,u=o.modifiedStart+o.modifiedLength,h=u-d;if(s<5&&c<20&&h<20){const f=this._findBetterContiguousSequence(a,c,d,h,s);if(f){const[g,_]=f;(g!==r.originalStart+r.originalLength||_!==r.modifiedStart+r.modifiedLength)&&(r.originalLength=g-r.originalStart,r.modifiedLength=_-r.modifiedStart,o.originalStart=g+s,o.modifiedStart=_+s,o.originalLength=l-o.originalStart,o.modifiedLength=u-o.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,i,r,o){if(t<o||r<o)return null;const s=e+t-o+1,a=i+r-o+1;let l=0,c=0,d=0;for(let u=e;u<s;u++)for(let h=i;h<a;h++){const f=this._contiguousSequenceScore(u,h,o);f>0&&f>l&&(l=f,c=u,d=h)}return l>0?[c,d]:null}_contiguousSequenceScore(e,t,i){let r=0;for(let o=0;o<i;o++){if(!this.ElementsAreEqual(e+o,t+o))return 0;r+=this._originalStringElements[e+o].length}return r}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,t,i,r){const o=this._OriginalRegionIsBoundary(e,t)?1:0,s=this._ModifiedRegionIsBoundary(i,r)?1:0;return o+s}ConcatenateChanges(e,t){const i=[];if(e.length===0||t.length===0)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){const r=new Array(e.length+t.length-1);return o0.Copy(e,0,r,0,e.length-1),r[e.length-1]=i[0],o0.Copy(t,1,r,e.length,t.length-1),r}else{const r=new Array(e.length+t.length);return o0.Copy(e,0,r,0,e.length),o0.Copy(t,0,r,e.length,t.length),r}}ChangesOverlap(e,t,i){if(r0.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),r0.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){const r=e.originalStart;let o=e.originalLength;const s=e.modifiedStart;let a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(o=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new ff(r,o,s,a),!0}else return i[0]=null,!1}ClipDiagonalBound(e,t,i,r){if(e>=0&&e<r)return e;const o=i,s=r-i-1,a=t%2===0;if(e<0){const l=o%2===0;return a===l?0:1}else{const l=s%2===0;return a===l?r-1:r-2}}}function KE(n){return n<0?0:n>255?255:n|0}function s0(n){return n<0?0:n>4294967295?4294967295:n|0}class UTe{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=s0(e);const i=this.values,r=this.prefixSum,o=t.length;return o===0?!1:(this.values=new Uint32Array(i.length+o),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e),e+o),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(e,t){return e=s0(e),t=s0(t),this.values[e]===t?!1:(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=s0(e),t=s0(t);const i=this.values,r=this.prefixSum;if(e>=i.length)return!1;const o=i.length-e;return t>=o&&(t=o),t===0?!1:(this.values=new Uint32Array(i.length-t),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=s0(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;t===0&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,i=this.values.length-1,r=0,o=0,s=0;for(;t<=i;)if(r=t+(i-t)/2|0,o=this.prefixSum[r],s=o-this.values[r],e<s)i=r-1;else if(e>=o)t=r+1;else break;return new Kae(r,e-s)}}class $Te{constructor(e){this._values=e,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(e){return this._ensureValid(),e===0?0:this._prefixSum[e-1]}getIndexOf(e){this._ensureValid();const t=this._indexBySum[e],i=t>0?this._prefixSum[t-1]:0;return new Kae(t,e-i)}removeValues(e,t){this._values.splice(e,t),this._invalidate(e)}insertValues(e,t){this._values=gP(this._values,e,t),this._invalidate(e)}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._values.length;e<t;e++){const i=this._values[e],r=e>0?this._prefixSum[e-1]:0;this._prefixSum[e]=r+i;for(let o=0;o<i;o++)this._indexBySum[r+o]=e}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(e,t){this._values[e]!==t&&(this._values[e]=t,this._invalidate(e))}}class Kae{constructor(e,t){this.index=e,this.remainder=t,this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=t}}class qTe{constructor(e,t,i,r){this._uri=e,this._lines=t,this._eol=i,this._versionId=r,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);const t=e.changes;for(const i of t)this._acceptDeleteRange(i.range),this._acceptInsertText(new re(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const e=this._eol.length,t=this._lines.length,i=new Uint32Array(t);for(let r=0;r<t;r++)i[r]=this._lines[r].length+e;this._lineStarts=new UTe(i)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.setValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1));return}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){if(t.length===0)return;const i=su(t);if(i.length===1){this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1));return}i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);const r=new Uint32Array(i.length-1);for(let o=1;o<i.length;o++)this._lines.splice(e.lineNumber+o-1,0,i[o]),r[o-1]=i[o].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,r)}}class wy{constructor(e){const t=KE(e);this._defaultValue=t,this._asciiMap=wy._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){const t=new Uint8Array(256);return t.fill(e),t}set(e,t){const i=KE(t);e>=0&&e<256?this._asciiMap[e]=i:this._map.set(e,i)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class GE{constructor(){this._actual=new wy(0)}add(e){this._actual.set(e,1)}has(e){return this._actual.get(e)===1}clear(){return this._actual.clear()}}class KTe{constructor(e,t,i){const r=new Uint8Array(e*t);for(let o=0,s=e*t;o<s;o++)r[o]=i;this._data=r,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,i){this._data[e*this.cols+t]=i}}class GTe{constructor(e){let t=0,i=0;for(let o=0,s=e.length;o<s;o++){const[a,l,c]=e[o];l>t&&(t=l),a>i&&(i=a),c>i&&(i=c)}t++,i++;const r=new KTe(i,t,0);for(let o=0,s=e.length;o<s;o++){const[a,l,c]=e[o];r.set(a,l,c)}this._states=r,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let MA=null;function ZTe(){return MA===null&&(MA=new GTe([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),MA}let uC=null;function YTe(){if(uC===null){uC=new wy(0);const n=` 	<>'"`;for(let t=0;t<n.length;t++)uC.set(n.charCodeAt(t),1);const e=".,;:";for(let t=0;t<e.length;t++)uC.set(e.charCodeAt(t),2)}return uC}class ZE{static _createLink(e,t,i,r,o){let s=o-1;do{const a=t.charCodeAt(s);if(e.get(a)!==2)break;s--}while(s>r);if(r>0){const a=t.charCodeAt(r-1),l=t.charCodeAt(s);(a===40&&l===41||a===91&&l===93||a===123&&l===125)&&s--}return{range:{startLineNumber:i,startColumn:r+1,endLineNumber:i,endColumn:s+2},url:t.substring(r,s+1)}}static computeLinks(e,t=ZTe()){const i=YTe(),r=[];for(let o=1,s=e.getLineCount();o<=s;o++){const a=e.getLineContent(o),l=a.length;let c=0,d=0,u=0,h=1,f=!1,g=!1,_=!1,y=!1;for(;c<l;){let m=!1;const p=a.charCodeAt(c);if(h===13){let v;switch(p){case 40:f=!0,v=0;break;case 41:v=f?0:1;break;case 91:_=!0,g=!0,v=0;break;case 93:_=!1,v=g?0:1;break;case 123:y=!0,v=0;break;case 125:v=y?0:1;break;case 39:case 34:case 96:u===p?v=1:u===39||u===34||u===96?v=0:v=1;break;case 42:v=u===42?1:0;break;case 124:v=u===124?1:0;break;case 32:v=_?0:1;break;default:v=i.get(p)}v===1&&(r.push(ZE._createLink(i,a,o,d,c)),m=!0)}else if(h===12){let v;p===91?(g=!0,v=0):v=i.get(p),v===1?m=!0:h=13}else h=t.nextState(h,p),h===0&&(m=!0);m&&(h=1,f=!1,g=!1,y=!1,d=c+1,u=p),c++}h===13&&r.push(ZE._createLink(i,a,o,d,l))}return r}}function XTe(n){return!n||typeof n.getLineCount!="function"||typeof n.getLineContent!="function"?[]:ZE.computeLinks(n)}class WF{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,i,r,o){if(e&&t){const s=this.doNavigateValueSet(t,o);if(s)return{range:e,value:s}}if(i&&r){const s=this.doNavigateValueSet(r,o);if(s)return{range:i,value:s}}return null}doNavigateValueSet(e,t){const i=this.numberReplace(e,t);return i!==null?i:this.textReplace(e,t)}numberReplace(e,t){const i=Math.pow(10,e.length-(e.lastIndexOf(".")+1));let r=Number(e);const o=parseFloat(e);return!isNaN(r)&&!isNaN(o)&&r===o?r===0&&!t?null:(r=Math.floor(r*i),r+=t?i:-i,String(r/i)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,i){let r=null;for(let o=0,s=e.length;r===null&&o<s;o++)r=this.valueSetReplace(e[o],t,i);return r}valueSetReplace(e,t,i){let r=e.indexOf(t);return r>=0?(r+=i?1:-1,r<0?r=e.length-1:r%=e.length,e[r]):null}}WF.INSTANCE=new WF;class QTe extends wy{constructor(e){super(0);for(let t=0,i=e.length;t<i;t++)this.set(e.charCodeAt(t),2);this.set(32,1),this.set(9,1)}}function JTe(n){const e={};return t=>(e.hasOwnProperty(t)||(e[t]=n(t)),e[t])}const rl=JTe(n=>new QTe(n));var ka;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(ka||(ka={}));var au;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=3]="Right"})(au||(au={}));var Bs;(function(n){n[n.Inline=1]="Inline",n[n.Gutter=2]="Gutter"})(Bs||(Bs={}));var Tc;(function(n){n[n.Both=0]="Both",n[n.Right=1]="Right",n[n.Left=2]="Left",n[n.None=3]="None"})(Tc||(Tc={}));class aT{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(e){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,e.tabSize|0),e.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,e.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!e.insertSpaces,this.defaultEOL=e.defaultEOL|0,this.trimAutoWhitespace=!!e.trimAutoWhitespace,this.bracketPairColorizationOptions=e.bracketPairColorizationOptions}equals(e){return this.tabSize===e.tabSize&&this._indentSizeIsTabSize===e._indentSizeIsTabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&wa(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class q1{constructor(e,t){this._findMatchBrand=void 0,this.range=e,this.matches=t}}function eEe(n){return n&&typeof n.read=="function"}class RA{constructor(e,t,i,r,o,s){this.identifier=e,this.range=t,this.text=i,this.forceMoveMarkers=r,this.isAutoWhitespaceEdit=o,this._isTracked=s}}class tEe{constructor(e,t,i){this.regex=e,this.wordSeparators=t,this.simpleSearch=i}}class iEe{constructor(e,t,i){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=i}}function Gae(n){return!n.isTooLargeForSyncing()&&!n.isForSimpleWidget}const nEe=999;class zp{constructor(e,t,i,r){this.searchString=e,this.isRegex=t,this.matchCase=i,this.wordSeparators=r}parseSearchRequest(){if(this.searchString==="")return null;let e;this.isRegex?e=rEe(this.searchString):e=this.searchString.indexOf(`
`)>=0;let t=null;try{t=qse(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch{return null}if(!t)return null;let i=!this.isRegex&&!e;return i&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(i=this.matchCase),new tEe(t,this.wordSeparators?rl(this.wordSeparators):null,i?this.searchString:null)}}function rEe(n){if(!n||n.length===0)return!1;for(let e=0,t=n.length;e<t;e++){const i=n.charCodeAt(e);if(i===10)return!0;if(i===92){if(e++,e>=t)break;const r=n.charCodeAt(e);if(r===110||r===114||r===87)return!0}}return!1}function Gp(n,e,t){if(!t)return new q1(n,null);const i=[];for(let r=0,o=e.length;r<o;r++)i[r]=e[r];return new q1(n,i)}class cK{constructor(e){const t=[];let i=0;for(let r=0,o=e.length;r<o;r++)e.charCodeAt(r)===10&&(t[i++]=r);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){const t=this._lineFeedsOffsets;let i=0,r=t.length-1;if(r===-1||e<=t[0])return 0;for(;i<r;){const o=i+((r-i)/2>>0);t[o]>=e?r=o-1:t[o+1]>=e?(i=o,r=o):i=o+1}return i+1}}class vk{static findMatches(e,t,i,r,o){const s=t.parseSearchRequest();return s?s.regex.multiline?this._doFindMatchesMultiline(e,i,new X0(s.wordSeparators,s.regex),r,o):this._doFindMatchesLineByLine(e,i,s,r,o):[]}static _getMultilineMatchRange(e,t,i,r,o,s){let a,l=0;r?(l=r.findLineFeedCountBeforeOffset(o),a=t+o+l):a=t+o;let c;if(r){const f=r.findLineFeedCountBeforeOffset(o+s.length)-l;c=a+s.length+f}else c=a+s.length;const d=e.getPositionAt(a),u=e.getPositionAt(c);return new B(d.lineNumber,d.column,u.lineNumber,u.column)}static _doFindMatchesMultiline(e,t,i,r,o){const s=e.getOffsetAt(t.getStartPosition()),a=e.getValueInRange(t,1),l=e.getEOL()===`\r
`?new cK(a):null,c=[];let d=0,u;for(i.reset(0);u=i.next(a);)if(c[d++]=Gp(this._getMultilineMatchRange(e,s,a,l,u.index,u[0]),u,r),d>=o)return c;return c}static _doFindMatchesLineByLine(e,t,i,r,o){const s=[];let a=0;if(t.startLineNumber===t.endLineNumber){const c=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return a=this._findMatchesInLine(i,c,t.startLineNumber,t.startColumn-1,a,s,r,o),s}const l=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);a=this._findMatchesInLine(i,l,t.startLineNumber,t.startColumn-1,a,s,r,o);for(let c=t.startLineNumber+1;c<t.endLineNumber&&a<o;c++)a=this._findMatchesInLine(i,e.getLineContent(c),c,0,a,s,r,o);if(a<o){const c=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);a=this._findMatchesInLine(i,c,t.endLineNumber,0,a,s,r,o)}return s}static _findMatchesInLine(e,t,i,r,o,s,a,l){const c=e.wordSeparators;if(!a&&e.simpleSearch){const h=e.simpleSearch,f=h.length,g=t.length;let _=-f;for(;(_=t.indexOf(h,_+f))!==-1;)if((!c||y6(c,t,g,_,f))&&(s[o++]=new q1(new B(i,_+1+r,i,_+1+f+r),null),o>=l))return o;return o}const d=new X0(e.wordSeparators,e.regex);let u;d.reset(0);do if(u=d.next(t),u&&(s[o++]=Gp(new B(i,u.index+1+r,i,u.index+1+u[0].length+r),u,a),o>=l))return o;while(u);return o}static findNextMatch(e,t,i,r){const o=t.parseSearchRequest();if(!o)return null;const s=new X0(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindNextMatchMultiline(e,i,s,r):this._doFindNextMatchLineByLine(e,i,s,r)}static _doFindNextMatchMultiline(e,t,i,r){const o=new re(t.lineNumber,1),s=e.getOffsetAt(o),a=e.getLineCount(),l=e.getValueInRange(new B(o.lineNumber,o.column,a,e.getLineMaxColumn(a)),1),c=e.getEOL()===`\r
`?new cK(l):null;i.reset(t.column-1);const d=i.next(l);return d?Gp(this._getMultilineMatchRange(e,s,l,c,d.index,d[0]),d,r):t.lineNumber!==1||t.column!==1?this._doFindNextMatchMultiline(e,new re(1,1),i,r):null}static _doFindNextMatchLineByLine(e,t,i,r){const o=e.getLineCount(),s=t.lineNumber,a=e.getLineContent(s),l=this._findFirstMatchInLine(i,a,s,t.column,r);if(l)return l;for(let c=1;c<=o;c++){const d=(s+c-1)%o,u=e.getLineContent(d+1),h=this._findFirstMatchInLine(i,u,d+1,1,r);if(h)return h}return null}static _findFirstMatchInLine(e,t,i,r,o){e.reset(r-1);const s=e.next(t);return s?Gp(new B(i,s.index+1,i,s.index+1+s[0].length),s,o):null}static findPreviousMatch(e,t,i,r){const o=t.parseSearchRequest();if(!o)return null;const s=new X0(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindPreviousMatchMultiline(e,i,s,r):this._doFindPreviousMatchLineByLine(e,i,s,r)}static _doFindPreviousMatchMultiline(e,t,i,r){const o=this._doFindMatchesMultiline(e,new B(1,1,t.lineNumber,t.column),i,r,10*nEe);if(o.length>0)return o[o.length-1];const s=e.getLineCount();return t.lineNumber!==s||t.column!==e.getLineMaxColumn(s)?this._doFindPreviousMatchMultiline(e,new re(s,e.getLineMaxColumn(s)),i,r):null}static _doFindPreviousMatchLineByLine(e,t,i,r){const o=e.getLineCount(),s=t.lineNumber,a=e.getLineContent(s).substring(0,t.column-1),l=this._findLastMatchInLine(i,a,s,r);if(l)return l;for(let c=1;c<=o;c++){const d=(o+s-c-1)%o,u=e.getLineContent(d+1),h=this._findLastMatchInLine(i,u,d+1,r);if(h)return h}return null}static _findLastMatchInLine(e,t,i,r){let o=null,s;for(e.reset(0);s=e.next(t);)o=Gp(new B(i,s.index+1,i,s.index+1+s[0].length),s,r);return o}}function oEe(n,e,t,i,r){if(i===0)return!0;const o=e.charCodeAt(i-1);if(n.get(o)!==0||o===13||o===10)return!0;if(r>0){const s=e.charCodeAt(i);if(n.get(s)!==0)return!0}return!1}function sEe(n,e,t,i,r){if(i+r===t)return!0;const o=e.charCodeAt(i+r);if(n.get(o)!==0||o===13||o===10)return!0;if(r>0){const s=e.charCodeAt(i+r-1);if(n.get(s)!==0)return!0}return!1}function y6(n,e,t,i,r){return oEe(n,e,t,i,r)&&sEe(n,e,t,i,r)}class X0{constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){const t=e.length;let i;do{if(this._prevMatchStartIndex+this._prevMatchLength===t||(i=this._searchRegex.exec(e),!i))return null;const r=i.index,o=i[0].length;if(r===this._prevMatchStartIndex&&o===this._prevMatchLength){if(o===0){WE(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=r,this._prevMatchLength=o,!this._wordSeparators||y6(this._wordSeparators,e,t,r,o))return i}while(i);return null}}class C6{static computeUnicodeHighlights(e,t,i){const r=i?i.startLineNumber:1,o=i?i.endLineNumber:e.getLineCount(),s=new dK(t),a=s.getCandidateCodePoints();let l;a==="allNonBasicAscii"?l=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):l=new RegExp(`${aEe(Array.from(a))}`,"g");const c=new X0(null,l),d=[];let u=!1,h,f=0,g=0,_=0;e:for(let y=r,m=o;y<=m;y++){const p=e.getLineContent(y),v=p.length;c.reset(0);do if(h=c.next(p),h){let b=h.index,C=h.index+h[0].length;if(b>0){const D=p.charCodeAt(b-1);cr(D)&&b--}if(C+1<v){const D=p.charCodeAt(C-1);cr(D)&&C++}const S=p.substring(b,C);let x=O1(b+1,jW,p,0);x&&x.endColumn<=b+1&&(x=null);const k=s.shouldHighlightNonBasicASCII(S,x?x.word:null);if(k!==0){if(k===3?f++:k===2?g++:k===1?_++:DP(),d.length>=1e3){u=!0;break e}d.push(new B(y,b+1,y,C+1))}}while(h)}return{ranges:d,hasMore:u,ambiguousCharacterCount:f,invisibleCharacterCount:g,nonBasicAsciiCharacterCount:_}}static computeUnicodeHighlightReason(e,t){const i=new dK(t);switch(i.shouldHighlightNonBasicASCII(e,null)){case 0:return null;case 2:return{kind:1};case 3:{const o=e.codePointAt(0),s=i.ambiguousCharacters.getPrimaryConfusable(o),a=$m.getLocales().filter(l=>!$m.getInstance(new Set([...t.allowedLocales,l])).isAmbiguous(o));return{kind:0,confusableWith:String.fromCodePoint(s),notAmbiguousInLocales:a}}case 1:return{kind:2}}}}function aEe(n,e){return`[${xa(n.map(i=>String.fromCodePoint(i)).join(""))}]`}class dK{constructor(e){this.options=e,this.allowedCodePoints=new Set(e.allowedCodePoints),this.ambiguousCharacters=$m.getInstance(new Set(e.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const e=new Set;if(this.options.invisibleCharacters)for(const t of Jd.codePoints)uK(String.fromCodePoint(t))||e.add(t);if(this.options.ambiguousCharacters)for(const t of this.ambiguousCharacters.getConfusableCodePoints())e.add(t);for(const t of this.allowedCodePoints)e.delete(t);return e}shouldHighlightNonBasicASCII(e,t){const i=e.codePointAt(0);if(this.allowedCodePoints.has(i))return 0;if(this.options.nonBasicASCII)return 1;let r=!1,o=!1;if(t)for(const s of t){const a=s.codePointAt(0),l=Ax(s);r=r||l,!l&&!this.ambiguousCharacters.isAmbiguous(a)&&!Jd.isInvisibleCharacter(a)&&(o=!0)}return!r&&o?0:this.options.invisibleCharacters&&!uK(e)&&Jd.isInvisibleCharacter(i)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(i)?3:0}}function uK(n){return n===" "||n===`
`||n==="	"}class lT{constructor(e,t,i){this.changes=e,this.moves=t,this.hitTimeout=i}}class Zae{constructor(e,t){this.lineRangeMapping=e,this.changes=t}}class Bt{static addRange(e,t){let i=0;for(;i<t.length&&t[i].endExclusive<e.start;)i++;let r=i;for(;r<t.length&&t[r].start<=e.endExclusive;)r++;if(i===r)t.splice(i,0,e);else{const o=Math.min(e.start,t[i].start),s=Math.max(e.endExclusive,t[r-1].endExclusive);t.splice(i,r-i,new Bt(o,s))}}static ofLength(e){return new Bt(0,e)}static ofStartAndLength(e,t){return new Bt(e,e+t)}constructor(e,t){if(this.start=e,this.endExclusive=t,e>t)throw new Xi(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(e){return new Bt(this.start+e,this.endExclusive+e)}deltaStart(e){return new Bt(this.start+e,this.endExclusive)}deltaEnd(e){return new Bt(this.start,this.endExclusive+e)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}contains(e){return this.start<=e&&e<this.endExclusive}join(e){return new Bt(Math.min(this.start,e.start),Math.max(this.endExclusive,e.endExclusive))}intersect(e){const t=Math.max(this.start,e.start),i=Math.min(this.endExclusive,e.endExclusive);if(t<=i)return new Bt(t,i)}intersects(e){const t=Math.max(this.start,e.start),i=Math.min(this.endExclusive,e.endExclusive);return t<i}isBefore(e){return this.endExclusive<=e.start}isAfter(e){return this.start>=e.endExclusive}slice(e){return e.slice(this.start,this.endExclusive)}clip(e){if(this.isEmpty)throw new Xi(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,e))}clipCyclic(e){if(this.isEmpty)throw new Xi(`Invalid clipping range: ${this.toString()}`);return e<this.start?this.endExclusive-(this.start-e)%this.length:e>=this.endExclusive?this.start+(e-this.start)%this.length:e}forEach(e){for(let t=this.start;t<this.endExclusive;t++)e(t)}}class w6{constructor(){this._sortedRanges=[]}addRange(e){let t=0;for(;t<this._sortedRanges.length&&this._sortedRanges[t].endExclusive<e.start;)t++;let i=t;for(;i<this._sortedRanges.length&&this._sortedRanges[i].start<=e.endExclusive;)i++;if(t===i)this._sortedRanges.splice(t,0,e);else{const r=Math.min(e.start,this._sortedRanges[t].start),o=Math.max(e.endExclusive,this._sortedRanges[i-1].endExclusive);this._sortedRanges.splice(t,i-t,new Bt(r,o))}}toString(){return this._sortedRanges.map(e=>e.toString()).join(", ")}intersectsStrict(e){let t=0;for(;t<this._sortedRanges.length&&this._sortedRanges[t].endExclusive<=e.start;)t++;return t<this._sortedRanges.length&&this._sortedRanges[t].start<e.endExclusive}intersectWithRange(e){const t=new w6;for(const i of this._sortedRanges){const r=i.intersect(e);r&&t.addRange(r)}return t}intersectWithRangeLength(e){return this.intersectWithRange(e).length}get length(){return this._sortedRanges.reduce((e,t)=>e+t.length,0)}}function K1(n,e,t){const i=lEe(n,e);if(i!==-1)return n[i]}function lEe(n,e,t=n.length-1){for(let i=t;i>=0;i--){const r=n[i];if(e(r))return i}return-1}function xb(n,e){const t=G1(n,e);return t===-1?void 0:n[t]}function G1(n,e,t=0,i=n.length){let r=t,o=i;for(;r<o;){const s=Math.floor((r+o)/2);e(n[s])?r=s+1:o=s}return r-1}function cEe(n,e){const t=Z1(n,e);return t===n.length?void 0:n[t]}function Z1(n,e,t=0,i=n.length){let r=t,o=i;for(;r<o;){const s=Math.floor((r+o)/2);e(n[s])?o=s:r=s+1}return r}class Fx{constructor(e){this._array=e,this._findLastMonotonousLastIdx=0}findLastMonotonous(e){if(Fx.assertInvariants){if(this._prevFindLastPredicate){for(const i of this._array)if(this._prevFindLastPredicate(i)&&!e(i))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=e}const t=G1(this._array,e,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=t+1,t===-1?void 0:this._array[t]}}Fx.assertInvariants=!1;function S6(n,e){if(n.length===0)return;let t=n[0];for(let i=1;i<n.length;i++){const r=n[i];e(r,t)>0&&(t=r)}return t}function dEe(n,e){if(n.length===0)return;let t=n[0];for(let i=1;i<n.length;i++){const r=n[i];e(r,t)>=0&&(t=r)}return t}function uEe(n,e){return S6(n,(t,i)=>-e(t,i))}function hEe(n,e){if(n.length===0)return-1;let t=0;for(let i=1;i<n.length;i++){const r=n[i];e(r,n[t])>0&&(t=i)}return t}function fEe(n,e){for(const t of n){const i=e(t);if(i!==void 0)return i}}let Ft=class gf{static fromRangeInclusive(e){return new gf(e.startLineNumber,e.endLineNumber+1)}static joinMany(e){if(e.length===0)return[];let t=new Tl(e[0].slice());for(let i=1;i<e.length;i++)t=t.getUnion(new Tl(e[i].slice()));return t.ranges}static ofLength(e,t){return new gf(e,e+t)}static deserialize(e){return new gf(e[0],e[1])}constructor(e,t){if(e>t)throw new Xi(`startLineNumber ${e} cannot be after endLineNumberExclusive ${t}`);this.startLineNumber=e,this.endLineNumberExclusive=t}contains(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(e){return new gf(this.startLineNumber+e,this.endLineNumberExclusive+e)}deltaLength(e){return new gf(this.startLineNumber,this.endLineNumberExclusive+e)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(e){return new gf(Math.min(this.startLineNumber,e.startLineNumber),Math.max(this.endLineNumberExclusive,e.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(e){const t=Math.max(this.startLineNumber,e.startLineNumber),i=Math.min(this.endLineNumberExclusive,e.endLineNumberExclusive);if(t<=i)return new gf(t,i)}intersectsStrict(e){return this.startLineNumber<e.endLineNumberExclusive&&e.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(e){return this.startLineNumber<=e.endLineNumberExclusive&&e.startLineNumber<=this.endLineNumberExclusive}equals(e){return this.startLineNumber===e.startLineNumber&&this.endLineNumberExclusive===e.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new B(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new B(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(e){const t=[];for(let i=this.startLineNumber;i<this.endLineNumberExclusive;i++)t.push(e(i));return t}forEach(e){for(let t=this.startLineNumber;t<this.endLineNumberExclusive;t++)e(t)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}toOffsetRange(){return new Bt(this.startLineNumber-1,this.endLineNumberExclusive-1)}};class Tl{constructor(e=[]){this._normalizedRanges=e}get ranges(){return this._normalizedRanges}addRange(e){if(e.length===0)return;const t=Z1(this._normalizedRanges,r=>r.endLineNumberExclusive>=e.startLineNumber),i=G1(this._normalizedRanges,r=>r.startLineNumber<=e.endLineNumberExclusive)+1;if(t===i)this._normalizedRanges.splice(t,0,e);else if(t===i-1){const r=this._normalizedRanges[t];this._normalizedRanges[t]=r.join(e)}else{const r=this._normalizedRanges[t].join(this._normalizedRanges[i-1]).join(e);this._normalizedRanges.splice(t,i-t,r)}}contains(e){const t=xb(this._normalizedRanges,i=>i.startLineNumber<=e);return!!t&&t.endLineNumberExclusive>e}intersects(e){const t=xb(this._normalizedRanges,i=>i.startLineNumber<e.endLineNumberExclusive);return!!t&&t.endLineNumberExclusive>e.startLineNumber}getUnion(e){if(this._normalizedRanges.length===0)return e;if(e._normalizedRanges.length===0)return this;const t=[];let i=0,r=0,o=null;for(;i<this._normalizedRanges.length||r<e._normalizedRanges.length;){let s=null;if(i<this._normalizedRanges.length&&r<e._normalizedRanges.length){const a=this._normalizedRanges[i],l=e._normalizedRanges[r];a.startLineNumber<l.startLineNumber?(s=a,i++):(s=l,r++)}else i<this._normalizedRanges.length?(s=this._normalizedRanges[i],i++):(s=e._normalizedRanges[r],r++);o===null?o=s:o.endLineNumberExclusive>=s.startLineNumber?o=new Ft(o.startLineNumber,Math.max(o.endLineNumberExclusive,s.endLineNumberExclusive)):(t.push(o),o=s)}return o!==null&&t.push(o),new Tl(t)}subtractFrom(e){const t=Z1(this._normalizedRanges,s=>s.endLineNumberExclusive>=e.startLineNumber),i=G1(this._normalizedRanges,s=>s.startLineNumber<=e.endLineNumberExclusive)+1;if(t===i)return new Tl([e]);const r=[];let o=e.startLineNumber;for(let s=t;s<i;s++){const a=this._normalizedRanges[s];a.startLineNumber>o&&r.push(new Ft(o,a.startLineNumber)),o=a.endLineNumberExclusive}return o<e.endLineNumberExclusive&&r.push(new Ft(o,e.endLineNumberExclusive)),new Tl(r)}toString(){return this._normalizedRanges.map(e=>e.toString()).join(", ")}getIntersection(e){const t=[];let i=0,r=0;for(;i<this._normalizedRanges.length&&r<e._normalizedRanges.length;){const o=this._normalizedRanges[i],s=e._normalizedRanges[r],a=o.intersect(s);a&&!a.isEmpty&&t.push(a),o.endLineNumberExclusive<s.endLineNumberExclusive?i++:r++}return new Tl(t)}getWithDelta(e){return new Tl(this._normalizedRanges.map(t=>t.delta(e)))}}class fs{static inverse(e,t,i){const r=[];let o=1,s=1;for(const l of e){const c=new fs(new Ft(o,l.original.startLineNumber),new Ft(s,l.modified.startLineNumber));c.modified.isEmpty||r.push(c),o=l.original.endLineNumberExclusive,s=l.modified.endLineNumberExclusive}const a=new fs(new Ft(o,t+1),new Ft(s,i+1));return a.modified.isEmpty||r.push(a),r}static clip(e,t,i){const r=[];for(const o of e){const s=o.original.intersect(t),a=o.modified.intersect(i);s&&!s.isEmpty&&a&&!a.isEmpty&&r.push(new fs(s,a))}return r}constructor(e,t){this.original=e,this.modified=t}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new fs(this.modified,this.original)}join(e){return new fs(this.original.join(e.original),this.modified.join(e.modified))}}class qc extends fs{constructor(e,t,i){super(e,t),this.innerChanges=i}flip(){var e;return new qc(this.modified,this.original,(e=this.innerChanges)===null||e===void 0?void 0:e.map(t=>t.flip()))}}class Bg{constructor(e,t){this.originalRange=e,this.modifiedRange=t}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new Bg(this.modifiedRange,this.originalRange)}}const gEe=3;class pEe{computeDiff(e,t,i){var r;const s=new vEe(e,t,{maxComputationTime:i.maxComputationTimeMs,shouldIgnoreTrimWhitespace:i.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),a=[];let l=null;for(const c of s.changes){let d;c.originalEndLineNumber===0?d=new Ft(c.originalStartLineNumber+1,c.originalStartLineNumber+1):d=new Ft(c.originalStartLineNumber,c.originalEndLineNumber+1);let u;c.modifiedEndLineNumber===0?u=new Ft(c.modifiedStartLineNumber+1,c.modifiedStartLineNumber+1):u=new Ft(c.modifiedStartLineNumber,c.modifiedEndLineNumber+1);let h=new qc(d,u,(r=c.charChanges)===null||r===void 0?void 0:r.map(f=>new Bg(new B(f.originalStartLineNumber,f.originalStartColumn,f.originalEndLineNumber,f.originalEndColumn),new B(f.modifiedStartLineNumber,f.modifiedStartColumn,f.modifiedEndLineNumber,f.modifiedEndColumn))));l&&(l.modified.endLineNumberExclusive===h.modified.startLineNumber||l.original.endLineNumberExclusive===h.original.startLineNumber)&&(h=new qc(l.original.join(h.original),l.modified.join(h.modified),l.innerChanges&&h.innerChanges?l.innerChanges.concat(h.innerChanges):void 0),a.pop()),a.push(h),l=h}return Cb(()=>rae(a,(c,d)=>d.original.startLineNumber-c.original.endLineNumberExclusive===d.modified.startLineNumber-c.modified.endLineNumberExclusive&&c.original.endLineNumberExclusive<d.original.startLineNumber&&c.modified.endLineNumberExclusive<d.modified.startLineNumber)),new lT(a,[],s.quitEarly)}}function Yae(n,e,t,i){return new Id(n,e,t).ComputeDiff(i)}let hK=class{constructor(e){const t=[],i=[];for(let r=0,o=e.length;r<o;r++)t[r]=VF(e[r],1),i[r]=HF(e[r],1);this.lines=e,this._startColumns=t,this._endColumns=i}getElements(){const e=[];for(let t=0,i=this.lines.length;t<i;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,i){const r=[],o=[],s=[];let a=0;for(let l=t;l<=i;l++){const c=this.lines[l],d=e?this._startColumns[l]:1,u=e?this._endColumns[l]:c.length+1;for(let h=d;h<u;h++)r[a]=c.charCodeAt(h-1),o[a]=l+1,s[a]=h,a++;!e&&l<i&&(r[a]=10,o[a]=l+1,s[a]=c.length+1,a++)}return new mEe(r,o,s)}};class mEe{constructor(e,t,i){this._charCodes=e,this._lineNumbers=t,this._columns=i}toString(){return"["+this._charCodes.map((e,t)=>(e===10?"\\n":String.fromCharCode(e))+`-(${this._lineNumbers[t]},${this._columns[t]})`).join(", ")+"]"}_assertIndex(e,t){if(e<0||e>=t.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(e){return e>0&&e===this._lineNumbers.length?this.getEndLineNumber(e-1):(this._assertIndex(e,this._lineNumbers),this._lineNumbers[e])}getEndLineNumber(e){return e===-1?this.getStartLineNumber(e+1):(this._assertIndex(e,this._lineNumbers),this._charCodes[e]===10?this._lineNumbers[e]+1:this._lineNumbers[e])}getStartColumn(e){return e>0&&e===this._columns.length?this.getEndColumn(e-1):(this._assertIndex(e,this._columns),this._columns[e])}getEndColumn(e){return e===-1?this.getStartColumn(e+1):(this._assertIndex(e,this._columns),this._charCodes[e]===10?1:this._columns[e]+1)}}class Mv{constructor(e,t,i,r,o,s,a,l){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=i,this.originalEndColumn=r,this.modifiedStartLineNumber=o,this.modifiedStartColumn=s,this.modifiedEndLineNumber=a,this.modifiedEndColumn=l}static createFromDiffChange(e,t,i){const r=t.getStartLineNumber(e.originalStart),o=t.getStartColumn(e.originalStart),s=t.getEndLineNumber(e.originalStart+e.originalLength-1),a=t.getEndColumn(e.originalStart+e.originalLength-1),l=i.getStartLineNumber(e.modifiedStart),c=i.getStartColumn(e.modifiedStart),d=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),u=i.getEndColumn(e.modifiedStart+e.modifiedLength-1);return new Mv(r,o,s,a,l,c,d,u)}}function _Ee(n){if(n.length<=1)return n;const e=[n[0]];let t=e[0];for(let i=1,r=n.length;i<r;i++){const o=n[i],s=o.originalStart-(t.originalStart+t.originalLength),a=o.modifiedStart-(t.modifiedStart+t.modifiedLength);Math.min(s,a)<gEe?(t.originalLength=o.originalStart+o.originalLength-t.originalStart,t.modifiedLength=o.modifiedStart+o.modifiedLength-t.modifiedStart):(e.push(o),t=o)}return e}class Nw{constructor(e,t,i,r,o){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=i,this.modifiedEndLineNumber=r,this.charChanges=o}static createFromDiffResult(e,t,i,r,o,s,a){let l,c,d,u,h;if(t.originalLength===0?(l=i.getStartLineNumber(t.originalStart)-1,c=0):(l=i.getStartLineNumber(t.originalStart),c=i.getEndLineNumber(t.originalStart+t.originalLength-1)),t.modifiedLength===0?(d=r.getStartLineNumber(t.modifiedStart)-1,u=0):(d=r.getStartLineNumber(t.modifiedStart),u=r.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),s&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&o()){const f=i.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),g=r.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);if(f.getElements().length>0&&g.getElements().length>0){let _=Yae(f,g,o,!0).changes;a&&(_=_Ee(_)),h=[];for(let y=0,m=_.length;y<m;y++)h.push(Mv.createFromDiffChange(_[y],f,g))}}return new Nw(l,c,d,u,h)}}class vEe{constructor(e,t,i){this.shouldComputeCharChanges=i.shouldComputeCharChanges,this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=i.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new hK(e),this.modified=new hK(t),this.continueLineDiff=fK(i.maxComputationTime),this.continueCharDiff=fK(i.maxComputationTime===0?0:Math.min(i.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const e=Yae(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,i=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const a=[];for(let l=0,c=t.length;l<c;l++)a.push(Nw.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[l],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:i,changes:a}}const r=[];let o=0,s=0;for(let a=-1,l=t.length;a<l;a++){const c=a+1<l?t[a+1]:null,d=c?c.originalStart:this.originalLines.length,u=c?c.modifiedStart:this.modifiedLines.length;for(;o<d&&s<u;){const h=this.originalLines[o],f=this.modifiedLines[s];if(h!==f){{let g=VF(h,1),_=VF(f,1);for(;g>1&&_>1;){const y=h.charCodeAt(g-2),m=f.charCodeAt(_-2);if(y!==m)break;g--,_--}(g>1||_>1)&&this._pushTrimWhitespaceCharChange(r,o+1,1,g,s+1,1,_)}{let g=HF(h,1),_=HF(f,1);const y=h.length+1,m=f.length+1;for(;g<y&&_<m;){const p=h.charCodeAt(g-1),v=h.charCodeAt(_-1);if(p!==v)break;g++,_++}(g<y||_<m)&&this._pushTrimWhitespaceCharChange(r,o+1,g,y,s+1,_,m)}}o++,s++}c&&(r.push(Nw.createFromDiffResult(this.shouldIgnoreTrimWhitespace,c,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),o+=c.originalLength,s+=c.modifiedLength)}return{quitEarly:i,changes:r}}_pushTrimWhitespaceCharChange(e,t,i,r,o,s,a){if(this._mergeTrimWhitespaceCharChange(e,t,i,r,o,s,a))return;let l;this.shouldComputeCharChanges&&(l=[new Mv(t,i,t,r,o,s,o,a)]),e.push(new Nw(t,t,o,o,l))}_mergeTrimWhitespaceCharChange(e,t,i,r,o,s,a){const l=e.length;if(l===0)return!1;const c=e[l-1];return c.originalEndLineNumber===0||c.modifiedEndLineNumber===0?!1:c.originalEndLineNumber===t&&c.modifiedEndLineNumber===o?(this.shouldComputeCharChanges&&c.charChanges&&c.charChanges.push(new Mv(t,i,t,r,o,s,o,a)),!0):c.originalEndLineNumber+1===t&&c.modifiedEndLineNumber+1===o?(c.originalEndLineNumber=t,c.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&c.charChanges&&c.charChanges.push(new Mv(t,i,t,r,o,s,o,a)),!0):!1}}function VF(n,e){const t=xo(n);return t===-1?e:t+1}function HF(n,e){const t=Ac(n);return t===-1?e:t+2}function fK(n){if(n===0)return()=>!0;const e=Date.now();return()=>Date.now()-e<n}class ph{static trivial(e,t){return new ph([new lr(Bt.ofLength(e.length),Bt.ofLength(t.length))],!1)}static trivialTimedOut(e,t){return new ph([new lr(Bt.ofLength(e.length),Bt.ofLength(t.length))],!0)}constructor(e,t){this.diffs=e,this.hitTimeout=t}}class lr{static invert(e,t){const i=[];return use(e,(r,o)=>{i.push(lr.fromOffsetPairs(r?r.getEndExclusives():qa.zero,o?o.getStarts():new qa(t,(r?r.seq2Range.endExclusive-r.seq1Range.endExclusive:0)+t)))}),i}static fromOffsetPairs(e,t){return new lr(new Bt(e.offset1,t.offset1),new Bt(e.offset2,t.offset2))}constructor(e,t){this.seq1Range=e,this.seq2Range=t}swap(){return new lr(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(e){return new lr(this.seq1Range.join(e.seq1Range),this.seq2Range.join(e.seq2Range))}delta(e){return e===0?this:new lr(this.seq1Range.delta(e),this.seq2Range.delta(e))}deltaStart(e){return e===0?this:new lr(this.seq1Range.deltaStart(e),this.seq2Range.deltaStart(e))}deltaEnd(e){return e===0?this:new lr(this.seq1Range.deltaEnd(e),this.seq2Range.deltaEnd(e))}intersect(e){const t=this.seq1Range.intersect(e.seq1Range),i=this.seq2Range.intersect(e.seq2Range);if(!(!t||!i))return new lr(t,i)}getStarts(){return new qa(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new qa(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}class qa{constructor(e,t){this.offset1=e,this.offset2=t}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(e){return e===0?this:new qa(this.offset1+e,this.offset2+e)}equals(e){return this.offset1===e.offset1&&this.offset2===e.offset2}}qa.zero=new qa(0,0);qa.max=new qa(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);class Y1{isValid(){return!0}}Y1.instance=new Y1;class bEe{constructor(e){if(this.timeout=e,this.startTime=Date.now(),this.valid=!0,e<=0)throw new Xi("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}class AA{constructor(e,t){this.width=e,this.height=t,this.array=[],this.array=new Array(e*t)}get(e,t){return this.array[e+t*this.width]}set(e,t,i){this.array[e+t*this.width]=i}}function zF(n){return n===32||n===9}class Lb{static getKey(e){let t=this.chrKeys.get(e);return t===void 0&&(t=this.chrKeys.size,this.chrKeys.set(e,t)),t}constructor(e,t,i){this.range=e,this.lines=t,this.source=i,this.histogram=[];let r=0;for(let o=e.startLineNumber-1;o<e.endLineNumberExclusive-1;o++){const s=t[o];for(let l=0;l<s.length;l++){r++;const c=s[l],d=Lb.getKey(c);this.histogram[d]=(this.histogram[d]||0)+1}r++;const a=Lb.getKey(`
`);this.histogram[a]=(this.histogram[a]||0)+1}this.totalCount=r}computeSimilarity(e){var t,i;let r=0;const o=Math.max(this.histogram.length,e.histogram.length);for(let s=0;s<o;s++)r+=Math.abs(((t=this.histogram[s])!==null&&t!==void 0?t:0)-((i=e.histogram[s])!==null&&i!==void 0?i:0));return 1-r/(this.totalCount+e.totalCount)}}Lb.chrKeys=new Map;class yEe{compute(e,t,i=Y1.instance,r){if(e.length===0||t.length===0)return ph.trivial(e,t);const o=new AA(e.length,t.length),s=new AA(e.length,t.length),a=new AA(e.length,t.length);for(let g=0;g<e.length;g++)for(let _=0;_<t.length;_++){if(!i.isValid())return ph.trivialTimedOut(e,t);const y=g===0?0:o.get(g-1,_),m=_===0?0:o.get(g,_-1);let p;e.getElement(g)===t.getElement(_)?(g===0||_===0?p=0:p=o.get(g-1,_-1),g>0&&_>0&&s.get(g-1,_-1)===3&&(p+=a.get(g-1,_-1)),p+=r?r(g,_):1):p=-1;const v=Math.max(y,m,p);if(v===p){const b=g>0&&_>0?a.get(g-1,_-1):0;a.set(g,_,b+1),s.set(g,_,3)}else v===y?(a.set(g,_,0),s.set(g,_,1)):v===m&&(a.set(g,_,0),s.set(g,_,2));o.set(g,_,v)}const l=[];let c=e.length,d=t.length;function u(g,_){(g+1!==c||_+1!==d)&&l.push(new lr(new Bt(g+1,c),new Bt(_+1,d))),c=g,d=_}let h=e.length-1,f=t.length-1;for(;h>=0&&f>=0;)s.get(h,f)===3?(u(h,f),h--,f--):s.get(h,f)===1?h--:f--;return u(-1,-1),l.reverse(),new ph(l,!1)}}class Xae{compute(e,t,i=Y1.instance){if(e.length===0||t.length===0)return ph.trivial(e,t);const r=e,o=t;function s(_,y){for(;_<r.length&&y<o.length&&r.getElement(_)===o.getElement(y);)_++,y++;return _}let a=0;const l=new CEe;l.set(0,s(0,0));const c=new wEe;c.set(0,l.get(0)===0?null:new gK(null,0,0,l.get(0)));let d=0;e:for(;;){if(a++,!i.isValid())return ph.trivialTimedOut(r,o);const _=-Math.min(a,o.length+a%2),y=Math.min(a,r.length+a%2);for(d=_;d<=y;d+=2){const m=d===y?-1:l.get(d+1),p=d===_?-1:l.get(d-1)+1,v=Math.min(Math.max(m,p),r.length),b=v-d;if(v>r.length||b>o.length)continue;const C=s(v,b);l.set(d,C);const S=v===m?c.get(d+1):c.get(d-1);if(c.set(d,C!==v?new gK(S,v,b,C-v):S),l.get(d)===r.length&&l.get(d)-d===o.length)break e}}let u=c.get(d);const h=[];let f=r.length,g=o.length;for(;;){const _=u?u.x+u.length:0,y=u?u.y+u.length:0;if((_!==f||y!==g)&&h.push(new lr(new Bt(_,f),new Bt(y,g))),!u)break;f=u.x,g=u.y,u=u.prev}return h.reverse(),new ph(h,!1)}}class gK{constructor(e,t,i,r){this.prev=e,this.x=t,this.y=i,this.length=r}}class CEe{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(e){return e<0?(e=-e-1,this.negativeArr[e]):this.positiveArr[e]}set(e,t){if(e<0){if(e=-e-1,e>=this.negativeArr.length){const i=this.negativeArr;this.negativeArr=new Int32Array(i.length*2),this.negativeArr.set(i)}this.negativeArr[e]=t}else{if(e>=this.positiveArr.length){const i=this.positiveArr;this.positiveArr=new Int32Array(i.length*2),this.positiveArr.set(i)}this.positiveArr[e]=t}}}class wEe{constructor(){this.positiveArr=[],this.negativeArr=[]}get(e){return e<0?(e=-e-1,this.negativeArr[e]):this.positiveArr[e]}set(e,t){e<0?(e=-e-1,this.negativeArr[e]=t):this.positiveArr[e]=t}}var pK,mK;class SEe{constructor(e,t){this.uri=e,this.value=t}}function xEe(n){return Array.isArray(n)}class Ln{constructor(e,t){if(this[pK]="ResourceMap",e instanceof Ln)this.map=new Map(e.map),this.toKey=t??Ln.defaultToKey;else if(xEe(e)){this.map=new Map,this.toKey=t??Ln.defaultToKey;for(const[i,r]of e)this.set(i,r)}else this.map=new Map,this.toKey=e??Ln.defaultToKey}set(e,t){return this.map.set(this.toKey(e),new SEe(e,t)),this}get(e){var t;return(t=this.map.get(this.toKey(e)))===null||t===void 0?void 0:t.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){typeof t<"u"&&(e=e.bind(t));for(const[i,r]of this.map)e(r.value,r.uri,this)}*values(){for(const e of this.map.values())yield e.value}*keys(){for(const e of this.map.values())yield e.uri}*entries(){for(const e of this.map.values())yield[e.uri,e.value]}*[(pK=Symbol.toStringTag,Symbol.iterator)](){for(const[,e]of this.map)yield[e.uri,e.value]}}Ln.defaultToKey=n=>n.toString();class LEe{constructor(){this[mK]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,t=0){const i=this._map.get(e);if(i)return t!==0&&this.touch(i,t),i.value}set(e,t,i=0){let r=this._map.get(e);if(r)r.value=t,i!==0&&this.touch(r,i);else{switch(r={key:e,value:t,next:void 0,previous:void 0},i){case 0:this.addItemLast(r);break;case 1:this.addItemFirst(r);break;case 2:this.addItemLast(r);break;default:this.addItemLast(r);break}this._map.set(e,r),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const i=this._state;let r=this._head;for(;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const e=this,t=this._state;let i=this._head;const r={[Symbol.iterator](){return r},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const o={value:i.key,done:!1};return i=i.next,o}else return{value:void 0,done:!0}}};return r}values(){const e=this,t=this._state;let i=this._head;const r={[Symbol.iterator](){return r},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const o={value:i.value,done:!1};return i=i.next,o}else return{value:void 0,done:!0}}};return r}entries(){const e=this,t=this._state;let i=this._head;const r={[Symbol.iterator](){return r},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const o={value:[i.key,i.value],done:!1};return i=i.next,o}else return{value:void 0,done:!0}}};return r}[(mK=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.next,i--;this._head=t,this._size=i,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,i=e.previous;if(!t||!i)throw new Error("Invalid list");t.previous=i,i.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;const i=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(i.previous=r,r.next=i),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===2){if(e===this._tail)return;const i=e.next,r=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=r,r.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((t,i)=>{e.push([i,t])}),e}fromJSON(e){this.clear();for(const[t,i]of e)this.set(t,i)}}class hp extends LEe{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}class kEe{constructor(e){if(this._m1=new Map,this._m2=new Map,e)for(const[t,i]of e)this.set(t,i)}clear(){this._m1.clear(),this._m2.clear()}set(e,t){this._m1.set(e,t),this._m2.set(t,e)}get(e){return this._m1.get(e)}getKey(e){return this._m2.get(e)}delete(e){const t=this._m1.get(e);return t===void 0?!1:(this._m1.delete(e),this._m2.delete(t),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}class x6{constructor(){this.map=new Map}add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){const i=this.map.get(e);i&&(i.delete(t),i.size===0&&this.map.delete(e))}forEach(e,t){const i=this.map.get(e);i&&i.forEach(t)}get(e){const t=this.map.get(e);return t||new Set}}class YE{constructor(e,t,i){this.lines=e,this.considerWhitespaceChanges=i,this.elements=[],this.firstCharOffsetByLine=[],this.additionalOffsetByLine=[];let r=!1;t.start>0&&t.endExclusive>=e.length&&(t=new Bt(t.start-1,t.endExclusive),r=!0),this.lineRange=t,this.firstCharOffsetByLine[0]=0;for(let o=this.lineRange.start;o<this.lineRange.endExclusive;o++){let s=e[o],a=0;if(r)a=s.length,s="",r=!1;else if(!i){const l=s.trimStart();a=s.length-l.length,s=l.trimEnd()}this.additionalOffsetByLine.push(a);for(let l=0;l<s.length;l++)this.elements.push(s.charCodeAt(l));o<e.length-1&&(this.elements.push(10),this.firstCharOffsetByLine[o-this.lineRange.start+1]=this.elements.length)}this.additionalOffsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new Bt(0,this.length))}getText(e){return this.elements.slice(e.start,e.endExclusive).map(t=>String.fromCharCode(t)).join("")}getElement(e){return this.elements[e]}get length(){return this.elements.length}getBoundaryScore(e){const t=vK(e>0?this.elements[e-1]:-1),i=vK(e<this.elements.length?this.elements[e]:-1);if(t===7&&i===8)return 0;if(t===8)return 150;let r=0;return t!==i&&(r+=10,t===0&&i===1&&(r+=1)),r+=_K(t),r+=_K(i),r}translateOffset(e){if(this.lineRange.isEmpty)return new re(this.lineRange.start+1,1);const t=G1(this.firstCharOffsetByLine,i=>i<=e);return new re(this.lineRange.start+t+1,e-this.firstCharOffsetByLine[t]+this.additionalOffsetByLine[t]+1)}translateRange(e){return B.fromPositions(this.translateOffset(e.start),this.translateOffset(e.endExclusive))}findWordContaining(e){if(e<0||e>=this.elements.length||!OA(this.elements[e]))return;let t=e;for(;t>0&&OA(this.elements[t-1]);)t--;let i=e;for(;i<this.elements.length&&OA(this.elements[i]);)i++;return new Bt(t,i)}countLinesIn(e){return this.translateOffset(e.endExclusive).lineNumber-this.translateOffset(e.start).lineNumber}isStronglyEqual(e,t){return this.elements[e]===this.elements[t]}extendToFullLines(e){var t,i;const r=(t=xb(this.firstCharOffsetByLine,s=>s<=e.start))!==null&&t!==void 0?t:0,o=(i=cEe(this.firstCharOffsetByLine,s=>e.endExclusive<=s))!==null&&i!==void 0?i:this.elements.length;return new Bt(r,o)}}function OA(n){return n>=97&&n<=122||n>=65&&n<=90||n>=48&&n<=57}const DEe={0:0,1:0,2:0,3:10,4:2,5:30,6:3,7:10,8:10};function _K(n){return DEe[n]}function vK(n){return n===10?8:n===13?7:zF(n)?6:n>=97&&n<=122?0:n>=65&&n<=90?1:n>=48&&n<=57?2:n===-1?3:n===44||n===59?5:4}function TEe(n,e,t,i,r,o){let{moves:s,excludedChanges:a}=IEe(n,e,t,o);if(!o.isValid())return[];const l=n.filter(d=>!a.has(d)),c=NEe(l,i,r,e,t,o);return L4(s,c),s=PEe(s),s=s.filter(d=>{const u=d.original.toOffsetRange().slice(e).map(f=>f.trim());return u.join(`
`).length>=15&&EEe(u,f=>f.length>=2)>=2}),s=MEe(n,s),s}function EEe(n,e){let t=0;for(const i of n)e(i)&&t++;return t}function IEe(n,e,t,i){const r=[],o=n.filter(l=>l.modified.isEmpty&&l.original.length>=3).map(l=>new Lb(l.original,e,l)),s=new Set(n.filter(l=>l.original.isEmpty&&l.modified.length>=3).map(l=>new Lb(l.modified,t,l))),a=new Set;for(const l of o){let c=-1,d;for(const u of s){const h=l.computeSimilarity(u);h>c&&(c=h,d=u)}if(c>.9&&d&&(s.delete(d),r.push(new fs(l.range,d.range)),a.add(l.source),a.add(d.source)),!i.isValid())return{moves:r,excludedChanges:a}}return{moves:r,excludedChanges:a}}function NEe(n,e,t,i,r,o){const s=[],a=new x6;for(const h of n)for(let f=h.original.startLineNumber;f<h.original.endLineNumberExclusive-2;f++){const g=`${e[f-1]}:${e[f+1-1]}:${e[f+2-1]}`;a.add(g,{range:new Ft(f,f+3)})}const l=[];n.sort(Xa(h=>h.modified.startLineNumber,uh));for(const h of n){let f=[];for(let g=h.modified.startLineNumber;g<h.modified.endLineNumberExclusive-2;g++){const _=`${t[g-1]}:${t[g+1-1]}:${t[g+2-1]}`,y=new Ft(g,g+3),m=[];a.forEach(_,({range:p})=>{for(const b of f)if(b.originalLineRange.endLineNumberExclusive+1===p.endLineNumberExclusive&&b.modifiedLineRange.endLineNumberExclusive+1===y.endLineNumberExclusive){b.originalLineRange=new Ft(b.originalLineRange.startLineNumber,p.endLineNumberExclusive),b.modifiedLineRange=new Ft(b.modifiedLineRange.startLineNumber,y.endLineNumberExclusive),m.push(b);return}const v={modifiedLineRange:y,originalLineRange:p};l.push(v),m.push(v)}),f=m}if(!o.isValid())return[]}l.sort(gse(Xa(h=>h.modifiedLineRange.length,uh)));const c=new Tl,d=new Tl;for(const h of l){const f=h.modifiedLineRange.startLineNumber-h.originalLineRange.startLineNumber,g=c.subtractFrom(h.modifiedLineRange),_=d.subtractFrom(h.originalLineRange).getWithDelta(f),y=g.getIntersection(_);for(const m of y.ranges){if(m.length<3)continue;const p=m,v=m.delta(-f);s.push(new fs(v,p)),c.addRange(p),d.addRange(v)}}s.sort(Xa(h=>h.original.startLineNumber,uh));const u=new Fx(n);for(let h=0;h<s.length;h++){const f=s[h],g=u.findLastMonotonous(S=>S.original.startLineNumber<=f.original.startLineNumber),_=xb(n,S=>S.modified.startLineNumber<=f.modified.startLineNumber),y=Math.max(f.original.startLineNumber-g.original.startLineNumber,f.modified.startLineNumber-_.modified.startLineNumber),m=u.findLastMonotonous(S=>S.original.startLineNumber<f.original.endLineNumberExclusive),p=xb(n,S=>S.modified.startLineNumber<f.modified.endLineNumberExclusive),v=Math.max(m.original.endLineNumberExclusive-f.original.endLineNumberExclusive,p.modified.endLineNumberExclusive-f.modified.endLineNumberExclusive);let b;for(b=0;b<y;b++){const S=f.original.startLineNumber-b-1,x=f.modified.startLineNumber-b-1;if(S>i.length||x>r.length||c.contains(x)||d.contains(S)||!bK(i[S-1],r[x-1],o))break}b>0&&(d.addRange(new Ft(f.original.startLineNumber-b,f.original.startLineNumber)),c.addRange(new Ft(f.modified.startLineNumber-b,f.modified.startLineNumber)));let C;for(C=0;C<v;C++){const S=f.original.endLineNumberExclusive+C,x=f.modified.endLineNumberExclusive+C;if(S>i.length||x>r.length||c.contains(x)||d.contains(S)||!bK(i[S-1],r[x-1],o))break}C>0&&(d.addRange(new Ft(f.original.endLineNumberExclusive,f.original.endLineNumberExclusive+C)),c.addRange(new Ft(f.modified.endLineNumberExclusive,f.modified.endLineNumberExclusive+C))),(b>0||C>0)&&(s[h]=new fs(new Ft(f.original.startLineNumber-b,f.original.endLineNumberExclusive+C),new Ft(f.modified.startLineNumber-b,f.modified.endLineNumberExclusive+C)))}return s}function bK(n,e,t){if(n.trim()===e.trim())return!0;if(n.length>300&&e.length>300)return!1;const r=new Xae().compute(new YE([n],new Bt(0,1),!1),new YE([e],new Bt(0,1),!1),t);let o=0;const s=lr.invert(r.diffs,n.length);for(const d of s)d.seq1Range.forEach(u=>{zF(n.charCodeAt(u))||o++});function a(d){let u=0;for(let h=0;h<n.length;h++)zF(d.charCodeAt(h))||u++;return u}const l=a(n.length>e.length?n:e);return o/l>.6&&l>10}function PEe(n){if(n.length===0)return n;n.sort(Xa(t=>t.original.startLineNumber,uh));const e=[n[0]];for(let t=1;t<n.length;t++){const i=e[e.length-1],r=n[t],o=r.original.startLineNumber-i.original.endLineNumberExclusive,s=r.modified.startLineNumber-i.modified.endLineNumberExclusive;if(o>=0&&s>=0&&o+s<=2){e[e.length-1]=i.join(r);continue}e.push(r)}return e}function MEe(n,e){const t=new Fx(n);return e=e.filter(i=>{const r=t.findLastMonotonous(a=>a.original.startLineNumber<i.original.endLineNumberExclusive)||new fs(new Ft(1,1),new Ft(1,1)),o=xb(n,a=>a.modified.startLineNumber<i.modified.endLineNumberExclusive);return r!==o}),e}function jF(n,e,t){let i=t;return i=yK(n,e,i),i=yK(n,e,i),i=REe(n,e,i),i}function yK(n,e,t){if(t.length===0)return t;const i=[];i.push(t[0]);for(let o=1;o<t.length;o++){const s=i[i.length-1];let a=t[o];if(a.seq1Range.isEmpty||a.seq2Range.isEmpty){const l=a.seq1Range.start-s.seq1Range.endExclusive;let c;for(c=1;c<=l&&!(n.getElement(a.seq1Range.start-c)!==n.getElement(a.seq1Range.endExclusive-c)||e.getElement(a.seq2Range.start-c)!==e.getElement(a.seq2Range.endExclusive-c));c++);if(c--,c===l){i[i.length-1]=new lr(new Bt(s.seq1Range.start,a.seq1Range.endExclusive-l),new Bt(s.seq2Range.start,a.seq2Range.endExclusive-l));continue}a=a.delta(-c)}i.push(a)}const r=[];for(let o=0;o<i.length-1;o++){const s=i[o+1];let a=i[o];if(a.seq1Range.isEmpty||a.seq2Range.isEmpty){const l=s.seq1Range.start-a.seq1Range.endExclusive;let c;for(c=0;c<l&&!(!n.isStronglyEqual(a.seq1Range.start+c,a.seq1Range.endExclusive+c)||!e.isStronglyEqual(a.seq2Range.start+c,a.seq2Range.endExclusive+c));c++);if(c===l){i[o+1]=new lr(new Bt(a.seq1Range.start+l,s.seq1Range.endExclusive),new Bt(a.seq2Range.start+l,s.seq2Range.endExclusive));continue}c>0&&(a=a.delta(c))}r.push(a)}return i.length>0&&r.push(i[i.length-1]),r}function REe(n,e,t){if(!n.getBoundaryScore||!e.getBoundaryScore)return t;for(let i=0;i<t.length;i++){const r=i>0?t[i-1]:void 0,o=t[i],s=i+1<t.length?t[i+1]:void 0,a=new Bt(r?r.seq1Range.endExclusive+1:0,s?s.seq1Range.start-1:n.length),l=new Bt(r?r.seq2Range.endExclusive+1:0,s?s.seq2Range.start-1:e.length);o.seq1Range.isEmpty?t[i]=CK(o,n,e,a,l):o.seq2Range.isEmpty&&(t[i]=CK(o.swap(),e,n,l,a).swap())}return t}function CK(n,e,t,i,r){let s=1;for(;n.seq1Range.start-s>=i.start&&n.seq2Range.start-s>=r.start&&t.isStronglyEqual(n.seq2Range.start-s,n.seq2Range.endExclusive-s)&&s<100;)s++;s--;let a=0;for(;n.seq1Range.start+a<i.endExclusive&&n.seq2Range.endExclusive+a<r.endExclusive&&t.isStronglyEqual(n.seq2Range.start+a,n.seq2Range.endExclusive+a)&&a<100;)a++;if(s===0&&a===0)return n;let l=0,c=-1;for(let d=-s;d<=a;d++){const u=n.seq2Range.start+d,h=n.seq2Range.endExclusive+d,f=n.seq1Range.start+d,g=e.getBoundaryScore(f)+t.getBoundaryScore(u)+t.getBoundaryScore(h);g>c&&(c=g,l=d)}return n.delta(l)}function AEe(n,e,t){const i=[];for(const r of t){const o=i[i.length-1];if(!o){i.push(r);continue}r.seq1Range.start-o.seq1Range.endExclusive<=2||r.seq2Range.start-o.seq2Range.endExclusive<=2?i[i.length-1]=new lr(o.seq1Range.join(r.seq1Range),o.seq2Range.join(r.seq2Range)):i.push(r)}return i}function OEe(n,e,t){const i=lr.invert(t,n.length),r=[];let o=new qa(0,0);function s(l,c){if(l.offset1<o.offset1||l.offset2<o.offset2)return;const d=n.findWordContaining(l.offset1),u=e.findWordContaining(l.offset2);if(!d||!u)return;let h=new lr(d,u);const f=h.intersect(c);let g=f.seq1Range.length,_=f.seq2Range.length;for(;i.length>0;){const y=i[0];if(!(y.seq1Range.intersects(d)||y.seq2Range.intersects(u)))break;const p=n.findWordContaining(y.seq1Range.start),v=e.findWordContaining(y.seq2Range.start),b=new lr(p,v),C=b.intersect(y);if(g+=C.seq1Range.length,_+=C.seq2Range.length,h=h.join(b),h.seq1Range.endExclusive>=y.seq1Range.endExclusive)i.shift();else break}g+_<(h.seq1Range.length+h.seq2Range.length)*2/3&&r.push(h),o=h.getEndExclusives()}for(;i.length>0;){const l=i.shift();l.seq1Range.isEmpty||(s(l.getStarts(),l),s(l.getEndExclusives().delta(-1),l))}return FEe(t,r)}function FEe(n,e){const t=[];for(;n.length>0||e.length>0;){const i=n[0],r=e[0];let o;i&&(!r||i.seq1Range.start<r.seq1Range.start)?o=n.shift():o=e.shift(),t.length>0&&t[t.length-1].seq1Range.endExclusive>=o.seq1Range.start?t[t.length-1]=t[t.length-1].join(o):t.push(o)}return t}function BEe(n,e,t){let i=t;if(i.length===0)return i;let r=0,o;do{o=!1;const s=[i[0]];for(let a=1;a<i.length;a++){let d=function(h,f){const g=new Bt(c.seq1Range.endExclusive,l.seq1Range.start);return n.getText(g).replace(/\s/g,"").length<=4&&(h.seq1Range.length+h.seq2Range.length>5||f.seq1Range.length+f.seq2Range.length>5)};const l=i[a],c=s[s.length-1];d(c,l)?(o=!0,s[s.length-1]=s[s.length-1].join(l)):s.push(l)}i=s}while(r++<10&&o);return i}function WEe(n,e,t){let i=t;if(i.length===0)return i;let r=0,o;do{o=!1;const a=[i[0]];for(let l=1;l<i.length;l++){let u=function(f,g){const _=new Bt(d.seq1Range.endExclusive,c.seq1Range.start);if(n.countLinesIn(_)>5||_.length>500)return!1;const m=n.getText(_).trim();if(m.length>20||m.split(/\r\n|\r|\n/).length>1)return!1;const p=n.countLinesIn(f.seq1Range),v=f.seq1Range.length,b=e.countLinesIn(f.seq2Range),C=f.seq2Range.length,S=n.countLinesIn(g.seq1Range),x=g.seq1Range.length,k=e.countLinesIn(g.seq2Range),D=g.seq2Range.length,E=2*40+50;function I(N){return Math.min(N,E)}return Math.pow(Math.pow(I(p*40+v),1.5)+Math.pow(I(b*40+C),1.5),1.5)+Math.pow(Math.pow(I(S*40+x),1.5)+Math.pow(I(k*40+D),1.5),1.5)>(E**1.5)**1.5*1.3};const c=i[l],d=a[a.length-1];u(d,c)?(o=!0,a[a.length-1]=a[a.length-1].join(c)):a.push(c)}i=a}while(r++<10&&o);const s=[];return HSe(i,(a,l,c)=>{let d=l;function u(m){return m.length>0&&m.trim().length<=3&&l.seq1Range.length+l.seq2Range.length>100}const h=n.extendToFullLines(l.seq1Range),f=n.getText(new Bt(h.start,l.seq1Range.start));u(f)&&(d=d.deltaStart(-f.length));const g=n.getText(new Bt(l.seq1Range.endExclusive,h.endExclusive));u(g)&&(d=d.deltaEnd(g.length));const _=lr.fromOffsetPairs(a?a.getEndExclusives():qa.zero,c?c.getStarts():qa.max),y=d.intersect(_);s.length>0&&y.getStarts().equals(s[s.length-1].getEndExclusives())?s[s.length-1]=s[s.length-1].join(y):s.push(y)}),s}class wK{constructor(e,t){this.trimmedHash=e,this.lines=t}getElement(e){return this.trimmedHash[e]}get length(){return this.trimmedHash.length}getBoundaryScore(e){const t=e===0?0:SK(this.lines[e-1]),i=e===this.lines.length?0:SK(this.lines[e]);return 1e3-(t+i)}getText(e){return this.lines.slice(e.start,e.endExclusive).join(`
`)}isStronglyEqual(e,t){return this.lines[e]===this.lines[t]}}function SK(n){let e=0;for(;e<n.length&&(n.charCodeAt(e)===32||n.charCodeAt(e)===9);)e++;return e}class Qae{constructor(){this.dynamicProgrammingDiffing=new yEe,this.myersDiffingAlgorithm=new Xae}computeDiff(e,t,i){if(e.length<=1&&vn(e,t,(C,S)=>C===S))return new lT([],[],!1);if(e.length===1&&e[0].length===0||t.length===1&&t[0].length===0)return new lT([new qc(new Ft(1,e.length+1),new Ft(1,t.length+1),[new Bg(new B(1,1,e.length,e[0].length+1),new B(1,1,t.length,t[0].length+1))])],[],!1);const r=i.maxComputationTimeMs===0?Y1.instance:new bEe(i.maxComputationTimeMs),o=!i.ignoreTrimWhitespace,s=new Map;function a(C){let S=s.get(C);return S===void 0&&(S=s.size,s.set(C,S)),S}const l=e.map(C=>a(C.trim())),c=t.map(C=>a(C.trim())),d=new wK(l,e),u=new wK(c,t),h=d.length+u.length<1700?this.dynamicProgrammingDiffing.compute(d,u,r,(C,S)=>e[C]===t[S]?t[S].length===0?.1:1+Math.log(1+t[S].length):.99):this.myersDiffingAlgorithm.compute(d,u);let f=h.diffs,g=h.hitTimeout;f=jF(d,u,f),f=BEe(d,u,f);const _=[],y=C=>{if(o)for(let S=0;S<C;S++){const x=m+S,k=p+S;if(e[x]!==t[k]){const D=this.refineDiff(e,t,new lr(new Bt(x,x+1),new Bt(k,k+1)),r,o);for(const E of D.mappings)_.push(E);D.hitTimeout&&(g=!0)}}};let m=0,p=0;for(const C of f){Cb(()=>C.seq1Range.start-m===C.seq2Range.start-p);const S=C.seq1Range.start-m;y(S),m=C.seq1Range.endExclusive,p=C.seq2Range.endExclusive;const x=this.refineDiff(e,t,C,r,o);x.hitTimeout&&(g=!0);for(const k of x.mappings)_.push(k)}y(e.length-m);const v=xK(_,e,t);let b=[];return i.computeMoves&&(b=this.computeMoves(v,e,t,l,c,r,o)),Cb(()=>{function C(x,k){if(x.lineNumber<1||x.lineNumber>k.length)return!1;const D=k[x.lineNumber-1];return!(x.column<1||x.column>D.length+1)}function S(x,k){return!(x.startLineNumber<1||x.startLineNumber>k.length+1||x.endLineNumberExclusive<1||x.endLineNumberExclusive>k.length+1)}for(const x of v){if(!x.innerChanges)return!1;for(const k of x.innerChanges)if(!(C(k.modifiedRange.getStartPosition(),t)&&C(k.modifiedRange.getEndPosition(),t)&&C(k.originalRange.getStartPosition(),e)&&C(k.originalRange.getEndPosition(),e)))return!1;if(!S(x.modified,t)||!S(x.original,e))return!1}return!0}),new lT(v,b,g)}computeMoves(e,t,i,r,o,s,a){return TEe(e,t,i,r,o,s).map(d=>{const u=this.refineDiff(t,i,new lr(d.original.toOffsetRange(),d.modified.toOffsetRange()),s,a),h=xK(u.mappings,t,i,!0);return new Zae(d,h)})}refineDiff(e,t,i,r,o){const s=new YE(e,i.seq1Range,o),a=new YE(t,i.seq2Range,o),l=s.length+a.length<500?this.dynamicProgrammingDiffing.compute(s,a,r):this.myersDiffingAlgorithm.compute(s,a,r);let c=l.diffs;return c=jF(s,a,c),c=OEe(s,a,c),c=AEe(s,a,c),c=WEe(s,a,c),{mappings:c.map(u=>new Bg(s.translateRange(u.seq1Range),a.translateRange(u.seq2Range))),hitTimeout:l.hitTimeout}}}function xK(n,e,t,i=!1){const r=[];for(const o of FW(n.map(s=>VEe(s,e,t)),(s,a)=>s.original.overlapOrTouch(a.original)||s.modified.overlapOrTouch(a.modified))){const s=o[0],a=o[o.length-1];r.push(new qc(s.original.join(a.original),s.modified.join(a.modified),o.map(l=>l.innerChanges[0])))}return Cb(()=>!i&&r.length>0&&r[0].original.startLineNumber!==r[0].modified.startLineNumber?!1:rae(r,(o,s)=>s.original.startLineNumber-o.original.endLineNumberExclusive===s.modified.startLineNumber-o.modified.endLineNumberExclusive&&o.original.endLineNumberExclusive<s.original.startLineNumber&&o.modified.endLineNumberExclusive<s.modified.startLineNumber)),r}function VEe(n,e,t){let i=0,r=0;n.modifiedRange.endColumn===1&&n.originalRange.endColumn===1&&n.originalRange.startLineNumber+i<=n.originalRange.endLineNumber&&n.modifiedRange.startLineNumber+i<=n.modifiedRange.endLineNumber&&(r=-1),n.modifiedRange.startColumn-1>=t[n.modifiedRange.startLineNumber-1].length&&n.originalRange.startColumn-1>=e[n.originalRange.startLineNumber-1].length&&n.originalRange.startLineNumber<=n.originalRange.endLineNumber+r&&n.modifiedRange.startLineNumber<=n.modifiedRange.endLineNumber+r&&(i=1);const o=new Ft(n.originalRange.startLineNumber+i,n.originalRange.endLineNumber+1+r),s=new Ft(n.modifiedRange.startLineNumber+i,n.modifiedRange.endLineNumber+1+r);return new qc(o,s,[n])}const LK={getLegacy:()=>new pEe,getDefault:()=>new Qae};function dg(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}class Xt{constructor(e,t,i,r=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,t))|0,this.b=Math.min(255,Math.max(0,i))|0,this.a=dg(Math.max(Math.min(1,r),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}class Dl{constructor(e,t,i,r){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=dg(Math.max(Math.min(1,t),0),3),this.l=dg(Math.max(Math.min(1,i),0),3),this.a=dg(Math.max(Math.min(1,r),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,r=e.b/255,o=e.a,s=Math.max(t,i,r),a=Math.min(t,i,r);let l=0,c=0;const d=(a+s)/2,u=s-a;if(u>0){switch(c=Math.min(d<=.5?u/(2*d):u/(2-2*d),1),s){case t:l=(i-r)/u+(i<r?6:0);break;case i:l=(r-t)/u+2;break;case r:l=(t-i)/u+4;break}l*=60,l=Math.round(l)}return new Dl(l,c,d,o)}static _hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}static toRGBA(e){const t=e.h/360,{s:i,l:r,a:o}=e;let s,a,l;if(i===0)s=a=l=r;else{const c=r<.5?r*(1+i):r+i-r*i,d=2*r-c;s=Dl._hue2rgb(d,c,t+1/3),a=Dl._hue2rgb(d,c,t),l=Dl._hue2rgb(d,c,t-1/3)}return new Xt(Math.round(s*255),Math.round(a*255),Math.round(l*255),o)}}class Bd{constructor(e,t,i,r){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=dg(Math.max(Math.min(1,t),0),3),this.v=dg(Math.max(Math.min(1,i),0),3),this.a=dg(Math.max(Math.min(1,r),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,r=e.b/255,o=Math.max(t,i,r),s=Math.min(t,i,r),a=o-s,l=o===0?0:a/o;let c;return a===0?c=0:o===t?c=((i-r)/a%6+6)%6:o===i?c=(r-t)/a+2:c=(t-i)/a+4,new Bd(Math.round(c*60),l,o,e.a)}static toRGBA(e){const{h:t,s:i,v:r,a:o}=e,s=r*i,a=s*(1-Math.abs(t/60%2-1)),l=r-s;let[c,d,u]=[0,0,0];return t<60?(c=s,d=a):t<120?(c=a,d=s):t<180?(d=s,u=a):t<240?(d=a,u=s):t<300?(c=a,u=s):t<=360&&(c=s,u=a),c=Math.round((c+l)*255),d=Math.round((d+l)*255),u=Math.round((u+l)*255),new Xt(c,d,u,o)}}class ue{static fromHex(e){return ue.Format.CSS.parseHex(e)||ue.red}static equals(e,t){return!e&&!t?!0:!e||!t?!1:e.equals(t)}get hsla(){return this._hsla?this._hsla:Dl.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:Bd.fromRGBA(this.rgba)}constructor(e){if(e)if(e instanceof Xt)this.rgba=e;else if(e instanceof Dl)this._hsla=e,this.rgba=Dl.toRGBA(e);else if(e instanceof Bd)this._hsva=e,this.rgba=Bd.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(e){return!!e&&Xt.equals(this.rgba,e.rgba)&&Dl.equals(this.hsla,e.hsla)&&Bd.equals(this.hsva,e.hsva)}getRelativeLuminance(){const e=ue._relativeLuminanceForComponent(this.rgba.r),t=ue._relativeLuminanceForComponent(this.rgba.g),i=ue._relativeLuminanceForComponent(this.rgba.b),r=.2126*e+.7152*t+.0722*i;return dg(r,4)}static _relativeLuminanceForComponent(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(e){const t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t>i}isDarkerThan(e){const t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t<i}lighten(e){return new ue(new Dl(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new ue(new Dl(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r:t,g:i,b:r,a:o}=this.rgba;return new ue(new Xt(t,i,r,o*e))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new ue(new Xt(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(e){if(this.isOpaque()||e.rgba.a!==1)return this;const{r:t,g:i,b:r,a:o}=this.rgba;return new ue(new Xt(e.rgba.r-o*(e.rgba.r-t),e.rgba.g-o*(e.rgba.g-i),e.rgba.b-o*(e.rgba.b-r),1))}toString(){return this._toString||(this._toString=ue.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,i){if(e.isLighterThan(t))return e;i=i||.5;const r=e.getRelativeLuminance(),o=t.getRelativeLuminance();return i=i*(o-r)/o,e.lighten(i)}static getDarkerColor(e,t,i){if(e.isDarkerThan(t))return e;i=i||.5;const r=e.getRelativeLuminance(),o=t.getRelativeLuminance();return i=i*(r-o)/r,e.darken(i)}}ue.white=new ue(new Xt(255,255,255,1));ue.black=new ue(new Xt(0,0,0,1));ue.red=new ue(new Xt(255,0,0,1));ue.blue=new ue(new Xt(0,0,255,1));ue.green=new ue(new Xt(0,255,0,1));ue.cyan=new ue(new Xt(0,255,255,1));ue.lightgrey=new ue(new Xt(211,211,211,1));ue.transparent=new ue(new Xt(0,0,0,0));(function(n){(function(e){(function(t){function i(f){return f.rgba.a===1?`rgb(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b})`:n.Format.CSS.formatRGBA(f)}t.formatRGB=i;function r(f){return`rgba(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b}, ${+f.rgba.a.toFixed(2)})`}t.formatRGBA=r;function o(f){return f.hsla.a===1?`hsl(${f.hsla.h}, ${(f.hsla.s*100).toFixed(2)}%, ${(f.hsla.l*100).toFixed(2)}%)`:n.Format.CSS.formatHSLA(f)}t.formatHSL=o;function s(f){return`hsla(${f.hsla.h}, ${(f.hsla.s*100).toFixed(2)}%, ${(f.hsla.l*100).toFixed(2)}%, ${f.hsla.a.toFixed(2)})`}t.formatHSLA=s;function a(f){const g=f.toString(16);return g.length!==2?"0"+g:g}function l(f){return`#${a(f.rgba.r)}${a(f.rgba.g)}${a(f.rgba.b)}`}t.formatHex=l;function c(f,g=!1){return g&&f.rgba.a===1?n.Format.CSS.formatHex(f):`#${a(f.rgba.r)}${a(f.rgba.g)}${a(f.rgba.b)}${a(Math.round(f.rgba.a*255))}`}t.formatHexA=c;function d(f){return f.isOpaque()?n.Format.CSS.formatHex(f):n.Format.CSS.formatRGBA(f)}t.format=d;function u(f){const g=f.length;if(g===0||f.charCodeAt(0)!==35)return null;if(g===7){const _=16*h(f.charCodeAt(1))+h(f.charCodeAt(2)),y=16*h(f.charCodeAt(3))+h(f.charCodeAt(4)),m=16*h(f.charCodeAt(5))+h(f.charCodeAt(6));return new n(new Xt(_,y,m,1))}if(g===9){const _=16*h(f.charCodeAt(1))+h(f.charCodeAt(2)),y=16*h(f.charCodeAt(3))+h(f.charCodeAt(4)),m=16*h(f.charCodeAt(5))+h(f.charCodeAt(6)),p=16*h(f.charCodeAt(7))+h(f.charCodeAt(8));return new n(new Xt(_,y,m,p/255))}if(g===4){const _=h(f.charCodeAt(1)),y=h(f.charCodeAt(2)),m=h(f.charCodeAt(3));return new n(new Xt(16*_+_,16*y+y,16*m+m))}if(g===5){const _=h(f.charCodeAt(1)),y=h(f.charCodeAt(2)),m=h(f.charCodeAt(3)),p=h(f.charCodeAt(4));return new n(new Xt(16*_+_,16*y+y,16*m+m,(16*p+p)/255))}return null}t.parseHex=u;function h(f){switch(f){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(e.CSS||(e.CSS={}))})(n.Format||(n.Format={}))})(ue||(ue={}));function Jae(n){const e=[];for(const t of n){const i=Number(t);(i||i===0&&t.replace(/\s/g,"")!=="")&&e.push(i)}return e}function L6(n,e,t,i){return{red:n/255,blue:t/255,green:e/255,alpha:i}}function hC(n,e){const t=e.index,i=e[0].length;if(!t)return;const r=n.positionAt(t);return{startLineNumber:r.lineNumber,startColumn:r.column,endLineNumber:r.lineNumber,endColumn:r.column+i}}function HEe(n,e){if(!n)return;const t=ue.Format.CSS.parseHex(e);if(t)return{range:n,color:L6(t.rgba.r,t.rgba.g,t.rgba.b,t.rgba.a)}}function kK(n,e,t){if(!n||e.length!==1)return;const r=e[0].values(),o=Jae(r);return{range:n,color:L6(o[0],o[1],o[2],t?o[3]:1)}}function DK(n,e,t){if(!n||e.length!==1)return;const r=e[0].values(),o=Jae(r),s=new ue(new Dl(o[0],o[1]/100,o[2]/100,t?o[3]:1));return{range:n,color:L6(s.rgba.r,s.rgba.g,s.rgba.b,s.rgba.a)}}function fC(n,e){return typeof n=="string"?[...n.matchAll(e)]:n.findMatches(e)}function zEe(n){const e=[],i=fC(n,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(i.length>0)for(const r of i){const o=r.filter(c=>c!==void 0),s=o[1],a=o[2];if(!a)continue;let l;if(s==="rgb"){const c=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;l=kK(hC(n,r),fC(a,c),!1)}else if(s==="rgba"){const c=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;l=kK(hC(n,r),fC(a,c),!0)}else if(s==="hsl"){const c=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;l=DK(hC(n,r),fC(a,c),!1)}else if(s==="hsla"){const c=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;l=DK(hC(n,r),fC(a,c),!0)}else s==="#"&&(l=HEe(hC(n,r),s+a));l&&e.push(l)}return e}function jEe(n){return!n||typeof n.getValue!="function"||typeof n.positionAt!="function"?[]:zEe(n)}class UEe extends qTe{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(e){const t=[];for(let i=0;i<this._lines.length;i++){const r=this._lines[i],o=this.offsetAt(new re(i+1,1)),s=r.matchAll(e);for(const a of s)(a.index||a.index===0)&&(a.index=a.index+o),t.push(a)}return t}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){const i=O1(e.column,UW(t),this._lines[e.lineNumber-1],0);return i?new B(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null}words(e){const t=this._lines,i=this._wordenize.bind(this);let r=0,o="",s=0,a=[];return{*[Symbol.iterator](){for(;;)if(s<a.length){const l=o.substring(a[s].start,a[s].end);s+=1,yield l}else if(r<t.length)o=t[r],a=i(o,e),s=0,r+=1;else break}}}getLineWords(e,t){const i=this._lines[e-1],r=this._wordenize(i,t),o=[];for(const s of r)o.push({word:i.substring(s.start,s.end),startColumn:s.start+1,endColumn:s.end+1});return o}_wordenize(e,t){const i=[];let r;for(t.lastIndex=0;(r=t.exec(e))&&r[0].length!==0;)i.push({start:r.index,end:r.index+r[0].length});return i}getValueInRange(e){if(e=this._validateRange(e),e.startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);const t=this._eol,i=e.startLineNumber-1,r=e.endLineNumber-1,o=[];o.push(this._lines[i].substring(e.startColumn-1));for(let s=i+1;s<r;s++)o.push(this._lines[s]);return o.push(this._lines[r].substring(0,e.endColumn-1)),o.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();const t=this._lineStarts.getIndexOf(e),i=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,i)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}:e}_validatePosition(e){if(!re.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:i}=e,r=!1;if(t<1)t=1,i=1,r=!0;else if(t>this._lines.length)t=this._lines.length,i=this._lines[t-1].length+1,r=!0;else{const o=this._lines[t-1].length+1;i<1?(i=1,r=!0):i>o&&(i=o,r=!0)}return r?{lineNumber:t,column:i}:e}}class ug{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){const e=[];return Object.keys(this._models).forEach(t=>e.push(this._models[t])),e}acceptNewModel(e){this._models[e.url]=new UEe(rt.parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){if(!this._models[e])return;this._models[e].onEvents(t)}acceptRemovedModel(e){this._models[e]&&delete this._models[e]}async computeUnicodeHighlights(e,t,i){const r=this._getModel(e);return r?C6.computeUnicodeHighlights(r,t,i):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}}async computeDiff(e,t,i,r){const o=this._getModel(e),s=this._getModel(t);return!o||!s?null:ug.computeDiff(o,s,i,r)}static computeDiff(e,t,i,r){const o=r==="advanced"?LK.getDefault():LK.getLegacy(),s=e.getLinesContent(),a=t.getLinesContent(),l=o.computeDiff(s,a,i),c=l.changes.length>0?!1:this._modelsAreIdentical(e,t);function d(u){return u.map(h=>{var f;return[h.original.startLineNumber,h.original.endLineNumberExclusive,h.modified.startLineNumber,h.modified.endLineNumberExclusive,(f=h.innerChanges)===null||f===void 0?void 0:f.map(g=>[g.originalRange.startLineNumber,g.originalRange.startColumn,g.originalRange.endLineNumber,g.originalRange.endColumn,g.modifiedRange.startLineNumber,g.modifiedRange.startColumn,g.modifiedRange.endLineNumber,g.modifiedRange.endColumn])]})}return{identical:c,quitEarly:l.hitTimeout,changes:d(l.changes),moves:l.moves.map(u=>[u.lineRangeMapping.original.startLineNumber,u.lineRangeMapping.original.endLineNumberExclusive,u.lineRangeMapping.modified.startLineNumber,u.lineRangeMapping.modified.endLineNumberExclusive,d(u.changes)])}}static _modelsAreIdentical(e,t){const i=e.getLineCount(),r=t.getLineCount();if(i!==r)return!1;for(let o=1;o<=i;o++){const s=e.getLineContent(o),a=t.getLineContent(o);if(s!==a)return!1}return!0}async computeMoreMinimalEdits(e,t,i){const r=this._getModel(e);if(!r)return t;const o=[];let s;t=t.slice(0).sort((l,c)=>{if(l.range&&c.range)return B.compareRangesUsingStarts(l.range,c.range);const d=l.range?0:1,u=c.range?0:1;return d-u});let a=0;for(let l=1;l<t.length;l++)B.getEndPosition(t[a].range).equals(B.getStartPosition(t[l].range))?(t[a].range=B.fromPositions(B.getStartPosition(t[a].range),B.getEndPosition(t[l].range)),t[a].text+=t[l].text):(a++,t[a]=t[l]);t.length=a+1;for(let{range:l,text:c,eol:d}of t){if(typeof d=="number"&&(s=d),B.isEmpty(l)&&!c)continue;const u=r.getValueInRange(l);if(c=c.replace(/\r\n|\n|\r/g,r.eol),u===c)continue;if(Math.max(c.length,u.length)>ug._diffLimit){o.push({range:l,text:c});continue}const h=jTe(u,c,i),f=r.offsetAt(B.lift(l).getStartPosition());for(const g of h){const _=r.positionAt(f+g.originalStart),y=r.positionAt(f+g.originalStart+g.originalLength),m={text:c.substr(g.modifiedStart,g.modifiedLength),range:{startLineNumber:_.lineNumber,startColumn:_.column,endLineNumber:y.lineNumber,endColumn:y.column}};r.getValueInRange(m.range)!==m.text&&o.push(m)}}return typeof s=="number"&&o.push({eol:s,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),o}async computeLinks(e){const t=this._getModel(e);return t?XTe(t):null}async computeDefaultDocumentColors(e){const t=this._getModel(e);return t?jEe(t):null}async textualSuggest(e,t,i,r){const o=new ro,s=new RegExp(i,r),a=new Set;e:for(const l of e){const c=this._getModel(l);if(c){for(const d of c.words(s))if(!(d===t||!isNaN(Number(d)))&&(a.add(d),a.size>ug._suggestionsLimit))break e}}return{words:Array.from(a),duration:o.elapsed()}}async computeWordRanges(e,t,i,r){const o=this._getModel(e);if(!o)return Object.create(null);const s=new RegExp(i,r),a=Object.create(null);for(let l=t.startLineNumber;l<t.endLineNumber;l++){const c=o.getLineWords(l,s);for(const d of c){if(!isNaN(Number(d.word)))continue;let u=a[d.word];u||(u=[],a[d.word]=u),u.push({startLineNumber:l,startColumn:d.startColumn,endLineNumber:l,endColumn:d.endColumn})}}return a}async navigateValueSet(e,t,i,r,o){const s=this._getModel(e);if(!s)return null;const a=new RegExp(r,o);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});const l=s.getValueInRange(t),c=s.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},a);if(!c)return null;const d=s.getValueInRange(c);return WF.INSTANCE.navigateValueSet(t,l,c,d,i)}loadForeignModule(e,t,i){const s={host:YSe(i,(a,l)=>this._host.fhr(a,l)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(s,t),Promise.resolve(VW(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||typeof this._foreignModule[e]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(i){return Promise.reject(i)}}}ug._diffLimit=1e5;ug._suggestionsLimit=1e4;typeof importScripts=="function"&&(globalThis.monaco=jse());const k6=zt("textResourceConfigurationService"),ele=zt("textResourcePropertiesService"),qe=zt("ILanguageFeaturesService");var $Ee=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},gC=function(n,e){return function(t,i){e(t,i,n)}};const TK=60*1e3,EK=5*60*1e3;function Zp(n,e){const t=n.getModel(e);return!(!t||t.isTooLargeForSyncing())}let UF=class extends ce{constructor(e,t,i,r,o){super(),this._modelService=e,this._workerManager=this._register(new KEe(this._modelService,r)),this._logService=i,this._register(o.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(s,a)=>Zp(this._modelService,s.uri)?this._workerManager.withWorker().then(l=>l.computeLinks(s.uri)).then(l=>l&&{links:l}):Promise.resolve({links:[]})})),this._register(o.completionProvider.register("*",new qEe(this._workerManager,t,this._modelService,r)))}dispose(){super.dispose()}canComputeUnicodeHighlights(e){return Zp(this._modelService,e)}computedUnicodeHighlights(e,t,i){return this._workerManager.withWorker().then(r=>r.computedUnicodeHighlights(e,t,i))}async computeDiff(e,t,i,r){const o=await this._workerManager.withWorker().then(l=>l.computeDiff(e,t,i,r));if(!o)return null;return{identical:o.identical,quitEarly:o.quitEarly,changes:a(o.changes),moves:o.moves.map(l=>new Zae(new fs(new Ft(l[0],l[1]),new Ft(l[2],l[3])),a(l[4])))};function a(l){return l.map(c=>{var d;return new qc(new Ft(c[0],c[1]),new Ft(c[2],c[3]),(d=c[4])===null||d===void 0?void 0:d.map(u=>new Bg(new B(u[0],u[1],u[2],u[3]),new B(u[4],u[5],u[6],u[7]))))})}}computeMoreMinimalEdits(e,t,i=!1){if(io(t)){if(!Zp(this._modelService,e))return Promise.resolve(t);const r=ro.create(),o=this._workerManager.withWorker().then(s=>s.computeMoreMinimalEdits(e,t,i));return o.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),r.elapsed())),Promise.race([o,Mg(1e3).then(()=>t)])}else return Promise.resolve(void 0)}canNavigateValueSet(e){return Zp(this._modelService,e)}navigateValueSet(e,t,i){return this._workerManager.withWorker().then(r=>r.navigateValueSet(e,t,i))}canComputeWordRanges(e){return Zp(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then(i=>i.computeWordRanges(e,t))}};UF=$Ee([gC(0,Ji),gC(1,k6),gC(2,Ks),gC(3,Pi),gC(4,qe)],UF);class qEe{constructor(e,t,i,r){this.languageConfigurationService=r,this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=i}async provideCompletionItems(e,t){const i=this._configurationService.getValue(e.uri,t,"editor");if(i.wordBasedSuggestions==="off")return;const r=[];if(i.wordBasedSuggestions==="currentDocument")Zp(this._modelService,e.uri)&&r.push(e.uri);else for(const u of this._modelService.getModels())Zp(this._modelService,u.uri)&&(u===e?r.unshift(u.uri):(i.wordBasedSuggestions==="allDocuments"||u.getLanguageId()===e.getLanguageId())&&r.push(u.uri));if(r.length===0)return;const o=this.languageConfigurationService.getLanguageConfiguration(e.getLanguageId()).getWordDefinition(),s=e.getWordAtPosition(t),a=s?new B(t.lineNumber,s.startColumn,t.lineNumber,s.endColumn):B.fromPositions(t),l=a.setEndPosition(t.lineNumber,t.column),d=await(await this._workerManager.withWorker()).textualSuggest(r,s==null?void 0:s.word,o);if(d)return{duration:d.duration,suggestions:d.words.map(u=>({kind:18,label:u,insertText:u,range:{insert:l,replace:a}}))}}}class KEe extends ce{constructor(e,t){super(),this.languageConfigurationService=t,this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new g6).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(EK/2),_b),this._register(this._modelService.onModelRemoved(r=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>EK&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new D6(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class GEe extends ce{constructor(e,t,i){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){const r=new u6;r.cancelAndSet(()=>this._checkStopModelSync(),Math.round(TK/2)),this._register(r)}}dispose(){for(const e in this._syncedModels)vi(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t){for(const i of e){const r=i.toString();this._syncedModels[r]||this._beginModelSync(i,t),this._syncedModels[r]&&(this._syncedModelsLastUsedTime[r]=new Date().getTime())}}_checkStopModelSync(){const e=new Date().getTime(),t=[];for(const i in this._syncedModelsLastUsedTime)e-this._syncedModelsLastUsedTime[i]>TK&&t.push(i);for(const i of t)this._stopModelSync(i)}_beginModelSync(e,t){const i=this._modelService.getModel(e);if(!i||!t&&i.isTooLargeForSyncing())return;const r=e.toString();this._proxy.acceptNewModel({url:i.uri.toString(),lines:i.getLinesContent(),EOL:i.getEOL(),versionId:i.getVersionId()});const o=new xe;o.add(i.onDidChangeContent(s=>{this._proxy.acceptModelChanged(r.toString(),s)})),o.add(i.onWillDispose(()=>{this._stopModelSync(r)})),o.add(at(()=>{this._proxy.acceptRemovedModel(r)})),this._syncedModels[r]=o}_stopModelSync(e){const t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],vi(t)}}class IK{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class FA{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class D6 extends ce{constructor(e,t,i,r){super(),this.languageConfigurationService=r,this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new FP(i),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new iTe(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new FA(this)))}catch(e){AF(e),this._worker=new IK(new ug(new FA(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,e=>(AF(e),this._worker=new IK(new ug(new FA(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new GEe(e,this._modelService,this._keepIdleModels))),this._modelManager}async _withSyncedResources(e,t=!1){return this._disposed?Promise.reject(eLe()):this._getProxy().then(i=>(this._getOrCreateModelManager(i).ensureSyncedResources(e,t),i))}computedUnicodeHighlights(e,t,i){return this._withSyncedResources([e]).then(r=>r.computeUnicodeHighlights(e.toString(),t,i))}computeDiff(e,t,i,r){return this._withSyncedResources([e,t],!0).then(o=>o.computeDiff(e.toString(),t.toString(),i,r))}computeMoreMinimalEdits(e,t,i){return this._withSyncedResources([e]).then(r=>r.computeMoreMinimalEdits(e.toString(),t,i))}computeLinks(e){return this._withSyncedResources([e]).then(t=>t.computeLinks(e.toString()))}computeDefaultDocumentColors(e){return this._withSyncedResources([e]).then(t=>t.computeDefaultDocumentColors(e.toString()))}async textualSuggest(e,t,i){const r=await this._withSyncedResources(e),o=i.source,s=i.flags;return r.textualSuggest(e.map(a=>a.toString()),t,o,s)}computeWordRanges(e,t){return this._withSyncedResources([e]).then(i=>{const r=this._modelService.getModel(e);if(!r)return Promise.resolve(null);const o=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId()).getWordDefinition(),s=o.source,a=o.flags;return i.computeWordRanges(e.toString(),t,s,a)})}navigateValueSet(e,t,i){return this._withSyncedResources([e]).then(r=>{const o=this._modelService.getModel(e);if(!o)return null;const s=this.languageConfigurationService.getLanguageConfiguration(o.getLanguageId()).getWordDefinition(),a=s.source,l=s.flags;return r.navigateValueSet(e.toString(),t,i,a,l)})}dispose(){super.dispose(),this._disposed=!0}}function ZEe(n,e,t){return new YEe(n,e,t)}class YEe extends D6{constructor(e,t,i){super(e,i.keepIdleModels||!1,i.label,t),this._foreignModuleId=i.moduleId,this._foreignModuleCreateData=i.createData||null,this._foreignModuleHost=i.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||typeof this._foreignModuleHost[e]!="function")return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(i){return Promise.reject(i)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(e=>{const t=this._foreignModuleHost?VW(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then(i=>{this._foreignModuleCreateData=null;const r=(a,l)=>e.fmr(a,l),o=(a,l)=>function(){const c=Array.prototype.slice.call(arguments,0);return l(a,c)},s={};for(const a of i)s[a]=o(a,r);return s})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then(t=>this.getProxy())}}const Bx={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"},kb=new class{clone(){return this}equals(n){return this===n}};function T6(n,e){return new QW([new F1(0,"",n)],e)}function jP(n,e){const t=new Uint32Array(2);return t[0]=0,t[1]=(n<<0|0|0|32768|2<<24)>>>0,new _P(t,e===null?kb:e)}class zr{static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static getClassNameFromMetadata(e){let i="mtk"+this.getForeground(e);const r=this.getFontStyle(e);return r&1&&(i+=" mtki"),r&2&&(i+=" mtkb"),r&4&&(i+=" mtku"),r&8&&(i+=" mtks"),i}static getInlineStyleFromMetadata(e,t){const i=this.getForeground(e),r=this.getFontStyle(e);let o=`color: ${t[i]};`;r&1&&(o+="font-style: italic;"),r&2&&(o+="font-weight: bold;");let s="";return r&4&&(s+=" underline"),r&8&&(s+=" line-through"),s&&(o+=`text-decoration:${s};`),o}static getPresentationFromMetadata(e){const t=this.getForeground(e),i=this.getFontStyle(e);return{foreground:t,italic:!!(i&1),bold:!!(i&2),underline:!!(i&4),strikethrough:!!(i&8)}}}class ur{static createEmpty(e,t){const i=ur.defaultTokenMetadata,r=new Uint32Array(2);return r[0]=e.length,r[1]=i,new ur(r,e,t)}constructor(e,t,i){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this._languageIdCodec=i}equals(e){return e instanceof ur?this.slicedEquals(e,0,this._tokensCount):!1}slicedEquals(e,t,i){if(this._text!==e._text||this._tokensCount!==e._tokensCount)return!1;const r=t<<1,o=r+(i<<1);for(let s=r;s<o;s++)if(this._tokens[s]!==e._tokens[s])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[(e<<1)+1]}getLanguageId(e){const t=this._tokens[(e<<1)+1],i=zr.getLanguageId(t);return this._languageIdCodec.decodeLanguageId(i)}getStandardTokenType(e){const t=this._tokens[(e<<1)+1];return zr.getTokenType(t)}getForeground(e){const t=this._tokens[(e<<1)+1];return zr.getForeground(t)}getClassName(e){const t=this._tokens[(e<<1)+1];return zr.getClassNameFromMetadata(t)}getInlineStyle(e,t){const i=this._tokens[(e<<1)+1];return zr.getInlineStyleFromMetadata(i,t)}getPresentation(e){const t=this._tokens[(e<<1)+1];return zr.getPresentationFromMetadata(t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return ur.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,i){return new E6(this,e,t,i)}static convertToEndOffset(e,t){const r=(e.length>>>1)-1;for(let o=0;o<r;o++)e[o<<1]=e[o+1<<1];e[r<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let i=0,r=(e.length>>>1)-1;for(;i<r;){const o=i+Math.floor((r-i)/2),s=e[o<<1];if(s===t)return o+1;s<t?i=o+1:s>t&&(r=o)}return i}withInserted(e){if(e.length===0)return this;let t=0,i=0,r="";const o=new Array;let s=0;for(;;){const a=t<this._tokensCount?this._tokens[t<<1]:-1,l=i<e.length?e[i]:null;if(a!==-1&&(l===null||a<=l.offset)){r+=this._text.substring(s,a);const c=this._tokens[(t<<1)+1];o.push(r.length,c),t++,s=a}else if(l){if(l.offset>s){r+=this._text.substring(s,l.offset);const c=this._tokens[(t<<1)+1];o.push(r.length,c),s=l.offset}r+=l.text,o.push(r.length,l.tokenMetadata),i++}else break}return new ur(new Uint32Array(o),r,this._languageIdCodec)}}ur.defaultTokenMetadata=(32768|2<<24)>>>0;class E6{constructor(e,t,i,r){this._source=e,this._startOffset=t,this._endOffset=i,this._deltaOffset=r,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(let o=this._firstTokenIndex,s=e.getCount();o<s&&!(e.getStartOffset(o)>=i);o++)this._tokensCount++}getMetadata(e){return this._source.getMetadata(this._firstTokenIndex+e)}getLanguageId(e){return this._source.getLanguageId(this._firstTokenIndex+e)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){return e instanceof E6?this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}getPresentation(e){return this._source.getPresentation(this._firstTokenIndex+e)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}class As{constructor(e,t,i,r){this.startColumn=e,this.endColumn=t,this.className=i,this.type=r,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){const i=e.length,r=t.length;if(i!==r)return!1;for(let o=0;o<i;o++)if(!As._equals(e[o],t[o]))return!1;return!0}static extractWrapped(e,t,i){if(e.length===0)return e;const r=t+1,o=i+1,s=i-t,a=[];let l=0;for(const c of e)c.endColumn<=r||c.startColumn>=o||(a[l++]=new As(Math.max(1,c.startColumn-r+1),Math.min(s+1,c.endColumn-r+1),c.className,c.type));return a}static filter(e,t,i,r){if(e.length===0)return[];const o=[];let s=0;for(let a=0,l=e.length;a<l;a++){const c=e[a],d=c.range;if(d.endLineNumber<t||d.startLineNumber>t||d.isEmpty()&&(c.type===0||c.type===3))continue;const u=d.startLineNumber===t?d.startColumn:i,h=d.endLineNumber===t?d.endColumn:r;o[s++]=new As(u,h,c.inlineClassName,c.type)}return o}static _typeCompare(e,t){const i=[2,0,1,3];return i[e]-i[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;const i=As._typeCompare(e.type,t.type);return i!==0?i:e.className!==t.className?e.className<t.className?-1:1:0}}class NK{constructor(e,t,i,r){this.startOffset=e,this.endOffset=t,this.className=i,this.metadata=r}}class XE{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let i=0,r=e.length;i<r;i++)t|=e[i];return t}consumeLowerThan(e,t,i){for(;this.count>0&&this.stopOffsets[0]<e;){let r=0;for(;r+1<this.count&&this.stopOffsets[r]===this.stopOffsets[r+1];)r++;i.push(new NK(t,this.stopOffsets[r],this.classNames.join(" "),XE._metadata(this.metadata))),t=this.stopOffsets[r]+1,this.stopOffsets.splice(0,r+1),this.classNames.splice(0,r+1),this.metadata.splice(0,r+1),this.count-=r+1}return this.count>0&&t<e&&(i.push(new NK(t,e-1,this.classNames.join(" "),XE._metadata(this.metadata))),t=e),t}insert(e,t,i){if(this.count===0||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(i);else for(let r=0;r<this.count;r++)if(this.stopOffsets[r]>=e){this.stopOffsets.splice(r,0,e),this.classNames.splice(r,0,t),this.metadata.splice(r,0,i);break}this.count++}}class XEe{static normalize(e,t){if(t.length===0)return[];const i=[],r=new XE;let o=0;for(let s=0,a=t.length;s<a;s++){const l=t[s];let c=l.startColumn,d=l.endColumn;const u=l.className,h=l.type===1?2:l.type===2?4:0;if(c>1){const _=e.charCodeAt(c-2);cr(_)&&c--}if(d>1){const _=e.charCodeAt(d-2);cr(_)&&d--}const f=c-1,g=d-2;o=r.consumeLowerThan(f,o,i),r.count===0&&(o=f),r.insert(g,u,h)}return r.consumeLowerThan(1073741824,o,i),i}}class Sr{constructor(e,t,i,r){this.endIndex=e,this.type=t,this.metadata=i,this.containsRTL=r,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class tle{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}class fp{constructor(e,t,i,r,o,s,a,l,c,d,u,h,f,g,_,y,m,p,v){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.continuesWithWrappedLine=r,this.isBasicASCII=o,this.containsRTL=s,this.fauxIndentLength=a,this.lineTokens=l,this.lineDecorations=c.sort(As.compare),this.tabSize=d,this.startVisibleColumn=u,this.spaceWidth=h,this.stopRenderingLineAfter=_,this.renderWhitespace=y==="all"?4:y==="boundary"?1:y==="selection"?2:y==="trailing"?3:0,this.renderControlCharacters=m,this.fontLigatures=p,this.selectionsOnLine=v&&v.sort((S,x)=>S.startOffset<x.startOffset?-1:1);const b=Math.abs(g-h),C=Math.abs(f-h);b<C?(this.renderSpaceWidth=g,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=f,this.renderSpaceCharCode=183)}sameSelection(e){if(this.selectionsOnLine===null)return e===null;if(e===null||e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&As.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}class ile{constructor(e,t){this.partIndex=e,this.charIndex=t}}class Ld{static getPartIndex(e){return(e&4294901760)>>>16}static getCharIndex(e){return(e&65535)>>>0}constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(e,t,i,r){const o=(t<<16|i<<0)>>>0;this._data[e-1]=o,this._horizontalOffset[e-1]=r}getHorizontalOffset(e){return this._horizontalOffset.length===0?0:this._horizontalOffset[e-1]}charOffsetToPartData(e){return this.length===0?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}getDomPosition(e){const t=this.charOffsetToPartData(e-1),i=Ld.getPartIndex(t),r=Ld.getCharIndex(t);return new ile(i,r)}getColumn(e,t){return this.partDataToCharOffset(e.partIndex,t,e.charIndex)+1}partDataToCharOffset(e,t,i){if(this.length===0)return 0;const r=(e<<16|i<<0)>>>0;let o=0,s=this.length-1;for(;o+1<s;){const _=o+s>>>1,y=this._data[_];if(y===r)return _;y>r?s=_:o=_}if(o===s)return o;const a=this._data[o],l=this._data[s];if(a===r)return o;if(l===r)return s;const c=Ld.getPartIndex(a),d=Ld.getCharIndex(a),u=Ld.getPartIndex(l);let h;c!==u?h=t:h=Ld.getCharIndex(l);const f=i-d,g=h-i;return f<=g?o:s}}class $F{constructor(e,t,i){this._renderLineOutputBrand=void 0,this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=i}}function Wx(n,e){if(n.lineContent.length===0){if(n.lineDecorations.length>0){e.appendString("<span>");let t=0,i=0,r=0;for(const s of n.lineDecorations)(s.type===1||s.type===2)&&(e.appendString('<span class="'),e.appendString(s.className),e.appendString('"></span>'),s.type===1&&(r|=1,t++),s.type===2&&(r|=2,i++));e.appendString("</span>");const o=new Ld(1,t+i);return o.setColumnInfo(1,t,0,0),new $F(o,!1,r)}return e.appendString("<span><span></span></span>"),new $F(new Ld(0,0),!1,0)}return sIe(eIe(n),e)}class QEe{constructor(e,t,i,r){this.characterMapping=e,this.html=t,this.containsRTL=i,this.containsForeignElements=r}}function UP(n){const e=new Cy(1e4),t=Wx(n,e);return new QEe(t.characterMapping,e.build(),t.containsRTL,t.containsForeignElements)}class JEe{constructor(e,t,i,r,o,s,a,l,c,d,u,h,f,g,_,y){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.len=r,this.isOverflowing=o,this.overflowingCharCount=s,this.parts=a,this.containsForeignElements=l,this.fauxIndentLength=c,this.tabSize=d,this.startVisibleColumn=u,this.containsRTL=h,this.spaceWidth=f,this.renderSpaceCharCode=g,this.renderWhitespace=_,this.renderControlCharacters=y}}function eIe(n){const e=n.lineContent;let t,i,r;n.stopRenderingLineAfter!==-1&&n.stopRenderingLineAfter<e.length?(t=!0,i=e.length-n.stopRenderingLineAfter,r=n.stopRenderingLineAfter):(t=!1,i=0,r=e.length);let o=tIe(e,n.containsRTL,n.lineTokens,n.fauxIndentLength,r);n.renderControlCharacters&&!n.isBasicASCII&&(o=nIe(e,o)),(n.renderWhitespace===4||n.renderWhitespace===1||n.renderWhitespace===2&&n.selectionsOnLine||n.renderWhitespace===3&&!n.continuesWithWrappedLine)&&(o=rIe(n,e,r,o));let s=0;if(n.lineDecorations.length>0){for(let a=0,l=n.lineDecorations.length;a<l;a++){const c=n.lineDecorations[a];c.type===3||c.type===1?s|=1:c.type===2&&(s|=2)}o=oIe(e,r,o,n.lineDecorations)}return n.containsRTL||(o=iIe(e,o,!n.isBasicASCII||n.fontLigatures)),new JEe(n.useMonospaceOptimizations,n.canUseHalfwidthRightwardsArrow,e,r,t,i,o,s,n.fauxIndentLength,n.tabSize,n.startVisibleColumn,n.containsRTL,n.spaceWidth,n.renderSpaceCharCode,n.renderWhitespace,n.renderControlCharacters)}function tIe(n,e,t,i,r){const o=[];let s=0;i>0&&(o[s++]=new Sr(i,"",0,!1));let a=i;for(let l=0,c=t.getCount();l<c;l++){const d=t.getEndOffset(l);if(d<=i)continue;const u=t.getClassName(l);if(d>=r){const f=e?bb(n.substring(a,r)):!1;o[s++]=new Sr(r,u,0,f);break}const h=e?bb(n.substring(a,d)):!1;o[s++]=new Sr(d,u,0,h),a=d}return o}function iIe(n,e,t){let i=0;const r=[];let o=0;if(t)for(let s=0,a=e.length;s<a;s++){const l=e[s],c=l.endIndex;if(i+50<c){const d=l.type,u=l.metadata,h=l.containsRTL;let f=-1,g=i;for(let _=i;_<c;_++)n.charCodeAt(_)===32&&(f=_),f!==-1&&_-g>=50&&(r[o++]=new Sr(f+1,d,u,h),g=f+1,f=-1);g!==c&&(r[o++]=new Sr(c,d,u,h))}else r[o++]=l;i=c}else for(let s=0,a=e.length;s<a;s++){const l=e[s],c=l.endIndex,d=c-i;if(d>50){const u=l.type,h=l.metadata,f=l.containsRTL,g=Math.ceil(d/50);for(let _=1;_<g;_++){const y=i+_*50;r[o++]=new Sr(y,u,h,f)}r[o++]=new Sr(c,u,h,f)}else r[o++]=l;i=c}return r}function nle(n){return n<32?n!==9:n===127||n>=8234&&n<=8238||n>=8294&&n<=8297||n>=8206&&n<=8207||n===1564}function nIe(n,e){const t=[];let i=new Sr(0,"",0,!1),r=0;for(const o of e){const s=o.endIndex;for(;r<s;r++){const a=n.charCodeAt(r);nle(a)&&(r>i.endIndex&&(i=new Sr(r,o.type,o.metadata,o.containsRTL),t.push(i)),i=new Sr(r+1,"mtkcontrol",o.metadata,!1),t.push(i))}r>i.endIndex&&(i=new Sr(s,o.type,o.metadata,o.containsRTL),t.push(i))}return t}function rIe(n,e,t,i){const r=n.continuesWithWrappedLine,o=n.fauxIndentLength,s=n.tabSize,a=n.startVisibleColumn,l=n.useMonospaceOptimizations,c=n.selectionsOnLine,d=n.renderWhitespace===1,u=n.renderWhitespace===3,h=n.renderSpaceWidth!==n.spaceWidth,f=[];let g=0,_=0,y=i[_].type,m=i[_].containsRTL,p=i[_].endIndex;const v=i.length;let b=!1,C=xo(e),S;C===-1?(b=!0,C=t,S=t):S=Ac(e);let x=!1,k=0,D=c&&c[k],E=a%s;for(let N=o;N<t;N++){const R=e.charCodeAt(N);D&&N>=D.endOffset&&(k++,D=c&&c[k]);let O;if(N<C||N>S)O=!0;else if(R===9)O=!0;else if(R===32)if(d)if(x)O=!0;else{const W=N+1<t?e.charCodeAt(N+1):0;O=W===32||W===9}else O=!0;else O=!1;if(O&&c&&(O=!!D&&D.startOffset<=N&&D.endOffset>N),O&&u&&(O=b||N>S),O&&m&&N>=C&&N<=S&&(O=!1),x){if(!O||!l&&E>=s){if(h){const W=g>0?f[g-1].endIndex:o;for(let K=W+1;K<=N;K++)f[g++]=new Sr(K,"mtkw",1,!1)}else f[g++]=new Sr(N,"mtkw",1,!1);E=E%s}}else(N===p||O&&N>o)&&(f[g++]=new Sr(N,y,0,m),E=E%s);for(R===9?E=s:Pg(R)?E+=2:E++,x=O;N===p&&(_++,_<v);)y=i[_].type,m=i[_].containsRTL,p=i[_].endIndex}let I=!1;if(x)if(r&&d){const N=t>0?e.charCodeAt(t-1):0,R=t>1?e.charCodeAt(t-2):0;N===32&&R!==32&&R!==9||(I=!0)}else I=!0;if(I)if(h){const N=g>0?f[g-1].endIndex:o;for(let R=N+1;R<=t;R++)f[g++]=new Sr(R,"mtkw",1,!1)}else f[g++]=new Sr(t,"mtkw",1,!1);else f[g++]=new Sr(t,y,0,m);return f}function oIe(n,e,t,i){i.sort(As.compare);const r=XEe.normalize(n,i),o=r.length;let s=0;const a=[];let l=0,c=0;for(let u=0,h=t.length;u<h;u++){const f=t[u],g=f.endIndex,_=f.type,y=f.metadata,m=f.containsRTL;for(;s<o&&r[s].startOffset<g;){const p=r[s];if(p.startOffset>c&&(c=p.startOffset,a[l++]=new Sr(c,_,y,m)),p.endOffset+1<=g)c=p.endOffset+1,a[l++]=new Sr(c,_+" "+p.className,y|p.metadata,m),s++;else{c=g,a[l++]=new Sr(c,_+" "+p.className,y|p.metadata,m);break}}g>c&&(c=g,a[l++]=new Sr(c,_,y,m))}const d=t[t.length-1].endIndex;if(s<o&&r[s].startOffset===d)for(;s<o&&r[s].startOffset===d;){const u=r[s];a[l++]=new Sr(c,u.className,u.metadata,!1),s++}return a}function sIe(n,e){const t=n.fontIsMonospace,i=n.canUseHalfwidthRightwardsArrow,r=n.containsForeignElements,o=n.lineContent,s=n.len,a=n.isOverflowing,l=n.overflowingCharCount,c=n.parts,d=n.fauxIndentLength,u=n.tabSize,h=n.startVisibleColumn,f=n.containsRTL,g=n.spaceWidth,_=n.renderSpaceCharCode,y=n.renderWhitespace,m=n.renderControlCharacters,p=new Ld(s+1,c.length);let v=!1,b=0,C=h,S=0,x=0,k=0;f?e.appendString('<span dir="ltr">'):e.appendString("<span>");for(let D=0,E=c.length;D<E;D++){const I=c[D],N=I.endIndex,R=I.type,O=I.containsRTL,W=y!==0&&I.isWhitespace(),K=W&&!t&&(R==="mtkw"||!r),Q=b===N&&I.isPseudoAfter();if(S=0,e.appendString("<span "),O&&e.appendString('style="unicode-bidi:isolate" '),e.appendString('class="'),e.appendString(K?"mtkz":R),e.appendASCIICharCode(34),W){let Y=0;{let V=b,X=C;for(;V<N;V++){const te=(o.charCodeAt(V)===9?u-X%u:1)|0;Y+=te,V>=d&&(X+=te)}}for(K&&(e.appendString(' style="width:'),e.appendString(String(g*Y)),e.appendString('px"')),e.appendASCIICharCode(62);b<N;b++){p.setColumnInfo(b+1,D-k,S,x),k=0;const V=o.charCodeAt(b);let X,J;if(V===9){X=u-C%u|0,J=X,!i||J>1?e.appendCharCode(8594):e.appendCharCode(65515);for(let te=2;te<=J;te++)e.appendCharCode(160)}else X=2,J=1,e.appendCharCode(_),e.appendCharCode(8204);S+=X,x+=J,b>=d&&(C+=J)}}else for(e.appendASCIICharCode(62);b<N;b++){p.setColumnInfo(b+1,D-k,S,x),k=0;const Y=o.charCodeAt(b);let V=1,X=1;switch(Y){case 9:V=u-C%u,X=V;for(let J=1;J<=V;J++)e.appendCharCode(160);break;case 32:e.appendCharCode(160);break;case 60:e.appendString("&lt;");break;case 62:e.appendString("&gt;");break;case 38:e.appendString("&amp;");break;case 0:m?e.appendCharCode(9216):e.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:e.appendCharCode(65533);break;default:Pg(Y)&&X++,m&&Y<32?e.appendCharCode(9216+Y):m&&Y===127?e.appendCharCode(9249):m&&nle(Y)?(e.appendString("[U+"),e.appendString(aIe(Y)),e.appendString("]"),V=8,X=V):e.appendCharCode(Y)}S+=V,x+=X,b>=d&&(C+=X)}Q?k++:k=0,b>=s&&!v&&I.isPseudoAfter()&&(v=!0,p.setColumnInfo(b+1,D,S,x)),e.appendString("</span>")}return v||p.setColumnInfo(s+1,c.length-1,S,x),a&&(e.appendString('<span class="mtkoverflow">'),e.appendString(w("showMore","Show more ({0})",lIe(l))),e.appendString("</span>")),e.appendString("</span>"),new $F(p,f,r)}function aIe(n){return n.toString(16).toUpperCase().padStart(4,"0")}function lIe(n){return n<1024?w("overflow.chars","{0} chars",n):n<1024*1024?`${(n/1024).toFixed(1)} KB`:`${(n/1024/1024).toFixed(1)} MB`}class PK{constructor(e,t,i,r){this._viewportBrand=void 0,this.top=e|0,this.left=t|0,this.width=i|0,this.height=r|0}}class cIe{constructor(e,t){this.tabSize=e,this.data=t}}class I6{constructor(e,t,i,r,o,s,a){this._viewLineDataBrand=void 0,this.content=e,this.continuesWithWrappedLine=t,this.minColumn=i,this.maxColumn=r,this.startVisibleColumn=o,this.tokens=s,this.inlineDecorations=a}}class Da{constructor(e,t,i,r,o,s,a,l,c,d){this.minColumn=e,this.maxColumn=t,this.content=i,this.continuesWithWrappedLine=r,this.isBasicASCII=Da.isBasicASCII(i,s),this.containsRTL=Da.containsRTL(i,this.isBasicASCII,o),this.tokens=a,this.inlineDecorations=l,this.tabSize=c,this.startVisibleColumn=d}static isBasicASCII(e,t){return t?Ax(e):!0}static containsRTL(e,t,i){return!t&&i?bb(e):!1}}class Pw{constructor(e,t,i){this.range=e,this.inlineClassName=t,this.type=i}}class dIe{constructor(e,t,i,r){this.startOffset=e,this.endOffset=t,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=r}toInlineDecoration(e){return new Pw(new B(e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class rle{constructor(e,t){this._viewModelDecorationBrand=void 0,this.range=e,this.options=t}}class X1{constructor(e,t,i){this.color=e,this.zIndex=t,this.data=i}static compareByRenderingProps(e,t){return e.zIndex===t.zIndex?e.color<t.color?-1:e.color>t.color?1:0:e.zIndex-t.zIndex}static equals(e,t){return e.color===t.color&&e.zIndex===t.zIndex&&vn(e.data,t.data)}static equalsArr(e,t){return vn(e,t,X1.equals)}}function uIe(n){return Array.isArray(n)}function hIe(n){return!uIe(n)}function ole(n){return typeof n=="string"}function MK(n){return!ole(n)}function L0(n){return!n}function hg(n,e){return n.ignoreCase&&e?e.toLowerCase():e}function RK(n){return n.replace(/[&<>'"_]/g,"-")}function fIe(n,e){console.log(`${n.languageId}: ${e}`)}function Wi(n,e){return new Error(`${n.languageId}: ${e}`)}function Ef(n,e,t,i,r){const o=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let s=null;return e.replace(o,function(a,l,c,d,u,h,f,g,_){return L0(c)?L0(d)?!L0(u)&&u<i.length?hg(n,i[u]):!L0(f)&&n&&typeof n[f]=="string"?n[f]:(s===null&&(s=r.split("."),s.unshift(r)),!L0(h)&&h<s.length?hg(n,s[h]):""):hg(n,t):"$"})}function bk(n,e){let t=e;for(;t&&t.length>0;){const i=n.tokenizer[t];if(i)return i;const r=t.lastIndexOf(".");r<0?t=null:t=t.substr(0,r)}return null}function gIe(n,e){let t=e;for(;t&&t.length>0;){if(n.stateNames[t])return!0;const r=t.lastIndexOf(".");r<0?t=null:t=t.substr(0,r)}return!1}var pIe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},mIe=function(n,e){return function(t,i){e(t,i,n)}},qF;const sle=5;class Q1{static create(e,t){return this._INSTANCE.create(e,t)}constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}create(e,t){if(e!==null&&e.depth>=this._maxCacheDepth)return new Rv(e,t);let i=Rv.getStackElementId(e);i.length>0&&(i+="|"),i+=t;let r=this._entries[i];return r||(r=new Rv(e,t),this._entries[i]=r,r)}}Q1._INSTANCE=new Q1(sle);class Rv{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;e!==null;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;e!==null&&t!==null;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return e===null&&t===null}equals(e){return Rv._equals(this,e)}push(e){return Q1.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return Q1.create(this.parent,e)}}class Q0{constructor(e,t){this.languageId=e,this.state=t}equals(e){return this.languageId===e.languageId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new Q0(this.languageId,this.state)}}class If{static create(e,t){return this._INSTANCE.create(e,t)}constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}create(e,t){if(t!==null)return new Mw(e,t);if(e!==null&&e.depth>=this._maxCacheDepth)return new Mw(e,t);const i=Rv.getStackElementId(e);let r=this._entries[i];return r||(r=new Mw(e,null),this._entries[i]=r,r)}}If._INSTANCE=new If(sle);class Mw{constructor(e,t){this.stack=e,this.embeddedLanguageData=t}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:If.create(this.stack,this.embeddedLanguageData)}equals(e){return!(e instanceof Mw)||!this.stack.equals(e.stack)?!1:this.embeddedLanguageData===null&&e.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||e.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(e.embeddedLanguageData)}}class _Ie{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(e){this._languageId=e}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=t,this._lastTokenLanguage=this._languageId,this._tokens.push(new F1(e,t,this._languageId)))}nestedLanguageTokenize(e,t,i,r){const o=i.languageId,s=i.state,a=ln.get(o);if(!a)return this.enterLanguage(o),this.emit(r,""),s;const l=a.tokenize(e,t,s);if(r!==0)for(const c of l.tokens)this._tokens.push(new F1(c.offset+r,c.type,c.language));else this._tokens=this._tokens.concat(l.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,l.endState}finalize(e){return new QW(this._tokens,e)}}class QE{constructor(e,t){this._languageService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(e){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(e)}emit(e,t){const i=this._theme.match(this._currentLanguageId,t)|1024;this._lastTokenMetadata!==i&&(this._lastTokenMetadata=i,this._tokens.push(e),this._tokens.push(i))}static _merge(e,t,i){const r=e!==null?e.length:0,o=t.length,s=i!==null?i.length:0;if(r===0&&o===0&&s===0)return new Uint32Array(0);if(r===0&&o===0)return i;if(o===0&&s===0)return e;const a=new Uint32Array(r+o+s);e!==null&&a.set(e);for(let l=0;l<o;l++)a[r+l]=t[l];return i!==null&&a.set(i,r+o),a}nestedLanguageTokenize(e,t,i,r){const o=i.languageId,s=i.state,a=ln.get(o);if(!a)return this.enterLanguage(o),this.emit(r,""),s;const l=a.tokenizeEncoded(e,t,s);if(r!==0)for(let c=0,d=l.tokens.length;c<d;c+=2)l.tokens[c]+=r;return this._prependTokens=QE._merge(this._prependTokens,this._tokens,l.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,l.endState}finalize(e){return new _P(QE._merge(this._prependTokens,this._tokens,null),e)}}let J1=qF=class extends ce{constructor(e,t,i,r,o){super(),this._configurationService=o,this._languageService=e,this._standaloneThemeService=t,this._languageId=i,this._lexer=r,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let s=!1;this._register(ln.onDidChange(a=>{if(s)return;let l=!1;for(let c=0,d=a.changedLanguages.length;c<d;c++){const u=a.changedLanguages[c];if(this._embeddedLanguages[u]){l=!0;break}}l&&(s=!0,ln.handleChange([this._languageId]),s=!1)})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration(a=>{a.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))}))}getLoadStatus(){const e=[];for(const t in this._embeddedLanguages){const i=ln.get(t);if(i){if(i instanceof qF){const r=i.getLoadStatus();r.loaded===!1&&e.push(r.promise)}continue}ln.isResolved(t)||e.push(ln.getOrCreate(t))}return e.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then(t=>{})}}getInitialState(){const e=Q1.create(null,this._lexer.start);return If.create(e,null)}tokenize(e,t,i){if(e.length>=this._maxTokenizationLineLength)return T6(this._languageId,i);const r=new _Ie,o=this._tokenize(e,t,i,r);return r.finalize(o)}tokenizeEncoded(e,t,i){if(e.length>=this._maxTokenizationLineLength)return jP(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),i);const r=new QE(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),o=this._tokenize(e,t,i,r);return r.finalize(o)}_tokenize(e,t,i,r){return i.embeddedLanguageData?this._nestedTokenize(e,t,i,0,r):this._myTokenize(e,t,i,0,r)}_findLeavingNestedLanguageOffset(e,t){let i=this._lexer.tokenizer[t.stack.state];if(!i&&(i=bk(this._lexer,t.stack.state),!i))throw Wi(this._lexer,"tokenizer state is not defined: "+t.stack.state);let r=-1,o=!1;for(const s of i){if(!MK(s.action)||s.action.nextEmbedded!=="@pop")continue;o=!0;let a=s.regex;const l=s.regex.source;if(l.substr(0,4)==="^(?:"&&l.substr(l.length-1,1)===")"){const d=(a.ignoreCase?"i":"")+(a.unicode?"u":"");a=new RegExp(l.substr(4,l.length-5),d)}const c=e.search(a);c===-1||c!==0&&s.matchOnlyAtLineStart||(r===-1||c<r)&&(r=c)}if(!o)throw Wi(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return r}_nestedTokenize(e,t,i,r,o){const s=this._findLeavingNestedLanguageOffset(e,i);if(s===-1){const c=o.nestedLanguageTokenize(e,t,i.embeddedLanguageData,r);return If.create(i.stack,new Q0(i.embeddedLanguageData.languageId,c))}const a=e.substring(0,s);a.length>0&&o.nestedLanguageTokenize(a,!1,i.embeddedLanguageData,r);const l=e.substring(s);return this._myTokenize(l,t,i,r+s,o)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,i,r,o){o.enterLanguage(this._languageId);const s=e.length,a=t&&this._lexer.includeLF?e+`
`:e,l=a.length;let c=i.embeddedLanguageData,d=i.stack,u=0,h=null,f=!0;for(;f||u<l;){const g=u,_=d.depth,y=h?h.groups.length:0,m=d.state;let p=null,v=null,b=null,C=null,S=null;if(h){p=h.matches;const D=h.groups.shift();v=D.matched,b=D.action,C=h.rule,h.groups.length===0&&(h=null)}else{if(!f&&u>=l)break;f=!1;let D=this._lexer.tokenizer[m];if(!D&&(D=bk(this._lexer,m),!D))throw Wi(this._lexer,"tokenizer state is not defined: "+m);const E=a.substr(u);for(const I of D)if((u===0||!I.matchOnlyAtLineStart)&&(p=E.match(I.regex),p)){v=p[0],b=I.action;break}}if(p||(p=[""],v=""),b||(u<l&&(p=[a.charAt(u)],v=p[0]),b=this._lexer.defaultToken),v===null)break;for(u+=v.length;hIe(b)&&MK(b)&&b.test;)b=b.test(v,p,m,u===l);let x=null;if(typeof b=="string"||Array.isArray(b))x=b;else if(b.group)x=b.group;else if(b.token!==null&&b.token!==void 0){if(b.tokenSubst?x=Ef(this._lexer,b.token,v,p,m):x=b.token,b.nextEmbedded)if(b.nextEmbedded==="@pop"){if(!c)throw Wi(this._lexer,"cannot pop embedded language if not inside one");c=null}else{if(c)throw Wi(this._lexer,"cannot enter embedded language from within an embedded language");S=Ef(this._lexer,b.nextEmbedded,v,p,m)}if(b.goBack&&(u=Math.max(0,u-b.goBack)),b.switchTo&&typeof b.switchTo=="string"){let D=Ef(this._lexer,b.switchTo,v,p,m);if(D[0]==="@"&&(D=D.substr(1)),bk(this._lexer,D))d=d.switchTo(D);else throw Wi(this._lexer,"trying to switch to a state '"+D+"' that is undefined in rule: "+this._safeRuleName(C))}else{if(b.transform&&typeof b.transform=="function")throw Wi(this._lexer,"action.transform not supported");if(b.next)if(b.next==="@push"){if(d.depth>=this._lexer.maxStack)throw Wi(this._lexer,"maximum tokenizer stack size reached: ["+d.state+","+d.parent.state+",...]");d=d.push(m)}else if(b.next==="@pop"){if(d.depth<=1)throw Wi(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(C));d=d.pop()}else if(b.next==="@popall")d=d.popall();else{let D=Ef(this._lexer,b.next,v,p,m);if(D[0]==="@"&&(D=D.substr(1)),bk(this._lexer,D))d=d.push(D);else throw Wi(this._lexer,"trying to set a next state '"+D+"' that is undefined in rule: "+this._safeRuleName(C))}}b.log&&typeof b.log=="string"&&fIe(this._lexer,this._lexer.languageId+": "+Ef(this._lexer,b.log,v,p,m))}if(x===null)throw Wi(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(C));const k=D=>{const E=this._languageService.getLanguageIdByLanguageName(D)||this._languageService.getLanguageIdByMimeType(D)||D,I=this._getNestedEmbeddedLanguageData(E);if(u<l){const N=e.substr(u);return this._nestedTokenize(N,t,If.create(d,I),r+u,o)}else return If.create(d,I)};if(Array.isArray(x)){if(h&&h.groups.length>0)throw Wi(this._lexer,"groups cannot be nested: "+this._safeRuleName(C));if(p.length!==x.length+1)throw Wi(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(C));let D=0;for(let E=1;E<p.length;E++)D+=p[E].length;if(D!==v.length)throw Wi(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(C));h={rule:C,matches:p,groups:[]};for(let E=0;E<x.length;E++)h.groups[E]={action:x[E],matched:p[E+1]};u-=v.length;continue}else{if(x==="@rematch"&&(u-=v.length,v="",p=null,x="",S!==null))return k(S);if(v.length===0){if(l===0||_!==d.depth||m!==d.state||(h?h.groups.length:0)!==y)continue;throw Wi(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(C))}let D=null;if(ole(x)&&x.indexOf("@brackets")===0){const E=x.substr(9),I=vIe(this._lexer,v);if(!I)throw Wi(this._lexer,"@brackets token returned but no bracket defined as: "+v);D=RK(I.token+E)}else{const E=x===""?"":x+this._lexer.tokenPostfix;D=RK(E)}g<s&&o.emit(g+r,D)}if(S!==null)return k(S)}return If.create(d,c)}_getNestedEmbeddedLanguageData(e){if(!this._languageService.isRegisteredLanguageId(e))return new Q0(e,kb);e!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(e),ln.getOrCreate(e),this._embeddedLanguages[e]=!0);const t=ln.get(e);return t?new Q0(e,t.getInitialState()):new Q0(e,kb)}};J1=qF=pIe([mIe(4,jt)],J1);function vIe(n,e){if(!e)return null;e=hg(n,e);const t=n.brackets;for(const i of t){if(i.open===e)return{token:i.token,bracketType:1};if(i.close===e)return{token:i.token,bracketType:-1}}return null}const BA=Fh("standaloneColorizer",{createHTML:n=>n});class N6{static colorizeElement(e,t,i,r){r=r||{};const o=r.theme||"vs",s=r.mimeType||i.getAttribute("lang")||i.getAttribute("data-lang");if(!s)return console.error("Mode not detected"),Promise.resolve();const a=t.getLanguageIdByMimeType(s)||s;e.setTheme(o);const l=i.firstChild?i.firstChild.nodeValue:"";i.className+=" "+o;const c=d=>{var u;const h=(u=BA==null?void 0:BA.createHTML(d))!==null&&u!==void 0?u:d;i.innerHTML=h};return this.colorize(t,l||"",a,r).then(c,d=>console.error(d))}static async colorize(e,t,i,r){const o=e.languageIdCodec;let s=4;r&&typeof r.tabSize=="number"&&(s=r.tabSize),o6(t)&&(t=t.substr(1));const a=su(t);if(!e.isRegisteredLanguageId(i))return AK(a,s,o);const l=await ln.getOrCreate(i);return l?bIe(a,s,l,o):AK(a,s,o)}static colorizeLine(e,t,i,r,o=4){const s=Da.isBasicASCII(e,t),a=Da.containsRTL(e,s,i);return UP(new fp(!1,!0,e,!1,s,a,0,r,[],o,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,i=4){const r=e.getLineContent(t);e.tokenization.forceTokenization(t);const s=e.tokenization.getLineTokens(t).inflate();return this.colorizeLine(r,e.mightContainNonBasicASCII(),e.mightContainRTL(),s,i)}}function bIe(n,e,t,i){return new Promise((r,o)=>{const s=()=>{const a=yIe(n,e,t,i);if(t instanceof J1){const l=t.getLoadStatus();if(l.loaded===!1){l.promise.then(s,o);return}}r(a)};s()})}function AK(n,e,t){let i=[];const o=new Uint32Array(2);o[0]=0,o[1]=33587200;for(let s=0,a=n.length;s<a;s++){const l=n[s];o[0]=l.length;const c=new ur(o,l,t),d=Da.isBasicASCII(l,!0),u=Da.containsRTL(l,d,!0),h=UP(new fp(!1,!0,l,!1,d,u,0,c,[],e,0,0,0,0,-1,"none",!1,!1,null));i=i.concat(h.html),i.push("<br/>")}return i.join("")}function yIe(n,e,t,i){let r=[],o=t.getInitialState();for(let s=0,a=n.length;s<a;s++){const l=n[s],c=t.tokenizeEncoded(l,!0,o);ur.convertToEndOffset(c.tokens,l.length);const d=new ur(c.tokens,l,i),u=Da.isBasicASCII(l,!0),h=Da.containsRTL(l,u,!0),f=UP(new fp(!1,!0,l,!1,u,h,0,d.inflate(),[],e,0,0,0,0,-1,"none",!1,!1,null));r=r.concat(f.html),r.push("<br/>"),o=c.endState}return r.join("")}const OK=2e4;let Yp,cT,KF,dT,GF;function CIe(n){Yp=document.createElement("div"),Yp.className="monaco-aria-container";const e=()=>{const i=document.createElement("div");return i.className="monaco-alert",i.setAttribute("role","alert"),i.setAttribute("aria-atomic","true"),Yp.appendChild(i),i};cT=e(),KF=e();const t=()=>{const i=document.createElement("div");return i.className="monaco-status",i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),Yp.appendChild(i),i};dT=t(),GF=t(),n.appendChild(Yp)}function zs(n){Yp&&(cT.textContent!==n?($r(KF),JE(cT,n)):($r(cT),JE(KF,n)))}function Ih(n){Yp&&(dT.textContent!==n?($r(GF),JE(dT,n)):($r(dT),JE(GF,n)))}function JE(n,e){$r(n),e.length>OK&&(e=e.substr(0,OK)),n.textContent=e,n.style.visibility="hidden",n.style.visibility="visible"}const P6=zt("markerDecorationsService");var wIe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},SIe=function(n,e){return function(t,i){e(t,i,n)}};let eS=class{constructor(e,t){}dispose(){}};eS.ID="editor.contrib.markerDecorations";eS=wIe([SIe(1,P6)],eS);li(eS.ID,eS,0);class ale extends ce{constructor(e,t){super(),this._onDidChange=this._register(new ne),this.onDidChange=this._onDidChange.event,this._referenceDomElement=e,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let e=null;const t=()=>{e?this.observe({width:e.width,height:e.height}):this.observe()};let i=!1,r=!1;const o=()=>{if(i&&!r)try{i=!1,r=!0,t()}finally{Hs(ht(this._referenceDomElement),()=>{r=!1,o()})}};this._resizeObserver=new ResizeObserver(s=>{s&&s[0]&&s[0].contentRect?e={width:s[0].contentRect.width,height:s[0].contentRect.height}:e=null,i=!0,o()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let i=0,r=0;t?(i=t.width,r=t.height):this._referenceDomElement&&(i=this._referenceDomElement.clientWidth,r=this._referenceDomElement.clientHeight),i=Math.max(5,i),r=Math.max(5,r),(this._width!==i||this._height!==r)&&(this._width=i,this._height=r,e&&this._onDidChange.fire())}}class fg{constructor(e,t){this.key=e,this.migrate=t}apply(e){const t=fg._read(e,this.key),i=o=>fg._read(e,o),r=(o,s)=>fg._write(e,o,s);this.migrate(t,i,r)}static _read(e,t){if(typeof e>"u")return;const i=t.indexOf(".");if(i>=0){const r=t.substring(0,i);return this._read(e[r],t.substring(i+1))}return e[t]}static _write(e,t,i){const r=t.indexOf(".");if(r>=0){const o=t.substring(0,r);e[o]=e[o]||{},this._write(e[o],t.substring(r+1),i);return}e[t]=i}}fg.items=[];function nd(n,e){fg.items.push(new fg(n,e))}function Gs(n,e){nd(n,(t,i,r)=>{if(typeof t<"u"){for(const[o,s]of e)if(t===o){r(n,s);return}}})}function xIe(n){fg.items.forEach(e=>e.apply(n))}Gs("wordWrap",[[!0,"on"],[!1,"off"]]);Gs("lineNumbers",[[!0,"on"],[!1,"off"]]);Gs("cursorBlinking",[["visible","solid"]]);Gs("renderWhitespace",[[!0,"boundary"],[!1,"none"]]);Gs("renderLineHighlight",[[!0,"line"],[!1,"none"]]);Gs("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]);Gs("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]);Gs("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);Gs("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);Gs("autoIndent",[[!1,"advanced"],[!0,"full"]]);Gs("matchBrackets",[[!0,"always"],[!1,"never"]]);Gs("renderFinalNewline",[[!0,"on"],[!1,"off"]]);Gs("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]);Gs("occurrencesHighlight",[[!0,"singleFile"],[!1,"off"]]);Gs("wordBasedSuggestions",[[!0,"matchingDocuments"],[!1,"off"]]);nd("autoClosingBrackets",(n,e,t)=>{n===!1&&(t("autoClosingBrackets","never"),typeof e("autoClosingQuotes")>"u"&&t("autoClosingQuotes","never"),typeof e("autoSurround")>"u"&&t("autoSurround","never"))});nd("renderIndentGuides",(n,e,t)=>{typeof n<"u"&&(t("renderIndentGuides",void 0),typeof e("guides.indentation")>"u"&&t("guides.indentation",!!n))});nd("highlightActiveIndentGuide",(n,e,t)=>{typeof n<"u"&&(t("highlightActiveIndentGuide",void 0),typeof e("guides.highlightActiveIndentation")>"u"&&t("guides.highlightActiveIndentation",!!n))});const LIe={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};nd("suggest.filteredTypes",(n,e,t)=>{if(n&&typeof n=="object"){for(const i of Object.entries(LIe))n[i[0]]===!1&&typeof e(`suggest.${i[1]}`)>"u"&&t(`suggest.${i[1]}`,!1);t("suggest.filteredTypes",void 0)}});nd("quickSuggestions",(n,e,t)=>{if(typeof n=="boolean"){const i=n?"on":"off";t("quickSuggestions",{comments:i,strings:i,other:i})}});nd("experimental.stickyScroll.enabled",(n,e,t)=>{typeof n=="boolean"&&(t("experimental.stickyScroll.enabled",void 0),typeof e("stickyScroll.enabled")>"u"&&t("stickyScroll.enabled",n))});nd("experimental.stickyScroll.maxLineCount",(n,e,t)=>{typeof n=="number"&&(t("experimental.stickyScroll.maxLineCount",void 0),typeof e("stickyScroll.maxLineCount")>"u"&&t("stickyScroll.maxLineCount",n))});nd("codeActionsOnSave",(n,e,t)=>{if(n&&typeof n=="object"){let i=!1;const r={};for(const o of Object.entries(n))typeof o[1]=="boolean"?(i=!0,r[o[0]]=o[1]?"explicit":"never"):r[o[0]]=o[1];i&&t("codeActionsOnSave",r)}});nd("codeActionWidget.includeNearbyQuickfixes",(n,e,t)=>{typeof n=="boolean"&&(t("codeActionWidget.includeNearbyQuickfixes",void 0),typeof e("codeActionWidget.includeNearbyQuickFixes")>"u"&&t("codeActionWidget.includeNearbyQuickFixes",n))});nd("lightbulb.enabled",(n,e,t)=>{typeof n=="boolean"&&t("lightbulb.enabled",n?void 0:"off")});class kIe{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new ne,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(e){this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus)}}const Db=new kIe,Gl=zt("accessibilityService"),Vx=new je("accessibilityModeEnabled",!1);var DIe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},TIe=function(n,e){return function(t,i){e(t,i,n)}};let ZF=class extends ce{constructor(e,t,i,r){super(),this._accessibilityService=r,this._onDidChange=this._register(new ne),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new ne),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new Tse,this.isSimpleWidget=e,this._containerObserver=this._register(new ale(i,t.dimension)),this._rawOptions=FK(t),this._validatedOptions=Nf.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13)&&this._containerObserver.startObserving(),this._register(za.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(Db.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(xF.onDidChange(()=>this._recomputeOptions())),this._register(H1.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const e=this._computeOptions(),t=Nf.checkEquals(this.options,e);t!==null&&(this.options=e,this._onDidChangeFast.fire(t),this._onDidChange.fire(t))}_computeOptions(){const e=this._readEnvConfiguration(),t=wm.createFromValidatedSettings(this._validatedOptions,e.pixelRatio,this.isSimpleWidget),i=this._readFontInfo(t),r={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight-this._reservedHeight,fontInfo:i,extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:Db.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return Nf.computeOptions(this._validatedOptions,r)}_readEnvConfiguration(){return{extraEditorClassName:IIe(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:ym||nl,pixelRatio:H1.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(e){return xF.readFontInfo(e)}getRawOptions(){return this._rawOptions}updateOptions(e){const t=FK(e);Nf.applyUpdate(this._rawOptions,t)&&(this._validatedOptions=Nf.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(e){this._containerObserver.observe(e)}setIsDominatedByLongLines(e){this._isDominatedByLongLines!==e&&(this._isDominatedByLongLines=e,this._recomputeOptions())}setModelLineCount(e){const t=EIe(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}setReservedHeight(e){this._reservedHeight!==e&&(this._reservedHeight=e,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(e){this._glyphMarginDecorationLaneCount!==e&&(this._glyphMarginDecorationLaneCount=e,this._recomputeOptions())}};ZF=DIe([TIe(3,Gl)],ZF);function EIe(n){let e=0;for(;n;)n=Math.floor(n/10),e++;return e||1}function IIe(){let n="";return!Th&&!Jse&&(n+="no-user-select "),Th&&(n+="no-minimap-shadow ",n+="enable-user-select "),qt&&(n+="mac "),n}class NIe{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class PIe{constructor(){this._values=[]}_read(e){if(e>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[e]}get(e){return this._read(e)}_write(e,t){this._values[e]=t}}class Nf{static validateOptions(e){const t=new NIe;for(const i of K0){const r=i.name==="_never_"?void 0:e[i.name];t._write(i.id,i.validate(r))}return t}static computeOptions(e,t){const i=new PIe;for(const r of K0)i._write(r.id,r.compute(t,i,e._read(r.id)));return i}static _deepEquals(e,t){if(typeof e!="object"||typeof t!="object"||!e||!t)return e===t;if(Array.isArray(e)||Array.isArray(t))return Array.isArray(e)&&Array.isArray(t)?vn(e,t):!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!Nf._deepEquals(e[i],t[i]))return!1;return!0}static checkEquals(e,t){const i=[];let r=!1;for(const o of K0){const s=!Nf._deepEquals(e._read(o.id),t._read(o.id));i[o.id]=s,s&&(r=!0)}return r?new Dse(i):null}static applyUpdate(e,t){let i=!1;for(const r of K0)if(t.hasOwnProperty(r.name)){const o=r.applyUpdate(e[r.name],t[r.name]);e[r.name]=o.newValue,i=i||o.didChange}return i}}function FK(n){const e=Vu(n);return xIe(e),e}var Vf;(function(n){const e={total:0,min:Number.MAX_VALUE,max:0},t={...e},i={...e},r={...e};let o=0;const s={keydown:0,input:0,render:0};function a(){m(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),s.keydown=1,queueMicrotask(l)}n.onKeyDown=a;function l(){s.keydown===1&&(performance.mark("keydown/end"),s.keydown=2)}function c(){performance.mark("input/start"),s.input=1,y()}n.onBeforeInput=c;function d(){s.input===0&&c(),queueMicrotask(u)}n.onInput=d;function u(){s.input===1&&(performance.mark("input/end"),s.input=2)}function h(){m()}n.onKeyUp=h;function f(){m()}n.onSelectionChange=f;function g(){s.keydown===2&&s.input===2&&s.render===0&&(performance.mark("render/start"),s.render=1,queueMicrotask(_),y())}n.onRenderStart=g;function _(){s.render===1&&(performance.mark("render/end"),s.render=2)}function y(){setTimeout(m)}function m(){s.keydown===2&&s.input===2&&s.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),p("keydown",e),p("input",t),p("render",i),p("inputlatency",r),o++,v())}function p(x,k){const D=performance.getEntriesByName(x)[0].duration;k.total+=D,k.min=Math.min(k.min,D),k.max=Math.max(k.max,D)}function v(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),s.keydown=0,s.input=0,s.render=0}function b(){if(o===0)return;const x={keydown:C(e),input:C(t),render:C(i),total:C(r),sampleCount:o};return S(e),S(t),S(i),S(r),o=0,x}n.getAndClearMeasurements=b;function C(x){return{average:x.total/o,max:x.max,min:x.min}}function S(x){x.total=0,x.min=Number.MAX_VALUE,x.max=0}})(Vf||(Vf={}));class Sy{constructor(){this._hooks=new xe,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const i=this._onStopCallback;this._onStopCallback=null,e&&i&&i(t)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(e,t,i,r,o){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=r,this._onStopCallback=o;let s=e;try{e.setPointerCapture(t),this._hooks.add(at(()=>{try{e.releasePointerCapture(t)}catch{}}))}catch{s=ht(e)}this._hooks.add(ge(s,Ne.POINTER_MOVE,a=>{if(a.buttons!==i){this.stopMonitoring(!0);return}a.preventDefault(),this._pointerMoveCallback(a)})),this._hooks.add(ge(s,Ne.POINTER_UP,a=>this.stopMonitoring(!0)))}}function M6(n){return`--vscode-${n.replace(/\./g,"-")}`}function Ue(n){return`var(${M6(n)})`}function MIe(n,e){return`var(${M6(n)}, ${e})`}const lle={ColorContribution:"base.contributions.colors"};class RIe{constructor(){this._onDidChangeSchema=new ne,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,i,r=!1,o){const s={id:e,description:i,defaults:t,needsTransparency:r,deprecationMessage:o};this.colorsById[e]=s;const a={type:"string",description:i,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return o&&(a.deprecationMessage=o),r&&(a.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",a.patternErrorMessage="This color must be transparent or it will obscure content"),this.colorSchema.properties[e]=a,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}getColors(){return Object.keys(this.colorsById).map(e=>this.colorsById[e])}resolveDefaultColor(e,t){const i=this.colorsById[e];if(i&&i.defaults){const r=i.defaults[t.type];return rc(r,t)}}getColorSchema(){return this.colorSchema}toString(){const e=(t,i)=>{const r=t.indexOf(".")===-1?0:1,o=i.indexOf(".")===-1?0:1;return r!==o?r-o:t.localeCompare(i)};return Object.keys(this.colorsById).sort(e).map(t=>`- \`${t}\`: ${this.colorsById[t].description}`).join(`
`)}}const $P=new RIe;nn.add(lle.ColorContribution,$P);function U(n,e,t,i,r){return $P.registerColor(n,e,t,i,r)}const Pe=U("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},w("foreground","Overall foreground color. This color is only used if not overridden by a component."));U("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},w("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component."));const AIe=U("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},w("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component."));U("descriptionForeground",{light:"#717171",dark:Je(Pe,.7),hcDark:Je(Pe,.7),hcLight:Je(Pe,.7)},w("descriptionForeground","Foreground color for description text providing additional information, for example for a label."));const Wd=U("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},w("iconForeground","The default color for icons in the workbench.")),_a=U("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},w("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),Ut=U("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},w("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Hi=U("contrastActiveBorder",{light:null,dark:null,hcDark:_a,hcLight:_a},w("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast."));U("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},w("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor."));U("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:ue.black,hcLight:"#292929"},w("textSeparatorForeground","Color for text separators."));const OIe=U("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},w("textLinkForeground","Foreground color for links in text."));U("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},w("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover."));U("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},w("textPreformatForeground","Foreground color for preformatted text segments."));U("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},w("textPreformatBackground","Background color for preformatted text segments."));U("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},w("textBlockQuoteBackground","Background color for block quotes in text."));U("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:ue.white,hcLight:"#292929"},w("textBlockQuoteBorder","Border color for block quotes in text."));U("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:ue.black,hcLight:"#F2F2F2"},w("textCodeBlockBackground","Background color for code blocks in text."));const Vd=U("widget.shadow",{dark:Je(ue.black,.36),light:Je(ue.black,.16),hcDark:null,hcLight:null},w("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),R6=U("widget.border",{dark:null,light:null,hcDark:Ut,hcLight:Ut},w("widgetBorder","Border color of widgets such as find/replace inside the editor.")),cle=U("input.background",{dark:"#3C3C3C",light:ue.white,hcDark:ue.black,hcLight:ue.white},w("inputBoxBackground","Input box background.")),dle=U("input.foreground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("inputBoxForeground","Input box foreground.")),ule=U("input.border",{dark:null,light:null,hcDark:Ut,hcLight:Ut},w("inputBoxBorder","Input box border.")),A6=U("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:Ut,hcLight:Ut},w("inputBoxActiveOptionBorder","Border color of activated options in input fields."));U("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},w("inputOption.hoverBackground","Background color of activated options in input fields."));const lm=U("inputOption.activeBackground",{dark:Je(_a,.4),light:Je(_a,.2),hcDark:ue.transparent,hcLight:ue.transparent},w("inputOption.activeBackground","Background hover color of options in input fields.")),O6=U("inputOption.activeForeground",{dark:ue.white,light:ue.black,hcDark:Pe,hcLight:Pe},w("inputOption.activeForeground","Foreground color of activated options in input fields."));U("input.placeholderForeground",{light:Je(Pe,.5),dark:Je(Pe,.5),hcDark:Je(Pe,.7),hcLight:Je(Pe,.7)},w("inputPlaceholderForeground","Input box foreground color for placeholder text."));const FIe=U("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:ue.black,hcLight:ue.white},w("inputValidationInfoBackground","Input validation background color for information severity.")),BIe=U("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:Pe},w("inputValidationInfoForeground","Input validation foreground color for information severity.")),WIe=U("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:Ut,hcLight:Ut},w("inputValidationInfoBorder","Input validation border color for information severity.")),VIe=U("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:ue.black,hcLight:ue.white},w("inputValidationWarningBackground","Input validation background color for warning severity.")),HIe=U("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:Pe},w("inputValidationWarningForeground","Input validation foreground color for warning severity.")),zIe=U("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:Ut,hcLight:Ut},w("inputValidationWarningBorder","Input validation border color for warning severity.")),jIe=U("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:ue.black,hcLight:ue.white},w("inputValidationErrorBackground","Input validation background color for error severity.")),UIe=U("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:Pe},w("inputValidationErrorForeground","Input validation foreground color for error severity.")),$Ie=U("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:Ut,hcLight:Ut},w("inputValidationErrorBorder","Input validation border color for error severity.")),Hd=U("dropdown.background",{dark:"#3C3C3C",light:ue.white,hcDark:ue.black,hcLight:ue.white},w("dropdownBackground","Dropdown background.")),qIe=U("dropdown.listBackground",{dark:null,light:null,hcDark:ue.black,hcLight:ue.white},w("dropdownListBackground","Dropdown list background.")),th=U("dropdown.foreground",{dark:"#F0F0F0",light:Pe,hcDark:ue.white,hcLight:Pe},w("dropdownForeground","Dropdown foreground.")),J0=U("dropdown.border",{dark:Hd,light:"#CECECE",hcDark:Ut,hcLight:Ut},w("dropdownBorder","Dropdown border.")),UC=U("button.foreground",{dark:ue.white,light:ue.white,hcDark:ue.white,hcLight:ue.white},w("buttonForeground","Button foreground color.")),KIe=U("button.separator",{dark:Je(UC,.4),light:Je(UC,.4),hcDark:Je(UC,.4),hcLight:Je(UC,.4)},w("buttonSeparator","Button separator color.")),$C=U("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},w("buttonBackground","Button background color.")),GIe=U("button.hoverBackground",{dark:Oc($C,.2),light:N_($C,.2),hcDark:$C,hcLight:$C},w("buttonHoverBackground","Button background color when hovering.")),ZIe=U("button.border",{dark:Ut,light:Ut,hcDark:Ut,hcLight:Ut},w("buttonBorder","Button border color.")),YIe=U("button.secondaryForeground",{dark:ue.white,light:ue.white,hcDark:ue.white,hcLight:Pe},w("buttonSecondaryForeground","Secondary button foreground color.")),YF=U("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:ue.white},w("buttonSecondaryBackground","Secondary button background color.")),XIe=U("button.secondaryHoverBackground",{dark:Oc(YF,.2),light:N_(YF,.2),hcDark:null,hcLight:null},w("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),uT=U("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:ue.black,hcLight:"#0F4A85"},w("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),QIe=U("badge.foreground",{dark:ue.white,light:"#333",hcDark:ue.white,hcLight:ue.white},w("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),qC=U("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},w("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),KC=U("scrollbarSlider.background",{dark:ue.fromHex("#797979").transparent(.4),light:ue.fromHex("#646464").transparent(.4),hcDark:Je(Ut,.6),hcLight:Je(Ut,.4)},w("scrollbarSliderBackground","Scrollbar slider background color.")),GC=U("scrollbarSlider.hoverBackground",{dark:ue.fromHex("#646464").transparent(.7),light:ue.fromHex("#646464").transparent(.7),hcDark:Je(Ut,.8),hcLight:Je(Ut,.8)},w("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),ZC=U("scrollbarSlider.activeBackground",{dark:ue.fromHex("#BFBFBF").transparent(.4),light:ue.fromHex("#000000").transparent(.6),hcDark:Ut,hcLight:Ut},w("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),JIe=U("progressBar.background",{dark:ue.fromHex("#0E70C0"),light:ue.fromHex("#0E70C0"),hcDark:Ut,hcLight:Ut},w("progressBarBackground","Background color of the progress bar that can show for long running operations."));U("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},w("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);const zd=U("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},w("editorError.foreground","Foreground color of error squigglies in the editor.")),eNe=U("editorError.border",{dark:null,light:null,hcDark:ue.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},w("errorBorder","If set, color of double underlines for errors in the editor.")),yk=U("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},w("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),wo=U("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},w("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),tS=U("editorWarning.border",{dark:null,light:null,hcDark:ue.fromHex("#FFCC00").transparent(.8),hcLight:ue.fromHex("#FFCC00").transparent(.8)},w("warningBorder","If set, color of double underlines for warnings in the editor."));U("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},w("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);const gs=U("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},w("editorInfo.foreground","Foreground color of info squigglies in the editor.")),iS=U("editorInfo.border",{dark:null,light:null,hcDark:ue.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},w("infoBorder","If set, color of double underlines for infos in the editor.")),tNe=U("editorHint.foreground",{dark:ue.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},w("editorHint.foreground","Foreground color of hint squigglies in the editor."));U("editorHint.border",{dark:null,light:null,hcDark:ue.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},w("hintBorder","If set, color of double underlines for hints in the editor."));U("sash.hoverBorder",{dark:_a,light:_a,hcDark:_a,hcLight:_a},w("sashActiveBorder","Border color of active sashes."));const hr=U("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:ue.black,hcLight:ue.white},w("editorBackground","Editor background color.")),Rl=U("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:ue.white,hcLight:Pe},w("editorForeground","Editor default foreground color."));U("editorStickyScroll.background",{light:hr,dark:hr,hcDark:hr,hcLight:hr},w("editorStickyScrollBackground","Background color of sticky scroll in the editor"));U("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:ue.fromHex("#0F4A85").transparent(.1)},w("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor"));U("editorStickyScroll.border",{dark:null,light:null,hcDark:Ut,hcLight:Ut},w("editorStickyScrollBorder","Border color of sticky scroll in the editor"));U("editorStickyScroll.shadow",{dark:qC,light:qC,hcDark:qC,hcLight:qC},w("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor"));const mn=U("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:ue.white},w("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),jd=U("editorWidget.foreground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),Ud=U("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:Ut,hcLight:Ut},w("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),iNe=U("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},w("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),BK=U("quickInput.background",{dark:mn,light:mn,hcDark:mn,hcLight:mn},w("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),nNe=U("quickInput.foreground",{dark:jd,light:jd,hcDark:jd,hcLight:jd},w("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),rNe=U("quickInputTitle.background",{dark:new ue(new Xt(255,255,255,.105)),light:new ue(new Xt(0,0,0,.06)),hcDark:"#000000",hcLight:ue.white},w("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),hle=U("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:ue.white,hcLight:"#0F4A85"},w("pickerGroupForeground","Quick picker color for grouping labels.")),oNe=U("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:ue.white,hcLight:"#0F4A85"},w("pickerGroupBorder","Quick picker color for grouping borders.")),sNe=U("keybindingLabel.background",{dark:new ue(new Xt(128,128,128,.17)),light:new ue(new Xt(221,221,221,.4)),hcDark:ue.transparent,hcLight:ue.transparent},w("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),aNe=U("keybindingLabel.foreground",{dark:ue.fromHex("#CCCCCC"),light:ue.fromHex("#555555"),hcDark:ue.white,hcLight:Pe},w("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),lNe=U("keybindingLabel.border",{dark:new ue(new Xt(51,51,51,.6)),light:new ue(new Xt(204,204,204,.4)),hcDark:new ue(new Xt(111,195,223)),hcLight:Ut},w("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),cNe=U("keybindingLabel.bottomBorder",{dark:new ue(new Xt(68,68,68,.6)),light:new ue(new Xt(187,187,187,.4)),hcDark:new ue(new Xt(111,195,223)),hcLight:Pe},w("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),Hf=U("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},w("editorSelectionBackground","Color of the editor selection.")),dNe=U("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:ue.white},w("editorSelectionForeground","Color of the selected text for high contrast.")),fle=U("editor.inactiveSelectionBackground",{light:Je(Hf,.5),dark:Je(Hf,.5),hcDark:Je(Hf,.7),hcLight:Je(Hf,.5)},w("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),F6=U("editor.selectionHighlightBackground",{light:$K(Hf,hr,.3,.6),dark:$K(Hf,hr,.3,.6),hcDark:null,hcLight:null},w("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0);U("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:Hi,hcLight:Hi},w("editorSelectionHighlightBorder","Border color for regions with the same content as the selection."));const uNe=U("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},w("editorFindMatch","Color of the current search match.")),$d=U("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},w("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),hNe=U("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},w("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),fNe=U("editor.findMatchBorder",{light:null,dark:null,hcDark:Hi,hcLight:Hi},w("editorFindMatchBorder","Border color of the current search match.")),zf=U("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:Hi,hcLight:Hi},w("findMatchHighlightBorder","Border color of the other search matches.")),gNe=U("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:Je(Hi,.4),hcLight:Je(Hi,.4)},w("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0);U("searchEditor.findMatchBackground",{light:Je($d,.66),dark:Je($d,.66),hcDark:$d,hcLight:$d},w("searchEditor.queryMatch","Color of the Search Editor query matches."));U("searchEditor.findMatchBorder",{light:Je(zf,.66),dark:Je(zf,.66),hcDark:zf,hcLight:zf},w("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."));U("search.resultsInfoForeground",{light:Pe,dark:Je(Pe,.65),hcDark:Pe,hcLight:Pe},w("search.resultsInfoForeground","Color of the text in the search viewlet's completion message."));U("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},w("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0);const eI=U("editorHoverWidget.background",{light:mn,dark:mn,hcDark:mn,hcLight:mn},w("hoverBackground","Background color of the editor hover."));U("editorHoverWidget.foreground",{light:jd,dark:jd,hcDark:jd,hcLight:jd},w("hoverForeground","Foreground color of the editor hover."));const gle=U("editorHoverWidget.border",{light:Ud,dark:Ud,hcDark:Ud,hcLight:Ud},w("hoverBorder","Border color of the editor hover."));U("editorHoverWidget.statusBarBackground",{dark:Oc(eI,.2),light:N_(eI,.05),hcDark:mn,hcLight:mn},w("statusBarBackground","Background color of the editor hover status bar."));const pNe=U("editorLink.activeForeground",{dark:"#4E94CE",light:ue.blue,hcDark:ue.cyan,hcLight:"#292929"},w("activeLinkForeground","Color of active links.")),ih=U("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:ue.white,hcLight:ue.black},w("editorInlayHintForeground","Foreground color of inline hints")),nh=U("editorInlayHint.background",{dark:Je(uT,.1),light:Je(uT,.1),hcDark:Je(ue.white,.1),hcLight:Je(uT,.1)},w("editorInlayHintBackground","Background color of inline hints")),mNe=U("editorInlayHint.typeForeground",{dark:ih,light:ih,hcDark:ih,hcLight:ih},w("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),_Ne=U("editorInlayHint.typeBackground",{dark:nh,light:nh,hcDark:nh,hcLight:nh},w("editorInlayHintBackgroundTypes","Background color of inline hints for types")),vNe=U("editorInlayHint.parameterForeground",{dark:ih,light:ih,hcDark:ih,hcLight:ih},w("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),bNe=U("editorInlayHint.parameterBackground",{dark:nh,light:nh,hcDark:nh,hcLight:nh},w("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),Ck=U("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},w("editorLightBulbForeground","The color used for the lightbulb actions icon."));U("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},w("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon."));U("editorLightBulbAi.foreground",{dark:Ck,light:Ck,hcDark:Ck,hcLight:Ck},w("editorLightBulbAiForeground","The color used for the lightbulb AI icon."));const XF=new ue(new Xt(155,185,85,.2)),QF=new ue(new Xt(255,0,0,.2)),yNe=U("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},w("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),CNe=U("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},w("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0);U("diffEditor.insertedLineBackground",{dark:XF,light:XF,hcDark:null,hcLight:null},w("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0);U("diffEditor.removedLineBackground",{dark:QF,light:QF,hcDark:null,hcLight:null},w("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0);U("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},w("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted."));U("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},w("diffEditorRemovedLineGutter","Background color for the margin where lines got removed."));const wNe=U("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},w("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),SNe=U("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},w("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content."));U("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},w("diffEditorInsertedOutline","Outline color for the text that got inserted."));U("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},w("diffEditorRemovedOutline","Outline color for text that got removed."));U("diffEditor.border",{dark:null,light:null,hcDark:Ut,hcLight:Ut},w("diffEditorBorder","Border color between the two text editors."));U("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},w("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views."));U("diffEditor.unchangedRegionBackground",{dark:"sideBar.background",light:"sideBar.background",hcDark:"sideBar.background",hcLight:"sideBar.background"},w("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor."));U("diffEditor.unchangedRegionForeground",{dark:"foreground",light:"foreground",hcDark:"foreground",hcLight:"foreground"},w("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor."));U("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},w("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor."));const xNe=U("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},w("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),LNe=U("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},w("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),kNe=U("list.focusOutline",{dark:_a,light:_a,hcDark:Hi,hcLight:Hi},w("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),DNe=U("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},w("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),rh=U("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:ue.fromHex("#0F4A85").transparent(.1)},w("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),qd=U("list.activeSelectionForeground",{dark:ue.white,light:ue.white,hcDark:null,hcLight:null},w("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),YC=U("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},w("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),TNe=U("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:ue.fromHex("#0F4A85").transparent(.1)},w("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ENe=U("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},w("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),INe=U("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},w("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),NNe=U("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},w("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),PNe=U("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},w("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ple=U("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:ue.white.transparent(.1),hcLight:ue.fromHex("#0F4A85").transparent(.1)},w("listHoverBackground","List/Tree background when hovering over items using the mouse.")),mle=U("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},w("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),MNe=U("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},w("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse.")),RNe=U("list.dropBetweenBackground",{dark:Wd,light:Wd,hcDark:null,hcLight:null},w("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse.")),Al=U("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:_a,hcLight:_a},w("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),wk=U("list.focusHighlightForeground",{dark:Al,light:dPe(rh,Al,"#BBE7FF"),hcDark:Al,hcLight:Al},w("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree."));U("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},w("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer."));U("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},w("listErrorForeground","Foreground color of list items containing errors."));U("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},w("listWarningForeground","Foreground color of list items containing warnings."));const ANe=U("listFilterWidget.background",{light:N_(mn,0),dark:Oc(mn,0),hcDark:mn,hcLight:mn},w("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),ONe=U("listFilterWidget.outline",{dark:ue.transparent,light:ue.transparent,hcDark:"#f38518",hcLight:"#007ACC"},w("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),FNe=U("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:Ut,hcLight:Ut},w("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),BNe=U("listFilterWidget.shadow",{dark:Vd,light:Vd,hcDark:Vd,hcLight:Vd},w("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees."));U("list.filterMatchBackground",{dark:$d,light:$d,hcDark:null,hcLight:null},w("listFilterMatchHighlight","Background color of the filtered match."));U("list.filterMatchBorder",{dark:zf,light:zf,hcDark:Ut,hcLight:Hi},w("listFilterMatchHighlightBorder","Border color of the filtered match."));const XC=U("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},w("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),WNe=U("tree.inactiveIndentGuidesStroke",{dark:Je(XC,.4),light:Je(XC,.4),hcDark:Je(XC,.4),hcLight:Je(XC,.4)},w("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),VNe=U("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},w("tableColumnsBorder","Table border color between columns.")),HNe=U("tree.tableOddRowsBackground",{dark:Je(Pe,.04),light:Je(Pe,.04),hcDark:null,hcLight:null},w("tableOddRowsBackgroundColor","Background color for odd table rows."));U("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},w("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. "));const zNe=U("checkbox.background",{dark:Hd,light:Hd,hcDark:Hd,hcLight:Hd},w("checkbox.background","Background color of checkbox widget."));U("checkbox.selectBackground",{dark:mn,light:mn,hcDark:mn,hcLight:mn},w("checkbox.select.background","Background color of checkbox widget when the element it's in is selected."));const jNe=U("checkbox.foreground",{dark:th,light:th,hcDark:th,hcLight:th},w("checkbox.foreground","Foreground color of checkbox widget.")),UNe=U("checkbox.border",{dark:J0,light:J0,hcDark:J0,hcLight:J0},w("checkbox.border","Border color of checkbox widget."));U("checkbox.selectBorder",{dark:Wd,light:Wd,hcDark:Wd,hcLight:Wd},w("checkbox.select.border","Border color of checkbox widget when the element it's in is selected."));const WK=U("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,w("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),cm=U("quickInputList.focusForeground",{dark:qd,light:qd,hcDark:qd,hcLight:qd},w("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),ev=U("quickInputList.focusIconForeground",{dark:YC,light:YC,hcDark:YC,hcLight:YC},w("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),dm=U("quickInputList.focusBackground",{dark:nS(WK,rh),light:nS(WK,rh),hcDark:null,hcLight:null},w("quickInput.listFocusBackground","Quick picker background color for the focused item.")),$Ne=U("menu.border",{dark:null,light:null,hcDark:Ut,hcLight:Ut},w("menuBorder","Border color of menus.")),qNe=U("menu.foreground",{dark:th,light:th,hcDark:th,hcLight:th},w("menuForeground","Foreground color of menu items.")),KNe=U("menu.background",{dark:Hd,light:Hd,hcDark:Hd,hcLight:Hd},w("menuBackground","Background color of menu items.")),GNe=U("menu.selectionForeground",{dark:qd,light:qd,hcDark:qd,hcLight:qd},w("menuSelectionForeground","Foreground color of the selected menu item in menus.")),ZNe=U("menu.selectionBackground",{dark:rh,light:rh,hcDark:rh,hcLight:rh},w("menuSelectionBackground","Background color of the selected menu item in menus.")),YNe=U("menu.selectionBorder",{dark:null,light:null,hcDark:Hi,hcLight:Hi},w("menuSelectionBorder","Border color of the selected menu item in menus.")),XNe=U("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:Ut,hcLight:Ut},w("menuSeparatorBackground","Color of a separator menu item in menus.")),JF=U("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},w("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse"));U("toolbar.hoverOutline",{dark:null,light:null,hcDark:Hi,hcLight:Hi},w("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse"));U("toolbar.activeBackground",{dark:Oc(JF,.1),light:N_(JF,.1),hcDark:null,hcLight:null},w("toolbarActiveBackground","Toolbar background when holding the mouse over actions"));U("editor.snippetTabstopHighlightBackground",{dark:new ue(new Xt(124,124,124,.3)),light:new ue(new Xt(10,50,100,.2)),hcDark:new ue(new Xt(124,124,124,.3)),hcLight:new ue(new Xt(10,50,100,.2))},w("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop."));U("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},w("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop."));U("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},w("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet."));U("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new ue(new Xt(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},w("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet."));const QNe=U("breadcrumb.foreground",{light:Je(Pe,.8),dark:Je(Pe,.8),hcDark:Je(Pe,.8),hcLight:Je(Pe,.8)},w("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),JNe=U("breadcrumb.background",{light:hr,dark:hr,hcDark:hr,hcLight:hr},w("breadcrumbsBackground","Background color of breadcrumb items.")),VK=U("breadcrumb.focusForeground",{light:N_(Pe,.2),dark:Oc(Pe,.1),hcDark:Oc(Pe,.1),hcLight:Oc(Pe,.1)},w("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),ePe=U("breadcrumb.activeSelectionForeground",{light:N_(Pe,.2),dark:Oc(Pe,.1),hcDark:Oc(Pe,.1),hcLight:Oc(Pe,.1)},w("breadcrumbsSelectedForeground","Color of selected breadcrumb items."));U("breadcrumbPicker.background",{light:mn,dark:mn,hcDark:mn,hcLight:mn},w("breadcrumbsSelectedBackground","Background color of breadcrumb item picker."));const _le=.5,HK=ue.fromHex("#40C8AE").transparent(_le),zK=ue.fromHex("#40A6FF").transparent(_le),jK=ue.fromHex("#606060").transparent(.4),Ol=.4,Tb=1,tv=U("merge.currentHeaderBackground",{dark:HK,light:HK,hcDark:null,hcLight:null},w("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);U("merge.currentContentBackground",{dark:Je(tv,Ol),light:Je(tv,Ol),hcDark:Je(tv,Ol),hcLight:Je(tv,Ol)},w("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const iv=U("merge.incomingHeaderBackground",{dark:zK,light:zK,hcDark:null,hcLight:null},w("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);U("merge.incomingContentBackground",{dark:Je(iv,Ol),light:Je(iv,Ol),hcDark:Je(iv,Ol),hcLight:Je(iv,Ol)},w("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const nv=U("merge.commonHeaderBackground",{dark:jK,light:jK,hcDark:null,hcLight:null},w("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);U("merge.commonContentBackground",{dark:Je(nv,Ol),light:Je(nv,Ol),hcDark:Je(nv,Ol),hcLight:Je(nv,Ol)},w("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const Eb=U("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},w("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."));U("editorOverviewRuler.currentContentForeground",{dark:Je(tv,Tb),light:Je(tv,Tb),hcDark:Eb,hcLight:Eb},w("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts."));U("editorOverviewRuler.incomingContentForeground",{dark:Je(iv,Tb),light:Je(iv,Tb),hcDark:Eb,hcLight:Eb},w("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts."));U("editorOverviewRuler.commonContentForeground",{dark:Je(nv,Tb),light:Je(nv,Tb),hcDark:Eb,hcLight:Eb},w("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts."));const B6=U("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},w("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),QC=U("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},w("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),rv=U("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},w("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),qP=U("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},w("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),UK=U("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},w("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),tPe=U("minimap.infoHighlight",{dark:gs,light:gs,hcDark:iS,hcLight:iS},w("minimapInfo","Minimap marker color for infos.")),iPe=U("minimap.warningHighlight",{dark:wo,light:wo,hcDark:tS,hcLight:tS},w("overviewRuleWarning","Minimap marker color for warnings.")),nPe=U("minimap.errorHighlight",{dark:new ue(new Xt(255,18,18,.7)),light:new ue(new Xt(255,18,18,.7)),hcDark:new ue(new Xt(255,50,50,1)),hcLight:"#B5200D"},w("minimapError","Minimap marker color for errors.")),rPe=U("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},w("minimapBackground","Minimap background color.")),oPe=U("minimap.foregroundOpacity",{dark:ue.fromHex("#000f"),light:ue.fromHex("#000f"),hcDark:ue.fromHex("#000f"),hcLight:ue.fromHex("#000f")},w("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.'));U("minimapSlider.background",{light:Je(KC,.5),dark:Je(KC,.5),hcDark:Je(KC,.5),hcLight:Je(KC,.5)},w("minimapSliderBackground","Minimap slider background color."));U("minimapSlider.hoverBackground",{light:Je(GC,.5),dark:Je(GC,.5),hcDark:Je(GC,.5),hcLight:Je(GC,.5)},w("minimapSliderHoverBackground","Minimap slider background color when hovering."));U("minimapSlider.activeBackground",{light:Je(ZC,.5),dark:Je(ZC,.5),hcDark:Je(ZC,.5),hcLight:Je(ZC,.5)},w("minimapSliderActiveBackground","Minimap slider background color when clicked on."));const sPe=U("problemsErrorIcon.foreground",{dark:zd,light:zd,hcDark:zd,hcLight:zd},w("problemsErrorIconForeground","The color used for the problems error icon.")),aPe=U("problemsWarningIcon.foreground",{dark:wo,light:wo,hcDark:wo,hcLight:wo},w("problemsWarningIconForeground","The color used for the problems warning icon.")),lPe=U("problemsInfoIcon.foreground",{dark:gs,light:gs,hcDark:gs,hcLight:gs},w("problemsInfoIconForeground","The color used for the problems info icon."));U("charts.foreground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("chartsForeground","The foreground color used in charts."));U("charts.lines",{dark:Je(Pe,.5),light:Je(Pe,.5),hcDark:Je(Pe,.5),hcLight:Je(Pe,.5)},w("chartsLines","The color used for horizontal lines in charts."));U("charts.red",{dark:zd,light:zd,hcDark:zd,hcLight:zd},w("chartsRed","The red color used in chart visualizations."));U("charts.blue",{dark:gs,light:gs,hcDark:gs,hcLight:gs},w("chartsBlue","The blue color used in chart visualizations."));U("charts.yellow",{dark:wo,light:wo,hcDark:wo,hcLight:wo},w("chartsYellow","The yellow color used in chart visualizations."));U("charts.orange",{dark:rv,light:rv,hcDark:rv,hcLight:rv},w("chartsOrange","The orange color used in chart visualizations."));U("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},w("chartsGreen","The green color used in chart visualizations."));U("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},w("chartsPurple","The purple color used in chart visualizations."));function cPe(n,e){var t,i,r,o;switch(n.op){case 0:return(t=rc(n.value,e))===null||t===void 0?void 0:t.darken(n.factor);case 1:return(i=rc(n.value,e))===null||i===void 0?void 0:i.lighten(n.factor);case 2:return(r=rc(n.value,e))===null||r===void 0?void 0:r.transparent(n.factor);case 3:{const s=rc(n.background,e);return s?(o=rc(n.value,e))===null||o===void 0?void 0:o.makeOpaque(s):rc(n.value,e)}case 4:for(const s of n.values){const a=rc(s,e);if(a)return a}return;case 6:return rc(e.defines(n.if)?n.then:n.else,e);case 5:{const s=rc(n.value,e);if(!s)return;const a=rc(n.background,e);return a?s.isDarkerThan(a)?ue.getLighterColor(s,a,n.factor).transparent(n.transparency):ue.getDarkerColor(s,a,n.factor).transparent(n.transparency):s.transparent(n.factor*n.transparency)}default:throw DP()}}function N_(n,e){return{op:0,value:n,factor:e}}function Oc(n,e){return{op:1,value:n,factor:e}}function Je(n,e){return{op:2,value:n,factor:e}}function nS(...n){return{op:4,values:n}}function dPe(n,e,t){return{op:6,if:n,then:e,else:t}}function $K(n,e,t,i){return{op:5,value:n,background:e,factor:t,transparency:i}}function rc(n,e){if(n!==null){if(typeof n=="string")return n[0]==="#"?ue.fromHex(n):e.getColor(n);if(n instanceof ue)return n;if(typeof n=="object")return cPe(n,e)}}const vle="vscode://schemas/workbench-colors",ble=nn.as(zP.JSONContribution);ble.registerSchema(vle,$P.getColorSchema());const qK=new ki(()=>ble.notifySchemaChanged(vle),200);$P.onDidChangeSchema(()=>{qK.isScheduled()||qK.schedule()});class KP{constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(e){return new yle(this.x-e.scrollX,this.y-e.scrollY)}}class yle{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(e){return new KP(this.clientX+e.scrollX,this.clientY+e.scrollY)}}class uPe{constructor(e,t,i,r){this.x=e,this.y=t,this.width=i,this.height=r,this._editorPagePositionBrand=void 0}}class hPe{constructor(e,t){this.x=e,this.y=t,this._positionRelativeToEditorBrand=void 0}}function W6(n){const e=Vn(n);return new uPe(e.left,e.top,e.width,e.height)}function V6(n,e,t){const i=e.width/n.offsetWidth,r=e.height/n.offsetHeight,o=(t.x-e.x)/i,s=(t.y-e.y)/r;return new hPe(o,s)}class Wg extends Ml{constructor(e,t,i){super(ht(i),e),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=t,this.pos=new KP(this.posx,this.posy),this.editorPos=W6(i),this.relativePos=V6(i,this.editorPos,this.pos)}}class fPe{constructor(e){this._editorViewDomNode=e}_create(e){return new Wg(e,!1,this._editorViewDomNode)}onContextMenu(e,t){return ge(e,"contextmenu",i=>{t(this._create(i))})}onMouseUp(e,t){return ge(e,"mouseup",i=>{t(this._create(i))})}onMouseDown(e,t){return ge(e,Ne.MOUSE_DOWN,i=>{t(this._create(i))})}onPointerDown(e,t){return ge(e,Ne.POINTER_DOWN,i=>{t(this._create(i),i.pointerId)})}onMouseLeave(e,t){return ge(e,Ne.MOUSE_LEAVE,i=>{t(this._create(i))})}onMouseMove(e,t){return ge(e,"mousemove",i=>t(this._create(i)))}}class gPe{constructor(e){this._editorViewDomNode=e}_create(e){return new Wg(e,!1,this._editorViewDomNode)}onPointerUp(e,t){return ge(e,"pointerup",i=>{t(this._create(i))})}onPointerDown(e,t){return ge(e,Ne.POINTER_DOWN,i=>{t(this._create(i),i.pointerId)})}onPointerLeave(e,t){return ge(e,Ne.POINTER_LEAVE,i=>{t(this._create(i))})}onPointerMove(e,t){return ge(e,"pointermove",i=>t(this._create(i)))}}class pPe extends ce{constructor(e){super(),this._editorViewDomNode=e,this._globalPointerMoveMonitor=this._register(new Sy),this._keydownListener=null}startMonitoring(e,t,i,r,o){this._keydownListener=kn(e.ownerDocument,"keydown",s=>{s.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,s.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(e,t,i,s=>{r(new Wg(s,!0,this._editorViewDomNode))},s=>{this._keydownListener.dispose(),o(s)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}class Hx{constructor(e){this._editor=e,this._instanceId=++Hx._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new ki(()=>this.garbageCollect(),1e3)}createClassNameRef(e){const t=this.getOrCreateRule(e);return t.increaseRefCount(),{className:t.className,dispose:()=>{t.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(e){const t=this.computeUniqueKey(e);let i=this._rules.get(t);if(!i){const r=this._counter++;i=new mPe(t,`dyn-rule-${this._instanceId}-${r}`,zE(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,e),this._rules.set(t,i)}return i}computeUniqueKey(e){return JSON.stringify(e)}garbageCollect(){for(const e of this._rules.values())e.hasReferences()||(this._rules.delete(e.key),e.dispose())}}Hx._idPool=0;class mPe{constructor(e,t,i,r){this.key=e,this.className=t,this.properties=r,this._referenceCount=0,this._styleElementDisposables=new xe,this._styleElement=La(i,void 0,this._styleElementDisposables),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(e,t){let i=`.${e} {`;for(const r in t){const o=t[r];let s;typeof o=="object"?s=Ue(o.id):s=o;const a=_Pe(r);i+=`
	${a}: ${s};`}return i+=`
}`,i}dispose(){this._styleElementDisposables.dispose(),this._styleElement=void 0}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function _Pe(n){return n.replace(/(^[A-Z])/,([e])=>e.toLowerCase()).replace(/([A-Z])/g,([e])=>`-${e.toLowerCase()}`)}class zx extends ce{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let i=0,r=e.length;i<r;i++){const o=e[i];switch(o.type){case 0:this.onCompositionStart(o)&&(t=!0);break;case 1:this.onCompositionEnd(o)&&(t=!0);break;case 2:this.onConfigurationChanged(o)&&(t=!0);break;case 3:this.onCursorStateChanged(o)&&(t=!0);break;case 4:this.onDecorationsChanged(o)&&(t=!0);break;case 5:this.onFlushed(o)&&(t=!0);break;case 6:this.onFocusChanged(o)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(o)&&(t=!0);break;case 8:this.onLineMappingChanged(o)&&(t=!0);break;case 9:this.onLinesChanged(o)&&(t=!0);break;case 10:this.onLinesDeleted(o)&&(t=!0);break;case 11:this.onLinesInserted(o)&&(t=!0);break;case 12:this.onRevealRangeRequest(o)&&(t=!0);break;case 13:this.onScrollChanged(o)&&(t=!0);break;case 15:this.onTokensChanged(o)&&(t=!0);break;case 14:this.onThemeChanged(o)&&(t=!0);break;case 16:this.onTokensColorsChanged(o)&&(t=!0);break;case 17:this.onZonesChanged(o)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(o)}}t&&(this._shouldRender=!0)}}class Zs extends zx{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class Kc{static write(e,t){e.setAttribute("data-mprt",String(t))}static read(e){const t=e.getAttribute("data-mprt");return t===null?0:parseInt(t,10)}static collect(e,t){const i=[];let r=0;for(;e&&e!==e.ownerDocument.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(i[r++]=this.read(e)),e=e.parentElement;const o=new Uint8Array(r);for(let s=0;s<r;s++)o[s]=i[r-s-1];return o}}class vPe{constructor(e,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e,t){return this._viewLayout.getVerticalOffsetForLineNumber(e,t)}getVerticalOffsetAfterLineNumber(e,t){return this._viewLayout.getVerticalOffsetAfterLineNumber(e,t)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class bPe extends vPe{constructor(e,t,i){super(e,t),this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class yPe{constructor(e,t,i,r){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=i,this.continuesOnNextLine=r}}class GP{static from(e){const t=new Array(e.length);for(let i=0,r=e.length;i<r;i++){const o=e[i];t[i]=new GP(o.left,o.width)}return t}constructor(e,t){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(t)}toString(){return`[${this.left},${this.width}]`}}class Sm{constructor(e,t){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}}class CPe{constructor(e,t){this.outsideRenderedLine=e,this.originalLeft=t,this.left=Math.round(this.originalLeft)}}class KK{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}class hT{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,i,r,o){const s=this._createRange();try{return s.setStart(e,t),s.setEnd(i,r),s.getClientRects()}catch{return null}finally{this._detachRange(s,o)}}static _mergeAdjacentRanges(e){if(e.length===1)return e;e.sort(Sm.compare);const t=[];let i=0,r=e[0];for(let o=1,s=e.length;o<s;o++){const a=e[o];r.left+r.width+.9>=a.left?r.width=Math.max(r.width,a.left+a.width-r.left):(t[i++]=r,r=a)}return t[i++]=r,t}static _createHorizontalRangesFromClientRects(e,t,i){if(!e||e.length===0)return null;const r=[];for(let o=0,s=e.length;o<s;o++){const a=e[o];r[o]=new Sm(Math.max(0,(a.left-t)/i),a.width/i)}return this._mergeAdjacentRanges(r)}static readHorizontalRanges(e,t,i,r,o,s){const l=e.children.length-1;if(0>l)return null;if(t=Math.min(l,Math.max(0,t)),r=Math.min(l,Math.max(0,r)),t===r&&i===o&&i===0&&!e.children[t].firstChild){const h=e.children[t].getClientRects();return s.markDidDomLayout(),this._createHorizontalRangesFromClientRects(h,s.clientRectDeltaLeft,s.clientRectScale)}t!==r&&r>0&&o===0&&(r--,o=1073741824);let c=e.children[t].firstChild,d=e.children[r].firstChild;if((!c||!d)&&(!c&&i===0&&t>0&&(c=e.children[t-1].firstChild,i=1073741824),!d&&o===0&&r>0&&(d=e.children[r-1].firstChild,o=1073741824)),!c||!d)return null;i=Math.min(c.textContent.length,Math.max(0,i)),o=Math.min(d.textContent.length,Math.max(0,o));const u=this._readClientRects(c,i,d,o,s.endNode);return s.markDidDomLayout(),this._createHorizontalRangesFromClientRects(u,s.clientRectDeltaLeft,s.clientRectScale)}}var Ka;(function(n){n.DARK="dark",n.LIGHT="light",n.HIGH_CONTRAST_DARK="hcDark",n.HIGH_CONTRAST_LIGHT="hcLight"})(Ka||(Ka={}));function Fc(n){return n===Ka.HIGH_CONTRAST_DARK||n===Ka.HIGH_CONTRAST_LIGHT}function Ib(n){return n===Ka.DARK||n===Ka.HIGH_CONTRAST_DARK}const wPe=function(){return Mc?!0:!(Uo||nl||Th)}();let Av=!0;class GK{constructor(e,t){this.themeType=t;const i=e.options,r=i.get(50);i.get(38)==="off"?this.renderWhitespace=i.get(98):this.renderWhitespace="none",this.renderControlCharacters=i.get(93),this.spaceWidth=r.spaceWidth,this.middotWidth=r.middotWidth,this.wsmiddotWidth=r.wsmiddotWidth,this.useMonospaceOptimizations=r.isMonospace&&!i.get(33),this.canUseHalfwidthRightwardsArrow=r.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(66),this.stopRenderingLineAfter=i.get(116),this.fontLigatures=i.get(51)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class Nd{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(this._renderedViewLine)this._renderedViewLine.domNode=pi(e);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return Fc(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(e,t,i,r){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const o=i.getViewLineRenderingData(e),s=this._options,a=As.filter(o.inlineDecorations,e,o.minColumn,o.maxColumn);let l=null;if(Fc(s.themeType)||this._options.renderWhitespace==="selection"){const h=i.selections;for(const f of h){if(f.endLineNumber<e||f.startLineNumber>e)continue;const g=f.startLineNumber===e?f.startColumn:o.minColumn,_=f.endLineNumber===e?f.endColumn:o.maxColumn;g<_&&(Fc(s.themeType)&&a.push(new As(g,_,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(l||(l=[]),l.push(new tle(g-1,_-1))))}}const c=new fp(s.useMonospaceOptimizations,s.canUseHalfwidthRightwardsArrow,o.content,o.continuesWithWrappedLine,o.isBasicASCII,o.containsRTL,o.minColumn-1,o.tokens,a,o.tabSize,o.startVisibleColumn,s.spaceWidth,s.middotWidth,s.wsmiddotWidth,s.stopRenderingLineAfter,s.renderWhitespace,s.renderControlCharacters,s.fontLigatures!==da.OFF,l);if(this._renderedViewLine&&this._renderedViewLine.input.equals(c))return!1;r.appendString('<div style="top:'),r.appendString(String(t)),r.appendString("px;height:"),r.appendString(String(this._options.lineHeight)),r.appendString('px;" class="'),r.appendString(Nd.CLASS_NAME),r.appendString('">');const d=Wx(c,r);r.appendString("</div>");let u=null;return Av&&wPe&&o.isBasicASCII&&s.useMonospaceOptimizations&&d.containsForeignElements===0&&(u=new Sk(this._renderedViewLine?this._renderedViewLine.domNode:null,c,d.characterMapping)),u||(u=wle(this._renderedViewLine?this._renderedViewLine.domNode:null,c,d.characterMapping,d.containsRTL,d.containsForeignElements)),this._renderedViewLine=u,!0}layoutLine(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(e){return this._renderedViewLine?this._renderedViewLine.getWidth(e):0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof Sk:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof Sk?this._renderedViewLine.monospaceAssumptionsAreValid():Av}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof Sk&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,i,r){if(!this._renderedViewLine)return null;t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t)),i=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,i));const o=this._renderedViewLine.input.stopRenderingLineAfter;if(o!==-1&&t>o+1&&i>o+1)return new KK(!0,[new Sm(this.getWidth(r),0)]);o!==-1&&t>o+1&&(t=o+1),o!==-1&&i>o+1&&(i=o+1);const s=this._renderedViewLine.getVisibleRangesForRange(e,t,i,r);return s&&s.length>0?new KK(!1,s):null}getColumnOfNodeOffset(e,t){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t):1}}Nd.CLASS_NAME="view-line";class Sk{constructor(e,t,i){this._cachedWidth=-1,this.domNode=e,this.input=t;const r=Math.floor(t.lineContent.length/300);if(r>0){this._keyColumnPixelOffsetCache=new Float32Array(r);for(let o=0;o<r;o++)this._keyColumnPixelOffsetCache[o]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=i,this._charWidth=t.spaceWidth}getWidth(e){if(!this.domNode||this.input.lineContent.length<300){const t=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*t)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,e==null||e.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return Av;if(this.input.lineContent.length<300){const e=this.getWidth(null),t=this.domNode.domNode.firstChild.offsetWidth;Math.abs(e-t)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),Av=!1)}return Av}toSlowRenderedLine(){return wle(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,i,r){const o=this._getColumnPixelOffset(e,t,r),s=this._getColumnPixelOffset(e,i,r);return[new Sm(o,s-o)]}_getColumnPixelOffset(e,t,i){if(t<=300){const c=this._characterMapping.getHorizontalOffset(t);return this._charWidth*c}const r=Math.floor((t-1)/300)-1,o=(r+1)*300+1;let s=-1;if(this._keyColumnPixelOffsetCache&&(s=this._keyColumnPixelOffsetCache[r],s===-1&&(s=this._actualReadPixelOffset(e,o,i),this._keyColumnPixelOffsetCache[r]=s)),s===-1){const c=this._characterMapping.getHorizontalOffset(t);return this._charWidth*c}const a=this._characterMapping.getHorizontalOffset(o),l=this._characterMapping.getHorizontalOffset(t);return s+this._charWidth*(l-a)}_getReadingTarget(e){return e.domNode.firstChild}_actualReadPixelOffset(e,t,i){if(!this.domNode)return-1;const r=this._characterMapping.getDomPosition(t),o=hT.readHorizontalRanges(this._getReadingTarget(this.domNode),r.partIndex,r.charIndex,r.partIndex,r.charIndex,i);return!o||o.length===0?-1:o[0].left}getColumnOfNodeOffset(e,t){return H6(this._characterMapping,e,t)}}class Cle{constructor(e,t,i,r,o){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=o,this._cachedWidth=-1,this._pixelOffsetCache=null,!r||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let s=0,a=this._characterMapping.length;s<=a;s++)this._pixelOffsetCache[s]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(e){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,e==null||e.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(e,t,i,r){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const o=this._readPixelOffset(this.domNode,e,t,r);if(o===-1)return null;const s=this._readPixelOffset(this.domNode,e,i,r);return s===-1?null:[new Sm(o,s-o)]}return this._readVisibleRangesForRange(this.domNode,e,t,i,r)}_readVisibleRangesForRange(e,t,i,r,o){if(i===r){const s=this._readPixelOffset(e,t,i,o);return s===-1?null:[new Sm(s,0)]}else return this._readRawVisibleRangesForRange(e,i,r,o)}_readPixelOffset(e,t,i,r){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(r);const o=this._getReadingTarget(e);return o.firstChild?(r.markDidDomLayout(),o.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const o=this._pixelOffsetCache[i];if(o!==-1)return o;const s=this._actualReadPixelOffset(e,t,i,r);return this._pixelOffsetCache[i]=s,s}return this._actualReadPixelOffset(e,t,i,r)}_actualReadPixelOffset(e,t,i,r){if(this._characterMapping.length===0){const l=hT.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,r);return!l||l.length===0?-1:l[0].left}if(i===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(r);const o=this._characterMapping.getDomPosition(i),s=hT.readHorizontalRanges(this._getReadingTarget(e),o.partIndex,o.charIndex,o.partIndex,o.charIndex,r);if(!s||s.length===0)return-1;const a=s[0].left;if(this.input.isBasicASCII){const l=this._characterMapping.getHorizontalOffset(i),c=Math.round(this.input.spaceWidth*l);if(Math.abs(c-a)<=1)return c}return a}_readRawVisibleRangesForRange(e,t,i,r){if(t===1&&i===this._characterMapping.length)return[new Sm(0,this.getWidth(r))];const o=this._characterMapping.getDomPosition(t),s=this._characterMapping.getDomPosition(i);return hT.readHorizontalRanges(this._getReadingTarget(e),o.partIndex,o.charIndex,s.partIndex,s.charIndex,r)}getColumnOfNodeOffset(e,t){return H6(this._characterMapping,e,t)}}class SPe extends Cle{_readVisibleRangesForRange(e,t,i,r,o){const s=super._readVisibleRangesForRange(e,t,i,r,o);if(!s||s.length===0||i===r||i===1&&r===this._characterMapping.length)return s;if(!this.input.containsRTL){const a=this._readPixelOffset(e,t,r,o);if(a!==-1){const l=s[s.length-1];l.left<a&&(l.width=a-l.left)}}return s}}const wle=function(){return ym?xPe:LPe}();function xPe(n,e,t,i,r){return new SPe(n,e,t,i,r)}function LPe(n,e,t,i,r){return new Cle(n,e,t,i,r)}function H6(n,e,t){const i=e.textContent.length;let r=-1;for(;e;)e=e.previousSibling,r++;return n.getColumn(new ile(r,t),i)}class ir{static _nextVisibleColumn(e,t,i){return e===9?ir.nextRenderTabStop(t,i):Pg(e)||r6(e)?t+2:t+1}static visibleColumnFromColumn(e,t,i){const r=Math.min(t-1,e.length),o=e.substring(0,r),s=new VE(o);let a=0;for(;!s.eol();){const l=WE(o,r,s.offset);s.nextGraphemeLength(),a=this._nextVisibleColumn(l,a,i)}return a}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;const r=e.length,o=new VE(e);let s=0,a=1;for(;!o.eol();){const l=WE(e,r,o.offset);o.nextGraphemeLength();const c=this._nextVisibleColumn(l,s,i),d=o.offset+1;if(c>=t){const u=t-s;return c-t<u?d:a}s=c,a=d}return r+1}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}class rS{static whitespaceVisibleColumn(e,t,i){const r=e.length;let o=0,s=-1,a=-1;for(let l=0;l<r;l++){if(l===t)return[s,a,o];switch(o%i===0&&(s=l,a=o),e.charCodeAt(l)){case 32:o+=1;break;case 9:o=ir.nextRenderTabStop(o,i);break;default:return[-1,-1,-1]}}return t===r?[s,a,o]:[-1,-1,-1]}static atomicPosition(e,t,i,r){const o=e.length,[s,a,l]=rS.whitespaceVisibleColumn(e,t,i);if(l===-1)return-1;let c;switch(r){case 0:c=!0;break;case 1:c=!1;break;case 2:if(l%i===0)return t;c=l%i<=i/2;break}if(c){if(s===-1)return-1;let h=a;for(let f=s;f<o;++f){if(h===a+i)return s;switch(e.charCodeAt(f)){case 32:h+=1;break;case 9:h=ir.nextRenderTabStop(h,i);break;default:return-1}}return h===a+i?s:-1}const d=ir.nextRenderTabStop(l,i);let u=l;for(let h=t;h<o;h++){if(u===d)return h;switch(e.charCodeAt(h)){case 32:u+=1;break;case 9:u=ir.nextRenderTabStop(u,i);break;default:return-1}}return u===d?o:-1}}class pf{constructor(e=null){this.hitTarget=e,this.type=0}}class Sle{constructor(e,t,i){this.position=e,this.spanNode=t,this.injectedText=i,this.type=1}}var Xp;(function(n){function e(t,i,r){const o=t.getPositionFromDOMInfo(i,r);return o?new Sle(o,i,null):new pf(i)}n.createFromDOMInfo=e})(Xp||(Xp={}));class kPe{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}}class bo{static _deduceRage(e,t=null){return!t&&e?new B(e.lineNumber,e.column,e.lineNumber,e.column):t??null}static createUnknown(e,t,i){return{type:0,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createTextarea(e,t){return{type:1,element:e,mouseColumn:t,position:null,range:null}}static createMargin(e,t,i,r,o,s){return{type:e,element:t,mouseColumn:i,position:r,range:o,detail:s}}static createViewZone(e,t,i,r,o){return{type:e,element:t,mouseColumn:i,position:r,range:this._deduceRage(r),detail:o}}static createContentText(e,t,i,r,o){return{type:6,element:e,mouseColumn:t,position:i,range:this._deduceRage(i,r),detail:o}}static createContentEmpty(e,t,i,r){return{type:7,element:e,mouseColumn:t,position:i,range:this._deduceRage(i),detail:r}}static createContentWidget(e,t,i){return{type:9,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createScrollbar(e,t,i){return{type:11,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createOverlayWidget(e,t,i){return{type:12,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createOutsideEditor(e,t,i,r){return{type:13,element:null,mouseColumn:e,position:t,range:this._deduceRage(t),outsidePosition:i,outsideDistance:r}}static _typeToString(e){return e===1?"TEXTAREA":e===2?"GUTTER_GLYPH_MARGIN":e===3?"GUTTER_LINE_NUMBERS":e===4?"GUTTER_LINE_DECORATIONS":e===5?"GUTTER_VIEW_ZONE":e===6?"CONTENT_TEXT":e===7?"CONTENT_EMPTY":e===8?"CONTENT_VIEW_ZONE":e===9?"CONTENT_WIDGET":e===10?"OVERVIEW_RULER":e===11?"SCROLLBAR":e===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+JSON.stringify(e.detail)}}class Eo{static isTextArea(e){return e.length===2&&e[0]===3&&e[1]===7}static isChildOfViewLines(e){return e.length>=4&&e[0]===3&&e[3]===8}static isStrictChildOfViewLines(e){return e.length>4&&e[0]===3&&e[3]===8}static isChildOfScrollableElement(e){return e.length>=2&&e[0]===3&&e[1]===6}static isChildOfMinimap(e){return e.length>=2&&e[0]===3&&e[1]===9}static isChildOfContentWidgets(e){return e.length>=4&&e[0]===3&&e[3]===1}static isChildOfOverflowGuard(e){return e.length>=1&&e[0]===3}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&e[0]===2}static isChildOfOverlayWidgets(e){return e.length>=2&&e[0]===3&&e[1]===4}static isChildOfOverflowingOverlayWidgets(e){return e.length>=1&&e[0]===5}}class Nb{constructor(e,t,i){this.viewModel=e.viewModel;const r=e.configuration.options;this.layoutInfo=r.get(143),this.viewDomNode=t.viewDomNode,this.lineHeight=r.get(66),this.stickyTabStops=r.get(115),this.typicalHalfwidthCharacterWidth=r.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return Nb.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){const i=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(i){const r=i.verticalOffset+i.height/2,o=e.viewModel.getLineCount();let s=null,a,l=null;return i.afterLineNumber!==o&&(l=new re(i.afterLineNumber+1,1)),i.afterLineNumber>0&&(s=new re(i.afterLineNumber,e.viewModel.getLineMaxColumn(i.afterLineNumber))),l===null?a=s:s===null?a=l:t<r?a=s:a=l,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:s,positionAfter:l,position:a}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const r=this._context.viewModel.getLineCount(),o=this._context.viewModel.getLineMaxColumn(r);return{range:new B(r,o,r,o),isAfterLines:!0}}const t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),i=this._context.viewModel.getLineMaxColumn(t);return{range:new B(t,1,t,i),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return Nb._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,i){for(;e&&e!==e.ownerDocument.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===i)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class DPe{constructor(e,t,i,r){this.editorPos=t,this.pos=i,this.relativePos=r,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+this.relativePos.x-e.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<e.layoutInfo.contentLeft&&this.relativePos.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,Br._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}class z6 extends DPe{constructor(e,t,i,r,o){super(e,t,i,r),this._ctx=e,o?(this.target=o,this.targetPath=Kc.collect(o,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(e=null){return e&&e.column<this._ctx.viewModel.getLineMaxColumn(e.lineNumber)?ir.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(e.lineNumber),e.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(e=null){return bo.createUnknown(this.target,this._getMouseColumn(e),e)}fulfillTextarea(){return bo.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(e,t,i,r){return bo.createMargin(e,this.target,this._getMouseColumn(t),t,i,r)}fulfillViewZone(e,t,i){return bo.createViewZone(e,this.target,this._getMouseColumn(t),t,i)}fulfillContentText(e,t,i){return bo.createContentText(this.target,this._getMouseColumn(e),e,t,i)}fulfillContentEmpty(e,t){return bo.createContentEmpty(this.target,this._getMouseColumn(e),e,t)}fulfillContentWidget(e){return bo.createContentWidget(this.target,this._getMouseColumn(),e)}fulfillScrollbar(e){return bo.createScrollbar(this.target,this._getMouseColumn(e),e)}fulfillOverlayWidget(e){return bo.createOverlayWidget(this.target,this._getMouseColumn(),e)}withTarget(e){return new z6(this._ctx,this.editorPos,this.pos,this.relativePos,e)}}const ZK={isAfterLines:!0};function WA(n){return{isAfterLines:!1,horizontalDistanceToText:n}}class Br{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){const t=e.target,i=Kc.collect(t,this._viewHelper.viewDomNode);return!!(Eo.isChildOfContentWidgets(i)||Eo.isChildOfOverflowingContentWidgets(i)||Eo.isChildOfOverlayWidgets(i)||Eo.isChildOfOverflowingOverlayWidgets(i))}createMouseTarget(e,t,i,r,o){const s=new Nb(this._context,this._viewHelper,e),a=new z6(s,t,i,r,o);try{const l=Br._createMouseTarget(s,a,!1);if(l.type===6&&s.stickyTabStops&&l.position!==null){const c=Br._snapToSoftTabBoundary(l.position,s.viewModel),d=B.fromPositions(c,c).plusRange(l.range);return a.fulfillContentText(c,d,l.detail)}return l}catch{return a.fulfillUnknown()}}static _createMouseTarget(e,t,i){if(t.target===null){if(i)return t.fulfillUnknown();const s=Br._doHitTest(e,t);return s.type===1?Br.createMouseTargetFromHitTestPosition(e,t,s.spanNode,s.position,s.injectedText):this._createMouseTarget(e,t.withTarget(s.hitTarget),!0)}const r=t;let o=null;return!Eo.isChildOfOverflowGuard(t.targetPath)&&!Eo.isChildOfOverflowingContentWidgets(t.targetPath)&&!Eo.isChildOfOverflowingOverlayWidgets(t.targetPath)&&(o=o||t.fulfillUnknown()),o=o||Br._hitTestContentWidget(e,r),o=o||Br._hitTestOverlayWidget(e,r),o=o||Br._hitTestMinimap(e,r),o=o||Br._hitTestScrollbarSlider(e,r),o=o||Br._hitTestViewZone(e,r),o=o||Br._hitTestMargin(e,r),o=o||Br._hitTestViewCursor(e,r),o=o||Br._hitTestTextArea(e,r),o=o||Br._hitTestViewLines(e,r,i),o=o||Br._hitTestScrollbar(e,r),o||t.fulfillUnknown()}static _hitTestContentWidget(e,t){if(Eo.isChildOfContentWidgets(t.targetPath)||Eo.isChildOfOverflowingContentWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfillContentWidget(i):t.fulfillUnknown()}return null}static _hitTestOverlayWidget(e,t){if(Eo.isChildOfOverlayWidgets(t.targetPath)||Eo.isChildOfOverflowingOverlayWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfillOverlayWidget(i):t.fulfillUnknown()}return null}static _hitTestViewCursor(e,t){if(t.target){const i=e.lastRenderData.lastViewCursorsRenderData;for(const r of i)if(t.target===r.domNode)return t.fulfillContentText(r.position,null,{mightBeForeignElement:!1,injectedText:null})}if(t.isInContentArea){const i=e.lastRenderData.lastViewCursorsRenderData,r=t.mouseContentHorizontalOffset,o=t.mouseVerticalOffset;for(const s of i){if(r<s.contentLeft||r>s.contentLeft+s.width)continue;const a=e.getVerticalOffsetForLineNumber(s.position.lineNumber);if(a<=o&&o<=a+s.height)return t.fulfillContentText(s.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(e,t){const i=e.getZoneAtCoord(t.mouseVerticalOffset);if(i){const r=t.isInContentArea?8:5;return t.fulfillViewZone(r,i.position,i)}return null}static _hitTestTextArea(e,t){return Eo.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfillContentText(e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):t.fulfillTextarea():null}static _hitTestMargin(e,t){if(t.isInMarginArea){const i=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),r=i.range.getStartPosition();let o=Math.abs(t.relativePos.x);const s={isAfterLines:i.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:o};if(o-=e.layoutInfo.glyphMarginLeft,o<=e.layoutInfo.glyphMarginWidth){const a=e.viewModel.coordinatesConverter.convertViewPositionToModelPosition(i.range.getStartPosition()),l=e.viewModel.glyphLanes.getLanesAtLine(a.lineNumber);return s.glyphMarginLane=l[Math.floor(o/e.lineHeight)],t.fulfillMargin(2,r,i.range,s)}return o-=e.layoutInfo.glyphMarginWidth,o<=e.layoutInfo.lineNumbersWidth?t.fulfillMargin(3,r,i.range,s):(o-=e.layoutInfo.lineNumbersWidth,t.fulfillMargin(4,r,i.range,s))}return null}static _hitTestViewLines(e,t,i){if(!Eo.isChildOfViewLines(t.targetPath))return null;if(e.isInTopPadding(t.mouseVerticalOffset))return t.fulfillContentEmpty(new re(1,1),ZK);if(e.isAfterLines(t.mouseVerticalOffset)||e.isInBottomPadding(t.mouseVerticalOffset)){const o=e.viewModel.getLineCount(),s=e.viewModel.getLineMaxColumn(o);return t.fulfillContentEmpty(new re(o,s),ZK)}if(i){if(Eo.isStrictChildOfViewLines(t.targetPath)){const o=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(e.viewModel.getLineLength(o)===0){const a=e.getLineWidth(o),l=WA(t.mouseContentHorizontalOffset-a);return t.fulfillContentEmpty(new re(o,1),l)}const s=e.getLineWidth(o);if(t.mouseContentHorizontalOffset>=s){const a=WA(t.mouseContentHorizontalOffset-s),l=new re(o,e.viewModel.getLineMaxColumn(o));return t.fulfillContentEmpty(l,a)}}return t.fulfillUnknown()}const r=Br._doHitTest(e,t);return r.type===1?Br.createMouseTargetFromHitTestPosition(e,t,r.spanNode,r.position,r.injectedText):this._createMouseTarget(e,t.withTarget(r.hitTarget),!0)}static _hitTestMinimap(e,t){if(Eo.isChildOfMinimap(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),r=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new re(i,r))}return null}static _hitTestScrollbarSlider(e,t){if(Eo.isChildOfScrollableElement(t.targetPath)&&t.target&&t.target.nodeType===1){const i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){const r=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.viewModel.getLineMaxColumn(r);return t.fulfillScrollbar(new re(r,o))}}return null}static _hitTestScrollbar(e,t){if(Eo.isChildOfScrollableElement(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),r=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new re(i,r))}return null}getMouseColumn(e){const t=this._context.configuration.options,i=t.get(143),r=this._context.viewLayout.getCurrentScrollLeft()+e.x-i.contentLeft;return Br._getMouseColumn(r,t.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){return e<0?1:Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,i,r,o){const s=r.lineNumber,a=r.column,l=e.getLineWidth(s);if(t.mouseContentHorizontalOffset>l){const m=WA(t.mouseContentHorizontalOffset-l);return t.fulfillContentEmpty(r,m)}const c=e.visibleRangeForPosition(s,a);if(!c)return t.fulfillUnknown(r);const d=c.left;if(Math.abs(t.mouseContentHorizontalOffset-d)<1)return t.fulfillContentText(r,null,{mightBeForeignElement:!!o,injectedText:o});const u=[];if(u.push({offset:c.left,column:a}),a>1){const m=e.visibleRangeForPosition(s,a-1);m&&u.push({offset:m.left,column:a-1})}const h=e.viewModel.getLineMaxColumn(s);if(a<h){const m=e.visibleRangeForPosition(s,a+1);m&&u.push({offset:m.left,column:a+1})}u.sort((m,p)=>m.offset-p.offset);const f=t.pos.toClientCoordinates(ht(e.viewDomNode)),g=i.getBoundingClientRect(),_=g.left<=f.clientX&&f.clientX<=g.right;let y=null;for(let m=1;m<u.length;m++){const p=u[m-1],v=u[m];if(p.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=v.offset){y=new B(s,p.column,s,v.column);const b=Math.abs(p.offset-t.mouseContentHorizontalOffset),C=Math.abs(v.offset-t.mouseContentHorizontalOffset);r=b<C?new re(s,p.column):new re(s,v.column);break}}return t.fulfillContentText(r,y,{mightBeForeignElement:!_||!!o,injectedText:o})}static _doHitTestWithCaretRangeFromPoint(e,t){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),r=e.getVerticalOffsetForLineNumber(i),o=r+e.lineHeight;if(!(i===e.viewModel.getLineCount()&&t.mouseVerticalOffset>o)){const a=Math.floor((r+o)/2);let l=t.pos.y+(a-t.mouseVerticalOffset);l<=t.editorPos.y&&(l=t.editorPos.y+1),l>=t.editorPos.y+t.editorPos.height&&(l=t.editorPos.y+t.editorPos.height-1);const c=new KP(t.pos.x,l),d=this._actualDoHitTestWithCaretRangeFromPoint(e,c.toClientCoordinates(ht(e.viewDomNode)));if(d.type===1)return d}return this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates(ht(e.viewDomNode)))}static _actualDoHitTestWithCaretRangeFromPoint(e,t){const i=Gm(e.viewDomNode);let r;if(i?typeof i.caretRangeFromPoint>"u"?r=TPe(i,t.clientX,t.clientY):r=i.caretRangeFromPoint(t.clientX,t.clientY):r=e.viewDomNode.ownerDocument.caretRangeFromPoint(t.clientX,t.clientY),!r||!r.startContainer)return new pf;const o=r.startContainer;if(o.nodeType===o.TEXT_NODE){const s=o.parentNode,a=s?s.parentNode:null,l=a?a.parentNode:null;return(l&&l.nodeType===l.ELEMENT_NODE?l.className:null)===Nd.CLASS_NAME?Xp.createFromDOMInfo(e,s,r.startOffset):new pf(o.parentNode)}else if(o.nodeType===o.ELEMENT_NODE){const s=o.parentNode,a=s?s.parentNode:null;return(a&&a.nodeType===a.ELEMENT_NODE?a.className:null)===Nd.CLASS_NAME?Xp.createFromDOMInfo(e,o,o.textContent.length):new pf(o)}return new pf}static _doHitTestWithCaretPositionFromPoint(e,t){const i=e.viewDomNode.ownerDocument.caretPositionFromPoint(t.clientX,t.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){const r=i.offsetNode.parentNode,o=r?r.parentNode:null,s=o?o.parentNode:null;return(s&&s.nodeType===s.ELEMENT_NODE?s.className:null)===Nd.CLASS_NAME?Xp.createFromDOMInfo(e,i.offsetNode.parentNode,i.offset):new pf(i.offsetNode.parentNode)}if(i.offsetNode.nodeType===i.offsetNode.ELEMENT_NODE){const r=i.offsetNode.parentNode,o=r&&r.nodeType===r.ELEMENT_NODE?r.className:null,s=r?r.parentNode:null,a=s&&s.nodeType===s.ELEMENT_NODE?s.className:null;if(o===Nd.CLASS_NAME){const l=i.offsetNode.childNodes[Math.min(i.offset,i.offsetNode.childNodes.length-1)];if(l)return Xp.createFromDOMInfo(e,l,0)}else if(a===Nd.CLASS_NAME)return Xp.createFromDOMInfo(e,i.offsetNode,0)}return new pf(i.offsetNode)}static _snapToSoftTabBoundary(e,t){const i=t.getLineContent(e.lineNumber),{tabSize:r}=t.model.getOptions(),o=rS.atomicPosition(i,e.column-1,r,2);return o!==-1?new re(e.lineNumber,o+1):e}static _doHitTest(e,t){let i=new pf;if(typeof e.viewDomNode.ownerDocument.caretRangeFromPoint=="function"?i=this._doHitTestWithCaretRangeFromPoint(e,t):e.viewDomNode.ownerDocument.caretPositionFromPoint&&(i=this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates(ht(e.viewDomNode)))),i.type===1){const r=e.viewModel.getInjectedTextAt(i.position),o=e.viewModel.normalizePosition(i.position,2);(r||!o.equals(i.position))&&(i=new Sle(o,i.spanNode,r))}return i}}function TPe(n,e,t){const i=document.createRange();let r=n.elementFromPoint(e,t);if(r!==null){for(;r&&r.firstChild&&r.firstChild.nodeType!==r.firstChild.TEXT_NODE&&r.lastChild&&r.lastChild.firstChild;)r=r.lastChild;const o=r.getBoundingClientRect(),s=ht(r),a=s.getComputedStyle(r,null).getPropertyValue("font-style"),l=s.getComputedStyle(r,null).getPropertyValue("font-variant"),c=s.getComputedStyle(r,null).getPropertyValue("font-weight"),d=s.getComputedStyle(r,null).getPropertyValue("font-size"),u=s.getComputedStyle(r,null).getPropertyValue("line-height"),h=s.getComputedStyle(r,null).getPropertyValue("font-family"),f=`${a} ${l} ${c} ${d}/${u} ${h}`,g=r.innerText;let _=o.left,y=0,m;if(e>o.left+o.width)y=g.length;else{const p=um.getInstance();for(let v=0;v<g.length+1;v++){if(m=p.getCharWidth(g.charAt(v),f)/2,_+=m,e<_){y=v;break}_+=m}}i.setStart(r.firstChild,y),i.setEnd(r.firstChild,y)}return i}class um{static getInstance(){return um._INSTANCE||(um._INSTANCE=new um),um._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(e,t){const i=e+t;if(this._cache[i])return this._cache[i];const r=this._canvas.getContext("2d");r.font=t;const s=r.measureText(e).width;return this._cache[i]=s,s}}um._INSTANCE=null;function Mn(n,e,t){let i=null,r=null;if(typeof t.value=="function"?(i="value",r=t.value,r.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof t.get=="function"&&(i="get",r=t.get),!r)throw new Error("not supported");const o=`$memoize$${e}`;t[i]=function(...s){return this.hasOwnProperty(o)||Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:r.apply(this,s)}),this[o]}}var EPe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Ii;(function(n){n.Tap="-monaco-gesturetap",n.Change="-monaco-gesturechange",n.Start="-monaco-gesturestart",n.End="-monaco-gesturesend",n.Contextmenu="-monaco-gesturecontextmenu"})(Ii||(Ii={}));class Ei extends ce{constructor(){super(),this.dispatched=!1,this.targets=new Fo,this.ignoreTargets=new Fo,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(Ve.runAndSubscribe(MP,({window:e,disposables:t})=>{t.add(ge(e.document,"touchstart",i=>this.onTouchStart(i),{passive:!1})),t.add(ge(e.document,"touchend",i=>this.onTouchEnd(e,i))),t.add(ge(e.document,"touchmove",i=>this.onTouchMove(i),{passive:!1}))},{window:wi,disposables:this._store}))}static addTarget(e){if(!Ei.isTouchDevice())return ce.None;Ei.INSTANCE||(Ei.INSTANCE=new Ei);const t=Ei.INSTANCE.targets.push(e);return at(t)}static ignoreTarget(e){if(!Ei.isTouchDevice())return ce.None;Ei.INSTANCE||(Ei.INSTANCE=new Ei);const t=Ei.INSTANCE.ignoreTargets.push(e);return at(t)}static isTouchDevice(){return"ontouchstart"in wi||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){const t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,r=e.targetTouches.length;i<r;i++){const o=e.targetTouches.item(i);this.activeTouches[o.identifier]={id:o.identifier,initialTarget:o.target,initialTimeStamp:t,initialPageX:o.pageX,initialPageY:o.pageY,rollingTimestamps:[t],rollingPageX:[o.pageX],rollingPageY:[o.pageY]};const s=this.newGestureEvent(Ii.Start,o.target);s.pageX=o.pageX,s.pageY=o.pageY,this.dispatchEvent(s)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e,t){const i=Date.now(),r=Object.keys(this.activeTouches).length;for(let o=0,s=t.changedTouches.length;o<s;o++){const a=t.changedTouches.item(o);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("move of an UNKNOWN touch",a);continue}const l=this.activeTouches[a.identifier],c=Date.now()-l.initialTimeStamp;if(c<Ei.HOLD_DELAY&&Math.abs(l.initialPageX-Fa(l.rollingPageX))<30&&Math.abs(l.initialPageY-Fa(l.rollingPageY))<30){const d=this.newGestureEvent(Ii.Tap,l.initialTarget);d.pageX=Fa(l.rollingPageX),d.pageY=Fa(l.rollingPageY),this.dispatchEvent(d)}else if(c>=Ei.HOLD_DELAY&&Math.abs(l.initialPageX-Fa(l.rollingPageX))<30&&Math.abs(l.initialPageY-Fa(l.rollingPageY))<30){const d=this.newGestureEvent(Ii.Contextmenu,l.initialTarget);d.pageX=Fa(l.rollingPageX),d.pageY=Fa(l.rollingPageY),this.dispatchEvent(d)}else if(r===1){const d=Fa(l.rollingPageX),u=Fa(l.rollingPageY),h=Fa(l.rollingTimestamps)-l.rollingTimestamps[0],f=d-l.rollingPageX[0],g=u-l.rollingPageY[0],_=[...this.targets].filter(y=>l.initialTarget instanceof Node&&y.contains(l.initialTarget));this.inertia(e,_,i,Math.abs(f)/h,f>0?1:-1,d,Math.abs(g)/h,g>0?1:-1,u)}this.dispatchEvent(this.newGestureEvent(Ii.End,l.initialTarget)),delete this.activeTouches[a.identifier]}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){const i=document.createEvent("CustomEvent");return i.initEvent(e,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(e){if(e.type===Ii.Tap){const t=new Date().getTime();let i=0;t-this._lastSetTapCountTime>Ei.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=t,e.tapCount=i}else(e.type===Ii.Change||e.type===Ii.Contextmenu)&&(this._lastSetTapCountTime=0);if(e.initialTarget instanceof Node){for(const t of this.ignoreTargets)if(t.contains(e.initialTarget))return;for(const t of this.targets)t.contains(e.initialTarget)&&(t.dispatchEvent(e),this.dispatched=!0)}}inertia(e,t,i,r,o,s,a,l,c){this.handle=Hs(e,()=>{const d=Date.now(),u=d-i;let h=0,f=0,g=!0;r+=Ei.SCROLL_FRICTION*u,a+=Ei.SCROLL_FRICTION*u,r>0&&(g=!1,h=o*r*u),a>0&&(g=!1,f=l*a*u);const _=this.newGestureEvent(Ii.Change);_.translationX=h,_.translationY=f,t.forEach(y=>y.dispatchEvent(_)),g||this.inertia(e,t,d,r,o,s+h,a,l,c+f)})}onTouchMove(e){const t=Date.now();for(let i=0,r=e.changedTouches.length;i<r;i++){const o=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(o.identifier))){console.warn("end of an UNKNOWN touch",o);continue}const s=this.activeTouches[o.identifier],a=this.newGestureEvent(Ii.Change,s.initialTarget);a.translationX=o.pageX-Fa(s.rollingPageX),a.translationY=o.pageY-Fa(s.rollingPageY),a.pageX=o.pageX,a.pageY=o.pageY,this.dispatchEvent(a),s.rollingPageX.length>3&&(s.rollingPageX.shift(),s.rollingPageY.shift(),s.rollingTimestamps.shift()),s.rollingPageX.push(o.pageX),s.rollingPageY.push(o.pageY),s.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}}Ei.SCROLL_FRICTION=-.005;Ei.HOLD_DELAY=700;Ei.CLEAR_TAP_COUNT_TIME=400;EPe([Mn],Ei,"isTouchDevice",null);let Na=class extends ce{onclick(e,t){this._register(ge(e,Ne.CLICK,i=>t(new Ml(ht(e),i))))}onmousedown(e,t){this._register(ge(e,Ne.MOUSE_DOWN,i=>t(new Ml(ht(e),i))))}onmouseover(e,t){this._register(ge(e,Ne.MOUSE_OVER,i=>t(new Ml(ht(e),i))))}onmouseleave(e,t){this._register(ge(e,Ne.MOUSE_LEAVE,i=>t(new Ml(ht(e),i))))}onkeydown(e,t){this._register(ge(e,Ne.KEY_DOWN,i=>t(new Oi(i))))}onkeyup(e,t){this._register(ge(e,Ne.KEY_UP,i=>t(new Oi(i))))}oninput(e,t){this._register(ge(e,Ne.INPUT,t))}onblur(e,t){this._register(ge(e,Ne.BLUR,t))}onfocus(e,t){this._register(ge(e,Ne.FOCUS,t))}ignoreGesture(e){return Ei.ignoreTarget(e)}};const Pb=11;class IPe extends Na{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top<"u"&&(this.bgDomNode.style.top="0px"),typeof e.left<"u"&&(this.bgDomNode.style.left="0px"),typeof e.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof e.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...lt.asClassNameArray(e.icon)),this.domNode.style.position="absolute",this.domNode.style.width=Pb+"px",this.domNode.style.height=Pb+"px",typeof e.top<"u"&&(this.domNode.style.top=e.top+"px"),typeof e.left<"u"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom<"u"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right<"u"&&(this.domNode.style.right=e.right+"px"),this._pointerMoveMonitor=this._register(new Sy),this._register(kn(this.bgDomNode,Ne.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._register(kn(this.domNode,Ne.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._pointerdownRepeatTimer=this._register(new g6),this._pointerdownScheduleRepeatTimer=this._register(new Kl)}_arrowPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,ht(e))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(t,200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,i=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),e.preventDefault()}}class NPe extends ce{constructor(e,t,i){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new Kl)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var e;(e=this._domNode)===null||e===void 0||e.setClassName(this._visibleClassName)},0))}_hide(e){var t;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(t=this._domNode)===null||t===void 0||t.setClassName(this._invisibleClassName+(e?" fade":"")))}}const PPe=140;class xle extends Na{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new NPe(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new Sy),this._shouldRender=!0,this.domNode=pi(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(ge(this.domNode.domNode,Ne.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(e){const t=this._register(new IPe(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,i,r){this.slider=pi(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),typeof i=="number"&&this.slider.setWidth(i),typeof r=="number"&&this.slider.setHeight(r),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(ge(this.slider.domNode,Ne.POINTER_DOWN,o=>{o.button===0&&(o.preventDefault(),this._sliderPointerDown(o))})),this.onclick(this.slider.domNode,o=>{o.leftButton&&o.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}delegatePointerDown(e){const t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),r=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderPointerPosition(e);i<=o&&o<=r?e.button===0&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}_onPointerDown(e){let t,i;if(e.target===this.domNode.domNode&&typeof e.offsetX=="number"&&typeof e.offsetY=="number")t=e.offsetX,i=e.offsetY;else{const o=Vn(this.domNode.domNode);t=e.pageX-o.left,i=e.pageY-o.top}const r=this._pointerDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(r):this._scrollbarState.getDesiredScrollPositionFromOffset(r)),e.button===0&&(e.preventDefault(),this._sliderPointerDown(e))}_sliderPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=this._sliderPointerPosition(e),i=this._sliderOrthogonalPointerPosition(e),r=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,o=>{const s=this._sliderOrthogonalPointerPosition(o),a=Math.abs(s-i);if(no&&a>PPe){this._setDesiredScrollPositionNow(r.getScrollPosition());return}const c=this._sliderPointerPosition(o)-t;this._setDesiredScrollPositionNow(r.getDesiredScrollPositionFromDelta(c))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){const t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}const MPe=20;class Mb{constructor(e,t,i,r,o,s){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=r,this._scrollSize=o,this._scrollPosition=s,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new Mb(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){const t=Math.round(e);return this._visibleSize!==t?(this._visibleSize=t,this._refreshComputedValues(),!0):!1}setScrollSize(e){const t=Math.round(e);return this._scrollSize!==t?(this._scrollSize=t,this._refreshComputedValues(),!0):!1}setScrollPosition(e){const t=Math.round(e);return this._scrollPosition!==t?(this._scrollPosition=t,this._refreshComputedValues(),!0):!1}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,i,r,o){const s=Math.max(0,i-e),a=Math.max(0,s-2*t),l=r>0&&r>i;if(!l)return{computedAvailableSize:Math.round(s),computedIsNeeded:l,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};const c=Math.round(Math.max(MPe,Math.floor(i*a/r))),d=(a-c)/(r-i),u=o*d;return{computedAvailableSize:Math.round(s),computedIsNeeded:l,computedSliderSize:Math.round(c),computedSliderRatio:d,computedSliderPosition:Math.round(u)}}_refreshComputedValues(){const e=Mb._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize;let i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;const t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}class RPe extends xle{constructor(e,t,i){const r=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new Mb(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===2?0:t.horizontalScrollbarSize,t.vertical===2?0:t.verticalScrollbarSize,r.width,r.scrollWidth,o.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){const s=(t.arrowSize-Pb)/2,a=(t.horizontalScrollbarSize-Pb)/2;this._createArrow({className:"scra",icon:Ae.scrollbarButtonLeft,top:a,left:s,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new Km(null,1,0))}),this._createArrow({className:"scra",icon:Ae.scrollbarButtonRight,top:a,left:void 0,bottom:void 0,right:s,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new Km(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(e.horizontal===2?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}class APe extends xle{constructor(e,t,i){const r=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new Mb(t.verticalHasArrows?t.arrowSize:0,t.vertical===2?0:t.verticalScrollbarSize,0,r.height,r.scrollHeight,o.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){const s=(t.arrowSize-Pb)/2,a=(t.verticalScrollbarSize-Pb)/2;this._createArrow({className:"scra",icon:Ae.scrollbarButtonUp,top:s,left:a,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new Km(null,0,1))}),this._createArrow({className:"scra",icon:Ae.scrollbarButtonDown,top:void 0,left:a,bottom:s,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new Km(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return t}_sliderPointerPosition(e){return e.pageY}_sliderOrthogonalPointerPosition(e){return e.pageX}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}class tI{constructor(e,t,i,r,o,s,a){this._forceIntegerValues=e,this._scrollStateBrand=void 0,this._forceIntegerValues&&(t=t|0,i=i|0,r=r|0,o=o|0,s=s|0,a=a|0),this.rawScrollLeft=r,this.rawScrollTop=a,t<0&&(t=0),r+t>i&&(r=i-t),r<0&&(r=0),o<0&&(o=0),a+o>s&&(a=s-o),a<0&&(a=0),this.width=t,this.scrollWidth=i,this.scrollLeft=r,this.height=o,this.scrollHeight=s,this.scrollTop=a}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new tI(this._forceIntegerValues,typeof e.width<"u"?e.width:this.width,typeof e.scrollWidth<"u"?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof e.height<"u"?e.height:this.height,typeof e.scrollHeight<"u"?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new tI(this._forceIntegerValues,this.width,this.scrollWidth,typeof e.scrollLeft<"u"?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof e.scrollTop<"u"?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){const i=this.width!==e.width,r=this.scrollWidth!==e.scrollWidth,o=this.scrollLeft!==e.scrollLeft,s=this.height!==e.height,a=this.scrollHeight!==e.scrollHeight,l=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:r,scrollLeftChanged:o,heightChanged:s,scrollHeightChanged:a,scrollTopChanged:l}}}class xy extends ce{constructor(e){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new ne),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new tI(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){var i;const r=this._state.withScrollDimensions(e,t);this._setState(r,!!this._smoothScrolling),(i=this._smoothScrolling)===null||i===void 0||i.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){const t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop>"u"?this._smoothScrolling.to.scrollTop:e.scrollTop};const i=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let r;t?r=new oS(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):r=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=r}else{const i=this._state.withScrollPosition(e);this._smoothScrolling=oS.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,t){const i=this._state;i.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(i,t)))}}class YK{constructor(e,t,i){this.scrollLeft=e,this.scrollTop=t,this.isDone=i}}function VA(n,e){const t=e-n;return function(i){return n+t*BPe(i)}}function OPe(n,e,t){return function(i){return i<t?n(i/t):e((i-t)/(1-t))}}class oS{constructor(e,t,i,r){this.from=e,this.to=t,this.duration=r,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,i){if(Math.abs(e-t)>2.5*i){let o,s;return e<t?(o=e+.75*i,s=t-.75*i):(o=e-.75*i,s=t+.75*i),OPe(VA(e,o),VA(s,t),.33)}return VA(e,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){const t=(e-this.startTime)/this.duration;if(t<1){const i=this.scrollLeft(t),r=this.scrollTop(t);return new YK(i,r,!1)}return new YK(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,i){return oS.start(e,t,i)}static start(e,t,i){i=i+10;const r=Date.now()-10;return new oS(e,t,r,i)}}function FPe(n){return Math.pow(n,3)}function BPe(n){return 1-FPe(1-n)}const WPe=500,XK=50;class VPe{constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}}class iI{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let e=1,t=0,i=1,r=this._rear;do{const o=r===this._front?e:Math.pow(2,-i);if(e-=o,t+=this._memory[r].score*o,r===this._front)break;r=(this._capacity+r-1)%this._capacity,i++}while(!0);return t<=.5}acceptStandardWheelEvent(e){if(Cm){const t=ht(e.browserEvent),i=oke(t);this.accept(Date.now(),e.deltaX*i,e.deltaY*i)}else this.accept(Date.now(),e.deltaX,e.deltaY)}accept(e,t,i){const r=new VPe(e,t,i);r.score=this._computeScore(r),this._front===-1&&this._rear===-1?(this._memory[0]=r,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=r)}_computeScore(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let t=.5;return this._front===-1&&this._rear===-1||this._memory[this._rear],(!this._isAlmostInt(e.deltaX)||!this._isAlmostInt(e.deltaY))&&(t+=.25),Math.min(Math.max(t,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}}iI.INSTANCE=new iI;class j6 extends Na{get options(){return this._options}constructor(e,t,i){super(),this._onScroll=this._register(new ne),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new ne),e.style.overflow="hidden",this._options=HPe(t),this._scrollable=i,this._register(this._scrollable.onScroll(o=>{this._onWillScroll.fire(o),this._onDidScroll(o),this._onScroll.fire(o)}));const r={onMouseWheel:o=>this._onMouseWheel(o),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new APe(this._scrollable,this._options,r)),this._horizontalScrollbar=this._register(new RPe(this._scrollable,this._options,r)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=pi(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=pi(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=pi(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,o=>this._onMouseOver(o)),this.onmouseleave(this._listenOnDomNode,o=>this._onMouseLeave(o)),this._hideTimeout=this._register(new Kl),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=vi(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(e){this._verticalScrollbar.delegatePointerDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,qt&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel<"u"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal<"u"&&(this._options.horizontal=e.horizontal),typeof e.vertical<"u"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage<"u"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(e){this._onMouseWheel(new Km(e))}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=vi(this._mouseWheelToDispose),e)){const i=r=>{this._onMouseWheel(new Km(r))};this._mouseWheelToDispose.push(ge(this._listenOnDomNode,Ne.MOUSE_WHEEL,i,{passive:!1}))}}_onMouseWheel(e){var t;if(!((t=e.browserEvent)===null||t===void 0)&&t.defaultPrevented)return;const i=iI.INSTANCE;i.acceptStandardWheelEvent(e);let r=!1;if(e.deltaY||e.deltaX){let s=e.deltaY*this._options.mouseWheelScrollSensitivity,a=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&a+s===0?a=s=0:Math.abs(s)>=Math.abs(a)?a=0:s=0),this._options.flipAxes&&([s,a]=[a,s]);const l=!qt&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||l)&&!a&&(a=s,s=0),e.browserEvent&&e.browserEvent.altKey&&(a=a*this._options.fastScrollSensitivity,s=s*this._options.fastScrollSensitivity);const c=this._scrollable.getFutureScrollPosition();let d={};if(s){const u=XK*s,h=c.scrollTop-(u<0?Math.floor(u):Math.ceil(u));this._verticalScrollbar.writeScrollPosition(d,h)}if(a){const u=XK*a,h=c.scrollLeft-(u<0?Math.floor(u):Math.ceil(u));this._horizontalScrollbar.writeScrollPosition(d,h)}d=this._scrollable.validateScrollPosition(d),(c.scrollLeft!==d.scrollLeft||c.scrollTop!==d.scrollTop)&&(this._options.mouseWheelSmoothScroll&&i.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(d):this._scrollable.setScrollPositionNow(d),r=!0)}let o=r;!o&&this._options.alwaysConsumeMouseWheel&&(o=!0),!o&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(o=!0),o&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,r=i?" left":"",o=t?" top":"",s=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${r}`),this._topShadowDomNode.setClassName(`shadow${o}`),this._topLeftShadowDomNode.setClassName(`shadow${s}${o}${r}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),WPe)}}class Lle extends j6{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;const i=new xy({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:r=>Hs(ht(e),r)});super(e,t,i),this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}}class ZP extends j6{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class jx extends j6{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;const i=new xy({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:r=>Hs(ht(e),r)});super(e,t,i),this._register(i),this._element=e,this._register(this.onScroll(r=>{r.scrollTopChanged&&(this._element.scrollTop=r.scrollTop),r.scrollLeftChanged&&(this._element.scrollLeft=r.scrollLeft)})),this.scanDomNode()}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function HPe(n){const e={lazyRender:typeof n.lazyRender<"u"?n.lazyRender:!1,className:typeof n.className<"u"?n.className:"",useShadows:typeof n.useShadows<"u"?n.useShadows:!0,handleMouseWheel:typeof n.handleMouseWheel<"u"?n.handleMouseWheel:!0,flipAxes:typeof n.flipAxes<"u"?n.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof n.consumeMouseWheelIfScrollbarIsNeeded<"u"?n.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof n.alwaysConsumeMouseWheel<"u"?n.alwaysConsumeMouseWheel:!1,scrollYToX:typeof n.scrollYToX<"u"?n.scrollYToX:!1,mouseWheelScrollSensitivity:typeof n.mouseWheelScrollSensitivity<"u"?n.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof n.fastScrollSensitivity<"u"?n.fastScrollSensitivity:5,scrollPredominantAxis:typeof n.scrollPredominantAxis<"u"?n.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof n.mouseWheelSmoothScroll<"u"?n.mouseWheelSmoothScroll:!0,arrowSize:typeof n.arrowSize<"u"?n.arrowSize:11,listenOnDomNode:typeof n.listenOnDomNode<"u"?n.listenOnDomNode:null,horizontal:typeof n.horizontal<"u"?n.horizontal:1,horizontalScrollbarSize:typeof n.horizontalScrollbarSize<"u"?n.horizontalScrollbarSize:10,horizontalSliderSize:typeof n.horizontalSliderSize<"u"?n.horizontalSliderSize:0,horizontalHasArrows:typeof n.horizontalHasArrows<"u"?n.horizontalHasArrows:!1,vertical:typeof n.vertical<"u"?n.vertical:1,verticalScrollbarSize:typeof n.verticalScrollbarSize<"u"?n.verticalScrollbarSize:10,verticalHasArrows:typeof n.verticalHasArrows<"u"?n.verticalHasArrows:!1,verticalSliderSize:typeof n.verticalSliderSize<"u"?n.verticalSliderSize:0,scrollByPage:typeof n.scrollByPage<"u"?n.scrollByPage:!1};return e.horizontalSliderSize=typeof n.horizontalSliderSize<"u"?n.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof n.verticalSliderSize<"u"?n.verticalSliderSize:e.verticalScrollbarSize,qt&&(e.className+=" mac"),e}class U6 extends zx{constructor(e,t,i){super(),this._mouseLeaveMonitor=null,this._context=e,this.viewController=t,this.viewHelper=i,this.mouseTargetFactory=new Br(this._context,i),this._mouseDownOperation=this._register(new zPe(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(s,a)=>this._createMouseTarget(s,a),s=>this._getMouseColumn(s))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(143).height;const r=new fPe(this.viewHelper.viewDomNode);this._register(r.onContextMenu(this.viewHelper.viewDomNode,s=>this._onContextMenu(s,!0))),this._register(r.onMouseMove(this.viewHelper.viewDomNode,s=>{this._onMouseMove(s),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=ge(this.viewHelper.viewDomNode.ownerDocument,"mousemove",a=>{this.viewHelper.viewDomNode.contains(a.target)||this._onMouseLeave(new Wg(a,!1,this.viewHelper.viewDomNode))}))})),this._register(r.onMouseUp(this.viewHelper.viewDomNode,s=>this._onMouseUp(s))),this._register(r.onMouseLeave(this.viewHelper.viewDomNode,s=>this._onMouseLeave(s)));let o=0;this._register(r.onPointerDown(this.viewHelper.viewDomNode,(s,a)=>{o=a})),this._register(ge(this.viewHelper.viewDomNode,Ne.POINTER_UP,s=>{this._mouseDownOperation.onPointerUp()})),this._register(r.onMouseDown(this.viewHelper.viewDomNode,s=>this._onMouseDown(s,o))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const e=iI.INSTANCE;let t=0,i=za.getZoomLevel(),r=!1,o=0;const s=l=>{if(this.viewController.emitMouseWheel(l),!this._context.configuration.options.get(75))return;const c=new Km(l);if(e.acceptStandardWheelEvent(c),e.isPhysicalMouseWheel()){if(a(l)){const d=za.getZoomLevel(),u=c.deltaY>0?1:-1;za.setZoomLevel(d+u),c.preventDefault(),c.stopPropagation()}}else Date.now()-t>50&&(i=za.getZoomLevel(),r=a(l),o=0),t=Date.now(),o+=c.deltaY,r&&(za.setZoomLevel(i+o/5),c.preventDefault(),c.stopPropagation())};this._register(ge(this.viewHelper.viewDomNode,Ne.MOUSE_WHEEL,s,{capture:!0,passive:!1}));function a(l){return qt?(l.metaKey||l.ctrlKey)&&!l.shiftKey&&!l.altKey:l.ctrlKey&&!l.metaKey&&!l.shiftKey&&!l.altKey}}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(143)){const t=this._context.configuration.options.get(143).height;this._height!==t&&(this._height=t,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}getTargetAtClientPoint(e,t){const r=new yle(e,t).toPageCoordinates(ht(this.viewHelper.viewDomNode)),o=W6(this.viewHelper.viewDomNode);if(r.y<o.y||r.y>o.y+o.height||r.x<o.x||r.x>o.x+o.width)return null;const s=V6(this.viewHelper.viewDomNode,o,r);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),o,r,s,null)}_createMouseTarget(e,t){let i=e.target;if(!this.viewHelper.viewDomNode.contains(i)){const r=Gm(this.viewHelper.viewDomNode);r&&(i=r.elementsFromPoint(e.posx,e.posy).find(o=>this.viewHelper.viewDomNode.contains(o)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,e.relativePos,t?i:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.relativePos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){this.mouseTargetFactory.mouseTargetIsWidget(e)||e.preventDefault(),!(this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e,t){const i=this._createMouseTarget(e,!0),r=i.type===6||i.type===7,o=i.type===2||i.type===3||i.type===4,s=i.type===3,a=this._context.configuration.options.get(108),l=i.type===8||i.type===5,c=i.type===9;let d=e.leftButton||e.middleButton;qt&&e.leftButton&&e.ctrlKey&&(d=!1);const u=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(d&&(r||s&&a))u(),this._mouseDownOperation.start(i.type,e,t);else if(o)e.preventDefault();else if(l){const h=i.detail;d&&this.viewHelper.shouldSuppressMouseDownOnViewZone(h.viewZoneId)&&(u(),this._mouseDownOperation.start(i.type,e,t),e.preventDefault())}else c&&this.viewHelper.shouldSuppressMouseDownOnWidget(i.detail)&&(u(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:i})}}class zPe extends ce{constructor(e,t,i,r,o,s){super(),this._context=e,this._viewController=t,this._viewHelper=i,this._mouseTargetFactory=r,this._createMouseTarget=o,this._getMouseColumn=s,this._mouseMoveMonitor=this._register(new pPe(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new jPe(this._context,this._viewHelper,this._mouseTargetFactory,(a,l,c)=>this._dispatchMouse(a,l,c))),this._mouseState=new YP,this._currentSelection=new Ke(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const t=this._findMousePosition(e,!1);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):t.type===13&&(t.outsidePosition==="above"||t.outsidePosition==="below")?this._topBottomDragScrolling.start(t,e):(this._topBottomDragScrolling.stop(),this._dispatchMouse(t,!0,1)))}start(e,t,i){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(e===3),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const r=this._findMousePosition(t,!0);if(!r||!r.position)return;this._mouseState.trySetCount(t.detail,r.position),t.detail=this._mouseState.count;const o=this._context.configuration.options;if(!o.get(90)&&o.get(35)&&!o.get(22)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&r.type===6&&r.position&&this._currentSelection.containsPosition(r.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,i,t.buttons,s=>this._onMouseDownThenMove(s),s=>{const a=this._findMousePosition(this._lastMouseEvent,!1);_6(s)?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:a?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(r,t.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,i,t.buttons,s=>this._onMouseDownThenMove(s),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const t=e.editorPos,i=this._context.viewModel,r=this._context.viewLayout,o=this._getMouseColumn(e);if(e.posy<t.y){const a=t.y-e.posy,l=Math.max(r.getCurrentScrollTop()-a,0),c=Nb.getZoneAtCoord(this._context,l);if(c){const u=this._helpPositionJumpOverViewZone(c);if(u)return bo.createOutsideEditor(o,u,"above",a)}const d=r.getLineNumberAtVerticalOffset(l);return bo.createOutsideEditor(o,new re(d,1),"above",a)}if(e.posy>t.y+t.height){const a=e.posy-t.y-t.height,l=r.getCurrentScrollTop()+e.relativePos.y,c=Nb.getZoneAtCoord(this._context,l);if(c){const u=this._helpPositionJumpOverViewZone(c);if(u)return bo.createOutsideEditor(o,u,"below",a)}const d=r.getLineNumberAtVerticalOffset(l);return bo.createOutsideEditor(o,new re(d,i.getLineMaxColumn(d)),"below",a)}const s=r.getLineNumberAtVerticalOffset(r.getCurrentScrollTop()+e.relativePos.y);if(e.posx<t.x){const a=t.x-e.posx;return bo.createOutsideEditor(o,new re(s,1),"left",a)}if(e.posx>t.x+t.width){const a=e.posx-t.x-t.width;return bo.createOutsideEditor(o,new re(s,i.getLineMaxColumn(s)),"right",a)}return null}_findMousePosition(e,t){const i=this._getPositionOutsideEditor(e);if(i)return i;const r=this._createMouseTarget(e,t);if(!r.position)return null;if(r.type===8||r.type===5){const s=this._helpPositionJumpOverViewZone(r.detail);if(s)return bo.createViewZone(r.type,r.element,r.mouseColumn,s,r.detail)}return r}_helpPositionJumpOverViewZone(e){const t=new re(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=e.positionBefore,r=e.positionAfter;return i&&r?i.isBefore(t)?i:r:null}_dispatchMouse(e,t,i){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:i,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:e.type===6&&e.detail.injectedText!==null})}}class jPe extends ce{constructor(e,t,i,r){super(),this._context=e,this._viewHelper=t,this._mouseTargetFactory=i,this._dispatchMouse=r,this._operation=null}dispose(){super.dispose(),this.stop()}start(e,t){this._operation?this._operation.setPosition(e,t):this._operation=new UPe(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,e,t)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class UPe extends ce{constructor(e,t,i,r,o,s){super(),this._context=e,this._viewHelper=t,this._mouseTargetFactory=i,this._dispatchMouse=r,this._position=o,this._mouseEvent=s,this._lastTime=Date.now(),this._animationFrameDisposable=Hs(ht(s.browserEvent),()=>this._execute())}dispose(){this._animationFrameDisposable.dispose(),super.dispose()}setPosition(e,t){this._position=e,this._mouseEvent=t}_tick(){const e=Date.now(),t=e-this._lastTime;return this._lastTime=e,t}_getScrollSpeed(){const e=this._context.configuration.options.get(66),t=this._context.configuration.options.get(143).height/e,i=this._position.outsideDistance/e;return i<=1.5?Math.max(30,t*(1+i)):i<=3?Math.max(60,t*(2+i)):Math.max(200,t*(7+i))}_execute(){const e=this._context.configuration.options.get(66),t=this._getScrollSpeed(),i=this._tick(),r=t*(i/1e3)*e,o=this._position.outsidePosition==="above"?-r:r;this._context.viewModel.viewLayout.deltaScrollNow(0,o),this._viewHelper.renderNow();const s=this._context.viewLayout.getLinesViewportData(),a=this._position.outsidePosition==="above"?s.startLineNumber:s.endLineNumber;let l;{const c=W6(this._viewHelper.viewDomNode),d=this._context.configuration.options.get(143).horizontalScrollbarHeight,u=new KP(this._mouseEvent.pos.x,c.y+c.height-d-.1),h=V6(this._viewHelper.viewDomNode,c,u);l=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),c,u,h,null)}(!l.position||l.position.lineNumber!==a)&&(this._position.outsidePosition==="above"?l=bo.createOutsideEditor(this._position.mouseColumn,new re(a,1),"above",this._position.outsideDistance):l=bo.createOutsideEditor(this._position.mouseColumn,new re(a,this._context.viewModel.getLineMaxColumn(a)),"below",this._position.outsideDistance)),this._dispatchMouse(l,!0,2),this._animationFrameDisposable=Hs(ht(l.element),()=>this._execute())}}class YP{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){const i=new Date().getTime();i-this._lastSetMouseDownCountTime>YP.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=i,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}YP.CLEAR_MOUSE_DOWN_COUNT_TIME=400;class $t{get event(){return this.emitter.event}constructor(e,t,i){const r=o=>this.emitter.fire(o);this.emitter=new ne({onWillAddFirstListener:()=>e.addEventListener(t,r,i),onDidRemoveLastListener:()=>e.removeEventListener(t,r,i)})}dispose(){this.emitter.dispose()}}class Er{constructor(e,t,i,r,o){this.value=e,this.selectionStart=t,this.selectionEnd=i,this.selection=r,this.newlineCountBeforeSelection=o}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(e,t){const i=e.getValue(),r=e.getSelectionStart(),o=e.getSelectionEnd();let s;if(t){const a=i.substring(0,r),l=t.value.substring(0,t.selectionStart);a===l&&(s=t.newlineCountBeforeSelection)}return new Er(i,r,o,null,s)}collapseSelection(){return this.selectionStart===this.value.length?this:new Er(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(e,t,i){t.setValue(e,this.value),i&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){var t,i,r,o,s,a,l,c;if(e<=this.selectionStart){const h=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition((i=(t=this.selection)===null||t===void 0?void 0:t.getStartPosition())!==null&&i!==void 0?i:null,h,-1)}if(e>=this.selectionEnd){const h=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition((o=(r=this.selection)===null||r===void 0?void 0:r.getEndPosition())!==null&&o!==void 0?o:null,h,1)}const d=this.value.substring(this.selectionStart,e);if(d.indexOf("")===-1)return this._finishDeduceEditorPosition((a=(s=this.selection)===null||s===void 0?void 0:s.getStartPosition())!==null&&a!==void 0?a:null,d,1);const u=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition((c=(l=this.selection)===null||l===void 0?void 0:l.getEndPosition())!==null&&c!==void 0?c:null,u,-1)}_finishDeduceEditorPosition(e,t,i){let r=0,o=-1;for(;(o=t.indexOf(`
`,o+1))!==-1;)r++;return[e,i*t.length,r]}static deduceInput(e,t,i){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const r=Math.min(jm(e.value,t.value),e.selectionStart,t.selectionStart),o=Math.min(BE(e.value,t.value),e.value.length-e.selectionEnd,t.value.length-t.selectionEnd);e.value.substring(r,e.value.length-o);const s=t.value.substring(r,t.value.length-o),a=e.selectionStart-r,l=e.selectionEnd-r,c=t.selectionStart-r,d=t.selectionEnd-r;if(c===d){const h=e.selectionStart-r;return{text:s,replacePrevCharCnt:h,replaceNextCharCnt:0,positionDelta:0}}const u=l-a;return{text:s,replacePrevCharCnt:u,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};const i=Math.min(jm(e.value,t.value),e.selectionEnd),r=Math.min(BE(e.value,t.value),e.value.length-e.selectionEnd),o=e.value.substring(i,e.value.length-r),s=t.value.substring(i,t.value.length-r);e.selectionStart-i;const a=e.selectionEnd-i;t.selectionStart-i;const l=t.selectionEnd-i;return{text:s,replacePrevCharCnt:a,replaceNextCharCnt:o.length-a,positionDelta:l-s.length}}}Er.EMPTY=new Er("",0,0,null,void 0);class ov{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){const i=e*t,r=i+1,o=i+t;return new B(r,1,o+1,1)}static fromEditorSelection(e,t,i,r){const s=ov._getPageOfLine(t.startLineNumber,i),a=ov._getRangeForPage(s,i),l=ov._getPageOfLine(t.endLineNumber,i),c=ov._getRangeForPage(l,i);let d=a.intersectRanges(new B(1,1,t.startLineNumber,t.startColumn));if(r&&e.getValueLengthInRange(d,1)>500){const m=e.modifyPosition(d.getEndPosition(),-500);d=B.fromPositions(m,d.getEndPosition())}const u=e.getValueInRange(d,1),h=e.getLineCount(),f=e.getLineMaxColumn(h);let g=c.intersectRanges(new B(t.endLineNumber,t.endColumn,h,f));if(r&&e.getValueLengthInRange(g,1)>500){const m=e.modifyPosition(g.getStartPosition(),500);g=B.fromPositions(g.getStartPosition(),m)}const _=e.getValueInRange(g,1);let y;if(s===l||s+1===l)y=e.getValueInRange(t,1);else{const m=a.intersectRanges(t),p=c.intersectRanges(t);y=e.getValueInRange(m,1)+""+e.getValueInRange(p,1)}return r&&y.length>2*500&&(y=y.substring(0,500)+""+y.substring(y.length-500,y.length)),new Er(u+y+_,u.length,u.length+y.length,t,d.endLineNumber-d.startLineNumber)}}var $Pe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},QK=function(n,e){return function(t,i){e(t,i,n)}},nI;(function(n){n.Tap="-monaco-textarea-synthetic-tap"})(nI||(nI={}));const e3={forceCopyWithSyntaxHighlighting:!1};class sS{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}}sS.INSTANCE=new sS;class qPe{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(e){e=e||"";const t={text:e,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=e.length,t}}let t3=class extends ce{get textAreaState(){return this._textAreaState}constructor(e,t,i,r,o,s){super(),this._host=e,this._textArea=t,this._OS=i,this._browser=r,this._accessibilityService=o,this._logService=s,this._onFocus=this._register(new ne),this.onFocus=this._onFocus.event,this._onBlur=this._register(new ne),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new ne),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new ne),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new ne),this.onCut=this._onCut.event,this._onPaste=this._register(new ne),this.onPaste=this._onPaste.event,this._onType=this._register(new ne),this.onType=this._onType.event,this._onCompositionStart=this._register(new ne),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new ne),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new ne),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new ne),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncFocusGainWriteScreenReaderContent=this._register(new Lr),this._asyncTriggerCut=this._register(new ki(()=>this._onCut.fire(),0)),this._textAreaState=Er.EMPTY,this._selectionChangeListener=null,this._accessibilityService.isScreenReaderOptimized()&&this.writeNativeTextAreaContent("ctor"),this._register(Ve.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>{this._accessibilityService.isScreenReaderOptimized()&&!this._asyncFocusGainWriteScreenReaderContent.value?this._asyncFocusGainWriteScreenReaderContent.value=this._register(new ki(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)):this._asyncFocusGainWriteScreenReaderContent.clear()})),this._hasFocus=!1,this._currentComposition=null;let a=null;this._register(this._textArea.onKeyDown(l=>{const c=new Oi(l);(c.keyCode===114||this._currentComposition&&c.keyCode===1)&&c.stopPropagation(),c.equals(9)&&c.preventDefault(),a=c,this._onKeyDown.fire(c)})),this._register(this._textArea.onKeyUp(l=>{const c=new Oi(l);this._onKeyUp.fire(c)})),this._register(this._textArea.onCompositionStart(l=>{const c=new qPe;if(this._currentComposition){this._currentComposition=c;return}if(this._currentComposition=c,this._OS===2&&a&&a.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===l.data&&(a.code==="ArrowRight"||a.code==="ArrowLeft")){c.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:l.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:l.data});return}this._onCompositionStart.fire({data:l.data})})),this._register(this._textArea.onCompositionUpdate(l=>{const c=this._currentComposition;if(!c)return;if(this._browser.isAndroid){const u=Er.readFromTextArea(this._textArea,this._textAreaState),h=Er.deduceAndroidCompositionInput(this._textAreaState,u);this._textAreaState=u,this._onType.fire(h),this._onCompositionUpdate.fire(l);return}const d=c.handleCompositionUpdate(l.data);this._textAreaState=Er.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(d),this._onCompositionUpdate.fire(l)})),this._register(this._textArea.onCompositionEnd(l=>{const c=this._currentComposition;if(!c)return;if(this._currentComposition=null,this._browser.isAndroid){const u=Er.readFromTextArea(this._textArea,this._textAreaState),h=Er.deduceAndroidCompositionInput(this._textAreaState,u);this._textAreaState=u,this._onType.fire(h),this._onCompositionEnd.fire();return}const d=c.handleCompositionUpdate(l.data);this._textAreaState=Er.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(d),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(l=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const c=Er.readFromTextArea(this._textArea,this._textAreaState),d=Er.deduceInput(this._textAreaState,c,this._OS===2);d.replacePrevCharCnt===0&&d.text.length===1&&(cr(d.text.charCodeAt(0))||d.text.charCodeAt(0)===127)||(this._textAreaState=c,(d.text!==""||d.replacePrevCharCnt!==0||d.replaceNextCharCnt!==0||d.positionDelta!==0)&&this._onType.fire(d))})),this._register(this._textArea.onCut(l=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(l),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(l=>{this._ensureClipboardGetsEditorSelection(l)})),this._register(this._textArea.onPaste(l=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),l.preventDefault(),!l.clipboardData)return;let[c,d]=i3.getTextData(l.clipboardData);c&&(d=d||sS.INSTANCE.get(c),this._onPaste.fire({text:c,metadata:d}))})),this._register(this._textArea.onFocus(()=>{const l=this._hasFocus;this._setHasFocus(!0),this._accessibilityService.isScreenReaderOptimized()&&this._browser.isSafari&&!l&&this._hasFocus&&(this._asyncFocusGainWriteScreenReaderContent.value||(this._asyncFocusGainWriteScreenReaderContent.value=new ki(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)),this._asyncFocusGainWriteScreenReaderContent.value.schedule())})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let e=0;return ge(this._textArea.ownerDocument,"selectionchange",t=>{if(Vf.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const i=Date.now(),r=i-e;if(e=i,r<5)return;const o=i-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),o<100||!this._textAreaState.selection)return;const s=this._textArea.getValue();if(this._textAreaState.value!==s)return;const a=this._textArea.getSelectionStart(),l=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===a&&this._textAreaState.selectionEnd===l)return;const c=this._textAreaState.deduceEditorPosition(a),d=this._host.deduceModelPosition(c[0],c[1],c[2]),u=this._textAreaState.deduceEditorPosition(l),h=this._host.deduceModelPosition(u[0],u[1],u[2]),f=new Ke(d.lineNumber,d.column,h.lineNumber,h.column);this._onSelectionChangeRequest.fire(f)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeNativeTextAreaContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeNativeTextAreaContent(e){!this._accessibilityService.isScreenReaderOptimized()&&e==="render"||this._currentComposition||(this._logService.trace(`writeTextAreaState(reason: ${e})`),this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent()))}_ensureClipboardGetsEditorSelection(e){const t=this._host.getDataToCopy(),i={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};sS.INSTANCE.set(this._browser.isFirefox?t.text.replace(/\r\n/g,`
`):t.text,i),e.preventDefault(),e.clipboardData&&i3.setTextData(e.clipboardData,t.text,t.html,i)}};t3=$Pe([QK(4,Gl),QK(5,Ks)],t3);const i3={getTextData(n){const e=n.getData(pn.text);let t=null;const i=n.getData("vscode-editor-data");if(typeof i=="string")try{t=JSON.parse(i),t.version!==1&&(t=null)}catch{}return e.length===0&&t===null&&n.files.length>0?[Array.prototype.slice.call(n.files,0).map(o=>o.name).join(`
`),null]:[e,t]},setTextData(n,e,t,i){n.setData(pn.text,e),typeof t=="string"&&n.setData("text/html",t),n.setData("vscode-editor-data",JSON.stringify(i))}};class KPe extends ce{get ownerDocument(){return this._actual.ownerDocument}constructor(e){super(),this._actual=e,this.onKeyDown=this._register(new $t(this._actual,"keydown")).event,this.onKeyUp=this._register(new $t(this._actual,"keyup")).event,this.onCompositionStart=this._register(new $t(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new $t(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new $t(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new $t(this._actual,"beforeinput")).event,this.onInput=this._register(new $t(this._actual,"input")).event,this.onCut=this._register(new $t(this._actual,"cut")).event,this.onCopy=this._register(new $t(this._actual,"copy")).event,this.onPaste=this._register(new $t(this._actual,"paste")).event,this.onFocus=this._register(new $t(this._actual,"focus")).event,this.onBlur=this._register(new $t(this._actual,"blur")).event,this._onSyntheticTap=this._register(new ne),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>Vf.onKeyDown())),this._register(this.onBeforeInput(()=>Vf.onBeforeInput())),this._register(this.onInput(()=>Vf.onInput())),this._register(this.onKeyUp(()=>Vf.onKeyUp())),this._register(ge(this._actual,nI.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const e=Gm(this._actual);return e?e.activeElement===this._actual:this._actual.isConnected?qr()===this._actual:!1}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(e,t){const i=this._actual;i.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=t)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(e,t,i){const r=this._actual;let o=null;const s=Gm(r);s?o=s.activeElement:o=qr();const a=ht(o),l=o===r,c=r.selectionStart,d=r.selectionEnd;if(l&&c===t&&d===i){nl&&a.parent!==a&&r.focus();return}if(l){this.setIgnoreSelectionChangeTime("setSelectionRange"),r.setSelectionRange(t,i),nl&&a.parent!==a&&r.focus();return}try{const u=FDe(r);this.setIgnoreSelectionChangeTime("setSelectionRange"),r.focus(),r.setSelectionRange(t,i),BDe(r,u)}catch{}}}class GPe extends U6{constructor(e,t,i){super(e,t,i),this._register(Ei.addTarget(this.viewHelper.linesContentDomNode)),this._register(ge(this.viewHelper.linesContentDomNode,Ii.Tap,o=>this.onTap(o))),this._register(ge(this.viewHelper.linesContentDomNode,Ii.Change,o=>this.onChange(o))),this._register(ge(this.viewHelper.linesContentDomNode,Ii.Contextmenu,o=>this._onContextMenu(new Wg(o,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(ge(this.viewHelper.linesContentDomNode,"pointerdown",o=>{const s=o.pointerType;if(s==="mouse"){this._lastPointerType="mouse";return}else s==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const r=new gPe(this.viewHelper.viewDomNode);this._register(r.onPointerMove(this.viewHelper.viewDomNode,o=>this._onMouseMove(o))),this._register(r.onPointerUp(this.viewHelper.viewDomNode,o=>this._onMouseUp(o))),this._register(r.onPointerLeave(this.viewHelper.viewDomNode,o=>this._onMouseLeave(o))),this._register(r.onPointerDown(this.viewHelper.viewDomNode,(o,s)=>this._onMouseDown(o,s)))}onTap(e){!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget)||(e.preventDefault(),this.viewHelper.focusTextArea(),this._dispatchGesture(e,!1))}onChange(e){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY),this._lastPointerType==="pen"&&this._dispatchGesture(e,!0)}_dispatchGesture(e,t){const i=this._createMouseTarget(new Wg(e,!1,this.viewHelper.viewDomNode),!1);i.position&&this.viewController.dispatchMouse({position:i.position,mouseColumn:i.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:e.tapCount,inSelectionMode:t,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:i.type===6&&i.detail.injectedText!==null})}_onMouseDown(e,t){e.browserEvent.pointerType!=="touch"&&super._onMouseDown(e,t)}}class ZPe extends U6{constructor(e,t,i){super(e,t,i),this._register(Ei.addTarget(this.viewHelper.linesContentDomNode)),this._register(ge(this.viewHelper.linesContentDomNode,Ii.Tap,r=>this.onTap(r))),this._register(ge(this.viewHelper.linesContentDomNode,Ii.Change,r=>this.onChange(r))),this._register(ge(this.viewHelper.linesContentDomNode,Ii.Contextmenu,r=>this._onContextMenu(new Wg(r,!1,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new Wg(e,!1,this.viewHelper.viewDomNode),!1);if(t.position){const i=document.createEvent("CustomEvent");i.initEvent(nI.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(i),this.viewController.moveTo(t.position,1)}}onChange(e){this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}}class YPe extends ce{constructor(e,t,i){super(),(jc||lxe&&Cse)&&c6.pointerEvents?this.handler=this._register(new GPe(e,t,i)):wi.TouchEvent?this.handler=this._register(new ZPe(e,t,i)):this.handler=this._register(new U6(e,t,i))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}}class P_ extends zx{}const mr=zt("themeService");function cn(n){return{id:n}}function n3(n){switch(n){case Ka.DARK:return"vs-dark";case Ka.HIGH_CONTRAST_DARK:return"hc-black";case Ka.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const kle={ThemingContribution:"base.contributions.theming"};class XPe{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new ne}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),at(()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}getThemingParticipants(){return this.themingParticipants}}const Dle=new XPe;nn.add(kle.ThemingContribution,Dle);function cl(n){return Dle.onColorThemeChange(n)}class QPe extends ce{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(t=>this.onThemeChange(t)))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}const Tle=U("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},w("lineHighlight","Background color for the highlight of line at the cursor position.")),JK=U("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:Ut},w("lineHighlightBorderBox","Background color for the border around the line at the cursor position."));U("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},w("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0);U("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:Hi,hcLight:Hi},w("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0);U("editor.symbolHighlightBackground",{dark:$d,light:$d,hcDark:null,hcLight:null},w("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0);U("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:Hi,hcLight:Hi},w("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0);const Ele=U("editorCursor.foreground",{dark:"#AEAFAD",light:ue.black,hcDark:ue.white,hcLight:"#0F4A85"},w("caret","Color of the editor cursor.")),JPe=U("editorCursor.background",null,w("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),oh=U("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},w("editorWhitespaces","Color of whitespace characters in the editor.")),eMe=U("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:ue.white,hcLight:"#292929"},w("editorLineNumbers","Color of editor line numbers.")),xk=U("editorIndentGuide.background",{dark:oh,light:oh,hcDark:oh,hcLight:oh},w("editorIndentGuides","Color of the editor indentation guides."),!1,w("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),Lk=U("editorIndentGuide.activeBackground",{dark:oh,light:oh,hcDark:oh,hcLight:oh},w("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,w("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),Ux=U("editorIndentGuide.background1",{dark:xk,light:xk,hcDark:xk,hcLight:xk},w("editorIndentGuides1","Color of the editor indentation guides (1).")),tMe=U("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorIndentGuides2","Color of the editor indentation guides (2).")),iMe=U("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorIndentGuides3","Color of the editor indentation guides (3).")),nMe=U("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorIndentGuides4","Color of the editor indentation guides (4).")),rMe=U("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorIndentGuides5","Color of the editor indentation guides (5).")),oMe=U("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorIndentGuides6","Color of the editor indentation guides (6).")),$x=U("editorIndentGuide.activeBackground1",{dark:Lk,light:Lk,hcDark:Lk,hcLight:Lk},w("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),sMe=U("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),aMe=U("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),lMe=U("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),cMe=U("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),dMe=U("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),kk=U("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:Hi,hcLight:Hi},w("editorActiveLineNumber","Color of editor active line number"),!1,w("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead."));U("editorLineNumber.activeForeground",{dark:kk,light:kk,hcDark:kk,hcLight:kk},w("editorActiveLineNumber","Color of editor active line number"));const uMe=U("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},w("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed."));U("editorRuler.foreground",{dark:"#5A5A5A",light:ue.lightgrey,hcDark:ue.white,hcLight:"#292929"},w("editorRuler","Color of the editor rulers."));U("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},w("editorCodeLensForeground","Foreground color of editor CodeLens"));U("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},w("editorBracketMatchBackground","Background color behind matching brackets"));U("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:Ut,hcLight:Ut},w("editorBracketMatchBorder","Color for matching brackets boxes"));const hMe=U("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},w("editorOverviewRulerBorder","Color of the overview ruler border.")),fMe=U("editorOverviewRuler.background",null,w("editorOverviewRulerBackground","Background color of the editor overview ruler."));U("editorGutter.background",{dark:hr,light:hr,hcDark:hr,hcLight:hr},w("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers."));U("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:ue.fromHex("#fff").transparent(.8),hcLight:Ut},w("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor."));const gMe=U("editorUnnecessaryCode.opacity",{dark:ue.fromHex("#000a"),light:ue.fromHex("#0007"),hcDark:null,hcLight:null},w("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`));U("editorGhostText.border",{dark:null,light:null,hcDark:ue.fromHex("#fff").transparent(.8),hcLight:ue.fromHex("#292929").transparent(.8)},w("editorGhostTextBorder","Border color of ghost text in the editor."));U("editorGhostText.foreground",{dark:ue.fromHex("#ffffff56"),light:ue.fromHex("#0007"),hcDark:null,hcLight:null},w("editorGhostTextForeground","Foreground color of the ghost text in the editor."));U("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},w("editorGhostTextBackground","Background color of the ghost text in the editor."));const Dk=new ue(new Xt(0,122,204,.6)),Ile=U("editorOverviewRuler.rangeHighlightForeground",{dark:Dk,light:Dk,hcDark:Dk,hcLight:Dk},w("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),pMe=U("editorOverviewRuler.errorForeground",{dark:new ue(new Xt(255,18,18,.7)),light:new ue(new Xt(255,18,18,.7)),hcDark:new ue(new Xt(255,50,50,1)),hcLight:"#B5200D"},w("overviewRuleError","Overview ruler marker color for errors.")),mMe=U("editorOverviewRuler.warningForeground",{dark:wo,light:wo,hcDark:tS,hcLight:tS},w("overviewRuleWarning","Overview ruler marker color for warnings.")),_Me=U("editorOverviewRuler.infoForeground",{dark:gs,light:gs,hcDark:iS,hcLight:iS},w("overviewRuleInfo","Overview ruler marker color for infos.")),Nle=U("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},w("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),Ple=U("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},w("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),Mle=U("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},w("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),Rle=U("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),Ale=U("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),Ole=U("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),vMe=U("editorBracketHighlight.unexpectedBracket.foreground",{dark:new ue(new Xt(255,18,18,.8)),light:new ue(new Xt(255,18,18,.8)),hcDark:new ue(new Xt(255,50,50,1)),hcLight:""},w("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),bMe=U("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),yMe=U("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),CMe=U("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),wMe=U("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),SMe=U("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),xMe=U("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),LMe=U("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),kMe=U("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),DMe=U("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),TMe=U("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),EMe=U("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),IMe=U("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));U("editorUnicodeHighlight.border",{dark:wo,light:wo,hcDark:wo,hcLight:wo},w("editorUnicodeHighlight.border","Border color used to highlight unicode characters."));U("editorUnicodeHighlight.background",{dark:yk,light:yk,hcDark:yk,hcLight:yk},w("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));cl((n,e)=>{const t=n.getColor(hr),i=n.getColor(Tle),r=i&&!i.isTransparent()?i:t;r&&e.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${r}; }`)});class qx extends P_{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new re(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(66);const t=e.get(67);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(94);const i=e.get(143);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const t=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(t);let i=!1;return this._activeLineNumber!==t.lineNumber&&(this._activeLineNumber=t.lineNumber,i=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(i=!0),i}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onDecorationsChanged(e){return e.affectsLineNumber}_getLineRenderLineNumber(e){const t=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new re(e,1));if(t.column!==1)return"";const i=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(this._renderLineNumbers===2){const r=Math.abs(this._lastCursorModelPosition.lineNumber-i);return r===0?'<span class="relative-current-line-number">'+i+"</span>":String(r)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===i||i%10===0?String(i):"":String(i)}prepareRender(e){if(this._renderLineNumbers===0){this._renderResult=null;return}const t=Uo?this._lineHeight%2===0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,o=this._context.viewModel.getDecorationsInViewport(e.visibleRange).filter(c=>!!c.options.lineNumberClassName);o.sort((c,d)=>B.compareRangesUsingEnds(c.range,d.range));let s=0;const a=this._context.viewModel.getLineCount(),l=[];for(let c=i;c<=r;c++){const d=c-i;let u=this._getLineRenderLineNumber(c),h="";for(;s<o.length&&o[s].range.endLineNumber<c;)s++;for(let f=s;f<o.length;f++){const{range:g,options:_}=o[f];g.startLineNumber<=c&&(h+=" "+_.lineNumberClassName)}if(!u&&!h){l[d]="";continue}c===a&&this._context.viewModel.getLineLength(c)===0&&(this._renderFinalNewline==="off"&&(u=""),this._renderFinalNewline==="dimmed"&&(h+=" dimmed-line-number")),c===this._activeLineNumber&&(h+=" active-line-number"),l[d]=`<div class="${qx.CLASS_NAME}${t}${h}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${u}</div>`}this._renderResult=l}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}qx.CLASS_NAME="line-numbers";cl((n,e)=>{const t=n.getColor(eMe),i=n.getColor(uMe);i?e.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${i}; }`):t&&e.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${t.transparent(.4)}; }`)});class Zm extends Zs{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(143);this._canUseLayerHinting=!t.get(32),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._domNode=pi(document.createElement("div")),this._domNode.setClassName(Zm.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=pi(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(Zm.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(143);return this._canUseLayerHinting=!t.get(32),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);const i=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)}}Zm.CLASS_NAME="glyph-margin";Zm.OUTER_CLASS_NAME="margin";const Ov="monaco-mouse-cursor-text";class NMe{constructor(){this._onDidChange=new ne,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}const Rw=new NMe,xi=zt("keybindingService");var PMe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},eG=function(n,e){return function(t,i){e(t,i,n)}};class MMe{constructor(e,t,i,r,o){this._context=e,this.modelLineNumber=t,this.distanceToModelLineStart=i,this.widthOfHiddenLineTextBefore=r,this.distanceToModelLineEnd=o,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(e){const t=new re(this.modelLineNumber,this.distanceToModelLineStart+1),i=new re(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=e.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=e.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(e){return this._previousPresentation||(e?this._previousPresentation=e:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const HA=nl;let r3=class extends Zs{constructor(e,t,i,r,o){super(e),this._keybindingService=r,this._instantiationService=o,this._primaryCursorPosition=new re(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._visibleRangeProvider=i,this._scrollLeft=0,this._scrollTop=0;const s=this._context.configuration.options,a=s.get(143);this._setAccessibilityOptions(s),this._contentLeft=a.contentLeft,this._contentWidth=a.contentWidth,this._contentHeight=a.height,this._fontInfo=s.get(50),this._lineHeight=s.get(66),this._emptySelectionClipboard=s.get(37),this._copyWithSyntaxHighlighting=s.get(25),this._visibleTextArea=null,this._selections=[new Ke(1,1,1,1)],this._modelSelections=[new Ke(1,1,1,1)],this._lastRenderPosition=null,this.textArea=pi(document.createElement("textarea")),Kc.write(this.textArea,7),this.textArea.setClassName(`inputarea ${Ov}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:l}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${l*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(s)),this.textArea.setAttribute("aria-required",s.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(s.get(123))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",w("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",s.get(90)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=pi(document.createElement("div")),this.textAreaCover.setPosition("absolute");const c={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:h=>this._context.viewModel.getLineMaxColumn(h),getValueInRange:(h,f)=>this._context.viewModel.getValueInRange(h,f),getValueLengthInRange:(h,f)=>this._context.viewModel.getValueLengthInRange(h,f),modifyPosition:(h,f)=>this._context.viewModel.modifyPosition(h,f)},d={getDataToCopy:()=>{const h=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,no),f=this._context.viewModel.model.getEOL(),g=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),_=Array.isArray(h)?h:null,y=Array.isArray(h)?h.join(f):h;let m,p=null;if(e3.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&y.length<65536){const v=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);v&&(m=v.html,p=v.mode)}return{isFromEmptySelection:g,multicursorText:_,text:y,html:m,mode:p}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const h=this._selections[0];if(qt&&h.isEmpty()){const g=h.getStartPosition();let _=this._getWordBeforePosition(g);if(_.length===0&&(_=this._getCharacterBeforePosition(g)),_.length>0)return new Er(_,_.length,_.length,B.fromPositions(g),0)}if(qt&&!h.isEmpty()&&c.getValueLengthInRange(h,0)<500){const g=c.getValueInRange(h,0);return new Er(g,0,g.length,h,0)}if(Th&&!h.isEmpty()){const g="vscode-placeholder";return new Er(g,0,g.length,null,void 0)}return Er.EMPTY}if(xq){const h=this._selections[0];if(h.isEmpty()){const f=h.getStartPosition(),[g,_]=this._getAndroidWordAtPosition(f);if(g.length>0)return new Er(g,_,_,B.fromPositions(f),0)}return Er.EMPTY}return ov.fromEditorSelection(c,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(h,f,g)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(h,f,g)},u=this._register(new KPe(this.textArea.domNode));this._textAreaInput=this._register(this._instantiationService.createInstance(t3,d,u,ma,{isAndroid:xq,isChrome:Cm,isFirefox:nl,isSafari:Th})),this._register(this._textAreaInput.onKeyDown(h=>{this._viewController.emitKeyDown(h)})),this._register(this._textAreaInput.onKeyUp(h=>{this._viewController.emitKeyUp(h)})),this._register(this._textAreaInput.onPaste(h=>{let f=!1,g=null,_=null;h.metadata&&(f=this._emptySelectionClipboard&&!!h.metadata.isFromEmptySelection,g=typeof h.metadata.multicursorText<"u"?h.metadata.multicursorText:null,_=h.metadata.mode),this._viewController.paste(h.text,f,g,_)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(h=>{h.replacePrevCharCnt||h.replaceNextCharCnt||h.positionDelta?this._viewController.compositionType(h.text,h.replacePrevCharCnt,h.replaceNextCharCnt,h.positionDelta):this._viewController.type(h.text)})),this._register(this._textAreaInput.onSelectionChangeRequest(h=>{this._viewController.setSelection(h)})),this._register(this._textAreaInput.onCompositionStart(h=>{const f=this.textArea.domNode,g=this._modelSelections[0],{distanceToModelLineStart:_,widthOfHiddenTextBefore:y}=(()=>{const p=f.value.substring(0,Math.min(f.selectionStart,f.selectionEnd)),v=p.lastIndexOf(`
`),b=p.substring(v+1),C=b.lastIndexOf("	"),S=b.length-C-1,x=g.getStartPosition(),k=Math.min(x.column-1,S),D=x.column-1-k,E=b.substring(0,b.length-k),{tabSize:I}=this._context.viewModel.model.getOptions(),N=RMe(this.textArea.domNode.ownerDocument,E,this._fontInfo,I);return{distanceToModelLineStart:D,widthOfHiddenTextBefore:N}})(),{distanceToModelLineEnd:m}=(()=>{const p=f.value.substring(Math.max(f.selectionStart,f.selectionEnd)),v=p.indexOf(`
`),b=v===-1?p:p.substring(0,v),C=b.indexOf("	"),S=C===-1?b.length:b.length-C-1,x=g.getEndPosition(),k=Math.min(this._context.viewModel.model.getLineMaxColumn(x.lineNumber)-x.column,S);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(x.lineNumber)-x.column-k}})();this._context.viewModel.revealRange("keyboard",!0,B.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new MMe(this._context,g.startLineNumber,_,y,m),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${Ov} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(h=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${Ov}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(Rw.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(e){this._textAreaInput.writeNativeTextAreaContent(e)}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const t='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',i=this._context.viewModel.getLineContent(e.lineNumber),r=rl(t);let o=!0,s=e.column,a=!0,l=e.column,c=0;for(;c<50&&(o||a);){if(o&&s<=1&&(o=!1),o){const d=i.charCodeAt(s-2);r.get(d)!==0?o=!1:s--}if(a&&l>i.length&&(a=!1),a){const d=i.charCodeAt(l-1);r.get(d)!==0?a=!1:l++}c++}return[i.substring(s-1,l-1),e.column-s]}_getWordBeforePosition(e){const t=this._context.viewModel.getLineContent(e.lineNumber),i=rl(this._context.configuration.options.get(129));let r=e.column,o=0;for(;r>1;){const s=t.charCodeAt(r-2);if(i.get(s)!==0||o>50)return t.substring(r-1,e.column-1);o++,r--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const i=this._context.viewModel.getLineContent(e.lineNumber).charAt(e.column-2);if(!cr(i.charCodeAt(0)))return i}return""}_getAriaLabel(e){var t,i,r;if(e.get(2)===1){const s=(t=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))===null||t===void 0?void 0:t.getAriaLabel(),a=(i=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))===null||i===void 0?void 0:i.getAriaLabel(),l=(r=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))===null||r===void 0?void 0:r.getAriaLabel(),c=w("accessibilityModeOff","The editor is not accessible at this time.");return s?w("accessibilityOffAriaLabel","{0} To enable screen reader optimized mode, use {1}",c,s):a?w("accessibilityOffAriaLabelNoKb","{0} To enable screen reader optimized mode, open the quick pick with {1} and run the command Toggle Screen Reader Accessibility Mode, which is currently not triggerable via keyboard.",c,a):l?w("accessibilityOffAriaLabelNoKbs","{0} Please assign a keybinding for the command Toggle Screen Reader Accessibility Mode by accessing the keybindings editor with {1} and run it.",c,l):c}return e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const t=e.get(3);this._accessibilitySupport===2&&t===Qc.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=t;const r=e.get(143).wrappingColumn;if(r!==-1&&this._accessibilitySupport!==1){const o=e.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(r*o.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=HA?0:1}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(143);this._setAccessibilityOptions(t),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=t.get(50),this._lineHeight=t.get(66),this._emptySelectionClipboard=t.get(37),this._copyWithSyntaxHighlighting=t.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:r}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${r*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("aria-required",t.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(t.get(123))),(e.hasChanged(34)||e.hasChanged(90))&&this._ensureReadOnlyAttribute(),e.hasChanged(2)&&this._textAreaInput.writeNativeTextAreaContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeNativeTextAreaContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}_ensureReadOnlyAttribute(){const e=this._context.configuration.options;!Rw.enabled||e.get(34)&&e.get(90)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(e){var t;this._primaryCursorPosition=new re(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition),(t=this._visibleTextArea)===null||t===void 0||t.prepareRender(e)}render(e){this._textAreaInput.writeNativeTextAreaContent("render"),this._render()}_render(){var e;if(this._visibleTextArea){const r=this._visibleTextArea.visibleTextareaStart,o=this._visibleTextArea.visibleTextareaEnd,s=this._visibleTextArea.startPosition,a=this._visibleTextArea.endPosition;if(s&&a&&r&&o&&o.left>=this._scrollLeft&&r.left<=this._scrollLeft+this._contentWidth){const l=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,c=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let d=this._visibleTextArea.widthOfHiddenLineTextBefore,u=this._contentLeft+r.left-this._scrollLeft,h=o.left-r.left+1;if(u<this._contentLeft){const p=this._contentLeft-u;u+=p,d+=p,h-=p}h>this._contentWidth&&(h=this._contentWidth);const f=this._context.viewModel.getViewLineData(s.lineNumber),g=f.tokens.findTokenIndexAtOffset(s.column-1),_=f.tokens.findTokenIndexAtOffset(a.column-1),y=g===_,m=this._visibleTextArea.definePresentation(y?f.tokens.getPresentation(g):null);this.textArea.domNode.scrollTop=c*this._lineHeight,this.textArea.domNode.scrollLeft=d,this._doRender({lastRenderPosition:null,top:l,left:u,width:h,height:this._lineHeight,useCover:!1,color:(ln.getColorMap()||[])[m.foreground],italic:m.italic,bold:m.bold,underline:m.underline,strikethrough:m.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const t=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(t<this._contentLeft||t>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const i=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(i<0||i>this._contentHeight){this._renderAtTopLeft();return}if(qt||this._accessibilitySupport===2){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:i,left:this._textAreaWrapping?this._contentLeft:t,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const r=(e=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&e!==void 0?e:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=r*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:i,left:this._textAreaWrapping?this._contentLeft:t,width:this._textAreaWidth,height:HA?0:1,useCover:!1})}_newlinecount(e){let t=0,i=-1;do{if(i=e.indexOf(`
`,i+1),i===-1)break;t++}while(!0);return t}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:HA?0:1,useCover:!0})}_doRender(e){this._lastRenderPosition=e.lastRenderPosition;const t=this.textArea,i=this.textAreaCover;Ur(t,this._fontInfo),t.setTop(e.top),t.setLeft(e.left),t.setWidth(e.width),t.setHeight(e.height),t.setColor(e.color?ue.Format.CSS.formatHex(e.color):""),t.setFontStyle(e.italic?"italic":""),e.bold&&t.setFontWeight("bold"),t.setTextDecoration(`${e.underline?" underline":""}${e.strikethrough?" line-through":""}`),i.setTop(e.useCover?e.top:0),i.setLeft(e.useCover?e.left:0),i.setWidth(e.useCover?e.width:0),i.setHeight(e.useCover?e.height:0);const r=this._context.configuration.options;r.get(57)?i.setClassName("monaco-editor-background textAreaCover "+Zm.OUTER_CLASS_NAME):r.get(67).renderType!==0?i.setClassName("monaco-editor-background textAreaCover "+qx.CLASS_NAME):i.setClassName("monaco-editor-background textAreaCover")}};r3=PMe([eG(3,xi),eG(4,dt)],r3);function RMe(n,e,t,i){if(e.length===0)return 0;const r=n.createElement("div");r.style.position="absolute",r.style.top="-50000px",r.style.width="50000px";const o=n.createElement("span");Ur(o,t),o.style.whiteSpace="pre",o.style.tabSize=`${i*t.spaceWidth}px`,o.append(e),r.appendChild(o),n.body.appendChild(r);const s=o.offsetWidth;return n.body.removeChild(r),s}function AMe(n,e,t){let i=0;for(let o=0;o<n.length;o++)n.charAt(o)==="	"?i=ir.nextIndentTabStop(i,e):i++;let r="";if(!t){const o=Math.floor(i/e);i=i%e;for(let s=0;s<o;s++)r+="	"}for(let o=0;o<i;o++)r+=" ";return r}function rI(n,e,t){let i=xo(n);return i===-1&&(i=n.length),AMe(n.substring(0,i),e,t)+n.substring(i)}const OMe=()=>!0,FMe=()=>!1,BMe=n=>n===" "||n==="	";class a0{static shouldRecreate(e){return e.hasChanged(143)||e.hasChanged(129)||e.hasChanged(37)||e.hasChanged(76)||e.hasChanged(78)||e.hasChanged(79)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(9)||e.hasChanged(10)||e.hasChanged(14)||e.hasChanged(127)||e.hasChanged(50)||e.hasChanged(90)}constructor(e,t,i,r){var o;this.languageConfigurationService=r,this._cursorMoveConfigurationBrand=void 0,this._languageId=e;const s=i.options,a=s.get(143),l=s.get(50);this.readOnly=s.get(90),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=s.get(115),this.lineHeight=l.lineHeight,this.typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(a.height/this.lineHeight)-2),this.useTabStops=s.get(127),this.wordSeparators=s.get(129),this.emptySelectionClipboard=s.get(37),this.copyWithSyntaxHighlighting=s.get(25),this.multiCursorMergeOverlapping=s.get(76),this.multiCursorPaste=s.get(78),this.multiCursorLimit=s.get(79),this.autoClosingBrackets=s.get(6),this.autoClosingComments=s.get(7),this.autoClosingQuotes=s.get(11),this.autoClosingDelete=s.get(9),this.autoClosingOvertype=s.get(10),this.autoSurround=s.get(14),this.autoIndent=s.get(12),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(e,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(e,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(e,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(e).getAutoClosingPairs();const c=this.languageConfigurationService.getLanguageConfiguration(e).getSurroundingPairs();if(c)for(const u of c)this.surroundingPairs[u.open]=u.close;const d=this.languageConfigurationService.getLanguageConfiguration(e).comments;this.blockCommentStartToken=(o=d==null?void 0:d.blockCommentStartToken)!==null&&o!==void 0?o:null}get electricChars(){var e;if(!this._electricChars){this._electricChars={};const t=(e=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||e===void 0?void 0:e.getElectricCharacters();if(t)for(const i of t)this._electricChars[i]=!0}return this._electricChars}onElectricCharacter(e,t,i){const r=BP(t,i-1),o=this.languageConfigurationService.getLanguageConfiguration(r.languageId).electricCharacter;return o?o.onElectricCharacter(e,r,i-r.firstCharOffset):null}normalizeIndentation(e){return rI(e,this.indentSize,this.insertSpaces)}_getShouldAutoClose(e,t,i){switch(t){case"beforeWhitespace":return BMe;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(e,i);case"always":return OMe;case"never":return FMe}}_getLanguageDefinedShouldAutoClose(e,t){const i=this.languageConfigurationService.getLanguageConfiguration(e).getAutoCloseBeforeSet(t);return r=>i.indexOf(r)!==-1}visibleColumnFromColumn(e,t){return ir.visibleColumnFromColumn(e.getLineContent(t.lineNumber),t.column,this.tabSize)}columnFromVisibleColumn(e,t,i){const r=ir.columnFromVisibleColumn(e.getLineContent(t),i,this.tabSize),o=e.getLineMinColumn(t);if(r<o)return o;const s=e.getLineMaxColumn(t);return r>s?s:r}}let ei=class Fle{static fromModelState(e){return new WMe(e)}static fromViewState(e){return new VMe(e)}static fromModelSelection(e){const t=Ke.liftSelection(e),i=new Ir(B.fromPositions(t.getSelectionStart()),0,0,t.getPosition(),0);return Fle.fromModelState(i)}static fromModelSelections(e){const t=[];for(let i=0,r=e.length;i<r;i++)t[i]=this.fromModelSelection(e[i]);return t}constructor(e,t){this._cursorStateBrand=void 0,this.modelState=e,this.viewState=t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}};class WMe{constructor(e){this.modelState=e,this.viewState=null}}class VMe{constructor(e){this.modelState=null,this.viewState=e}}class Ir{constructor(e,t,i,r,o){this.selectionStart=e,this.selectionStartKind=t,this.selectionStartLeftoverVisibleColumns=i,this.position=r,this.leftoverVisibleColumns=o,this._singleCursorStateBrand=void 0,this.selection=Ir._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.selectionStartKind===e.selectionStartKind&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,i,r){return e?new Ir(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new re(t,i),r):new Ir(new B(t,i,t,i),0,r,new re(t,i),r)}static _computeSelection(e,t){return e.isEmpty()||!t.isBeforeOrEqual(e.getStartPosition())?Ke.fromPositions(e.getStartPosition(),t):Ke.fromPositions(e.getEndPosition(),t)}}class ns{constructor(e,t,i){this._editOperationResultBrand=void 0,this.type=e,this.commands=t,this.shouldPushStackElementBefore=i.shouldPushStackElementBefore,this.shouldPushStackElementAfter=i.shouldPushStackElementAfter}}function mf(n){return n==="'"||n==='"'||n==="`"}class Qp{static columnSelect(e,t,i,r,o,s){const a=Math.abs(o-i)+1,l=i>o,c=r>s,d=r<s,u=[];for(let h=0;h<a;h++){const f=i+(l?-h:h),g=e.columnFromVisibleColumn(t,f,r),_=e.columnFromVisibleColumn(t,f,s),y=e.visibleColumnFromColumn(t,new re(f,g)),m=e.visibleColumnFromColumn(t,new re(f,_));d&&(y>s||m<r)||c&&(m>r||y<s)||u.push(new Ir(new B(f,g,f,g),0,0,new re(f,_),0))}if(u.length===0)for(let h=0;h<a;h++){const f=i+(l?-h:h),g=t.getLineMaxColumn(f);u.push(new Ir(new B(f,g,f,g),0,0,new re(f,g),0))}return{viewStates:u,reversed:l,fromLineNumber:i,fromVisualColumn:r,toLineNumber:o,toVisualColumn:s}}static columnSelectLeft(e,t,i){let r=i.toViewVisualColumn;return r>0&&r--,Qp.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,r)}static columnSelectRight(e,t,i){let r=0;const o=Math.min(i.fromViewLineNumber,i.toViewLineNumber),s=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let l=o;l<=s;l++){const c=t.getLineMaxColumn(l),d=e.visibleColumnFromColumn(t,new re(l,c));r=Math.max(r,d)}let a=i.toViewVisualColumn;return a<r&&a++,this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,a)}static columnSelectUp(e,t,i,r){const o=r?e.pageSize:1,s=Math.max(1,i.toViewLineNumber-o);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,s,i.toViewVisualColumn)}static columnSelectDown(e,t,i,r){const o=r?e.pageSize:1,s=Math.min(t.getLineCount(),i.toViewLineNumber+o);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,s,i.toViewVisualColumn)}}class Wr{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return Ke.fromPositions(r.getEndPosition())}}class HMe{constructor(e,t){this._range=e,this._text=t}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return Ke.fromRange(r,0)}}class Tk{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return Ke.fromPositions(r.getStartPosition())}}class fT{constructor(e,t,i,r,o=!1){this._range=e,this._text=t,this._columnDeltaOffset=r,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=o}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return Ke.fromPositions(r.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class $6{constructor(e,t,i,r=!1){this._range=e,this._text=t,this._initialSelection=i,this._forceMoveMarkers=r,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class zA{constructor(e,t,i){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=i}}class _i{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-Kse(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const i=t.lineNumber-1;return new re(i,e.getLineMaxColumn(i))}else return t}static leftPositionAtomicSoftTabs(e,t,i){if(t.column<=e.getLineIndentColumn(t.lineNumber)){const r=e.getLineMinColumn(t.lineNumber),o=e.getLineContent(t.lineNumber),s=rS.atomicPosition(o,t.column-1,i,0);if(s!==-1&&s+1>=r)return new re(t.lineNumber,s+1)}return this.leftPosition(e,t)}static left(e,t,i){const r=e.stickyTabStops?_i.leftPositionAtomicSoftTabs(t,i,e.tabSize):_i.leftPosition(t,i);return new zA(r.lineNumber,r.column,0)}static moveLeft(e,t,i,r,o){let s,a;if(i.hasSelection()&&!r)s=i.selection.startLineNumber,a=i.selection.startColumn;else{const l=i.position.delta(void 0,-(o-1)),c=t.normalizePosition(_i.clipPositionColumn(l,t),0),d=_i.left(e,t,c);s=d.lineNumber,a=d.column}return i.move(r,s,a,0)}static clipPositionColumn(e,t){return new re(e.lineNumber,_i.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,i){return e<t?t:e>i?i:e}static rightPosition(e,t,i){return i<e.getLineMaxColumn(t)?i=i+n6(e.getLineContent(t),i-1):t<e.getLineCount()&&(t=t+1,i=e.getLineMinColumn(t)),new re(t,i)}static rightPositionAtomicSoftTabs(e,t,i,r,o){if(i<e.getLineIndentColumn(t)){const s=e.getLineContent(t),a=rS.atomicPosition(s,i-1,r,1);if(a!==-1)return new re(t,a+1)}return this.rightPosition(e,t,i)}static right(e,t,i){const r=e.stickyTabStops?_i.rightPositionAtomicSoftTabs(t,i.lineNumber,i.column,e.tabSize,e.indentSize):_i.rightPosition(t,i.lineNumber,i.column);return new zA(r.lineNumber,r.column,0)}static moveRight(e,t,i,r,o){let s,a;if(i.hasSelection()&&!r)s=i.selection.endLineNumber,a=i.selection.endColumn;else{const l=i.position.delta(void 0,o-1),c=t.normalizePosition(_i.clipPositionColumn(l,t),1),d=_i.right(e,t,c);s=d.lineNumber,a=d.column}return i.move(r,s,a,0)}static vertical(e,t,i,r,o,s,a,l){const c=ir.visibleColumnFromColumn(t.getLineContent(i),r,e.tabSize)+o,d=t.getLineCount(),u=i===1&&r===1,h=i===d&&r===t.getLineMaxColumn(i),f=s<i?u:h;if(i=s,i<1?(i=1,a?r=t.getLineMinColumn(i):r=Math.min(t.getLineMaxColumn(i),r)):i>d?(i=d,a?r=t.getLineMaxColumn(i):r=Math.min(t.getLineMaxColumn(i),r)):r=e.columnFromVisibleColumn(t,i,c),f?o=0:o=c-ir.visibleColumnFromColumn(t.getLineContent(i),r,e.tabSize),l!==void 0){const g=new re(i,r),_=t.normalizePosition(g,l);o=o+(r-_.column),i=_.lineNumber,r=_.column}return new zA(i,r,o)}static down(e,t,i,r,o,s,a){return this.vertical(e,t,i,r,o,i+s,a,4)}static moveDown(e,t,i,r,o){let s,a;i.hasSelection()&&!r?(s=i.selection.endLineNumber,a=i.selection.endColumn):(s=i.position.lineNumber,a=i.position.column);let l=0,c;do if(c=_i.down(e,t,s+l,a,i.leftoverVisibleColumns,o,!0),t.normalizePosition(new re(c.lineNumber,c.column),2).lineNumber>s)break;while(l++<10&&s+l<t.getLineCount());return i.move(r,c.lineNumber,c.column,c.leftoverVisibleColumns)}static translateDown(e,t,i){const r=i.selection,o=_i.down(e,t,r.selectionStartLineNumber,r.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),s=_i.down(e,t,r.positionLineNumber,r.positionColumn,i.leftoverVisibleColumns,1,!1);return new Ir(new B(o.lineNumber,o.column,o.lineNumber,o.column),0,o.leftoverVisibleColumns,new re(s.lineNumber,s.column),s.leftoverVisibleColumns)}static up(e,t,i,r,o,s,a){return this.vertical(e,t,i,r,o,i-s,a,3)}static moveUp(e,t,i,r,o){let s,a;i.hasSelection()&&!r?(s=i.selection.startLineNumber,a=i.selection.startColumn):(s=i.position.lineNumber,a=i.position.column);const l=_i.up(e,t,s,a,i.leftoverVisibleColumns,o,!0);return i.move(r,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateUp(e,t,i){const r=i.selection,o=_i.up(e,t,r.selectionStartLineNumber,r.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),s=_i.up(e,t,r.positionLineNumber,r.positionColumn,i.leftoverVisibleColumns,1,!1);return new Ir(new B(o.lineNumber,o.column,o.lineNumber,o.column),0,o.leftoverVisibleColumns,new re(s.lineNumber,s.column),s.leftoverVisibleColumns)}static _isBlankLine(e,t){return e.getLineFirstNonWhitespaceColumn(t)===0}static moveToPrevBlankLine(e,t,i,r){let o=i.position.lineNumber;for(;o>1&&this._isBlankLine(t,o);)o--;for(;o>1&&!this._isBlankLine(t,o);)o--;return i.move(r,o,t.getLineMinColumn(o),0)}static moveToNextBlankLine(e,t,i,r){const o=t.getLineCount();let s=i.position.lineNumber;for(;s<o&&this._isBlankLine(t,s);)s++;for(;s<o&&!this._isBlankLine(t,s);)s++;return i.move(r,s,t.getLineMinColumn(s),0)}static moveToBeginningOfLine(e,t,i,r){const o=i.position.lineNumber,s=t.getLineMinColumn(o),a=t.getLineFirstNonWhitespaceColumn(o)||s;let l;return i.position.column===a?l=s:l=a,i.move(r,o,l,0)}static moveToEndOfLine(e,t,i,r,o){const s=i.position.lineNumber,a=t.getLineMaxColumn(s);return i.move(r,s,a,o?1073741824-a:0)}static moveToBeginningOfBuffer(e,t,i,r){return i.move(r,1,1,0)}static moveToEndOfBuffer(e,t,i,r){const o=t.getLineCount(),s=t.getLineMaxColumn(o);return i.move(r,o,s,0)}}class Ym{static deleteRight(e,t,i,r){const o=[];let s=e!==3;for(let a=0,l=r.length;a<l;a++){const c=r[a];let d=c;if(d.isEmpty()){const u=c.getPosition(),h=_i.right(t,i,u);d=new B(h.lineNumber,h.column,u.lineNumber,u.column)}if(d.isEmpty()){o[a]=null;continue}d.startLineNumber!==d.endLineNumber&&(s=!0),o[a]=new Wr(d,"")}return[s,o]}static isAutoClosingPairDelete(e,t,i,r,o,s,a){if(t==="never"&&i==="never"||e==="never")return!1;for(let l=0,c=s.length;l<c;l++){const d=s[l],u=d.getPosition();if(!d.isEmpty())return!1;const h=o.getLineContent(u.lineNumber);if(u.column<2||u.column>=h.length+1)return!1;const f=h.charAt(u.column-2),g=r.get(f);if(!g)return!1;if(mf(f)){if(i==="never")return!1}else if(t==="never")return!1;const _=h.charAt(u.column-1);let y=!1;for(const m of g)m.open===f&&m.close===_&&(y=!0);if(!y)return!1;if(e==="auto"){let m=!1;for(let p=0,v=a.length;p<v;p++){const b=a[p];if(u.lineNumber===b.startLineNumber&&u.column===b.startColumn){m=!0;break}}if(!m)return!1}}return!0}static _runAutoClosingPairDelete(e,t,i){const r=[];for(let o=0,s=i.length;o<s;o++){const a=i[o].getPosition(),l=new B(a.lineNumber,a.column-1,a.lineNumber,a.column+1);r[o]=new Wr(l,"")}return[!0,r]}static deleteLeft(e,t,i,r,o){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,i,r,o))return this._runAutoClosingPairDelete(t,i,r);const s=[];let a=e!==2;for(let l=0,c=r.length;l<c;l++){const d=Ym.getDeleteRange(r[l],i,t);if(d.isEmpty()){s[l]=null;continue}d.startLineNumber!==d.endLineNumber&&(a=!0),s[l]=new Wr(d,"")}return[a,s]}static getDeleteRange(e,t,i){if(!e.isEmpty())return e;const r=e.getPosition();if(i.useTabStops&&r.column>1){const o=t.getLineContent(r.lineNumber),s=xo(o),a=s===-1?o.length+1:s+1;if(r.column<=a){const l=i.visibleColumnFromColumn(t,r),c=ir.prevIndentTabStop(l,i.indentSize),d=i.columnFromVisibleColumn(t,r.lineNumber,c);return new B(r.lineNumber,d,r.lineNumber,r.column)}}return B.fromPositions(Ym.getPositionAfterDeleteLeft(r,t),r)}static getPositionAfterDeleteLeft(e,t){if(e.column>1){const i=JLe(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,i+1)}else if(e.lineNumber>1){const i=e.lineNumber-1;return new re(i,t.getLineMaxColumn(i))}else return e}static cut(e,t,i){const r=[];let o=null;i.sort((s,a)=>re.compare(s.getStartPosition(),a.getEndPosition()));for(let s=0,a=i.length;s<a;s++){const l=i[s];if(l.isEmpty())if(e.emptySelectionClipboard){const c=l.getPosition();let d,u,h,f;c.lineNumber<t.getLineCount()?(d=c.lineNumber,u=1,h=c.lineNumber+1,f=1):c.lineNumber>1&&(o==null?void 0:o.endLineNumber)!==c.lineNumber?(d=c.lineNumber-1,u=t.getLineMaxColumn(c.lineNumber-1),h=c.lineNumber,f=t.getLineMaxColumn(c.lineNumber)):(d=c.lineNumber,u=1,h=c.lineNumber,f=t.getLineMaxColumn(c.lineNumber));const g=new B(d,u,h,f);o=g,g.isEmpty()?r[s]=null:r[s]=new Wr(g,"")}else r[s]=null;else r[s]=new Wr(l,"")}return new ns(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}class gi{static _createWord(e,t,i,r,o){return{start:r,end:o,wordType:t,nextCharClass:i}}static _findPreviousWordOnLine(e,t,i){const r=t.getLineContent(i.lineNumber);return this._doFindPreviousWordOnLine(r,e,i)}static _doFindPreviousWordOnLine(e,t,i){let r=0;for(let o=i.column-2;o>=0;o--){const s=e.charCodeAt(o),a=t.get(s);if(a===0){if(r===2)return this._createWord(e,r,a,o+1,this._findEndOfWord(e,t,r,o+1));r=1}else if(a===2){if(r===1)return this._createWord(e,r,a,o+1,this._findEndOfWord(e,t,r,o+1));r=2}else if(a===1&&r!==0)return this._createWord(e,r,a,o+1,this._findEndOfWord(e,t,r,o+1))}return r!==0?this._createWord(e,r,1,0,this._findEndOfWord(e,t,r,0)):null}static _findEndOfWord(e,t,i,r){const o=e.length;for(let s=r;s<o;s++){const a=e.charCodeAt(s),l=t.get(a);if(l===1||i===1&&l===2||i===2&&l===0)return s}return o}static _findNextWordOnLine(e,t,i){const r=t.getLineContent(i.lineNumber);return this._doFindNextWordOnLine(r,e,i)}static _doFindNextWordOnLine(e,t,i){let r=0;const o=e.length;for(let s=i.column-1;s<o;s++){const a=e.charCodeAt(s),l=t.get(a);if(l===0){if(r===2)return this._createWord(e,r,l,this._findStartOfWord(e,t,r,s-1),s);r=1}else if(l===2){if(r===1)return this._createWord(e,r,l,this._findStartOfWord(e,t,r,s-1),s);r=2}else if(l===1&&r!==0)return this._createWord(e,r,l,this._findStartOfWord(e,t,r,s-1),s)}return r!==0?this._createWord(e,r,1,this._findStartOfWord(e,t,r,o-1),o):null}static _findStartOfWord(e,t,i,r){for(let o=r;o>=0;o--){const s=e.charCodeAt(o),a=t.get(s);if(a===1||i===1&&a===2||i===2&&a===0)return o+1}return 0}static moveWordLeft(e,t,i,r){let o=i.lineNumber,s=i.column;s===1&&o>1&&(o=o-1,s=t.getLineMaxColumn(o));let a=gi._findPreviousWordOnLine(e,t,new re(o,s));if(r===0)return new re(o,a?a.start+1:1);if(r===1)return a&&a.wordType===2&&a.end-a.start===1&&a.nextCharClass===0&&(a=gi._findPreviousWordOnLine(e,t,new re(o,a.start+1))),new re(o,a?a.start+1:1);if(r===3){for(;a&&a.wordType===2;)a=gi._findPreviousWordOnLine(e,t,new re(o,a.start+1));return new re(o,a?a.start+1:1)}return a&&s<=a.end+1&&(a=gi._findPreviousWordOnLine(e,t,new re(o,a.start+1))),new re(o,a?a.end+1:1)}static _moveWordPartLeft(e,t){const i=t.lineNumber,r=e.getLineMaxColumn(i);if(t.column===1)return i>1?new re(i-1,e.getLineMaxColumn(i-1)):t;const o=e.getLineContent(i);for(let s=t.column-1;s>1;s--){const a=o.charCodeAt(s-2),l=o.charCodeAt(s-1);if(a===95&&l!==95)return new re(i,s);if(a===45&&l!==45)return new re(i,s);if((Bf(a)||fk(a))&&Sd(l))return new re(i,s);if(Sd(a)&&Sd(l)&&s+1<r){const c=o.charCodeAt(s);if(Bf(c)||fk(c))return new re(i,s)}}return new re(i,1)}static moveWordRight(e,t,i,r){let o=i.lineNumber,s=i.column,a=!1;s===t.getLineMaxColumn(o)&&o<t.getLineCount()&&(a=!0,o=o+1,s=1);let l=gi._findNextWordOnLine(e,t,new re(o,s));if(r===2)l&&l.wordType===2&&l.end-l.start===1&&l.nextCharClass===0&&(l=gi._findNextWordOnLine(e,t,new re(o,l.end+1))),l?s=l.end+1:s=t.getLineMaxColumn(o);else if(r===3){for(a&&(s=0);l&&(l.wordType===2||l.start+1<=s);)l=gi._findNextWordOnLine(e,t,new re(o,l.end+1));l?s=l.start+1:s=t.getLineMaxColumn(o)}else l&&!a&&s>=l.start+1&&(l=gi._findNextWordOnLine(e,t,new re(o,l.end+1))),l?s=l.start+1:s=t.getLineMaxColumn(o);return new re(o,s)}static _moveWordPartRight(e,t){const i=t.lineNumber,r=e.getLineMaxColumn(i);if(t.column===r)return i<e.getLineCount()?new re(i+1,1):t;const o=e.getLineContent(i);for(let s=t.column+1;s<r;s++){const a=o.charCodeAt(s-2),l=o.charCodeAt(s-1);if(a!==95&&l===95)return new re(i,s);if(a!==45&&l===45)return new re(i,s);if((Bf(a)||fk(a))&&Sd(l))return new re(i,s);if(Sd(a)&&Sd(l)&&s+1<r){const c=o.charCodeAt(s);if(Bf(c)||fk(c))return new re(i,s)}}return new re(i,r)}static _deleteWordLeftWhitespace(e,t){const i=e.getLineContent(t.lineNumber),r=t.column-2,o=Ac(i,r);return o+1<r?new B(t.lineNumber,o+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){const i=e.wordSeparators,r=e.model,o=e.selection,s=e.whitespaceHeuristics;if(!o.isEmpty())return o;if(Ym.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){const u=e.selection.getPosition();return new B(u.lineNumber,u.column-1,u.lineNumber,u.column+1)}const a=new re(o.positionLineNumber,o.positionColumn);let l=a.lineNumber,c=a.column;if(l===1&&c===1)return null;if(s){const u=this._deleteWordLeftWhitespace(r,a);if(u)return u}let d=gi._findPreviousWordOnLine(i,r,a);return t===0?d?c=d.start+1:c>1?c=1:(l--,c=r.getLineMaxColumn(l)):(d&&c<=d.end+1&&(d=gi._findPreviousWordOnLine(i,r,new re(l,d.start+1))),d?c=d.end+1:c>1?c=1:(l--,c=r.getLineMaxColumn(l))),new B(l,c,a.lineNumber,a.column)}static deleteInsideWord(e,t,i){if(!i.isEmpty())return i;const r=new re(i.positionLineNumber,i.positionColumn),o=this._deleteInsideWordWhitespace(t,r);return o||this._deleteInsideWordDetermineDeleteRange(e,t,r)}static _charAtIsWhitespace(e,t){const i=e.charCodeAt(t);return i===32||i===9}static _deleteInsideWordWhitespace(e,t){const i=e.getLineContent(t.lineNumber),r=i.length;if(r===0)return null;let o=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(i,o))return null;let s=Math.min(t.column-1,r-1);if(!this._charAtIsWhitespace(i,s))return null;for(;o>0&&this._charAtIsWhitespace(i,o-1);)o--;for(;s+1<r&&this._charAtIsWhitespace(i,s+1);)s++;return new B(t.lineNumber,o+1,t.lineNumber,s+2)}static _deleteInsideWordDetermineDeleteRange(e,t,i){const r=t.getLineContent(i.lineNumber),o=r.length;if(o===0)return i.lineNumber>1?new B(i.lineNumber-1,t.getLineMaxColumn(i.lineNumber-1),i.lineNumber,1):i.lineNumber<t.getLineCount()?new B(i.lineNumber,1,i.lineNumber+1,1):new B(i.lineNumber,1,i.lineNumber,1);const s=u=>u.start+1<=i.column&&i.column<=u.end+1,a=(u,h)=>(u=Math.min(u,i.column),h=Math.max(h,i.column),new B(i.lineNumber,u,i.lineNumber,h)),l=u=>{let h=u.start+1,f=u.end+1,g=!1;for(;f-1<o&&this._charAtIsWhitespace(r,f-1);)g=!0,f++;if(!g)for(;h>1&&this._charAtIsWhitespace(r,h-2);)h--;return a(h,f)},c=gi._findPreviousWordOnLine(e,t,i);if(c&&s(c))return l(c);const d=gi._findNextWordOnLine(e,t,i);return d&&s(d)?l(d):c&&d?a(c.end+1,d.start+1):c?a(c.start+1,c.end+1):d?a(d.start+1,d.end+1):a(1,o+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),r=gi._moveWordPartLeft(e,i);return new B(i.lineNumber,i.column,r.lineNumber,r.column)}static _findFirstNonWhitespaceChar(e,t){const i=e.length;for(let r=t;r<i;r++){const o=e.charAt(r);if(o!==" "&&o!=="	")return r}return i}static _deleteWordRightWhitespace(e,t){const i=e.getLineContent(t.lineNumber),r=t.column-1,o=this._findFirstNonWhitespaceChar(i,r);return r+1<o?new B(t.lineNumber,t.column,t.lineNumber,o+1):null}static deleteWordRight(e,t){const i=e.wordSeparators,r=e.model,o=e.selection,s=e.whitespaceHeuristics;if(!o.isEmpty())return o;const a=new re(o.positionLineNumber,o.positionColumn);let l=a.lineNumber,c=a.column;const d=r.getLineCount(),u=r.getLineMaxColumn(l);if(l===d&&c===u)return null;if(s){const f=this._deleteWordRightWhitespace(r,a);if(f)return f}let h=gi._findNextWordOnLine(i,r,a);return t===2?h?c=h.end+1:c<u||l===d?c=u:(l++,h=gi._findNextWordOnLine(i,r,new re(l,1)),h?c=h.start+1:c=r.getLineMaxColumn(l)):(h&&c>=h.start+1&&(h=gi._findNextWordOnLine(i,r,new re(l,h.end+1))),h?c=h.start+1:c<u||l===d?c=u:(l++,h=gi._findNextWordOnLine(i,r,new re(l,1)),h?c=h.start+1:c=r.getLineMaxColumn(l))),new B(l,c,a.lineNumber,a.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),r=gi._moveWordPartRight(e,i);return new B(i.lineNumber,i.column,r.lineNumber,r.column)}static _createWordAtPosition(e,t,i){const r=new B(t,i.start+1,t,i.end+1);return{word:e.getValueInRange(r),startColumn:r.startColumn,endColumn:r.endColumn}}static getWordAtPosition(e,t,i){const r=rl(t),o=gi._findPreviousWordOnLine(r,e,i);if(o&&o.wordType===1&&o.start<=i.column-1&&i.column-1<=o.end)return gi._createWordAtPosition(e,i.lineNumber,o);const s=gi._findNextWordOnLine(r,e,i);return s&&s.wordType===1&&s.start<=i.column-1&&i.column-1<=s.end?gi._createWordAtPosition(e,i.lineNumber,s):null}static word(e,t,i,r,o){const s=rl(e.wordSeparators),a=gi._findPreviousWordOnLine(s,t,o),l=gi._findNextWordOnLine(s,t,o);if(!r){let f,g;return a&&a.wordType===1&&a.start<=o.column-1&&o.column-1<=a.end?(f=a.start+1,g=a.end+1):l&&l.wordType===1&&l.start<=o.column-1&&o.column-1<=l.end?(f=l.start+1,g=l.end+1):(a?f=a.end+1:f=1,l?g=l.start+1:g=t.getLineMaxColumn(o.lineNumber)),new Ir(new B(o.lineNumber,f,o.lineNumber,g),1,0,new re(o.lineNumber,g),0)}let c,d;a&&a.wordType===1&&a.start<o.column-1&&o.column-1<a.end?(c=a.start+1,d=a.end+1):l&&l.wordType===1&&l.start<o.column-1&&o.column-1<l.end?(c=l.start+1,d=l.end+1):(c=o.column,d=o.column);const u=o.lineNumber;let h;if(i.selectionStart.containsPosition(o))h=i.selectionStart.endColumn;else if(o.isBeforeOrEqual(i.selectionStart.getStartPosition())){h=c;const f=new re(u,h);i.selectionStart.containsPosition(f)&&(h=i.selectionStart.endColumn)}else{h=d;const f=new re(u,h);i.selectionStart.containsPosition(f)&&(h=i.selectionStart.startColumn)}return i.move(!0,u,h,0)}}class XP extends gi{static deleteWordPartLeft(e){const t=Ek([gi.deleteWordLeft(e,0),gi.deleteWordLeft(e,2),gi._deleteWordPartLeft(e.model,e.selection)]);return t.sort(B.compareRangesUsingEnds),t[2]}static deleteWordPartRight(e){const t=Ek([gi.deleteWordRight(e,0),gi.deleteWordRight(e,2),gi._deleteWordPartRight(e.model,e.selection)]);return t.sort(B.compareRangesUsingStarts),t[0]}static moveWordPartLeft(e,t,i){const r=Ek([gi.moveWordLeft(e,t,i,0),gi.moveWordLeft(e,t,i,2),gi._moveWordPartLeft(t,i)]);return r.sort(re.compare),r[2]}static moveWordPartRight(e,t,i){const r=Ek([gi.moveWordRight(e,t,i,0),gi.moveWordRight(e,t,i,2),gi._moveWordPartRight(t,i)]);return r.sort(re.compare),r[0]}}function Ek(n){return n.filter(e=>!!e)}class Tr{static addCursorDown(e,t,i){const r=[];let o=0;for(let s=0,a=t.length;s<a;s++){const l=t[s];r[o++]=new ei(l.modelState,l.viewState),i?r[o++]=ei.fromModelState(_i.translateDown(e.cursorConfig,e.model,l.modelState)):r[o++]=ei.fromViewState(_i.translateDown(e.cursorConfig,e,l.viewState))}return r}static addCursorUp(e,t,i){const r=[];let o=0;for(let s=0,a=t.length;s<a;s++){const l=t[s];r[o++]=new ei(l.modelState,l.viewState),i?r[o++]=ei.fromModelState(_i.translateUp(e.cursorConfig,e.model,l.modelState)):r[o++]=ei.fromViewState(_i.translateUp(e.cursorConfig,e,l.viewState))}return r}static moveToBeginningOfLine(e,t,i){const r=[];for(let o=0,s=t.length;o<s;o++){const a=t[o];r[o]=this._moveToLineStart(e,a,i)}return r}static _moveToLineStart(e,t,i){const r=t.viewState.position.column,o=t.modelState.position.column,s=r===o,a=t.viewState.position.lineNumber,l=e.getLineFirstNonWhitespaceColumn(a);return!s&&!(r===l)?this._moveToLineStartByView(e,t,i):this._moveToLineStartByModel(e,t,i)}static _moveToLineStartByView(e,t,i){return ei.fromViewState(_i.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,i))}static _moveToLineStartByModel(e,t,i){return ei.fromModelState(_i.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,i))}static moveToEndOfLine(e,t,i,r){const o=[];for(let s=0,a=t.length;s<a;s++){const l=t[s];o[s]=this._moveToLineEnd(e,l,i,r)}return o}static _moveToLineEnd(e,t,i,r){const o=t.viewState.position,s=e.getLineMaxColumn(o.lineNumber),a=o.column===s,l=t.modelState.position,c=e.model.getLineMaxColumn(l.lineNumber),d=s-o.column===c-l.column;return a||d?this._moveToLineEndByModel(e,t,i,r):this._moveToLineEndByView(e,t,i,r)}static _moveToLineEndByView(e,t,i,r){return ei.fromViewState(_i.moveToEndOfLine(e.cursorConfig,e,t.viewState,i,r))}static _moveToLineEndByModel(e,t,i,r){return ei.fromModelState(_i.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,i,r))}static expandLineSelection(e,t){const i=[];for(let r=0,o=t.length;r<o;r++){const s=t[r],a=s.modelState.selection.startLineNumber,l=e.model.getLineCount();let c=s.modelState.selection.endLineNumber,d;c===l?d=e.model.getLineMaxColumn(l):(c++,d=1),i[r]=ei.fromModelState(new Ir(new B(a,1,a,1),0,0,new re(c,d),0))}return i}static moveToBeginningOfBuffer(e,t,i){const r=[];for(let o=0,s=t.length;o<s;o++){const a=t[o];r[o]=ei.fromModelState(_i.moveToBeginningOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return r}static moveToEndOfBuffer(e,t,i){const r=[];for(let o=0,s=t.length;o<s;o++){const a=t[o];r[o]=ei.fromModelState(_i.moveToEndOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return r}static selectAll(e,t){const i=e.model.getLineCount(),r=e.model.getLineMaxColumn(i);return ei.fromModelState(new Ir(new B(1,1,1,1),0,0,new re(i,r),0))}static line(e,t,i,r,o){const s=e.model.validatePosition(r),a=o?e.coordinatesConverter.validateViewPosition(new re(o.lineNumber,o.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);if(!i){const c=e.model.getLineCount();let d=s.lineNumber+1,u=1;return d>c&&(d=c,u=e.model.getLineMaxColumn(d)),ei.fromModelState(new Ir(new B(s.lineNumber,1,d,u),2,0,new re(d,u),0))}const l=t.modelState.selectionStart.getStartPosition().lineNumber;if(s.lineNumber<l)return ei.fromViewState(t.viewState.move(!0,a.lineNumber,1,0));if(s.lineNumber>l){const c=e.getLineCount();let d=a.lineNumber+1,u=1;return d>c&&(d=c,u=e.getLineMaxColumn(d)),ei.fromViewState(t.viewState.move(!0,d,u,0))}else{const c=t.modelState.selectionStart.getEndPosition();return ei.fromModelState(t.modelState.move(!0,c.lineNumber,c.column,0))}}static word(e,t,i,r){const o=e.model.validatePosition(r);return ei.fromModelState(gi.word(e.cursorConfig,e.model,t.modelState,i,o))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new ei(t.modelState,t.viewState);const i=t.viewState.position.lineNumber,r=t.viewState.position.column;return ei.fromViewState(new Ir(new B(i,r,i,r),0,0,new re(i,r),0))}static moveTo(e,t,i,r,o){if(i){if(t.modelState.selectionStartKind===1)return this.word(e,t,i,r);if(t.modelState.selectionStartKind===2)return this.line(e,t,i,r,o)}const s=e.model.validatePosition(r),a=o?e.coordinatesConverter.validateViewPosition(new re(o.lineNumber,o.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);return ei.fromViewState(t.viewState.move(i,a.lineNumber,a.column,0))}static simpleMove(e,t,i,r,o,s){switch(i){case 0:return s===4?this._moveHalfLineLeft(e,t,r):this._moveLeft(e,t,r,o);case 1:return s===4?this._moveHalfLineRight(e,t,r):this._moveRight(e,t,r,o);case 2:return s===2?this._moveUpByViewLines(e,t,r,o):this._moveUpByModelLines(e,t,r,o);case 3:return s===2?this._moveDownByViewLines(e,t,r,o):this._moveDownByModelLines(e,t,r,o);case 4:return s===2?t.map(a=>ei.fromViewState(_i.moveToPrevBlankLine(e.cursorConfig,e,a.viewState,r))):t.map(a=>ei.fromModelState(_i.moveToPrevBlankLine(e.cursorConfig,e.model,a.modelState,r)));case 5:return s===2?t.map(a=>ei.fromViewState(_i.moveToNextBlankLine(e.cursorConfig,e,a.viewState,r))):t.map(a=>ei.fromModelState(_i.moveToNextBlankLine(e.cursorConfig,e.model,a.modelState,r)));case 6:return this._moveToViewMinColumn(e,t,r);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,r);case 8:return this._moveToViewCenterColumn(e,t,r);case 9:return this._moveToViewMaxColumn(e,t,r);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,r);default:return null}}static viewportMove(e,t,i,r,o){const s=e.getCompletelyVisibleViewRange(),a=e.coordinatesConverter.convertViewRangeToModelRange(s);switch(i){case 11:{const l=this._firstLineNumberInRange(e.model,a,o),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],r,l,c)]}case 13:{const l=this._lastLineNumberInRange(e.model,a,o),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],r,l,c)]}case 12:{const l=Math.round((a.startLineNumber+a.endLineNumber)/2),c=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],r,l,c)]}case 14:{const l=[];for(let c=0,d=t.length;c<d;c++){const u=t[c];l[c]=this.findPositionInViewportIfOutside(e,u,s,r)}return l}default:return null}}static findPositionInViewportIfOutside(e,t,i,r){const o=t.viewState.position.lineNumber;if(i.startLineNumber<=o&&o<=i.endLineNumber-1)return new ei(t.modelState,t.viewState);{let s;o>i.endLineNumber-1?s=i.endLineNumber-1:o<i.startLineNumber?s=i.startLineNumber:s=o;const a=_i.vertical(e.cursorConfig,e,o,t.viewState.position.column,t.viewState.leftoverVisibleColumns,s,!1);return ei.fromViewState(t.viewState.move(r,a.lineNumber,a.column,a.leftoverVisibleColumns))}}static _firstLineNumberInRange(e,t,i){let r=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(r)&&r++,Math.min(t.endLineNumber,r+i-1)}static _lastLineNumberInRange(e,t,i){let r=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(r)&&r++,Math.max(r,t.endLineNumber-i+1)}static _moveLeft(e,t,i,r){return t.map(o=>ei.fromViewState(_i.moveLeft(e.cursorConfig,e,o.viewState,i,r)))}static _moveHalfLineLeft(e,t,i){const r=[];for(let o=0,s=t.length;o<s;o++){const a=t[o],l=a.viewState.position.lineNumber,c=Math.round(e.getLineLength(l)/2);r[o]=ei.fromViewState(_i.moveLeft(e.cursorConfig,e,a.viewState,i,c))}return r}static _moveRight(e,t,i,r){return t.map(o=>ei.fromViewState(_i.moveRight(e.cursorConfig,e,o.viewState,i,r)))}static _moveHalfLineRight(e,t,i){const r=[];for(let o=0,s=t.length;o<s;o++){const a=t[o],l=a.viewState.position.lineNumber,c=Math.round(e.getLineLength(l)/2);r[o]=ei.fromViewState(_i.moveRight(e.cursorConfig,e,a.viewState,i,c))}return r}static _moveDownByViewLines(e,t,i,r){const o=[];for(let s=0,a=t.length;s<a;s++){const l=t[s];o[s]=ei.fromViewState(_i.moveDown(e.cursorConfig,e,l.viewState,i,r))}return o}static _moveDownByModelLines(e,t,i,r){const o=[];for(let s=0,a=t.length;s<a;s++){const l=t[s];o[s]=ei.fromModelState(_i.moveDown(e.cursorConfig,e.model,l.modelState,i,r))}return o}static _moveUpByViewLines(e,t,i,r){const o=[];for(let s=0,a=t.length;s<a;s++){const l=t[s];o[s]=ei.fromViewState(_i.moveUp(e.cursorConfig,e,l.viewState,i,r))}return o}static _moveUpByModelLines(e,t,i,r){const o=[];for(let s=0,a=t.length;s<a;s++){const l=t[s];o[s]=ei.fromModelState(_i.moveUp(e.cursorConfig,e.model,l.modelState,i,r))}return o}static _moveToViewPosition(e,t,i,r,o){return ei.fromViewState(t.viewState.move(i,r,o,0))}static _moveToModelPosition(e,t,i,r,o){return ei.fromModelState(t.modelState.move(i,r,o,0))}static _moveToViewMinColumn(e,t,i){const r=[];for(let o=0,s=t.length;o<s;o++){const a=t[o],l=a.viewState.position.lineNumber,c=e.getLineMinColumn(l);r[o]=this._moveToViewPosition(e,a,i,l,c)}return r}static _moveToViewFirstNonWhitespaceColumn(e,t,i){const r=[];for(let o=0,s=t.length;o<s;o++){const a=t[o],l=a.viewState.position.lineNumber,c=e.getLineFirstNonWhitespaceColumn(l);r[o]=this._moveToViewPosition(e,a,i,l,c)}return r}static _moveToViewCenterColumn(e,t,i){const r=[];for(let o=0,s=t.length;o<s;o++){const a=t[o],l=a.viewState.position.lineNumber,c=Math.round((e.getLineMaxColumn(l)+e.getLineMinColumn(l))/2);r[o]=this._moveToViewPosition(e,a,i,l,c)}return r}static _moveToViewMaxColumn(e,t,i){const r=[];for(let o=0,s=t.length;o<s;o++){const a=t[o],l=a.viewState.position.lineNumber,c=e.getLineMaxColumn(l);r[o]=this._moveToViewPosition(e,a,i,l,c)}return r}static _moveToViewLastNonWhitespaceColumn(e,t,i){const r=[];for(let o=0,s=t.length;o<s;o++){const a=t[o],l=a.viewState.position.lineNumber,c=e.getLineLastNonWhitespaceColumn(l);r[o]=this._moveToViewPosition(e,a,i,l,c)}return r}}var oI;(function(n){const e=function(i){if(!Oo(i))return!1;const r=i;return!(!Ho(r.to)||!Ms(r.select)&&!pse(r.select)||!Ms(r.by)&&!Ho(r.by)||!Ms(r.value)&&!Ig(r.value))};n.metadata={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},n.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},n.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function t(i){if(!i.to)return null;let r;switch(i.to){case n.RawDirection.Left:r=0;break;case n.RawDirection.Right:r=1;break;case n.RawDirection.Up:r=2;break;case n.RawDirection.Down:r=3;break;case n.RawDirection.PrevBlankLine:r=4;break;case n.RawDirection.NextBlankLine:r=5;break;case n.RawDirection.WrappedLineStart:r=6;break;case n.RawDirection.WrappedLineFirstNonWhitespaceCharacter:r=7;break;case n.RawDirection.WrappedLineColumnCenter:r=8;break;case n.RawDirection.WrappedLineEnd:r=9;break;case n.RawDirection.WrappedLineLastNonWhitespaceCharacter:r=10;break;case n.RawDirection.ViewPortTop:r=11;break;case n.RawDirection.ViewPortBottom:r=13;break;case n.RawDirection.ViewPortCenter:r=12;break;case n.RawDirection.ViewPortIfOutside:r=14;break;default:return null}let o=0;switch(i.by){case n.RawUnit.Line:o=1;break;case n.RawUnit.WrappedLine:o=2;break;case n.RawUnit.Character:o=3;break;case n.RawUnit.HalfLine:o=4;break}return{direction:r,unit:o,select:!!i.select,value:i.value||1}}n.parse=t})(oI||(oI={}));function Fv(n,e,t,i){const r=Nv(e,t.startLineNumber,t.startColumn),o=i.getLanguageConfiguration(r.languageId);if(!o)return null;const s=r.getLineContent(),a=s.substr(0,t.startColumn-1-r.firstCharOffset);let l;t.isEmpty()?l=s.substr(t.startColumn-1-r.firstCharOffset):l=Nv(e,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-r.firstCharOffset);let c="";if(t.startLineNumber>1&&r.firstCharOffset===0){const _=Nv(e,t.startLineNumber-1);_.languageId===r.languageId&&(c=_.getLineContent())}const d=o.onEnter(n,c,a,l);if(!d)return null;const u=d.indentAction;let h=d.appendText;const f=d.removeText||0;h?u===Bn.Indent&&(h="	"+h):u===Bn.Indent||u===Bn.IndentOutdent?h="	":h="";let g=$ae(e,t.startLineNumber,t.startColumn);return f&&(g=g.substring(0,g.length-f)),{indentAction:u,appendText:h,removeText:f,indentation:g}}var zMe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},jMe=function(n,e){return function(t,i){e(t,i,n)}},gT;const jA=Object.create(null);function Dp(n,e){if(e<=0)return"";jA[n]||(jA[n]=["",n]);const t=jA[n];for(let i=t.length;i<=e;i++)t[i]=t[i-1]+n;return t[e]}let Ua=gT=class{static unshiftIndent(e,t,i,r,o){const s=ir.visibleColumnFromColumn(e,t,i);if(o){const a=Dp(" ",r),c=ir.prevIndentTabStop(s,r)/r;return Dp(a,c)}else{const a="	",c=ir.prevRenderTabStop(s,i)/i;return Dp(a,c)}}static shiftIndent(e,t,i,r,o){const s=ir.visibleColumnFromColumn(e,t,i);if(o){const a=Dp(" ",r),c=ir.nextIndentTabStop(s,r)/r;return Dp(a,c)}else{const a="	",c=ir.nextRenderTabStop(s,i)/i;return Dp(a,c)}}constructor(e,t,i){this._languageConfigurationService=i,this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(e,t,i){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,i):e.addEditOperation(t,i)}getEditOperations(e,t){const i=this._selection.startLineNumber;let r=this._selection.endLineNumber;this._selection.endColumn===1&&i!==r&&(r=r-1);const{tabSize:o,indentSize:s,insertSpaces:a}=this._opts,l=i===r;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(i))&&(this._useLastEditRangeForCursorEndPosition=!0);let c=0,d=0;for(let u=i;u<=r;u++,c=d){d=0;const h=e.getLineContent(u);let f=xo(h);if(this._opts.isUnshift&&(h.length===0||f===0)||!l&&!this._opts.isUnshift&&h.length===0)continue;if(f===-1&&(f=h.length),u>1&&ir.visibleColumnFromColumn(h,f+1,o)%s!==0&&e.tokenization.isCheapToTokenize(u-1)){const y=Fv(this._opts.autoIndent,e,new B(u-1,e.getLineMaxColumn(u-1),u-1,e.getLineMaxColumn(u-1)),this._languageConfigurationService);if(y){if(d=c,y.appendText)for(let m=0,p=y.appendText.length;m<p&&d<s&&y.appendText.charCodeAt(m)===32;m++)d++;y.removeText&&(d=Math.max(0,d-y.removeText));for(let m=0;m<d&&!(f===0||h.charCodeAt(f-1)!==32);m++)f--}}if(this._opts.isUnshift&&f===0)continue;let g;this._opts.isUnshift?g=gT.unshiftIndent(h,f+1,o,s,a):g=gT.shiftIndent(h,f+1,o,s,a),this._addEditOperation(t,new B(u,1,u,f+1),g),u===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=f+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&e.getLineLength(i)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const c=a?Dp(" ",s):"	";for(let d=i;d<=r;d++){const u=e.getLineContent(d);let h=xo(u);if(!(this._opts.isUnshift&&(u.length===0||h===0))&&!(!l&&!this._opts.isUnshift&&u.length===0)&&(h===-1&&(h=u.length),!(this._opts.isUnshift&&h===0)))if(this._opts.isUnshift){h=Math.min(h,s);for(let f=0;f<h;f++)if(u.charCodeAt(f)===9){h=f+1;break}this._addEditOperation(t,new B(d,1,d,h+1),"")}else this._addEditOperation(t,new B(d,1,d,1),c),d===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){const r=t.getInverseEditOperations()[0];return new Ke(r.range.endLineNumber,r.range.endColumn,r.range.endLineNumber,r.range.endColumn)}const i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const r=this._selection.startColumn;return i.startColumn<=r?i:i.getDirection()===0?new Ke(i.startLineNumber,r,i.endLineNumber,i.endColumn):new Ke(i.endLineNumber,i.endColumn,i.startLineNumber,r)}return i}};Ua=gT=zMe([jMe(2,Pi)],Ua);class UMe{constructor(e,t,i){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=i}getEditOperations(e,t){t.addTrackedEditOperation(new B(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new B(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){const i=t.getInverseEditOperations(),r=i[0].range,o=i[1].range;return new Ke(r.endLineNumber,r.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)}}class $Me{constructor(e,t,i){this._position=e,this._text=t,this._charAfter=i}getEditOperations(e,t){t.addTrackedEditOperation(new B(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return new Ke(r.endLineNumber,r.startColumn,r.endLineNumber,r.endColumn-this._charAfter.length)}}function qMe(n,e,t){const i=n.tokenization.getLanguageIdAtPosition(e,0);if(e>1){let r,o=-1;for(r=e-1;r>=1;r--){if(n.tokenization.getLanguageIdAtPosition(r,0)!==i)return o;const s=n.getLineContent(r);if(t.shouldIgnore(s)||/^\s+$/.test(s)||s===""){o=r;continue}return r}}return-1}function QP(n,e,t,i=!0,r){if(n<4)return null;const o=r.getLanguageConfiguration(e.tokenization.getLanguageId()).indentRulesSupport;if(!o)return null;if(t<=1)return{indentation:"",action:null};for(let l=t-1;l>0&&e.getLineContent(l)==="";l--)if(l===1)return{indentation:"",action:null};const s=qMe(e,t,o);if(s<0)return null;if(s<1)return{indentation:"",action:null};const a=e.getLineContent(s);if(o.shouldIncrease(a)||o.shouldIndentNextLine(a))return{indentation:Ti(a),action:Bn.Indent,line:s};if(o.shouldDecrease(a))return{indentation:Ti(a),action:null,line:s};{if(s===1)return{indentation:Ti(e.getLineContent(s)),action:null,line:s};const l=s-1,c=o.getIndentMetadata(e.getLineContent(l));if(!(c&3)&&c&4){let d=0;for(let u=l-1;u>0;u--)if(!o.shouldIndentNextLine(e.getLineContent(u))){d=u;break}return{indentation:Ti(e.getLineContent(d+1)),action:null,line:d+1}}if(i)return{indentation:Ti(e.getLineContent(s)),action:null,line:s};for(let d=s;d>0;d--){const u=e.getLineContent(d);if(o.shouldIncrease(u))return{indentation:Ti(u),action:Bn.Indent,line:d};if(o.shouldIndentNextLine(u)){let h=0;for(let f=d-1;f>0;f--)if(!o.shouldIndentNextLine(e.getLineContent(d))){h=f;break}return{indentation:Ti(e.getLineContent(h+1)),action:null,line:h+1}}else if(o.shouldDecrease(u))return{indentation:Ti(u),action:null,line:d}}return{indentation:Ti(e.getLineContent(1)),action:null,line:1}}}function Aw(n,e,t,i,r,o){if(n<4)return null;const s=o.getLanguageConfiguration(t);if(!s)return null;const a=o.getLanguageConfiguration(t).indentRulesSupport;if(!a)return null;const l=QP(n,e,i,void 0,o),c=e.getLineContent(i);if(l){const d=l.line;if(d!==void 0){let u=!0;for(let h=d;h<i-1;h++)if(!/^\s*$/.test(e.getLineContent(h))){u=!1;break}if(u){const h=s.onEnter(n,"",e.getLineContent(d),"");if(h){let f=Ti(e.getLineContent(d));return h.removeText&&(f=f.substring(0,f.length-h.removeText)),h.indentAction===Bn.Indent||h.indentAction===Bn.IndentOutdent?f=r.shiftIndent(f):h.indentAction===Bn.Outdent&&(f=r.unshiftIndent(f)),a.shouldDecrease(c)&&(f=r.unshiftIndent(f)),h.appendText&&(f+=h.appendText),Ti(f)}}}return a.shouldDecrease(c)?l.action===Bn.Indent?l.indentation:r.unshiftIndent(l.indentation):l.action===Bn.Indent?r.shiftIndent(l.indentation):l.indentation}return null}function KMe(n,e,t,i,r){if(n<4)return null;e.tokenization.forceTokenization(t.startLineNumber);const o=e.tokenization.getLineTokens(t.startLineNumber),s=BP(o,t.startColumn-1),a=s.getLineContent();let l=!1,c;s.firstCharOffset>0&&o.getLanguageId(0)!==s.languageId?(l=!0,c=a.substr(0,t.startColumn-1-s.firstCharOffset)):c=o.getLineContent().substring(0,t.startColumn-1);let d;t.isEmpty()?d=a.substr(t.startColumn-1-s.firstCharOffset):d=Nv(e,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-s.firstCharOffset);const u=r.getLanguageConfiguration(s.languageId).indentRulesSupport;if(!u)return null;const h=c,f=Ti(c),g={tokenization:{getLineTokens:p=>e.tokenization.getLineTokens(p),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(p,v)=>e.getLanguageIdAtPosition(p,v)},getLineContent:p=>p===t.startLineNumber?h:e.getLineContent(p)},_=Ti(o.getLineContent()),y=QP(n,g,t.startLineNumber+1,void 0,r);if(!y){const p=l?_:f;return{beforeEnter:p,afterEnter:p}}let m=l?_:y.indentation;return y.action===Bn.Indent&&(m=i.shiftIndent(m)),u.shouldDecrease(d)&&(m=i.unshiftIndent(m)),{beforeEnter:l?_:f,afterEnter:m}}function GMe(n,e,t,i,r,o){if(n<4)return null;const s=Nv(e,t.startLineNumber,t.startColumn);if(s.firstCharOffset)return null;const a=o.getLanguageConfiguration(s.languageId).indentRulesSupport;if(!a)return null;const l=s.getLineContent(),c=l.substr(0,t.startColumn-1-s.firstCharOffset);let d;if(t.isEmpty()?d=l.substr(t.startColumn-1-s.firstCharOffset):d=Nv(e,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-s.firstCharOffset),!a.shouldDecrease(c+d)&&a.shouldDecrease(c+i+d)){const u=QP(n,e,t.startLineNumber,!1,o);if(!u)return null;let h=u.indentation;return u.action!==Bn.Indent&&(h=r.unshiftIndent(h)),h}return null}function Ble(n,e,t){const i=t.getLanguageConfiguration(n.getLanguageId()).indentRulesSupport;return!i||e<1||e>n.getLineCount()?null:i.getIndentMetadata(n.getLineContent(e))}class en{static indent(e,t,i){if(t===null||i===null)return[];const r=[];for(let o=0,s=i.length;o<s;o++)r[o]=new Ua(i[o],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return r}static outdent(e,t,i){const r=[];for(let o=0,s=i.length;o<s;o++)r[o]=new Ua(i[o],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return r}static shiftIndent(e,t,i){return i=i||1,Ua.shiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,i){return i=i||1,Ua.unshiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,i,r){const o=[];for(let s=0,a=i.length;s<a;s++)o[s]=new Wr(i[s],r[s]);return new ns(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,i,r,o){const s=[];for(let a=0,l=i.length;a<l;a++){const c=i[a],d=c.getPosition();if(o&&!c.isEmpty()&&(o=!1),o&&r.indexOf(`
`)!==r.length-1&&(o=!1),o){const u=new B(d.lineNumber,1,d.lineNumber,1);s[a]=new $6(u,r,c,!0)}else s[a]=new Wr(c,r)}return new ns(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,i,r,o){if(r||t.length===1)return null;if(o&&o.length===t.length)return o;if(e.multiCursorPaste==="spread"){i.charCodeAt(i.length-1)===10&&(i=i.substr(0,i.length-1)),i.charCodeAt(i.length-1)===13&&(i=i.substr(0,i.length-1));const s=su(i);if(s.length===t.length)return s}return null}static paste(e,t,i,r,o,s){const a=this._distributePasteToCursors(e,i,r,o,s);return a?(i=i.sort(B.compareRangesUsingStarts),this._distributedPaste(e,t,i,a)):this._simplePaste(e,t,i,r,o)}static _goodIndentForLine(e,t,i){let r=null,o="";const s=QP(e.autoIndent,t,i,!1,e.languageConfigurationService);if(s)r=s.action,o=s.indentation;else if(i>1){let a;for(a=i-1;a>=1;a--){const d=t.getLineContent(a);if(Ac(d)>=0)break}if(a<1)return null;const l=t.getLineMaxColumn(a),c=Fv(e.autoIndent,t,new B(a,l,a,l),e.languageConfigurationService);c&&(o=c.indentation+c.appendText)}return r&&(r===Bn.Indent&&(o=en.shiftIndent(e,o)),r===Bn.Outdent&&(o=en.unshiftIndent(e,o)),o=e.normalizeIndentation(o)),o||null}static _replaceJumpToNextIndent(e,t,i,r){let o="";const s=i.getStartPosition();if(e.insertSpaces){const a=e.visibleColumnFromColumn(t,s),l=e.indentSize,c=l-a%l;for(let d=0;d<c;d++)o+=" "}else o="	";return new Wr(i,o,r)}static tab(e,t,i){const r=[];for(let o=0,s=i.length;o<s;o++){const a=i[o];if(a.isEmpty()){const l=t.getLineContent(a.startLineNumber);if(/^\s*$/.test(l)&&t.tokenization.isCheapToTokenize(a.startLineNumber)){let c=this._goodIndentForLine(e,t,a.startLineNumber);c=c||"	";const d=e.normalizeIndentation(c);if(!l.startsWith(d)){r[o]=new Wr(new B(a.startLineNumber,1,a.startLineNumber,l.length+1),d,!0);continue}}r[o]=this._replaceJumpToNextIndent(e,t,a,!0)}else{if(a.startLineNumber===a.endLineNumber){const l=t.getLineMaxColumn(a.startLineNumber);if(a.startColumn!==1||a.endColumn!==l){r[o]=this._replaceJumpToNextIndent(e,t,a,!1);continue}}r[o]=new Ua(a,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService)}}return r}static compositionType(e,t,i,r,o,s,a,l){const c=r.map(d=>this._compositionType(i,d,o,s,a,l));return new ns(4,c,{shouldPushStackElementBefore:Ik(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,i,r,o,s){if(!t.isEmpty())return null;const a=t.getPosition(),l=Math.max(1,a.column-r),c=Math.min(e.getLineMaxColumn(a.lineNumber),a.column+o),d=new B(a.lineNumber,l,a.lineNumber,c);return e.getValueInRange(d)===i&&s===0?null:new fT(d,i,0,s)}static _typeCommand(e,t,i){return i?new Tk(e,t,!0):new Wr(e,t,!0)}static _enter(e,t,i,r){if(e.autoIndent===0)return en._typeCommand(r,`
`,i);if(!t.tokenization.isCheapToTokenize(r.getStartPosition().lineNumber)||e.autoIndent===1){const l=t.getLineContent(r.startLineNumber),c=Ti(l).substring(0,r.startColumn-1);return en._typeCommand(r,`
`+e.normalizeIndentation(c),i)}const o=Fv(e.autoIndent,t,r,e.languageConfigurationService);if(o){if(o.indentAction===Bn.None)return en._typeCommand(r,`
`+e.normalizeIndentation(o.indentation+o.appendText),i);if(o.indentAction===Bn.Indent)return en._typeCommand(r,`
`+e.normalizeIndentation(o.indentation+o.appendText),i);if(o.indentAction===Bn.IndentOutdent){const l=e.normalizeIndentation(o.indentation),c=e.normalizeIndentation(o.indentation+o.appendText),d=`
`+c+`
`+l;return i?new Tk(r,d,!0):new fT(r,d,-1,c.length-l.length,!0)}else if(o.indentAction===Bn.Outdent){const l=en.unshiftIndent(e,o.indentation);return en._typeCommand(r,`
`+e.normalizeIndentation(l+o.appendText),i)}}const s=t.getLineContent(r.startLineNumber),a=Ti(s).substring(0,r.startColumn-1);if(e.autoIndent>=4){const l=KMe(e.autoIndent,t,r,{unshiftIndent:c=>en.unshiftIndent(e,c),shiftIndent:c=>en.shiftIndent(e,c),normalizeIndentation:c=>e.normalizeIndentation(c)},e.languageConfigurationService);if(l){let c=e.visibleColumnFromColumn(t,r.getEndPosition());const d=r.endColumn,u=t.getLineContent(r.endLineNumber),h=xo(u);if(h>=0?r=r.setEndPosition(r.endLineNumber,Math.max(r.endColumn,h+1)):r=r.setEndPosition(r.endLineNumber,t.getLineMaxColumn(r.endLineNumber)),i)return new Tk(r,`
`+e.normalizeIndentation(l.afterEnter),!0);{let f=0;return d<=h+1&&(e.insertSpaces||(c=Math.ceil(c/e.indentSize)),f=Math.min(c+1-e.normalizeIndentation(l.afterEnter).length-1,0)),new fT(r,`
`+e.normalizeIndentation(l.afterEnter),0,f,!0)}}}return en._typeCommand(r,`
`+e.normalizeIndentation(a),i)}static _isAutoIndentType(e,t,i){if(e.autoIndent<4)return!1;for(let r=0,o=i.length;r<o;r++)if(!t.tokenization.isCheapToTokenize(i[r].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,i,r){const o=$ae(t,i.startLineNumber,i.startColumn),s=GMe(e.autoIndent,t,i,r,{shiftIndent:a=>en.shiftIndent(e,a),unshiftIndent:a=>en.unshiftIndent(e,a)},e.languageConfigurationService);if(s===null)return null;if(s!==e.normalizeIndentation(o)){const a=t.getLineFirstNonWhitespaceColumn(i.startLineNumber);return a===0?en._typeCommand(new B(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(s)+r,!1):en._typeCommand(new B(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(s)+t.getLineContent(i.startLineNumber).substring(a-1,i.startColumn-1)+r,!1)}return null}static _isAutoClosingOvertype(e,t,i,r,o){if(e.autoClosingOvertype==="never"||!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(o))return!1;for(let s=0,a=i.length;s<a;s++){const l=i[s];if(!l.isEmpty())return!1;const c=l.getPosition(),d=t.getLineContent(c.lineNumber);if(d.charAt(c.column-1)!==o)return!1;const h=mf(o);if((c.column>2?d.charCodeAt(c.column-2):0)===92&&h)return!1;if(e.autoClosingOvertype==="auto"){let g=!1;for(let _=0,y=r.length;_<y;_++){const m=r[_];if(c.lineNumber===m.startLineNumber&&c.column===m.startColumn){g=!0;break}}if(!g)return!1}}return!0}static _runAutoClosingOvertype(e,t,i,r,o){const s=[];for(let a=0,l=r.length;a<l;a++){const d=r[a].getPosition(),u=new B(d.lineNumber,d.column,d.lineNumber,d.column+1);s[a]=new Wr(u,o)}return new ns(4,s,{shouldPushStackElementBefore:Ik(e,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(e,t){const i=t.charAt(0),r=e.autoClosingPairs.autoClosingPairsOpenByStart.get(i)||[],o=e.autoClosingPairs.autoClosingPairsCloseByStart.get(i)||[],s=r.some(l=>t.startsWith(l.open)),a=o.some(l=>t.startsWith(l.close));return!s&&a}static _findAutoClosingPairOpen(e,t,i,r){const o=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(r);if(!o)return null;let s=null;for(const a of o)if(s===null||a.open.length>s.open.length){let l=!0;for(const c of i)if(t.getValueInRange(new B(c.lineNumber,c.column-a.open.length+1,c.lineNumber,c.column))+r!==a.open){l=!1;break}l&&(s=a)}return s}static _findContainedAutoClosingPair(e,t){if(t.open.length<=1)return null;const i=t.close.charAt(t.close.length-1),r=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(i)||[];let o=null;for(const s of r)s.open!==t.open&&t.open.includes(s.open)&&t.close.endsWith(s.close)&&(!o||s.open.length>o.open.length)&&(o=s);return o}static _getAutoClosingPairClose(e,t,i,r,o){for(const g of i)if(!g.isEmpty())return null;const s=i.map(g=>{const _=g.getPosition();return o?{lineNumber:_.lineNumber,beforeColumn:_.column-r.length,afterColumn:_.column}:{lineNumber:_.lineNumber,beforeColumn:_.column,afterColumn:_.column}}),a=this._findAutoClosingPairOpen(e,t,s.map(g=>new re(g.lineNumber,g.beforeColumn)),r);if(!a)return null;let l,c;if(mf(r)?(l=e.autoClosingQuotes,c=e.shouldAutoCloseBefore.quote):(e.blockCommentStartToken?a.open.includes(e.blockCommentStartToken):!1)?(l=e.autoClosingComments,c=e.shouldAutoCloseBefore.comment):(l=e.autoClosingBrackets,c=e.shouldAutoCloseBefore.bracket),l==="never")return null;const u=this._findContainedAutoClosingPair(e,a),h=u?u.close:"";let f=!0;for(const g of s){const{lineNumber:_,beforeColumn:y,afterColumn:m}=g,p=t.getLineContent(_),v=p.substring(0,y-1),b=p.substring(m-1);if(b.startsWith(h)||(f=!1),b.length>0){const k=b.charAt(0);if(!en._isBeforeClosingBrace(e,b)&&!c(k))return null}if(a.open.length===1&&(r==="'"||r==='"')&&l!=="always"){const k=rl(e.wordSeparators);if(v.length>0){const D=v.charCodeAt(v.length-1);if(k.get(D)===0)return null}}if(!t.tokenization.isCheapToTokenize(_))return null;t.tokenization.forceTokenization(_);const C=t.tokenization.getLineTokens(_),S=BP(C,y-1);if(!a.shouldAutoClose(S,y-S.firstCharOffset))return null;const x=a.findNeutralCharacter();if(x){const k=t.tokenization.getTokenTypeIfInsertingCharacter(_,y,x);if(!a.isOK(k))return null}}return f?a.close.substring(0,a.close.length-h.length):a.close}static _runAutoClosingOpenCharType(e,t,i,r,o,s,a){const l=[];for(let c=0,d=r.length;c<d;c++){const u=r[c];l[c]=new Wle(u,o,!s,a)}return new ns(4,l,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return mf(t)?e.autoSurround==="quotes"||e.autoSurround==="languageDefined":e.autoSurround==="brackets"||e.autoSurround==="languageDefined"}static _isSurroundSelectionType(e,t,i,r){if(!en._shouldSurroundChar(e,r)||!e.surroundingPairs.hasOwnProperty(r))return!1;const o=mf(r);for(const s of i){if(s.isEmpty())return!1;let a=!0;for(let l=s.startLineNumber;l<=s.endLineNumber;l++){const c=t.getLineContent(l),d=l===s.startLineNumber?s.startColumn-1:0,u=l===s.endLineNumber?s.endColumn-1:c.length,h=c.substring(d,u);if(/[^ \t]/.test(h)){a=!1;break}}if(a)return!1;if(o&&s.startLineNumber===s.endLineNumber&&s.startColumn+1===s.endColumn){const l=t.getValueInRange(s);if(mf(l))return!1}}return!0}static _runSurroundSelectionType(e,t,i,r,o){const s=[];for(let a=0,l=r.length;a<l;a++){const c=r[a],d=t.surroundingPairs[o];s[a]=new UMe(c,o,d)}return new ns(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,i){return!!(i.length===1&&t.tokenization.isCheapToTokenize(i[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,i,r,o){if(!t.electricChars.hasOwnProperty(o)||!r.isEmpty())return null;const s=r.getPosition();i.tokenization.forceTokenization(s.lineNumber);const a=i.tokenization.getLineTokens(s.lineNumber);let l;try{l=t.onElectricCharacter(o,a,s.column)}catch(c){return St(c),null}if(!l)return null;if(l.matchOpenBracket){const c=(a.getLineContent()+o).lastIndexOf(l.matchOpenBracket)+1,d=i.bracketPairs.findMatchingBracketUp(l.matchOpenBracket,{lineNumber:s.lineNumber,column:c},500);if(d){if(d.startLineNumber===s.lineNumber)return null;const u=i.getLineContent(d.startLineNumber),h=Ti(u),f=t.normalizeIndentation(h),g=i.getLineContent(s.lineNumber),_=i.getLineFirstNonWhitespaceColumn(s.lineNumber)||s.column,y=g.substring(_-1,s.column-1),m=f+y+o,p=new B(s.lineNumber,1,s.lineNumber,s.column),v=new Wr(p,m);return new ns(UA(m,e),[v],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,t,i,r,o,s){if(!r)return null;let a=null;for(const u of r)if(a===null)a=u.insertedText;else if(a!==u.insertedText)return null;if(!a||a.length!==1)return null;const l=a;let c=!1;for(const u of r)if(u.deletedText.length!==0){c=!0;break}if(c){if(!en._shouldSurroundChar(t,l)||!t.surroundingPairs.hasOwnProperty(l))return null;const u=mf(l);for(const g of r)if(g.deletedSelectionStart!==0||g.deletedSelectionEnd!==g.deletedText.length||/^[ \t]+$/.test(g.deletedText)||u&&mf(g.deletedText))return null;const h=[];for(const g of o){if(!g.isEmpty())return null;h.push(g.getPosition())}if(h.length!==r.length)return null;const f=[];for(let g=0,_=h.length;g<_;g++)f.push(new $Me(h[g],r[g].deletedText,t.surroundingPairs[l]));return new ns(4,f,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(t,i,o,s,l)){const u=o.map(h=>new Wr(new B(h.positionLineNumber,h.positionColumn,h.positionLineNumber,h.positionColumn+1),"",!1));return new ns(4,u,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const d=this._getAutoClosingPairClose(t,i,o,l,!0);return d!==null?this._runAutoClosingOpenCharType(e,t,i,o,l,!0,d):null}static typeWithInterceptors(e,t,i,r,o,s,a){if(!e&&a===`
`){const d=[];for(let u=0,h=o.length;u<h;u++)d[u]=en._enter(i,r,!1,o[u]);return new ns(4,d,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(i,r,o)){const d=[];let u=!1;for(let h=0,f=o.length;h<f;h++)if(d[h]=this._runAutoIndentType(i,r,o[h],a),!d[h]){u=!0;break}if(!u)return new ns(4,d,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(i,r,o,s,a))return this._runAutoClosingOvertype(t,i,r,o,a);if(!e){const d=this._getAutoClosingPairClose(i,r,o,a,!1);if(d)return this._runAutoClosingOpenCharType(t,i,r,o,a,!1,d)}if(!e&&this._isSurroundSelectionType(i,r,o,a))return this._runSurroundSelectionType(t,i,r,o,a);if(!e&&this._isTypeInterceptorElectricChar(i,r,o)){const d=this._typeInterceptorElectricChar(t,i,r,o[0],a);if(d)return d}const l=[];for(let d=0,u=o.length;d<u;d++)l[d]=new Wr(o[d],a);const c=UA(a,t);return new ns(c,l,{shouldPushStackElementBefore:Ik(t,c),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,i,r,o){const s=[];for(let l=0,c=r.length;l<c;l++)s[l]=new Wr(r[l],o);const a=UA(o,e);return new ns(a,s,{shouldPushStackElementBefore:Ik(e,a),shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,i){if(t===null||i===null)return[];const r=[];for(let o=0,s=i.length;o<s;o++){let a=i[o].positionLineNumber;if(a===1)r[o]=new Tk(new B(1,1,1,1),`
`);else{a--;const l=t.getLineMaxColumn(a);r[o]=this._enter(e,t,!1,new B(a,l,a,l))}}return r}static lineInsertAfter(e,t,i){if(t===null||i===null)return[];const r=[];for(let o=0,s=i.length;o<s;o++){const a=i[o].positionLineNumber,l=t.getLineMaxColumn(a);r[o]=this._enter(e,t,!1,new B(a,l,a,l))}return r}static lineBreakInsert(e,t,i){const r=[];for(let o=0,s=i.length;o<s;o++)r[o]=this._enter(e,t,!0,i[o]);return r}}class Wle extends fT{constructor(e,t,i,r){super(e,(i?t:"")+r,0,-r.length),this._openCharacter=t,this._closeCharacter=r,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new B(r.startLineNumber,r.endColumn-this._closeCharacter.length,r.endLineNumber,r.endColumn),this.enclosingRange=new B(r.startLineNumber,r.endColumn-this._openCharacter.length-this._closeCharacter.length,r.endLineNumber,r.endColumn),super.computeCursorState(e,t)}}class ZMe{constructor(e,t,i,r,o,s){this.deletedText=e,this.deletedSelectionStart=t,this.deletedSelectionEnd=i,this.insertedText=r,this.insertedSelectionStart=o,this.insertedSelectionEnd=s}}function UA(n,e){return n===" "?e===5||e===6?6:5:4}function Ik(n,e){return iG(n)&&!iG(e)?!0:n===5?!1:tG(n)!==tG(e)}function tG(n){return n===6||n===5?"space":n}function iG(n){return n===4||n===5||n===6}var j;(function(n){n.editorSimpleInput=new je("editorSimpleInput",!1,!0),n.editorTextFocus=new je("editorTextFocus",!1,w("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),n.focus=new je("editorFocus",!1,w("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),n.textInputFocus=new je("textInputFocus",!1,w("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),n.readOnly=new je("editorReadonly",!1,w("editorReadonly","Whether the editor is read-only")),n.inDiffEditor=new je("inDiffEditor",!1,w("inDiffEditor","Whether the context is a diff editor")),n.isEmbeddedDiffEditor=new je("isEmbeddedDiffEditor",!1,w("isEmbeddedDiffEditor","Whether the context is an embedded diff editor")),n.inMultiDiffEditor=new je("inMultiDiffEditor",!1,w("inMultiDiffEditor","Whether the context is a multi diff editor")),n.multiDiffEditorAllCollapsed=new je("multiDiffEditorAllCollapsed",void 0,w("multiDiffEditorAllCollapsed","Whether all files in multi diff editor are collapsed")),n.hasChanges=new je("diffEditorHasChanges",!1,w("diffEditorHasChanges","Whether the diff editor has changes")),n.comparingMovedCode=new je("comparingMovedCode",!1,w("comparingMovedCode","Whether a moved code block is selected for comparison")),n.accessibleDiffViewerVisible=new je("accessibleDiffViewerVisible",!1,w("accessibleDiffViewerVisible","Whether the accessible diff viewer is visible")),n.diffEditorRenderSideBySideInlineBreakpointReached=new je("diffEditorRenderSideBySideInlineBreakpointReached",!1,w("diffEditorRenderSideBySideInlineBreakpointReached","Whether the diff editor render side by side inline breakpoint is reached")),n.columnSelection=new je("editorColumnSelection",!1,w("editorColumnSelection","Whether `editor.columnSelection` is enabled")),n.writable=n.readOnly.toNegated(),n.hasNonEmptySelection=new je("editorHasSelection",!1,w("editorHasSelection","Whether the editor has text selected")),n.hasOnlyEmptySelection=n.hasNonEmptySelection.toNegated(),n.hasMultipleSelections=new je("editorHasMultipleSelections",!1,w("editorHasMultipleSelections","Whether the editor has multiple selections")),n.hasSingleSelection=n.hasMultipleSelections.toNegated(),n.tabMovesFocus=new je("editorTabMovesFocus",!1,w("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),n.tabDoesNotMoveFocus=n.tabMovesFocus.toNegated(),n.isInWalkThroughSnippet=new je("isInEmbeddedEditor",!1,!0),n.canUndo=new je("canUndo",!1,!0),n.canRedo=new je("canRedo",!1,!0),n.hoverVisible=new je("editorHoverVisible",!1,w("editorHoverVisible","Whether the editor hover is visible")),n.hoverFocused=new je("editorHoverFocused",!1,w("editorHoverFocused","Whether the editor hover is focused")),n.stickyScrollFocused=new je("stickyScrollFocused",!1,w("stickyScrollFocused","Whether the sticky scroll is focused")),n.stickyScrollVisible=new je("stickyScrollVisible",!1,w("stickyScrollVisible","Whether the sticky scroll is visible")),n.standaloneColorPickerVisible=new je("standaloneColorPickerVisible",!1,w("standaloneColorPickerVisible","Whether the standalone color picker is visible")),n.standaloneColorPickerFocused=new je("standaloneColorPickerFocused",!1,w("standaloneColorPickerFocused","Whether the standalone color picker is focused")),n.inCompositeEditor=new je("inCompositeEditor",void 0,w("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),n.notInCompositeEditor=n.inCompositeEditor.toNegated(),n.languageId=new je("editorLangId","",w("editorLangId","The language identifier of the editor")),n.hasCompletionItemProvider=new je("editorHasCompletionItemProvider",!1,w("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),n.hasCodeActionsProvider=new je("editorHasCodeActionsProvider",!1,w("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),n.hasCodeLensProvider=new je("editorHasCodeLensProvider",!1,w("editorHasCodeLensProvider","Whether the editor has a code lens provider")),n.hasDefinitionProvider=new je("editorHasDefinitionProvider",!1,w("editorHasDefinitionProvider","Whether the editor has a definition provider")),n.hasDeclarationProvider=new je("editorHasDeclarationProvider",!1,w("editorHasDeclarationProvider","Whether the editor has a declaration provider")),n.hasImplementationProvider=new je("editorHasImplementationProvider",!1,w("editorHasImplementationProvider","Whether the editor has an implementation provider")),n.hasTypeDefinitionProvider=new je("editorHasTypeDefinitionProvider",!1,w("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),n.hasHoverProvider=new je("editorHasHoverProvider",!1,w("editorHasHoverProvider","Whether the editor has a hover provider")),n.hasDocumentHighlightProvider=new je("editorHasDocumentHighlightProvider",!1,w("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),n.hasDocumentSymbolProvider=new je("editorHasDocumentSymbolProvider",!1,w("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),n.hasReferenceProvider=new je("editorHasReferenceProvider",!1,w("editorHasReferenceProvider","Whether the editor has a reference provider")),n.hasRenameProvider=new je("editorHasRenameProvider",!1,w("editorHasRenameProvider","Whether the editor has a rename provider")),n.hasSignatureHelpProvider=new je("editorHasSignatureHelpProvider",!1,w("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),n.hasInlayHintsProvider=new je("editorHasInlayHintsProvider",!1,w("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),n.hasDocumentFormattingProvider=new je("editorHasDocumentFormattingProvider",!1,w("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),n.hasDocumentSelectionFormattingProvider=new je("editorHasDocumentSelectionFormattingProvider",!1,w("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),n.hasMultipleDocumentFormattingProvider=new je("editorHasMultipleDocumentFormattingProvider",!1,w("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),n.hasMultipleDocumentSelectionFormattingProvider=new je("editorHasMultipleDocumentSelectionFormattingProvider",!1,w("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(j||(j={}));const ui=0;class gn extends kr{runEditorCommand(e,t,i){const r=t._getViewModel();r&&this.runCoreEditorCommand(r,i||{})}}var Fr;(function(n){const e=function(i){if(!Oo(i))return!1;const r=i;return!(!Ho(r.to)||!Ms(r.by)&&!Ho(r.by)||!Ms(r.value)&&!Ig(r.value)||!Ms(r.revealCursor)&&!pse(r.revealCursor))};n.metadata={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},n.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},n.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function t(i){let r;switch(i.to){case n.RawDirection.Up:r=1;break;case n.RawDirection.Right:r=2;break;case n.RawDirection.Down:r=3;break;case n.RawDirection.Left:r=4;break;default:return null}let o;switch(i.by){case n.RawUnit.Line:o=1;break;case n.RawUnit.WrappedLine:o=2;break;case n.RawUnit.Page:o=3;break;case n.RawUnit.HalfPage:o=4;break;case n.RawUnit.Editor:o=5;break;case n.RawUnit.Column:o=6;break;default:o=2}const s=Math.floor(i.value||1),a=!!i.revealCursor;return{direction:r,unit:o,value:s,revealCursor:a,select:!!i.select}}n.parse=t})(Fr||(Fr={}));var sv;(function(n){const e=function(t){if(!Oo(t))return!1;const i=t;return!(!Ig(i.lineNumber)&&!Ho(i.lineNumber)||!Ms(i.at)&&!Ho(i.at))};n.metadata={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:e,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},n.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(sv||(sv={}));class o3{constructor(e){e.addImplementation(1e4,"code-editor",(t,i)=>{const r=t.get(ai).getFocusedCodeEditor();return r&&r.hasTextFocus()?this._runEditorCommand(t,r,i):!1}),e.addImplementation(1e3,"generic-dom-input-textarea",(t,i)=>{const r=qr();return r&&["input","textarea"].indexOf(r.tagName.toLowerCase())>=0?(this.runDOMCommand(r),!0):!1}),e.addImplementation(0,"generic-dom",(t,i)=>{const r=t.get(ai).getActiveCodeEditor();return r?(r.focus(),this._runEditorCommand(t,r,i)):!1})}_runEditorCommand(e,t,i){const r=this.runEditorCommand(e,t,i);return r||!0}}var vr;(function(n){class e extends gn{constructor(p){super(p),this._inSelectionMode=p.inSelectionMode}runCoreEditorCommand(p,v){if(!v.position)return;p.model.pushStackElement(),p.setCursorStates(v.source,3,[Tr.moveTo(p,p.getPrimaryCursorState(),this._inSelectionMode,v.position,v.viewPosition)])&&v.revealType!==2&&p.revealPrimaryCursor(v.source,!0,!0)}}n.MoveTo=We(new e({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),n.MoveToSelect=We(new e({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class t extends gn{runCoreEditorCommand(p,v){p.model.pushStackElement();const b=this._getColumnSelectResult(p,p.getPrimaryCursorState(),p.getCursorColumnSelectData(),v);b!==null&&(p.setCursorStates(v.source,3,b.viewStates.map(C=>ei.fromViewState(C))),p.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:b.fromLineNumber,fromViewVisualColumn:b.fromVisualColumn,toViewLineNumber:b.toLineNumber,toViewVisualColumn:b.toVisualColumn}),b.reversed?p.revealTopMostCursor(v.source):p.revealBottomMostCursor(v.source))}}n.ColumnSelect=We(new class extends t{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(m,p,v,b){if(typeof b.position>"u"||typeof b.viewPosition>"u"||typeof b.mouseColumn>"u")return null;const C=m.model.validatePosition(b.position),S=m.coordinatesConverter.validateViewPosition(new re(b.viewPosition.lineNumber,b.viewPosition.column),C),x=b.doColumnSelect?v.fromViewLineNumber:S.lineNumber,k=b.doColumnSelect?v.fromViewVisualColumn:b.mouseColumn-1;return Qp.columnSelect(m.cursorConfig,m,x,k,S.lineNumber,b.mouseColumn-1)}}),n.CursorColumnSelectLeft=We(new class extends t{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(m,p,v,b){return Qp.columnSelectLeft(m.cursorConfig,m,v)}}),n.CursorColumnSelectRight=We(new class extends t{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(m,p,v,b){return Qp.columnSelectRight(m.cursorConfig,m,v)}});class i extends t{constructor(p){super(p),this._isPaged=p.isPaged}_getColumnSelectResult(p,v,b,C){return Qp.columnSelectUp(p.cursorConfig,p,b,this._isPaged)}}n.CursorColumnSelectUp=We(new i({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:3600,linux:{primary:0}}})),n.CursorColumnSelectPageUp=We(new i({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:3595,linux:{primary:0}}}));class r extends t{constructor(p){super(p),this._isPaged=p.isPaged}_getColumnSelectResult(p,v,b,C){return Qp.columnSelectDown(p.cursorConfig,p,b,this._isPaged)}}n.CursorColumnSelectDown=We(new r({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:3602,linux:{primary:0}}})),n.CursorColumnSelectPageDown=We(new r({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:3596,linux:{primary:0}}}));class o extends gn{constructor(){super({id:"cursorMove",precondition:void 0,metadata:oI.metadata})}runCoreEditorCommand(p,v){const b=oI.parse(v);b&&this._runCursorMove(p,v.source,b)}_runCursorMove(p,v,b){p.model.pushStackElement(),p.setCursorStates(v,3,o._move(p,p.getCursorStates(),b)),p.revealPrimaryCursor(v,!0)}static _move(p,v,b){const C=b.select,S=b.value;switch(b.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return Tr.simpleMove(p,v,b.direction,C,S,b.unit);case 11:case 13:case 12:case 14:return Tr.viewportMove(p,v,b.direction,C,S);default:return null}}}n.CursorMoveImpl=o,n.CursorMove=We(new o);class s extends gn{constructor(p){super(p),this._staticArgs=p.args}runCoreEditorCommand(p,v){let b=this._staticArgs;this._staticArgs.value===-1&&(b={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:v.pageSize||p.cursorConfig.pageSize}),p.model.pushStackElement(),p.setCursorStates(v.source,3,Tr.simpleMove(p,p.getCursorStates(),b.direction,b.select,b.value,b.unit)),p.revealPrimaryCursor(v.source,!0)}}n.CursorLeft=We(new s({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),n.CursorLeftSelect=We(new s({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:1039}})),n.CursorRight=We(new s({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),n.CursorRightSelect=We(new s({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:1041}})),n.CursorUp=We(new s({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),n.CursorUpSelect=We(new s({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),n.CursorPageUp=We(new s({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:11}})),n.CursorPageUpSelect=We(new s({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:1035}})),n.CursorDown=We(new s({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),n.CursorDownSelect=We(new s({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),n.CursorPageDown=We(new s({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:12}})),n.CursorPageDownSelect=We(new s({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:1036}})),n.CreateCursor=We(new class extends gn{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(m,p){if(!p.position)return;let v;p.wholeLine?v=Tr.line(m,m.getPrimaryCursorState(),!1,p.position,p.viewPosition):v=Tr.moveTo(m,m.getPrimaryCursorState(),!1,p.position,p.viewPosition);const b=m.getCursorStates();if(b.length>1){const C=v.modelState?v.modelState.position:null,S=v.viewState?v.viewState.position:null;for(let x=0,k=b.length;x<k;x++){const D=b[x];if(!(C&&!D.modelState.selection.containsPosition(C))&&!(S&&!D.viewState.selection.containsPosition(S))){b.splice(x,1),m.model.pushStackElement(),m.setCursorStates(p.source,3,b);return}}}b.push(v),m.model.pushStackElement(),m.setCursorStates(p.source,3,b)}}),n.LastCursorMoveToSelect=We(new class extends gn{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(m,p){if(!p.position)return;const v=m.getLastAddedCursorIndex(),b=m.getCursorStates(),C=b.slice(0);C[v]=Tr.moveTo(m,b[v],!0,p.position,p.viewPosition),m.model.pushStackElement(),m.setCursorStates(p.source,3,C)}});class a extends gn{constructor(p){super(p),this._inSelectionMode=p.inSelectionMode}runCoreEditorCommand(p,v){p.model.pushStackElement(),p.setCursorStates(v.source,3,Tr.moveToBeginningOfLine(p,p.getCursorStates(),this._inSelectionMode)),p.revealPrimaryCursor(v.source,!0)}}n.CursorHome=We(new a({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),n.CursorHomeSelect=We(new a({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class l extends gn{constructor(p){super(p),this._inSelectionMode=p.inSelectionMode}runCoreEditorCommand(p,v){p.model.pushStackElement(),p.setCursorStates(v.source,3,this._exec(p.getCursorStates())),p.revealPrimaryCursor(v.source,!0)}_exec(p){const v=[];for(let b=0,C=p.length;b<C;b++){const S=p[b],x=S.modelState.position.lineNumber;v[b]=ei.fromModelState(S.modelState.move(this._inSelectionMode,x,1,0))}return v}}n.CursorLineStart=We(new l({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:0,mac:{primary:287}}})),n.CursorLineStartSelect=We(new l({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:0,mac:{primary:1311}}}));class c extends gn{constructor(p){super(p),this._inSelectionMode=p.inSelectionMode}runCoreEditorCommand(p,v){p.model.pushStackElement(),p.setCursorStates(v.source,3,Tr.moveToEndOfLine(p,p.getCursorStates(),this._inSelectionMode,v.sticky||!1)),p.revealPrimaryCursor(v.source,!0)}}n.CursorEnd=We(new c({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:ui,kbExpr:j.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},metadata:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:w("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),n.CursorEndSelect=We(new c({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:ui,kbExpr:j.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},metadata:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:w("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class d extends gn{constructor(p){super(p),this._inSelectionMode=p.inSelectionMode}runCoreEditorCommand(p,v){p.model.pushStackElement(),p.setCursorStates(v.source,3,this._exec(p,p.getCursorStates())),p.revealPrimaryCursor(v.source,!0)}_exec(p,v){const b=[];for(let C=0,S=v.length;C<S;C++){const x=v[C],k=x.modelState.position.lineNumber,D=p.model.getLineMaxColumn(k);b[C]=ei.fromModelState(x.modelState.move(this._inSelectionMode,k,D,0))}return b}}n.CursorLineEnd=We(new d({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:0,mac:{primary:291}}})),n.CursorLineEndSelect=We(new d({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:0,mac:{primary:1315}}}));class u extends gn{constructor(p){super(p),this._inSelectionMode=p.inSelectionMode}runCoreEditorCommand(p,v){p.model.pushStackElement(),p.setCursorStates(v.source,3,Tr.moveToBeginningOfBuffer(p,p.getCursorStates(),this._inSelectionMode)),p.revealPrimaryCursor(v.source,!0)}}n.CursorTop=We(new u({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:2062,mac:{primary:2064}}})),n.CursorTopSelect=We(new u({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:3086,mac:{primary:3088}}}));class h extends gn{constructor(p){super(p),this._inSelectionMode=p.inSelectionMode}runCoreEditorCommand(p,v){p.model.pushStackElement(),p.setCursorStates(v.source,3,Tr.moveToEndOfBuffer(p,p.getCursorStates(),this._inSelectionMode)),p.revealPrimaryCursor(v.source,!0)}}n.CursorBottom=We(new h({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:2061,mac:{primary:2066}}})),n.CursorBottomSelect=We(new h({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:3085,mac:{primary:3090}}}));class f extends gn{constructor(){super({id:"editorScroll",precondition:void 0,metadata:Fr.metadata})}determineScrollMethod(p){const v=[6],b=[1,2,3,4,5,6],C=[4,2],S=[1,3];return v.includes(p.unit)&&C.includes(p.direction)?this._runHorizontalEditorScroll.bind(this):b.includes(p.unit)&&S.includes(p.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(p,v){const b=Fr.parse(v);if(!b)return;const C=this.determineScrollMethod(b);C&&C(p,v.source,b)}_runVerticalEditorScroll(p,v,b){const C=this._computeDesiredScrollTop(p,b);if(b.revealCursor){const S=p.getCompletelyVisibleViewRangeAtScrollTop(C);p.setCursorStates(v,3,[Tr.findPositionInViewportIfOutside(p,p.getPrimaryCursorState(),S,b.select)])}p.viewLayout.setScrollPosition({scrollTop:C},0)}_computeDesiredScrollTop(p,v){if(v.unit===1){const S=p.viewLayout.getFutureViewport(),x=p.getCompletelyVisibleViewRangeAtScrollTop(S.top),k=p.coordinatesConverter.convertViewRangeToModelRange(x);let D;v.direction===1?D=Math.max(1,k.startLineNumber-v.value):D=Math.min(p.model.getLineCount(),k.startLineNumber+v.value);const E=p.coordinatesConverter.convertModelPositionToViewPosition(new re(D,1));return p.viewLayout.getVerticalOffsetForLineNumber(E.lineNumber)}if(v.unit===5){let S=0;return v.direction===3&&(S=p.model.getLineCount()-p.cursorConfig.pageSize),p.viewLayout.getVerticalOffsetForLineNumber(S)}let b;v.unit===3?b=p.cursorConfig.pageSize*v.value:v.unit===4?b=Math.round(p.cursorConfig.pageSize/2)*v.value:b=v.value;const C=(v.direction===1?-1:1)*b;return p.viewLayout.getCurrentScrollTop()+C*p.cursorConfig.lineHeight}_runHorizontalEditorScroll(p,v,b){const C=this._computeDesiredScrollLeft(p,b);p.viewLayout.setScrollPosition({scrollLeft:C},0)}_computeDesiredScrollLeft(p,v){const b=(v.direction===4?-1:1)*v.value;return p.viewLayout.getCurrentScrollLeft()+b*p.cursorConfig.typicalHalfwidthCharacterWidth}}n.EditorScrollImpl=f,n.EditorScroll=We(new f),n.ScrollLineUp=We(new class extends gn{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(m,p){n.EditorScroll.runCoreEditorCommand(m,{to:Fr.RawDirection.Up,by:Fr.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:p.source})}}),n.ScrollPageUp=We(new class extends gn{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(m,p){n.EditorScroll.runCoreEditorCommand(m,{to:Fr.RawDirection.Up,by:Fr.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:p.source})}}),n.ScrollEditorTop=We(new class extends gn{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus}})}runCoreEditorCommand(m,p){n.EditorScroll.runCoreEditorCommand(m,{to:Fr.RawDirection.Up,by:Fr.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:p.source})}}),n.ScrollLineDown=We(new class extends gn{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(m,p){n.EditorScroll.runCoreEditorCommand(m,{to:Fr.RawDirection.Down,by:Fr.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:p.source})}}),n.ScrollPageDown=We(new class extends gn{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(m,p){n.EditorScroll.runCoreEditorCommand(m,{to:Fr.RawDirection.Down,by:Fr.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:p.source})}}),n.ScrollEditorBottom=We(new class extends gn{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus}})}runCoreEditorCommand(m,p){n.EditorScroll.runCoreEditorCommand(m,{to:Fr.RawDirection.Down,by:Fr.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:p.source})}}),n.ScrollLeft=We(new class extends gn{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus}})}runCoreEditorCommand(m,p){n.EditorScroll.runCoreEditorCommand(m,{to:Fr.RawDirection.Left,by:Fr.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:p.source})}}),n.ScrollRight=We(new class extends gn{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus}})}runCoreEditorCommand(m,p){n.EditorScroll.runCoreEditorCommand(m,{to:Fr.RawDirection.Right,by:Fr.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:p.source})}});class g extends gn{constructor(p){super(p),this._inSelectionMode=p.inSelectionMode}runCoreEditorCommand(p,v){v.position&&(p.model.pushStackElement(),p.setCursorStates(v.source,3,[Tr.word(p,p.getPrimaryCursorState(),this._inSelectionMode,v.position)]),v.revealType!==2&&p.revealPrimaryCursor(v.source,!0,!0))}}n.WordSelect=We(new g({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),n.WordSelectDrag=We(new g({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),n.LastCursorWordSelect=We(new class extends gn{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(m,p){if(!p.position)return;const v=m.getLastAddedCursorIndex(),b=m.getCursorStates(),C=b.slice(0),S=b[v];C[v]=Tr.word(m,S,S.modelState.hasSelection(),p.position),m.model.pushStackElement(),m.setCursorStates(p.source,3,C)}});class _ extends gn{constructor(p){super(p),this._inSelectionMode=p.inSelectionMode}runCoreEditorCommand(p,v){v.position&&(p.model.pushStackElement(),p.setCursorStates(v.source,3,[Tr.line(p,p.getPrimaryCursorState(),this._inSelectionMode,v.position,v.viewPosition)]),v.revealType!==2&&p.revealPrimaryCursor(v.source,!1,!0))}}n.LineSelect=We(new _({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),n.LineSelectDrag=We(new _({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class y extends gn{constructor(p){super(p),this._inSelectionMode=p.inSelectionMode}runCoreEditorCommand(p,v){if(!v.position)return;const b=p.getLastAddedCursorIndex(),C=p.getCursorStates(),S=C.slice(0);S[b]=Tr.line(p,C[b],this._inSelectionMode,v.position,v.viewPosition),p.model.pushStackElement(),p.setCursorStates(v.source,3,S)}}n.LastCursorLineSelect=We(new y({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),n.LastCursorLineSelectDrag=We(new y({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),n.CancelSelection=We(new class extends gn{constructor(){super({id:"cancelSelection",precondition:j.hasNonEmptySelection,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(m,p){m.model.pushStackElement(),m.setCursorStates(p.source,3,[Tr.cancelSelection(m,m.getPrimaryCursorState())]),m.revealPrimaryCursor(p.source,!0)}}),n.RemoveSecondaryCursors=We(new class extends gn{constructor(){super({id:"removeSecondaryCursors",precondition:j.hasMultipleSelections,kbOpts:{weight:ui+1,kbExpr:j.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(m,p){m.model.pushStackElement(),m.setCursorStates(p.source,3,[m.getPrimaryCursorState()]),m.revealPrimaryCursor(p.source,!0),Ih(w("removedCursor","Removed secondary cursors"))}}),n.RevealLine=We(new class extends gn{constructor(){super({id:"revealLine",precondition:void 0,metadata:sv.metadata})}runCoreEditorCommand(m,p){const v=p,b=v.lineNumber||0;let C=typeof b=="number"?b+1:parseInt(b)+1;C<1&&(C=1);const S=m.model.getLineCount();C>S&&(C=S);const x=new B(C,1,C,m.model.getLineMaxColumn(C));let k=0;if(v.at)switch(v.at){case sv.RawAtArgument.Top:k=3;break;case sv.RawAtArgument.Center:k=1;break;case sv.RawAtArgument.Bottom:k=4;break}const D=m.coordinatesConverter.convertModelRangeToViewRange(x);m.revealRange(p.source,!1,D,k,0)}}),n.SelectAll=new class extends o3{constructor(){super(ZDe)}runDOMCommand(m){nl&&(m.focus(),m.select()),m.ownerDocument.execCommand("selectAll")}runEditorCommand(m,p,v){const b=p._getViewModel();b&&this.runCoreEditorCommand(b,v)}runCoreEditorCommand(m,p){m.model.pushStackElement(),m.setCursorStates("keyboard",3,[Tr.selectAll(m,m.getPrimaryCursorState())])}},n.SetSelection=We(new class extends gn{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(m,p){p.selection&&(m.model.pushStackElement(),m.setCursorStates(p.source,3,[ei.fromModelSelection(p.selection)]))}})})(vr||(vr={}));const YMe=we.and(j.textInputFocus,j.columnSelection);function Ly(n,e){vs.registerKeybindingRule({id:n,primary:e,when:YMe,weight:ui+1})}Ly(vr.CursorColumnSelectLeft.id,1039);Ly(vr.CursorColumnSelectRight.id,1041);Ly(vr.CursorColumnSelectUp.id,1040);Ly(vr.CursorColumnSelectPageUp.id,1035);Ly(vr.CursorColumnSelectDown.id,1042);Ly(vr.CursorColumnSelectPageDown.id,1036);function nG(n){return n.register(),n}var Bv;(function(n){class e extends kr{runEditorCommand(i,r,o){const s=r._getViewModel();s&&this.runCoreEditingCommand(r,s,o||{})}}n.CoreEditingCommand=e,n.LineBreakInsert=We(new class extends e{constructor(){super({id:"lineBreakInsert",precondition:j.writable,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(t,i,r){t.pushUndoStop(),t.executeCommands(this.id,en.lineBreakInsert(i.cursorConfig,i.model,i.getCursorStates().map(o=>o.modelState.selection)))}}),n.Outdent=We(new class extends e{constructor(){super({id:"outdent",precondition:j.writable,kbOpts:{weight:ui,kbExpr:we.and(j.editorTextFocus,j.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(t,i,r){t.pushUndoStop(),t.executeCommands(this.id,en.outdent(i.cursorConfig,i.model,i.getCursorStates().map(o=>o.modelState.selection))),t.pushUndoStop()}}),n.Tab=We(new class extends e{constructor(){super({id:"tab",precondition:j.writable,kbOpts:{weight:ui,kbExpr:we.and(j.editorTextFocus,j.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(t,i,r){t.pushUndoStop(),t.executeCommands(this.id,en.tab(i.cursorConfig,i.model,i.getCursorStates().map(o=>o.modelState.selection))),t.pushUndoStop()}}),n.DeleteLeft=We(new class extends e{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(t,i,r){const[o,s]=Ym.deleteLeft(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection),i.getCursorAutoClosedCharacters());o&&t.pushUndoStop(),t.executeCommands(this.id,s),i.setPrevEditOperationType(2)}}),n.DeleteRight=We(new class extends e{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:ui,kbExpr:j.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(t,i,r){const[o,s]=Ym.deleteRight(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection));o&&t.pushUndoStop(),t.executeCommands(this.id,s),i.setPrevEditOperationType(3)}}),n.Undo=new class extends o3{constructor(){super(Pae)}runDOMCommand(t){t.ownerDocument.execCommand("undo")}runEditorCommand(t,i,r){if(!(!i.hasModel()||i.getOption(90)===!0))return i.getModel().undo()}},n.Redo=new class extends o3{constructor(){super(Mae)}runDOMCommand(t){t.ownerDocument.execCommand("redo")}runEditorCommand(t,i,r){if(!(!i.hasModel()||i.getOption(90)===!0))return i.getModel().redo()}}})(Bv||(Bv={}));class rG extends OP{constructor(e,t,i){super({id:e,precondition:void 0,metadata:i}),this._handlerId=t}runCommand(e,t){const i=e.get(ai).getFocusedCodeEditor();i&&i.trigger("keyboard",this._handlerId,t)}}function M_(n,e){nG(new rG("default:"+n,n)),nG(new rG(n,n,e))}M_("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]});M_("replacePreviousChar");M_("compositionType");M_("compositionStart");M_("compositionEnd");M_("paste");M_("cut");class XMe{constructor(e,t,i,r){this.configuration=e,this.viewModel=t,this.userInputEvents=i,this.commandDelegate=r}paste(e,t,i,r){this.commandDelegate.paste(e,t,i,r)}type(e){this.commandDelegate.type(e)}compositionType(e,t,i,r){this.commandDelegate.compositionType(e,t,i,r)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){vr.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new re(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(77)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(77)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const t=this.configuration.options,i=Uo&&t.get(106),r=t.get(22);e.middleButton&&!i?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position,e.revealType):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position,e.revealType):this._lineSelect(e.position,e.revealType):e.mouseDownCount>=4?this._selectAll():e.mouseDownCount===3?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position,e.revealType):this._lastCursorLineSelect(e.position,e.revealType):e.inSelectionMode?this._lineSelectDrag(e.position,e.revealType):this._lineSelect(e.position,e.revealType):e.mouseDownCount===2?e.onInjectedText||(this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position,e.revealType):e.inSelectionMode?this._wordSelectDrag(e.position,e.revealType):this._wordSelect(e.position,e.revealType)):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position,e.revealType):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):r?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position,e.revealType):this.moveTo(e.position,e.revealType)}_usualArgs(e,t){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,revealType:t}}moveTo(e,t){vr.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_moveToSelect(e,t){vr.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_columnSelect(e,t,i){e=this._validateViewColumn(e),vr.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:i})}_createCursor(e,t){e=this._validateViewColumn(e),vr.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e,t){vr.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_wordSelect(e,t){vr.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_wordSelectDrag(e,t){vr.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lastCursorWordSelect(e,t){vr.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lineSelect(e,t){vr.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lineSelectDrag(e,t){vr.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lastCursorLineSelect(e,t){vr.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_lastCursorLineSelectDrag(e,t){vr.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e,t))}_selectAll(){vr.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class Vle{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Xi("Illegal value for lineNumber");return this._lines[t]}onLinesDeleted(e,t){if(this.getCount()===0)return null;const i=this.getStartLineNumber(),r=this.getEndLineNumber();if(t<i){const l=t-e+1;return this._rendLineNumberStart-=l,null}if(e>r)return null;let o=0,s=0;for(let l=i;l<=r;l++){const c=l-this._rendLineNumberStart;e<=l&&l<=t&&(s===0?(o=c,s=1):s++)}if(e<i){let l=0;t<i?l=t-e+1:l=i-e,this._rendLineNumberStart-=l}return this._lines.splice(o,s)}onLinesChanged(e,t){const i=e+t-1;if(this.getCount()===0)return!1;const r=this.getStartLineNumber(),o=this.getEndLineNumber();let s=!1;for(let a=e;a<=i;a++)a>=r&&a<=o&&(this._lines[a-this._rendLineNumberStart].onContentChanged(),s=!0);return s}onLinesInserted(e,t){if(this.getCount()===0)return null;const i=t-e+1,r=this.getStartLineNumber(),o=this.getEndLineNumber();if(e<=r)return this._rendLineNumberStart+=i,null;if(e>o)return null;if(i+e>o)return this._lines.splice(e-this._rendLineNumberStart,o-e+1);const s=[];for(let u=0;u<i;u++)s[u]=this._createLine();const a=e-this._rendLineNumberStart,l=this._lines.slice(0,a),c=this._lines.slice(a,this._lines.length-i),d=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=l.concat(s).concat(c),d}onTokensChanged(e){if(this.getCount()===0)return!1;const t=this.getStartLineNumber(),i=this.getEndLineNumber();let r=!1;for(let o=0,s=e.length;o<s;o++){const a=e[o];if(a.toLineNumber<t||a.fromLineNumber>i)continue;const l=Math.max(t,a.fromLineNumber),c=Math.min(i,a.toLineNumber);for(let d=l;d<=c;d++){const u=d-this._rendLineNumberStart;this._lines[u].onTokensChanged(),r=!0}}return r}}class Hle{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new Vle(()=>this._host.createVisibleLine())}_createDomNode(){const e=pi(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(143)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){const t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,r=t.length;i<r;i++){const o=t[i].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0}onLinesInserted(e){const t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,r=t.length;i<r;i++){const o=t[i].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const t=this._linesCollection._get(),i=new Gu(this.domNode.domNode,this._host,e),r={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},o=i.render(r,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(o.rendLineNumberStart,o.lines)}}class Gu{constructor(e,t,i){this.domNode=e,this.host=t,this.viewportData=i}render(e,t,i,r){const o={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(o.rendLineNumberStart+o.linesLength-1<t||i<o.rendLineNumberStart){o.rendLineNumberStart=t,o.linesLength=i-t+1,o.lines=[];for(let s=t;s<=i;s++)o.lines[s-t]=this.host.createVisibleLine();return this._finishRendering(o,!0,r),o}if(this._renderUntouchedLines(o,Math.max(t-o.rendLineNumberStart,0),Math.min(i-o.rendLineNumberStart,o.linesLength-1),r,t),o.rendLineNumberStart>t){const s=t,a=Math.min(i,o.rendLineNumberStart-1);s<=a&&(this._insertLinesBefore(o,s,a,r,t),o.linesLength+=a-s+1)}else if(o.rendLineNumberStart<t){const s=Math.min(o.linesLength,t-o.rendLineNumberStart);s>0&&(this._removeLinesBefore(o,s),o.linesLength-=s)}if(o.rendLineNumberStart=t,o.rendLineNumberStart+o.linesLength-1<i){const s=o.rendLineNumberStart+o.linesLength,a=i;s<=a&&(this._insertLinesAfter(o,s,a,r,t),o.linesLength+=a-s+1)}else if(o.rendLineNumberStart+o.linesLength-1>i){const s=Math.max(0,i-o.rendLineNumberStart+1),l=o.linesLength-1-s+1;l>0&&(this._removeLinesAfter(o,l),o.linesLength-=l)}return this._finishRendering(o,!1,r),o}_renderUntouchedLines(e,t,i,r,o){const s=e.rendLineNumberStart,a=e.lines;for(let l=t;l<=i;l++){const c=s+l;a[l].layoutLine(c,r[c-o])}}_insertLinesBefore(e,t,i,r,o){const s=[];let a=0;for(let l=t;l<=i;l++)s[a++]=this.host.createVisibleLine();e.lines=s.concat(e.lines)}_removeLinesBefore(e,t){for(let i=0;i<t;i++){const r=e.lines[i].getDomNode();r&&this.domNode.removeChild(r)}e.lines.splice(0,t)}_insertLinesAfter(e,t,i,r,o){const s=[];let a=0;for(let l=t;l<=i;l++)s[a++]=this.host.createVisibleLine();e.lines=e.lines.concat(s)}_removeLinesAfter(e,t){const i=e.linesLength-t;for(let r=0;r<t;r++){const o=e.lines[i+r].getDomNode();o&&this.domNode.removeChild(o)}e.lines.splice(i,t)}_finishRenderingNewLines(e,t,i,r){Gu._ttPolicy&&(i=Gu._ttPolicy.createHTML(i));const o=this.domNode.lastChild;t||!o?this.domNode.innerHTML=i:o.insertAdjacentHTML("afterend",i);let s=this.domNode.lastChild;for(let a=e.linesLength-1;a>=0;a--){const l=e.lines[a];r[a]&&(l.setDomNode(s),s=s.previousSibling)}}_finishRenderingInvalidLines(e,t,i){const r=document.createElement("div");Gu._ttPolicy&&(t=Gu._ttPolicy.createHTML(t)),r.innerHTML=t;for(let o=0;o<e.linesLength;o++){const s=e.lines[o];if(i[o]){const a=r.firstChild,l=s.getDomNode();l.parentNode.replaceChild(a,l),s.setDomNode(a)}}}_finishRendering(e,t,i){const r=Gu._sb,o=e.linesLength,s=e.lines,a=e.rendLineNumberStart,l=[];{r.reset();let c=!1;for(let d=0;d<o;d++){const u=s[d];l[d]=!1,!(u.getDomNode()||!u.renderLine(d+a,i[d],this.viewportData,r))&&(l[d]=!0,c=!0)}c&&this._finishRenderingNewLines(e,t,r.build(),l)}{r.reset();let c=!1;const d=[];for(let u=0;u<o;u++){const h=s[u];d[u]=!1,!(l[u]||!h.renderLine(u+a,i[u],this.viewportData,r))&&(d[u]=!0,c=!0)}c&&this._finishRenderingInvalidLines(e,r.build(),d)}}}Gu._ttPolicy=Fh("editorViewLayer",{createHTML:n=>n});Gu._sb=new Cy(1e5);class zle extends Zs{constructor(e){super(e),this._visibleLines=new Hle(this),this.domNode=this._visibleLines.domNode;const i=this._context.configuration.options.get(50);Ur(this.domNode,i),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new QMe(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let s=t;s<=i;s++)this._visibleLines.getVisibleLine(s).onConfigurationChanged(e);const o=this._context.configuration.options.get(50);return Ur(this.domNode,o),!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const t=this._dynamicOverlays.filter(i=>i.shouldRender());for(let i=0,r=t.length;i<r;i++){const o=t[i];o.prepareRender(e),o.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class QMe{constructor(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(66),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=pi(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(66)}renderLine(e,t,i,r){let o="";for(let s=0,a=this._dynamicOverlays.length;s<a;s++){const l=this._dynamicOverlays[s];o+=l.render(i.startLineNumber,e)}return this._renderedContent===o?!1:(this._renderedContent=o,r.appendString('<div style="position:absolute;top:'),r.appendString(String(t)),r.appendString("px;width:100%;height:"),r.appendString(String(this._lineHeight)),r.appendString('px;">'),r.appendString(o),r.appendString("</div>"),!0)}layoutLine(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}}class JMe extends zle{constructor(e){super(e);const i=this._context.configuration.options.get(143);this._contentWidth=i.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const i=this._context.configuration.options.get(143);return this._contentWidth=i.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class e2e extends zle{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(143);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),Ur(this.domNode,t.get(50))}onConfigurationChanged(e){const t=this._context.configuration.options;Ur(this.domNode,t.get(50));const i=t.get(143);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}}class JP{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){var t;(t=this.onKeyDown)===null||t===void 0||t.call(this,e)}emitKeyUp(e){var t;(t=this.onKeyUp)===null||t===void 0||t.call(this,e)}emitContextMenu(e){var t;(t=this.onContextMenu)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseMove(e){var t;(t=this.onMouseMove)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){var t;(t=this.onMouseLeave)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDown(e){var t;(t=this.onMouseDown)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseUp(e){var t;(t=this.onMouseUp)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){var t;(t=this.onMouseDrag)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){var t;(t=this.onMouseDrop)===null||t===void 0||t.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){var e;(e=this.onMouseDropCanceled)===null||e===void 0||e.call(this)}emitMouseWheel(e){var t;(t=this.onMouseWheel)===null||t===void 0||t.call(this,e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return JP.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){const i={...e};return i.position&&(i.position=t.convertViewPositionToModelPosition(i.position)),i.range&&(i.range=t.convertViewRangeToModelRange(i.range)),(i.type===5||i.type===8)&&(i.detail=this.convertViewToModelViewZoneData(i.detail,t)),i}static convertViewToModelViewZoneData(e,t){return{viewZoneId:e.viewZoneId,positionBefore:e.positionBefore?t.convertViewPositionToModelPosition(e.positionBefore):e.positionBefore,positionAfter:e.positionAfter?t.convertViewPositionToModelPosition(e.positionAfter):e.positionAfter,position:t.convertViewPositionToModelPosition(e.position),afterLineNumber:t.convertViewPositionToModelPosition(new re(e.afterLineNumber,1)).lineNumber}}}class t2e extends Zs{constructor(e){super(e),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=pi(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let e=!1;const i=this._context.configuration.options.get(143),r=i.contentWidth-i.verticalScrollbarWidth;this.contentWidth!==r&&(this.contentWidth=r,e=!0);const o=i.contentLeft;return this.contentLeft!==o&&(this.contentLeft=o,e=!0),e}dispose(){super.dispose()}onConfigurationChanged(e){return this.update()}onScrollChanged(e){return e.scrollTopChanged||e.scrollLeftChanged}onDecorationsChanged(e){return!0}onZonesChanged(e){return!0}prepareRender(e){}render(e){var t;let i=0;const r=e.getDecorationsInViewport();for(const o of r){if(!o.options.blockClassName)continue;let s=this.blocks[i];s||(s=this.blocks[i]=pi(document.createElement("div")),this.domNode.appendChild(s));let a,l;o.options.blockIsAfterEnd?(a=e.getVerticalOffsetAfterLineNumber(o.range.endLineNumber,!1),l=e.getVerticalOffsetAfterLineNumber(o.range.endLineNumber,!0)):(a=e.getVerticalOffsetForLineNumber(o.range.startLineNumber,!0),l=o.range.isEmpty()&&!o.options.blockDoesNotCollapse?e.getVerticalOffsetForLineNumber(o.range.startLineNumber,!1):e.getVerticalOffsetAfterLineNumber(o.range.endLineNumber,!0));const[c,d,u,h]=(t=o.options.blockPadding)!==null&&t!==void 0?t:[0,0,0,0];s.setClassName("blockDecorations-block "+o.options.blockClassName),s.setLeft(this.contentLeft-h),s.setWidth(this.contentWidth+h+d),s.setTop(a-e.scrollTop-c),s.setHeight(l-a+c+u),i++}for(let o=i;o<this.blocks.length;o++)this.blocks[o].domNode.remove();this.blocks.length=i}}class i2e extends Zs{constructor(e,t){super(e),this._viewDomNode=t,this._widgets={},this.domNode=pi(document.createElement("div")),Kc.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=pi(document.createElement("div")),Kc.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){return this._updateAnchorsViewPositions(),!0}onLinesChanged(e){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(e){return this._updateAnchorsViewPositions(),!0}onLinesInserted(e){return this._updateAnchorsViewPositions(),!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}_updateAnchorsViewPositions(){const e=Object.keys(this._widgets);for(const t of e)this._widgets[t].updateAnchorViewPosition()}addWidget(e){const t=new n2e(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,i,r,o){this._widgets[e.getId()].setPosition(t,i,r,o),this.setShouldRender()}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const i=this._widgets[t];delete this._widgets[t];const r=i.domNode.domNode;r.parentNode.removeChild(r),r.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return this._widgets.hasOwnProperty(e)?this._widgets[e].suppressMouseDown:!1}onBeforeRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onBeforeRender(e)}prepareRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].prepareRender(e)}render(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].render(e)}}class n2e{constructor(e,t,i){this._primaryAnchor=new pC(null,null),this._secondaryAnchor=new pC(null,null),this._context=e,this._viewDomNode=t,this._actual=i,this.domNode=pi(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const r=this._context.configuration.options,o=r.get(143);this._fixedOverflowWidgets=r.get(42),this._contentWidth=o.contentWidth,this._contentLeft=o.contentLeft,this._lineHeight=r.get(66),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const t=this._context.configuration.options;if(this._lineHeight=t.get(66),e.hasChanged(143)){const i=t.get(143);this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(e,t,i){this._affinity=e,this._primaryAnchor=r(t,this._context.viewModel,this._affinity),this._secondaryAnchor=r(i,this._context.viewModel,this._affinity);function r(o,s,a){if(!o)return new pC(null,null);const l=s.model.validatePosition(o);if(s.coordinatesConverter.modelPositionIsVisible(l)){const c=s.coordinatesConverter.convertModelPositionToViewPosition(l,a??void 0);return new pC(o,c)}return new pC(o,null)}}_getMaxWidth(){const e=this.domNode.domNode.ownerDocument,t=e.defaultView;return this.allowEditorOverflow?(t==null?void 0:t.innerWidth)||e.documentElement.offsetWidth||e.body.offsetWidth:this._contentWidth}setPosition(e,t,i,r){this._setPosition(r,e,t),this._preference=i,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(e,t,i,r){const o=e.top,s=o,a=e.top+e.height,l=r.viewportHeight-a,c=o-i,d=s>=i,u=a,h=l>=i;let f=e.left;return f+t>r.scrollLeft+r.viewportWidth&&(f=r.scrollLeft+r.viewportWidth-t),f<r.scrollLeft&&(f=r.scrollLeft),{fitsAbove:d,aboveTop:c,fitsBelow:h,belowTop:u,left:f}}_layoutHorizontalSegmentInPage(e,t,i,r){var o;const l=Math.max(15,t.left-r),c=Math.min(t.left+t.width+r,e.width-15),u=this._viewDomNode.domNode.ownerDocument.defaultView;let h=t.left+i-((o=u==null?void 0:u.scrollX)!==null&&o!==void 0?o:0);if(h+r>c){const f=h-(c-r);h-=f,i-=f}if(h<l){const f=h-l;h-=f,i-=f}return[i,h]}_layoutBoxInPage(e,t,i,r){var o,s;const a=e.top-i,l=e.top+e.height,c=Vn(this._viewDomNode.domNode),d=this._viewDomNode.domNode.ownerDocument,u=d.defaultView,h=c.top+a-((o=u==null?void 0:u.scrollY)!==null&&o!==void 0?o:0),f=c.top+l-((s=u==null?void 0:u.scrollY)!==null&&s!==void 0?s:0),g=Ag(d.body),[_,y]=this._layoutHorizontalSegmentInPage(g,c,e.left-r.scrollLeft+this._contentLeft,t),m=22,p=22,v=h>=m,b=f+i<=g.height-p;return this._fixedOverflowWidgets?{fitsAbove:v,aboveTop:Math.max(h,m),fitsBelow:b,belowTop:f,left:y}:{fitsAbove:v,aboveTop:a,fitsBelow:b,belowTop:l,left:_}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new mC(e.top,e.left+this._contentLeft)}_getAnchorsCoordinates(e){var t,i;const r=a(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),o=((t=this._secondaryAnchor.viewPosition)===null||t===void 0?void 0:t.lineNumber)===((i=this._primaryAnchor.viewPosition)===null||i===void 0?void 0:i.lineNumber)?this._secondaryAnchor.viewPosition:null,s=a(o,this._affinity,this._lineHeight);return{primary:r,secondary:s};function a(l,c,d){if(!l)return null;const u=e.visibleRangeForPosition(l);if(!u)return null;const h=l.column===1&&c===3?0:u.left,f=e.getVerticalOffsetForLineNumber(l.lineNumber)-e.scrollTop;return new oG(f,h,d)}}_reduceAnchorCoordinates(e,t,i){if(!t)return e;const r=this._context.configuration.options.get(50);let o=t.left;return o<e.left?o=Math.max(o,e.left-i+r.typicalFullwidthCharacterWidth):o=Math.min(o,e.left+i-r.typicalFullwidthCharacterWidth),new oG(e.top,o,e.height)}_prepareRenderWidget(e){if(!this._preference||this._preference.length===0)return null;const{primary:t,secondary:i}=this._getAnchorsCoordinates(e);if(!t)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let s=null;if(typeof this._actual.beforeRender=="function"&&(s=$A(this._actual.beforeRender,this._actual)),s)this._cachedDomNodeOffsetWidth=s.width,this._cachedDomNodeOffsetHeight=s.height;else{const l=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(l.width),this._cachedDomNodeOffsetHeight=Math.round(l.height)}}const r=this._reduceAnchorCoordinates(t,i,this._cachedDomNodeOffsetWidth);let o;this.allowEditorOverflow?o=this._layoutBoxInPage(r,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e):o=this._layoutBoxInViewport(r,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e);for(let s=1;s<=2;s++)for(const a of this._preference)if(a===1){if(!o)return null;if(s===2||o.fitsAbove)return{coordinate:new mC(o.aboveTop,o.left),position:1}}else if(a===2){if(!o)return null;if(s===2||o.fitsBelow)return{coordinate:new mC(o.belowTop,o.left),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new mC(r.top,r.left)),position:0}:{coordinate:new mC(r.top,r.left),position:0};return null}onBeforeRender(e){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<e.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&$A(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&$A(this._actual.afterRender,this._actual,this._renderData.position)}}class pC{constructor(e,t){this.modelPosition=e,this.viewPosition=t}}class mC{constructor(e,t){this.top=e,this.left=t,this._coordinateBrand=void 0}}class oG{constructor(e,t,i){this.top=e,this.left=t,this.height=i,this._anchorCoordinateBrand=void 0}}function $A(n,e,...t){try{return n.call(e,...t)}catch{return null}}class jle extends P_{constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(143);this._lineHeight=t.get(66),this._renderLineHighlight=t.get(95),this._renderLineHighlightOnlyWhenFocus=t.get(96),this._wordWrap=i.isViewportWrapping,this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new Ke(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const t=new Set;for(const o of this._selections)t.add(o.positionLineNumber);const i=Array.from(t);i.sort((o,s)=>o-s),vn(this._cursorLineNumbers,i)||(this._cursorLineNumbers=i,e=!0);const r=this._selections.every(o=>o.isEmpty());return this._selectionIsEmpty!==r&&(this._selectionIsEmpty=r,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(143);return this._lineHeight=t.get(66),this._renderLineHighlight=t.get(95),this._renderLineHighlightOnlyWhenFocus=t.get(96),this._wordWrap=i.isViewportWrapping,this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return this._renderLineHighlightOnlyWhenFocus?(this._focused=e.isFocused,!0):!1}prepareRender(e){if(!this._shouldRenderThis()){this._renderData=null;return}const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r=[];for(let s=t;s<=i;s++){const a=s-t;r[a]=""}if(this._wordWrap){const s=this._renderOne(e,!1);for(const a of this._cursorLineNumbers){const l=this._context.viewModel.coordinatesConverter,c=l.convertViewPositionToModelPosition(new re(a,1)).lineNumber,d=l.convertModelPositionToViewPosition(new re(c,1)).lineNumber,u=l.convertModelPositionToViewPosition(new re(c,this._context.viewModel.model.getLineMaxColumn(c))).lineNumber,h=Math.max(d,t),f=Math.min(u,i);for(let g=h;g<=f;g++){const _=g-t;r[_]=s}}}const o=this._renderOne(e,!0);for(const s of this._cursorLineNumbers){if(s<t||s>i)continue;const a=s-t;r[a]=o}this._renderData=r}render(e,t){if(!this._renderData)return"";const i=t-e;return i>=this._renderData.length?"":this._renderData[i]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class r2e extends jle{_renderOne(e,t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-both":"")+(t?" current-line-exact":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class o2e extends jle{_renderOne(e,t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")+(this._shouldRenderInMargin()&&t?" current-line-exact-margin":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}cl((n,e)=>{const t=n.getColor(Tle);if(t&&(e.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||n.defines(JK)){const i=n.getColor(JK);i&&(e.addRule(`.monaco-editor .view-overlays .current-line-exact { border: 2px solid ${i}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-exact-margin { border: 2px solid ${i}; }`),Fc(n.type)&&(e.addRule(".monaco-editor .view-overlays .current-line-exact { border-width: 1px; }"),e.addRule(".monaco-editor .margin-view-overlays .current-line-exact-margin { border-width: 1px; }")))}});class s2e extends P_{constructor(e){super(),this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(66),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(66),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const t=e.getDecorationsInViewport();let i=[],r=0;for(let l=0,c=t.length;l<c;l++){const d=t[l];d.options.className&&(i[r++]=d)}i=i.sort((l,c)=>{if(l.options.zIndex<c.options.zIndex)return-1;if(l.options.zIndex>c.options.zIndex)return 1;const d=l.options.className,u=c.options.className;return d<u?-1:d>u?1:B.compareRangesUsingStarts(l.range,c.range)});const o=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber,a=[];for(let l=o;l<=s;l++){const c=l-o;a[c]=""}this._renderWholeLineDecorations(e,i,a),this._renderNormalDecorations(e,i,a),this._renderResult=a}_renderWholeLineDecorations(e,t,i){const r=String(this._lineHeight),o=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber;for(let a=0,l=t.length;a<l;a++){const c=t[a];if(!c.options.isWholeLine)continue;const d='<div class="cdr '+c.options.className+'" style="left:0;width:100%;height:'+r+'px;"></div>',u=Math.max(c.range.startLineNumber,o),h=Math.min(c.range.endLineNumber,s);for(let f=u;f<=h;f++){const g=f-o;i[g]+=d}}}_renderNormalDecorations(e,t,i){var r;const o=String(this._lineHeight),s=e.visibleRange.startLineNumber;let a=null,l=!1,c=null,d=!1;for(let u=0,h=t.length;u<h;u++){const f=t[u];if(f.options.isWholeLine)continue;const g=f.options.className,_=!!f.options.showIfCollapsed;let y=f.range;if(_&&y.endColumn===1&&y.endLineNumber!==y.startLineNumber&&(y=new B(y.startLineNumber,y.startColumn,y.endLineNumber-1,this._context.viewModel.getLineMaxColumn(y.endLineNumber-1))),a===g&&l===_&&B.areIntersectingOrTouching(c,y)){c=B.plusRange(c,y);continue}a!==null&&this._renderNormalDecoration(e,c,a,d,l,o,s,i),a=g,l=_,c=y,d=(r=f.options.shouldFillLineOnLineBreak)!==null&&r!==void 0?r:!1}a!==null&&this._renderNormalDecoration(e,c,a,d,l,o,s,i)}_renderNormalDecoration(e,t,i,r,o,s,a,l){const c=e.linesVisibleRangesForRange(t,i==="findMatch");if(c)for(let d=0,u=c.length;d<u;d++){const h=c[d];if(h.outsideRenderedLine)continue;const f=h.lineNumber-a;if(o&&h.ranges.length===1){const g=h.ranges[0];if(g.width<this._typicalHalfwidthCharacterWidth){const _=Math.round(g.left+g.width/2),y=Math.max(0,Math.round(_-this._typicalHalfwidthCharacterWidth/2));h.ranges[0]=new GP(y,this._typicalHalfwidthCharacterWidth)}}for(let g=0,_=h.ranges.length;g<_;g++){const y=r&&h.continuesOnNextLine&&_===1,m=h.ranges[g],p='<div class="cdr '+i+'" style="left:'+String(m.left)+(y?"px;width:100%;height:":"px;width:"+String(m.width)+"px;height:")+s+'px;"></div>';l[f]+=p}}}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class a2e extends Zs{constructor(e,t,i,r){super(e);const o=this._context.configuration.options,s=o.get(102),a=o.get(74),l=o.get(40),c=o.get(105),d={listenOnDomNode:i.domNode,className:"editor-scrollable "+n3(e.theme.type),useShadows:!1,lazyRender:!0,vertical:s.vertical,horizontal:s.horizontal,verticalHasArrows:s.verticalHasArrows,horizontalHasArrows:s.horizontalHasArrows,verticalScrollbarSize:s.verticalScrollbarSize,verticalSliderSize:s.verticalSliderSize,horizontalScrollbarSize:s.horizontalScrollbarSize,horizontalSliderSize:s.horizontalSliderSize,handleMouseWheel:s.handleMouseWheel,alwaysConsumeMouseWheel:s.alwaysConsumeMouseWheel,arrowSize:s.arrowSize,mouseWheelScrollSensitivity:a,fastScrollSensitivity:l,scrollPredominantAxis:c,scrollByPage:s.scrollByPage};this.scrollbar=this._register(new ZP(t.domNode,d,this._context.viewLayout.getScrollable())),Kc.write(this.scrollbar.getDomNode(),6),this.scrollbarDomNode=pi(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const u=(h,f,g)=>{const _={};if(f){const y=h.scrollTop;y&&(_.scrollTop=this._context.viewLayout.getCurrentScrollTop()+y,h.scrollTop=0)}if(g){const y=h.scrollLeft;y&&(_.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+y,h.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(_,1)};this._register(ge(i.domNode,"scroll",h=>u(i.domNode,!0,!0))),this._register(ge(t.domNode,"scroll",h=>u(t.domNode,!0,!1))),this._register(ge(r.domNode,"scroll",h=>u(r.domNode,!0,!1))),this._register(ge(this.scrollbarDomNode.domNode,"scroll",h=>u(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,t=e.get(143);this.scrollbarDomNode.setLeft(t.contentLeft),e.get(72).side==="right"?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(e){this.scrollbar.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){this.scrollbar.delegateScrollFromMouseWheelEvent(e)}onConfigurationChanged(e){if(e.hasChanged(102)||e.hasChanged(74)||e.hasChanged(40)){const t=this._context.configuration.options,i=t.get(102),r=t.get(74),o=t.get(40),s=t.get(105),a={vertical:i.vertical,horizontal:i.horizontal,verticalScrollbarSize:i.verticalScrollbarSize,horizontalScrollbarSize:i.horizontalScrollbarSize,scrollByPage:i.scrollByPage,handleMouseWheel:i.handleMouseWheel,mouseWheelScrollSensitivity:r,fastScrollSensitivity:o,scrollPredominantAxis:s};this.scrollbar.updateOptions(a)}return e.hasChanged(143)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+n3(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}class s3{constructor(e,t,i,r,o){this.startLineNumber=e,this.endLineNumber=t,this.className=i,this.tooltip=r,this._decorationToRenderBrand=void 0,this.zIndex=o??0}}class l2e{constructor(e,t,i){this.className=e,this.zIndex=t,this.tooltip=i}}class c2e{constructor(){this.decorations=[]}add(e){this.decorations.push(e)}getDecorations(){return this.decorations}}class Ule extends P_{_render(e,t,i){const r=[];for(let a=e;a<=t;a++){const l=a-e;r[l]=new c2e}if(i.length===0)return r;i.sort((a,l)=>a.className===l.className?a.startLineNumber===l.startLineNumber?a.endLineNumber-l.endLineNumber:a.startLineNumber-l.startLineNumber:a.className<l.className?-1:1);let o=null,s=0;for(let a=0,l=i.length;a<l;a++){const c=i[a],d=c.className,u=c.zIndex;let h=Math.max(c.startLineNumber,e)-e;const f=Math.min(c.endLineNumber,t)-e;o===d?(h=Math.max(s+1,h),s=Math.max(s,f)):(o=d,s=f);for(let g=h;g<=s;g++)r[g].add(new l2e(d,u,c.tooltip))}return r}}class d2e extends Zs{constructor(e){super(e),this._widgets={},this._context=e;const t=this._context.configuration.options,i=t.get(143);this.domNode=pi(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=t.get(66),this._glyphMargin=t.get(57),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._glyphMarginDecorationLaneCount=i.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(143);return this._lineHeight=t.get(66),this._glyphMargin=t.get(57),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._glyphMarginDecorationLaneCount=i.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}addWidget(e){const t=pi(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:e.getPosition(),domNode:t,renderInfo:null},t.setPosition("absolute"),t.setDisplay("none"),t.setAttribute("widgetId",e.getId()),this.domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){const i=this._widgets[e.getId()];return i.preference.lane===t.lane&&i.preference.zIndex===t.zIndex&&B.equalsRange(i.preference.range,t.range)?!1:(i.preference=t,this.setShouldRender(),!0)}removeWidget(e){var t;const i=e.getId();if(this._widgets[i]){const o=this._widgets[i].domNode.domNode;delete this._widgets[i],(t=o.parentNode)===null||t===void 0||t.removeChild(o),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(e,t){var i,r,o;const s=e.visibleRange.startLineNumber,a=e.visibleRange.endLineNumber,l=e.getDecorationsInViewport();for(const c of l){const d=c.options.glyphMarginClassName;if(!d)continue;const u=Math.max(c.range.startLineNumber,s),h=Math.min(c.range.endLineNumber,a),f=(r=(i=c.options.glyphMargin)===null||i===void 0?void 0:i.position)!==null&&r!==void 0?r:au.Center,g=(o=c.options.zIndex)!==null&&o!==void 0?o:0;for(let _=u;_<=h;_++){const y=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new re(_,0)),m=this._context.viewModel.glyphLanes.getLanesAtLine(y.lineNumber).indexOf(f);t.push(new u2e(_,m,g,d))}}}_collectWidgetBasedGlyphRenderRequest(e,t){const i=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber;for(const o of Object.values(this._widgets)){const s=o.preference.range,{startLineNumber:a,endLineNumber:l}=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(B.lift(s));if(!a||!l||l<i||a>r)continue;const c=Math.max(a,i),d=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new re(c,0)),u=this._context.viewModel.glyphLanes.getLanesAtLine(d.lineNumber).indexOf(o.preference.lane);t.push(new h2e(c,u,o.preference.zIndex,o))}}_collectSortedGlyphRenderRequests(e){const t=[];return this._collectDecorationBasedGlyphRenderRequest(e,t),this._collectWidgetBasedGlyphRenderRequest(e,t),t.sort((i,r)=>i.lineNumber===r.lineNumber?i.laneIndex===r.laneIndex?i.zIndex===r.zIndex?r.type===i.type?i.type===0&&r.type===0?i.className<r.className?-1:1:0:r.type-i.type:r.zIndex-i.zIndex:i.laneIndex-r.laneIndex:i.lineNumber-r.lineNumber),t}prepareRender(e){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(const r of Object.values(this._widgets))r.renderInfo=null;const t=new Dh(this._collectSortedGlyphRenderRequests(e)),i=[];for(;t.length>0;){const r=t.peek();if(!r)break;const o=t.takeWhile(a=>a.lineNumber===r.lineNumber&&a.laneIndex===r.laneIndex);if(!o||o.length===0)break;const s=o[0];if(s.type===0){const a=[];for(const l of o){if(l.zIndex!==s.zIndex||l.type!==s.type)break;(a.length===0||a[a.length-1]!==l.className)&&a.push(l.className)}i.push(s.accept(a.join(" ")))}else s.widget.renderInfo={lineNumber:s.lineNumber,laneIndex:s.laneIndex}}this._decorationGlyphsToRender=i}render(e){if(!this._glyphMargin){for(const i of Object.values(this._widgets))i.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;){const i=this._managedDomNodes.pop();i==null||i.domNode.remove()}return}const t=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const i of Object.values(this._widgets))if(!i.renderInfo)i.domNode.setDisplay("none");else{const r=e.viewportData.relativeVerticalOffset[i.renderInfo.lineNumber-e.viewportData.startLineNumber],o=this._glyphMarginLeft+i.renderInfo.laneIndex*this._lineHeight;i.domNode.setDisplay("block"),i.domNode.setTop(r),i.domNode.setLeft(o),i.domNode.setWidth(t),i.domNode.setHeight(this._lineHeight)}for(let i=0;i<this._decorationGlyphsToRender.length;i++){const r=this._decorationGlyphsToRender[i],o=e.viewportData.relativeVerticalOffset[r.lineNumber-e.viewportData.startLineNumber],s=this._glyphMarginLeft+r.laneIndex*this._lineHeight;let a;i<this._managedDomNodes.length?a=this._managedDomNodes[i]:(a=pi(document.createElement("div")),this._managedDomNodes.push(a),this.domNode.appendChild(a)),a.setClassName("cgmr codicon "+r.combinedClassName),a.setPosition("absolute"),a.setTop(o),a.setLeft(s),a.setWidth(t),a.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){const i=this._managedDomNodes.pop();i==null||i.domNode.remove()}}}class u2e{constructor(e,t,i,r){this.lineNumber=e,this.laneIndex=t,this.zIndex=i,this.className=r,this.type=0}accept(e){return new f2e(this.lineNumber,this.laneIndex,e)}}class h2e{constructor(e,t,i,r){this.lineNumber=e,this.laneIndex=t,this.zIndex=i,this.widget=r,this.type=1}}class f2e{constructor(e,t,i){this.lineNumber=e,this.laneIndex=t,this.combinedClassName=i}}class $le extends ce{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}function eM(n,e){let t=0,i=0;const r=n.length;for(;i<r;){const o=n.charCodeAt(i);if(o===32)t++;else if(o===9)t=t-t%e+e;else break;i++}return i===r?-1:t}var xm;(function(n){n[n.Disabled=0]="Disabled",n[n.EnabledForActive=1]="EnabledForActive",n[n.Enabled=2]="Enabled"})(xm||(xm={}));class hm{constructor(e,t,i,r,o,s){if(this.visibleColumn=e,this.column=t,this.className=i,this.horizontalLine=r,this.forWrappedLinesAfterColumn=o,this.forWrappedLinesBeforeOrAtColumn=s,e!==-1==(t!==-1))throw new Error}}class Ow{constructor(e,t){this.top=e,this.endColumn=t}}class g2e extends $le{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t}getLanguageConfiguration(e){return this.languageConfigurationService.getLanguageConfiguration(e)}_computeIndentLevel(e){return eM(this.textModel.getLineContent(e+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(e,t,i){this.assertNotDisposed();const r=this.textModel.getLineCount();if(e<1||e>r)throw new Xi("Illegal value for lineNumber");const o=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,s=!!(o&&o.offSide);let a=-2,l=-1,c=-2,d=-1;const u=x=>{if(a!==-1&&(a===-2||a>x-1)){a=-1,l=-1;for(let k=x-2;k>=0;k--){const D=this._computeIndentLevel(k);if(D>=0){a=k,l=D;break}}}if(c===-2){c=-1,d=-1;for(let k=x;k<r;k++){const D=this._computeIndentLevel(k);if(D>=0){c=k,d=D;break}}}};let h=-2,f=-1,g=-2,_=-1;const y=x=>{if(h===-2){h=-1,f=-1;for(let k=x-2;k>=0;k--){const D=this._computeIndentLevel(k);if(D>=0){h=k,f=D;break}}}if(g!==-1&&(g===-2||g<x-1)){g=-1,_=-1;for(let k=x;k<r;k++){const D=this._computeIndentLevel(k);if(D>=0){g=k,_=D;break}}}};let m=0,p=!0,v=0,b=!0,C=0,S=0;for(let x=0;p||b;x++){const k=e-x,D=e+x;x>1&&(k<1||k<t)&&(p=!1),x>1&&(D>r||D>i)&&(b=!1),x>5e4&&(p=!1,b=!1);let E=-1;if(p&&k>=1){const N=this._computeIndentLevel(k-1);N>=0?(c=k-1,d=N,E=Math.ceil(N/this.textModel.getOptions().indentSize)):(u(k),E=this._getIndentLevelForWhitespaceLine(s,l,d))}let I=-1;if(b&&D<=r){const N=this._computeIndentLevel(D-1);N>=0?(h=D-1,f=N,I=Math.ceil(N/this.textModel.getOptions().indentSize)):(y(D),I=this._getIndentLevelForWhitespaceLine(s,f,_))}if(x===0){S=E;continue}if(x===1){if(D<=r&&I>=0&&S+1===I){p=!1,m=D,v=D,C=I;continue}if(k>=1&&E>=0&&E-1===S){b=!1,m=k,v=k,C=E;continue}if(m=e,v=e,C=S,C===0)return{startLineNumber:m,endLineNumber:v,indent:C}}p&&(E>=C?m=k:p=!1),b&&(I>=C?v=D:b=!1)}return{startLineNumber:m,endLineNumber:v,indent:C}}getLinesBracketGuides(e,t,i,r){var o;const s=[];for(let h=e;h<=t;h++)s.push([]);const a=!0,l=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new B(e,1,t,this.textModel.getLineMaxColumn(t))).toArray();let c;if(i&&l.length>0){const h=(e<=i.lineNumber&&i.lineNumber<=t?l:this.textModel.bracketPairs.getBracketPairsInRange(B.fromPositions(i)).toArray()).filter(f=>B.strictContainsPosition(f.range,i));c=(o=K1(h,f=>a))===null||o===void 0?void 0:o.range}const d=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,u=new qle;for(const h of l){if(!h.closingBracketRange)continue;const f=c&&h.range.equalsRange(c);if(!f&&!r.includeInactive)continue;const g=u.getInlineClassName(h.nestingLevel,h.nestingLevelOfEqualBracketType,d)+(r.highlightActive&&f?" "+u.activeClassName:""),_=h.openingBracketRange.getStartPosition(),y=h.closingBracketRange.getStartPosition(),m=r.horizontalGuides===xm.Enabled||r.horizontalGuides===xm.EnabledForActive&&f;if(h.range.startLineNumber===h.range.endLineNumber){m&&s[h.range.startLineNumber-e].push(new hm(-1,h.openingBracketRange.getEndPosition().column,g,new Ow(!1,y.column),-1,-1));continue}const p=this.getVisibleColumnFromPosition(y),v=this.getVisibleColumnFromPosition(h.openingBracketRange.getStartPosition()),b=Math.min(v,p,h.minVisibleColumnIndentation+1);let C=!1;xo(this.textModel.getLineContent(h.closingBracketRange.startLineNumber))<h.closingBracketRange.startColumn-1&&(C=!0);const k=Math.max(_.lineNumber,e),D=Math.min(y.lineNumber,t),E=C?1:0;for(let I=k;I<D+E;I++)s[I-e].push(new hm(b,-1,g,null,I===_.lineNumber?_.column:-1,I===y.lineNumber?y.column:-1));m&&(_.lineNumber>=e&&v>b&&s[_.lineNumber-e].push(new hm(b,-1,g,new Ow(!1,_.column),-1,-1)),y.lineNumber<=t&&p>b&&s[y.lineNumber-e].push(new hm(b,-1,g,new Ow(!C,y.column),-1,-1)))}for(const h of s)h.sort((f,g)=>f.visibleColumn-g.visibleColumn);return s}getVisibleColumnFromPosition(e){return ir.visibleColumnFromColumn(this.textModel.getLineContent(e.lineNumber),e.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(e,t){this.assertNotDisposed();const i=this.textModel.getLineCount();if(e<1||e>i)throw new Error("Illegal value for startLineNumber");if(t<1||t>i)throw new Error("Illegal value for endLineNumber");const r=this.textModel.getOptions(),o=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,s=!!(o&&o.offSide),a=new Array(t-e+1);let l=-2,c=-1,d=-2,u=-1;for(let h=e;h<=t;h++){const f=h-e,g=this._computeIndentLevel(h-1);if(g>=0){l=h-1,c=g,a[f]=Math.ceil(g/r.indentSize);continue}if(l===-2){l=-1,c=-1;for(let _=h-2;_>=0;_--){const y=this._computeIndentLevel(_);if(y>=0){l=_,c=y;break}}}if(d!==-1&&(d===-2||d<h-1)){d=-1,u=-1;for(let _=h;_<i;_++){const y=this._computeIndentLevel(_);if(y>=0){d=_,u=y;break}}}a[f]=this._getIndentLevelForWhitespaceLine(s,c,u)}return a}_getIndentLevelForWhitespaceLine(e,t,i){const r=this.textModel.getOptions();return t===-1||i===-1?0:t<i?1+Math.floor(t/r.indentSize):t===i||e?Math.ceil(i/r.indentSize):1+Math.floor(i/r.indentSize)}}class qle{constructor(){this.activeClassName="indent-active"}getInlineClassName(e,t,i){return this.getInlineClassNameOfLevel(i?t:e)}getInlineClassNameOfLevel(e){return`bracket-indent-guide lvl-${e%30}`}}class p2e extends P_{constructor(e){super(),this._context=e,this._primaryPosition=null;const t=this._context.configuration.options,i=t.get(144),r=t.get(50);this._lineHeight=t.get(66),this._spaceWidth=r.spaceWidth,this._maxIndentLeft=i.wrappingColumn===-1?-1:i.wrappingColumn*r.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(144),r=t.get(50);return this._lineHeight=t.get(66),this._spaceWidth=r.spaceWidth,this._maxIndentLeft=i.wrappingColumn===-1?-1:i.wrappingColumn*r.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),!0}onCursorStateChanged(e){var t;const r=e.selections[0].getPosition();return!((t=this._primaryPosition)===null||t===void 0)&&t.equals(r)?!1:(this._primaryPosition=r,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var t,i,r,o;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const s=e.visibleRange.startLineNumber,a=e.visibleRange.endLineNumber,l=e.scrollWidth,c=this._lineHeight,d=this._primaryPosition,u=this.getGuidesByLine(s,Math.min(a+1,this._context.viewModel.getLineCount()),d),h=[];for(let f=s;f<=a;f++){const g=f-s,_=u[g];let y="";const m=(i=(t=e.visibleRangeForPosition(new re(f,1)))===null||t===void 0?void 0:t.left)!==null&&i!==void 0?i:0;for(const p of _){const v=p.column===-1?m+(p.visibleColumn-1)*this._spaceWidth:e.visibleRangeForPosition(new re(f,p.column)).left;if(v>l||this._maxIndentLeft>0&&v>this._maxIndentLeft)break;const b=p.horizontalLine?p.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",C=p.horizontalLine?((o=(r=e.visibleRangeForPosition(new re(f,p.horizontalLine.endColumn)))===null||r===void 0?void 0:r.left)!==null&&o!==void 0?o:v+this._spaceWidth)-v:this._spaceWidth;y+=`<div class="core-guide ${p.className} ${b}" style="left:${v}px;height:${c}px;width:${C}px"></div>`}h[g]=y}this._renderResult=h}getGuidesByLine(e,t,i){const r=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(e,t,i,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?xm.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?xm.EnabledForActive:xm.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,o=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(e,t):null;let s=0,a=0,l=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&i){const u=this._context.viewModel.getActiveIndentGuide(i.lineNumber,e,t);s=u.startLineNumber,a=u.endLineNumber,l=u.indent}const{indentSize:c}=this._context.viewModel.model.getOptions(),d=[];for(let u=e;u<=t;u++){const h=new Array;d.push(h);const f=r?r[u-e]:[],g=new Dh(f),_=o?o[u-e]:0;for(let y=1;y<=_;y++){const m=(y-1)*c+1,p=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||f.length===0)&&s<=u&&u<=a&&y===l;h.push(...g.takeWhile(b=>b.visibleColumn<m)||[]);const v=g.peek();(!v||v.visibleColumn!==m||v.horizontalLine)&&h.push(new hm(m,-1,`core-guide-indent lvl-${(y-1)%30}`+(p?" indent-active":""),null,-1,-1))}h.push(...g.takeWhile(y=>!0)||[])}return d}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}function l0(n){if(!(n&&n.isTransparent()))return n}cl((n,e)=>{const t=[{bracketColor:Nle,guideColor:bMe,guideColorActive:LMe},{bracketColor:Ple,guideColor:yMe,guideColorActive:kMe},{bracketColor:Mle,guideColor:CMe,guideColorActive:DMe},{bracketColor:Rle,guideColor:wMe,guideColorActive:TMe},{bracketColor:Ale,guideColor:SMe,guideColorActive:EMe},{bracketColor:Ole,guideColor:xMe,guideColorActive:IMe}],i=new qle,r=[{indentColor:Ux,indentColorActive:$x},{indentColor:tMe,indentColorActive:sMe},{indentColor:iMe,indentColorActive:aMe},{indentColor:nMe,indentColorActive:lMe},{indentColor:rMe,indentColorActive:cMe},{indentColor:oMe,indentColorActive:dMe}],o=t.map(a=>{var l,c;const d=n.getColor(a.bracketColor),u=n.getColor(a.guideColor),h=n.getColor(a.guideColorActive),f=l0((l=l0(u))!==null&&l!==void 0?l:d==null?void 0:d.transparent(.3)),g=l0((c=l0(h))!==null&&c!==void 0?c:d);if(!(!f||!g))return{guideColor:f,guideColorActive:g}}).filter(Vm),s=r.map(a=>{const l=n.getColor(a.indentColor),c=n.getColor(a.indentColorActive),d=l0(l),u=l0(c);if(!(!d||!u))return{indentColor:d,indentColorActive:u}}).filter(Vm);if(o.length>0){for(let a=0;a<30;a++){const l=o[a%o.length];e.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(a).replace(/ /g,".")} { --guide-color: ${l.guideColor}; --guide-color-active: ${l.guideColorActive}; }`)}e.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),e.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),e.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),e.addRule(`.monaco-editor .vertical.${i.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),e.addRule(`.monaco-editor .horizontal-top.${i.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),e.addRule(`.monaco-editor .horizontal-bottom.${i.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(s.length>0){for(let a=0;a<30;a++){const l=s[a%s.length];e.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${a} { --indent-color: ${l.indentColor}; --indent-color-active: ${l.indentColorActive}; }`)}e.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),e.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}});class qA{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const e=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=e.left,this._clientRectScale=e.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(e,t){this._domNode=e,this.endNode=t,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}class m2e{constructor(){this._currentVisibleRange=new B(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class _2e{constructor(e,t,i,r,o,s,a){this.minimalReveal=e,this.lineNumber=t,this.startColumn=i,this.endColumn=r,this.startScrollTop=o,this.stopScrollTop=s,this.scrollType=a,this.type="range",this.minLineNumber=t,this.maxLineNumber=t}}class v2e{constructor(e,t,i,r,o){this.minimalReveal=e,this.selections=t,this.startScrollTop=i,this.stopScrollTop=r,this.scrollType=o,this.type="selections";let s=t[0].startLineNumber,a=t[0].endLineNumber;for(let l=1,c=t.length;l<c;l++){const d=t[l];s=Math.min(s,d.startLineNumber),a=Math.max(a,d.endLineNumber)}this.minLineNumber=s,this.maxLineNumber=a}}class tM extends Zs{constructor(e,t){super(e),this._linesContent=t,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new Hle(this),this.domNode=this._visibleLines.domNode;const i=this._context.configuration,r=this._context.configuration.options,o=r.get(50),s=r.get(144);this._lineHeight=r.get(66),this._typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this._isViewportWrapping=s.isViewportWrapping,this._revealHorizontalRightPadding=r.get(99),this._cursorSurroundingLines=r.get(29),this._cursorSurroundingLinesStyle=r.get(30),this._canUseLayerHinting=!r.get(32),this._viewLineOptions=new GK(i,this._context.theme.type),Kc.write(this.domNode,8),this.domNode.setClassName(`view-lines ${Ov}`),Ur(this.domNode,o),this._maxLineWidth=0,this._asyncUpdateLineWidths=new ki(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new ki(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new m2e,this._horizontalRevealRequest=null,this._stickyScrollEnabled=r.get(114).enabled,this._maxNumberStickyLines=r.get(114).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new Nd(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(144)&&(this._maxLineWidth=0);const t=this._context.configuration.options,i=t.get(50),r=t.get(144);return this._lineHeight=t.get(66),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._isViewportWrapping=r.isViewportWrapping,this._revealHorizontalRightPadding=t.get(99),this._cursorSurroundingLines=t.get(29),this._cursorSurroundingLinesStyle=t.get(30),this._canUseLayerHinting=!t.get(32),this._stickyScrollEnabled=t.get(114).enabled,this._maxNumberStickyLines=t.get(114).maxLineCount,Ur(this.domNode,i),this._onOptionsMaybeChanged(),e.hasChanged(143)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,t=new GK(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;const i=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let o=i;o<=r;o++)this._visibleLines.getVisibleLine(o).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let r=!1;for(let o=t;o<=i;o++)r=this._visibleLines.getVisibleLine(o).onSelectionChanged()||r;return r}onDecorationsChanged(e){{const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let r=t;r<=i;r++)this._visibleLines.getVisibleLine(r).onDecorationsChanged()}return!0}onFlushed(e){const t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.minimalReveal,e.range,e.selections,e.verticalType);if(t===-1)return!1;let i=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new _2e(e.minimalReveal,e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new v2e(e.minimalReveal,e.selections,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const o=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(i,o),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,t){const i=this._getViewLineDomNode(e);if(i===null)return null;const r=this._getLineNumberFor(i);if(r===-1||r<1||r>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(r)===1)return new re(r,1);const o=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();if(r<o||r>s)return null;let a=this._visibleLines.getVisibleLine(r).getColumnOfNodeOffset(e,t);const l=this._context.viewModel.getLineMinColumn(r);return a<l&&(a=l),new re(r,a)}_getViewLineDomNode(e){for(;e&&e.nodeType===1;){if(e.className===Nd.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let r=t;r<=i;r++){const o=this._visibleLines.getVisibleLine(r);if(e===o.getDomNode())return r}return-1}getLineWidth(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();if(e<t||e>i)return-1;const r=new qA(this.domNode.domNode,this._textRangeRestingSpot),o=this._visibleLines.getVisibleLine(e).getWidth(r);return this._updateLineWidthsSlowIfDomDidLayout(r),o}linesVisibleRangesForRange(e,t){if(this.shouldRender())return null;const i=e.endLineNumber,r=B.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!r)return null;const o=[];let s=0;const a=new qA(this.domNode.domNode,this._textRangeRestingSpot);let l=0;t&&(l=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new re(r.startLineNumber,1)).lineNumber);const c=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let u=r.startLineNumber;u<=r.endLineNumber;u++){if(u<c||u>d)continue;const h=u===r.startLineNumber?r.startColumn:1,f=u!==r.endLineNumber,g=f?this._context.viewModel.getLineMaxColumn(u):r.endColumn,_=this._visibleLines.getVisibleLine(u).getVisibleRangesForRange(u,h,g,a);if(_){if(t&&u<i){const y=l;l=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new re(u+1,1)).lineNumber,y!==l&&(_.ranges[_.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}o[s++]=new yPe(_.outsideRenderedLine,u,GP.from(_.ranges),f)}}return this._updateLineWidthsSlowIfDomDidLayout(a),s===0?null:o}_visibleRangesForLineRange(e,t,i){if(this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber())return null;const r=new qA(this.domNode.domNode,this._textRangeRestingSpot),o=this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,t,i,r);return this._updateLineWidthsSlowIfDomDidLayout(r),o}visibleRangeForPosition(e){const t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new CPe(t.outsideRenderedLine,t.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(e){e.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let r=1,o=!0;for(let s=t;s<=i;s++){const a=this._visibleLines.getVisibleLine(s);if(e&&!a.getWidthIsFast()){o=!1;continue}r=Math.max(r,a.getWidth(null))}return o&&t===1&&i===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(r),o}_checkMonospaceFontAssumptions(){let e=-1,t=-1;const i=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let o=i;o<=r;o++){const s=this._visibleLines.getVisibleLine(o);if(s.needsMonospaceFontCheck()){const a=s.getWidth(null);a>t&&(t=a,e=o)}}if(e!==-1&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let o=i;o<=r;o++)this._visibleLines.getVisibleLine(o).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const i=this._horizontalRevealRequest;if(e.startLineNumber<=i.minLineNumber&&i.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const r=this._computeScrollLeftToReveal(i);r&&(this._isViewportWrapping||this._ensureMaxLineWidth(r.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:r.scrollLeft},i.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),Uo&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const i=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let o=i;o<=r;o++)if(this._visibleLines.getVisibleLine(o).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const t=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-t),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,t,i,r,o,s){const a=e.top,l=e.height,c=a+l;let d,u,h;if(o&&o.length>0){let m=o[0].startLineNumber,p=o[0].endLineNumber;for(let v=1,b=o.length;v<b;v++){const C=o[v];m=Math.min(m,C.startLineNumber),p=Math.max(p,C.endLineNumber)}d=!1,u=this._context.viewLayout.getVerticalOffsetForLineNumber(m),h=this._context.viewLayout.getVerticalOffsetForLineNumber(p)+this._lineHeight}else if(r)d=!0,u=this._context.viewLayout.getVerticalOffsetForLineNumber(r.startLineNumber),h=this._context.viewLayout.getVerticalOffsetForLineNumber(r.endLineNumber)+this._lineHeight;else return-1;const f=(t==="mouse"||i)&&this._cursorSurroundingLinesStyle==="default";let g=0,_=0;if(f)i||(g=this._lineHeight);else{const m=Math.min(l/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?g=Math.max(m,this._maxNumberStickyLines)*this._lineHeight:g=m*this._lineHeight,_=Math.max(0,m-1)*this._lineHeight}i||(s===0||s===4)&&(_+=this._lineHeight),u-=g,h+=_;let y;if(h-u>l){if(!d)return-1;y=u}else if(s===5||s===6)if(s===6&&a<=u&&h<=c)y=a;else{const m=Math.max(5*this._lineHeight,l*.2),p=u-m,v=h-l;y=Math.max(v,p)}else if(s===1||s===2)if(s===2&&a<=u&&h<=c)y=a;else{const m=(u+h)/2;y=Math.max(0,m-l/2)}else y=this._computeMinimumScrolling(a,c,u,h,s===3,s===4);return y}_computeScrollLeftToReveal(e){const t=this._context.viewLayout.getCurrentViewport(),i=this._context.configuration.options.get(143),r=t.left,o=r+t.width-i.verticalScrollbarWidth;let s=1073741824,a=0;if(e.type==="range"){const c=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!c)return null;for(const d of c.ranges)s=Math.min(s,Math.round(d.left)),a=Math.max(a,Math.round(d.left+d.width))}else for(const c of e.selections){if(c.startLineNumber!==c.endLineNumber)return null;const d=this._visibleRangesForLineRange(c.startLineNumber,c.startColumn,c.endColumn);if(!d)return null;for(const u of d.ranges)s=Math.min(s,Math.round(u.left)),a=Math.max(a,Math.round(u.left+u.width))}return e.minimalReveal||(s=Math.max(0,s-tM.HORIZONTAL_EXTRA_PX),a+=this._revealHorizontalRightPadding),e.type==="selections"&&a-s>t.width?null:{scrollLeft:this._computeMinimumScrolling(r,o,s,a),maxHorizontalOffset:a}}_computeMinimumScrolling(e,t,i,r,o,s){e=e|0,t=t|0,i=i|0,r=r|0,o=!!o,s=!!s;const a=t-e;if(r-i<a){if(o)return i;if(s)return Math.max(0,r-a);if(i<e)return i;if(r>t)return Math.max(0,r-a)}else return i;return e}}tM.HORIZONTAL_EXTRA_PX=30;class b2e extends Ule{constructor(e){super(),this._context=e;const i=this._context.configuration.options.get(143);this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const i=this._context.configuration.options.get(143);return this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){var t,i;const r=e.getDecorationsInViewport(),o=[];let s=0;for(let a=0,l=r.length;a<l;a++){const c=r[a],d=c.options.linesDecorationsClassName,u=c.options.zIndex;d&&(o[s++]=new s3(c.range.startLineNumber,c.range.endLineNumber,d,(t=c.options.linesDecorationsTooltip)!==null&&t!==void 0?t:null,u));const h=c.options.firstLineDecorationClassName;h&&(o[s++]=new s3(c.range.startLineNumber,c.range.startLineNumber,h,(i=c.options.linesDecorationsTooltip)!==null&&i!==void 0?i:null,u))}return o}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r=this._render(t,i,this._getDecorations(e)),o=this._decorationsLeft.toString(),s=this._decorationsWidth.toString(),a='" style="left:'+o+"px;width:"+s+'px;"></div>',l=[];for(let c=t;c<=i;c++){const d=c-t,u=r[d].getDecorations();let h="";for(const f of u){let g='<div class="cldr '+f.className;f.tooltip!==null&&(g+='" title="'+f.tooltip),g+=a,h+=g}l[d]=h}this._renderResult=l}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class y2e extends Ule{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport(),i=[];let r=0;for(let o=0,s=t.length;o<s;o++){const a=t[o],l=a.options.marginClassName,c=a.options.zIndex;l&&(i[r++]=new s3(a.range.startLineNumber,a.range.endLineNumber,l,null,c))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r=this._render(t,i,this._getDecorations(e)),o=[];for(let s=t;s<=i;s++){const a=s-t,l=r[a].getDecorations();let c="";for(const d of l)c+='<div class="cmdr '+d.className+'" style=""></div>';o[a]=c}this._renderResult=o}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class Ga{constructor(e,t,i,r){this._rgba8Brand=void 0,this.r=Ga._clamp(e),this.g=Ga._clamp(t),this.b=Ga._clamp(i),this.a=Ga._clamp(r)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:e|0}}Ga.Empty=new Ga(0,0,0,0);class Kx extends ce{static getInstance(){return this._INSTANCE||(this._INSTANCE=new Kx),this._INSTANCE}constructor(){super(),this._onDidChange=new ne,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(ln.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const e=ln.getColorMap();if(!e){this._colors=[Ga.Empty],this._backgroundIsLight=!0;return}this._colors=[Ga.Empty];for(let i=1;i<e.length;i++){const r=e[i].rgba;this._colors[i]=new Ga(r.r,r.g,r.b,Math.round(r.a*255))}const t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}Kx._INSTANCE=null;const C2e=(()=>{const n=[];for(let e=32;e<=126;e++)n.push(e);return n.push(65533),n})(),w2e=(n,e)=>(n-=32,n<0||n>96?e<=2?(n+96)%96:95:n);class aS{constructor(e,t){this.scale=t,this._minimapCharRendererBrand=void 0,this.charDataNormal=aS.soften(e,12/15),this.charDataLight=aS.soften(e,50/60)}static soften(e,t){const i=new Uint8ClampedArray(e.length);for(let r=0,o=e.length;r<o;r++)i[r]=KE(e[r]*t);return i}renderChar(e,t,i,r,o,s,a,l,c,d,u){const h=1*this.scale,f=2*this.scale,g=u?1:f;if(t+h>e.width||i+g>e.height){console.warn("bad render request outside image data");return}const _=d?this.charDataLight:this.charDataNormal,y=w2e(r,c),m=e.width*4,p=a.r,v=a.g,b=a.b,C=o.r-p,S=o.g-v,x=o.b-b,k=Math.max(s,l),D=e.data;let E=y*h*f,I=i*m+t*4;for(let N=0;N<g;N++){let R=I;for(let O=0;O<h;O++){const W=_[E++]/255*(s/255);D[R++]=p+C*W,D[R++]=v+S*W,D[R++]=b+x*W,D[R++]=k}I+=m}}blockRenderChar(e,t,i,r,o,s,a,l){const c=1*this.scale,d=2*this.scale,u=l?1:d;if(t+c>e.width||i+u>e.height){console.warn("bad render request outside image data");return}const h=e.width*4,f=.5*(o/255),g=s.r,_=s.g,y=s.b,m=r.r-g,p=r.g-_,v=r.b-y,b=g+m*f,C=_+p*f,S=y+v*f,x=Math.max(o,a),k=e.data;let D=i*h+t*4;for(let E=0;E<u;E++){let I=D;for(let N=0;N<c;N++)k[I++]=b,k[I++]=C,k[I++]=S,k[I++]=x;D+=h}}}const sG={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},aG=n=>{const e=new Uint8ClampedArray(n.length/2);for(let t=0;t<n.length;t+=2)e[t>>1]=sG[n[t]]<<4|sG[n[t+1]]&15;return e},lG={1:Ng(()=>aG("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:Ng(()=>aG("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class Fw{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let i;return lG[e]?i=new aS(lG[e](),e):i=Fw.createFromSampleData(Fw.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=i,i}static createSampleData(e){const t=document.createElement("canvas"),i=t.getContext("2d");t.style.height="16px",t.height=16,t.width=96*10,t.style.width=96*10+"px",i.fillStyle="#ffffff",i.font=`bold 16px ${e}`,i.textBaseline="middle";let r=0;for(const o of C2e)i.fillText(String.fromCharCode(o),r,16/2),r+=10;return i.getImageData(0,0,96*10,16)}static createFromSampleData(e,t){if(e.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const r=Fw._downsample(e,t);return new aS(r,t)}static _downsampleChar(e,t,i,r,o){const s=1*o,a=2*o;let l=r,c=0;for(let d=0;d<a;d++){const u=d/a*16,h=(d+1)/a*16;for(let f=0;f<s;f++){const g=f/s*10,_=(f+1)/s*10;let y=0,m=0;for(let v=u;v<h;v++){const b=t+Math.floor(v)*3840,C=1-(v-Math.floor(v));for(let S=g;S<_;S++){const x=1-(S-Math.floor(S)),k=b+Math.floor(S)*4,D=x*C;m+=D,y+=e[k]*e[k+3]/255*D}}const p=y/m;c=Math.max(c,p),i[l++]=KE(p)}}return c}static _downsample(e,t){const i=2*t*1*t,r=i*96,o=new Uint8ClampedArray(r);let s=0,a=0,l=0;for(let c=0;c<96;c++)l=Math.max(l,this._downsampleChar(e,a,o,s,t)),s+=i,a+=10*4;if(l>0){const c=255/l;for(let d=0;d<r;d++)o[d]*=c}return o}}const S2e=140,x2e=2;class lS{constructor(e,t,i){const r=e.options,o=r.get(141),s=r.get(143),a=s.minimap,l=r.get(50),c=r.get(72);this.renderMinimap=a.renderMinimap,this.size=c.size,this.minimapHeightIsEditorHeight=a.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=r.get(104),this.paddingTop=r.get(83).top,this.paddingBottom=r.get(83).bottom,this.showSlider=c.showSlider,this.autohide=c.autohide,this.pixelRatio=o,this.typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this.lineHeight=r.get(66),this.minimapLeft=a.minimapLeft,this.minimapWidth=a.minimapWidth,this.minimapHeight=s.height,this.canvasInnerWidth=a.minimapCanvasInnerWidth,this.canvasInnerHeight=a.minimapCanvasInnerHeight,this.canvasOuterWidth=a.minimapCanvasOuterWidth,this.canvasOuterHeight=a.minimapCanvasOuterHeight,this.isSampling=a.minimapIsSampling,this.editorHeight=s.height,this.fontScale=a.minimapScale,this.minimapLineHeight=a.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=Ng(()=>Fw.create(this.fontScale,l.fontFamily)),this.defaultBackgroundColor=i.getColor(2),this.backgroundColor=lS._getMinimapBackground(t,this.defaultBackgroundColor),this.foregroundAlpha=lS._getMinimapForegroundOpacity(t)}static _getMinimapBackground(e,t){const i=e.getColor(rPe);return i?new Ga(i.rgba.r,i.rgba.g,i.rgba.b,Math.round(255*i.rgba.a)):t}static _getMinimapForegroundOpacity(e){const t=e.getColor(oPe);return t?Ga._clamp(Math.round(255*t.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.paddingTop===e.paddingTop&&this.paddingBottom===e.paddingBottom&&this.showSlider===e.showSlider&&this.autohide===e.autohide&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class Bw{constructor(e,t,i,r,o,s,a,l,c){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=i,this._computedSliderRatio=r,this.sliderTop=o,this.sliderHeight=s,this.topPaddingLineCount=a,this.startLineNumber=l,this.endLineNumber=c}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(e){const t=Math.max(this.startLineNumber,e.startLineNumber),i=Math.min(this.endLineNumber,e.endLineNumber);return t>i?null:[t,i]}getYForLineNumber(e,t){return+(e-this.startLineNumber+this.topPaddingLineCount)*t}static create(e,t,i,r,o,s,a,l,c,d,u){const h=e.pixelRatio,f=e.minimapLineHeight,g=Math.floor(e.canvasInnerHeight/f),_=e.lineHeight;if(e.minimapHeightIsEditorHeight){let S=l*e.lineHeight+e.paddingTop+e.paddingBottom;e.scrollBeyondLastLine&&(S+=Math.max(0,o-e.lineHeight-e.paddingBottom));const x=Math.max(1,Math.floor(o*o/S)),k=Math.max(0,e.minimapHeight-x),D=k/(d-o),E=c*D,I=k>0,N=Math.floor(e.canvasInnerHeight/e.minimapLineHeight),R=Math.floor(e.paddingTop/e.lineHeight);return new Bw(c,d,I,D,E,x,R,1,Math.min(a,N))}let y;if(s&&i!==a){const S=i-t+1;y=Math.floor(S*f/h)}else{const S=o/_;y=Math.floor(S*f/h)}const m=Math.floor(e.paddingTop/_);let p=Math.floor(e.paddingBottom/_);if(e.scrollBeyondLastLine){const S=o/_;p=Math.max(p,S-1)}let v;if(p>0){const S=o/_;v=(m+a+p-S-1)*f/h}else v=Math.max(0,(m+a)*f/h-y);v=Math.min(e.minimapHeight-y,v);const b=v/(d-o),C=c*b;if(g>=m+a+p){const S=v>0;return new Bw(c,d,S,b,C,y,m,1,a)}else{let S;t>1?S=t+m:S=Math.max(1,c/_);let x,k=Math.max(1,Math.floor(S-C*h/f));k<m?(x=m-k+1,k=1):(x=0,k=Math.max(1,k-m)),u&&u.scrollHeight===d&&(u.scrollTop>c&&(k=Math.min(k,u.startLineNumber),x=Math.max(x,u.topPaddingLineCount)),u.scrollTop<c&&(k=Math.max(k,u.startLineNumber),x=Math.min(x,u.topPaddingLineCount)));const D=Math.min(a,k-x+g-1),E=(c-r)/_;let I;return c>=e.paddingTop?I=(t-k+x+E)*f/h:I=c/e.paddingTop*(x+E)*f/h,new Bw(c,d,!0,b,I,y,x,k,D)}}}class sI{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}sI.INVALID=new sI(-1);class cG{constructor(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new Vle(()=>sI.INVALID),this._renderedLines._set(e.startLineNumber,i)}linesEquals(e){if(!this.scrollEquals(e))return!1;const i=this._renderedLines._get().lines;for(let r=0,o=i.length;r<o;r++)if(i[r].dy===-1)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class q6{constructor(e,t,i,r){this._backgroundFillData=q6._createBackgroundFillData(t,i,r),this._buffers=[e.createImageData(t,i),e.createImageData(t,i)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,i){const r=i.r,o=i.g,s=i.b,a=i.a,l=new Uint8ClampedArray(e*t*4);let c=0;for(let d=0;d<t;d++)for(let u=0;u<e;u++)l[c]=r,l[c+1]=o,l[c+2]=s,l[c+3]=a,c+=4;return l}}class cS{static compute(e,t,i){if(e.renderMinimap===0||!e.isSampling)return[null,[]];const{minimapLineCount:r}=kv.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:e.scrollBeyondLastLine,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,height:e.editorHeight,lineHeight:e.lineHeight,pixelRatio:e.pixelRatio}),o=t/r,s=o/2;if(!i||i.minimapLines.length===0){const y=[];if(y[0]=1,r>1){for(let m=0,p=r-1;m<p;m++)y[m]=Math.round(m*o+s);y[r-1]=t}return[new cS(o,y),[]]}const a=i.minimapLines,l=a.length,c=[];let d=0,u=0,h=1;const f=10;let g=[],_=null;for(let y=0;y<r;y++){const m=Math.max(h,Math.round(y*o)),p=Math.max(m,Math.round((y+1)*o));for(;d<l&&a[d]<m;){if(g.length<f){const b=d+1+u;_&&_.type==="deleted"&&_._oldIndex===d-1?_.deleteToLineNumber++:(_={type:"deleted",_oldIndex:d,deleteFromLineNumber:b,deleteToLineNumber:b},g.push(_)),u--}d++}let v;if(d<l&&a[d]<=p)v=a[d],d++;else if(y===0?v=1:y+1===r?v=t:v=Math.round(y*o+s),g.length<f){const b=d+1+u;_&&_.type==="inserted"&&_._i===y-1?_.insertToLineNumber++:(_={type:"inserted",_i:y,insertFromLineNumber:b,insertToLineNumber:b},g.push(_)),u++}c[y]=v,h=v}if(g.length<f)for(;d<l;){const y=d+1+u;_&&_.type==="deleted"&&_._oldIndex===d-1?_.deleteToLineNumber++:(_={type:"deleted",_oldIndex:d,deleteFromLineNumber:y,deleteToLineNumber:y},g.push(_)),u--,d++}else g=[{type:"flush"}];return[new cS(o,c),g]}constructor(e,t){this.samplingRatio=e,this.minimapLines=t}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e)-1;for(;i>0&&this.minimapLines[i-1]>=e;)i--;let r=this.modelLineToMinimapLine(t)-1;for(;r+1<this.minimapLines.length&&this.minimapLines[r+1]<=t;)r++;if(i===r){const o=this.minimapLines[i];if(o<e||o>t)return null}return[i+1,r+1]}decorationLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e),r=this.modelLineToMinimapLine(t);return e!==t&&r===i&&(r===this.minimapLines.length?i>1&&i--:r++),[i,r]}onLinesDeleted(e){const t=e.toLineNumber-e.fromLineNumber+1;let i=this.minimapLines.length,r=0;for(let o=this.minimapLines.length-1;o>=0&&!(this.minimapLines[o]<e.fromLineNumber);o--)this.minimapLines[o]<=e.toLineNumber?(this.minimapLines[o]=Math.max(1,e.fromLineNumber-1),i=Math.min(i,o),r=Math.max(r,o)):this.minimapLines[o]-=t;return[i,r]}onLinesInserted(e){const t=e.toLineNumber-e.fromLineNumber+1;for(let i=this.minimapLines.length-1;i>=0&&!(this.minimapLines[i]<e.fromLineNumber);i--)this.minimapLines[i]+=t}}class L2e extends Zs{constructor(e){super(e),this.tokensColorTracker=Kx.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new lS(this._context.configuration,this._context.theme,this.tokensColorTracker);const[t]=cS.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new aI(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new lS(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(e)?!1:(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return e.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.fromLineNumber+e.count-1);return t?this._actual.onLinesChanged(t[0],t[1]-t[0]+1):!1}else return this._actual.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){if(this._samplingState){const[t,i]=this._samplingState.onLinesDeleted(e);return t<=i&&this._actual.onLinesChanged(t+1,i-t+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){const t=[];for(const i of e.ranges){const r=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.toLineNumber);r&&t.push({fromLineNumber:r[0],toLineNumber:r[1]})}return t.length?this._actual.onTokensChanged(t):!1}else return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),i=this._samplingState.modelLineToMinimapLine(i));const r={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:i,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(t),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(r)}_recreateLineSampling(){this._minimapSelections=null;const e=!!this._samplingState,[t,i]=cS.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(const r of i)switch(r.type){case"deleted":this._actual.onLinesDeleted(r.deleteFromLineNumber,r.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(r.insertFromLineNumber,r.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(e){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,t,i){if(this._samplingState){const r=[];for(let o=0,s=t-e+1;o<s;o++)i[o]?r[o]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[e+o-1]):r[o]=null;return r}return this._context.viewModel.getMinimapLinesRenderingData(e,t,i).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[t,i]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new Ke(t,e.startColumn,i,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){let i;if(this._samplingState){const o=this._samplingState.minimapLines[e-1],s=this._samplingState.minimapLines[t-1];i=new B(o,1,s,this._context.viewModel.getLineMaxColumn(s))}else i=new B(e,1,t,this._context.viewModel.getLineMaxColumn(t));const r=this._context.viewModel.getMinimapDecorationsInRange(i);if(this._samplingState){const o=[];for(const s of r){if(!s.options.minimap)continue;const a=s.range,l=this._samplingState.modelLineToMinimapLine(a.startLineNumber),c=this._samplingState.modelLineToMinimapLine(a.endLineNumber);o.push(new rle(new B(l,a.startColumn,c,a.endColumn),s.options))}return o}return r}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.viewModel.revealRange("mouse",!1,new B(e,1,e,1),1,0)}setScrollTop(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e},1)}}class aI extends ce{constructor(e,t){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(UK),this._domNode=pi(document.createElement("div")),Kc.write(this._domNode,9),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=pi(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=pi(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=pi(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=pi(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=pi(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=kn(this._domNode.domNode,Ne.POINTER_DOWN,i=>{if(i.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(i.button===0&&this._lastRenderData){const c=Vn(this._slider.domNode),d=c.top+c.height/2;this._startSliderDragging(i,d,this._lastRenderData.renderedLayout)}return}const o=this._model.options.minimapLineHeight,s=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*i.offsetY;let l=Math.floor(s/o)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;l=Math.min(l,this._model.getLineCount()),this._model.revealLineNumber(l)}),this._sliderPointerMoveMonitor=new Sy,this._sliderPointerDownListener=kn(this._slider.domNode,Ne.POINTER_DOWN,i=>{i.preventDefault(),i.stopPropagation(),i.button===0&&this._lastRenderData&&this._startSliderDragging(i,i.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=Ei.addTarget(this._domNode.domNode),this._sliderTouchStartListener=ge(this._domNode.domNode,Ii.Start,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(i))},{passive:!1}),this._sliderTouchMoveListener=ge(this._domNode.domNode,Ii.Change,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(i)},{passive:!1}),this._sliderTouchEndListener=kn(this._domNode.domNode,Ii.End,i=>{i.preventDefault(),i.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,t,i){if(!e.target||!(e.target instanceof Element))return;const r=e.pageX;this._slider.toggleClassName("active",!0);const o=(s,a)=>{const l=Vn(this._domNode.domNode),c=Math.min(Math.abs(a-r),Math.abs(a-l.left),Math.abs(a-l.left-l.width));if(no&&c>S2e){this._model.setScrollTop(i.scrollTop);return}const d=s-t;this._model.setScrollTop(i.getDesiredScrollTopFromDelta(d))};e.pageY!==t&&o(e.pageY,r),this._sliderPointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,s=>o(s.pageY,s.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){const t=this._domNode.domNode.getBoundingClientRect().top,i=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(i)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const e=["minimap"];return this._model.options.showSlider==="always"?e.push("slider-always"):e.push("slider-mouseover"),this._model.options.autohide&&e.push("autohide"),e.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new q6(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return this._lastRenderData?this._lastRenderData.onLinesChanged(e,t):!1}onLinesDeleted(e,t){var i;return(i=this._lastRenderData)===null||i===void 0||i.onLinesDeleted(e,t),!0}onLinesInserted(e,t){var i;return(i=this._lastRenderData)===null||i===void 0||i.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(UK),this._renderDecorations=!0,!0}onTokensChanged(e){return this._lastRenderData?this._lastRenderData.onTokensChanged(e):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const i=Bw.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(i.sliderNeeded?"block":"none"),this._slider.setTop(i.sliderTop),this._slider.setHeight(i.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(i.sliderHeight),this.renderDecorations(i),this._lastRenderData=this.renderLines(i)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const t=this._model.getSelections();t.sort(B.compareRangesUsingStarts);const i=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);i.sort((h,f)=>(h.options.zIndex||0)-(f.options.zIndex||0));const{canvasInnerWidth:r,canvasInnerHeight:o}=this._model.options,s=this._model.options.minimapLineHeight,a=this._model.options.minimapCharWidth,l=this._model.getOptions().tabSize,c=this._decorationsCanvas.domNode.getContext("2d");c.clearRect(0,0,r,o);const d=new dG(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(c,t,d,e,s),this._renderDecorationsLineHighlights(c,i,d,e,s);const u=new dG(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(c,t,u,e,s,l,a,r),this._renderDecorationsHighlights(c,i,u,e,s,l,a,r)}}_renderSelectionLineHighlights(e,t,i,r,o){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let s=0,a=0;for(const l of t){const c=r.intersectWithViewport(l);if(!c)continue;const[d,u]=c;for(let g=d;g<=u;g++)i.set(g,!0);const h=r.getYForLineNumber(d,o),f=r.getYForLineNumber(u,o);a>=h||(a>s&&e.fillRect(hf,s,e.canvas.width,a-s),s=h),a=f}a>s&&e.fillRect(hf,s,e.canvas.width,a-s)}_renderDecorationsLineHighlights(e,t,i,r,o){const s=new Map;for(let a=t.length-1;a>=0;a--){const l=t[a],c=l.options.minimap;if(!c||c.position!==Bs.Inline)continue;const d=r.intersectWithViewport(l.range);if(!d)continue;const[u,h]=d,f=c.getColor(this._theme.value);if(!f||f.isTransparent())continue;let g=s.get(f.toString());g||(g=f.transparent(.5).toString(),s.set(f.toString(),g)),e.fillStyle=g;for(let _=u;_<=h;_++){if(i.has(_))continue;i.set(_,!0);const y=r.getYForLineNumber(u,o);e.fillRect(hf,y,e.canvas.width,o)}}}_renderSelectionsHighlights(e,t,i,r,o,s,a,l){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const c of t){const d=r.intersectWithViewport(c);if(!d)continue;const[u,h]=d;for(let f=u;f<=h;f++)this.renderDecorationOnLine(e,i,c,this._selectionColor,r,f,o,o,s,a,l)}}_renderDecorationsHighlights(e,t,i,r,o,s,a,l){for(const c of t){const d=c.options.minimap;if(!d)continue;const u=r.intersectWithViewport(c.range);if(!u)continue;const[h,f]=u,g=d.getColor(this._theme.value);if(!(!g||g.isTransparent()))for(let _=h;_<=f;_++)switch(d.position){case Bs.Inline:this.renderDecorationOnLine(e,i,c.range,g,r,_,o,o,s,a,l);continue;case Bs.Gutter:{const y=r.getYForLineNumber(_,o);this.renderDecoration(e,g,2,y,x2e,o);continue}}}}renderDecorationOnLine(e,t,i,r,o,s,a,l,c,d,u){const h=o.getYForLineNumber(s,l);if(h+a<0||h>this._model.options.canvasInnerHeight)return;const{startLineNumber:f,endLineNumber:g}=i,_=f===s?i.startColumn:1,y=g===s?i.endColumn:this._model.getLineMaxColumn(s),m=this.getXOffsetForPosition(t,s,_,c,d,u),p=this.getXOffsetForPosition(t,s,y,c,d,u);this.renderDecoration(e,r,m,h,p-m,a)}getXOffsetForPosition(e,t,i,r,o,s){if(i===1)return hf;if((i-1)*o>=s)return s;let l=e.get(t);if(!l){const c=this._model.getLineContent(t);l=[hf];let d=hf;for(let u=1;u<c.length+1;u++){const h=c.charCodeAt(u-1),f=h===9?r*o:Pg(h)?2*o:o,g=d+f;if(g>=s){l[u]=s;break}l[u]=g,d=g}e.set(t,l)}return i-1<l.length?l[i-1]:s}renderDecoration(e,t,i,r,o,s){e.fillStyle=t&&t.toString()||"",e.fillRect(i,r,o,s)}renderLines(e){const t=e.startLineNumber,i=e.endLineNumber,r=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const W=this._lastRenderData._get();return new cG(e,W.imageData,W.lines)}const o=this._getBuffer();if(!o)return null;const[s,a,l]=aI._renderUntouchedLines(o,e.topPaddingLineCount,t,i,r,this._lastRenderData),c=this._model.getMinimapLinesRenderingData(t,i,l),d=this._model.getOptions().tabSize,u=this._model.options.defaultBackgroundColor,h=this._model.options.backgroundColor,f=this._model.options.foregroundAlpha,g=this._model.tokensColorTracker,_=g.backgroundIsLight(),y=this._model.options.renderMinimap,m=this._model.options.charRenderer(),p=this._model.options.fontScale,v=this._model.options.minimapCharWidth,C=(y===1?2:3)*p,S=r>C?Math.floor((r-C)/2):0,x=h.a/255,k=new Ga(Math.round((h.r-u.r)*x+u.r),Math.round((h.g-u.g)*x+u.g),Math.round((h.b-u.b)*x+u.b),255);let D=e.topPaddingLineCount*r;const E=[];for(let W=0,K=i-t+1;W<K;W++)l[W]&&aI._renderLine(o,k,h.a,_,y,v,g,f,m,D,S,d,c[W],p,r),E[W]=new sI(D),D+=r;const I=s===-1?0:s,R=(a===-1?o.height:a)-I;return this._canvas.domNode.getContext("2d").putImageData(o,0,0,0,I,o.width,R),new cG(e,o,E)}static _renderUntouchedLines(e,t,i,r,o,s){const a=[];if(!s){for(let D=0,E=r-i+1;D<E;D++)a[D]=!0;return[-1,-1,a]}const l=s._get(),c=l.imageData.data,d=l.rendLineNumberStart,u=l.lines,h=u.length,f=e.width,g=e.data,_=(r-i+1)*o*f*4;let y=-1,m=-1,p=-1,v=-1,b=-1,C=-1,S=t*o;for(let D=i;D<=r;D++){const E=D-i,I=D-d,N=I>=0&&I<h?u[I].dy:-1;if(N===-1){a[E]=!0,S+=o;continue}const R=N*f*4,O=(N+o)*f*4,W=S*f*4,K=(S+o)*f*4;v===R&&C===W?(v=O,C=K):(p!==-1&&(g.set(c.subarray(p,v),b),y===-1&&p===0&&p===b&&(y=v),m===-1&&v===_&&p===b&&(m=p)),p=R,v=O,b=W,C=K),a[E]=!1,S+=o}p!==-1&&(g.set(c.subarray(p,v),b),y===-1&&p===0&&p===b&&(y=v),m===-1&&v===_&&p===b&&(m=p));const x=y===-1?-1:y/(f*4),k=m===-1?-1:m/(f*4);return[x,k,a]}static _renderLine(e,t,i,r,o,s,a,l,c,d,u,h,f,g,_){const y=f.content,m=f.tokens,p=e.width-s,v=_===1;let b=hf,C=0,S=0;for(let x=0,k=m.getCount();x<k;x++){const D=m.getEndOffset(x),E=m.getForeground(x),I=a.getColor(E);for(;C<D;C++){if(b>p)return;const N=y.charCodeAt(C);if(N===9){const R=h-(C+S)%h;S+=R-1,b+=R*s}else if(N===32)b+=s;else{const R=Pg(N)?2:1;for(let O=0;O<R;O++)if(o===2?c.blockRenderChar(e,b,d+u,I,l,t,i,v):c.renderChar(e,b,d+u,N,I,l,t,i,g,r,v),b+=s,b>p)return}}}}}class dG{constructor(e,t,i){this._startLineNumber=e,this._endLineNumber=t,this._defaultValue=i,this._values=[];for(let r=0,o=this._endLineNumber-this._startLineNumber+1;r<o;r++)this._values[r]=i}has(e){return this.get(e)!==this._defaultValue}set(e,t){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=t)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}class k2e extends Zs{constructor(e,t){super(e),this._viewDomNode=t;const r=this._context.configuration.options.get(143);this._widgets={},this._verticalScrollbarWidth=r.verticalScrollbarWidth,this._minimapWidth=r.minimap.minimapWidth,this._horizontalScrollbarHeight=r.horizontalScrollbarHeight,this._editorHeight=r.height,this._editorWidth=r.width,this._viewDomNodeRect={top:0,left:0,width:0,height:0},this._domNode=pi(document.createElement("div")),Kc.write(this._domNode,4),this._domNode.setClassName("overlayWidgets"),this.overflowingOverlayWidgetsDomNode=pi(document.createElement("div")),Kc.write(this.overflowingOverlayWidgetsDomNode,5),this.overflowingOverlayWidgetsDomNode.setClassName("overflowingOverlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const i=this._context.configuration.options.get(143);return this._verticalScrollbarWidth=i.verticalScrollbarWidth,this._minimapWidth=i.minimap.minimapWidth,this._horizontalScrollbarHeight=i.horizontalScrollbarHeight,this._editorHeight=i.height,this._editorWidth=i.width,!0}addWidget(e){const t=pi(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),e.allowEditorOverflow?this.overflowingOverlayWidgetsDomNode.appendChild(t):this._domNode.appendChild(t),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(e,t){const i=this._widgets[e.getId()];return i.preference===t?(this._updateMaxMinWidth(),!1):(i.preference=t,this.setShouldRender(),this._updateMaxMinWidth(),!0)}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const r=this._widgets[t].domNode.domNode;delete this._widgets[t],r.remove(),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var e,t;let i=0;const r=Object.keys(this._widgets);for(let o=0,s=r.length;o<s;o++){const a=r[o],c=(t=(e=this._widgets[a].widget).getMinContentWidthInPx)===null||t===void 0?void 0:t.call(e);typeof c<"u"&&(i=Math.max(i,c))}this._context.viewLayout.setOverlayWidgetsMinWidth(i)}_renderWidget(e){const t=e.domNode;if(e.preference===null){t.setTop("");return}if(e.preference===0)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(e.preference===1){const i=t.domNode.clientHeight;t.setTop(this._editorHeight-i-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else if(e.preference===2)t.setTop(0),t.domNode.style.right="50%";else{const{top:i,left:r}=e.preference;if(this._context.configuration.options.get(42)&&e.widget.allowEditorOverflow){const s=this._viewDomNodeRect;t.setTop(i+s.top),t.setLeft(r+s.left),t.setPosition("fixed")}else t.setTop(i),t.setLeft(r),t.setPosition("absolute")}}prepareRender(e){this._viewDomNodeRect=Vn(this._viewDomNode.domNode)}render(e){this._domNode.setWidth(this._editorWidth);const t=Object.keys(this._widgets);for(let i=0,r=t.length;i<r;i++){const o=t[i];this._renderWidget(this._widgets[o])}}}class D2e{constructor(e,t){const i=e.options;this.lineHeight=i.get(66),this.pixelRatio=i.get(141),this.overviewRulerLanes=i.get(82),this.renderBorder=i.get(81);const r=t.getColor(hMe);this.borderColor=r?r.toString():null,this.hideCursor=i.get(59);const o=t.getColor(Ele);this.cursorColor=o?o.transparent(.7).toString():null,this.themeType=t.type;const s=i.get(72),a=s.enabled,l=s.side,c=t.getColor(fMe),d=ln.getDefaultBackground();c?this.backgroundColor=c:a&&l==="right"?this.backgroundColor=d:this.backgroundColor=null;const h=i.get(143).overviewRuler;this.top=h.top,this.right=h.right,this.domWidth=h.width,this.domHeight=h.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[f,g]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=f,this.w=g}_initLanes(e,t,i){const r=t-e;if(i>=3){const o=Math.floor(r/3),s=Math.floor(r/3),a=r-o-s,l=e,c=l+o,d=l+o+a;return[[0,l,c,l,d,l,c,l],[0,o,a,o+a,s,o+a+s,a+s,o+a+s]]}else if(i===2){const o=Math.floor(r/2),s=r-o,a=e,l=a+o;return[[0,a,a,a,l,a,a,a],[0,o,o,o,s,o+s,o+s,o+s]]}else{const o=e,s=r;return[[0,o,o,o,o,o,o,o],[0,s,s,s,s,s,s,s]]}}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&ue.equals(this.backgroundColor,e.backgroundColor)&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class T2e extends Zs{constructor(e){super(e),this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=pi(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=ln.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const t=new D2e(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(e){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,i=e.selections.length;t<i;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(re.compare),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(e){return e.affectsOverviewRuler?this._markRenderingIsMaybeNeeded():!1}onFlushed(e){return this._markRenderingIsNeeded()}onScrollChanged(e){return e.scrollHeightChanged?this._markRenderingIsNeeded():!1}onZonesChanged(e){return this._markRenderingIsNeeded()}onThemeChanged(e){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render(),this._actualShouldRender=0}_render(){const e=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(e?ue.Format.CSS.formatHexA(e):""),this._domNode.setDisplay("none");return}const t=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if(t.sort(X1.compareByRenderingProps),this._actualShouldRender===1&&!X1.equalsArr(this._renderedDecorations,t)&&(this._actualShouldRender=2),this._actualShouldRender===1&&!vn(this._renderedCursorPositions,this._cursorPositions,(g,_)=>g.lineNumber===_.lineNumber)&&(this._actualShouldRender=2),this._actualShouldRender===1)return;this._renderedDecorations=t,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");const i=this._settings.canvasWidth,r=this._settings.canvasHeight,o=this._settings.lineHeight,s=this._context.viewLayout,a=this._context.viewLayout.getScrollHeight(),l=r/a,c=6*this._settings.pixelRatio|0,d=c/2|0,u=this._domNode.domNode.getContext("2d");e?e.isOpaque()?(u.fillStyle=ue.Format.CSS.formatHexA(e),u.fillRect(0,0,i,r)):(u.clearRect(0,0,i,r),u.fillStyle=ue.Format.CSS.formatHexA(e),u.fillRect(0,0,i,r)):u.clearRect(0,0,i,r);const h=this._settings.x,f=this._settings.w;for(const g of t){const _=g.color,y=g.data;u.fillStyle=_;let m=0,p=0,v=0;for(let b=0,C=y.length/3;b<C;b++){const S=y[3*b],x=y[3*b+1],k=y[3*b+2];let D=s.getVerticalOffsetForLineNumber(x)*l|0,E=(s.getVerticalOffsetForLineNumber(k)+o)*l|0;if(E-D<c){let N=(D+E)/2|0;N<d?N=d:N+d>r&&(N=r-d),D=N-d,E=N+d}D>v+1||S!==m?(b!==0&&u.fillRect(h[m],p,f[m],v-p),m=S,p=D,v=E):E>v&&(v=E)}u.fillRect(h[m],p,f[m],v-p)}if(!this._settings.hideCursor&&this._settings.cursorColor){const g=2*this._settings.pixelRatio|0,_=g/2|0,y=this._settings.x[7],m=this._settings.w[7];u.fillStyle=this._settings.cursorColor;let p=-100,v=-100;for(let b=0,C=this._cursorPositions.length;b<C;b++){const S=this._cursorPositions[b];let x=s.getVerticalOffsetForLineNumber(S.lineNumber)*l|0;x<_?x=_:x+_>r&&(x=r-_);const k=x-_,D=k+g;k>v+1?(b!==0&&u.fillRect(y,p,m,v-p),p=k,v=D):D>v&&(v=D)}u.fillRect(y,p,m,v-p)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(u.beginPath(),u.lineWidth=1,u.strokeStyle=this._settings.borderColor,u.moveTo(0,0),u.lineTo(0,r),u.stroke(),u.moveTo(0,0),u.lineTo(i,0),u.stroke())}}class uG{constructor(e,t,i){this._colorZoneBrand=void 0,this.from=e|0,this.to=t|0,this.colorId=i|0}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class Kle{constructor(e,t,i,r){this._overviewRulerZoneBrand=void 0,this.startLineNumber=e,this.endLineNumber=t,this.heightInLines=i,this.color=r,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.heightInLines===t.heightInLines?e.endLineNumber-t.endLineNumber:e.heightInLines-t.heightInLines:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class E2e{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(Kle.compare)}setLineHeight(e){return this._lineHeight===e?!1:(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth===e?!1:(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight===e?!1:(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight===e?!1:(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),i=Math.floor(this.getCanvasHeight()),r=Math.floor(this._outerHeight),o=i/r,s=Math.floor(4*this._pixelRatio/2),a=[];for(let l=0,c=this._zones.length;l<c;l++){const d=this._zones[l];if(!e){const b=d.getColorZones();if(b){a.push(b);continue}}const u=this._getVerticalOffsetForLine(d.startLineNumber),h=d.heightInLines===0?this._getVerticalOffsetForLine(d.endLineNumber)+t:u+d.heightInLines*t,f=Math.floor(o*u),g=Math.floor(o*h);let _=Math.floor((f+g)/2),y=g-_;y<s&&(y=s),_-y<0&&(_=y),_+y>i&&(_=i-y);const m=d.color;let p=this._color2Id[m];p||(p=++this._lastAssignedId,this._color2Id[m]=p,this._id2Color[p]=m);const v=new uG(_-y,_+y,p);d.setColorZone(v),a.push(v)}return this._colorZonesInvalid=!1,a.sort(uG.compare),a}}class I2e extends zx{constructor(e,t){super(),this._context=e;const i=this._context.configuration.options;this._domNode=pi(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new E2e(r=>this._context.viewLayout.getVerticalOffsetForLineNumber(r)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(66)),this._zoneManager.setPixelRatio(i.get(141)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return e.hasChanged(66)&&(this._zoneManager.setLineHeight(t.get(66)),this._render()),e.hasChanged(141)&&(this._zoneManager.setPixelRatio(t.get(141)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),r=this._zoneManager.getId2Color(),o=this._domNode.domNode.getContext("2d");return o.clearRect(0,0,e,t),i.length>0&&this._renderOneLane(o,i,r,e),!0}_renderOneLane(e,t,i,r){let o=0,s=0,a=0;for(const l of t){const c=l.colorId,d=l.from,u=l.to;c!==o?(e.fillRect(0,s,r,a-s),o=c,e.fillStyle=i[o],s=d,a=u):a>=d?a=Math.max(a,u):(e.fillRect(0,s,r,a-s),s=d,a=u)}e.fillRect(0,s,r,a-s)}}class N2e extends Zs{constructor(e){super(e),this.domNode=pi(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const t=this._context.configuration.options;this._rulers=t.get(101),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._rulers=t.get(101),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){const{tabSize:r}=this._context.viewModel.model.getOptions(),o=r;let s=t-e;for(;s>0;){const a=pi(document.createElement("div"));a.setClassName("view-ruler"),a.setWidth(o),this.domNode.appendChild(a),this._renderedRulers.push(a),s--}return}let i=e-t;for(;i>0;){const r=this._renderedRulers.pop();this.domNode.removeChild(r),i--}}render(e){this._ensureRulersCount();for(let t=0,i=this._rulers.length;t<i;t++){const r=this._renderedRulers[t],o=this._rulers[t];r.setBoxShadow(o.color?`1px 0 0 0 ${o.color} inset`:""),r.setHeight(Math.min(e.scrollHeight,1e6)),r.setLeft(o.column*this._typicalHalfwidthCharacterWidth)}}}class P2e extends Zs{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const i=this._context.configuration.options.get(102);this._useShadows=i.useShadows,this._domNode=pi(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e?(this._shouldShow=e,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const t=this._context.configuration.options.get(143);t.minimap.renderMinimap===0||t.minimap.minimapWidth>0&&t.minimap.minimapLeft===0?this._width=t.width:this._width=t.width-t.verticalScrollbarWidth}onConfigurationChanged(e){const i=this._context.configuration.options.get(102);return this._useShadows=i.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}class M2e{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class R2e{constructor(e,t){this.lineNumber=e,this.ranges=t}}function A2e(n){return new M2e(n)}function O2e(n){return new R2e(n.lineNumber,n.ranges.map(A2e))}class Cn extends P_{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(66),this._roundedSelection=t.get(100),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(66),this._roundedSelection=t.get(100),this._typicalHalfwidthCharacterWidth=t.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,i=e.length;t<i;t++)if(e[t].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(e,t,i){const r=this._typicalHalfwidthCharacterWidth/4;let o=null,s=null;if(i&&i.length>0&&t.length>0){const a=t[0].lineNumber;if(a===e.startLineNumber)for(let c=0;!o&&c<i.length;c++)i[c].lineNumber===a&&(o=i[c].ranges[0]);const l=t[t.length-1].lineNumber;if(l===e.endLineNumber)for(let c=i.length-1;!s&&c>=0;c--)i[c].lineNumber===l&&(s=i[c].ranges[0]);o&&!o.startStyle&&(o=null),s&&!s.startStyle&&(s=null)}for(let a=0,l=t.length;a<l;a++){const c=t[a].ranges[0],d=c.left,u=c.left+c.width,h={top:0,bottom:0},f={top:0,bottom:0};if(a>0){const g=t[a-1].ranges[0].left,_=t[a-1].ranges[0].left+t[a-1].ranges[0].width;Nk(d-g)<r?h.top=2:d>g&&(h.top=1),Nk(u-_)<r?f.top=2:g<u&&u<_&&(f.top=1)}else o&&(h.top=o.startStyle.top,f.top=o.endStyle.top);if(a+1<l){const g=t[a+1].ranges[0].left,_=t[a+1].ranges[0].left+t[a+1].ranges[0].width;Nk(d-g)<r?h.bottom=2:g<d&&d<_&&(h.bottom=1),Nk(u-_)<r?f.bottom=2:u<_&&(f.bottom=1)}else s&&(h.bottom=s.startStyle.bottom,f.bottom=s.endStyle.bottom);c.startStyle=h,c.endStyle=f}}_getVisibleRangesWithStyle(e,t,i){const o=(t.linesVisibleRangesForRange(e,!0)||[]).map(O2e);return!this._visibleRangesHaveGaps(o)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,o,i),o}_createSelectionPiece(e,t,i,r,o){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;left:"+r.toString()+"px;width:"+o.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(e,t,i,r){if(r.length===0)return;const o=!!r[0].ranges[0].startStyle,s=this._lineHeight.toString(),a=(this._lineHeight-1).toString(),l=r[0].lineNumber,c=r[r.length-1].lineNumber;for(let d=0,u=r.length;d<u;d++){const h=r[d],f=h.lineNumber,g=f-t,_=i&&(f===c||f===l)?a:s,y=i&&f===l?1:0;let m="",p="";for(let v=0,b=h.ranges.length;v<b;v++){const C=h.ranges[v];if(o){const x=C.startStyle,k=C.endStyle;if(x.top===1||x.bottom===1){m+=this._createSelectionPiece(y,_,Cn.SELECTION_CLASS_NAME,C.left-Cn.ROUNDED_PIECE_WIDTH,Cn.ROUNDED_PIECE_WIDTH);let D=Cn.EDITOR_BACKGROUND_CLASS_NAME;x.top===1&&(D+=" "+Cn.SELECTION_TOP_RIGHT),x.bottom===1&&(D+=" "+Cn.SELECTION_BOTTOM_RIGHT),m+=this._createSelectionPiece(y,_,D,C.left-Cn.ROUNDED_PIECE_WIDTH,Cn.ROUNDED_PIECE_WIDTH)}if(k.top===1||k.bottom===1){m+=this._createSelectionPiece(y,_,Cn.SELECTION_CLASS_NAME,C.left+C.width,Cn.ROUNDED_PIECE_WIDTH);let D=Cn.EDITOR_BACKGROUND_CLASS_NAME;k.top===1&&(D+=" "+Cn.SELECTION_TOP_LEFT),k.bottom===1&&(D+=" "+Cn.SELECTION_BOTTOM_LEFT),m+=this._createSelectionPiece(y,_,D,C.left+C.width,Cn.ROUNDED_PIECE_WIDTH)}}let S=Cn.SELECTION_CLASS_NAME;if(o){const x=C.startStyle,k=C.endStyle;x.top===0&&(S+=" "+Cn.SELECTION_TOP_LEFT),x.bottom===0&&(S+=" "+Cn.SELECTION_BOTTOM_LEFT),k.top===0&&(S+=" "+Cn.SELECTION_TOP_RIGHT),k.bottom===0&&(S+=" "+Cn.SELECTION_BOTTOM_RIGHT)}p+=this._createSelectionPiece(y,_,S,C.left,C.width)}e[g][0]+=m,e[g][1]+=p}}prepareRender(e){const t=[],i=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber;for(let s=i;s<=r;s++){const a=s-i;t[a]=["",""]}const o=[];for(let s=0,a=this._selections.length;s<a;s++){const l=this._selections[s];if(l.isEmpty()){o[s]=null;continue}const c=this._getVisibleRangesWithStyle(l,e,this._previousFrameVisibleRangesWithStyle[s]);o[s]=c,this._actualRenderOneSelection(t,i,this._selections.length>1,c)}this._previousFrameVisibleRangesWithStyle=o,this._renderResult=t.map(([s,a])=>s+a)}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}Cn.SELECTION_CLASS_NAME="selected-text";Cn.SELECTION_TOP_LEFT="top-left-radius";Cn.SELECTION_BOTTOM_LEFT="bottom-left-radius";Cn.SELECTION_TOP_RIGHT="top-right-radius";Cn.SELECTION_BOTTOM_RIGHT="bottom-right-radius";Cn.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background";Cn.ROUNDED_PIECE_WIDTH=10;cl((n,e)=>{const t=n.getColor(dNe);t&&!t.isTransparent()&&e.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${t}; }`)});function Nk(n){return n<0?-n:n}class hG{constructor(e,t,i,r,o,s,a){this.top=e,this.left=t,this.paddingLeft=i,this.width=r,this.height=o,this.textContent=s,this.textContentClassName=a}}class fG{constructor(e){this._context=e;const t=this._context.configuration.options,i=t.get(50);this._cursorStyle=t.get(28),this._lineHeight=t.get(66),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=pi(document.createElement("div")),this._domNode.setClassName(`cursor ${Ov}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),Ur(this._domNode,i),this._domNode.setDisplay("none"),this._position=new re(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(50);return this._cursorStyle=t.get(28),this._lineHeight=t.get(66),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(31),this._typicalHalfwidthCharacterWidth),Ur(this._domNode,i),!0}onCursorPositionChanged(e,t){return t?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=e,!0}_getGraphemeAwarePosition(){const{lineNumber:e,column:t}=this._position,i=this._context.viewModel.getLineContent(e),[r,o]=KLe(i,t-1);return[new re(e,r+1),i.substring(r,o)]}_prepareRender(e){let t="",i="";const[r,o]=this._getGraphemeAwarePosition();if(this._cursorStyle===Pr.Line||this._cursorStyle===Pr.LineThin){const h=e.visibleRangeForPosition(r);if(!h||h.outsideRenderedLine)return null;const f=ht(this._domNode.domNode);let g;this._cursorStyle===Pr.Line?(g=jq(f,this._lineCursorWidth>0?this._lineCursorWidth:2),g>2&&(t=o,i=this._getTokenClassName(r))):g=jq(f,1);let _=h.left,y=0;g>=2&&_>=1&&(y=1,_-=y);const m=e.getVerticalOffsetForLineNumber(r.lineNumber)-e.bigNumbersDelta;return new hG(m,_,y,g,this._lineHeight,t,i)}const s=e.linesVisibleRangesForRange(new B(r.lineNumber,r.column,r.lineNumber,r.column+o.length),!1);if(!s||s.length===0)return null;const a=s[0];if(a.outsideRenderedLine||a.ranges.length===0)return null;const l=a.ranges[0],c=o==="	"?this._typicalHalfwidthCharacterWidth:l.width<1?this._typicalHalfwidthCharacterWidth:l.width;this._cursorStyle===Pr.Block&&(t=o,i=this._getTokenClassName(r));let d=e.getVerticalOffsetForLineNumber(r.lineNumber)-e.bigNumbersDelta,u=this._lineHeight;return(this._cursorStyle===Pr.Underline||this._cursorStyle===Pr.UnderlineThin)&&(d+=this._lineHeight-2,u=2),new hG(d,l.left,0,c,u,t,i)}_getTokenClassName(e){const t=this._context.viewModel.getViewLineData(e.lineNumber),i=t.tokens.findTokenIndexAtOffset(e.column-1);return t.tokens.getClassName(i)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${Ov} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class dS extends Zs{constructor(e){super(e);const t=this._context.configuration.options;this._readOnly=t.get(90),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new fG(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=pi(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new Kl,this._cursorFlatBlinkInterval=new g6,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const t=this._context.configuration.options;this._readOnly=t.get(90),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let i=0,r=this._secondaryCursors.length;i<r;i++)this._secondaryCursors[i].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t,i){const r=this._secondaryCursors.length!==t.length||this._cursorSmoothCaretAnimation==="explicit"&&i!==3;if(this._primaryCursor.onCursorPositionChanged(e,r),this._updateBlinking(),this._secondaryCursors.length<t.length){const o=t.length-this._secondaryCursors.length;for(let s=0;s<o;s++){const a=new fG(this._context);this._domNode.domNode.insertBefore(a.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(a)}}else if(this._secondaryCursors.length>t.length){const o=this._secondaryCursors.length-t.length;for(let s=0;s<o;s++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let o=0;o<t.length;o++)this._secondaryCursors[o].onCursorPositionChanged(t[o],r)}onCursorStateChanged(e){const t=[];for(let r=0,o=e.selections.length;r<o;r++)t[r]=e.selections[r].getPosition();this._onCursorPositionChanged(t[0],t.slice(1),e.reason);const i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const t=i=>{for(let r=0,o=e.ranges.length;r<o;r++)if(e.ranges[r].fromLineNumber<=i.lineNumber&&i.lineNumber<=e.ranges[r].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const i of this._secondaryCursors)if(t(i.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),t=e===0,i=e===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!i&&(e===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},dS.BLINK_INTERVAL,ht(this._domNode.domNode)):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},dS.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case Pr.Line:e+=" cursor-line-style";break;case Pr.Block:e+=" cursor-block-style";break;case Pr.Underline:e+=" cursor-underline-style";break;case Pr.LineThin:e+=" cursor-line-thin-style";break;case Pr.BlockOutline:e+=" cursor-block-outline-style";break;case Pr.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].prepareRender(e)}render(e){const t=[];let i=0;const r=this._primaryCursor.render(e);r&&(t[i++]=r);for(let o=0,s=this._secondaryCursors.length;o<s;o++){const a=this._secondaryCursors[o].render(e);a&&(t[i++]=a)}this._renderData=t}getLastRenderData(){return this._renderData}}dS.BLINK_INTERVAL=500;cl((n,e)=>{const t=n.getColor(Ele);if(t){let i=n.getColor(JPe);i||(i=t.opposite()),e.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${t}; border-color: ${t}; color: ${i}; }`),Fc(n.type)&&e.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${i}; border-right: 1px solid ${i}; }`)}});const KA=()=>{throw new Error("Invalid change accessor")};class F2e extends Zs{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(143);this._lineHeight=t.get(66),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=pi(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=pi(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),t=new Map;for(const r of e)t.set(r.id,r);let i=!1;return this._context.viewModel.changeWhitespace(r=>{const o=Object.keys(this._zones);for(let s=0,a=o.length;s<a;s++){const l=o[s],c=this._zones[l],d=this._computeWhitespaceProps(c.delegate);c.isInHiddenArea=d.isInHiddenArea;const u=t.get(l);u&&(u.afterLineNumber!==d.afterViewLineNumber||u.height!==d.heightInPx)&&(r.changeOneWhitespace(l,d.afterViewLineNumber,d.heightInPx),this._safeCallOnComputedHeight(c.delegate,d.heightInPx),i=!0)}}),i}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(143);return this._lineHeight=t.get(66),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,e.hasChanged(66)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){var t,i;return(i=(t=e.ordinal)!==null&&t!==void 0?t:e.afterColumn)!==null&&i!==void 0?i:1e4}_computeWhitespaceProps(e){if(e.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t;if(typeof e.afterColumn<"u")t=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const s=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new re(s,this._context.viewModel.model.getLineMaxColumn(s))}let i;t.column===this._context.viewModel.model.getLineMaxColumn(t.lineNumber)?i=this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber+1,column:1}):i=this._context.viewModel.model.validatePosition({lineNumber:t.lineNumber,column:t.column+1});const r=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t,e.afterColumnAffinity,!0),o=e.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(i);return{isInHiddenArea:!o,afterViewLineNumber:r.lineNumber,heightInPx:o?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.viewModel.changeWhitespace(i=>{const r={addZone:o=>(t=!0,this._addZone(i,o)),removeZone:o=>{o&&(t=this._removeZone(i,o)||t)},layoutZone:o=>{o&&(t=this._layoutZone(i,o)||t)}};B2e(e,r),r.addZone=KA,r.removeZone=KA,r.layoutZone=KA}),t}_addZone(e,t){const i=this._computeWhitespaceProps(t),o={whitespaceId:e.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isInHiddenArea:i.isInHiddenArea,isVisible:!1,domNode:pi(t.domNode),marginDomNode:t.marginDomNode?pi(t.marginDomNode):null};return this._safeCallOnComputedHeight(o.delegate,i.heightInPx),o.domNode.setPosition("absolute"),o.domNode.domNode.style.width="100%",o.domNode.setDisplay("none"),o.domNode.setAttribute("monaco-view-zone",o.whitespaceId),this.domNode.appendChild(o.domNode),o.marginDomNode&&(o.marginDomNode.setPosition("absolute"),o.marginDomNode.domNode.style.width="100%",o.marginDomNode.setDisplay("none"),o.marginDomNode.setAttribute("monaco-view-zone",o.whitespaceId),this.marginDomNode.appendChild(o.marginDomNode)),this._zones[o.whitespaceId]=o,this.setShouldRender(),o.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t];return delete this._zones[t],e.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t],r=this._computeWhitespaceProps(i.delegate);return i.isInHiddenArea=r.isInHiddenArea,e.changeOneWhitespace(i.whitespaceId,r.afterViewLineNumber,r.heightInPx),this._safeCallOnComputedHeight(i.delegate,r.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){return this._zones.hasOwnProperty(e)?!!this._zones[e].delegate.suppressMouseDown:!1}_heightInPixels(e){return typeof e.heightInPx=="number"?e.heightInPx:typeof e.heightInLines=="number"?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return typeof e.minWidthInPx=="number"?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if(typeof e.onComputedHeight=="function")try{e.onComputedHeight(t)}catch(i){St(i)}}_safeCallOnDomNodeTop(e,t){if(typeof e.onDomNodeTop=="function")try{e.onDomNodeTop(t)}catch(i){St(i)}}prepareRender(e){}render(e){const t=e.viewportData.whitespaceViewportData,i={};let r=!1;for(const s of t)this._zones[s.id].isInHiddenArea||(i[s.id]=s,r=!0);const o=Object.keys(this._zones);for(let s=0,a=o.length;s<a;s++){const l=o[s],c=this._zones[l];let d=0,u=0,h="none";i.hasOwnProperty(l)?(d=i[l].verticalOffset-e.bigNumbersDelta,u=i[l].height,h="block",c.isVisible||(c.domNode.setAttribute("monaco-visible-view-zone","true"),c.isVisible=!0),this._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(i[l].verticalOffset))):(c.isVisible&&(c.domNode.removeAttribute("monaco-visible-view-zone"),c.isVisible=!1),this._safeCallOnDomNodeTop(c.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),c.domNode.setTop(d),c.domNode.setHeight(u),c.domNode.setDisplay(h),c.marginDomNode&&(c.marginDomNode.setTop(d),c.marginDomNode.setHeight(u),c.marginDomNode.setDisplay(h))}r&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function B2e(n,e){try{return n(e)}catch(t){St(t)}}class W2e extends P_{constructor(e){super(),this._context=e,this._options=new gG(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=new gG(this._context.configuration);return this._options.equals(t)?e.hasChanged(143):(this._options=t,!0)}onCursorStateChanged(e){return this._selection=e.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}prepareRender(e){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const t=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber-t+1,o=new Array(r);for(let a=0;a<r;a++)o[a]=!0;const s=this._context.viewModel.getMinimapLinesRenderingData(e.viewportData.startLineNumber,e.viewportData.endLineNumber,o);this._renderResult=[];for(let a=e.viewportData.startLineNumber;a<=e.viewportData.endLineNumber;a++){const l=a-e.viewportData.startLineNumber,c=s.data[l];let d=null;if(this._options.renderWhitespace==="selection"){const u=this._selection;for(const h of u){if(h.endLineNumber<a||h.startLineNumber>a)continue;const f=h.startLineNumber===a?h.startColumn:c.minColumn,g=h.endLineNumber===a?h.endColumn:c.maxColumn;f<g&&(d||(d=[]),d.push(new tle(f-1,g-1)))}}this._renderResult[l]=this._applyRenderWhitespace(e,a,d,c)}}_applyRenderWhitespace(e,t,i,r){if(this._options.renderWhitespace==="selection"&&!i||this._options.renderWhitespace==="trailing"&&r.continuesWithWrappedLine)return"";const o=this._context.theme.getColor(oh),s=this._options.renderWithSVG,a=r.content,l=this._options.stopRenderingLineAfter===-1?a.length:Math.min(this._options.stopRenderingLineAfter,a.length),c=r.continuesWithWrappedLine,d=r.minColumn-1,u=this._options.renderWhitespace==="boundary",h=this._options.renderWhitespace==="trailing",f=this._options.lineHeight,g=this._options.middotWidth,_=this._options.wsmiddotWidth,y=this._options.spaceWidth,m=Math.abs(_-y),p=Math.abs(g-y),v=m<p?11825:183,b=this._options.canUseHalfwidthRightwardsArrow;let C="",S=!1,x=xo(a),k;x===-1?(S=!0,x=l,k=l):k=Ac(a);let D=0,E=i&&i[D],I=0;for(let N=d;N<l;N++){const R=a.charCodeAt(N);if(E&&N>=E.endOffset&&(D++,E=i&&i[D]),R!==9&&R!==32||h&&!S&&N<=k)continue;if(u&&N>=x&&N<=k&&R===32){const W=N-1>=0?a.charCodeAt(N-1):0,K=N+1<l?a.charCodeAt(N+1):0;if(W!==32&&K!==32)continue}if(u&&c&&N===l-1){const W=N-1>=0?a.charCodeAt(N-1):0;if(R===32&&W!==32&&W!==9)continue}if(i&&(!E||E.startOffset>N||E.endOffset<=N))continue;const O=e.visibleRangeForPosition(new re(t,N+1));O&&(s?(I=Math.max(I,O.left),R===9?C+=this._renderArrow(f,y,O.left):C+=`<circle cx="${(O.left+y/2).toFixed(2)}" cy="${(f/2).toFixed(2)}" r="${(y/7).toFixed(2)}" />`):R===9?C+=`<div class="mwh" style="left:${O.left}px;height:${f}px;">${b?"":""}</div>`:C+=`<div class="mwh" style="left:${O.left}px;height:${f}px;">${String.fromCharCode(v)}</div>`)}return s?(I=Math.round(I+y),`<svg style="position:absolute;width:${I}px;height:${f}px" viewBox="0 0 ${I} ${f}" xmlns="http://www.w3.org/2000/svg" fill="${o}">`+C+"</svg>"):C}_renderArrow(e,t,i){const r=t/7,o=t,s=e/2,a=i,l={x:0,y:r/2},c={x:100/125*o,y:l.y},d={x:c.x-.2*c.x,y:c.y+.2*c.x},u={x:d.x+.1*c.x,y:d.y+.1*c.x},h={x:u.x+.35*c.x,y:u.y-.35*c.x},f={x:h.x,y:-h.y},g={x:u.x,y:-u.y},_={x:d.x,y:-d.y},y={x:c.x,y:-c.y},m={x:l.x,y:-l.y};return`<path d="M ${[l,c,d,u,h,f,g,_,y,m].map(b=>`${(a+b.x).toFixed(2)} ${(s+b.y).toFixed(2)}`).join(" L ")}" />`}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class gG{constructor(e){const t=e.options,i=t.get(50),r=t.get(38);r==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):r==="svg"?(this.renderWhitespace=t.get(98),this.renderWithSVG=!0):(this.renderWhitespace=t.get(98),this.renderWithSVG=!1),this.spaceWidth=i.spaceWidth,this.middotWidth=i.middotWidth,this.wsmiddotWidth=i.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=i.canUseHalfwidthRightwardsArrow,this.lineHeight=t.get(66),this.stopRenderingLineAfter=t.get(116)}equals(e){return this.renderWhitespace===e.renderWhitespace&&this.renderWithSVG===e.renderWithSVG&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter}}class V2e{constructor(e,t,i,r){this.selections=e,this.startLineNumber=t.startLineNumber|0,this.endLineNumber=t.endLineNumber|0,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=t.bigNumbersDelta|0,this.whitespaceViewportData=i,this._model=r,this.visibleRange=new B(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewportViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class H2e{get type(){return this._theme.type}get value(){return this._theme}constructor(e){this._theme=e}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class z2e{constructor(e,t,i){this.configuration=e,this.theme=new H2e(t),this.viewModel=i,this.viewLayout=i.viewLayout}addEventHandler(e){this.viewModel.addViewEventHandler(e)}removeEventHandler(e){this.viewModel.removeViewEventHandler(e)}}var j2e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},U2e=function(n,e){return function(t,i){e(t,i,n)}};let a3=class extends zx{constructor(e,t,i,r,o,s,a){super(),this._instantiationService=a,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new Ke(1,1,1,1)],this._renderAnimationFrame=null;const l=new XMe(t,r,o,e);this._context=new z2e(t,i,r),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(r3,this._context,l,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=pi(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=pi(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=pi(document.createElement("div")),Kc.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new a2e(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new tM(this._context,this._linesContent),this._viewZones=new F2e(this._context),this._viewParts.push(this._viewZones);const c=new T2e(this._context);this._viewParts.push(c);const d=new P2e(this._context);this._viewParts.push(d);const u=new JMe(this._context);this._viewParts.push(u),u.addDynamicOverlay(new r2e(this._context)),u.addDynamicOverlay(new Cn(this._context)),u.addDynamicOverlay(new p2e(this._context)),u.addDynamicOverlay(new s2e(this._context)),u.addDynamicOverlay(new W2e(this._context));const h=new e2e(this._context);this._viewParts.push(h),h.addDynamicOverlay(new o2e(this._context)),h.addDynamicOverlay(new y2e(this._context)),h.addDynamicOverlay(new b2e(this._context)),h.addDynamicOverlay(new qx(this._context)),this._glyphMarginWidgets=new d2e(this._context),this._viewParts.push(this._glyphMarginWidgets);const f=new Zm(this._context);f.getDomNode().appendChild(this._viewZones.marginDomNode),f.getDomNode().appendChild(h.getDomNode()),f.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(f),this._contentWidgets=new i2e(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new dS(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new k2e(this._context,this.domNode),this._viewParts.push(this._overlayWidgets);const g=new N2e(this._context);this._viewParts.push(g);const _=new t2e(this._context);this._viewParts.push(_);const y=new L2e(this._context);if(this._viewParts.push(y),c){const m=this._scrollbar.getOverviewRulerLayoutInfo();m.parent.insertBefore(c.getDomNode(),m.insertBefore)}this._linesContent.appendChild(u.getDomNode()),this._linesContent.appendChild(g.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(f.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(d.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(y.getDomNode()),this._overflowGuardContainer.appendChild(_.domNode),this.domNode.appendChild(this._overflowGuardContainer),s?(s.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode),s.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode.domNode)):(this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this.domNode.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode)),this._applyLayout(),this._pointerHandler=this._register(new YPe(this._context,l,this._createPointerHandlerHelper()))}_computeGlyphMarginLanes(){const e=this._context.viewModel.model,t=this._context.viewModel.glyphLanes;let i=[],r=0;i=i.concat(e.getAllMarginDecorations().map(o=>{var s,a,l;const c=(a=(s=o.options.glyphMargin)===null||s===void 0?void 0:s.position)!==null&&a!==void 0?a:au.Center;return r=Math.max(r,o.range.endLineNumber),{range:o.range,lane:c,persist:(l=o.options.glyphMargin)===null||l===void 0?void 0:l.persistLane}})),i=i.concat(this._glyphMarginWidgets.getWidgets().map(o=>{const s=e.validateRange(o.preference.range);return r=Math.max(r,s.endLineNumber),{range:s,lane:o.preference.lane}})),i.sort((o,s)=>B.compareRangesUsingStarts(o.range,s.range)),t.reset(r);for(const o of i)t.push(o.lane,o.range,o.persist);return t}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new kPe(e,t)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new re(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(e))}}_applyLayout(){const t=this._context.configuration.options.get(143);this.domNode.setWidth(t.width),this.domNode.setHeight(t.height),this._overflowGuardContainer.setWidth(t.width),this._overflowGuardContainer.setHeight(t.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(140)+" "+n3(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onDecorationsChanged(e){return e.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this._context.theme.update(e.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){if(this._store.isDisposed)throw new Xi;if(this._renderAnimationFrame===null){const e=this._createCoordinatedRendering();this._renderAnimationFrame=l3.INSTANCE.scheduleCoordinatedRendering({window:ht(this.domNode.domNode),prepareRenderText:()=>{if(this._store.isDisposed)throw new Xi;try{return e.prepareRenderText()}finally{this._renderAnimationFrame=null}},renderText:()=>{if(this._store.isDisposed)throw new Xi;return e.renderText()},prepareRender:(t,i)=>{if(this._store.isDisposed)throw new Xi;return e.prepareRender(t,i)},render:(t,i)=>{if(this._store.isDisposed)throw new Xi;return e.render(t,i)}})}}_flushAccumulatedAndRenderNow(){const e=this._createCoordinatedRendering();jf(()=>e.prepareRenderText());const t=jf(()=>e.renderText());if(t){const[i,r]=t;jf(()=>e.prepareRender(i,r)),jf(()=>e.render(i,r))}}_getViewPartsToRender(){const e=[];let t=0;for(const i of this._viewParts)i.shouldRender()&&(e[t++]=i);return e}_createCoordinatedRendering(){return{prepareRenderText:()=>{if(this._shouldRecomputeGlyphMarginLanes){this._shouldRecomputeGlyphMarginLanes=!1;const e=this._computeGlyphMarginLanes();this._context.configuration.setGlyphMarginDecorationLaneCount(e.requiredLanes)}Vf.onRenderStart()},renderText:()=>{if(!this.domNode.domNode.isConnected)return null;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&e.length===0)return null;const t=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);const i=new V2e(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);return this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(i),this._viewLines.shouldRender()&&(this._viewLines.renderText(i),this._viewLines.onDidRender(),e=this._getViewPartsToRender()),[e,new bPe(this._context.viewLayout,i,this._viewLines)]},prepareRender:(e,t)=>{for(const i of e)i.prepareRender(t)},render:(e,t)=>{for(const i of e)i.render(t),i.onDidRender()}}}delegateVerticalScrollbarPointerDown(e){this._scrollbar.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){this._scrollbar.delegateScrollFromMouseWheelEvent(e)}restoreState(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(e,t){const i=this._context.viewModel.model.validatePosition({lineNumber:e,column:t}),r=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();const o=this._viewLines.visibleRangeForPosition(new re(r.lineNumber,r.column));return o?o.left:-1}getTargetAtClientPoint(e,t){const i=this._pointerHandler.getTargetAtClientPoint(e,t);return i?JP.convertViewToModelMouseTarget(i,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(e){return new I2e(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(const i of this._viewParts)i.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(e){this._textAreaHandler.writeScreenReaderContent(e)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){var t,i,r,o,s,a,l,c;this._contentWidgets.setWidgetPosition(e.widget,(i=(t=e.position)===null||t===void 0?void 0:t.position)!==null&&i!==void 0?i:null,(o=(r=e.position)===null||r===void 0?void 0:r.secondaryPosition)!==null&&o!==void 0?o:null,(a=(s=e.position)===null||s===void 0?void 0:s.preference)!==null&&a!==void 0?a:null,(c=(l=e.position)===null||l===void 0?void 0:l.positionAffinity)!==null&&c!==void 0?c:null),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const t=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}addGlyphMarginWidget(e){this._glyphMarginWidgets.addWidget(e.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(e){const t=e.position;this._glyphMarginWidgets.setWidgetPosition(e.widget,t)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(e){this._glyphMarginWidgets.removeWidget(e.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};a3=j2e([U2e(6,dt)],a3);function jf(n){try{return n()}catch(e){return St(e),null}}class l3{constructor(){this._coordinatedRenderings=[],this._animationFrameRunners=new Map}scheduleCoordinatedRendering(e){return this._coordinatedRenderings.push(e),this._scheduleRender(e.window),{dispose:()=>{const t=this._coordinatedRenderings.indexOf(e);if(t!==-1&&(this._coordinatedRenderings.splice(t,1),this._coordinatedRenderings.length===0)){for(const[i,r]of this._animationFrameRunners)r.dispose();this._animationFrameRunners.clear()}}}}_scheduleRender(e){if(!this._animationFrameRunners.has(e)){const t=()=>{this._animationFrameRunners.delete(e),this._onRenderScheduled()};this._animationFrameRunners.set(e,HE(e,t,100))}}_onRenderScheduled(){const e=this._coordinatedRenderings.slice(0);this._coordinatedRenderings=[];for(const i of e)jf(()=>i.prepareRenderText());const t=[];for(let i=0,r=e.length;i<r;i++){const o=e[i];t[i]=jf(()=>o.renderText())}for(let i=0,r=e.length;i<r;i++){const o=e[i],s=t[i];if(!s)continue;const[a,l]=s;jf(()=>o.prepareRender(a,l))}for(let i=0,r=e.length;i<r;i++){const o=e[i],s=t[i];if(!s)continue;const[a,l]=s;jf(()=>o.render(a,l))}}}l3.INSTANCE=new l3;class Gle{constructor(e,t,i,r,o,s,a){this.id=e,this.label=t,this.alias=i,this.metadata=r,this._precondition=o,this._run=s,this._contextKeyService=a}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(e){return this.isSupported()?this._run(e):Promise.resolve(void 0)}}function Vg(n){let e=0,t=0,i=0,r=0;for(let o=0,s=n.length;o<s;o++){const a=n.charCodeAt(o);a===13?(e===0&&(t=o),e++,o+1<s&&n.charCodeAt(o+1)===10?(r|=2,o++):r|=3,i=o+1):a===10&&(r|=1,e===0&&(t=o),e++,i=o+1)}return e===0&&(t=n.length),[e,t,n.length-i,r]}class pG{constructor(e,t,i,r){this.range=e,this.nestingLevel=t,this.nestingLevelOfEqualBracketType=i,this.isInvalid=r}}class $2e{constructor(e,t,i,r,o,s){this.range=e,this.openingBracketRange=t,this.closingBracketRange=i,this.nestingLevel=r,this.nestingLevelOfEqualBracketType=o,this.bracketPairNode=s}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class q2e extends $2e{constructor(e,t,i,r,o,s,a){super(e,t,i,r,o,s),this.minVisibleColumnIndentation=a}}class uS{constructor(e,t){this.lineCount=e,this.columnCount=t}toString(){return`${this.lineCount},${this.columnCount}`}}uS.zero=new uS(0,0);function K2e(n,e,t,i){return n!==t?Nn(t-n,i):Nn(0,i-e)}const Wo=0;function lI(n){return n===0}const va=2**26;function Nn(n,e){return n*va+e}function Ja(n){const e=n,t=Math.floor(e/va),i=e-t*va;return new uS(t,i)}function G2e(n){return Math.floor(n/va)}function un(n,e){let t=n+e;return e>=va&&(t=t-n%va),t}function Z2e(n,e){return n.reduce((t,i)=>un(t,e(i)),Wo)}function Zle(n,e){return n===e}function hS(n,e){const t=n,i=e;if(i-t<=0)return Wo;const o=Math.floor(t/va),s=Math.floor(i/va),a=i-s*va;if(o===s){const l=t-o*va;return Nn(0,a-l)}else return Nn(s-o,a)}function Wv(n,e){return n<e}function Vv(n,e){return n<=e}function JC(n,e){return n>=e}function av(n){return Nn(n.lineNumber-1,n.column-1)}function Lm(n,e){const t=n,i=Math.floor(t/va),r=t-i*va,o=e,s=Math.floor(o/va),a=o-s*va;return new B(i+1,r+1,s+1,a+1)}function Y2e(n){const e=su(n);return Nn(e.length-1,e[e.length-1].length)}class sh{static fromModelContentChanges(e){return e.map(i=>{const r=B.lift(i.range);return new sh(av(r.getStartPosition()),av(r.getEndPosition()),Y2e(i.text))}).reverse()}constructor(e,t,i){this.startOffset=e,this.endOffset=t,this.newLength=i}toString(){return`[${Ja(this.startOffset)}...${Ja(this.endOffset)}) -> ${Ja(this.newLength)}`}}class X2e{constructor(e){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map(t=>K6.from(t))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);const t=this.edits[this.nextEditIdx],i=t?this.translateOldToCur(t.offsetObj):null;return i===null?null:hS(e,i)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?Nn(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):Nn(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){const t=Ja(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?Nn(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):Nn(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){const t=this.edits[this.nextEditIdx],i=this.translateOldToCur(t.endOffsetAfterObj);if(Vv(i,e)){this.nextEditIdx++;const r=Ja(i),o=Ja(this.translateOldToCur(t.endOffsetBeforeObj)),s=r.lineCount-o.lineCount;this.deltaOldToNewLineCount+=s;const a=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,l=r.columnCount-o.columnCount;this.deltaOldToNewColumnCount=a+l,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}else break}}}class K6{static from(e){return new K6(e.startOffset,e.endOffset,e.newLength)}constructor(e,t,i){this.endOffsetBeforeObj=Ja(t),this.endOffsetAfterObj=Ja(un(e,i)),this.offsetObj=Ja(e)}}const pT=[];class Kn{static create(e,t){if(e<=128&&t.length===0){let i=Kn.cache[e];return i||(i=new Kn(e,t),Kn.cache[e]=i),i}return new Kn(e,t)}static getEmpty(){return this.empty}constructor(e,t){this.items=e,this.additionalItems=t}add(e,t){const i=t.getKey(e);let r=i>>5;if(r===0){const s=1<<i|this.items;return s===this.items?this:Kn.create(s,this.additionalItems)}r--;const o=this.additionalItems.slice(0);for(;o.length<r;)o.push(0);return o[r]|=1<<(i&31),Kn.create(this.items,o)}merge(e){const t=this.items|e.items;if(this.additionalItems===pT&&e.additionalItems===pT)return t===this.items?this:t===e.items?e:Kn.create(t,pT);const i=[];for(let r=0;r<Math.max(this.additionalItems.length,e.additionalItems.length);r++){const o=this.additionalItems[r]||0,s=e.additionalItems[r]||0;i.push(o|s)}return Kn.create(t,i)}intersects(e){if(this.items&e.items)return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if(this.additionalItems[t]&e.additionalItems[t])return!0;return!1}}Kn.cache=new Array(129);Kn.empty=Kn.create(0,pT);const mG={getKey(n){return n}};class Yle{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return t===void 0&&(t=this.items.size,this.items.set(e,t)),t}}class G6{get length(){return this._length}constructor(e){this._length=e}}class fS extends G6{static create(e,t,i){let r=e.length;return t&&(r=un(r,t.length)),i&&(r=un(r,i.length)),new fS(r,e,t,i,t?t.missingOpeningBracketIds:Kn.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const e=[];return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}constructor(e,t,i,r,o){super(e),this.openingBracket=t,this.child=i,this.closingBracket=r,this.missingOpeningBracketIds=o}canBeReused(e){return!(this.closingBracket===null||e.intersects(this.missingOpeningBracketIds))}deepClone(){return new fS(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation(un(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}class lu extends G6{static create23(e,t,i,r=!1){let o=e.length,s=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(o=un(o,t.length),s=s.merge(t.missingOpeningBracketIds),i){if(e.listHeight!==i.listHeight)throw new Error("Invalid list heights");o=un(o,i.length),s=s.merge(i.missingOpeningBracketIds)}return r?new Q2e(o,e.listHeight+1,e,t,i,s):new gS(o,e.listHeight+1,e,t,i,s)}static getEmpty(){return new J2e(Wo,0,[],Kn.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(e,t,i){super(e),this.listHeight=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(e===0)return;const t=this.getChild(e-1),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(e-1,i),i}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const t=this.getChild(0),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(0,i),i}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let t=this;for(;t.kind===4;){const i=t.childrenLength;if(i===0)throw new Xi;t=t.getChild(i-1)}return t.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();const e=this.childrenLength;let t=this.getChild(0).length,i=this.getChild(0).missingOpeningBracketIds;for(let r=1;r<e;r++){const o=this.getChild(r);t=un(t,o.length),i=i.merge(o.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let i=Number.MAX_SAFE_INTEGER,r=e;for(let o=0;o<this.childrenLength;o++){const s=this.getChild(o);s&&(i=Math.min(i,s.computeMinIndentation(r,t)),r=un(r,s.length))}return this.cachedMinIndentation=i,i}}class gS extends lu{get childrenLength(){return this._item3!==null?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:this._item1=t;return;case 1:this._item2=t;return;case 2:this._item3=t;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(e,t,i,r,o,s){super(e,t,s),this._item1=i,this._item2=r,this._item3=o}deepClone(){return new gS(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}}class Q2e extends gS{toMutable(){return new gS(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class cI extends lu{get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}constructor(e,t,i,r){super(e,t,r),this._children=i}deepClone(){const e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new cI(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}}class J2e extends cI{toMutable(){return new cI(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const eRe=[];class Z6 extends G6{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return eRe}deepClone(){return this}}class Jp extends Z6{get kind(){return 0}get missingOpeningBracketIds(){return Kn.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){const i=Ja(e),r=(i.columnCount===0?i.lineCount:i.lineCount+1)+1,o=G2e(un(e,this.length))+1;let s=Number.MAX_SAFE_INTEGER;for(let a=r;a<=o;a++){const l=t.getLineFirstNonWhitespaceColumn(a),c=t.getLineContent(a);if(l===0)continue;const d=ir.visibleColumnFromColumn(c,l,t.getOptions().tabSize);s=Math.min(s,d)}return s}}class dI extends Z6{static create(e,t,i){return new dI(e,t,i)}get kind(){return 1}get missingOpeningBracketIds(){return Kn.getEmpty()}constructor(e,t,i){super(e),this.bracketInfo=t,this.bracketIds=i}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class tRe extends Z6{get kind(){return 3}constructor(e,t){super(t),this.missingOpeningBracketIds=e}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}let Pf=class{constructor(e,t,i,r,o){this.length=e,this.kind=t,this.bracketId=i,this.bracketIds=r,this.astNode=o}};class Xle{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new iRe(this.textModel,this.bracketTokens),this._offset=Wo,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return Nn(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=un(this._offset,e);const t=Ja(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=un(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class iRe{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const o=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=o.length,o}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const e=this.lineIdx,t=this.lineCharOffset;let i=0;for(;;){const o=this.lineTokens,s=o.getCount();let a=null;if(this.lineTokenOffset<s){const l=o.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<s&&l===o.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const c=zr.getTokenType(l)===0,d=zr.containsBalancedBrackets(l),u=o.getEndOffset(this.lineTokenOffset);if(d&&c&&this.lineCharOffset<u){const h=o.getLanguageId(this.lineTokenOffset),f=this.line.substring(this.lineCharOffset,u),g=this.bracketTokens.getSingleLanguageBracketTokens(h),_=g.regExpGlobal;if(_){_.lastIndex=0;const y=_.exec(f);y&&(a=g.getToken(y[0]),a&&(this.lineCharOffset+=y.index))}}if(i+=u-this.lineCharOffset,a)if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=a;break}else return this.lineCharOffset+=a.length,a;else this.lineTokenOffset++,this.lineCharOffset=u}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,i+=33,i>1e3))break;if(i>1500)break}const r=K2e(e,t,this.lineIdx,this.lineCharOffset);return new Pf(r,0,-1,Kn.getEmpty(),new Jp(r))}}class nRe{constructor(e,t){this.text=e,this._offset=Wo,this.idx=0;const i=t.getRegExpStr(),r=i?new RegExp(i+`|
`,"gi"):null,o=[];let s,a=0,l=0,c=0,d=0;const u=[];for(let g=0;g<60;g++)u.push(new Pf(Nn(0,g),0,-1,Kn.getEmpty(),new Jp(Nn(0,g))));const h=[];for(let g=0;g<60;g++)h.push(new Pf(Nn(1,g),0,-1,Kn.getEmpty(),new Jp(Nn(1,g))));if(r)for(r.lastIndex=0;(s=r.exec(e))!==null;){const g=s.index,_=s[0];if(_===`
`)a++,l=g+1;else{if(c!==g){let y;if(d===a){const m=g-c;if(m<u.length)y=u[m];else{const p=Nn(0,m);y=new Pf(p,0,-1,Kn.getEmpty(),new Jp(p))}}else{const m=a-d,p=g-l;if(m===1&&p<h.length)y=h[p];else{const v=Nn(m,p);y=new Pf(v,0,-1,Kn.getEmpty(),new Jp(v))}}o.push(y)}o.push(t.getToken(_)),c=g+_.length,d=a}}const f=e.length;if(c!==f){const g=d===a?Nn(0,f-c):Nn(a-d,f-l);o.push(new Pf(g,0,-1,Kn.getEmpty(),new Jp(g)))}this.length=Nn(a,f-l),this.tokens=o}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new tLe}}class Y6{static createFromLanguage(e,t){function i(o){return t.getKey(`${o.languageId}:::${o.bracketText}`)}const r=new Map;for(const o of e.bracketsNew.openingBrackets){const s=Nn(0,o.bracketText.length),a=i(o),l=Kn.getEmpty().add(a,mG);r.set(o.bracketText,new Pf(s,1,a,l,dI.create(s,o,l)))}for(const o of e.bracketsNew.closingBrackets){const s=Nn(0,o.bracketText.length);let a=Kn.getEmpty();const l=o.getOpeningBrackets();for(const c of l)a=a.add(i(c),mG);r.set(o.bracketText,new Pf(s,2,i(l[0]),a,dI.create(s,o,a)))}return new Y6(r)}constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const e=[...this.map.keys()];return e.sort(),e.reverse(),e.map(t=>rRe(t)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e.toLowerCase())}findClosingTokenText(e){for(const[t,i]of this.map)if(i.kind===2&&i.bracketIds.intersects(e))return t}get isEmpty(){return this.map.size===0}}function rRe(n){let e=xa(n);return/^[\w ]+/.test(n)&&(e=`\\b${e}`),/[\w ]+$/.test(n)&&(e=`${e}\\b`),e}class Qle{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){return this.languageIdToBracketTokens.has(e)}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=Y6.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}function oRe(n){if(n.length===0)return null;if(n.length===1)return n[0];let e=0;function t(){if(e>=n.length)return null;const s=e,a=n[s].listHeight;for(e++;e<n.length&&n[e].listHeight===a;)e++;return e-s>=2?Jle(s===0&&e===n.length?n:n.slice(s,e),!1):n[s]}let i=t(),r=t();if(!r)return i;for(let s=t();s;s=t())_G(i,r)<=_G(r,s)?(i=GA(i,r),r=s):r=GA(r,s);return GA(i,r)}function Jle(n,e=!1){if(n.length===0)return null;if(n.length===1)return n[0];let t=n.length;for(;t>3;){const i=t>>1;for(let r=0;r<i;r++){const o=r<<1;n[r]=lu.create23(n[o],n[o+1],o+3===t?n[o+2]:null,e)}t=i}return lu.create23(n[0],n[1],t>=3?n[2]:null,e)}function _G(n,e){return Math.abs(n.listHeight-e.listHeight)}function GA(n,e){return n.listHeight===e.listHeight?lu.create23(n,e,null,!1):n.listHeight>e.listHeight?sRe(n,e):aRe(e,n)}function sRe(n,e){n=n.toMutable();let t=n;const i=[];let r;for(;;){if(e.listHeight===t.listHeight){r=e;break}if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeLastElementMutable()}for(let o=i.length-1;o>=0;o--){const s=i[o];r?s.childrenLength>=3?r=lu.create23(s.unappendChild(),r,null,!1):(s.appendChildOfSameHeight(r),r=void 0):s.handleChildrenChanged()}return r?lu.create23(n,r,null,!1):n}function aRe(n,e){n=n.toMutable();let t=n;const i=[];for(;e.listHeight!==t.listHeight;){if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeFirstElementMutable()}let r=e;for(let o=i.length-1;o>=0;o--){const s=i[o];r?s.childrenLength>=3?r=lu.create23(r,s.unprependChild(),null,!1):(s.prependChildOfSameHeight(r),r=void 0):s.handleChildrenChanged()}return r?lu.create23(r,n,null,!1):n}class lRe{constructor(e){this.lastOffset=Wo,this.nextNodes=[e],this.offsets=[Wo],this.idxs=[]}readLongestNodeAt(e,t){if(Wv(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){const i=_C(this.nextNodes);if(!i)return;const r=_C(this.offsets);if(Wv(e,r))return;if(Wv(r,e))if(un(r,i.length)<=e)this.nextNodeAfterCurrent();else{const o=ZA(i);o!==-1?(this.nextNodes.push(i.getChild(o)),this.offsets.push(r),this.idxs.push(o)):this.nextNodeAfterCurrent()}else{if(t(i))return this.nextNodeAfterCurrent(),i;{const o=ZA(i);if(o===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(i.getChild(o)),this.offsets.push(r),this.idxs.push(o)}}}}nextNodeAfterCurrent(){for(;;){const e=_C(this.offsets),t=_C(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const i=_C(this.nextNodes),r=ZA(i,this.idxs[this.idxs.length-1]);if(r!==-1){this.nextNodes.push(i.getChild(r)),this.offsets.push(un(e,t.length)),this.idxs[this.idxs.length-1]=r;break}else this.idxs.pop()}}}function ZA(n,e=-1){for(;;){if(e++,e>=n.childrenLength)return-1;if(n.getChild(e))return e}}function _C(n){return n.length>0?n[n.length-1]:void 0}function c3(n,e,t,i){return new cRe(n,e,t,i).parseDocument()}class cRe{constructor(e,t,i,r){if(this.tokenizer=e,this.createImmutableLists=r,this._itemsConstructed=0,this._itemsFromCache=0,i&&r)throw new Error("Not supported");this.oldNodeReader=i?new lRe(i):void 0,this.positionMapper=new X2e(t)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(Kn.getEmpty(),0);return e||(e=lu.getEmpty()),e}parseList(e,t){const i=[];for(;;){let o=this.tryReadChildFromCache(e);if(!o){const s=this.tokenizer.peek();if(!s||s.kind===2&&s.bracketIds.intersects(e))break;o=this.parseChild(e,t+1)}o.kind===4&&o.childrenLength===0||i.push(o)}return this.oldNodeReader?oRe(i):Jle(i,this.createImmutableLists)}tryReadChildFromCache(e){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(t===null||!lI(t)){const i=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),r=>t!==null&&!Wv(r.length,t)?!1:r.canBeReused(e));if(i)return this._itemsFromCache++,this.tokenizer.skip(i.length),i}}}parseChild(e,t){this._itemsConstructed++;const i=this.tokenizer.read();switch(i.kind){case 2:return new tRe(i.bracketIds,i.length);case 0:return i.astNode;case 1:{if(t>300)return new Jp(i.length);const r=e.merge(i.bracketIds),o=this.parseList(r,t+1),s=this.tokenizer.peek();return s&&s.kind===2&&(s.bracketId===i.bracketId||s.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),fS.create(i.astNode,o,s.astNode)):fS.create(i.astNode,o,null)}default:throw new Error("unexpected")}}}function uI(n,e){if(n.length===0)return e;if(e.length===0)return n;const t=new Dh(vG(n)),i=vG(e);i.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let r=t.dequeue();function o(c){if(c===void 0){const u=t.takeWhile(h=>!0)||[];return r&&u.unshift(r),u}const d=[];for(;r&&!lI(c);){const[u,h]=r.splitAt(c);d.push(u),c=hS(u.lengthAfter,c),r=h??t.dequeue()}return lI(c)||d.push(new Uf(!1,c,c)),d}const s=[];function a(c,d,u){if(s.length>0&&Zle(s[s.length-1].endOffset,c)){const h=s[s.length-1];s[s.length-1]=new sh(h.startOffset,d,un(h.newLength,u))}else s.push({startOffset:c,endOffset:d,newLength:u})}let l=Wo;for(const c of i){const d=o(c.lengthBefore);if(c.modified){const u=Z2e(d,f=>f.lengthBefore),h=un(l,u);a(l,h,c.lengthAfter),l=h}else for(const u of d){const h=l;l=un(l,u.lengthBefore),u.modified&&a(h,l,u.lengthAfter)}}return s}class Uf{constructor(e,t,i){this.modified=e,this.lengthBefore=t,this.lengthAfter=i}splitAt(e){const t=hS(e,this.lengthAfter);return Zle(t,Wo)?[this,void 0]:this.modified?[new Uf(this.modified,this.lengthBefore,e),new Uf(this.modified,Wo,t)]:[new Uf(this.modified,e,e),new Uf(this.modified,t,t)]}toString(){return`${this.modified?"M":"U"}:${Ja(this.lengthBefore)} -> ${Ja(this.lengthAfter)}`}}function vG(n){const e=[];let t=Wo;for(const i of n){const r=hS(t,i.startOffset);lI(r)||e.push(new Uf(!1,r,r));const o=hS(i.startOffset,i.endOffset);e.push(new Uf(!0,o,i.newLength)),t=i.endOffset}return e}class dRe extends ce{didLanguageChange(e){return this.brackets.didLanguageChange(e)}constructor(e,t){if(super(),this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new ne,this.denseKeyProvider=new Yle,this.brackets=new Qle(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],e.tokenization.hasTokens)e.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const i=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),r=new nRe(this.textModel.getValue(),i);this.initialAstWithoutTokens=c3(r,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const e=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:e}){const t=e.map(i=>new sh(Nn(i.fromLineNumber-1,0),Nn(i.toLineNumber,0),Nn(i.toLineNumber-i.fromLineNumber+1,0)));this.handleEdits(t,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(e){const t=sh.fromModelContentChanges(e.changes);this.handleEdits(t,!1)}handleEdits(e,t){const i=uI(this.queuedTextEdits,e);this.queuedTextEdits=i,this.initialAstWithoutTokens&&!t&&(this.queuedTextEditsForInitialAstWithoutTokens=uI(this.queuedTextEditsForInitialAstWithoutTokens,e))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(e,t,i){const r=t,o=new Xle(this.textModel,this.brackets);return c3(o,e,r,i)}getBracketsInRange(e,t){this.flushQueue();const i=Nn(e.startLineNumber-1,e.startColumn-1),r=Nn(e.endLineNumber-1,e.endColumn-1);return new Xd(o=>{const s=this.initialAstWithoutTokens||this.astWithTokens;d3(s,Wo,s.length,i,r,o,0,0,new Map,t)})}getBracketPairsInRange(e,t){this.flushQueue();const i=av(e.getStartPosition()),r=av(e.getEndPosition());return new Xd(o=>{const s=this.initialAstWithoutTokens||this.astWithTokens,a=new uRe(o,t,this.textModel);u3(s,Wo,s.length,i,r,a,0,new Map)})}getFirstBracketAfter(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return tce(t,Wo,t.length,av(e))}getFirstBracketBefore(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return ece(t,Wo,t.length,av(e))}}function ece(n,e,t,i){if(n.kind===4||n.kind===2){const r=[];for(const o of n.children)t=un(e,o.length),r.push({nodeOffsetStart:e,nodeOffsetEnd:t}),e=t;for(let o=r.length-1;o>=0;o--){const{nodeOffsetStart:s,nodeOffsetEnd:a}=r[o];if(Wv(s,i)){const l=ece(n.children[o],s,a,i);if(l)return l}}return null}else{if(n.kind===3)return null;if(n.kind===1){const r=Lm(e,t);return{bracketInfo:n.bracketInfo,range:r}}}return null}function tce(n,e,t,i){if(n.kind===4||n.kind===2){for(const r of n.children){if(t=un(e,r.length),Wv(i,t)){const o=tce(r,e,t,i);if(o)return o}e=t}return null}else{if(n.kind===3)return null;if(n.kind===1){const r=Lm(e,t);return{bracketInfo:n.bracketInfo,range:r}}}return null}function d3(n,e,t,i,r,o,s,a,l,c,d=!1){if(s>200)return!0;e:for(;;)switch(n.kind){case 4:{const u=n.childrenLength;for(let h=0;h<u;h++){const f=n.getChild(h);if(f){if(t=un(e,f.length),Vv(e,r)&&JC(t,i)){if(JC(t,r)){n=f;continue e}if(!d3(f,e,t,i,r,o,s,0,l,c))return!1}e=t}}return!0}case 2:{const u=!c||!n.closingBracket||n.closingBracket.bracketInfo.closesColorized(n.openingBracket.bracketInfo);let h=0;if(l){let g=l.get(n.openingBracket.text);g===void 0&&(g=0),h=g,u&&(g++,l.set(n.openingBracket.text,g))}const f=n.childrenLength;for(let g=0;g<f;g++){const _=n.getChild(g);if(_){if(t=un(e,_.length),Vv(e,r)&&JC(t,i)){if(JC(t,r)&&_.kind!==1){n=_,u?(s++,a=h+1):a=h;continue e}if((u||_.kind!==1||!n.closingBracket)&&!d3(_,e,t,i,r,o,u?s+1:s,u?h+1:h,l,c,!n.closingBracket))return!1}e=t}}return l==null||l.set(n.openingBracket.text,h),!0}case 3:{const u=Lm(e,t);return o(new pG(u,s-1,0,!0))}case 1:{const u=Lm(e,t);return o(new pG(u,s-1,a-1,d))}case 0:return!0}}class uRe{constructor(e,t,i){this.push=e,this.includeMinIndentation=t,this.textModel=i}}function u3(n,e,t,i,r,o,s,a){var l;if(s>200)return!0;let c=!0;if(n.kind===2){let d=0;if(a){let f=a.get(n.openingBracket.text);f===void 0&&(f=0),d=f,f++,a.set(n.openingBracket.text,f)}const u=un(e,n.openingBracket.length);let h=-1;if(o.includeMinIndentation&&(h=n.computeMinIndentation(e,o.textModel)),c=o.push(new q2e(Lm(e,t),Lm(e,u),n.closingBracket?Lm(un(u,((l=n.child)===null||l===void 0?void 0:l.length)||Wo),t):void 0,s,d,n,h)),e=u,c&&n.child){const f=n.child;if(t=un(e,f.length),Vv(e,r)&&JC(t,i)&&(c=u3(f,e,t,i,r,o,s+1,a),!c))return!1}a==null||a.set(n.openingBracket.text,d)}else{let d=e;for(const u of n.children){const h=d;if(d=un(d,u.length),Vv(h,r)&&Vv(i,d)&&(c=u3(u,h,d,i,r,o,s,a),!c))return!1}}return c}class hRe extends ce{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t,this.bracketPairsTree=this._register(new Lr),this.onDidChangeEmitter=new ne,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(i=>{var r;(!i.languageId||!((r=this.bracketPairsTree.value)===null||r===void 0)&&r.object.didLanguageChange(i.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}handleDidChangeOptions(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(e){var t;(t=this.bracketPairsTree.value)===null||t===void 0||t.object.handleContentChanged(e)}handleDidChangeBackgroundTokenizationState(){var e;(e=this.bracketPairsTree.value)===null||e===void 0||e.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(e){var t;(t=this.bracketPairsTree.value)===null||t===void 0||t.object.handleDidChangeTokens(e)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const e=new xe;this.bracketPairsTree.value=fRe(e.add(new dRe(this.textModel,t=>this.languageConfigurationService.getLanguageConfiguration(t))),e),e.add(this.bracketPairsTree.value.object.onDidChange(t=>this.onDidChangeEmitter.fire(t))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getBracketPairsInRange(e,!1))||Xd.empty}getBracketPairsInRangeWithMinIndentation(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getBracketPairsInRange(e,!0))||Xd.empty}getBracketsInRange(e,t=!1){var i;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((i=this.bracketPairsTree.value)===null||i===void 0?void 0:i.object.getBracketsInRange(e,t))||Xd.empty}findMatchingBracketUp(e,t,i){const r=this.textModel.validatePosition(t),o=this.textModel.getLanguageIdAtPosition(r.lineNumber,r.column);if(this.canBuildAST){const s=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew.getClosingBracketInfo(e);if(!s)return null;const a=this.getBracketPairsInRange(B.fromPositions(t,t)).findLast(l=>s.closes(l.openingBracketInfo));return a?a.openingBracketRange:null}else{const s=e.toLowerCase(),a=this.languageConfigurationService.getLanguageConfiguration(o).brackets;if(!a)return null;const l=a.textIsBracket[s];return l?Pk(this._findMatchingBracketUp(l,r,YA(i))):null}}matchBracket(e,t){if(this.canBuildAST){const i=this.getBracketPairsInRange(B.fromPositions(e,e)).filter(r=>r.closingBracketRange!==void 0&&(r.openingBracketRange.containsPosition(e)||r.closingBracketRange.containsPosition(e))).findLastMaxBy(Xa(r=>r.openingBracketRange.containsPosition(e)?r.openingBracketRange:r.closingBracketRange,B.compareRangesUsingStarts));return i?[i.openingBracketRange,i.closingBracketRange]:null}else{const i=YA(t);return this._matchBracket(this.textModel.validatePosition(e),i)}}_establishBracketSearchOffsets(e,t,i,r){const o=t.getCount(),s=t.getLanguageId(r);let a=Math.max(0,e.column-1-i.maxBracketLength);for(let c=r-1;c>=0;c--){const d=t.getEndOffset(c);if(d<=a)break;if(_d(t.getStandardTokenType(c))||t.getLanguageId(c)!==s){a=d;break}}let l=Math.min(t.getLineContent().length,e.column-1+i.maxBracketLength);for(let c=r+1;c<o;c++){const d=t.getStartOffset(c);if(d>=l)break;if(_d(t.getStandardTokenType(c))||t.getLanguageId(c)!==s){l=d;break}}return{searchStartOffset:a,searchEndOffset:l}}_matchBracket(e,t){const i=e.lineNumber,r=this.textModel.tokenization.getLineTokens(i),o=this.textModel.getLineContent(i),s=r.findTokenIndexAtOffset(e.column-1);if(s<0)return null;const a=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId(s)).brackets;if(a&&!_d(r.getStandardTokenType(s))){let{searchStartOffset:l,searchEndOffset:c}=this._establishBracketSearchOffsets(e,r,a,s),d=null;for(;;){const u=yl.findNextBracketInRange(a.forwardRegex,i,o,l,c);if(!u)break;if(u.startColumn<=e.column&&e.column<=u.endColumn){const h=o.substring(u.startColumn-1,u.endColumn-1).toLowerCase(),f=this._matchFoundBracket(u,a.textIsBracket[h],a.textIsOpenBracket[h],t);if(f){if(f instanceof Hu)return null;d=f}}l=u.endColumn-1}if(d)return d}if(s>0&&r.getStartOffset(s)===e.column-1){const l=s-1,c=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId(l)).brackets;if(c&&!_d(r.getStandardTokenType(l))){const{searchStartOffset:d,searchEndOffset:u}=this._establishBracketSearchOffsets(e,r,c,l),h=yl.findPrevBracketInRange(c.reversedRegex,i,o,d,u);if(h&&h.startColumn<=e.column&&e.column<=h.endColumn){const f=o.substring(h.startColumn-1,h.endColumn-1).toLowerCase(),g=this._matchFoundBracket(h,c.textIsBracket[f],c.textIsOpenBracket[f],t);if(g)return g instanceof Hu?null:g}}}return null}_matchFoundBracket(e,t,i,r){if(!t)return null;const o=i?this._findMatchingBracketDown(t,e.getEndPosition(),r):this._findMatchingBracketUp(t,e.getStartPosition(),r);return o?o instanceof Hu?o:[e,o]:null}_findMatchingBracketUp(e,t,i){const r=e.languageId,o=e.reversedRegex;let s=-1,a=0;const l=(c,d,u,h)=>{for(;;){if(i&&++a%100===0&&!i())return Hu.INSTANCE;const f=yl.findPrevBracketInRange(o,c,d,u,h);if(!f)break;const g=d.substring(f.startColumn-1,f.endColumn-1).toLowerCase();if(e.isOpen(g)?s++:e.isClose(g)&&s--,s===0)return f;h=f.startColumn-1}return null};for(let c=t.lineNumber;c>=1;c--){const d=this.textModel.tokenization.getLineTokens(c),u=d.getCount(),h=this.textModel.getLineContent(c);let f=u-1,g=h.length,_=h.length;c===t.lineNumber&&(f=d.findTokenIndexAtOffset(t.column-1),g=t.column-1,_=t.column-1);let y=!0;for(;f>=0;f--){const m=d.getLanguageId(f)===r&&!_d(d.getStandardTokenType(f));if(m)y?g=d.getStartOffset(f):(g=d.getStartOffset(f),_=d.getEndOffset(f));else if(y&&g!==_){const p=l(c,h,g,_);if(p)return p}y=m}if(y&&g!==_){const m=l(c,h,g,_);if(m)return m}}return null}_findMatchingBracketDown(e,t,i){const r=e.languageId,o=e.forwardRegex;let s=1,a=0;const l=(d,u,h,f)=>{for(;;){if(i&&++a%100===0&&!i())return Hu.INSTANCE;const g=yl.findNextBracketInRange(o,d,u,h,f);if(!g)break;const _=u.substring(g.startColumn-1,g.endColumn-1).toLowerCase();if(e.isOpen(_)?s++:e.isClose(_)&&s--,s===0)return g;h=g.endColumn-1}return null},c=this.textModel.getLineCount();for(let d=t.lineNumber;d<=c;d++){const u=this.textModel.tokenization.getLineTokens(d),h=u.getCount(),f=this.textModel.getLineContent(d);let g=0,_=0,y=0;d===t.lineNumber&&(g=u.findTokenIndexAtOffset(t.column-1),_=t.column-1,y=t.column-1);let m=!0;for(;g<h;g++){const p=u.getLanguageId(g)===r&&!_d(u.getStandardTokenType(g));if(p)m||(_=u.getStartOffset(g)),y=u.getEndOffset(g);else if(m&&_!==y){const v=l(d,f,_,y);if(v)return v}m=p}if(m&&_!==y){const p=l(d,f,_,y);if(p)return p}}return null}findPrevBracket(e){var t;const i=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getFirstBracketBefore(i))||null;let r=null,o=null,s=null;for(let a=i.lineNumber;a>=1;a--){const l=this.textModel.tokenization.getLineTokens(a),c=l.getCount(),d=this.textModel.getLineContent(a);let u=c-1,h=d.length,f=d.length;if(a===i.lineNumber){u=l.findTokenIndexAtOffset(i.column-1),h=i.column-1,f=i.column-1;const _=l.getLanguageId(u);r!==_&&(r=_,o=this.languageConfigurationService.getLanguageConfiguration(r).brackets,s=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew)}let g=!0;for(;u>=0;u--){const _=l.getLanguageId(u);if(r!==_){if(o&&s&&g&&h!==f){const m=yl.findPrevBracketInRange(o.reversedRegex,a,d,h,f);if(m)return this._toFoundBracket(s,m);g=!1}r=_,o=this.languageConfigurationService.getLanguageConfiguration(r).brackets,s=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew}const y=!!o&&!_d(l.getStandardTokenType(u));if(y)g?h=l.getStartOffset(u):(h=l.getStartOffset(u),f=l.getEndOffset(u));else if(s&&o&&g&&h!==f){const m=yl.findPrevBracketInRange(o.reversedRegex,a,d,h,f);if(m)return this._toFoundBracket(s,m)}g=y}if(s&&o&&g&&h!==f){const _=yl.findPrevBracketInRange(o.reversedRegex,a,d,h,f);if(_)return this._toFoundBracket(s,_)}}return null}findNextBracket(e){var t;const i=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)===null||t===void 0?void 0:t.object.getFirstBracketAfter(i))||null;const r=this.textModel.getLineCount();let o=null,s=null,a=null;for(let l=i.lineNumber;l<=r;l++){const c=this.textModel.tokenization.getLineTokens(l),d=c.getCount(),u=this.textModel.getLineContent(l);let h=0,f=0,g=0;if(l===i.lineNumber){h=c.findTokenIndexAtOffset(i.column-1),f=i.column-1,g=i.column-1;const y=c.getLanguageId(h);o!==y&&(o=y,s=this.languageConfigurationService.getLanguageConfiguration(o).brackets,a=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew)}let _=!0;for(;h<d;h++){const y=c.getLanguageId(h);if(o!==y){if(a&&s&&_&&f!==g){const p=yl.findNextBracketInRange(s.forwardRegex,l,u,f,g);if(p)return this._toFoundBracket(a,p);_=!1}o=y,s=this.languageConfigurationService.getLanguageConfiguration(o).brackets,a=this.languageConfigurationService.getLanguageConfiguration(o).bracketsNew}const m=!!s&&!_d(c.getStandardTokenType(h));if(m)_||(f=c.getStartOffset(h)),g=c.getEndOffset(h);else if(a&&s&&_&&f!==g){const p=yl.findNextBracketInRange(s.forwardRegex,l,u,f,g);if(p)return this._toFoundBracket(a,p)}_=m}if(a&&s&&_&&f!==g){const y=yl.findNextBracketInRange(s.forwardRegex,l,u,f,g);if(y)return this._toFoundBracket(a,y)}}return null}findEnclosingBrackets(e,t){const i=this.textModel.validatePosition(e);if(this.canBuildAST){const f=B.fromPositions(i),g=this.getBracketPairsInRange(B.fromPositions(i,i)).findLast(_=>_.closingBracketRange!==void 0&&_.range.strictContainsRange(f));return g?[g.openingBracketRange,g.closingBracketRange]:null}const r=YA(t),o=this.textModel.getLineCount(),s=new Map;let a=[];const l=(f,g)=>{if(!s.has(f)){const _=[];for(let y=0,m=g?g.brackets.length:0;y<m;y++)_[y]=0;s.set(f,_)}a=s.get(f)};let c=0;const d=(f,g,_,y,m)=>{for(;;){if(r&&++c%100===0&&!r())return Hu.INSTANCE;const p=yl.findNextBracketInRange(f.forwardRegex,g,_,y,m);if(!p)break;const v=_.substring(p.startColumn-1,p.endColumn-1).toLowerCase(),b=f.textIsBracket[v];if(b&&(b.isOpen(v)?a[b.index]++:b.isClose(v)&&a[b.index]--,a[b.index]===-1))return this._matchFoundBracket(p,b,!1,r);y=p.endColumn-1}return null};let u=null,h=null;for(let f=i.lineNumber;f<=o;f++){const g=this.textModel.tokenization.getLineTokens(f),_=g.getCount(),y=this.textModel.getLineContent(f);let m=0,p=0,v=0;if(f===i.lineNumber){m=g.findTokenIndexAtOffset(i.column-1),p=i.column-1,v=i.column-1;const C=g.getLanguageId(m);u!==C&&(u=C,h=this.languageConfigurationService.getLanguageConfiguration(u).brackets,l(u,h))}let b=!0;for(;m<_;m++){const C=g.getLanguageId(m);if(u!==C){if(h&&b&&p!==v){const x=d(h,f,y,p,v);if(x)return Pk(x);b=!1}u=C,h=this.languageConfigurationService.getLanguageConfiguration(u).brackets,l(u,h)}const S=!!h&&!_d(g.getStandardTokenType(m));if(S)b||(p=g.getStartOffset(m)),v=g.getEndOffset(m);else if(h&&b&&p!==v){const x=d(h,f,y,p,v);if(x)return Pk(x)}b=S}if(h&&b&&p!==v){const C=d(h,f,y,p,v);if(C)return Pk(C)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.textModel.getValueInRange(t);i=i.toLowerCase();const r=e.getBracketInfo(i);return r?{range:t,bracketInfo:r}:null}}function fRe(n,e){return{object:n,dispose:()=>e==null?void 0:e.dispose()}}function YA(n){if(typeof n>"u")return()=>!0;{const e=Date.now();return()=>Date.now()-e<=n}}class Hu{constructor(){this._searchCanceledBrand=void 0}}Hu.INSTANCE=new Hu;function Pk(n){return n instanceof Hu?null:n}class gRe extends ce{constructor(e){super(),this.textModel=e,this.colorProvider=new ice,this.onDidChangeEmitter=new ne,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.bracketPairs.onDidChange(t=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(e){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(e,t,i,r){return r?[]:t===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(e,!0).map(s=>({id:`bracket${s.range.toString()}-${s.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(s,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:s.range})).toArray():[]}getAllDecorations(e,t){return e===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new B(1,1,this.textModel.getLineCount(),1),e,t):[]}}class ice{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e,t){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(t?e.nestingLevelOfEqualBracketType:e.nestingLevel)}getInlineClassNameOfLevel(e){return`bracket-highlighting-${e%30}`}}cl((n,e)=>{const t=[Nle,Ple,Mle,Rle,Ale,Ole],i=new ice;e.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${n.getColor(vMe)}; }`);const r=t.map(o=>n.getColor(o)).filter(o=>!!o).filter(o=>!o.isTransparent());for(let o=0;o<30;o++){const s=r[o%r.length];e.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(o)} { color: ${s}; }`)}});function Mk(n){return n.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class Vr{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(e,t,i,r){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=r}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${Mk(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${Mk(this.oldText)}")`:`(replace@${this.oldPosition} "${Mk(this.oldText)}" with "${Mk(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){const r=t.length;hc(e,r,i),i+=4;for(let o=0;o<r;o++)dTe(e,t.charCodeAt(o),i),i+=2;return i}static _readString(e,t){const i=uc(e,t);return t+=4,hTe(e,t,i)}writeSize(){return 8+Vr._writeStringSize(this.oldText)+Vr._writeStringSize(this.newText)}write(e,t){return hc(e,this.oldPosition,t),t+=4,hc(e,this.newPosition,t),t+=4,t=Vr._writeString(e,this.oldText,t),t=Vr._writeString(e,this.newText,t),t}static read(e,t,i){const r=uc(e,t);t+=4;const o=uc(e,t);t+=4;const s=Vr._readString(e,t);t+=Vr._writeStringSize(s);const a=Vr._readString(e,t);return t+=Vr._writeStringSize(a),i.push(new Vr(r,s,o,a)),t}}function pRe(n,e){return n===null||n.length===0?e:new Cd(n,e).compress()}class Cd{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),r=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(i===null){this._acceptCurr(r),r=this._getCurr(++t);continue}if(r===null){this._acceptPrev(i),i=this._getPrev(++e);continue}if(r.oldEnd<=i.newPosition){this._acceptCurr(r),r=this._getCurr(++t);continue}if(i.newEnd<=r.oldPosition){this._acceptPrev(i),i=this._getPrev(++e);continue}if(r.oldPosition<i.newPosition){const[c,d]=Cd._splitCurr(r,i.newPosition-r.oldPosition);this._acceptCurr(c),r=d;continue}if(i.newPosition<r.oldPosition){const[c,d]=Cd._splitPrev(i,r.oldPosition-i.newPosition);this._acceptPrev(c),i=d;continue}let a,l;if(r.oldEnd===i.newEnd)a=i,l=r,i=this._getPrev(++e),r=this._getCurr(++t);else if(r.oldEnd<i.newEnd){const[c,d]=Cd._splitPrev(i,r.oldLength);a=c,l=r,i=d,r=this._getCurr(++t)}else{const[c,d]=Cd._splitCurr(r,i.newLength);a=i,l=c,i=this._getPrev(++e),r=d}this._result[this._resultLen++]=new Vr(a.oldPosition,a.oldText,l.newPosition,l.newText),this._prevDeltaOffset+=a.newLength-a.oldLength,this._currDeltaOffset+=l.newLength-l.oldLength}const o=Cd._merge(this._result);return Cd._removeNoOps(o)}_acceptCurr(e){this._result[this._resultLen++]=Cd._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=Cd._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new Vr(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new Vr(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const i=e.newText.substr(0,t),r=e.newText.substr(t);return[new Vr(e.oldPosition,e.oldText,e.newPosition,i),new Vr(e.oldEnd,"",e.newPosition+t,r)]}static _splitCurr(e,t){const i=e.oldText.substr(0,t),r=e.oldText.substr(t);return[new Vr(e.oldPosition,i,e.newPosition,e.newText),new Vr(e.oldPosition+t,r,e.newEnd,"")]}static _merge(e){if(e.length===0)return e;const t=[];let i=0,r=e[0];for(let o=1;o<e.length;o++){const s=e[o];r.oldEnd===s.oldPosition?r=new Vr(r.oldPosition,r.oldText+s.oldText,r.newPosition,r.newText+s.newText):(t[i++]=r,r=s)}return t[i++]=r,t}static _removeNoOps(e){if(e.length===0)return e;const t=[];let i=0;for(let r=0;r<e.length;r++){const o=e[r];o.oldText!==o.newText&&(t[i++]=o)}return t}}function sf(n){return n===47||n===92}function nce(n){return n.replace(/[\\/]/g,Gn.sep)}function mRe(n){return n.indexOf("/")===-1&&(n=nce(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),n}function bG(n,e=Gn.sep){if(!n)return"";const t=n.length,i=n.charCodeAt(0);if(sf(i)){if(sf(n.charCodeAt(1))&&!sf(n.charCodeAt(2))){let o=3;const s=o;for(;o<t&&!sf(n.charCodeAt(o));o++);if(s!==o&&!sf(n.charCodeAt(o+1))){for(o+=1;o<t;o++)if(sf(n.charCodeAt(o)))return n.slice(0,o+1).replace(/[\\/]/g,e)}}return e}else if(rce(i)&&n.charCodeAt(1)===58)return sf(n.charCodeAt(2))?n.slice(0,2)+e:n.slice(0,2);let r=n.indexOf("://");if(r!==-1){for(r+=3;r<t;r++)if(sf(n.charCodeAt(r)))return n.slice(0,r+1)}return""}function h3(n,e,t,i=Rc){if(n===e)return!0;if(!n||!e||e.length>n.length)return!1;if(t){if(!e6(n,e))return!1;if(e.length===n.length)return!0;let o=e.length;return e.charAt(e.length-1)===i&&o--,n.charAt(o)===i}return e.charAt(e.length-1)!==i&&(e+=i),n.indexOf(e)===0}function rce(n){return n>=65&&n<=90||n>=97&&n<=122}function _Re(n,e=no){return e?rce(n.charCodeAt(0))&&n.charCodeAt(1)===58:!1}function vd(n){return RE(n,!0)}class vRe{constructor(e){this._ignorePathCasing=e}compare(e,t,i=!1){return e===t?0:V1(this.getComparisonKey(e,i),this.getComparisonKey(t,i))}isEqual(e,t,i=!1){return e===t?!0:!e||!t?!1:this.getComparisonKey(e,i)===this.getComparisonKey(t,i)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(e,t,i=!1){if(e.scheme===t.scheme){if(e.scheme===Tt.file)return h3(vd(e),vd(t),this._ignorePathCasing(e))&&e.query===t.query&&(i||e.fragment===t.fragment);if(CG(e.authority,t.authority))return h3(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(i||e.fragment===t.fragment)}return!1}joinPath(e,...t){return rt.joinPath(e,...t)}basenameOrAuthority(e){return ol(e)||e.authority}basename(e){return Gn.basename(e.path)}extname(e){return Gn.extname(e.path)}dirname(e){if(e.path.length===0)return e;let t;return e.scheme===Tt.file?t=rt.file(Fse(vd(e))).path:(t=Gn.dirname(e.path),e.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return e.scheme===Tt.file?t=rt.file(Ose(vd(e))).path:t=Gn.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!CG(e.authority,t.authority))return;if(e.scheme===Tt.file){const o=wLe(vd(e),vd(t));return no?nce(o):o}let i=e.path||"/";const r=t.path||"/";if(this._ignorePathCasing(e)){let o=0;for(const s=Math.min(i.length,r.length);o<s&&!(i.charCodeAt(o)!==r.charCodeAt(o)&&i.charAt(o).toLowerCase()!==r.charAt(o).toLowerCase());o++);i=r.substr(0,o)+i.substr(o)}return Gn.relative(i,r)}resolvePath(e,t){if(e.scheme===Tt.file){const i=rt.file(CLe(vd(e),t));return e.with({authority:i.authority,path:i.path})}return t=mRe(t),e.with({path:Gn.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,t){return e===t||e!==void 0&&t!==void 0&&G0(e,t)}hasTrailingPathSeparator(e,t=Rc){if(e.scheme===Tt.file){const i=vd(e);return i.length>bG(i).length&&i[i.length-1]===t}else{const i=e.path;return i.length>1&&i.charCodeAt(i.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=Rc){return wG(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=Rc){let i=!1;if(e.scheme===Tt.file){const r=vd(e);i=r!==void 0&&r.length===bG(r).length&&r[r.length-1]===t}else{t="/";const r=e.path;i=r.length===1&&r.charCodeAt(r.length-1)===47}return!i&&!wG(e,t)?e.with({path:e.path+"/"}):e}}const zi=new vRe(()=>!1),X6=zi.isEqual.bind(zi);zi.isEqualOrParent.bind(zi);zi.getComparisonKey.bind(zi);const bRe=zi.basenameOrAuthority.bind(zi),ol=zi.basename.bind(zi),yRe=zi.extname.bind(zi),iM=zi.dirname.bind(zi),CRe=zi.joinPath.bind(zi),wRe=zi.normalizePath.bind(zi),SRe=zi.relativePath.bind(zi),yG=zi.resolvePath.bind(zi);zi.isAbsolutePath.bind(zi);const CG=zi.isEqualAuthority.bind(zi),wG=zi.hasTrailingPathSeparator.bind(zi);zi.removeTrailingPathSeparator.bind(zi);zi.addTrailingPathSeparator.bind(zi);var Hg;(function(n){n.META_DATA_LABEL="label",n.META_DATA_DESCRIPTION="description",n.META_DATA_SIZE="size",n.META_DATA_MIME="mime";function e(t){const i=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(s=>{const[a,l]=s.split(":");a&&l&&i.set(a,l)});const o=t.path.substring(0,t.path.indexOf(";"));return o&&i.set(n.META_DATA_MIME,o),i}n.parseMetaData=e})(Hg||(Hg={}));function c0(n){return n.toString()}class br{static create(e,t){const i=e.getAlternativeVersionId(),r=f3(e);return new br(i,i,r,r,t,t,[])}constructor(e,t,i,r,o,s,a){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=i,this.afterEOL=r,this.beforeCursorState=o,this.afterCursorState=s,this.changes=a}append(e,t,i,r,o){t.length>0&&(this.changes=pRe(this.changes,t)),this.afterEOL=i,this.afterVersionId=r,this.afterCursorState=o}static _writeSelectionsSize(e){return 4+4*4*(e?e.length:0)}static _writeSelections(e,t,i){if(hc(e,t?t.length:0,i),i+=4,t)for(const r of t)hc(e,r.selectionStartLineNumber,i),i+=4,hc(e,r.selectionStartColumn,i),i+=4,hc(e,r.positionLineNumber,i),i+=4,hc(e,r.positionColumn,i),i+=4;return i}static _readSelections(e,t,i){const r=uc(e,t);t+=4;for(let o=0;o<r;o++){const s=uc(e,t);t+=4;const a=uc(e,t);t+=4;const l=uc(e,t);t+=4;const c=uc(e,t);t+=4,i.push(new Ke(s,a,l,c))}return t}serialize(){let e=10+br._writeSelectionsSize(this.beforeCursorState)+br._writeSelectionsSize(this.afterCursorState)+4;for(const r of this.changes)e+=r.writeSize();const t=new Uint8Array(e);let i=0;hc(t,this.beforeVersionId,i),i+=4,hc(t,this.afterVersionId,i),i+=4,Xq(t,this.beforeEOL,i),i+=1,Xq(t,this.afterEOL,i),i+=1,i=br._writeSelections(t,this.beforeCursorState,i),i=br._writeSelections(t,this.afterCursorState,i),hc(t,this.changes.length,i),i+=4;for(const r of this.changes)i=r.write(t,i);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let i=0;const r=uc(t,i);i+=4;const o=uc(t,i);i+=4;const s=Yq(t,i);i+=1;const a=Yq(t,i);i+=1;const l=[];i=br._readSelections(t,i,l);const c=[];i=br._readSelections(t,i,c);const d=uc(t,i);i+=4;const u=[];for(let h=0;h<d;h++)i=Vr.read(t,i,u);return new br(r,o,s,a,l,c,u)}}class oce{get type(){return 0}get resource(){return rt.isUri(this.model)?this.model:this.model.uri}constructor(e,t,i,r){this.label=e,this.code=t,this.model=i,this._data=br.create(i,r)}toString(){return(this._data instanceof br?this._data:br.deserialize(this._data)).changes.map(t=>t.toString()).join(", ")}matchesResource(e){return(rt.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof br}append(e,t,i,r,o){this._data instanceof br&&this._data.append(e,t,i,r,o)}close(){this._data instanceof br&&(this._data=this._data.serialize())}open(){this._data instanceof br||(this._data=br.deserialize(this._data))}undo(){if(rt.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof br&&(this._data=this._data.serialize());const e=br.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(rt.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof br&&(this._data=this._data.serialize());const e=br.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof br&&(this._data=this._data.serialize()),this._data.byteLength+168}}class xRe{get resources(){return this._editStackElementsArr.map(e=>e.resource)}constructor(e,t,i){this.label=e,this.code=t,this.type=1,this._isOpen=!0,this._editStackElementsArr=i.slice(0),this._editStackElementsMap=new Map;for(const r of this._editStackElementsArr){const o=c0(r.resource);this._editStackElementsMap.set(o,r)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=c0(e);return this._editStackElementsMap.has(t)}setModel(e){const t=c0(rt.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=c0(e.uri);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).canAppend(e):!1}append(e,t,i,r,o){const s=c0(e.uri);this._editStackElementsMap.get(s).append(e,t,i,r,o)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=c0(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){const e=[];for(const t of this._editStackElementsArr)e.push(`${ol(t.resource)}: ${t}`);return`{${e.join(", ")}}`}}function f3(n){return n.getEOL()===`
`?0:1}function zu(n){return n?n instanceof oce||n instanceof xRe:!1}class Q6{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);zu(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);zu(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e,t){const i=this._undoRedoService.getLastElement(this._model.uri);if(zu(i)&&i.canAppend(this._model))return i;const r=new oce(w("edit","Typing"),"undoredo.textBufferEdit",this._model,e);return this._undoRedoService.pushElement(r,t),r}pushEOL(e){const t=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(e),t.append(this._model,[],f3(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,i,r){const o=this._getOrCreateEditStackElement(e,r),s=this._model.applyEdits(t,!0),a=Q6._computeCursorState(i,s),l=s.map((c,d)=>({index:d,textChange:c.textChange}));return l.sort((c,d)=>c.textChange.oldPosition===d.textChange.oldPosition?c.index-d.index:c.textChange.oldPosition-d.textChange.oldPosition),o.append(this._model,l.map(c=>c.textChange),f3(this._model),this._model.getAlternativeVersionId(),a),a}static _computeCursorState(e,t){try{return e?e(t):null}catch(i){return St(i),null}}}class LRe{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function kRe(n,e,t,i,r){r.spacesDiff=0,r.looksLikeAlignment=!1;let o;for(o=0;o<e&&o<i;o++){const h=n.charCodeAt(o),f=t.charCodeAt(o);if(h!==f)break}let s=0,a=0;for(let h=o;h<e;h++)n.charCodeAt(h)===32?s++:a++;let l=0,c=0;for(let h=o;h<i;h++)t.charCodeAt(h)===32?l++:c++;if(s>0&&a>0||l>0&&c>0)return;const d=Math.abs(a-c),u=Math.abs(s-l);if(d===0){r.spacesDiff=u,u>0&&0<=l-1&&l-1<n.length&&l<t.length&&t.charCodeAt(l)!==32&&n.charCodeAt(l-1)===32&&n.charCodeAt(n.length-1)===44&&(r.looksLikeAlignment=!0);return}if(u%d===0){r.spacesDiff=u/d;return}}function SG(n,e,t){const i=Math.min(n.getLineCount(),1e4);let r=0,o=0,s="",a=0;const l=[2,4,6,8,3,5,7],c=8,d=[0,0,0,0,0,0,0,0,0],u=new LRe;for(let g=1;g<=i;g++){const _=n.getLineLength(g),y=n.getLineContent(g),m=_<=65536;let p=!1,v=0,b=0,C=0;for(let x=0,k=_;x<k;x++){const D=m?y.charCodeAt(x):n.getLineCharCode(g,x);if(D===9)C++;else if(D===32)b++;else{p=!0,v=x;break}}if(!p||(C>0?r++:b>1&&o++,kRe(s,a,y,v,u),u.looksLikeAlignment&&!(t&&e===u.spacesDiff)))continue;const S=u.spacesDiff;S<=c&&d[S]++,s=y,a=v}let h=t;r!==o&&(h=r<o);let f=e;if(h){let g=h?0:.1*i;l.forEach(_=>{const y=d[_];y>g&&(g=y,f=_)}),f===4&&d[4]>0&&d[2]>0&&d[2]>=d[4]/2&&(f=2)}return{insertSpaces:h,tabSize:f}}function rs(n){return(n.metadata&1)>>>0}function Bi(n,e){n.metadata=n.metadata&254|e<<0}function Gr(n){return(n.metadata&2)>>>1===1}function Ai(n,e){n.metadata=n.metadata&253|(e?1:0)<<1}function sce(n){return(n.metadata&4)>>>2===1}function xG(n,e){n.metadata=n.metadata&251|(e?1:0)<<2}function ace(n){return(n.metadata&64)>>>6===1}function LG(n,e){n.metadata=n.metadata&191|(e?1:0)<<6}function DRe(n){return(n.metadata&24)>>>3}function kG(n,e){n.metadata=n.metadata&231|e<<3}function TRe(n){return(n.metadata&32)>>>5===1}function DG(n,e){n.metadata=n.metadata&223|(e?1:0)<<5}class lce{constructor(e,t,i){this.metadata=0,this.parent=this,this.left=this,this.right=this,Bi(this,1),this.start=t,this.end=i,this.delta=0,this.maxEnd=i,this.id=e,this.ownerId=0,this.options=null,xG(this,!1),LG(this,!1),kG(this,1),DG(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=null,Ai(this,!1)}reset(e,t,i,r){this.start=t,this.end=i,this.maxEnd=i,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=r}setOptions(e){this.options=e;const t=this.options.className;xG(this,t==="squiggly-error"||t==="squiggly-warning"||t==="squiggly-info"),LG(this,this.options.glyphMarginClassName!==null),kG(this,this.options.stickiness),DG(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const Wt=new lce(null,0,0);Wt.parent=Wt;Wt.left=Wt;Wt.right=Wt;Bi(Wt,0);class XA{constructor(){this.root=Wt,this.requestNormalizeDelta=!1}intervalSearch(e,t,i,r,o,s){return this.root===Wt?[]:ORe(this,e,t,i,r,o,s)}search(e,t,i,r){return this.root===Wt?[]:ARe(this,e,t,i,r)}collectNodesFromOwner(e){return MRe(this,e)}collectNodesPostOrder(){return RRe(this)}insert(e){TG(this,e),this._normalizeDeltaIfNecessary()}delete(e){EG(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const i=e;let r=0;for(;e!==this.root;)e===e.parent.right&&(r+=e.parent.delta),e=e.parent;const o=i.start+r,s=i.end+r;i.setCachedOffsets(o,s,t)}acceptReplace(e,t,i,r){const o=NRe(this,e,e+t);for(let s=0,a=o.length;s<a;s++){const l=o[s];EG(this,l)}this._normalizeDeltaIfNecessary(),PRe(this,e,e+t,i),this._normalizeDeltaIfNecessary();for(let s=0,a=o.length;s<a;s++){const l=o[s];l.start=l.cachedAbsoluteStart,l.end=l.cachedAbsoluteEnd,IRe(l,e,e+t,i,r),l.maxEnd=l.end,TG(this,l)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,ERe(this))}}function ERe(n){let e=n.root,t=0;for(;e!==Wt;){if(e.left!==Wt&&!Gr(e.left)){e=e.left;continue}if(e.right!==Wt&&!Gr(e.right)){t+=e.delta,e=e.right;continue}e.start=t+e.start,e.end=t+e.end,e.delta=0,zg(e),Ai(e,!0),Ai(e.left,!1),Ai(e.right,!1),e===e.parent.right&&(t-=e.parent.delta),e=e.parent}Ai(n.root,!1)}function d0(n,e,t,i){return n<t?!0:n>t||i===1?!1:i===2?!0:e}function IRe(n,e,t,i,r){const o=DRe(n),s=o===0||o===2,a=o===1||o===2,l=t-e,c=i,d=Math.min(l,c),u=n.start;let h=!1;const f=n.end;let g=!1;e<=u&&f<=t&&TRe(n)&&(n.start=e,h=!0,n.end=e,g=!0);{const y=r?1:l>0?2:0;!h&&d0(u,s,e,y)&&(h=!0),!g&&d0(f,a,e,y)&&(g=!0)}if(d>0&&!r){const y=l>c?2:0;!h&&d0(u,s,e+d,y)&&(h=!0),!g&&d0(f,a,e+d,y)&&(g=!0)}{const y=r?1:0;!h&&d0(u,s,t,y)&&(n.start=e+c,h=!0),!g&&d0(f,a,t,y)&&(n.end=e+c,g=!0)}const _=c-l;h||(n.start=Math.max(0,u+_)),g||(n.end=Math.max(0,f+_)),n.start>n.end&&(n.end=n.start)}function NRe(n,e,t){let i=n.root,r=0,o=0,s=0,a=0;const l=[];let c=0;for(;i!==Wt;){if(Gr(i)){Ai(i.left,!1),Ai(i.right,!1),i===i.parent.right&&(r-=i.parent.delta),i=i.parent;continue}if(!Gr(i.left)){if(o=r+i.maxEnd,o<e){Ai(i,!0);continue}if(i.left!==Wt){i=i.left;continue}}if(s=r+i.start,s>t){Ai(i,!0);continue}if(a=r+i.end,a>=e&&(i.setCachedOffsets(s,a,0),l[c++]=i),Ai(i,!0),i.right!==Wt&&!Gr(i.right)){r+=i.delta,i=i.right;continue}}return Ai(n.root,!1),l}function PRe(n,e,t,i){let r=n.root,o=0,s=0,a=0;const l=i-(t-e);for(;r!==Wt;){if(Gr(r)){Ai(r.left,!1),Ai(r.right,!1),r===r.parent.right&&(o-=r.parent.delta),zg(r),r=r.parent;continue}if(!Gr(r.left)){if(s=o+r.maxEnd,s<e){Ai(r,!0);continue}if(r.left!==Wt){r=r.left;continue}}if(a=o+r.start,a>t){r.start+=l,r.end+=l,r.delta+=l,(r.delta<-1073741824||r.delta>1073741824)&&(n.requestNormalizeDelta=!0),Ai(r,!0);continue}if(Ai(r,!0),r.right!==Wt&&!Gr(r.right)){o+=r.delta,r=r.right;continue}}Ai(n.root,!1)}function MRe(n,e){let t=n.root;const i=[];let r=0;for(;t!==Wt;){if(Gr(t)){Ai(t.left,!1),Ai(t.right,!1),t=t.parent;continue}if(t.left!==Wt&&!Gr(t.left)){t=t.left;continue}if(t.ownerId===e&&(i[r++]=t),Ai(t,!0),t.right!==Wt&&!Gr(t.right)){t=t.right;continue}}return Ai(n.root,!1),i}function RRe(n){let e=n.root;const t=[];let i=0;for(;e!==Wt;){if(Gr(e)){Ai(e.left,!1),Ai(e.right,!1),e=e.parent;continue}if(e.left!==Wt&&!Gr(e.left)){e=e.left;continue}if(e.right!==Wt&&!Gr(e.right)){e=e.right;continue}t[i++]=e,Ai(e,!0)}return Ai(n.root,!1),t}function ARe(n,e,t,i,r){let o=n.root,s=0,a=0,l=0;const c=[];let d=0;for(;o!==Wt;){if(Gr(o)){Ai(o.left,!1),Ai(o.right,!1),o===o.parent.right&&(s-=o.parent.delta),o=o.parent;continue}if(o.left!==Wt&&!Gr(o.left)){o=o.left;continue}a=s+o.start,l=s+o.end,o.setCachedOffsets(a,l,i);let u=!0;if(e&&o.ownerId&&o.ownerId!==e&&(u=!1),t&&sce(o)&&(u=!1),r&&!ace(o)&&(u=!1),u&&(c[d++]=o),Ai(o,!0),o.right!==Wt&&!Gr(o.right)){s+=o.delta,o=o.right;continue}}return Ai(n.root,!1),c}function ORe(n,e,t,i,r,o,s){let a=n.root,l=0,c=0,d=0,u=0;const h=[];let f=0;for(;a!==Wt;){if(Gr(a)){Ai(a.left,!1),Ai(a.right,!1),a===a.parent.right&&(l-=a.parent.delta),a=a.parent;continue}if(!Gr(a.left)){if(c=l+a.maxEnd,c<e){Ai(a,!0);continue}if(a.left!==Wt){a=a.left;continue}}if(d=l+a.start,d>t){Ai(a,!0);continue}if(u=l+a.end,u>=e){a.setCachedOffsets(d,u,o);let g=!0;i&&a.ownerId&&a.ownerId!==i&&(g=!1),r&&sce(a)&&(g=!1),s&&!ace(a)&&(g=!1),g&&(h[f++]=a)}if(Ai(a,!0),a.right!==Wt&&!Gr(a.right)){l+=a.delta,a=a.right;continue}}return Ai(n.root,!1),h}function TG(n,e){if(n.root===Wt)return e.parent=Wt,e.left=Wt,e.right=Wt,Bi(e,0),n.root=e,n.root;FRe(n,e),_f(e.parent);let t=e;for(;t!==n.root&&rs(t.parent)===1;)if(t.parent===t.parent.parent.left){const i=t.parent.parent.right;rs(i)===1?(Bi(t.parent,0),Bi(i,0),Bi(t.parent.parent,1),t=t.parent.parent):(t===t.parent.right&&(t=t.parent,Ww(n,t)),Bi(t.parent,0),Bi(t.parent.parent,1),Vw(n,t.parent.parent))}else{const i=t.parent.parent.left;rs(i)===1?(Bi(t.parent,0),Bi(i,0),Bi(t.parent.parent,1),t=t.parent.parent):(t===t.parent.left&&(t=t.parent,Vw(n,t)),Bi(t.parent,0),Bi(t.parent.parent,1),Ww(n,t.parent.parent))}return Bi(n.root,0),e}function FRe(n,e){let t=0,i=n.root;const r=e.start,o=e.end;for(;;)if(WRe(r,o,i.start+t,i.end+t)<0)if(i.left===Wt){e.start-=t,e.end-=t,e.maxEnd-=t,i.left=e;break}else i=i.left;else if(i.right===Wt){e.start-=t+i.delta,e.end-=t+i.delta,e.maxEnd-=t+i.delta,i.right=e;break}else t+=i.delta,i=i.right;e.parent=i,e.left=Wt,e.right=Wt,Bi(e,1)}function EG(n,e){let t,i;if(e.left===Wt?(t=e.right,i=e,t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta):e.right===Wt?(t=e.left,i=e):(i=BRe(e.right),t=i.right,t.start+=i.delta,t.end+=i.delta,t.delta+=i.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),i.start+=e.delta,i.end+=e.delta,i.delta=e.delta,(i.delta<-1073741824||i.delta>1073741824)&&(n.requestNormalizeDelta=!0)),i===n.root){n.root=t,Bi(t,0),e.detach(),QA(),zg(t),n.root.parent=Wt;return}const r=rs(i)===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?t.parent=i.parent:(i.parent===e?t.parent=i:t.parent=i.parent,i.left=e.left,i.right=e.right,i.parent=e.parent,Bi(i,rs(e)),e===n.root?n.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==Wt&&(i.left.parent=i),i.right!==Wt&&(i.right.parent=i)),e.detach(),r){_f(t.parent),i!==e&&(_f(i),_f(i.parent)),QA();return}_f(t),_f(t.parent),i!==e&&(_f(i),_f(i.parent));let o;for(;t!==n.root&&rs(t)===0;)t===t.parent.left?(o=t.parent.right,rs(o)===1&&(Bi(o,0),Bi(t.parent,1),Ww(n,t.parent),o=t.parent.right),rs(o.left)===0&&rs(o.right)===0?(Bi(o,1),t=t.parent):(rs(o.right)===0&&(Bi(o.left,0),Bi(o,1),Vw(n,o),o=t.parent.right),Bi(o,rs(t.parent)),Bi(t.parent,0),Bi(o.right,0),Ww(n,t.parent),t=n.root)):(o=t.parent.left,rs(o)===1&&(Bi(o,0),Bi(t.parent,1),Vw(n,t.parent),o=t.parent.left),rs(o.left)===0&&rs(o.right)===0?(Bi(o,1),t=t.parent):(rs(o.left)===0&&(Bi(o.right,0),Bi(o,1),Ww(n,o),o=t.parent.left),Bi(o,rs(t.parent)),Bi(t.parent,0),Bi(o.left,0),Vw(n,t.parent),t=n.root));Bi(t,0),QA()}function BRe(n){for(;n.left!==Wt;)n=n.left;return n}function QA(){Wt.parent=Wt,Wt.delta=0,Wt.start=0,Wt.end=0}function Ww(n,e){const t=e.right;t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta,e.right=t.left,t.left!==Wt&&(t.left.parent=e),t.parent=e.parent,e.parent===Wt?n.root=t:e===e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,zg(e),zg(t)}function Vw(n,e){const t=e.left;e.delta-=t.delta,(e.delta<-1073741824||e.delta>1073741824)&&(n.requestNormalizeDelta=!0),e.start-=t.delta,e.end-=t.delta,e.left=t.right,t.right!==Wt&&(t.right.parent=e),t.parent=e.parent,e.parent===Wt?n.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,zg(e),zg(t)}function cce(n){let e=n.end;if(n.left!==Wt){const t=n.left.maxEnd;t>e&&(e=t)}if(n.right!==Wt){const t=n.right.maxEnd+n.delta;t>e&&(e=t)}return e}function zg(n){n.maxEnd=cce(n)}function _f(n){for(;n!==Wt;){const e=cce(n);if(n.maxEnd===e)return;n.maxEnd=e,n=n.parent}}function WRe(n,e,t,i){return n===t?e-i:n-t}class g3{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==xt)return J6(this.right);let e=this;for(;e.parent!==xt&&e.parent.left!==e;)e=e.parent;return e.parent===xt?xt:e.parent}prev(){if(this.left!==xt)return dce(this.left);let e=this;for(;e.parent!==xt&&e.parent.right!==e;)e=e.parent;return e.parent===xt?xt:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}const xt=new g3(null,0);xt.parent=xt;xt.left=xt;xt.right=xt;xt.color=0;function J6(n){for(;n.left!==xt;)n=n.left;return n}function dce(n){for(;n.right!==xt;)n=n.right;return n}function eV(n){return n===xt?0:n.size_left+n.piece.length+eV(n.right)}function tV(n){return n===xt?0:n.lf_left+n.piece.lineFeedCnt+tV(n.right)}function JA(){xt.parent=xt}function Hw(n,e){const t=e.right;t.size_left+=e.size_left+(e.piece?e.piece.length:0),t.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=t.left,t.left!==xt&&(t.left.parent=e),t.parent=e.parent,e.parent===xt?n.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}function zw(n,e){const t=e.left;e.left=t.right,t.right!==xt&&(t.right.parent=e),t.parent=e.parent,e.size_left-=t.size_left+(t.piece?t.piece.length:0),e.lf_left-=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),e.parent===xt?n.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}function Rk(n,e){let t,i;if(e.left===xt?(i=e,t=i.right):e.right===xt?(i=e,t=i.left):(i=J6(e.right),t=i.right),i===n.root){n.root=t,t.color=0,e.detach(),JA(),n.root.parent=xt;return}const r=i.color===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?(t.parent=i.parent,ew(n,t)):(i.parent===e?t.parent=i:t.parent=i.parent,ew(n,t),i.left=e.left,i.right=e.right,i.parent=e.parent,i.color=e.color,e===n.root?n.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==xt&&(i.left.parent=i),i.right!==xt&&(i.right.parent=i),i.size_left=e.size_left,i.lf_left=e.lf_left,ew(n,i)),e.detach(),t.parent.left===t){const s=eV(t),a=tV(t);if(s!==t.parent.size_left||a!==t.parent.lf_left){const l=s-t.parent.size_left,c=a-t.parent.lf_left;t.parent.size_left=s,t.parent.lf_left=a,Mu(n,t.parent,l,c)}}if(ew(n,t.parent),r){JA();return}let o;for(;t!==n.root&&t.color===0;)t===t.parent.left?(o=t.parent.right,o.color===1&&(o.color=0,t.parent.color=1,Hw(n,t.parent),o=t.parent.right),o.left.color===0&&o.right.color===0?(o.color=1,t=t.parent):(o.right.color===0&&(o.left.color=0,o.color=1,zw(n,o),o=t.parent.right),o.color=t.parent.color,t.parent.color=0,o.right.color=0,Hw(n,t.parent),t=n.root)):(o=t.parent.left,o.color===1&&(o.color=0,t.parent.color=1,zw(n,t.parent),o=t.parent.left),o.left.color===0&&o.right.color===0?(o.color=1,t=t.parent):(o.left.color===0&&(o.right.color=0,o.color=1,Hw(n,o),o=t.parent.left),o.color=t.parent.color,t.parent.color=0,o.left.color=0,zw(n,t.parent),t=n.root));t.color=0,JA()}function IG(n,e){for(ew(n,e);e!==n.root&&e.parent.color===1;)if(e.parent===e.parent.parent.left){const t=e.parent.parent.right;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&(e=e.parent,Hw(n,e)),e.parent.color=0,e.parent.parent.color=1,zw(n,e.parent.parent))}else{const t=e.parent.parent.left;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&(e=e.parent,zw(n,e)),e.parent.color=0,e.parent.parent.color=1,Hw(n,e.parent.parent))}n.root.color=0}function Mu(n,e,t,i){for(;e!==n.root&&e!==xt;)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}function ew(n,e){let t=0,i=0;if(e!==n.root){for(;e!==n.root&&e===e.parent.right;)e=e.parent;if(e!==n.root)for(e=e.parent,t=eV(e.left)-e.size_left,i=tV(e.left)-e.lf_left,e.size_left+=t,e.lf_left+=i;e!==n.root&&(t!==0||i!==0);)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}}const ku=65535;function uce(n){let e;return n[n.length-1]<65536?e=new Uint16Array(n.length):e=new Uint32Array(n.length),e.set(n,0),e}class VRe{constructor(e,t,i,r,o){this.lineStarts=e,this.cr=t,this.lf=i,this.crlf=r,this.isBasicASCII=o}}function Au(n,e=!0){const t=[0];let i=1;for(let r=0,o=n.length;r<o;r++){const s=n.charCodeAt(r);s===13?r+1<o&&n.charCodeAt(r+1)===10?(t[i++]=r+2,r++):t[i++]=r+1:s===10&&(t[i++]=r+1)}return e?uce(t):t}function HRe(n,e){n.length=0,n[0]=0;let t=1,i=0,r=0,o=0,s=!0;for(let l=0,c=e.length;l<c;l++){const d=e.charCodeAt(l);d===13?l+1<c&&e.charCodeAt(l+1)===10?(o++,n[t++]=l+2,l++):(i++,n[t++]=l+1):d===10?(r++,n[t++]=l+1):s&&d!==9&&(d<32||d>126)&&(s=!1)}const a=new VRe(uce(n),i,r,o,s);return n.length=0,a}class Ds{constructor(e,t,i,r,o){this.bufferIndex=e,this.start=t,this.end=i,this.lineFeedCnt=r,this.length=o}}class em{constructor(e,t){this.buffer=e,this.lineStarts=t}}class zRe{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==xt&&e.iterate(e.root,i=>(i!==xt&&this._pieces.push(i.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class jRe{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e)return i}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e)return i}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1;const i=this._cache;for(let r=0;r<i.length;r++){const o=i[r];if(o.node.parent===null||o.nodeStartOffset>=e){i[r]=null,t=!0;continue}}if(t){const r=[];for(const o of i)o!==null&&r.push(o);this._cache=r}}}class URe{constructor(e,t,i){this.create(e,t,i)}create(e,t,i){this._buffers=[new em("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=xt,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=i;let r=null;for(let o=0,s=e.length;o<s;o++)if(e[o].buffer.length>0){e[o].lineStarts||(e[o].lineStarts=Au(e[o].buffer));const a=new Ds(o+1,{line:0,column:0},{line:e[o].lineStarts.length-1,column:e[o].buffer.length-e[o].lineStarts[e[o].lineStarts.length-1]},e[o].lineStarts.length-1,e[o].buffer.length);this._buffers.push(e[o]),r=this.rbInsertRight(r,a)}this._searchCache=new jRe(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){const t=ku,i=t-Math.floor(t/3),r=i*2;let o="",s=0;const a=[];if(this.iterate(this.root,l=>{const c=this.getNodeContent(l),d=c.length;if(s<=i||s+d<r)return o+=c,s+=d,!0;const u=o.replace(/\r\n|\r|\n/g,e);return a.push(new em(u,Au(u))),o=c,s=d,!0}),s>0){const l=o.replace(/\r\n|\r|\n/g,e);a.push(new em(l,Au(l)))}this.create(a,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new zRe(this,e)}getOffsetAt(e,t){let i=0,r=this.root;for(;r!==xt;)if(r.left!==xt&&r.lf_left+1>=e)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt+1>=e){i+=r.size_left;const o=this.getAccumulatedValue(r,e-r.lf_left-2);return i+=o+t-1}else e-=r.lf_left+r.piece.lineFeedCnt,i+=r.size_left+r.piece.length,r=r.right;return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,i=0;const r=e;for(;t!==xt;)if(t.size_left!==0&&t.size_left>=e)t=t.left;else if(t.size_left+t.piece.length>=e){const o=this.getIndexOf(t,e-t.size_left);if(i+=t.lf_left+o.index,o.index===0){const s=this.getOffsetAt(i+1,1),a=r-s;return new re(i+1,a+1)}return new re(i+1,o.remainder+1)}else if(e-=t.size_left+t.piece.length,i+=t.lf_left+t.piece.lineFeedCnt,t.right===xt){const o=this.getOffsetAt(i+1,1),s=r-e-o;return new re(i+1,s+1)}else t=t.right;return new re(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";const i=this.nodeAt2(e.startLineNumber,e.startColumn),r=this.nodeAt2(e.endLineNumber,e.endColumn),o=this.getValueInRange2(i,r);return t?t!==this._EOL||!this._EOLNormalized?o.replace(/\r\n|\r|\n/g,t):t===this.getEOL()&&this._EOLNormalized?o:o.replace(/\r\n|\r|\n/g,t):o}getValueInRange2(e,t){if(e.node===t.node){const a=e.node,l=this._buffers[a.piece.bufferIndex].buffer,c=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return l.substring(c+e.remainder,c+t.remainder)}let i=e.node;const r=this._buffers[i.piece.bufferIndex].buffer,o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);let s=r.substring(o+e.remainder,o+i.piece.length);for(i=i.next();i!==xt;){const a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===t.node){s+=a.substring(l,l+t.remainder);break}else s+=a.substr(l,i.piece.length);i=i.next()}return s}getLinesContent(){const e=[];let t=0,i="",r=!1;return this.iterate(this.root,o=>{if(o===xt)return!0;const s=o.piece;let a=s.length;if(a===0)return!0;const l=this._buffers[s.bufferIndex].buffer,c=this._buffers[s.bufferIndex].lineStarts,d=s.start.line,u=s.end.line;let h=c[d]+s.start.column;if(r&&(l.charCodeAt(h)===10&&(h++,a--),e[t++]=i,i="",r=!1,a===0))return!0;if(d===u)return!this._EOLNormalized&&l.charCodeAt(h+a-1)===13?(r=!0,i+=l.substr(h,a-1)):i+=l.substr(h,a),!0;i+=this._EOLNormalized?l.substring(h,Math.max(h,c[d+1]-this._EOLLength)):l.substring(h,c[d+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;for(let f=d+1;f<u;f++)i=this._EOLNormalized?l.substring(c[f],c[f+1]-this._EOLLength):l.substring(c[f],c[f+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;return!this._EOLNormalized&&l.charCodeAt(c[u]+s.end.column-1)===13?(r=!0,s.end.column===0?t--:i=l.substr(c[u],s.end.column-1)):i=l.substr(c[u],s.end.column),!0}),r&&(e[t++]=i,i=""),e[t++]=i,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(e){if(e.remainder===e.node.piece.length){const t=e.node.next();if(!t)return 0;const i=this._buffers[t.piece.bufferIndex],r=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return i.buffer.charCodeAt(r)}else{const t=this._buffers[e.node.piece.bufferIndex],r=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(r)}}getLineCharCode(e,t){const i=this.nodeAt2(e,t+1);return this._getCharCode(i)}getLineLength(e){if(e===this.getLineCount()){const t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,i,r,o,s,a,l,c,d,u){const h=this._buffers[e.piece.bufferIndex],f=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),g=this.offsetInBuffer(e.piece.bufferIndex,o),_=this.offsetInBuffer(e.piece.bufferIndex,s);let y;const m={line:0,column:0};let p,v;t._wordSeparators?(p=h.buffer.substring(g,_),v=b=>b+g,t.reset(0)):(p=h.buffer,v=b=>b,t.reset(g));do if(y=t.next(p),y){if(v(y.index)>=_)return d;this.positionInBuffer(e,v(y.index)-f,m);const b=this.getLineFeedCnt(e.piece.bufferIndex,o,m),C=m.line===o.line?m.column-o.column+r:m.column+1,S=C+y[0].length;if(u[d++]=Gp(new B(i+b,C,i+b,S),y,l),v(y.index)+y[0].length>=_||d>=c)return d}while(y);return d}findMatchesLineByLine(e,t,i,r){const o=[];let s=0;const a=new X0(t.wordSeparators,t.regex);let l=this.nodeAt2(e.startLineNumber,e.startColumn);if(l===null)return[];const c=this.nodeAt2(e.endLineNumber,e.endColumn);if(c===null)return[];let d=this.positionInBuffer(l.node,l.remainder);const u=this.positionInBuffer(c.node,c.remainder);if(l.node===c.node)return this.findMatchesInNode(l.node,a,e.startLineNumber,e.startColumn,d,u,t,i,r,s,o),o;let h=e.startLineNumber,f=l.node;for(;f!==c.node;){const _=this.getLineFeedCnt(f.piece.bufferIndex,d,f.piece.end);if(_>=1){const m=this._buffers[f.piece.bufferIndex].lineStarts,p=this.offsetInBuffer(f.piece.bufferIndex,f.piece.start),v=m[d.line+_],b=h===e.startLineNumber?e.startColumn:1;if(s=this.findMatchesInNode(f,a,h,b,d,this.positionInBuffer(f,v-p),t,i,r,s,o),s>=r)return o;h+=_}const y=h===e.startLineNumber?e.startColumn-1:0;if(h===e.endLineNumber){const m=this.getLineContent(h).substring(y,e.endColumn-1);return s=this._findMatchesInLine(t,a,m,e.endLineNumber,y,s,o,i,r),o}if(s=this._findMatchesInLine(t,a,this.getLineContent(h).substr(y),h,y,s,o,i,r),s>=r)return o;h++,l=this.nodeAt2(h,1),f=l.node,d=this.positionInBuffer(l.node,l.remainder)}if(h===e.endLineNumber){const _=h===e.startLineNumber?e.startColumn-1:0,y=this.getLineContent(h).substring(_,e.endColumn-1);return s=this._findMatchesInLine(t,a,y,e.endLineNumber,_,s,o,i,r),o}const g=h===e.startLineNumber?e.startColumn:1;return s=this.findMatchesInNode(c.node,a,h,g,d,u,t,i,r,s,o),o}_findMatchesInLine(e,t,i,r,o,s,a,l,c){const d=e.wordSeparators;if(!l&&e.simpleSearch){const h=e.simpleSearch,f=h.length,g=i.length;let _=-f;for(;(_=i.indexOf(h,_+f))!==-1;)if((!d||y6(d,i,g,_,f))&&(a[s++]=new q1(new B(r,_+1+o,r,_+1+f+o),null),s>=c))return s;return s}let u;t.reset(0);do if(u=t.next(i),u&&(a[s++]=Gp(new B(r,u.index+1+o,r,u.index+1+u[0].length+o),u,l),s>=c))return s;while(u);return s}insert(e,t,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==xt){const{node:r,remainder:o,nodeStartOffset:s}=this.nodeAt(e),a=r.piece,l=a.bufferIndex,c=this.positionInBuffer(r,o);if(r.piece.bufferIndex===0&&a.end.line===this._lastChangeBufferPos.line&&a.end.column===this._lastChangeBufferPos.column&&s+a.length===e&&t.length<ku){this.appendToNode(r,t),this.computeBufferMetadata();return}if(s===e)this.insertContentToNodeLeft(t,r),this._searchCache.validate(e);else if(s+r.piece.length>e){const d=[];let u=new Ds(a.bufferIndex,c,a.end,this.getLineFeedCnt(a.bufferIndex,c,a.end),this.offsetInBuffer(l,a.end)-this.offsetInBuffer(l,c));if(this.shouldCheckCRLF()&&this.endWithCR(t)&&this.nodeCharCodeAt(r,o)===10){const _={line:u.start.line+1,column:0};u=new Ds(u.bufferIndex,_,u.end,this.getLineFeedCnt(u.bufferIndex,_,u.end),u.length-1),t+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(t))if(this.nodeCharCodeAt(r,o-1)===13){const _=this.positionInBuffer(r,o-1);this.deleteNodeTail(r,_),t="\r"+t,r.piece.length===0&&d.push(r)}else this.deleteNodeTail(r,c);else this.deleteNodeTail(r,c);const h=this.createNewPieces(t);u.length>0&&this.rbInsertRight(r,u);let f=r;for(let g=0;g<h.length;g++)f=this.rbInsertRight(f,h[g]);this.deleteNodes(d)}else this.insertContentToNodeRight(t,r)}else{const r=this.createNewPieces(t);let o=this.rbInsertLeft(null,r[0]);for(let s=1;s<r.length;s++)o=this.rbInsertRight(o,r[s])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===xt)return;const i=this.nodeAt(e),r=this.nodeAt(e+t),o=i.node,s=r.node;if(o===s){const h=this.positionInBuffer(o,i.remainder),f=this.positionInBuffer(o,r.remainder);if(i.nodeStartOffset===e){if(t===o.piece.length){const g=o.next();Rk(this,o),this.validateCRLFWithPrevNode(g),this.computeBufferMetadata();return}this.deleteNodeHead(o,f),this._searchCache.validate(e),this.validateCRLFWithPrevNode(o),this.computeBufferMetadata();return}if(i.nodeStartOffset+o.piece.length===e+t){this.deleteNodeTail(o,h),this.validateCRLFWithNextNode(o),this.computeBufferMetadata();return}this.shrinkNode(o,h,f),this.computeBufferMetadata();return}const a=[],l=this.positionInBuffer(o,i.remainder);this.deleteNodeTail(o,l),this._searchCache.validate(e),o.piece.length===0&&a.push(o);const c=this.positionInBuffer(s,r.remainder);this.deleteNodeHead(s,c),s.piece.length===0&&a.push(s);const d=o.next();for(let h=d;h!==xt&&h!==s;h=h.next())a.push(h);const u=o.piece.length===0?o.prev():o;this.deleteNodes(a),this.validateCRLFWithNextNode(u),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){const i=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){const s=t.piece,a={line:s.start.line+1,column:0},l=new Ds(s.bufferIndex,a,s.end,this.getLineFeedCnt(s.bufferIndex,a,s.end),s.length-1);t.piece=l,e+=`
`,Mu(this,t,-1,-1),t.piece.length===0&&i.push(t)}const r=this.createNewPieces(e);let o=this.rbInsertLeft(t,r[r.length-1]);for(let s=r.length-2;s>=0;s--)o=this.rbInsertLeft(o,r[s]);this.validateCRLFWithPrevNode(o),this.deleteNodes(i)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+=`
`);const i=this.createNewPieces(e),r=this.rbInsertRight(t,i[0]);let o=r;for(let s=1;s<i.length;s++)o=this.rbInsertRight(o,i[s]);this.validateCRLFWithPrevNode(r)}positionInBuffer(e,t,i){const r=e.piece,o=e.piece.bufferIndex,s=this._buffers[o].lineStarts,l=s[r.start.line]+r.start.column+t;let c=r.start.line,d=r.end.line,u=0,h=0,f=0;for(;c<=d&&(u=c+(d-c)/2|0,f=s[u],u!==d);)if(h=s[u+1],l<f)d=u-1;else if(l>=h)c=u+1;else break;return i?(i.line=u,i.column=l-f,null):{line:u,column:l-f}}getLineFeedCnt(e,t,i){if(i.column===0)return i.line-t.line;const r=this._buffers[e].lineStarts;if(i.line===r.length-1)return i.line-t.line;const o=r[i.line+1],s=r[i.line]+i.column;if(o>s+1)return i.line-t.line;const a=s-1;return this._buffers[e].buffer.charCodeAt(a)===13?i.line-t.line+1:i.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)Rk(this,e[t])}createNewPieces(e){if(e.length>ku){const d=[];for(;e.length>ku;){const h=e.charCodeAt(ku-1);let f;h===13||h>=55296&&h<=56319?(f=e.substring(0,ku-1),e=e.substring(ku-1)):(f=e.substring(0,ku),e=e.substring(ku));const g=Au(f);d.push(new Ds(this._buffers.length,{line:0,column:0},{line:g.length-1,column:f.length-g[g.length-1]},g.length-1,f.length)),this._buffers.push(new em(f,g))}const u=Au(e);return d.push(new Ds(this._buffers.length,{line:0,column:0},{line:u.length-1,column:e.length-u[u.length-1]},u.length-1,e.length)),this._buffers.push(new em(e,u)),d}let t=this._buffers[0].buffer.length;const i=Au(e,!1);let r=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&t!==0&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},r=this._lastChangeBufferPos;for(let d=0;d<i.length;d++)i[d]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(t!==0)for(let d=0;d<i.length;d++)i[d]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=e}const o=this._buffers[0].buffer.length,s=this._buffers[0].lineStarts.length-1,a=o-this._buffers[0].lineStarts[s],l={line:s,column:a},c=new Ds(0,r,l,this.getLineFeedCnt(0,r,l),o-t);return this._lastChangeBufferPos=l,[c]}getLineRawContent(e,t=0){let i=this.root,r="";const o=this._searchCache.get2(e);if(o){i=o.node;const s=this.getAccumulatedValue(i,e-o.nodeStartLineNumber-1),a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(o.nodeStartLineNumber+i.piece.lineFeedCnt===e)r=a.substring(l+s,l+i.piece.length);else{const c=this.getAccumulatedValue(i,e-o.nodeStartLineNumber);return a.substring(l+s,l+c-t)}}else{let s=0;const a=e;for(;i!==xt;)if(i.left!==xt&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){const l=this.getAccumulatedValue(i,e-i.lf_left-2),c=this.getAccumulatedValue(i,e-i.lf_left-1),d=this._buffers[i.piece.bufferIndex].buffer,u=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return s+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:s,nodeStartLineNumber:a-(e-1-i.lf_left)}),d.substring(u+l,u+c-t)}else if(i.lf_left+i.piece.lineFeedCnt===e-1){const l=this.getAccumulatedValue(i,e-i.lf_left-2),c=this._buffers[i.piece.bufferIndex].buffer,d=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);r=c.substring(d+l,d+i.piece.length);break}else e-=i.lf_left+i.piece.lineFeedCnt,s+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==xt;){const s=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){const a=this.getAccumulatedValue(i,0),l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return r+=s.substring(l,l+a-t),r}else{const a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);r+=s.substr(a,i.piece.length)}i=i.next()}return r}computeBufferMetadata(){let e=this.root,t=1,i=0;for(;e!==xt;)t+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=i,this._searchCache.validate(this._length)}getIndexOf(e,t){const i=e.piece,r=this.positionInBuffer(e,t),o=r.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t){const s=this.getLineFeedCnt(e.piece.bufferIndex,i.start,r);if(s!==o)return{index:s,remainder:0}}return{index:o,remainder:r.column}}getAccumulatedValue(e,t){if(t<0)return 0;const i=e.piece,r=this._buffers[i.bufferIndex].lineStarts,o=i.start.line+t+1;return o>i.end.line?r[i.end.line]+i.end.column-r[i.start.line]-i.start.column:r[o]-r[i.start.line]-i.start.column}deleteNodeTail(e,t){const i=e.piece,r=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.end),s=t,a=this.offsetInBuffer(i.bufferIndex,s),l=this.getLineFeedCnt(i.bufferIndex,i.start,s),c=l-r,d=a-o,u=i.length+d;e.piece=new Ds(i.bufferIndex,i.start,s,l,u),Mu(this,e,d,c)}deleteNodeHead(e,t){const i=e.piece,r=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.start),s=t,a=this.getLineFeedCnt(i.bufferIndex,s,i.end),l=this.offsetInBuffer(i.bufferIndex,s),c=a-r,d=o-l,u=i.length+d;e.piece=new Ds(i.bufferIndex,s,i.end,a,u),Mu(this,e,d,c)}shrinkNode(e,t,i){const r=e.piece,o=r.start,s=r.end,a=r.length,l=r.lineFeedCnt,c=t,d=this.getLineFeedCnt(r.bufferIndex,r.start,c),u=this.offsetInBuffer(r.bufferIndex,t)-this.offsetInBuffer(r.bufferIndex,o);e.piece=new Ds(r.bufferIndex,r.start,c,d,u),Mu(this,e,u-a,d-l);const h=new Ds(r.bufferIndex,i,s,this.getLineFeedCnt(r.bufferIndex,i,s),this.offsetInBuffer(r.bufferIndex,s)-this.offsetInBuffer(r.bufferIndex,i)),f=this.rbInsertRight(e,h);this.validateCRLFWithPrevNode(f)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+=`
`);const i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),r=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const o=Au(t,!1);for(let f=0;f<o.length;f++)o[f]+=r;if(i){const f=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:r-f}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));const s=this._buffers[0].lineStarts.length-1,a=this._buffers[0].buffer.length-this._buffers[0].lineStarts[s],l={line:s,column:a},c=e.piece.length+t.length,d=e.piece.lineFeedCnt,u=this.getLineFeedCnt(0,e.piece.start,l),h=u-d;e.piece=new Ds(e.piece.bufferIndex,e.piece.start,l,u,c),this._lastChangeBufferPos=l,Mu(this,e,t.length,h)}nodeAt(e){let t=this.root;const i=this._searchCache.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let r=0;for(;t!==xt;)if(t.size_left>e)t=t.left;else if(t.size_left+t.piece.length>=e){r+=t.size_left;const o={node:t,remainder:e-t.size_left,nodeStartOffset:r};return this._searchCache.set(o),o}else e-=t.size_left+t.piece.length,r+=t.size_left+t.piece.length,t=t.right;return null}nodeAt2(e,t){let i=this.root,r=0;for(;i!==xt;)if(i.left!==xt&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){const o=this.getAccumulatedValue(i,e-i.lf_left-2),s=this.getAccumulatedValue(i,e-i.lf_left-1);return r+=i.size_left,{node:i,remainder:Math.min(o+t-1,s),nodeStartOffset:r}}else if(i.lf_left+i.piece.lineFeedCnt===e-1){const o=this.getAccumulatedValue(i,e-i.lf_left-2);if(o+t-1<=i.piece.length)return{node:i,remainder:o+t-1,nodeStartOffset:r};t-=i.piece.length-o;break}else e-=i.lf_left+i.piece.lineFeedCnt,r+=i.size_left+i.piece.length,i=i.right;for(i=i.next();i!==xt;){if(i.piece.lineFeedCnt>0){const o=this.getAccumulatedValue(i,0),s=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,o),nodeStartOffset:s}}else if(i.piece.length>=t-1){const o=this.offsetOfNode(i);return{node:i,remainder:t-1,nodeStartOffset:o}}else t-=i.piece.length;i=i.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;const i=this._buffers[e.piece.bufferIndex],r=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return i.buffer.charCodeAt(r)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(e){if(typeof e=="string")return e.charCodeAt(0)===10;if(e===xt||e.piece.lineFeedCnt===0)return!1;const t=e.piece,i=this._buffers[t.bufferIndex].lineStarts,r=t.start.line,o=i[r]+t.start.column;return r===i.length-1||i[r+1]>o+1?!1:this._buffers[t.bufferIndex].buffer.charCodeAt(o)===10}endWithCR(e){return typeof e=="string"?e.charCodeAt(e.length-1)===13:e===xt||e.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(e,e.piece.length-1)===13}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){const t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){const i=[],r=this._buffers[e.piece.bufferIndex].lineStarts;let o;e.piece.end.column===0?o={line:e.piece.end.line-1,column:r[e.piece.end.line]-r[e.piece.end.line-1]-1}:o={line:e.piece.end.line,column:e.piece.end.column-1};const s=e.piece.length-1,a=e.piece.lineFeedCnt-1;e.piece=new Ds(e.piece.bufferIndex,e.piece.start,o,a,s),Mu(this,e,-1,-1),e.piece.length===0&&i.push(e);const l={line:t.piece.start.line+1,column:0},c=t.piece.length-1,d=this.getLineFeedCnt(t.piece.bufferIndex,l,t.piece.end);t.piece=new Ds(t.piece.bufferIndex,l,t.piece.end,d,c),Mu(this,t,-1,-1),t.piece.length===0&&i.push(t);const u=this.createNewPieces(`\r
`);this.rbInsertRight(e,u[0]);for(let h=0;h<i.length;h++)Rk(this,i[h])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const i=t.next();if(this.startWithLF(i)){if(e+=`
`,i.piece.length===1)Rk(this,i);else{const r=i.piece,o={line:r.start.line+1,column:0},s=r.length-1,a=this.getLineFeedCnt(r.bufferIndex,o,r.end);i.piece=new Ds(r.bufferIndex,o,r.end,a,s),Mu(this,i,-1,-1)}return!0}}return!1}iterate(e,t){if(e===xt)return t(xt);const i=this.iterate(e.left,t);return i&&t(e)&&this.iterate(e.right,t)}getNodeContent(e){if(e===xt)return"";const t=this._buffers[e.piece.bufferIndex],i=e.piece,r=this.offsetInBuffer(i.bufferIndex,i.start),o=this.offsetInBuffer(i.bufferIndex,i.end);return t.buffer.substring(r,o)}getPieceContent(e){const t=this._buffers[e.bufferIndex],i=this.offsetInBuffer(e.bufferIndex,e.start),r=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(i,r)}rbInsertRight(e,t){const i=new g3(t,1);if(i.left=xt,i.right=xt,i.parent=xt,i.size_left=0,i.lf_left=0,this.root===xt)this.root=i,i.color=0;else if(e.right===xt)e.right=i,i.parent=e;else{const o=J6(e.right);o.left=i,i.parent=o}return IG(this,i),i}rbInsertLeft(e,t){const i=new g3(t,1);if(i.left=xt,i.right=xt,i.parent=xt,i.size_left=0,i.lf_left=0,this.root===xt)this.root=i,i.color=0;else if(e.left===xt)e.left=i,i.parent=e;else{const r=dce(e.left);r.right=i,i.parent=r}return IG(this,i),i}}class Hv extends ce{constructor(e,t,i,r,o,s,a){super(),this._onDidChangeContent=this._register(new ne),this._BOM=t,this._mightContainNonBasicASCII=!s,this._mightContainRTL=r,this._mightContainUnusualLineTerminators=o,this._pieceTree=new URe(e,i,a)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){const i=e+t,r=this.getPositionAt(e),o=this.getPositionAt(i);return new B(r.lineNumber,r.column,o.lineNumber,o.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const i=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,i)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;const i=this.getOffsetAt(e.startLineNumber,e.startColumn),r=this.getOffsetAt(e.endLineNumber,e.endColumn);let o=0;const s=this._getEndOfLine(t),a=this.getEOL();if(s.length!==a.length){const l=s.length-a.length,c=e.endLineNumber-e.startLineNumber;o=l*c}return r-i+o}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let i=0;const r=e.startLineNumber,o=e.endLineNumber;for(let s=r;s<=o;s++){const a=this.getLineContent(s),l=s===r?e.startColumn-1:0,c=s===o?e.endColumn-1:a.length;for(let d=l;d<c;d++)cr(a.charCodeAt(d))?(i=i+1,d=d+1):i=i+1}return i+=this._getEndOfLine(t).length*(o-r),i}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=xo(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){const t=Ac(this.getLineContent(e));return t===-1?0:t+2}_getEndOfLine(e){switch(e){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,i){let r=this._mightContainRTL,o=this._mightContainUnusualLineTerminators,s=this._mightContainNonBasicASCII,a=!0,l=[];for(let _=0;_<e.length;_++){const y=e[_];a&&y._isTracked&&(a=!1);const m=y.range;if(y.text){let S=!0;s||(S=!Ax(y.text),s=S),!r&&S&&(r=bb(y.text)),!o&&S&&(o=Zse(y.text))}let p="",v=0,b=0,C=0;if(y.text){let S;[v,b,C,S]=Vg(y.text);const x=this.getEOL();S===0||S===(x===`\r
`?2:1)?p=y.text:p=y.text.replace(/\r\n|\r|\n/g,x)}l[_]={sortIndex:_,identifier:y.identifier||null,range:m,rangeOffset:this.getOffsetAt(m.startLineNumber,m.startColumn),rangeLength:this.getValueLengthInRange(m),text:p,eolCount:v,firstLineLength:b,lastLineLength:C,forceMoveMarkers:!!y.forceMoveMarkers,isAutoWhitespaceEdit:y.isAutoWhitespaceEdit||!1}}l.sort(Hv._sortOpsAscending);let c=!1;for(let _=0,y=l.length-1;_<y;_++){const m=l[_].range.getEndPosition(),p=l[_+1].range.getStartPosition();if(p.isBeforeOrEqual(m)){if(p.isBefore(m))throw new Error("Overlapping ranges are not allowed!");c=!0}}a&&(l=this._reduceOperations(l));const d=i||t?Hv._getInverseEditRanges(l):[],u=[];if(t)for(let _=0;_<l.length;_++){const y=l[_],m=d[_];if(y.isAutoWhitespaceEdit&&y.range.isEmpty())for(let p=m.startLineNumber;p<=m.endLineNumber;p++){let v="";p===m.startLineNumber&&(v=this.getLineContent(y.range.startLineNumber),xo(v)!==-1)||u.push({lineNumber:p,oldContent:v})}}let h=null;if(i){let _=0;h=[];for(let y=0;y<l.length;y++){const m=l[y],p=d[y],v=this.getValueInRange(m.range),b=m.rangeOffset+_;_+=m.text.length-v.length,h[y]={sortIndex:m.sortIndex,identifier:m.identifier,range:p,text:v,textChange:new Vr(m.rangeOffset,v,b,m.text)}}c||h.sort((y,m)=>y.sortIndex-m.sortIndex)}this._mightContainRTL=r,this._mightContainUnusualLineTerminators=o,this._mightContainNonBasicASCII=s;const f=this._doApplyEdits(l);let g=null;if(t&&u.length>0){u.sort((_,y)=>y.lineNumber-_.lineNumber),g=[];for(let _=0,y=u.length;_<y;_++){const m=u[_].lineNumber;if(_>0&&u[_-1].lineNumber===m)continue;const p=u[_].oldContent,v=this.getLineContent(m);v.length===0||v===p||xo(v)!==-1||g.push(m)}}return this._onDidChangeContent.fire(),new iEe(h,f,g)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const i=e[0].range,r=e[e.length-1].range,o=new B(i.startLineNumber,i.startColumn,r.endLineNumber,r.endColumn);let s=i.startLineNumber,a=i.startColumn;const l=[];for(let f=0,g=e.length;f<g;f++){const _=e[f],y=_.range;t=t||_.forceMoveMarkers,l.push(this.getValueInRange(new B(s,a,y.startLineNumber,y.startColumn))),_.text.length>0&&l.push(_.text),s=y.endLineNumber,a=y.endColumn}const c=l.join(""),[d,u,h]=Vg(c);return{sortIndex:0,identifier:e[0].identifier,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o,0),text:c,eolCount:d,firstLineLength:u,lastLineLength:h,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(Hv._sortOpsDescending);const t=[];for(let i=0;i<e.length;i++){const r=e[i],o=r.range.startLineNumber,s=r.range.startColumn,a=r.range.endLineNumber,l=r.range.endColumn;if(o===a&&s===l&&r.text.length===0)continue;r.text?(this._pieceTree.delete(r.rangeOffset,r.rangeLength),this._pieceTree.insert(r.rangeOffset,r.text,!0)):this._pieceTree.delete(r.rangeOffset,r.rangeLength);const c=new B(o,s,a,l);t.push({range:c,rangeLength:r.rangeLength,text:r.text,rangeOffset:r.rangeOffset,forceMoveMarkers:r.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,i,r){return this._pieceTree.findMatchesLineByLine(e,t,i,r)}static _getInverseEditRanges(e){const t=[];let i=0,r=0,o=null;for(let s=0,a=e.length;s<a;s++){const l=e[s];let c,d;o?o.range.endLineNumber===l.range.startLineNumber?(c=i,d=r+(l.range.startColumn-o.range.endColumn)):(c=i+(l.range.startLineNumber-o.range.endLineNumber),d=l.range.startColumn):(c=l.range.startLineNumber,d=l.range.startColumn);let u;if(l.text.length>0){const h=l.eolCount+1;h===1?u=new B(c,d,c,d+l.firstLineLength):u=new B(c,d,c+h-1,l.lastLineLength+1)}else u=new B(c,d,c,d);i=u.endLineNumber,r=u.endColumn,t.push(u),o=l}return t}static _sortOpsAscending(e,t){const i=B.compareRangesUsingEnds(e.range,t.range);return i===0?e.sortIndex-t.sortIndex:i}static _sortOpsDescending(e,t){const i=B.compareRangesUsingEnds(e.range,t.range);return i===0?t.sortIndex-e.sortIndex:-i}}class $Re{constructor(e,t,i,r,o,s,a,l,c){this._chunks=e,this._bom=t,this._cr=i,this._lf=r,this._crlf=o,this._containsRTL=s,this._containsUnusualLineTerminators=a,this._isBasicASCII=l,this._normalizeEOL=c}_getEOL(e){const t=this._cr+this._lf+this._crlf,i=this._cr+this._crlf;return t===0?e===1?`
`:`\r
`:i>t/2?`\r
`:`
`}create(e){const t=this._getEOL(e),i=this._chunks;if(this._normalizeEOL&&(t===`\r
`&&(this._cr>0||this._lf>0)||t===`
`&&(this._cr>0||this._crlf>0)))for(let o=0,s=i.length;o<s;o++){const a=i[o].buffer.replace(/\r\n|\r|\n/g,t),l=Au(a);i[o]=new em(a,l)}const r=new Hv(i,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:r,disposable:r}}}class hce{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(e.length===0)return;this.chunks.length===0&&o6(e)&&(this.BOM=YLe,e=e.substr(1));const t=e.charCodeAt(e.length-1);t===13||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){!t&&e.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=HRe(this._tmpLineStarts,e);this.chunks.push(new em(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,t.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=bb(e)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=Zse(e)))}finish(e=!0){return this._finish(),new $Re(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);const t=Au(e.buffer);e.lineStarts=t,this._previousChar===13&&this.cr++}}}class qRe{constructor(e){this._default=e,this._store=[]}get(e){return e<this._store.length?this._store[e]:this._default}set(e,t){for(;e>=this._store.length;)this._store[this._store.length]=this._default;this._store[e]=t}replace(e,t,i){if(e>=this._store.length)return;if(t===0){this.insert(e,i);return}else if(i===0){this.delete(e,t);return}const r=this._store.slice(0,e),o=this._store.slice(e+t),s=KRe(i,this._default);this._store=r.concat(s,o)}delete(e,t){t===0||e>=this._store.length||this._store.splice(e,t)}insert(e,t){if(t===0||e>=this._store.length)return;const i=[];for(let r=0;r<t;r++)i[r]=this._default;this._store=gP(this._store,e,i)}}function KRe(n,e){const t=[];for(let i=0;i<n;i++)t[i]=e;return t}class GRe{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(e,t){this._startLineNumber=e,this._tokens=t}getLineTokens(e){return this._tokens[e-this._startLineNumber]}appendLineTokens(e){this._tokens.push(e)}}class p3{constructor(){this._tokens=[]}add(e,t){if(this._tokens.length>0){const i=this._tokens[this._tokens.length-1];if(i.endLineNumber+1===e){i.appendLineTokens(t);return}}this._tokens.push(new GRe(e,[t]))}finalize(){return this._tokens}}class ZRe{constructor(e,t){this.tokenizationSupport=t,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new m3(e)}getStartState(e){return this.store.getStartState(e,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}class YRe extends ZRe{constructor(e,t,i,r){super(e,t),this._textModel=i,this._languageIdCodec=r}updateTokensUntilLine(e,t){const i=this._textModel.getLanguageId();for(;;){const r=this.getFirstInvalidLine();if(!r||r.lineNumber>t)break;const o=this._textModel.getLineContent(r.lineNumber),s=vC(this._languageIdCodec,i,this.tokenizationSupport,o,!0,r.startState);e.add(r.lineNumber,s.tokens),this.store.setEndState(r.lineNumber,s.endState)}}getTokenTypeIfInsertingCharacter(e,t){const i=this.getStartState(e.lineNumber);if(!i)return 0;const r=this._textModel.getLanguageId(),o=this._textModel.getLineContent(e.lineNumber),s=o.substring(0,e.column-1)+t+o.substring(e.column-1),a=vC(this._languageIdCodec,r,this.tokenizationSupport,s,!0,i),l=new ur(a.tokens,s,this._languageIdCodec);if(l.getCount()===0)return 0;const c=l.findTokenIndexAtOffset(e.column-1);return l.getStandardTokenType(c)}tokenizeLineWithEdit(e,t,i){const r=e.lineNumber,o=e.column,s=this.getStartState(r);if(!s)return null;const a=this._textModel.getLineContent(r),l=a.substring(0,o-1)+i+a.substring(o-1+t),c=this._textModel.getLanguageIdAtPosition(r,0),d=vC(this._languageIdCodec,c,this.tokenizationSupport,l,!0,s);return new ur(d.tokens,l,this._languageIdCodec)}isCheapToTokenize(e){const t=this.store.getFirstInvalidEndStateLineNumberOrMax();return e<t||e===t&&this._textModel.getLineLength(e)<2048}tokenizeHeuristically(e,t,i){if(i<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(t<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(e,i),{heuristicTokens:!1};let r=this.guessStartState(t);const o=this._textModel.getLanguageId();for(let s=t;s<=i;s++){const a=this._textModel.getLineContent(s),l=vC(this._languageIdCodec,o,this.tokenizationSupport,a,!0,r);e.add(s,l.tokens),r=l.endState}return{heuristicTokens:!0}}guessStartState(e){let t=this._textModel.getLineFirstNonWhitespaceColumn(e);const i=[];let r=null;for(let a=e-1;t>1&&a>=1;a--){const l=this._textModel.getLineFirstNonWhitespaceColumn(a);if(l!==0&&l<t&&(i.push(this._textModel.getLineContent(a)),t=l,r=this.getStartState(a),r))break}r||(r=this.tokenizationSupport.getInitialState()),i.reverse();const o=this._textModel.getLanguageId();let s=r;for(const a of i)s=vC(this._languageIdCodec,o,this.tokenizationSupport,a,!1,s).endState;return s}}class m3{constructor(e){this.lineCount=e,this._tokenizationStateStore=new XRe,this._invalidEndStatesLineNumbers=new QRe,this._invalidEndStatesLineNumbers.addRange(new Bt(1,e+1))}getEndState(e){return this._tokenizationStateStore.getEndState(e)}setEndState(e,t){if(!t)throw new Xi("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(e);const i=this._tokenizationStateStore.setEndState(e,t);return i&&e<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new Bt(e+1,e+2)),i}acceptChange(e,t){this.lineCount+=t-e.length,this._tokenizationStateStore.acceptChange(e,t),this._invalidEndStatesLineNumbers.addRangeAndResize(new Bt(e.startLineNumber,e.endLineNumberExclusive),t)}acceptChanges(e){for(const t of e){const[i]=Vg(t.text);this.acceptChange(new Ft(t.range.startLineNumber,t.range.endLineNumber+1),i+1)}}invalidateEndStateRange(e){this._invalidEndStatesLineNumbers.addRange(new Bt(e.startLineNumber,e.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(e,t){return e===1?t:this.getEndState(e-1)}getFirstInvalidLine(e){const t=this.getFirstInvalidEndStateLineNumber();if(t===null)return null;const i=this.getStartState(t,e);if(!i)throw new Xi("Start state must be defined");return{lineNumber:t,startState:i}}}class XRe{constructor(){this._lineEndStates=new qRe(null)}getEndState(e){return this._lineEndStates.get(e)}setEndState(e,t){const i=this._lineEndStates.get(e);return i&&i.equals(t)?!1:(this._lineEndStates.set(e,t),!0)}acceptChange(e,t){let i=e.length;t>0&&i>0&&(i--,t--),this._lineEndStates.replace(e.startLineNumber,i,t)}}class QRe{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}delete(e){const t=this._ranges.findIndex(i=>i.contains(e));if(t!==-1){const i=this._ranges[t];i.start===e?i.endExclusive===e+1?this._ranges.splice(t,1):this._ranges[t]=new Bt(e+1,i.endExclusive):i.endExclusive===e+1?this._ranges[t]=new Bt(i.start,e):this._ranges.splice(t,1,new Bt(i.start,e),new Bt(e+1,i.endExclusive))}}addRange(e){Bt.addRange(e,this._ranges)}addRangeAndResize(e,t){let i=0;for(;!(i>=this._ranges.length||e.start<=this._ranges[i].endExclusive);)i++;let r=i;for(;!(r>=this._ranges.length||e.endExclusive<this._ranges[r].start);)r++;const o=t-e.length;for(let s=r;s<this._ranges.length;s++)this._ranges[s]=this._ranges[s].delta(o);if(i===r){const s=new Bt(e.start,e.start+t);s.isEmpty||this._ranges.splice(i,0,s)}else{const s=Math.min(e.start,this._ranges[i].start),a=Math.max(e.endExclusive,this._ranges[r-1].endExclusive),l=new Bt(s,a+o);l.isEmpty?this._ranges.splice(i,r-i):this._ranges.splice(i,r-i,l)}}toString(){return this._ranges.map(e=>e.toString()).join(" + ")}}function vC(n,e,t,i,r,o){let s=null;if(t)try{s=t.tokenizeEncoded(i,r,o.clone())}catch(a){St(a)}return s||(s=jP(n.encodeLanguageId(e),o)),ur.convertToEndOffset(s.tokens,i.length),s}class JRe{constructor(e,t){this._tokenizerWithStateStore=e,this._backgroundTokenStore=t,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,cae(e=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(e)}))}_backgroundTokenizeWithDeadline(e){const t=Date.now()+e.timeRemaining(),i=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<t?wse(i):this._beginBackgroundTokenization())};i()}_backgroundTokenizeForAtLeast1ms(){const e=this._tokenizerWithStateStore._textModel.getLineCount(),t=new p3,i=ro.create(!1);do if(i.elapsed()>1||this._tokenizeOneInvalidLine(t)>=e)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(t.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(e){var t;const i=(t=this._tokenizerWithStateStore)===null||t===void 0?void 0:t.getFirstInvalidLine();return i?(this._tokenizerWithStateStore.updateTokensUntilLine(e,i.lineNumber),i.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(e,t){this._tokenizerWithStateStore.store.invalidateEndStateRange(new Ft(e,t))}}const Ou=new Uint32Array(0).buffer;class wd{static deleteBeginning(e,t){return e===null||e===Ou?e:wd.delete(e,0,t)}static deleteEnding(e,t){if(e===null||e===Ou)return e;const i=Zu(e),r=i[i.length-2];return wd.delete(e,t,r)}static delete(e,t,i){if(e===null||e===Ou||t===i)return e;const r=Zu(e),o=r.length>>>1;if(t===0&&r[r.length-2]===i)return Ou;const s=ur.findIndexInTokensArray(r,t),a=s>0?r[s-1<<1]:0,l=r[s<<1];if(i<l){const f=i-t;for(let g=s;g<o;g++)r[g<<1]-=f;return e}let c,d;a!==t?(r[s<<1]=t,c=s+1<<1,d=t):(c=s<<1,d=a);const u=i-t;for(let f=s+1;f<o;f++){const g=r[f<<1]-u;g>d&&(r[c++]=g,r[c++]=r[(f<<1)+1],d=g)}if(c===r.length)return e;const h=new Uint32Array(c);return h.set(r.subarray(0,c),0),h.buffer}static append(e,t){if(t===Ou)return e;if(e===Ou)return t;if(e===null)return e;if(t===null)return null;const i=Zu(e),r=Zu(t),o=r.length>>>1,s=new Uint32Array(i.length+r.length);s.set(i,0);let a=i.length;const l=i[i.length-2];for(let c=0;c<o;c++)s[a++]=r[c<<1]+l,s[a++]=r[(c<<1)+1];return s.buffer}static insert(e,t,i){if(e===null||e===Ou)return e;const r=Zu(e),o=r.length>>>1;let s=ur.findIndexInTokensArray(r,t);s>0&&r[s-1<<1]===t&&s--;for(let a=s;a<o;a++)r[a<<1]+=i;return e}}function Zu(n){return n instanceof Uint32Array?n:new Uint32Array(n)}class pS{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(e,t,i){let r=null;if(t<this._len&&(r=this._lineTokens[t]),r!==null&&r!==Ou)return new ur(Zu(r),i,this._languageIdCodec);const o=new Uint32Array(2);return o[0]=i.length,o[1]=NG(this._languageIdCodec.encodeLanguageId(e)),new ur(o,i,this._languageIdCodec)}static _massageTokens(e,t,i){const r=i?Zu(i):null;if(t===0){let o=!1;if(r&&r.length>1&&(o=zr.getLanguageId(r[1])!==e),!o)return Ou}if(!r||r.length===0){const o=new Uint32Array(2);return o[0]=t,o[1]=NG(e),o.buffer}return r[r.length-2]=t,r.byteOffset===0&&r.byteLength===r.buffer.byteLength?r.buffer:r}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(t===0)return;const i=[];for(let r=0;r<t;r++)i[r]=null;this._lineTokens=gP(this._lineTokens,e,i),this._len+=t}setTokens(e,t,i,r,o){const s=pS._massageTokens(this._languageIdCodec.encodeLanguageId(e),i,r);this._ensureLine(t);const a=this._lineTokens[t];return this._lineTokens[t]=s,o?!pS._equals(a,s):!1}static _equals(e,t){if(!e||!t)return!e&&!t;const i=Zu(e),r=Zu(t);if(i.length!==r.length)return!1;for(let o=0,s=i.length;o<s;o++)if(i[o]!==r[o])return!1;return!0}acceptEdit(e,t,i){this._acceptDeleteRange(e),this._acceptInsertText(new re(e.startLineNumber,e.startColumn),t,i)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._lineTokens[t]=wd.delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1);return}this._lineTokens[t]=wd.deleteEnding(this._lineTokens[t],e.startColumn-1);const i=e.endLineNumber-1;let r=null;i<this._len&&(r=wd.deleteBeginning(this._lineTokens[i],e.endColumn-1)),this._lineTokens[t]=wd.append(this._lineTokens[t],r),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,i){if(t===0&&i===0)return;const r=e.lineNumber-1;if(!(r>=this._len)){if(t===0){this._lineTokens[r]=wd.insert(this._lineTokens[r],e.column-1,i);return}this._lineTokens[r]=wd.deleteEnding(this._lineTokens[r],e.column-1),this._lineTokens[r]=wd.insert(this._lineTokens[r],e.column-1,i),this._insertLines(e.lineNumber,t)}}setMultilineTokens(e,t){if(e.length===0)return{changes:[]};const i=[];for(let r=0,o=e.length;r<o;r++){const s=e[r];let a=0,l=0,c=!1;for(let d=s.startLineNumber;d<=s.endLineNumber;d++)c?(this.setTokens(t.getLanguageId(),d-1,t.getLineLength(d),s.getLineTokens(d),!1),l=d):this.setTokens(t.getLanguageId(),d-1,t.getLineLength(d),s.getLineTokens(d),!0)&&(c=!0,a=d,l=d);c&&i.push({fromLineNumber:a,toLineNumber:l})}return{changes:i}}}function NG(n){return(n<<0|0|0|32768|2<<24|1024)>>>0}class iV{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let i=e;if(t.length>0){const o=t[0].getRange(),s=t[t.length-1].getRange();if(!o||!s)return e;i=e.plusRange(o).plusRange(s)}let r=null;for(let o=0,s=this._pieces.length;o<s;o++){const a=this._pieces[o];if(a.endLineNumber<i.startLineNumber)continue;if(a.startLineNumber>i.endLineNumber){r=r||{index:o};break}if(a.removeTokens(i),a.isEmpty()){this._pieces.splice(o,1),o--,s--;continue}if(a.endLineNumber<i.startLineNumber)continue;if(a.startLineNumber>i.endLineNumber){r=r||{index:o};continue}const[l,c]=a.split(i);if(l.isEmpty()){r=r||{index:o};continue}c.isEmpty()||(this._pieces.splice(o,1,l,c),o++,s++,r=r||{index:o})}return r=r||{index:this._pieces.length},t.length>0&&(this._pieces=gP(this._pieces,r.index,t)),i}isComplete(){return this._isComplete}addSparseTokens(e,t){if(t.getLineContent().length===0)return t;const i=this._pieces;if(i.length===0)return t;const r=iV._findFirstPieceWithLine(i,e),o=i[r].getLineTokens(e);if(!o)return t;const s=t.getCount(),a=o.getCount();let l=0;const c=[];let d=0,u=0;const h=(f,g)=>{f!==u&&(u=f,c[d++]=f,c[d++]=g)};for(let f=0;f<a;f++){const g=o.getStartCharacter(f),_=o.getEndCharacter(f),y=o.getMetadata(f),m=((y&1?2048:0)|(y&2?4096:0)|(y&4?8192:0)|(y&8?16384:0)|(y&16?16744448:0)|(y&32?4278190080:0))>>>0,p=~m>>>0;for(;l<s&&t.getEndOffset(l)<=g;)h(t.getEndOffset(l),t.getMetadata(l)),l++;for(l<s&&t.getStartOffset(l)<g&&h(g,t.getMetadata(l));l<s&&t.getEndOffset(l)<_;)h(t.getEndOffset(l),t.getMetadata(l)&p|y&m),l++;if(l<s)h(_,t.getMetadata(l)&p|y&m),t.getEndOffset(l)===_&&l++;else{const v=Math.min(Math.max(0,l-1),s-1);h(_,t.getMetadata(v)&p|y&m)}}for(;l<s;)h(t.getEndOffset(l),t.getMetadata(l)),l++;return new ur(new Uint32Array(c),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let i=0,r=e.length-1;for(;i<r;){let o=i+Math.floor((r-i)/2);if(e[o].endLineNumber<t)i=o+1;else if(e[o].startLineNumber>t)r=o-1;else{for(;o>i&&e[o-1].startLineNumber<=t&&t<=e[o-1].endLineNumber;)o--;return o}}return i}acceptEdit(e,t,i,r,o){for(const s of this._pieces)s.acceptEdit(e,t,i,r,o)}}class hI extends $le{constructor(e,t,i,r,o,s){super(),this._languageService=e,this._languageConfigurationService=t,this._textModel=i,this._bracketPairsTextModelPart=r,this._languageId=o,this._attachedViews=s,this._semanticTokens=new iV(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new ne),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new ne),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new ne),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new eAe(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange(a=>{a.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens(a=>{this._emitModelTokensChangedEvent(a)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState(a=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(e){if(e.isFlush)this._semanticTokens.flush();else if(!e.isEolChange)for(const t of e.changes){const[i,r,o]=Vg(t.text);this._semanticTokens.acceptEdit(t.range,i,r,o,t.text.length>0?t.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(e)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(e){this.validateLineNumber(e);const t=this.grammarTokens.getLineTokens(e);return this._semanticTokens.addSparseTokens(e,t)}_emitModelTokensChangedEvent(e){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(e),this._onDidChangeTokens.fire(e))}validateLineNumber(e){if(e<1||e>this._textModel.getLineCount())throw new Xi("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(e){this.validateLineNumber(e),this.grammarTokens.forceTokenization(e)}isCheapToTokenize(e){return this.validateLineNumber(e),this.grammarTokens.isCheapToTokenize(e)}tokenizeIfCheap(e){this.validateLineNumber(e),this.grammarTokens.tokenizeIfCheap(e)}getTokenTypeIfInsertingCharacter(e,t,i){return this.grammarTokens.getTokenTypeIfInsertingCharacter(e,t,i)}tokenizeLineWithEdit(e,t,i){return this.grammarTokens.tokenizeLineWithEdit(e,t,i)}setSemanticTokens(e,t){this._semanticTokens.set(e,t),this._emitModelTokensChangedEvent({semanticTokensApplied:e!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;const i=this._textModel.validateRange(this._semanticTokens.setPartial(e,t));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}getWordAtPosition(e){this.assertNotDisposed();const t=this._textModel.validatePosition(e),i=this._textModel.getLineContent(t.lineNumber),r=this.getLineTokens(t.lineNumber),o=r.findTokenIndexAtOffset(t.column-1),[s,a]=hI._findLanguageBoundaries(r,o),l=O1(t.column,this.getLanguageConfiguration(r.getLanguageId(o)).getWordDefinition(),i.substring(s,a),s);if(l&&l.startColumn<=e.column&&e.column<=l.endColumn)return l;if(o>0&&s===t.column-1){const[c,d]=hI._findLanguageBoundaries(r,o-1),u=O1(t.column,this.getLanguageConfiguration(r.getLanguageId(o-1)).getWordDefinition(),i.substring(c,d),c);if(u&&u.startColumn<=e.column&&e.column<=u.endColumn)return u}return null}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}static _findLanguageBoundaries(e,t){const i=e.getLanguageId(t);let r=0;for(let s=t;s>=0&&e.getLanguageId(s)===i;s--)r=e.getStartOffset(s);let o=e.getLineContent().length;for(let s=t,a=e.getCount();s<a&&e.getLanguageId(s)===i;s++)o=e.getEndOffset(s);return[r,o]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(e,t){const i=this._textModel.validatePosition(new re(e,t)),r=this.getLineTokens(i.lineNumber);return r.getLanguageId(r.findTokenIndexAtOffset(i.column-1))}setLanguageId(e,t="api"){if(this._languageId===e)return;const i={oldLanguage:this._languageId,newLanguage:e,source:t};this._languageId=e,this._bracketPairsTextModelPart.handleDidChangeLanguage(i),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(i),this._onDidChangeLanguageConfiguration.fire({})}}class eAe extends ce{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(e,t,i,r){super(),this._languageIdCodec=e,this._textModel=t,this.getLanguageId=i,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new Lr),this._tokens=new pS(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new Lr),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new ne),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new ne),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new KW),this._register(ln.onDidChange(o=>{const s=this.getLanguageId();o.changedLanguages.indexOf(s)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(r.onDidChangeVisibleRanges(({view:o,state:s})=>{if(s){let a=this._attachedViewStates.get(o);a||(a=new tAe(()=>this.refreshRanges(a.lineRanges)),this._attachedViewStates.set(o,a)),a.handleStateChange(s)}else this._attachedViewStates.deleteAndDispose(o)}))}resetTokenization(e=!0){var t;this._tokens.flush(),(t=this._debugBackgroundTokens)===null||t===void 0||t.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new m3(this._textModel.getLineCount())),e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const i=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const s=ln.get(this.getLanguageId());if(!s)return[null,null];let a;try{a=s.getInitialState()}catch(l){return St(l),[null,null]}return[s,a]},[r,o]=i();if(r&&o?this._tokenizer=new YRe(this._textModel.getLineCount(),r,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const s={setTokens:a=>{this.setTokens(a)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const a=2;this._backgroundTokenizationState=a,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(a,l)=>{var c;if(!this._tokenizer)return;const d=this._tokenizer.store.getFirstInvalidEndStateLineNumber();d!==null&&a>=d&&((c=this._tokenizer)===null||c===void 0||c.store.setEndState(a,l))}};r&&r.createBackgroundTokenizer&&!r.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=r.createBackgroundTokenizer(this._textModel,s)),!this._backgroundTokenizer.value&&!this._textModel.isTooLargeForTokenization()&&(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new JRe(this._tokenizer,s),this._defaultBackgroundTokenizer.handleChanges()),r!=null&&r.backgroundTokenizerShouldOnlyVerifyTokens&&r.createBackgroundTokenizer?(this._debugBackgroundTokens=new pS(this._languageIdCodec),this._debugBackgroundStates=new m3(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=r.createBackgroundTokenizer(this._textModel,{setTokens:a=>{var l;(l=this._debugBackgroundTokens)===null||l===void 0||l.setMultilineTokens(a,this._textModel)},backgroundTokenizationFinished(){},setEndState:(a,l)=>{var c;(c=this._debugBackgroundStates)===null||c===void 0||c.setEndState(a,l)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var e;(e=this._defaultBackgroundTokenizer)===null||e===void 0||e.handleChanges()}handleDidChangeContent(e){var t,i,r;if(e.isFlush)this.resetTokenization(!1);else if(!e.isEolChange){for(const o of e.changes){const[s,a]=Vg(o.text);this._tokens.acceptEdit(o.range,s,a),(t=this._debugBackgroundTokens)===null||t===void 0||t.acceptEdit(o.range,s,a)}(i=this._debugBackgroundStates)===null||i===void 0||i.acceptChanges(e.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(e.changes),(r=this._defaultBackgroundTokenizer)===null||r===void 0||r.handleChanges()}}setTokens(e){const{changes:t}=this._tokens.setMultilineTokens(e,this._textModel);return t.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:t}),{changes:t}}refreshAllVisibleLineTokens(){const e=Ft.joinMany([...this._attachedViewStates].map(([t,i])=>i.lineRanges));this.refreshRanges(e)}refreshRanges(e){for(const t of e)this.refreshRange(t.startLineNumber,t.endLineNumberExclusive-1)}refreshRange(e,t){var i,r;if(!this._tokenizer)return;e=Math.max(1,Math.min(this._textModel.getLineCount(),e)),t=Math.min(this._textModel.getLineCount(),t);const o=new p3,{heuristicTokens:s}=this._tokenizer.tokenizeHeuristically(o,e,t),a=this.setTokens(o.finalize());if(s)for(const l of a.changes)(i=this._backgroundTokenizer.value)===null||i===void 0||i.requestTokens(l.fromLineNumber,l.toLineNumber+1);(r=this._defaultBackgroundTokenizer)===null||r===void 0||r.checkFinished()}forceTokenization(e){var t,i;const r=new p3;(t=this._tokenizer)===null||t===void 0||t.updateTokensUntilLine(r,e),this.setTokens(r.finalize()),(i=this._defaultBackgroundTokenizer)===null||i===void 0||i.checkFinished()}isCheapToTokenize(e){return this._tokenizer?this._tokenizer.isCheapToTokenize(e):!0}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}getLineTokens(e){var t;const i=this._textModel.getLineContent(e),r=this._tokens.getTokens(this._textModel.getLanguageId(),e-1,i);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>e&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>e){const o=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),e-1,i);!r.equals(o)&&(!((t=this._debugBackgroundTokenizer.value)===null||t===void 0)&&t.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(e)}return r}getTokenTypeIfInsertingCharacter(e,t,i){if(!this._tokenizer)return 0;const r=this._textModel.validatePosition(new re(e,t));return this.forceTokenization(r.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(r,i)}tokenizeLineWithEdit(e,t,i){if(!this._tokenizer)return null;const r=this._textModel.validatePosition(e);return this.forceTokenization(r.lineNumber),this._tokenizer.tokenizeLineWithEdit(r,t,i)}get hasTokens(){return this._tokens.hasTokens}}class tAe extends ce{get lineRanges(){return this._lineRanges}constructor(e){super(),this._refreshTokens=e,this.runner=this._register(new ki(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){vn(this._computedLineRanges,this._lineRanges,(e,t)=>e.equals(t))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(e){this._lineRanges=e.visibleLineRanges,e.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}class iAe{constructor(){this.changeType=1}}class Gc{static applyInjectedText(e,t){if(!t||t.length===0)return e;let i="",r=0;for(const o of t)i+=e.substring(r,o.column-1),r=o.column-1,i+=o.options.content;return i+=e.substring(r),i}static fromDecorations(e){const t=[];for(const i of e)i.options.before&&i.options.before.content.length>0&&t.push(new Gc(i.ownerId,i.range.startLineNumber,i.range.startColumn,i.options.before,0)),i.options.after&&i.options.after.content.length>0&&t.push(new Gc(i.ownerId,i.range.endLineNumber,i.range.endColumn,i.options.after,1));return t.sort((i,r)=>i.lineNumber===r.lineNumber?i.column===r.column?i.order-r.order:i.column-r.column:i.lineNumber-r.lineNumber),t}constructor(e,t,i,r,o){this.ownerId=e,this.lineNumber=t,this.column=i,this.options=r,this.order=o}}class PG{constructor(e,t,i){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=i}}class nAe{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class rAe{constructor(e,t,i,r){this.changeType=4,this.injectedTexts=r,this.fromLineNumber=e,this.toLineNumber=t,this.detail=i}}class oAe{constructor(){this.changeType=5}}class zv{constructor(e,t,i,r){this.changes=e,this.versionId=t,this.isUndoing=i,this.isRedoing=r,this.resultingSelection=null}containsEvent(e){for(let t=0,i=this.changes.length;t<i;t++)if(this.changes[t].changeType===e)return!0;return!1}static merge(e,t){const i=[].concat(e.changes).concat(t.changes),r=t.versionId,o=e.isUndoing||t.isUndoing,s=e.isRedoing||t.isRedoing;return new zv(i,r,o,s)}}class fce{constructor(e){this.changes=e}}class km{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=zv.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),i=km._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new km(t,i)}static _mergeChangeEvents(e,t){const i=[].concat(e.changes).concat(t.changes),r=t.eol,o=t.versionId,s=e.isUndoing||t.isUndoing,a=e.isRedoing||t.isRedoing,l=e.isFlush||t.isFlush,c=e.isEolChange&&t.isEolChange;return{changes:i,eol:r,isEolChange:c,versionId:o,isUndoing:s,isRedoing:a,isFlush:l}}}const nM=zt("undoRedoService");class gce{constructor(e,t){this.resource=e,this.elements=t}}class Rb{constructor(){this.id=Rb._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}Rb._ID=0;Rb.None=new Rb;class Pd{constructor(){this.id=Pd._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}Pd._ID=0;Pd.None=new Pd;var sAe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},eO=function(n,e){return function(t,i){e(t,i,n)}},jp;function aAe(n){const e=new hce;return e.acceptChunk(n),e.finish()}function lAe(n){const e=new hce;let t;for(;typeof(t=n.read())=="string";)e.acceptChunk(t);return e.finish()}function MG(n,e){let t;return typeof n=="string"?t=aAe(n):eEe(n)?t=lAe(n):t=n,t.create(e)}let Ak=0;const cAe=999,dAe=1e4;class uAe{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;const e=[];let t=0,i=0;do{const r=this._source.read();if(r===null)return this._eos=!0,t===0?null:e.join("");if(r.length>0&&(e[t++]=r,i+=r.length),i>=64*1024)return e.join("")}while(!0)}}const bC=()=>{throw new Error("Invalid change accessor")};let cu=jp=class extends ce{static resolveOptions(e,t){if(t.detectIndentation){const i=SG(e,t.tabSize,t.insertSpaces);return new aT({tabSize:i.tabSize,indentSize:"tabSize",insertSpaces:i.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new aT(t)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(e){return this._eventEmitter.slowEvent(t=>e(t.contentChangedEvent))}onDidChangeContentOrInjectedText(e){return Wl(this._eventEmitter.fastEvent(t=>e(t)),this._onDidChangeInjectedText.event(t=>e(t)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(e,t,i,r=null,o,s,a){super(),this._undoRedoService=o,this._languageService=s,this._languageConfigurationService=a,this._onWillDispose=this._register(new ne),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new _Ae(f=>this.handleBeforeFireDecorationsChangedEvent(f))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new ne),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new ne),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new ne),this._eventEmitter=this._register(new vAe),this._languageSelectionListener=this._register(new Lr),this._deltaDecorationCallCnt=0,this._attachedViews=new bAe,Ak++,this.id="$model"+Ak,this.isForSimpleWidget=i.isForSimpleWidget,typeof r>"u"||r===null?this._associatedResource=rt.parse("inmemory://model/"+Ak):this._associatedResource=r,this._attachedEditorCount=0;const{textBuffer:l,disposable:c}=MG(e,i.defaultEOL);this._buffer=l,this._bufferDisposable=c,this._options=jp.resolveOptions(this._buffer,i);const d=typeof t=="string"?t:t.languageId;typeof t!="string"&&(this._languageSelectionListener.value=t.onDidChange(()=>this._setLanguage(t.languageId))),this._bracketPairs=this._register(new hRe(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new g2e(this,this._languageConfigurationService)),this._decorationProvider=this._register(new gRe(this)),this._tokenizationTextModelPart=new hI(this._languageService,this._languageConfigurationService,this,this._bracketPairs,d,this._attachedViews);const u=this._buffer.getLineCount(),h=this._buffer.getValueLengthInRange(new B(1,1,u,this._buffer.getLineLength(u)+1),0);i.largeFileOptimizations?(this._isTooLargeForTokenization=h>jp.LARGE_FILE_SIZE_THRESHOLD||u>jp.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=h>jp.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=h>jp._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=Yse(Ak),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new RG,this._commandManager=new Q6(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(d)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const e=new Hv([],"",`
`,!1,!1,!0,!0);e.dispose(),this._buffer=e,this._bufferDisposable=ce.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(e,t){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(t),this._bracketPairs.handleDidChangeContent(t),this._eventEmitter.fire(new km(e,t)))}setValue(e){if(this._assertNotDisposed(),e==null)throw Qa();const{textBuffer:t,disposable:i}=MG(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,i)}_createContentChanged2(e,t,i,r,o,s,a,l){return{changes:[{range:e,rangeOffset:t,rangeLength:i,text:r}],eol:this._buffer.getEOL(),isEolChange:l,versionId:this.getVersionId(),isUndoing:o,isRedoing:s,isFlush:a}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const i=this.getFullModelRange(),r=this.getValueLengthInRange(i),o=this.getLineCount(),s=this.getLineMaxColumn(o);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new RG,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new zv([new iAe],this._versionId,!1,!1),this._createContentChanged2(new B(1,1,o,s),0,r,this.getValue(),!1,!1,!0,!1))}setEOL(e){this._assertNotDisposed();const t=e===1?`\r
`:`
`;if(this._buffer.getEOL()===t)return;const i=this.getFullModelRange(),r=this.getValueLengthInRange(i),o=this.getLineCount(),s=this.getLineMaxColumn(o);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new zv([new oAe],this._versionId,!1,!1),this._createContentChanged2(new B(1,1,o,s),0,r,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let i=0,r=t.length;i<r;i++){const o=t[i],s=o.range,a=o.cachedAbsoluteStart-o.start,l=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),c=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);o.cachedAbsoluteStart=l,o.cachedAbsoluteEnd=c,o.cachedVersionId=e,o.start=l-a,o.end=c-a,zg(o)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(e){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(e)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const i=this._buffer.getLineCount();for(let r=1;r<=i;r++){const o=this._buffer.getLineLength(r);o>=dAe?t+=o:e+=o}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();const t=typeof e.tabSize<"u"?e.tabSize:this._options.tabSize,i=typeof e.indentSize<"u"?e.indentSize:this._options.originalIndentSize,r=typeof e.insertSpaces<"u"?e.insertSpaces:this._options.insertSpaces,o=typeof e.trimAutoWhitespace<"u"?e.trimAutoWhitespace:this._options.trimAutoWhitespace,s=typeof e.bracketColorizationOptions<"u"?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions,a=new aT({tabSize:t,indentSize:i,insertSpaces:r,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:o,bracketPairColorizationOptions:s});if(this._options.equals(a))return;const l=this._options.createChangeEvent(a);this._options=a,this._bracketPairs.handleDidChangeOptions(l),this._decorationProvider.handleDidChangeOptions(l),this._onDidChangeOptions.fire(l)}detectIndentation(e,t){this._assertNotDisposed();const i=SG(this._buffer,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}normalizeIndentation(e){return this._assertNotDisposed(),rI(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(Gse.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map(i=>({range:i.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();const t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();const t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new Xi("Operation would exceed heap memory limits");const i=this.getFullModelRange(),r=this.getValueInRange(i,e);return t?this._buffer.getBOM()+r:r}createSnapshot(e=!1){return new uAe(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),r=this.getValueLengthInRange(i,e);return t?this._buffer.getBOM().length+r:r}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Xi("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Xi("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new Xi("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Xi("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Xi("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Xi("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),i=e.startLineNumber,r=e.startColumn;let o=Math.floor(typeof i=="number"&&!isNaN(i)?i:1),s=Math.floor(typeof r=="number"&&!isNaN(r)?r:1);if(o<1)o=1,s=1;else if(o>t)o=t,s=this.getLineMaxColumn(o);else if(s<=1)s=1;else{const u=this.getLineMaxColumn(o);s>=u&&(s=u)}const a=e.endLineNumber,l=e.endColumn;let c=Math.floor(typeof a=="number"&&!isNaN(a)?a:1),d=Math.floor(typeof l=="number"&&!isNaN(l)?l:1);if(c<1)c=1,d=1;else if(c>t)c=t,d=this.getLineMaxColumn(c);else if(d<=1)d=1;else{const u=this.getLineMaxColumn(c);d>=u&&(d=u)}return i===o&&r===s&&a===c&&l===d&&e instanceof B&&!(e instanceof Ke)?e:new B(o,s,c,d)}_isValidPosition(e,t,i){if(typeof e!="number"||typeof t!="number"||isNaN(e)||isNaN(t)||e<1||t<1||(e|0)!==e||(t|0)!==t)return!1;const r=this._buffer.getLineCount();if(e>r)return!1;if(t===1)return!0;const o=this.getLineMaxColumn(e);if(t>o)return!1;if(i===1){const s=this._buffer.getLineCharCode(e,t-2);if(cr(s))return!1}return!0}_validatePosition(e,t,i){const r=Math.floor(typeof e=="number"&&!isNaN(e)?e:1),o=Math.floor(typeof t=="number"&&!isNaN(t)?t:1),s=this._buffer.getLineCount();if(r<1)return new re(1,1);if(r>s)return new re(s,this.getLineMaxColumn(s));if(o<=1)return new re(r,1);const a=this.getLineMaxColumn(r);if(o>=a)return new re(r,a);if(i===1){const l=this._buffer.getLineCharCode(r,o-2);if(cr(l))return new re(r,o-1)}return new re(r,o)}validatePosition(e){return this._assertNotDisposed(),e instanceof re&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const i=e.startLineNumber,r=e.startColumn,o=e.endLineNumber,s=e.endColumn;if(!this._isValidPosition(i,r,0)||!this._isValidPosition(o,s,0))return!1;if(t===1){const a=r>1?this._buffer.getLineCharCode(i,r-2):0,l=s>1&&s<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,s-2):0,c=cr(a),d=cr(l);return!c&&!d}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof B&&!(e instanceof Ke)&&this._isValidRange(e,1))return e;const i=this._validatePosition(e.startLineNumber,e.startColumn,0),r=this._validatePosition(e.endLineNumber,e.endColumn,0),o=i.lineNumber,s=i.column,a=r.lineNumber,l=r.column;{const c=s>1?this._buffer.getLineCharCode(o,s-2):0,d=l>1&&l<=this._buffer.getLineLength(a)?this._buffer.getLineCharCode(a,l-2):0,u=cr(c),h=cr(d);return!u&&!h?new B(o,s,a,l):o===a&&s===l?new B(o,s-1,a,l-1):u&&h?new B(o,s-1,a,l+1):u?new B(o,s-1,a,l):new B(o,s,a,l+1)}}modifyPosition(e,t){this._assertNotDisposed();const i=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new B(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,i,r){return this._buffer.findMatchesLineByLine(e,t,i,r)}findMatches(e,t,i,r,o,s,a=cAe){this._assertNotDisposed();let l=null;t!==null&&(Array.isArray(t)||(t=[t]),t.every(u=>B.isIRange(u))&&(l=t.map(u=>this.validateRange(u)))),l===null&&(l=[this.getFullModelRange()]),l=l.sort((u,h)=>u.startLineNumber-h.startLineNumber||u.startColumn-h.startColumn);const c=[];c.push(l.reduce((u,h)=>B.areIntersecting(u,h)?u.plusRange(h):(c.push(u),h)));let d;if(!i&&e.indexOf(`
`)<0){const h=new zp(e,i,r,o).parseSearchRequest();if(!h)return[];d=f=>this.findMatchesLineByLine(f,h,s,a)}else d=u=>vk.findMatches(this,new zp(e,i,r,o),u,s,a);return c.map(d).reduce((u,h)=>u.concat(h),[])}findNextMatch(e,t,i,r,o,s){this._assertNotDisposed();const a=this.validatePosition(t);if(!i&&e.indexOf(`
`)<0){const c=new zp(e,i,r,o).parseSearchRequest();if(!c)return null;const d=this.getLineCount();let u=new B(a.lineNumber,a.column,d,this.getLineMaxColumn(d)),h=this.findMatchesLineByLine(u,c,s,1);return vk.findNextMatch(this,new zp(e,i,r,o),a,s),h.length>0||(u=new B(1,1,a.lineNumber,this.getLineMaxColumn(a.lineNumber)),h=this.findMatchesLineByLine(u,c,s,1),h.length>0)?h[0]:null}return vk.findNextMatch(this,new zp(e,i,r,o),a,s)}findPreviousMatch(e,t,i,r,o,s){this._assertNotDisposed();const a=this.validatePosition(t);return vk.findPreviousMatch(this,new zp(e,i,r,o),a,s)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if((this.getEOL()===`
`?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof RA?e:new RA(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let i=0,r=e.length;i<r;i++)t[i]=this._validateEditOperation(e[i]);return t}pushEditOperations(e,t,i,r){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),i,r)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,i,r){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const o=t.map(a=>({range:this.validateRange(a.range),text:a.text}));let s=!0;if(e)for(let a=0,l=e.length;a<l;a++){const c=e[a];let d=!1;for(let u=0,h=o.length;u<h;u++){const f=o[u].range,g=f.startLineNumber>c.endLineNumber,_=c.startLineNumber>f.endLineNumber;if(!g&&!_){d=!0;break}}if(!d){s=!1;break}}if(s)for(let a=0,l=this._trimAutoWhitespaceLines.length;a<l;a++){const c=this._trimAutoWhitespaceLines[a],d=this.getLineMaxColumn(c);let u=!0;for(let h=0,f=o.length;h<f;h++){const g=o[h].range,_=o[h].text;if(!(c<g.startLineNumber||c>g.endLineNumber)&&!(c===g.startLineNumber&&g.startColumn===d&&g.isEmpty()&&_&&_.length>0&&_.charAt(0)===`
`)&&!(c===g.startLineNumber&&g.startColumn===1&&g.isEmpty()&&_&&_.length>0&&_.charAt(_.length-1)===`
`)){u=!1;break}}if(u){const h=new B(c,1,c,d);t.push(new RA(null,h,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,i,r)}_applyUndo(e,t,i,r){const o=e.map(s=>{const a=this.getPositionAt(s.newPosition),l=this.getPositionAt(s.newEnd);return{range:new B(a.lineNumber,a.column,l.lineNumber,l.column),text:s.oldText}});this._applyUndoRedoEdits(o,t,!0,!1,i,r)}_applyRedo(e,t,i,r){const o=e.map(s=>{const a=this.getPositionAt(s.oldPosition),l=this.getPositionAt(s.oldEnd);return{range:new B(a.lineNumber,a.column,l.lineNumber,l.column),text:s.newText}});this._applyUndoRedoEdits(o,t,!1,!0,i,r)}_applyUndoRedoEdits(e,t,i,r,o,s){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=r,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(o)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(s),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const i=this._validateEditOperations(e);return this._doApplyEdits(i,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const i=this._buffer.getLineCount(),r=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),o=this._buffer.getLineCount(),s=r.changes;if(this._trimAutoWhitespaceLines=r.trimAutoWhitespaceLineNumbers,s.length!==0){for(let c=0,d=s.length;c<d;c++){const u=s[c];this._decorationsTree.acceptReplace(u.rangeOffset,u.rangeLength,u.text.length,u.forceMoveMarkers)}const a=[];this._increaseVersionId();let l=i;for(let c=0,d=s.length;c<d;c++){const u=s[c],[h]=Vg(u.text);this._onDidChangeDecorations.fire();const f=u.range.startLineNumber,g=u.range.endLineNumber,_=g-f,y=h,m=Math.min(_,y),p=y-_,v=o-l-p+f,b=v,C=v+y,S=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new re(b,1)),this.getOffsetAt(new re(C,this.getLineMaxColumn(C))),0),x=Gc.fromDecorations(S),k=new Dh(x);for(let D=m;D>=0;D--){const E=f+D,I=v+D;k.takeFromEndWhile(R=>R.lineNumber>I);const N=k.takeFromEndWhile(R=>R.lineNumber===I);a.push(new PG(E,this.getLineContent(I),N))}if(m<_){const D=f+m;a.push(new nAe(D+1,g))}if(m<y){const D=new Dh(x),E=f+m,I=y-m,N=o-l-I+E+1,R=[],O=[];for(let W=0;W<I;W++){const K=N+W;O[W]=this.getLineContent(K),D.takeWhile(Q=>Q.lineNumber<K),R[W]=D.takeWhile(Q=>Q.lineNumber===K)}a.push(new rAe(E+1,f+y,O,R))}l+=p}this._emitContentChangedEvent(new zv(a,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:s,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return r.reverseEdits===null?void 0:r.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(e===null||e.size===0)return;const i=Array.from(e).map(r=>new PG(r,this.getLineContent(r),this._getInjectedTextInLine(r)));this._onDidChangeInjectedText.fire(new fce(i))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){const i={addDecoration:(o,s)=>this._deltaDecorationsImpl(e,[],[{range:o,options:s}])[0],changeDecoration:(o,s)=>{this._changeDecorationImpl(o,s)},changeDecorationOptions:(o,s)=>{this._changeDecorationOptionsImpl(o,OG(s))},removeDecoration:o=>{this._deltaDecorationsImpl(e,[o],[])},deltaDecorations:(o,s)=>o.length===0&&s.length===0?[]:this._deltaDecorationsImpl(e,o,s)};let r=null;try{r=t(i)}catch(o){St(o)}return i.addDecoration=bC,i.changeDecoration=bC,i.changeDecorationOptions=bC,i.removeDecoration=bC,i.deltaDecorations=bC,r}deltaDecorations(e,t,i=0){if(this._assertNotDisposed(),e||(e=[]),e.length===0&&t.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),St(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,i){const r=e?this._decorations[e]:null;if(!r)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:AG[i]}],!0)[0]:null;if(!t)return this._decorationsTree.delete(r),delete this._decorations[r.id],null;const o=this._validateRangeRelaxedNoAllocations(t),s=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),a=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);return this._decorationsTree.delete(r),r.reset(this.getVersionId(),s,a,o),r.setOptions(AG[i]),this._decorationsTree.insert(r),r.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let i=0,r=t.length;i<r;i++){const o=t[i];this._decorationsTree.delete(o),delete this._decorations[o.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,i=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)}getLinesDecorations(e,t,i=0,r=!1,o=!1){const s=this.getLineCount(),a=Math.min(s,Math.max(1,e)),l=Math.min(s,Math.max(1,t)),c=this.getLineMaxColumn(l),d=new B(a,1,l,c),u=this._getDecorationsInRange(d,i,r,o);return L4(u,this._decorationProvider.getDecorationsInRange(d,i,r)),u}getDecorationsInRange(e,t=0,i=!1,r=!1,o=!1){const s=this.validateRange(e),a=this._getDecorationsInRange(s,t,i,o);return L4(a,this._decorationProvider.getDecorationsInRange(s,t,i,r)),a}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0,!1)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){const t=this._buffer.getOffsetAt(e,1),i=t+this._buffer.getLineLength(e),r=this._decorationsTree.getInjectedTextInInterval(this,t,i,0);return Gc.fromDecorations(r).filter(o=>o.lineNumber===e)}getAllDecorations(e=0,t=!1){let i=this._decorationsTree.getAll(this,e,t,!1,!1);return i=i.concat(this._decorationProvider.getAllDecorations(e,t)),i}getAllMarginDecorations(e=0){return this._decorationsTree.getAll(this,e,!1,!1,!0)}_getDecorationsInRange(e,t,i,r){const o=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),s=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,o,s,t,i,r)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const i=this._decorations[e];if(!i)return;if(i.options.after){const a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.endLineNumber)}if(i.options.before){const a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.startLineNumber)}const r=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),s=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),o,s,r),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options),i.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.endLineNumber),i.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.startLineNumber)}_changeDecorationOptionsImpl(e,t){const i=this._decorations[e];if(!i)return;const r=!!(i.options.overviewRuler&&i.options.overviewRuler.color),o=!!(t.overviewRuler&&t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(t),i.options.after||t.after){const l=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(l.endLineNumber)}if(i.options.before||t.before){const l=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(l.startLineNumber)}const s=r!==o,a=fAe(t)!==mT(i);s||a?(this._decorationsTree.delete(i),i.setOptions(t),this._decorationsTree.insert(i)):i.setOptions(t)}_deltaDecorationsImpl(e,t,i,r=!1){const o=this.getVersionId(),s=t.length;let a=0;const l=i.length;let c=0;this._onDidChangeDecorations.beginDeferredEmit();try{const d=new Array(l);for(;a<s||c<l;){let u=null;if(a<s){do u=this._decorations[t[a++]];while(!u&&a<s);if(u){if(u.options.after){const h=this._decorationsTree.getNodeRange(this,u);this._onDidChangeDecorations.recordLineAffectedByInjectedText(h.endLineNumber)}if(u.options.before){const h=this._decorationsTree.getNodeRange(this,u);this._onDidChangeDecorations.recordLineAffectedByInjectedText(h.startLineNumber)}this._decorationsTree.delete(u),r||this._onDidChangeDecorations.checkAffectedAndFire(u.options)}}if(c<l){if(!u){const m=++this._lastDecorationId,p=`${this._instanceId};${m}`;u=new lce(p,0,0),this._decorations[p]=u}const h=i[c],f=this._validateRangeRelaxedNoAllocations(h.range),g=OG(h.options),_=this._buffer.getOffsetAt(f.startLineNumber,f.startColumn),y=this._buffer.getOffsetAt(f.endLineNumber,f.endColumn);u.ownerId=e,u.reset(o,_,y,f),u.setOptions(g),u.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(f.endLineNumber),u.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(f.startLineNumber),r||this._onDidChangeDecorations.checkAffectedAndFire(g),this._decorationsTree.insert(u),d[c]=u.id,c++}else u&&delete this._decorations[u.id]}return d}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(e,t){typeof e=="string"?(this._languageSelectionListener.clear(),this._setLanguage(e,t)):(this._languageSelectionListener.value=e.onDidChange(()=>this._setLanguage(e.languageId,t)),this._setLanguage(e.languageId,t))}_setLanguage(e,t){this.tokenization.setLanguageId(e,t),this._languageService.requestRichLanguageFeatures(e)}getLanguageIdAtPosition(e,t){return this.tokenization.getLanguageIdAtPosition(e,t)}getWordAtPosition(e){return this._tokenizationTextModelPart.getWordAtPosition(e)}getWordUntilPosition(e){return this._tokenizationTextModelPart.getWordUntilPosition(e)}normalizePosition(e,t){return e}getLineIndentColumn(e){return hAe(this.getLineContent(e))+1}};cu._MODEL_SYNC_LIMIT=50*1024*1024;cu.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024;cu.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3;cu.LARGE_FILE_HEAP_OPERATION_THRESHOLD=256*1024*1024;cu.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:Jr.tabSize,indentSize:Jr.indentSize,insertSpaces:Jr.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:Jr.trimAutoWhitespace,largeFileOptimizations:Jr.largeFileOptimizations,bracketPairColorizationOptions:Jr.bracketPairColorizationOptions};cu=jp=sAe([eO(4,nM),eO(5,Zi),eO(6,Pi)],cu);function hAe(n){let e=0;for(const t of n)if(t===" "||t==="	")e++;else break;return e}function tO(n){return!!(n.options.overviewRuler&&n.options.overviewRuler.color)}function fAe(n){return!!n.after||!!n.before}function mT(n){return!!n.options.after||!!n.options.before}class RG{constructor(){this._decorationsTree0=new XA,this._decorationsTree1=new XA,this._injectedTextDecorationsTree=new XA}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1,!1)}_ensureNodesHaveRanges(e,t){for(const i of t)i.range===null&&(i.range=e.getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd));return t}getAllInInterval(e,t,i,r,o,s){const a=e.getVersionId(),l=this._intervalSearch(t,i,r,o,a,s);return this._ensureNodesHaveRanges(e,l)}_intervalSearch(e,t,i,r,o,s){const a=this._decorationsTree0.intervalSearch(e,t,i,r,o,s),l=this._decorationsTree1.intervalSearch(e,t,i,r,o,s),c=this._injectedTextDecorationsTree.intervalSearch(e,t,i,r,o,s);return a.concat(l).concat(c)}getInjectedTextInInterval(e,t,i,r){const o=e.getVersionId(),s=this._injectedTextDecorationsTree.intervalSearch(t,i,r,!1,o,!1);return this._ensureNodesHaveRanges(e,s).filter(a=>a.options.showIfCollapsed||!a.range.isEmpty())}getAllInjectedText(e,t){const i=e.getVersionId(),r=this._injectedTextDecorationsTree.search(t,!1,i,!1);return this._ensureNodesHaveRanges(e,r).filter(o=>o.options.showIfCollapsed||!o.range.isEmpty())}getAll(e,t,i,r,o){const s=e.getVersionId(),a=this._search(t,i,r,s,o);return this._ensureNodesHaveRanges(e,a)}_search(e,t,i,r,o){if(i)return this._decorationsTree1.search(e,t,r,o);{const s=this._decorationsTree0.search(e,t,r,o),a=this._decorationsTree1.search(e,t,r,o),l=this._injectedTextDecorationsTree.search(e,t,r,o);return s.concat(a).concat(l)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),i=this._decorationsTree1.collectNodesFromOwner(e),r=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(i).concat(r)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),i=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(i)}insert(e){mT(e)?this._injectedTextDecorationsTree.insert(e):tO(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){mT(e)?this._injectedTextDecorationsTree.delete(e):tO(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){const i=e.getVersionId();return t.cachedVersionId!==i&&this._resolveNode(t,i),t.range===null&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){mT(e)?this._injectedTextDecorationsTree.resolveNode(e,t):tO(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,i,r){this._decorationsTree0.acceptReplace(e,t,i,r),this._decorationsTree1.acceptReplace(e,t,i,r),this._injectedTextDecorationsTree.acceptReplace(e,t,i,r)}}function ud(n){return n.replace(/[^a-z0-9\-_]/gi," ")}class pce{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class gAe extends pce{constructor(e){super(e),this._resolvedColor=null,this.position=typeof e.position=="number"?e.position:ka.Center}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if(typeof e=="string")return e;const i=e?t.getColor(e.id):null;return i?i.toString():""}}class pAe{constructor(e){var t;this.position=(t=e==null?void 0:e.position)!==null&&t!==void 0?t:au.Center,this.persistLane=e==null?void 0:e.persistLane}}class mAe extends pce{constructor(e){super(e),this.position=e.position}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return typeof e=="string"?ue.fromHex(e):t.getColor(e.id)}}class jg{static from(e){return e instanceof jg?e:new jg(e)}constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=e.attachedData||null,this.cursorStops=e.cursorStops||null}}class kt{static register(e){return new kt(e)}static createDynamic(e){return new kt(e)}constructor(e){var t,i,r,o,s,a;this.description=e.description,this.blockClassName=e.blockClassName?ud(e.blockClassName):null,this.blockDoesNotCollapse=(t=e.blockDoesNotCollapse)!==null&&t!==void 0?t:null,this.blockIsAfterEnd=(i=e.blockIsAfterEnd)!==null&&i!==void 0?i:null,this.blockPadding=(r=e.blockPadding)!==null&&r!==void 0?r:null,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?ud(e.className):null,this.shouldFillLineOnLineBreak=(o=e.shouldFillLineOnLineBreak)!==null&&o!==void 0?o:null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=e.lineNumberHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new gAe(e.overviewRuler):null,this.minimap=e.minimap?new mAe(e.minimap):null,this.glyphMargin=e.glyphMarginClassName?new pAe(e.glyphMargin):null,this.glyphMarginClassName=e.glyphMarginClassName?ud(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?ud(e.linesDecorationsClassName):null,this.lineNumberClassName=e.lineNumberClassName?ud(e.lineNumberClassName):null,this.linesDecorationsTooltip=e.linesDecorationsTooltip?HLe(e.linesDecorationsTooltip):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?ud(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?ud(e.marginClassName):null,this.inlineClassName=e.inlineClassName?ud(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?ud(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?ud(e.afterContentClassName):null,this.after=e.after?jg.from(e.after):null,this.before=e.before?jg.from(e.before):null,this.hideInCommentTokens=(s=e.hideInCommentTokens)!==null&&s!==void 0?s:!1,this.hideInStringTokens=(a=e.hideInStringTokens)!==null&&a!==void 0?a:!1}}kt.EMPTY=kt.register({description:"empty"});const AG=[kt.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),kt.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),kt.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),kt.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function OG(n){return n instanceof kt?n:kt.createDynamic(n)}class _Ae extends ce{constructor(e){super(),this.handleBeforeFire=e,this._actual=this._register(new ne),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var e;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(e=this._affectedInjectedTextLines)===null||e===void 0||e.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){var t,i;this._affectsMinimap||(this._affectsMinimap=!!(!((t=e.minimap)===null||t===void 0)&&t.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(!((i=e.overviewRuler)===null||i===void 0)&&i.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!e.glyphMarginClassName),this._affectsLineNumber||(this._affectsLineNumber=!!e.lineNumberClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const e={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(e)}}class vAe extends ce{constructor(){super(),this._fastEmitter=this._register(new ne),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new ne),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e;return}this._fastEmitter.fire(e),this._slowEmitter.fire(e)}}class bAe{constructor(){this._onDidChangeVisibleRanges=new ne,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const e=new yAe(t=>{this._onDidChangeVisibleRanges.fire({view:e,state:t})});return this._views.add(e),e}detachView(e){this._views.delete(e),this._onDidChangeVisibleRanges.fire({view:e,state:void 0})}}class yAe{constructor(e){this.handleStateChange=e}setVisibleLines(e,t){const i=e.map(r=>new Ft(r.startLineNumber,r.endLineNumber+1));this.handleStateChange({visibleLineRanges:i,stabilized:t})}}class fI{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new Ir(new B(1,1,1,1),0,0,new re(1,1),0),new Ir(new B(1,1,1,1),0,0,new re(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new ei(this.modelState,this.viewState)}readSelectionFromMarkers(e){const t=e.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!t.isEmpty()?Ke.fromRange(t.collapseToEnd(),this.modelState.selection.getDirection()):Ke.fromRange(t,this.modelState.selection.getDirection())}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,i){this._setState(e,t,i)}static _validatePositionWithCache(e,t,i,r){return t.equals(i)?r:e.normalizePosition(t,2)}static _validateViewState(e,t){const i=t.position,r=t.selectionStart.getStartPosition(),o=t.selectionStart.getEndPosition(),s=e.normalizePosition(i,2),a=this._validatePositionWithCache(e,r,i,s),l=this._validatePositionWithCache(e,o,r,a);return i.equals(s)&&r.equals(a)&&o.equals(l)?t:new Ir(B.fromPositions(a,l),t.selectionStartKind,t.selectionStartLeftoverVisibleColumns+r.column-a.column,s,t.leftoverVisibleColumns+i.column-s.column)}_setState(e,t,i){if(i&&(i=fI._validateViewState(e.viewModel,i)),t){const r=e.model.validateRange(t.selectionStart),o=t.selectionStart.equalsRange(r)?t.selectionStartLeftoverVisibleColumns:0,s=e.model.validatePosition(t.position),a=t.position.equals(s)?t.leftoverVisibleColumns:0;t=new Ir(r,t.selectionStartKind,o,s,a)}else{if(!i)return;const r=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(i.selectionStart)),o=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(i.position));t=new Ir(r,i.selectionStartKind,i.selectionStartLeftoverVisibleColumns,o,i.leftoverVisibleColumns)}if(i){const r=e.coordinatesConverter.validateViewRange(i.selectionStart,t.selectionStart),o=e.coordinatesConverter.validateViewPosition(i.position,t.position);i=new Ir(r,t.selectionStartKind,t.selectionStartLeftoverVisibleColumns,o,t.leftoverVisibleColumns)}else{const r=e.coordinatesConverter.convertModelPositionToViewPosition(new re(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),o=e.coordinatesConverter.convertModelPositionToViewPosition(new re(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),s=new B(r.lineNumber,r.column,o.lineNumber,o.column),a=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);i=new Ir(s,t.selectionStartKind,t.selectionStartLeftoverVisibleColumns,a,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=i,this._updateTrackedRange(e)}}class FG{constructor(e){this.context=e,this.cursors=[new fI(e)],this.lastAddedCursorIndex=0}dispose(){for(const e of this.cursors)e.dispose(this.context)}startTrackingSelections(){for(const e of this.cursors)e.startTrackingSelection(this.context)}stopTrackingSelections(){for(const e of this.cursors)e.stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){for(const e of this.cursors)e.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(e=>e.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(e=>e.asCursorState())}getViewPositions(){return this.cursors.map(e=>e.viewState.position)}getTopMostViewPosition(){return uEe(this.cursors,Xa(e=>e.viewState.position,re.compare)).viewState.position}getBottomMostViewPosition(){return dEe(this.cursors,Xa(e=>e.viewState.position,re.compare)).viewState.position}getSelections(){return this.cursors.map(e=>e.modelState.selection)}getViewSelections(){return this.cursors.map(e=>e.viewState.selection)}setSelections(e){this.setStates(ei.fromModelSelections(e))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(e){e!==null&&(this.cursors[0].setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const t=this.cursors.length-1,i=e.length;if(t<i){const r=i-t;for(let o=0;o<r;o++)this._addSecondaryCursor()}else if(t>i){const r=t-i;for(let o=0;o<r;o++)this._removeSecondaryCursor(this.cursors.length-2)}for(let r=0;r<i;r++)this.cursors[r+1].setState(this.context,e[r].modelState,e[r].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new fI(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.cursors[e+1].dispose(this.context),this.cursors.splice(e+1,1)}normalize(){if(this.cursors.length===1)return;const e=this.cursors.slice(0),t=[];for(let i=0,r=e.length;i<r;i++)t.push({index:i,selection:e[i].modelState.selection});t.sort(Xa(i=>i.selection,B.compareRangesUsingStarts));for(let i=0;i<t.length-1;i++){const r=t[i],o=t[i+1],s=r.selection,a=o.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let l;if(a.isEmpty()||s.isEmpty()?l=a.getStartPosition().isBeforeOrEqual(s.getEndPosition()):l=a.getStartPosition().isBefore(s.getEndPosition()),l){const c=r.index<o.index?i:i+1,d=r.index<o.index?i+1:i,u=t[d].index,h=t[c].index,f=t[d].selection,g=t[c].selection;if(!f.equalsSelection(g)){const _=f.plusRange(g),y=f.selectionStartLineNumber===f.startLineNumber&&f.selectionStartColumn===f.startColumn,m=g.selectionStartLineNumber===g.startLineNumber&&g.selectionStartColumn===g.startColumn;let p;u===this.lastAddedCursorIndex?(p=y,this.lastAddedCursorIndex=h):p=m;let v;p?v=new Ke(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn):v=new Ke(_.endLineNumber,_.endColumn,_.startLineNumber,_.startColumn),t[c].selection=v;const b=ei.fromModelSelection(v);e[h].setState(this.context,b.modelState,b.viewState)}for(const _ of t)_.index>u&&_.index--;e.splice(u,1),t.splice(d,1),this._removeSecondaryCursor(u-1),i--}}}}class BG{constructor(e,t,i,r){this._cursorContextBrand=void 0,this.model=e,this.viewModel=t,this.coordinatesConverter=i,this.cursorConfig=r}}class CAe{constructor(){this.type=0}}class wAe{constructor(){this.type=1}}class SAe{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class xAe{constructor(e,t,i){this.selections=e,this.modelSelections=t,this.reason=i,this.type=3}}class Tp{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler,this.affectsGlyphMargin=e.affectsGlyphMargin,this.affectsLineNumber=e.affectsLineNumber):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0,this.affectsLineNumber=!0)}}class Ok{constructor(){this.type=5}}class LAe{constructor(e){this.type=6,this.isFocused=e}}class kAe{constructor(){this.type=7}}class Fk{constructor(){this.type=8}}class mce{constructor(e,t){this.fromLineNumber=e,this.count=t,this.type=9}}class _3{constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}}class v3{constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}}class _T{constructor(e,t,i,r,o,s,a){this.source=e,this.minimalReveal=t,this.range=i,this.selections=r,this.verticalType=o,this.revealHorizontal=s,this.scrollType=a,this.type=12}}class DAe{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class TAe{constructor(e){this.theme=e,this.type=14}}class EAe{constructor(e){this.type=15,this.ranges=e}}class IAe{constructor(){this.type=16}}let NAe=class{constructor(){this.type=17}};class PAe extends ce{constructor(){super(),this._onEvent=this._register(new ne),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let t=0,i=this._outgoingEvents.length;t<i;t++){const r=this._outgoingEvents[t].kind===e.kind?this._outgoingEvents[t].attemptToMerge(e):null;if(r){this._outgoingEvents[t]=r;return}}this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,i=this._eventHandlers.length;t<i;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new MAe),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const i of e)this._addOutgoingEvent(i);t.length>0&&this._emitMany(t)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const t=this._eventHandlers.slice(0);for(const i of t)i.handleEvents(e)}}}class MAe{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class nV{constructor(e,t,i,r){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=i,this.contentHeight=r,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(e){return e.kind!==this.kind?null:new nV(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class rV{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(e){return e.kind!==this.kind?null:new rV(this.oldHasFocus,e.hasFocus)}}class oV{constructor(e,t,i,r,o,s,a,l){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=i,this._oldScrollTop=r,this.scrollWidth=o,this.scrollLeft=s,this.scrollHeight=a,this.scrollTop=l,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(e){return e.kind!==this.kind?null:new oV(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class RAe{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class AAe{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class gI{constructor(e,t,i,r,o,s,a){this.kind=6,this.oldSelections=e,this.selections=t,this.oldModelVersionId=i,this.modelVersionId=r,this.source=o,this.reason=s,this.reachedMaxCursorCount=a}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const i=e.length,r=t.length;if(i!==r)return!1;for(let o=0;o<i;o++)if(!e[o].equalsSelection(t[o]))return!1;return!0}isNoOp(){return gI._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(e){return e.kind!==this.kind?null:new gI(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class OAe{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class FAe{constructor(e){this.event=e,this.kind=7}isNoOp(){return!1}attemptToMerge(e){return null}}class BAe{constructor(e){this.event=e,this.kind=8}isNoOp(){return!1}attemptToMerge(e){return null}}class WAe{constructor(e){this.event=e,this.kind=9}isNoOp(){return!1}attemptToMerge(e){return null}}class VAe{constructor(e){this.event=e,this.kind=10}isNoOp(){return!1}attemptToMerge(e){return null}}class HAe{constructor(e){this.event=e,this.kind=11}isNoOp(){return!1}attemptToMerge(e){return null}}class zAe{constructor(e){this.event=e,this.kind=12}isNoOp(){return!1}attemptToMerge(e){return null}}class jAe extends ce{constructor(e,t,i,r){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=i,this.context=new BG(this._model,this._viewModel,this._coordinatesConverter,r),this._cursors=new FG(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=vi(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new BG(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const i=this._autoClosedActions[t];i.isValid(e)||(i.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,i,r){let o=!1;const s=this.context.cursorConfig.multiCursorLimit;r!==null&&r.length>s&&(r=r.slice(0,s),o=!0);const a=jw.from(this._model,this);return this._cursors.setStates(r),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,i,a,o)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,t,i,r,o,s){const a=this._cursors.getViewPositions();let l=null,c=null;a.length>1?c=this._cursors.getViewSelections():l=B.fromPositions(a[0],a[0]),e.emitViewEvent(new _T(t,i,l,c,r,o,s))}saveState(){const e=[],t=this._cursors.getSelections();for(let i=0,r=t.length;i<r;i++){const o=t[i];e.push({inSelectionMode:!o.isEmpty(),selectionStart:{lineNumber:o.selectionStartLineNumber,column:o.selectionStartColumn},position:{lineNumber:o.positionLineNumber,column:o.positionColumn}})}return e}restoreState(e,t){const i=[];for(let r=0,o=t.length;r<o;r++){const s=t[r];let a=1,l=1;s.position&&s.position.lineNumber&&(a=s.position.lineNumber),s.position&&s.position.column&&(l=s.position.column);let c=a,d=l;s.selectionStart&&s.selectionStart.lineNumber&&(c=s.selectionStart.lineNumber),s.selectionStart&&s.selectionStart.column&&(d=s.selectionStart.column),i.push({selectionStartLineNumber:c,selectionStartColumn:d,positionLineNumber:a,positionColumn:l})}this.setStates(e,"restoreState",0,ei.fromModelSelections(i)),this.revealPrimary(e,"restoreState",!1,0,!0,1)}onModelContentChanged(e,t){if(t instanceof fce){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const i=t.rawContentChangedEvent;if(this._knownModelVersionId=i.versionId,this._isHandling)return;const r=i.containsEvent(1);if(this._prevEditOperationType=0,r)this._cursors.dispose(),this._cursors=new FG(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&i.resultingSelection&&i.resultingSelection.length>0){const o=ei.fromModelSelections(i.resultingSelection);this.setStates(e,"modelChange",i.isUndoing?5:i.isRedoing?6:2,o)&&this.revealPrimary(e,"modelChange",!1,0,!0,0)}else{const o=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,ei.fromModelSelections(o))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),i=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,t),toViewLineNumber:i.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,i)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,i,r){this.setStates(e,t,r,ei.fromModelSelections(i))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){const i=[],r=[];for(let a=0,l=e.length;a<l;a++)i.push({range:e[a],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),r.push({range:t[a],options:{description:"auto-closed-enclosing",stickiness:1}});const o=this._model.deltaDecorations([],i),s=this._model.deltaDecorations([],r);this._autoClosedActions.push(new WG(this._model,o,s))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const t=UAe.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);const i=[],r=[];for(let o=0;o<e.commands.length;o++){const s=e.commands[o];s instanceof Wle&&s.enclosingRange&&s.closeCharacterRange&&(i.push(s.closeCharacterRange),r.push(s.enclosingRange))}i.length>0&&this._pushAutoClosedAction(i,r),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){(!e||e.length===0)&&(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,i,r,o){const s=jw.from(this._model,this);if(s.equals(r))return!1;const a=this._cursors.getSelections(),l=this._cursors.getViewSelections();if(e.emitViewEvent(new xAe(l,a,i)),!r||r.cursorState.length!==s.cursorState.length||s.cursorState.some((c,d)=>!c.modelState.equals(r.cursorState[d].modelState))){const c=r?r.cursorState.map(u=>u.modelState.selection):null,d=r?r.modelVersionId:0;e.emitOutgoingEvent(new gI(c,a,d,s.modelVersionId,t||"keyboard",i,o))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;const t=[];for(let i=0,r=e.length;i<r;i++){const o=e[i];if(!o.text||o.text.indexOf(`
`)>=0)return null;const s=o.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!s)return null;const a=s[1],l=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(a);if(!l||l.length!==1)return null;const c=l[0].open,d=o.text.length-s[2].length-1,u=o.text.lastIndexOf(c,d-1);if(u===-1)return null;t.push([u,d])}return t}executeEdits(e,t,i,r){let o=null;t==="snippet"&&(o=this._findAutoClosingPairs(i)),o&&(i[0]._isTracked=!0);const s=[],a=[],l=this._model.pushEditOperations(this.getSelections(),i,c=>{if(o)for(let u=0,h=o.length;u<h;u++){const[f,g]=o[u],_=c[u],y=_.range.startLineNumber,m=_.range.startColumn-1+f,p=_.range.startColumn-1+g;s.push(new B(y,p+1,y,p+2)),a.push(new B(y,m+1,y,p+2))}const d=r(c);return d&&(this._isHandling=!0),d});l&&(this._isHandling=!1,this.setSelections(e,t,l,0)),s.length>0&&this._pushAutoClosedAction(s,a)}_executeEdit(e,t,i,r=0){if(this.context.cursorConfig.readOnly)return;const o=jw.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(s){St(s)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,i,r,o,!1)&&this.revealPrimary(t,i,!1,0,!0,0)}getAutoClosedCharacters(){return WG.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._compositionState=new Uw(this._model,this.getSelections())}endComposition(e,t){const i=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{t==="keyboard"&&this._executeEditOperation(en.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,i,this.getSelections(),this.getAutoClosedCharacters()))},e,t)}type(e,t,i){this._executeEdit(()=>{if(i==="keyboard"){const r=t.length;let o=0;for(;o<r;){const s=n6(t,o),a=t.substr(o,s);this._executeEditOperation(en.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),a)),o+=s}}else this._executeEditOperation(en.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))},e,i)}compositionType(e,t,i,r,o,s){if(t.length===0&&i===0&&r===0){if(o!==0){const a=this.getSelections().map(l=>{const c=l.getPosition();return new Ke(c.lineNumber,c.column+o,c.lineNumber,c.column+o)});this.setSelections(e,s,a,0)}return}this._executeEdit(()=>{this._executeEditOperation(en.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,i,r,o))},e,s)}paste(e,t,i,r,o){this._executeEdit(()=>{this._executeEditOperation(en.paste(this.context.cursorConfig,this._model,this.getSelections(),t,i,r||[]))},e,o,4)}cut(e,t){this._executeEdit(()=>{this._executeEditOperation(Ym.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,t)}executeCommand(e,t,i){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new ns(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}executeCommands(e,t,i){this._executeEdit(()=>{this._executeEditOperation(new ns(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}}class jw{static from(e,t){return new jw(e.getVersionId(),t.getCursorStates())}constructor(e,t){this.modelVersionId=e,this.cursorState=t}equals(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,i=this.cursorState.length;t<i;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class WG{static getAllAutoClosedCharacters(e){let t=[];for(const i of e)t=t.concat(i.getAutoClosedCharactersRanges());return t}constructor(e,t,i){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=i}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const i=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);i&&e.push(i)}return e}isValid(e){const t=[];for(let i=0;i<this._autoClosedEnclosingDecorations.length;i++){const r=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[i]);if(r&&(t.push(r),r.startLineNumber!==r.endLineNumber))return!1}t.sort(B.compareRangesUsingStarts),e.sort(B.compareRangesUsingStarts);for(let i=0;i<e.length;i++)if(i>=t.length||!t[i].strictContainsRange(e[i]))return!1;return!0}}class UAe{static executeCommands(e,t,i){const r={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},o=this._innerExecuteCommands(r,i);for(let s=0,a=r.trackedRanges.length;s<a;s++)r.model._setTrackedRange(r.trackedRanges[s],null,0);return o}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;const i=this._getEditOperations(e,t);if(i.operations.length===0)return null;const r=i.operations,o=this._getLoserCursorMap(r);if(o.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const s=[];for(let c=0,d=r.length;c<d;c++)o.hasOwnProperty(r[c].identifier.major.toString())||s.push(r[c]);i.hadTrackedEditOperation&&s.length>0&&(s[0]._isTracked=!0);let a=e.model.pushEditOperations(e.selectionsBefore,s,c=>{const d=[];for(let f=0;f<e.selectionsBefore.length;f++)d[f]=[];for(const f of c)f.identifier&&d[f.identifier.major].push(f);const u=(f,g)=>f.identifier.minor-g.identifier.minor,h=[];for(let f=0;f<e.selectionsBefore.length;f++)d[f].length>0?(d[f].sort(u),h[f]=t[f].computeCursorState(e.model,{getInverseEditOperations:()=>d[f],getTrackedSelection:g=>{const _=parseInt(g,10),y=e.model._getTrackedRange(e.trackedRanges[_]);return e.trackedRangesDirection[_]===0?new Ke(y.startLineNumber,y.startColumn,y.endLineNumber,y.endColumn):new Ke(y.endLineNumber,y.endColumn,y.startLineNumber,y.startColumn)}})):h[f]=e.selectionsBefore[f];return h});a||(a=e.selectionsBefore);const l=[];for(const c in o)o.hasOwnProperty(c)&&l.push(parseInt(c,10));l.sort((c,d)=>d-c);for(const c of l)a.splice(c,1);return a}static _arrayIsEmpty(e){for(let t=0,i=e.length;t<i;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let i=[],r=!1;for(let o=0,s=t.length;o<s;o++){const a=t[o];if(a){const l=this._getEditOperationsFromCommand(e,o,a);i=i.concat(l.operations),r=r||l.hadTrackedEditOperation}}return{operations:i,hadTrackedEditOperation:r}}static _getEditOperationsFromCommand(e,t,i){const r=[];let o=0;const s=(u,h,f=!1)=>{B.isEmpty(u)&&h===""||r.push({identifier:{major:t,minor:o++},range:u,text:h,forceMoveMarkers:f,isAutoWhitespaceEdit:i.insertsAutoWhitespace})};let a=!1;const d={addEditOperation:s,addTrackedEditOperation:(u,h,f)=>{a=!0,s(u,h,f)},trackSelection:(u,h)=>{const f=Ke.liftSelection(u);let g;if(f.isEmpty())if(typeof h=="boolean")h?g=2:g=3;else{const m=e.model.getLineMaxColumn(f.startLineNumber);f.startColumn===m?g=2:g=3}else g=1;const _=e.trackedRanges.length,y=e.model._setTrackedRange(null,f,g);return e.trackedRanges[_]=y,e.trackedRangesDirection[_]=f.getDirection(),_.toString()}};try{i.getEditOperations(e.model,d)}catch(u){return St(u),{operations:[],hadTrackedEditOperation:!1}}return{operations:r,hadTrackedEditOperation:a}}static _getLoserCursorMap(e){e=e.slice(0),e.sort((i,r)=>-B.compareRangesUsingEnds(i.range,r.range));const t={};for(let i=1;i<e.length;i++){const r=e[i-1],o=e[i];if(B.getStartPosition(r.range).isBefore(B.getEndPosition(o.range))){let s;r.identifier.major>o.identifier.major?s=r.identifier.major:s=o.identifier.major,t[s.toString()]=!0;for(let a=0;a<e.length;a++)e[a].identifier.major===s&&(e.splice(a,1),a<i&&i--,a--);i>0&&i--}}return t}}class $Ae{constructor(e,t,i){this.text=e,this.startSelection=t,this.endSelection=i}}class Uw{static _capture(e,t){const i=[];for(const r of t){if(r.startLineNumber!==r.endLineNumber)return null;i.push(new $Ae(e.getLineContent(r.startLineNumber),r.startColumn-1,r.endColumn-1))}return i}constructor(e,t){this._original=Uw._capture(e,t)}deduceOutcome(e,t){if(!this._original)return null;const i=Uw._capture(e,t);if(!i||this._original.length!==i.length)return null;const r=[];for(let o=0,s=this._original.length;o<s;o++)r.push(Uw._deduceOutcome(this._original[o],i[o]));return r}static _deduceOutcome(e,t){const i=Math.min(e.startSelection,t.startSelection,jm(e.text,t.text)),r=Math.min(e.text.length-e.endSelection,t.text.length-t.endSelection,BE(e.text,t.text)),o=e.text.substring(i,e.text.length-r),s=t.text.substring(i,t.text.length-r);return new ZMe(o,e.startSelection-i,e.endSelection-i,s,t.startSelection-i,t.endSelection-i)}}const VG={getInitialState:()=>kb,tokenizeEncoded:(n,e,t)=>jP(0,t)};async function qAe(n,e,t){if(!t)return HG(e,n.languageIdCodec,VG);const i=await ln.getOrCreate(t);return HG(e,n.languageIdCodec,i||VG)}function KAe(n,e,t,i,r,o,s){let a="<div>",l=i,c=0,d=!0;for(let u=0,h=e.getCount();u<h;u++){const f=e.getEndOffset(u);if(f<=i)continue;let g="";for(;l<f&&l<r;l++){const _=n.charCodeAt(l);switch(_){case 9:{let y=o-(l+c)%o;for(c+=y-1;y>0;)s&&d?(g+="&#160;",d=!1):(g+=" ",d=!0),y--;break}case 60:g+="&lt;",d=!1;break;case 62:g+="&gt;",d=!1;break;case 38:g+="&amp;",d=!1;break;case 0:g+="&#00;",d=!1;break;case 65279:case 8232:case 8233:case 133:g+="",d=!1;break;case 13:g+="&#8203",d=!1;break;case 32:s&&d?(g+="&#160;",d=!1):(g+=" ",d=!0);break;default:g+=String.fromCharCode(_),d=!1}}if(a+=`<span style="${e.getInlineStyle(u,t)}">${g}</span>`,f>r||l>=r)break}return a+="</div>",a}function HG(n,e,t){let i='<div class="monaco-tokenized-source">';const r=su(n);let o=t.getInitialState();for(let s=0,a=r.length;s<a;s++){const l=r[s];s>0&&(i+="<br/>");const c=t.tokenizeEncoded(l,!0,o);ur.convertToEndOffset(c.tokens,l.length);const u=new ur(c.tokens,l,e).inflate();let h=0;for(let f=0,g=u.getCount();f<g;f++){const _=u.getClassName(f),y=u.getEndOffset(f);i+=`<span class="${_}">${FE(l.substring(h,y))}</span>`,h=y}o=c.endState}return i+="</div>",i}class GAe{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const t=this._inserts,i=this._changes,r=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,i,r)}}class ZAe{constructor(e,t,i,r,o){this.id=e,this.afterLineNumber=t,this.ordinal=i,this.height=r,this.minWidth=o,this.prefixSum=0}}let _ce=class b3{constructor(e,t,i,r){this._instanceId=Yse(++b3.INSTANCE_COUNT),this._pendingChanges=new GAe,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=i,this._paddingBottom=r}static findInsertionIndex(e,t,i){let r=0,o=e.length;for(;r<o;){const s=r+o>>>1;t===e[s].afterLineNumber?i<e[s].ordinal?o=s:r=s+1:t<e[s].afterLineNumber?o=s:r=s+1}return r}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{e({insertWhitespace:(r,o,s,a)=>{t=!0,r=r|0,o=o|0,s=s|0,a=a|0;const l=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new ZAe(l,r,o,s,a)),l},changeOneWhitespace:(r,o,s)=>{t=!0,o=o|0,s=s|0,this._pendingChanges.change({id:r,newAfterLineNumber:o,newHeight:s})},removeWhitespace:r=>{t=!0,this._pendingChanges.remove({id:r})}})}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,i){if((e.length>0||i.length>0)&&(this._minWidth=-1),e.length+t.length+i.length<=1){for(const l of e)this._insertWhitespace(l);for(const l of t)this._changeOneWhitespace(l.id,l.newAfterLineNumber,l.newHeight);for(const l of i){const c=this._findWhitespaceIndex(l.id);c!==-1&&this._removeWhitespace(c)}return}const r=new Set;for(const l of i)r.add(l.id);const o=new Map;for(const l of t)o.set(l.id,l);const s=l=>{const c=[];for(const d of l)if(!r.has(d.id)){if(o.has(d.id)){const u=o.get(d.id);d.afterLineNumber=u.newAfterLineNumber,d.height=u.newHeight}c.push(d)}return c},a=s(this._arr).concat(s(e));a.sort((l,c)=>l.afterLineNumber===c.afterLineNumber?l.ordinal-c.ordinal:l.afterLineNumber-c.afterLineNumber),this._arr=a,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const t=b3.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){const t=this._arr;for(let i=0,r=t.length;i<r;i++)if(t[i].id===e)return i;return-1}_changeOneWhitespace(e,t,i){const r=this._findWhitespaceIndex(e);if(r!==-1&&(this._arr[r].height!==i&&(this._arr[r].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,r-1)),this._arr[r].afterLineNumber!==t)){const o=this._arr[r];this._removeWhitespace(r),o.afterLineNumber=t,this._insertWhitespace(o)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount-=t-e+1;for(let i=0,r=this._arr.length;i<r;i++){const o=this._arr[i].afterLineNumber;e<=o&&o<=t?this._arr[i].afterLineNumber=e-1:o>t&&(this._arr[i].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount+=t-e+1;for(let i=0,r=this._arr.length;i<r;i++){const o=this._arr[i].afterLineNumber;e<=o&&(this._arr[i].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e=e|0;let t=Math.max(0,this._prefixSumValidIndex+1);t===0&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let i=t;i<=e;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const e=this._lineHeight*this._lineCount,t=this.getWhitespacesTotalHeight();return e+t+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e=e|0;const t=this._findLastWhitespaceBeforeLineNumber(e);return t===-1?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e=e|0;const t=this._arr;let i=0,r=t.length-1;for(;i<=r;){const s=(r-i|0)/2|0,a=i+s|0;if(t[a].afterLineNumber<e){if(a+1>=t.length||t[a+1].afterLineNumber>=e)return a;i=a+1|0}else r=a-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e=e|0;const i=this._findLastWhitespaceBeforeLineNumber(e)+1;return i<this._arr.length?i:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e=e|0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e,t=!1){this._checkPendingChanges(),e=e|0;let i;e>1?i=this._lineHeight*(e-1):i=0;const r=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e-(t?1:0));return i+r+this._paddingTop}getVerticalOffsetAfterLineNumber(e,t=!1){this._checkPendingChanges(),e=e|0;const i=this._lineHeight*e,r=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e+(t?1:0));return i+r+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let e=0;for(let t=0,i=this._arr.length;t<i;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();const t=this.getLinesTotalHeight();return e>t}isInTopPadding(e){return this._paddingTop===0?!1:(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const t=this.getLinesTotalHeight();return e>=t-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),e=e|0,e<0)return 1;const t=this._lineCount|0,i=this._lineHeight;let r=1,o=t;for(;r<o;){const s=(r+o)/2|0,a=this.getVerticalOffsetForLineNumber(s)|0;if(e>=a+i)r=s+1;else{if(e>=a)return s;o=s}}return r>t?t:r}getLinesViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;const i=this._lineHeight,r=this.getLineNumberAtOrAfterVerticalOffset(e)|0,o=this.getVerticalOffsetForLineNumber(r)|0;let s=this._lineCount|0,a=this.getFirstWhitespaceIndexAfterLineNumber(r)|0;const l=this.getWhitespacesCount()|0;let c,d;a===-1?(a=l,d=s+1,c=0):(d=this.getAfterLineNumberForWhitespaceIndex(a)|0,c=this.getHeightForWhitespaceIndex(a)|0);let u=o,h=u;const f=5e5;let g=0;o>=f&&(g=Math.floor(o/f)*f,g=Math.floor(g/i)*i,h-=g);const _=[],y=e+(t-e)/2;let m=-1;for(let C=r;C<=s;C++){if(m===-1){const S=u,x=u+i;(S<=y&&y<x||S>y)&&(m=C)}for(u+=i,_[C-r]=h,h+=i;d===C;)h+=c,u+=c,a++,a>=l?d=s+1:(d=this.getAfterLineNumberForWhitespaceIndex(a)|0,c=this.getHeightForWhitespaceIndex(a)|0);if(u>=t){s=C;break}}m===-1&&(m=s);const p=this.getVerticalOffsetForLineNumber(s)|0;let v=r,b=s;return v<b&&o<e&&v++,v<b&&p+i>t&&b--,{bigNumbersDelta:g,startLineNumber:r,endLineNumber:s,relativeVerticalOffset:_,centeredLineNumber:m,completelyVisibleStartLineNumber:v,completelyVisibleEndLineNumber:b}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e=e|0;const t=this.getAfterLineNumberForWhitespaceIndex(e);let i;t>=1?i=this._lineHeight*t:i=0;let r;return e>0?r=this.getWhitespacesAccumulatedHeight(e-1):r=0,i+r+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e=e|0;let t=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;const r=this.getVerticalOffsetForWhitespaceIndex(i),o=this.getHeightForWhitespaceIndex(i);if(e>=r+o)return-1;for(;t<i;){const s=Math.floor((t+i)/2),a=this.getVerticalOffsetForWhitespaceIndex(s),l=this.getHeightForWhitespaceIndex(s);if(e>=a+l)t=s+1;else{if(e>=a)return s;i=s}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e=e|0;const t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0||t>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(t);if(i>e)return null;const r=this.getHeightForWhitespaceIndex(t),o=this.getIdForWhitespaceIndex(t),s=this.getAfterLineNumberForWhitespaceIndex(t);return{id:o,afterLineNumber:s,verticalOffset:i,height:r}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),r=this.getWhitespacesCount()-1;if(i<0)return[];const o=[];for(let s=i;s<=r;s++){const a=this.getVerticalOffsetForWhitespaceIndex(s),l=this.getHeightForWhitespaceIndex(s);if(a>=t)break;o.push({id:this.getIdForWhitespaceIndex(s),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(s),verticalOffset:a,height:l})}return o}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].height}};_ce.INSTANCE_COUNT=0;const YAe=125;class tw{constructor(e,t,i,r){e=e|0,t=t|0,i=i|0,r=r|0,e<0&&(e=0),t<0&&(t=0),i<0&&(i=0),r<0&&(r=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=i,this.contentHeight=r,this.scrollHeight=Math.max(i,r)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class XAe extends ce{constructor(e,t){super(),this._onDidContentSizeChange=this._register(new ne),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new tw(0,0,0,0),this._scrollable=this._register(new xy({forceIntegerValues:!0,smoothScrollDuration:e,scheduleAtNextAnimationFrame:t})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const i=t.contentWidth!==e.contentWidth,r=t.contentHeight!==e.contentHeight;(i||r)&&this._onDidContentSizeChange.fire(new nV(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class QAe extends ce{constructor(e,t,i){super(),this._configuration=e;const r=this._configuration.options,o=r.get(143),s=r.get(83);this._linesLayout=new _ce(t,r.get(66),s.top,s.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new XAe(0,i)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new tw(o.contentWidth,0,o.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(113)?YAe:0)}onConfigurationChanged(e){const t=this._configuration.options;if(e.hasChanged(66)&&this._linesLayout.setLineHeight(t.get(66)),e.hasChanged(83)){const i=t.get(83);this._linesLayout.setPadding(i.top,i.bottom)}if(e.hasChanged(143)){const i=t.get(143),r=i.contentWidth,o=i.height,s=this._scrollable.getScrollDimensions(),a=s.contentWidth;this._scrollable.setScrollDimensions(new tw(r,s.contentWidth,o,this._getContentHeight(r,o,a)))}else this._updateHeight();e.hasChanged(113)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){const r=this._configuration.options.get(102);return r.horizontal===2||e>=t?0:r.horizontalScrollbarSize}_getContentHeight(e,t,i){const r=this._configuration.options;let o=this._linesLayout.getLinesTotalHeight();return r.get(104)?o+=Math.max(0,t-r.get(66)-r.get(83).bottom):r.get(102).ignoreHorizontalScrollbarInContentHeight||(o+=this._getHorizontalScrollbarHeight(e,i)),o}_updateHeight(){const e=this._scrollable.getScrollDimensions(),t=e.width,i=e.height,r=e.contentWidth;this._scrollable.setScrollDimensions(new tw(t,e.contentWidth,i,this._getContentHeight(t,i,r)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new PK(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new PK(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(){const e=this._configuration.options,t=this._maxLineWidth,i=e.get(144),r=e.get(50),o=e.get(143);if(i.isViewportWrapping){const s=e.get(72);return t>o.contentWidth+r.typicalHalfwidthCharacterWidth&&s.enabled&&s.side==="right"?t+o.verticalScrollbarWidth:t}else{const s=e.get(103)*r.typicalHalfwidthCharacterWidth,a=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+s+o.verticalScrollbarWidth,a,this._overlayWidgetsMinWidth)}}setMaxLineWidth(e){this._maxLineWidth=e,this._updateContentWidth()}setOverlayWidgetsMinWidth(e){this._overlayWidgetsMinWidth=e,this._updateContentWidth()}_updateContentWidth(){const e=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new tw(e.width,this._computeContentWidth(),e.height,e.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition(),t=e.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t),r=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i);return{scrollTop:t,scrollTopWithoutViewZones:t-r,scrollLeft:e.scrollLeft}}changeWhitespace(e){const t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e,t=!1){return this._linesLayout.getVerticalOffsetForLineNumber(e,t)}getVerticalOffsetAfterLineNumber(e,t=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(e,t)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){t===1?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(e,t){const i=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+e,scrollTop:i.scrollTop+t})}}class JAe{constructor(e,t,i,r,o){this.editorId=e,this.model=t,this.configuration=i,this._linesCollection=r,this._coordinatesConverter=o,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const t=e.id;let i=this._decorationsCache[t];if(!i){const r=e.range,o=e.options;let s;if(o.isWholeLine){const a=this._coordinatesConverter.convertModelPositionToViewPosition(new re(r.startLineNumber,1),0,!1,!0),l=this._coordinatesConverter.convertModelPositionToViewPosition(new re(r.endLineNumber,this.model.getLineMaxColumn(r.endLineNumber)),1);s=new B(a.lineNumber,a.column,l.lineNumber,l.column)}else s=this._coordinatesConverter.convertModelRangeToViewRange(r,1);i=new rle(s,o),this._decorationsCache[t]=i}return i}getMinimapDecorationsInRange(e){return this._getDecorationsInRange(e,!0,!1).decorations}getDecorationsViewportData(e){let t=this._cachedModelDecorationsResolver!==null;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(e,!1,!1),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(e,t=!1,i=!1){const r=new B(e,this._linesCollection.getViewLineMinColumn(e),e,this._linesCollection.getViewLineMaxColumn(e));return this._getDecorationsInRange(r,t,i).inlineDecorations[0]}_getDecorationsInRange(e,t,i){const r=this._linesCollection.getDecorationsInRange(e,this.editorId,IE(this.configuration.options),t,i),o=e.startLineNumber,s=e.endLineNumber,a=[];let l=0;const c=[];for(let d=o;d<=s;d++)c[d-o]=[];for(let d=0,u=r.length;d<u;d++){const h=r[d],f=h.options;if(!sV(this.model,h))continue;const g=this._getOrCreateViewModelDecoration(h),_=g.range;if(a[l++]=g,f.inlineClassName){const y=new Pw(_,f.inlineClassName,f.inlineClassNameAffectsLetterSpacing?3:0),m=Math.max(o,_.startLineNumber),p=Math.min(s,_.endLineNumber);for(let v=m;v<=p;v++)c[v-o].push(y)}if(f.beforeContentClassName&&o<=_.startLineNumber&&_.startLineNumber<=s){const y=new Pw(new B(_.startLineNumber,_.startColumn,_.startLineNumber,_.startColumn),f.beforeContentClassName,1);c[_.startLineNumber-o].push(y)}if(f.afterContentClassName&&o<=_.endLineNumber&&_.endLineNumber<=s){const y=new Pw(new B(_.endLineNumber,_.endColumn,_.endLineNumber,_.endColumn),f.afterContentClassName,2);c[_.endLineNumber-o].push(y)}}return{decorations:a,inlineDecorations:c}}}function sV(n,e){return!(e.options.hideInCommentTokens&&aV(n,e)||e.options.hideInStringTokens&&lV(n,e))}function aV(n,e){return vce(n,e.range,t=>t===1)}function lV(n,e){return vce(n,e.range,t=>t===2)}function vce(n,e,t){for(let i=e.startLineNumber;i<=e.endLineNumber;i++){const r=n.tokenization.getLineTokens(i),o=i===e.startLineNumber,s=i===e.endLineNumber;let a=o?r.findTokenIndexAtOffset(e.startColumn-1):0;for(;a<r.getCount()&&!(s&&r.getStartOffset(a)>e.endColumn-1);){if(!t(r.getStandardTokenType(a)))return!1;a++}}return!0}function iO(n,e){return n===null?e?pI.INSTANCE:mI.INSTANCE:new eOe(n,e)}class eOe{constructor(e,t){this._projectionData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(e,t,i){this._assertVisible();const r=i>0?this._projectionData.breakOffsets[i-1]:0,o=this._projectionData.breakOffsets[i];let s;if(this._projectionData.injectionOffsets!==null){const a=this._projectionData.injectionOffsets.map((c,d)=>new Gc(0,0,c+1,this._projectionData.injectionOptions[d],0));s=Gc.applyInjectedText(e.getLineContent(t),a).substring(r,o)}else s=e.getValueInRange({startLineNumber:t,startColumn:r+1,endLineNumber:t,endColumn:o+1});return i>0&&(s=zG(this._projectionData.wrappedTextIndentLength)+s),s}getViewLineLength(e,t,i){return this._assertVisible(),this._projectionData.getLineLength(i)}getViewLineMinColumn(e,t,i){return this._assertVisible(),this._projectionData.getMinOutputOffset(i)+1}getViewLineMaxColumn(e,t,i){return this._assertVisible(),this._projectionData.getMaxOutputOffset(i)+1}getViewLineData(e,t,i){const r=new Array;return this.getViewLinesData(e,t,i,1,0,[!0],r),r[0]}getViewLinesData(e,t,i,r,o,s,a){this._assertVisible();const l=this._projectionData,c=l.injectionOffsets,d=l.injectionOptions;let u=null;if(c){u=[];let f=0,g=0;for(let _=0;_<l.getOutputLineCount();_++){const y=new Array;u[_]=y;const m=_>0?l.breakOffsets[_-1]:0,p=l.breakOffsets[_];for(;g<c.length;){const v=d[g].content.length,b=c[g]+f,C=b+v;if(b>p)break;if(m<C){const S=d[g];if(S.inlineClassName){const x=_>0?l.wrappedTextIndentLength:0,k=x+Math.max(b-m,0),D=x+Math.min(C-m,p-m);k!==D&&y.push(new dIe(k,D,S.inlineClassName,S.inlineClassNameAffectsLetterSpacing))}}if(C<=p)f+=v,g++;else break}}}let h;c?h=e.tokenization.getLineTokens(t).withInserted(c.map((f,g)=>({offset:f,text:d[g].content,tokenMetadata:ur.defaultTokenMetadata}))):h=e.tokenization.getLineTokens(t);for(let f=i;f<i+r;f++){const g=o+f-i;if(!s[g]){a[g]=null;continue}a[g]=this._getViewLineData(h,u?u[f]:null,f)}}_getViewLineData(e,t,i){this._assertVisible();const r=this._projectionData,o=i>0?r.wrappedTextIndentLength:0,s=i>0?r.breakOffsets[i-1]:0,a=r.breakOffsets[i],l=e.sliceAndInflate(s,a,o);let c=l.getLineContent();i>0&&(c=zG(r.wrappedTextIndentLength)+c);const d=this._projectionData.getMinOutputOffset(i)+1,u=c.length+1,h=i+1<this.getViewLineCount(),f=i===0?0:r.breakOffsetsVisibleColumn[i-1];return new I6(c,h,d,u,f,l,t)}getModelColumnOfViewPosition(e,t){return this._assertVisible(),this._projectionData.translateToInputOffset(e,t-1)+1}getViewPositionOfModelPosition(e,t,i=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(t-1,i).toPosition(e)}getViewLineNumberOfModelPosition(e,t){this._assertVisible();const i=this._projectionData.translateToOutputPosition(t-1);return e+i.outputLineIndex}normalizePosition(e,t,i){const r=t.lineNumber-e;return this._projectionData.normalizeOutputPosition(e,t.column-1,i).toPosition(r)}getInjectedTextAt(e,t){return this._projectionData.getInjectedText(e,t-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class pI{constructor(){}isVisible(){return!0}setVisible(e){return e?this:mI.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,i){return e.getLineContent(t)}getViewLineLength(e,t,i){return e.getLineLength(t)}getViewLineMinColumn(e,t,i){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,i){return e.getLineMaxColumn(t)}getViewLineData(e,t,i){const r=e.tokenization.getLineTokens(t),o=r.getLineContent();return new I6(o,!1,1,o.length+1,0,r.inflate(),null)}getViewLinesData(e,t,i,r,o,s,a){if(!s[o]){a[o]=null;return}a[o]=this.getViewLineData(e,t,0)}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new re(e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,i){return t}getInjectedTextAt(e,t){return null}}pI.INSTANCE=new pI;class mI{constructor(){}isVisible(){return!1}setVisible(e){return e?pI.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,i){throw new Error("Not supported")}getViewLineLength(e,t,i){throw new Error("Not supported")}getViewLineMinColumn(e,t,i){throw new Error("Not supported")}getViewLineMaxColumn(e,t,i){throw new Error("Not supported")}getViewLineData(e,t,i){throw new Error("Not supported")}getViewLinesData(e,t,i,r,o,s,a){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,i){throw new Error("Not supported")}getInjectedTextAt(e,t){throw new Error("Not supported")}}mI.INSTANCE=new mI;const nO=[""];function zG(n){if(n>=nO.length)for(let e=1;e<=n;e++)nO[e]=tOe(e);return nO[n]}function tOe(n){return new Array(n+1).join(" ")}class iOe{constructor(e,t,i,r,o,s,a,l,c,d){this._editorId=e,this.model=t,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=i,this._monospaceLineBreaksComputerFactory=r,this.fontInfo=o,this.tabSize=s,this.wrappingStrategy=a,this.wrappingColumn=l,this.wrappingIndent=c,this.wordBreak=d,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new rOe(this)}_constructLines(e,t){this.modelLineProjections=[],e&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const i=this.model.getLinesContent(),r=this.model.getInjectedTextDecorations(this._editorId),o=i.length,s=this.createLineBreaksComputer(),a=new Dh(Gc.fromDecorations(r));for(let _=0;_<o;_++){const y=a.takeWhile(m=>m.lineNumber===_+1);s.addRequest(i[_],y,t?t[_]:null)}const l=s.finalize(),c=[],d=this.hiddenAreasDecorationIds.map(_=>this.model.getDecorationRange(_)).sort(B.compareRangesUsingStarts);let u=1,h=0,f=-1,g=f+1<d.length?h+1:o+2;for(let _=0;_<o;_++){const y=_+1;y===g&&(f++,u=d[f].startLineNumber,h=d[f].endLineNumber,g=f+1<d.length?h+1:o+2);const m=y>=u&&y<=h,p=iO(l[_],!m);c[_]=p.getViewLineCount(),this.modelLineProjections[_]=p}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new $Te(c)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(e=>this.model.getDecorationRange(e))}setHiddenAreas(e){const t=e.map(h=>this.model.validateRange(h)),i=nOe(t),r=this.hiddenAreasDecorationIds.map(h=>this.model.getDecorationRange(h)).sort(B.compareRangesUsingStarts);if(i.length===r.length){let h=!1;for(let f=0;f<i.length;f++)if(!i[f].equalsRange(r[f])){h=!0;break}if(!h)return!1}const o=i.map(h=>({range:h,options:kt.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,o);const s=i;let a=1,l=0,c=-1,d=c+1<s.length?l+1:this.modelLineProjections.length+2,u=!1;for(let h=0;h<this.modelLineProjections.length;h++){const f=h+1;f===d&&(c++,a=s[c].startLineNumber,l=s[c].endLineNumber,d=c+1<s.length?l+1:this.modelLineProjections.length+2);let g=!1;if(f>=a&&f<=l?this.modelLineProjections[h].isVisible()&&(this.modelLineProjections[h]=this.modelLineProjections[h].setVisible(!1),g=!0):(u=!0,this.modelLineProjections[h].isVisible()||(this.modelLineProjections[h]=this.modelLineProjections[h].setVisible(!0),g=!0)),g){const _=this.modelLineProjections[h].getViewLineCount();this.projectedModelLineLineCounts.setValue(h,_)}}return u||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return e<1||e>this.modelLineProjections.length?!1:this.modelLineProjections[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.modelLineProjections.length?1:this.modelLineProjections[e-1].getViewLineCount()}setTabSize(e){return this.tabSize===e?!1:(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,i,r,o){const s=this.fontInfo.equals(e),a=this.wrappingStrategy===t,l=this.wrappingColumn===i,c=this.wrappingIndent===r,d=this.wordBreak===o;if(s&&a&&l&&c&&d)return!1;const u=s&&a&&!l&&c&&d;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=i,this.wrappingIndent=r,this.wordBreak=o;let h=null;if(u){h=[];for(let f=0,g=this.modelLineProjections.length;f<g;f++)h[f]=this.modelLineProjections[f].getProjectionData()}return this._constructLines(!1,h),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,i){if(!e||e<=this._validModelVersionId)return null;const r=t===1?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,o=this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections.splice(t-1,i-t+1),this.projectedModelLineLineCounts.removeValues(t-1,i-t+1),new _3(r,o)}onModelLinesInserted(e,t,i,r){if(!e||e<=this._validModelVersionId)return null;const o=t>2&&!this.modelLineProjections[t-2].isVisible(),s=t===1?1:this.projectedModelLineLineCounts.getPrefixSum(t-1)+1;let a=0;const l=[],c=[];for(let d=0,u=r.length;d<u;d++){const h=iO(r[d],!o);l.push(h);const f=h.getViewLineCount();a+=f,c[d]=f}return this.modelLineProjections=this.modelLineProjections.slice(0,t-1).concat(l).concat(this.modelLineProjections.slice(t-1)),this.projectedModelLineLineCounts.insertValues(t-1,c),new v3(s,s+a-1)}onModelLineChanged(e,t,i){if(e!==null&&e<=this._validModelVersionId)return[!1,null,null,null];const r=t-1,o=this.modelLineProjections[r].getViewLineCount(),s=this.modelLineProjections[r].isVisible(),a=iO(i,s);this.modelLineProjections[r]=a;const l=this.modelLineProjections[r].getViewLineCount();let c=!1,d=0,u=-1,h=0,f=-1,g=0,_=-1;o>l?(d=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,u=d+l-1,g=u+1,_=g+(o-l)-1,c=!0):o<l?(d=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,u=d+o-1,h=u+1,f=h+(l-o)-1,c=!0):(d=this.projectedModelLineLineCounts.getPrefixSum(t-1)+1,u=d+l-1),this.projectedModelLineLineCounts.setValue(r,l);const y=d<=u?new mce(d,u-d+1):null,m=h<=f?new v3(h,f):null,p=g<=_?new _3(g,_):null;return[c,y,m,p]}acceptVersionId(e){this._validModelVersionId=e,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(e){if(e<1)return 1;const t=this.getViewLineCount();return e>t?t:e|0}getActiveIndentGuide(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);const r=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),o=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),s=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),a=this.model.guides.getActiveIndentGuide(r.lineNumber,o.lineNumber,s.lineNumber),l=this.convertModelPositionToViewPosition(a.startLineNumber,1),c=this.convertModelPositionToViewPosition(a.endLineNumber,this.model.getLineMaxColumn(a.endLineNumber));return{startLineNumber:l.lineNumber,endLineNumber:c.lineNumber,indent:a.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);const t=this.projectedModelLineLineCounts.getIndexOf(e-1),i=t.index,r=t.remainder;return new jG(i+1,r)}getMinColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),r=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new re(e.modelLineNumber,r)}getModelEndPositionOfViewLine(e){const t=this.modelLineProjections[e.modelLineNumber-1],i=t.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),r=t.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,i);return new re(e.modelLineNumber,r)}getViewLineInfosGroupedByModelRanges(e,t){const i=this.getViewLineInfo(e),r=this.getViewLineInfo(t),o=new Array;let s=this.getModelStartPositionOfViewLine(i),a=new Array;for(let l=i.modelLineNumber;l<=r.modelLineNumber;l++){const c=this.modelLineProjections[l-1];if(c.isVisible()){const d=l===i.modelLineNumber?i.modelLineWrappedLineIdx:0,u=l===r.modelLineNumber?r.modelLineWrappedLineIdx+1:c.getViewLineCount();for(let h=d;h<u;h++)a.push(new jG(l,h))}if(!c.isVisible()&&s){const d=new re(l-1,this.model.getLineMaxColumn(l-1)+1),u=B.fromPositions(s,d);o.push(new UG(u,a)),a=[],s=null}else c.isVisible()&&!s&&(s=new re(l,1))}if(s){const l=B.fromPositions(s,this.getModelEndPositionOfViewLine(r));o.push(new UG(l,a))}return o}getViewLinesBracketGuides(e,t,i,r){const o=i?this.convertViewPositionToModelPosition(i.lineNumber,i.column):null,s=[];for(const a of this.getViewLineInfosGroupedByModelRanges(e,t)){const l=a.modelRange.startLineNumber,c=this.model.guides.getLinesBracketGuides(l,a.modelRange.endLineNumber,o,r);for(const d of a.viewLines){const h=c[d.modelLineNumber-l].map(f=>{if(f.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[d.modelLineNumber-1].getViewPositionOfModelPosition(0,f.forWrappedLinesAfterColumn).lineNumber>=d.modelLineWrappedLineIdx||f.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[d.modelLineNumber-1].getViewPositionOfModelPosition(0,f.forWrappedLinesBeforeOrAtColumn).lineNumber<d.modelLineWrappedLineIdx)return;if(!f.horizontalLine)return f;let g=-1;if(f.column!==-1){const m=this.modelLineProjections[d.modelLineNumber-1].getViewPositionOfModelPosition(0,f.column);if(m.lineNumber===d.modelLineWrappedLineIdx)g=m.column;else if(m.lineNumber<d.modelLineWrappedLineIdx)g=this.getMinColumnOfViewLine(d);else if(m.lineNumber>d.modelLineWrappedLineIdx)return}const _=this.convertModelPositionToViewPosition(d.modelLineNumber,f.horizontalLine.endColumn),y=this.modelLineProjections[d.modelLineNumber-1].getViewPositionOfModelPosition(0,f.horizontalLine.endColumn);return y.lineNumber===d.modelLineWrappedLineIdx?new hm(f.visibleColumn,g,f.className,new Ow(f.horizontalLine.top,_.column),-1,-1):y.lineNumber<d.modelLineWrappedLineIdx||f.visibleColumn!==-1?void 0:new hm(f.visibleColumn,g,f.className,new Ow(f.horizontalLine.top,this.getMaxColumnOfViewLine(d)),-1,-1)});s.push(h.filter(f=>!!f))}}return s}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),r=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let o=[];const s=[],a=[],l=i.lineNumber-1,c=r.lineNumber-1;let d=null;for(let g=l;g<=c;g++){const _=this.modelLineProjections[g];if(_.isVisible()){const y=_.getViewLineNumberOfModelPosition(0,g===l?i.column:1),m=_.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(g+1)),p=m-y+1;let v=0;p>1&&_.getViewLineMinColumn(this.model,g+1,m)===1&&(v=y===0?1:2),s.push(p),a.push(v),d===null&&(d=new re(g+1,0))}else d!==null&&(o=o.concat(this.model.guides.getLinesIndentGuides(d.lineNumber,g)),d=null)}d!==null&&(o=o.concat(this.model.guides.getLinesIndentGuides(d.lineNumber,r.lineNumber)),d=null);const u=t-e+1,h=new Array(u);let f=0;for(let g=0,_=o.length;g<_;g++){let y=o[g];const m=Math.min(u-f,s[g]),p=a[g];let v;p===2?v=0:p===1?v=1:v=m;for(let b=0;b<m;b++)b===v&&(y=0),h[f++]=y}return h}getViewLineContent(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineContent(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineLength(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineLength(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMinColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineMaxColumn(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLineData(e){const t=this.getViewLineInfo(e);return this.modelLineProjections[t.modelLineNumber-1].getViewLineData(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getViewLinesData(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const r=this.projectedModelLineLineCounts.getIndexOf(e-1);let o=e;const s=r.index,a=r.remainder,l=[];for(let c=s,d=this.model.getLineCount();c<d;c++){const u=this.modelLineProjections[c];if(!u.isVisible())continue;const h=c===s?a:0;let f=u.getViewLineCount()-h,g=!1;if(o+f>t&&(g=!0,f=t-o+1),u.getViewLinesData(this.model,c+1,h,f,o-e,i,l),o+=f,g)break}return l}validateViewPosition(e,t,i){e=this._toValidViewLineNumber(e);const r=this.projectedModelLineLineCounts.getIndexOf(e-1),o=r.index,s=r.remainder,a=this.modelLineProjections[o],l=a.getViewLineMinColumn(this.model,o+1,s),c=a.getViewLineMaxColumn(this.model,o+1,s);t<l&&(t=l),t>c&&(t=c);const d=a.getModelColumnOfViewPosition(s,t);return this.model.validatePosition(new re(o+1,d)).equals(i)?new re(e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)}validateViewRange(e,t){const i=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),r=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new B(i.lineNumber,i.column,r.lineNumber,r.column)}convertViewPositionToModelPosition(e,t){const i=this.getViewLineInfo(e),r=this.modelLineProjections[i.modelLineNumber-1].getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,t);return this.model.validatePosition(new re(i.modelLineNumber,r))}convertViewRangeToModelRange(e){const t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),i=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new B(t.lineNumber,t.column,i.lineNumber,i.column)}convertModelPositionToViewPosition(e,t,i=2,r=!1,o=!1){const s=this.model.validatePosition(new re(e,t)),a=s.lineNumber,l=s.column;let c=a-1,d=!1;if(o)for(;c<this.modelLineProjections.length&&!this.modelLineProjections[c].isVisible();)c++,d=!0;else for(;c>0&&!this.modelLineProjections[c].isVisible();)c--,d=!0;if(c===0&&!this.modelLineProjections[c].isVisible())return new re(r?0:1,1);const u=1+this.projectedModelLineLineCounts.getPrefixSum(c);let h;return d?o?h=this.modelLineProjections[c].getViewPositionOfModelPosition(u,1,i):h=this.modelLineProjections[c].getViewPositionOfModelPosition(u,this.model.getLineMaxColumn(c+1),i):h=this.modelLineProjections[a-1].getViewPositionOfModelPosition(u,l,i),h}convertModelRangeToViewRange(e,t=0){if(e.isEmpty()){const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return B.fromPositions(i)}else{const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),r=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new B(i.lineNumber,i.column,r.lineNumber,r.column)}}getViewLineNumberOfModelPosition(e,t){let i=e-1;if(this.modelLineProjections[i].isVisible()){const o=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(o,t)}for(;i>0&&!this.modelLineProjections[i].isVisible();)i--;if(i===0&&!this.modelLineProjections[i].isVisible())return 1;const r=1+this.projectedModelLineLineCounts.getPrefixSum(i);return this.modelLineProjections[i].getViewLineNumberOfModelPosition(r,this.model.getLineMaxColumn(i+1))}getDecorationsInRange(e,t,i,r,o){const s=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),a=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(a.lineNumber-s.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new B(s.lineNumber,1,a.lineNumber,a.column),t,i,r,o);let l=[];const c=s.lineNumber-1,d=a.lineNumber-1;let u=null;for(let _=c;_<=d;_++)if(this.modelLineProjections[_].isVisible())u===null&&(u=new re(_+1,_===c?s.column:1));else if(u!==null){const m=this.model.getLineMaxColumn(_);l=l.concat(this.model.getDecorationsInRange(new B(u.lineNumber,u.column,_,m),t,i,r)),u=null}u!==null&&(l=l.concat(this.model.getDecorationsInRange(new B(u.lineNumber,u.column,a.lineNumber,a.column),t,i,r)),u=null),l.sort((_,y)=>{const m=B.compareRangesUsingStarts(_.range,y.range);return m===0?_.id<y.id?-1:_.id>y.id?1:0:m});const h=[];let f=0,g=null;for(const _ of l){const y=_.id;g!==y&&(g=y,h[f++]=_)}return h}getInjectedTextAt(e){const t=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[t.modelLineNumber-1].getInjectedTextAt(t.modelLineWrappedLineIdx,e.column)}normalizePosition(e,t){const i=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[i.modelLineNumber-1].normalizePosition(i.modelLineWrappedLineIdx,e,t)}getLineIndentColumn(e){const t=this.getViewLineInfo(e);return t.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(t.modelLineNumber):0}}function nOe(n){if(n.length===0)return[];const e=n.slice();e.sort(B.compareRangesUsingStarts);const t=[];let i=e[0].startLineNumber,r=e[0].endLineNumber;for(let o=1,s=e.length;o<s;o++){const a=e[o];a.startLineNumber>r+1?(t.push(new B(i,1,r,1)),i=a.startLineNumber,r=a.endLineNumber):a.endLineNumber>r&&(r=a.endLineNumber)}return t.push(new B(i,1,r,1)),t}class jG{constructor(e,t){this.modelLineNumber=e,this.modelLineWrappedLineIdx=t}}class UG{constructor(e,t){this.modelRange=e,this.viewLines=t}}class rOe{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e,t,i,r){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t,i,r)}convertModelRangeToViewRange(e,t){return this._lines.convertModelRangeToViewRange(e,t)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,t){return this._lines.getViewLineNumberOfModelPosition(e,t)}}class oOe{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new sOe(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,i,r){return!1}createLineBreaksComputer(){const e=[];return{addRequest:(t,i,r)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,i){return new _3(t,i)}onModelLinesInserted(e,t,i,r){return new v3(t,i)}onModelLineChanged(e,t,i){return[!1,new mce(t,1),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,i){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,t,i){return new Array(t-e+1).fill([])}getViewLinesIndentGuides(e,t){const i=t-e+1,r=new Array(i);for(let o=0;o<i;o++)r[o]=0;return r}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){const t=this.model.tokenization.getLineTokens(e),i=t.getLineContent();return new I6(i,!1,1,i.length+1,0,t.inflate(),null)}getViewLinesData(e,t,i){const r=this.model.getLineCount();e=Math.min(Math.max(1,e),r),t=Math.min(Math.max(1,t),r);const o=[];for(let s=e;s<=t;s++){const a=s-e;o[a]=i[a]?this.getViewLineData(s):null}return o}getDecorationsInRange(e,t,i,r,o){return this.model.getDecorationsInRange(e,t,i,r,o)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class sOe{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,t){return e}}const Ep=au.Right;class aOe{constructor(e){this.persist=0,this._requiredLanes=1,this.lanes=new Uint8Array(Math.ceil((e+1)*Ep/8))}reset(e){const t=Math.ceil((e+1)*Ep/8);this.lanes.length<t?this.lanes=new Uint8Array(t):this.lanes.fill(0),this._requiredLanes=1}get requiredLanes(){return this._requiredLanes}push(e,t,i){i&&(this.persist|=1<<e-1);for(let r=t.startLineNumber;r<=t.endLineNumber;r++){const o=Ep*r+(e-1);this.lanes[o>>>3]|=1<<o%8,this._requiredLanes=Math.max(this._requiredLanes,this.countAtLine(r))}}getLanesAtLine(e){const t=[];let i=Ep*e;for(let r=0;r<Ep;r++)(this.persist&1<<r||this.lanes[i>>>3]&1<<i%8)&&t.push(r+1),i++;return t.length?t:[au.Center]}countAtLine(e){let t=Ep*e,i=0;for(let r=0;r<Ep;r++)(this.persist&1<<r||this.lanes[t>>>3]&1<<t%8)&&i++,t++;return i}}let lOe=class extends ce{constructor(e,t,i,r,o,s,a,l,c){if(super(),this.languageConfigurationService=a,this._themeService=l,this._attachedView=c,this.hiddenAreasModel=new dOe,this.previousHiddenAreas=[],this._editorId=e,this._configuration=t,this.model=i,this._eventDispatcher=new PAe,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new a0(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new ki(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=cV.create(this.model),this.glyphLanes=new aOe(0),this.model.isTooLargeForTokenization())this._lines=new oOe(this.model);else{const d=this._configuration.options,u=d.get(50),h=d.get(137),f=d.get(144),g=d.get(136),_=d.get(128);this._lines=new iOe(this._editorId,this.model,r,o,u,this.model.getOptions().tabSize,h,f.wrappingColumn,g,_)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new jAe(i,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new QAe(this._configuration,this.getLineCount(),s)),this._register(this.viewLayout.onDidScroll(d=>{d.scrollTopChanged&&this._handleVisibleLinesChanged(),d.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new DAe(d)),this._eventDispatcher.emitOutgoingEvent(new oV(d.oldScrollWidth,d.oldScrollLeft,d.oldScrollHeight,d.oldScrollTop,d.scrollWidth,d.scrollLeft,d.scrollHeight,d.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(d=>{this._eventDispatcher.emitOutgoingEvent(d)})),this._decorations=new JAe(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(d=>{try{const u=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(u,d)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(Kx.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new IAe)})),this._register(this._themeService.onDidColorThemeChange(d=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new TAe(d))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const e=this.viewLayout.getLinesViewportData(),t=new B(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber));return this._toModelVisibleRanges(t)}visibleLinesStabilized(){const e=this.getModelVisibleRanges();this._attachedView.setVisibleLines(e,!0)}_handleVisibleLinesChanged(){const e=this.getModelVisibleRanges();this._attachedView.setVisibleLines(e,!1)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new LAe(e)),this._eventDispatcher.emitOutgoingEvent(new rV(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new CAe)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new wAe)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const e=new re(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),t=this.coordinatesConverter.convertViewPositionToModelPosition(e);return new qG(t,this._viewportStart.startLineDelta)}return new qG(null,0)}_onConfigurationChanged(e,t){const i=this._captureStableViewport(),r=this._configuration.options,o=r.get(50),s=r.get(137),a=r.get(144),l=r.get(136),c=r.get(128);this._lines.setWrappingSettings(o,s,a.wrappingColumn,l,c)&&(e.emitViewEvent(new Ok),e.emitViewEvent(new Fk),e.emitViewEvent(new Tp(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(90)&&(this._decorations.reset(),e.emitViewEvent(new Tp(null))),t.hasChanged(97)&&(this._decorations.reset(),e.emitViewEvent(new Tp(null))),e.emitViewEvent(new SAe(t)),this.viewLayout.onConfigurationChanged(t),i.recoverViewportStart(this.coordinatesConverter,this.viewLayout),a0.shouldRecreate(t)&&(this.cursorConfig=new a0(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{const i=this._eventDispatcher.beginEmitViewEvents();let r=!1,o=!1;const s=e instanceof km?e.rawContentChangedEvent.changes:e.changes,a=e instanceof km?e.rawContentChangedEvent.versionId:null,l=this._lines.createLineBreaksComputer();for(const u of s)switch(u.changeType){case 4:{for(let h=0;h<u.detail.length;h++){const f=u.detail[h];let g=u.injectedTexts[h];g&&(g=g.filter(_=>!_.ownerId||_.ownerId===this._editorId)),l.addRequest(f,g,null)}break}case 2:{let h=null;u.injectedText&&(h=u.injectedText.filter(f=>!f.ownerId||f.ownerId===this._editorId)),l.addRequest(u.detail,h,null);break}}const c=l.finalize(),d=new Dh(c);for(const u of s)switch(u.changeType){case 1:{this._lines.onModelFlushed(),i.emitViewEvent(new Ok),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),r=!0;break}case 3:{const h=this._lines.onModelLinesDeleted(a,u.fromLineNumber,u.toLineNumber);h!==null&&(i.emitViewEvent(h),this.viewLayout.onLinesDeleted(h.fromLineNumber,h.toLineNumber)),r=!0;break}case 4:{const h=d.takeCount(u.detail.length),f=this._lines.onModelLinesInserted(a,u.fromLineNumber,u.toLineNumber,h);f!==null&&(i.emitViewEvent(f),this.viewLayout.onLinesInserted(f.fromLineNumber,f.toLineNumber)),r=!0;break}case 2:{const h=d.dequeue(),[f,g,_,y]=this._lines.onModelLineChanged(a,u.lineNumber,h);o=f,g&&i.emitViewEvent(g),_&&(i.emitViewEvent(_),this.viewLayout.onLinesInserted(_.fromLineNumber,_.toLineNumber)),y&&(i.emitViewEvent(y),this.viewLayout.onLinesDeleted(y.fromLineNumber,y.toLineNumber));break}case 5:break}a!==null&&this._lines.acceptVersionId(a),this.viewLayout.onHeightMaybeChanged(),!r&&o&&(i.emitViewEvent(new Fk),i.emitViewEvent(new Tp(null)),this._cursor.onLineMappingChanged(i),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const t=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&t){const i=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(i){const r=this.coordinatesConverter.convertModelPositionToViewPosition(i.getStartPosition()),o=this.viewLayout.getVerticalOffsetForLineNumber(r.lineNumber);this.viewLayout.setScrollPosition({scrollTop:o+this._viewportStart.startLineDelta},1)}}try{const i=this._eventDispatcher.beginEmitViewEvents();e instanceof km&&i.emitOutgoingEvent(new VAe(e.contentChangedEvent)),this._cursor.onModelContentChanged(i,e)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(e=>{const t=[];for(let i=0,r=e.ranges.length;i<r;i++){const o=e.ranges[i],s=this.coordinatesConverter.convertModelPositionToViewPosition(new re(o.fromLineNumber,1)).lineNumber,a=this.coordinatesConverter.convertModelPositionToViewPosition(new re(o.toLineNumber,this.model.getLineMaxColumn(o.toLineNumber))).lineNumber;t[i]={fromLineNumber:s,toLineNumber:a}}this._eventDispatcher.emitSingleViewEvent(new EAe(t)),this._eventDispatcher.emitOutgoingEvent(new zAe(e))})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new kAe),this.cursorConfig=new a0(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new WAe(e))})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new a0(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new BAe(e))})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const t=this._eventDispatcher.beginEmitViewEvents();t.emitViewEvent(new Ok),t.emitViewEvent(new Fk),t.emitViewEvent(new Tp(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new a0(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new HAe(e))})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new Tp(e)),this._eventDispatcher.emitOutgoingEvent(new FAe(e))}))}setHiddenAreas(e,t){var i;this.hiddenAreasModel.setHiddenAreas(t,e);const r=this.hiddenAreasModel.getMergedRanges();if(r===this.previousHiddenAreas)return;this.previousHiddenAreas=r;const o=this._captureStableViewport();let s=!1;try{const a=this._eventDispatcher.beginEmitViewEvents();s=this._lines.setHiddenAreas(r),s&&(a.emitViewEvent(new Ok),a.emitViewEvent(new Fk),a.emitViewEvent(new Tp(null)),this._cursor.onLineMappingChanged(a),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged());const l=(i=o.viewportStartModelPosition)===null||i===void 0?void 0:i.lineNumber;l&&r.some(d=>d.startLineNumber<=l&&l<=d.endLineNumber)||o.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),s&&this._eventDispatcher.emitOutgoingEvent(new AAe)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(143),t=this._configuration.options.get(66),i=Math.max(20,Math.round(e.height/t)),r=this.viewLayout.getLinesViewportData(),o=Math.max(1,r.completelyVisibleStartLineNumber-i),s=Math.min(this.getLineCount(),r.completelyVisibleEndLineNumber+i);return this._toModelVisibleRanges(new B(o,this.getLineMinColumn(o),s,this.getLineMaxColumn(s)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(e){const t=this.coordinatesConverter.convertViewRangeToModelRange(e),i=this._lines.getHiddenAreas();if(i.length===0)return[t];const r=[];let o=0,s=t.startLineNumber,a=t.startColumn;const l=t.endLineNumber,c=t.endColumn;for(let d=0,u=i.length;d<u;d++){const h=i[d].startLineNumber,f=i[d].endLineNumber;f<s||h>l||(s<h&&(r[o++]=new B(s,a,h-1,this.model.getLineMaxColumn(h-1))),s=f+1,a=1)}return(s<l||s===l&&a<c)&&(r[o++]=new B(s,a,l,c)),r}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,i=e.completelyVisibleEndLineNumber;return new B(t,this.getLineMinColumn(t),i,this.getLineMaxColumn(i))}getCompletelyVisibleViewRangeAtScrollTop(e){const t=this.viewLayout.getLinesViewportDataAtScrollTop(e),i=t.completelyVisibleStartLineNumber,r=t.completelyVisibleEndLineNumber;return new B(i,this.getLineMinColumn(i),r,this.getLineMaxColumn(r))}saveState(){const e=this.viewLayout.saveState(),t=e.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(t),r=this.coordinatesConverter.convertViewPositionToModelPosition(new re(i,this.getLineMinColumn(i))),o=this.viewLayout.getVerticalOffsetForLineNumber(i)-t;return{scrollLeft:e.scrollLeft,firstPosition:r,firstPositionDeltaTop:o}}reduceRestoreState(e){if(typeof e.firstPosition>"u")return this._reduceRestoreStateCompatibility(e);const t=this.model.validatePosition(e.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(t),r=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:r}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,i){this._viewportStart.update(this,e)}getActiveIndentGuide(e,t,i){return this._lines.getActiveIndentGuide(e,t,i)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getBracketGuidesInRangeByLine(e,t,i,r){return this._lines.getViewLinesBracketGuides(e,t,i,r)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const t=xo(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){const t=Ac(this.getLineContent(e));return t===-1?0:t+2}getMinimapDecorationsInRange(e){return this._decorations.getMinimapDecorationsInRange(e)}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewportViewLineRenderingData(e,t){const r=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return this._getViewLineRenderingData(t,r)}getViewLineRenderingData(e){const t=this._decorations.getInlineDecorationsOnLine(e);return this._getViewLineRenderingData(e,t)}_getViewLineRenderingData(e,t){const i=this.model.mightContainRTL(),r=this.model.mightContainNonBasicASCII(),o=this.getTabSize(),s=this._lines.getViewLineData(e);return s.inlineDecorations&&(t=[...t,...s.inlineDecorations.map(a=>a.toInlineDecoration(e))]),new Da(s.minColumn,s.maxColumn,s.content,s.continuesWithWrappedLine,i,r,s.tokens,t,o,s.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,i){const r=this._lines.getViewLinesData(e,t,i);return new cIe(this.getTabSize(),r)}getAllOverviewRulerDecorations(e){const t=this.model.getOverviewRulerDecorations(this._editorId,IE(this._configuration.options)),i=new cOe;for(const r of t){const o=r.options,s=o.overviewRuler;if(!s)continue;const a=s.position;if(a===0)continue;const l=s.getColor(e.value),c=this.coordinatesConverter.getViewLineNumberOfModelPosition(r.range.startLineNumber,r.range.startColumn),d=this.coordinatesConverter.getViewLineNumberOfModelPosition(r.range.endLineNumber,r.range.endColumn);i.accept(l,o.zIndex,c,d,a)}return i.asArray}_invalidateDecorationsColorCache(){const e=this.model.getOverviewRulerDecorations();for(const t of e){const i=t.options.overviewRuler;i==null||i.invalidateCachedColor();const r=t.options.minimap;r==null||r.invalidateCachedColor()}}getValueInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(i,t)}getValueLengthInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueLengthInRange(i,t)}modifyPosition(e,t){const i=this.coordinatesConverter.convertViewPositionToModelPosition(e),r=this.model.modifyPosition(i,t);return this.coordinatesConverter.convertModelPositionToViewPosition(r)}deduceModelPositionRelativeToViewPosition(e,t,i){const r=this.coordinatesConverter.convertViewPositionToModelPosition(e);this.model.getEOL().length===2&&(t<0?t-=i:t+=i);const s=this.model.getOffsetAt(r)+t;return this.model.getPositionAt(s)}getPlainTextToCopy(e,t,i){const r=i?`\r
`:this.model.getEOL();e=e.slice(0),e.sort(B.compareRangesUsingStarts);let o=!1,s=!1;for(const l of e)l.isEmpty()?o=!0:s=!0;if(!s){if(!t)return"";const l=e.map(d=>d.startLineNumber);let c="";for(let d=0;d<l.length;d++)d>0&&l[d-1]===l[d]||(c+=this.model.getLineContent(l[d])+r);return c}if(o&&t){const l=[];let c=0;for(const d of e){const u=d.startLineNumber;d.isEmpty()?u!==c&&l.push(this.model.getLineContent(u)):l.push(this.model.getValueInRange(d,i?2:0)),c=u}return l.length===1?l[0]:l}const a=[];for(const l of e)l.isEmpty()||a.push(this.model.getValueInRange(l,i?2:0));return a.length===1?a[0]:a}getRichTextToCopy(e,t){const i=this.model.getLanguageId();if(i===Sa||e.length!==1)return null;let r=e[0];if(r.isEmpty()){if(!t)return null;const d=r.startLineNumber;r=new B(d,this.model.getLineMinColumn(d),d,this.model.getLineMaxColumn(d))}const o=this._configuration.options.get(50),s=this._getColorMap(),l=/[:;\\\/<>]/.test(o.fontFamily)||o.fontFamily===ps.fontFamily;let c;return l?c=ps.fontFamily:(c=o.fontFamily,c=c.replace(/"/g,"'"),/[,']/.test(c)||/[+ ]/.test(c)&&(c=`'${c}'`),c=`${c}, ${ps.fontFamily}`),{mode:i,html:`<div style="color: ${s[1]};background-color: ${s[2]};font-family: ${c};font-weight: ${o.fontWeight};font-size: ${o.fontSize}px;line-height: ${o.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(r,s)+"</div>"}}_getHTMLToCopy(e,t){const i=e.startLineNumber,r=e.startColumn,o=e.endLineNumber,s=e.endColumn,a=this.getTabSize();let l="";for(let c=i;c<=o;c++){const d=this.model.tokenization.getLineTokens(c),u=d.getLineContent(),h=c===i?r-1:0,f=c===o?s-1:u.length;u===""?l+="<br>":l+=KAe(u,d.inflate(),t,h,f,a,no)}return l}_getColorMap(){const e=ln.getColorMap(),t=["#000000"];if(e)for(let i=1,r=e.length;i<r;i++)t[i]=ue.Format.CSS.formatHex(e[i]);return t}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,i){return this._withViewEventsCollector(r=>this._cursor.setStates(r,e,t,i))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,i=0){this._withViewEventsCollector(r=>this._cursor.setSelections(r,e,t,i))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(t=>this._cursor.restoreState(t,e))}_executeCursorEdit(e){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new OAe);return}this._withViewEventsCollector(e)}executeEdits(e,t,i){this._executeCursorEdit(r=>this._cursor.executeEdits(r,e,t,i))}startComposition(){this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._executeCursorEdit(t=>this._cursor.endComposition(t,e))}type(e,t){this._executeCursorEdit(i=>this._cursor.type(i,e,t))}compositionType(e,t,i,r,o){this._executeCursorEdit(s=>this._cursor.compositionType(s,e,t,i,r,o))}paste(e,t,i,r){this._executeCursorEdit(o=>this._cursor.paste(o,e,t,i,r))}cut(e){this._executeCursorEdit(t=>this._cursor.cut(t,e))}executeCommand(e,t){this._executeCursorEdit(i=>this._cursor.executeCommand(i,e,t))}executeCommands(e,t){this._executeCursorEdit(i=>this._cursor.executeCommands(i,e,t))}revealPrimaryCursor(e,t,i=!1){this._withViewEventsCollector(r=>this._cursor.revealPrimary(r,e,i,0,t,0))}revealTopMostCursor(e){const t=this._cursor.getTopMostViewPosition(),i=new B(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(r=>r.emitViewEvent(new _T(e,!1,i,null,0,!0,0)))}revealBottomMostCursor(e){const t=this._cursor.getBottomMostViewPosition(),i=new B(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(r=>r.emitViewEvent(new _T(e,!1,i,null,0,!0,0)))}revealRange(e,t,i,r,o){this._withViewEventsCollector(s=>s.emitViewEvent(new _T(e,!1,i,null,r,t,o)))}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new NAe),this._eventDispatcher.emitOutgoingEvent(new RAe))}_withViewEventsCollector(e){try{const t=this._eventDispatcher.beginEmitViewEvents();return e(t)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}};class cV{static create(e){const t=e._setTrackedRange(null,new B(1,1,1,1),1);return new cV(e,1,!1,t,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(e,t,i,r,o){this._model=e,this._viewLineNumber=t,this._isValid=i,this._modelTrackedRange=r,this._startLineDelta=o}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(e,t){const i=e.coordinatesConverter.convertViewPositionToModelPosition(new re(t,e.getLineMinColumn(t))),r=e.model._setTrackedRange(this._modelTrackedRange,new B(i.lineNumber,i.column,i.lineNumber,i.column),1),o=e.viewLayout.getVerticalOffsetForLineNumber(t),s=e.viewLayout.getCurrentScrollTop();this._viewLineNumber=t,this._isValid=!0,this._modelTrackedRange=r,this._startLineDelta=s-o}invalidate(){this._isValid=!1}}class cOe{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,t,i,r,o){const s=this._asMap[e];if(s){const a=s.data,l=a[a.length-3],c=a[a.length-1];if(l===o&&c+1>=i){r>c&&(a[a.length-1]=r);return}a.push(o,i,r)}else{const a=new X1(e,t,[o,i,r]);this._asMap[e]=a,this.asArray.push(a)}}}class dOe{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(e,t){const i=this.hiddenAreas.get(e);i&&$G(i,t)||(this.hiddenAreas.set(e,t),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const e=Array.from(this.hiddenAreas.values()).reduce((t,i)=>uOe(t,i),[]);return $G(this.ranges,e)?this.ranges:(this.ranges=e,this.ranges)}}function uOe(n,e){const t=[];let i=0,r=0;for(;i<n.length&&r<e.length;){const o=n[i],s=e[r];if(o.endLineNumber<s.startLineNumber-1)t.push(n[i++]);else if(s.endLineNumber<o.startLineNumber-1)t.push(e[r++]);else{const a=Math.min(o.startLineNumber,s.startLineNumber),l=Math.max(o.endLineNumber,s.endLineNumber);t.push(new B(a,1,l,1)),i++,r++}}for(;i<n.length;)t.push(n[i++]);for(;r<e.length;)t.push(e[r++]);return t}function $G(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].equalsRange(e[t]))return!1;return!0}class qG{constructor(e,t){this.viewportStartModelPosition=e,this.startLineDelta=t}recoverViewportStart(e,t){if(!this.viewportStartModelPosition)return;const i=e.convertModelPositionToViewPosition(this.viewportStartModelPosition),r=t.getVerticalOffsetForLineNumber(i.lineNumber);t.setScrollPosition({scrollTop:r+this.startLineDelta},1)}}class Gx{constructor(...e){this._entries=new Map;for(const[t,i]of e)this.set(t,i)}set(e,t){const i=this._entries.get(e);return this._entries.set(e,t),i}get(e){return this._entries.get(e)}}var mS;(function(n){n[n.Ignore=0]="Ignore",n[n.Info=1]="Info",n[n.Warning=2]="Warning",n[n.Error=3]="Error"})(mS||(mS={}));(function(n){const e="error",t="warning",i="warn",r="info",o="ignore";function s(l){return l?G0(e,l)?n.Error:G0(t,l)||G0(i,l)?n.Warning:G0(r,l)?n.Info:n.Ignore:n.Ignore}n.fromValue=s;function a(l){switch(l){case n.Error:return e;case n.Warning:return t;case n.Info:return r;default:return o}}n.toString=a})(mS||(mS={}));const Sn=mS;var rM=Sn;const Rn=zt("notificationService");class hOe{}class $w{constructor(e,t,i,r,o){this.injectionOffsets=e,this.injectionOptions=t,this.breakOffsets=i,this.breakOffsetsVisibleColumn=r,this.wrappedTextIndentLength=o}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(e){return e>0?this.wrappedTextIndentLength:0}getLineLength(e){const t=e>0?this.breakOffsets[e-1]:0;let r=this.breakOffsets[e]-t;return e>0&&(r+=this.wrappedTextIndentLength),r}getMaxOutputOffset(e){return this.getLineLength(e)}translateToInputOffset(e,t){e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));let r=e===0?t:this.breakOffsets[e-1]+t;if(this.injectionOffsets!==null)for(let o=0;o<this.injectionOffsets.length&&r>this.injectionOffsets[o];o++)r<this.injectionOffsets[o]+this.injectionOptions[o].content.length?r=this.injectionOffsets[o]:r-=this.injectionOptions[o].content.length;return r}translateToOutputPosition(e,t=2){let i=e;if(this.injectionOffsets!==null)for(let r=0;r<this.injectionOffsets.length&&!(e<this.injectionOffsets[r]||t!==1&&e===this.injectionOffsets[r]);r++)i+=this.injectionOptions[r].content.length;return this.offsetInInputWithInjectionsToOutputPosition(i,t)}offsetInInputWithInjectionsToOutputPosition(e,t=2){let i=0,r=this.breakOffsets.length-1,o=0,s=0;for(;i<=r;){o=i+(r-i)/2|0;const l=this.breakOffsets[o];if(s=o>0?this.breakOffsets[o-1]:0,t===0)if(e<=s)r=o-1;else if(e>l)i=o+1;else break;else if(e<s)r=o-1;else if(e>=l)i=o+1;else break}let a=e-s;return o>0&&(a+=this.wrappedTextIndentLength),new Bk(o,a)}normalizeOutputPosition(e,t,i){if(this.injectionOffsets!==null){const r=this.outputPositionToOffsetInInputWithInjections(e,t),o=this.normalizeOffsetInInputWithInjectionsAroundInjections(r,i);if(o!==r)return this.offsetInInputWithInjectionsToOutputPosition(o,i)}if(i===0){if(e>0&&t===this.getMinOutputOffset(e))return new Bk(e-1,this.getMaxOutputOffset(e-1))}else if(i===1){const r=this.getOutputLineCount()-1;if(e<r&&t===this.getMaxOutputOffset(e))return new Bk(e+1,this.getMinOutputOffset(e+1))}return new Bk(e,t)}outputPositionToOffsetInInputWithInjections(e,t){return e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength)),(e>0?this.breakOffsets[e-1]:0)+t}normalizeOffsetInInputWithInjectionsAroundInjections(e,t){const i=this.getInjectedTextAtOffset(e);if(!i)return e;if(t===2){if(e===i.offsetInInputWithInjections+i.length&&KG(this.injectionOptions[i.injectedTextIndex].cursorStops))return i.offsetInInputWithInjections+i.length;{let r=i.offsetInInputWithInjections;if(GG(this.injectionOptions[i.injectedTextIndex].cursorStops))return r;let o=i.injectedTextIndex-1;for(;o>=0&&this.injectionOffsets[o]===this.injectionOffsets[i.injectedTextIndex]&&!(KG(this.injectionOptions[o].cursorStops)||(r-=this.injectionOptions[o].content.length,GG(this.injectionOptions[o].cursorStops)));)o--;return r}}else if(t===1||t===4){let r=i.offsetInInputWithInjections+i.length,o=i.injectedTextIndex;for(;o+1<this.injectionOffsets.length&&this.injectionOffsets[o+1]===this.injectionOffsets[o];)r+=this.injectionOptions[o+1].content.length,o++;return r}else if(t===0||t===3){let r=i.offsetInInputWithInjections,o=i.injectedTextIndex;for(;o-1>=0&&this.injectionOffsets[o-1]===this.injectionOffsets[o];)r-=this.injectionOptions[o-1].content.length,o--;return r}DP()}getInjectedText(e,t){const i=this.outputPositionToOffsetInInputWithInjections(e,t),r=this.getInjectedTextAtOffset(i);return r?{options:this.injectionOptions[r.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const t=this.injectionOffsets,i=this.injectionOptions;if(t!==null){let r=0;for(let o=0;o<t.length;o++){const s=i[o].content.length,a=t[o]+r,l=t[o]+r+s;if(a>e)break;if(e<=l)return{injectedTextIndex:o,offsetInInputWithInjections:a,length:s};r+=s}}}}function KG(n){return n==null?!0:n===Tc.Right||n===Tc.Both}function GG(n){return n==null?!0:n===Tc.Left||n===Tc.Both}class Bk{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e){return new re(e+this.outputLineIndex,this.outputOffset+1)}}class dV{static create(e){return new dV(e.get(132),e.get(131))}constructor(e,t){this.classifier=new fOe(e,t)}createLineBreaksComputer(e,t,i,r,o){const s=[],a=[],l=[];return{addRequest:(c,d,u)=>{s.push(c),a.push(d),l.push(u)},finalize:()=>{const c=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth,d=[];for(let u=0,h=s.length;u<h;u++){const f=a[u],g=l[u];g&&!g.injectionOptions&&!f?d[u]=gOe(this.classifier,g,s[u],t,i,c,r,o):d[u]=pOe(this.classifier,s[u],f,t,i,c,r,o)}return y3.length=0,C3.length=0,d}}}}class fOe extends wy{constructor(e,t){super(0);for(let i=0;i<e.length;i++)this.set(e.charCodeAt(i),1);for(let i=0;i<t.length;i++)this.set(t.charCodeAt(i),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let y3=[],C3=[];function gOe(n,e,t,i,r,o,s,a){if(r===-1)return null;const l=t.length;if(l<=1)return null;const c=a==="keepAll",d=e.breakOffsets,u=e.breakOffsetsVisibleColumn,h=bce(t,i,r,o,s),f=r-h,g=y3,_=C3;let y=0,m=0,p=0,v=r;const b=d.length;let C=0;if(C>=0){let S=Math.abs(u[C]-v);for(;C+1<b;){const x=Math.abs(u[C+1]-v);if(x>=S)break;S=x,C++}}for(;C<b;){let S=C<0?0:d[C],x=C<0?0:u[C];m>S&&(S=m,x=p);let k=0,D=0,E=0,I=0;if(x<=v){let R=x,O=S===0?0:t.charCodeAt(S-1),W=S===0?0:n.get(O),K=!0;for(let Q=S;Q<l;Q++){const Y=Q,V=t.charCodeAt(Q);let X,J;if(cr(V)?(Q++,X=0,J=2):(X=n.get(V),J=qw(V,R,i,o)),Y>m&&w3(O,W,V,X,c)&&(k=Y,D=R),R+=J,R>v){Y>m?(E=Y,I=R-J):(E=Q+1,I=R),R-D>f&&(k=0),K=!1;break}O=V,W=X}if(K){y>0&&(g[y]=d[d.length-1],_[y]=u[d.length-1],y++);break}}if(k===0){let R=x,O=t.charCodeAt(S),W=n.get(O),K=!1;for(let Q=S-1;Q>=m;Q--){const Y=Q+1,V=t.charCodeAt(Q);if(V===9){K=!0;break}let X,J;if(Um(V)?(Q--,X=0,J=2):(X=n.get(V),J=Pg(V)?o:1),R<=v){if(E===0&&(E=Y,I=R),R<=v-f)break;if(w3(V,X,O,W,c)){k=Y,D=R;break}}R-=J,O=V,W=X}if(k!==0){const Q=f-(I-D);if(Q<=i){const Y=t.charCodeAt(E);let V;cr(Y)?V=2:V=qw(Y,I,i,o),Q-V<0&&(k=0)}}if(K){C--;continue}}if(k===0&&(k=E,D=I),k<=m){const R=t.charCodeAt(m);cr(R)?(k=m+2,D=p+2):(k=m+1,D=p+qw(R,p,i,o))}for(m=k,g[y]=k,p=D,_[y]=D,y++,v=D+f;C<0||C<b&&u[C]<D;)C++;let N=Math.abs(u[C]-v);for(;C+1<b;){const R=Math.abs(u[C+1]-v);if(R>=N)break;N=R,C++}}return y===0?null:(g.length=y,_.length=y,y3=e.breakOffsets,C3=e.breakOffsetsVisibleColumn,e.breakOffsets=g,e.breakOffsetsVisibleColumn=_,e.wrappedTextIndentLength=h,e)}function pOe(n,e,t,i,r,o,s,a){const l=Gc.applyInjectedText(e,t);let c,d;if(t&&t.length>0?(c=t.map(D=>D.options),d=t.map(D=>D.column-1)):(c=null,d=null),r===-1)return c?new $w(d,c,[l.length],[],0):null;const u=l.length;if(u<=1)return c?new $w(d,c,[l.length],[],0):null;const h=a==="keepAll",f=bce(l,i,r,o,s),g=r-f,_=[],y=[];let m=0,p=0,v=0,b=r,C=l.charCodeAt(0),S=n.get(C),x=qw(C,0,i,o),k=1;cr(C)&&(x+=1,C=l.charCodeAt(1),S=n.get(C),k++);for(let D=k;D<u;D++){const E=D,I=l.charCodeAt(D);let N,R;cr(I)?(D++,N=0,R=2):(N=n.get(I),R=qw(I,x,i,o)),w3(C,S,I,N,h)&&(p=E,v=x),x+=R,x>b&&((p===0||x-v>g)&&(p=E,v=x-R),_[m]=p,y[m]=v,m++,b=v+g,p=0),C=I,S=N}return m===0&&(!t||t.length===0)?null:(_[m]=u,y[m]=x,new $w(d,c,_,y,f))}function qw(n,e,t,i){return n===9?t-e%t:Pg(n)||n<32?i:1}function ZG(n,e){return e-n%e}function w3(n,e,t,i,r){return t!==32&&(e===2&&i!==2||e!==1&&i===1||!r&&e===3&&i!==2||!r&&i===3&&e!==1)}function bce(n,e,t,i,r){let o=0;if(r!==0){const s=xo(n);if(s!==-1){for(let l=0;l<s;l++){const c=n.charCodeAt(l)===9?ZG(o,e):1;o+=c}const a=r===3?2:r===2?1:0;for(let l=0;l<a;l++){const c=ZG(o,e);o+=c}o+i>t&&(o=0)}}return o}const rO=Fh("domLineBreaksComputer",{createHTML:n=>n});class uV{static create(e){return new uV(new WeakRef(e))}constructor(e){this.targetWindow=e}createLineBreaksComputer(e,t,i,r,o){const s=[],a=[];return{addRequest:(l,c,d)=>{s.push(l),a.push(c)},finalize:()=>mOe(Ff(this.targetWindow.deref()),s,e,t,i,r,o,a)}}}function mOe(n,e,t,i,r,o,s,a){var l;function c(E){const I=a[E];if(I){const N=Gc.applyInjectedText(e[E],I),R=I.map(W=>W.options),O=I.map(W=>W.column-1);return new $w(O,R,[N.length],[],0)}else return null}if(r===-1){const E=[];for(let I=0,N=e.length;I<N;I++)E[I]=c(I);return E}const d=Math.round(r*t.typicalHalfwidthCharacterWidth),h=Math.round(i*(o===3?2:o===2?1:0)),f=Math.ceil(t.spaceWidth*h),g=document.createElement("div");Ur(g,t);const _=new Cy(1e4),y=[],m=[],p=[],v=[],b=[];for(let E=0;E<e.length;E++){const I=Gc.applyInjectedText(e[E],a[E]);let N=0,R=0,O=d;if(o!==0)if(N=xo(I),N===-1)N=0;else{for(let Y=0;Y<N;Y++){const V=I.charCodeAt(Y)===9?i-R%i:1;R+=V}const Q=Math.ceil(t.spaceWidth*R);Q+t.typicalFullwidthCharacterWidth>d?(N=0,R=0):O=d-Q}const W=I.substr(N),K=_Oe(W,R,i,O,_,f);y[E]=N,m[E]=R,p[E]=W,v[E]=K[0],b[E]=K[1]}const C=_.build(),S=(l=rO==null?void 0:rO.createHTML(C))!==null&&l!==void 0?l:C;g.innerHTML=S,g.style.position="absolute",g.style.top="10000",s==="keepAll"?(g.style.wordBreak="keep-all",g.style.overflowWrap="anywhere"):(g.style.wordBreak="inherit",g.style.overflowWrap="break-word"),n.document.body.appendChild(g);const x=document.createRange(),k=Array.prototype.slice.call(g.children,0),D=[];for(let E=0;E<e.length;E++){const I=k[E],N=vOe(x,I,p[E],v[E]);if(N===null){D[E]=c(E);continue}const R=y[E],O=m[E]+h,W=b[E],K=[];for(let X=0,J=N.length;X<J;X++)K[X]=W[N[X]];if(R!==0)for(let X=0,J=N.length;X<J;X++)N[X]+=R;let Q,Y;const V=a[E];V?(Q=V.map(X=>X.options),Y=V.map(X=>X.column-1)):(Q=null,Y=null),D[E]=new $w(Y,Q,N,K,O)}return n.document.body.removeChild(g),D}function _Oe(n,e,t,i,r,o){if(o!==0){const h=String(o);r.appendString('<div style="text-indent: -'),r.appendString(h),r.appendString("px; padding-left: "),r.appendString(h),r.appendString("px; box-sizing: border-box; width:")}else r.appendString('<div style="width:');r.appendString(String(i)),r.appendString('px;">');const s=n.length;let a=e,l=0;const c=[],d=[];let u=0<s?n.charCodeAt(0):0;r.appendString("<span>");for(let h=0;h<s;h++){h!==0&&h%16384===0&&r.appendString("</span><span>"),c[h]=l,d[h]=a;const f=u;u=h+1<s?n.charCodeAt(h+1):0;let g=1,_=1;switch(f){case 9:g=t-a%t,_=g;for(let y=1;y<=g;y++)y<g?r.appendCharCode(160):r.appendASCIICharCode(32);break;case 32:u===32?r.appendCharCode(160):r.appendASCIICharCode(32);break;case 60:r.appendString("&lt;");break;case 62:r.appendString("&gt;");break;case 38:r.appendString("&amp;");break;case 0:r.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:r.appendCharCode(65533);break;default:Pg(f)&&_++,f<32?r.appendCharCode(9216+f):r.appendCharCode(f)}l+=g,a+=_}return r.appendString("</span>"),c[n.length]=l,d[n.length]=a,r.appendString("</div>"),[c,d]}function vOe(n,e,t,i){if(t.length<=1)return null;const r=Array.prototype.slice.call(e.children,0),o=[];try{S3(n,r,i,0,null,t.length-1,null,o)}catch(s){return console.log(s),null}return o.length===0?null:(o.push(t.length),o)}function S3(n,e,t,i,r,o,s,a){if(i===o||(r=r||oO(n,e,t[i],t[i+1]),s=s||oO(n,e,t[o],t[o+1]),Math.abs(r[0].top-s[0].top)<=.1))return;if(i+1===o){a.push(o);return}const l=i+(o-i)/2|0,c=oO(n,e,t[l],t[l+1]);S3(n,e,t,i,r,l,c,a),S3(n,e,t,l,c,o,s,a)}function oO(n,e,t,i){return n.setStart(e[t/16384|0].firstChild,t%16384),n.setEnd(e[i/16384|0].firstChild,i%16384),n.getClientRects()}class bOe extends ce{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new KW),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(e,t,i){this._editor=e,this._instantiationService=i;for(const r of t){if(this._pending.has(r.id)){St(new Error(`Cannot have two contributions with the same id ${r.id}`));continue}this._pending.set(r.id,r)}this._instantiateSome(0),this._register(jC(ht(this._editor.getDomNode()),()=>{this._instantiateSome(1)})),this._register(jC(ht(this._editor.getDomNode()),()=>{this._instantiateSome(2)})),this._register(jC(ht(this._editor.getDomNode()),()=>{this._instantiateSome(3)},5e3))}saveViewState(){const e={};for(const[t,i]of this._instances)typeof i.saveViewState=="function"&&(e[t]=i.saveViewState());return e}restoreViewState(e){for(const[t,i]of this._instances)typeof i.restoreViewState=="function"&&i.restoreViewState(e[t])}get(e){return this._instantiateById(e),this._instances.get(e)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){var e;this._register(jC(ht((e=this._editor)===null||e===void 0?void 0:e.getDomNode()),()=>{this._instantiateSome(1)},50))}_instantiateSome(e){if(this._finishedInstantiation[e])return;this._finishedInstantiation[e]=!0;const t=this._findPendingContributionsByInstantiation(e);for(const i of t)this._instantiateById(i.id)}_findPendingContributionsByInstantiation(e){const t=[];for(const[,i]of this._pending)i.instantiation===e&&t.push(i);return t}_instantiateById(e){const t=this._pending.get(e);if(t){if(this._pending.delete(e),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const i=this._instantiationService.createInstance(t.ctor,this._editor);this._instances.set(t.id,i),typeof i.restoreViewState=="function"&&t.instantiation!==0&&console.warn(`Editor contribution '${t.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(i){St(i)}}}}var yOe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Du=function(n,e){return function(t,i){e(t,i,n)}},Up;let COe=0,wOe=class{constructor(e,t,i,r,o,s){this.model=e,this.viewModel=t,this.view=i,this.hasRealView=r,this.listenersToRemove=o,this.attachedView=s}dispose(){vi(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}},Ab=Up=class extends ce{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor(e,t,i,r,o,s,a,l,c,d,u,h){var f;super(),this.languageConfigurationService=u,this._deliveryQueue=lLe(),this._contributions=this._register(new bOe),this._onDidDispose=this._register(new ne),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new ne({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new ne({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new ne({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new ne({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new ne({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new ne({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new ne({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onWillChangeModel=this._register(new ne({deliveryQueue:this._deliveryQueue})),this.onWillChangeModel=this._onWillChangeModel.event,this._onDidChangeModel=this._register(new ne({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new ne({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new ne({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new go(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new ne({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new YG({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new YG({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new go(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new go(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new go(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new go(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new go(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new go(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new go(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new go(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new go(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new go(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new go(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new go(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new go(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new go(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new go(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new go(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new go(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new ne({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new ne({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new ne({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new ne({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),o.willCreateCodeEditor();const g={...t};this._domElement=e,this._overflowWidgetsDomNode=g.overflowWidgetsDomNode,delete g.overflowWidgetsDomNode,this._id=++COe,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=i.telemetryData,this._configuration=this._register(this._createConfiguration(i.isSimpleWidget||!1,g,d)),this._register(this._configuration.onDidChange(m=>{this._onDidChangeConfiguration.fire(m);const p=this._configuration.options;if(m.hasChanged(143)){const v=p.get(143);this._onDidLayoutChange.fire(v)}})),this._contextKeyService=this._register(a.createScoped(this._domElement)),this._notificationService=c,this._codeEditorService=o,this._commandService=s,this._themeService=l,this._register(new SOe(this,this._contextKeyService)),this._register(new xOe(this,this._contextKeyService,h)),this._instantiationService=r.createChild(new Gx([_t,this._contextKeyService])),this._modelData=null,this._focusTracker=new LOe(e,this._overflowWidgetsDomNode),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let _;Array.isArray(i.contributions)?_=i.contributions:_=Iv.getEditorContributions(),this._contributions.initialize(this,_,this._instantiationService);for(const m of Iv.getEditorActions()){if(this._actions.has(m.id)){St(new Error(`Cannot have two actions with the same id ${m.id}`));continue}const p=new Gle(m.id,m.label,m.alias,m.metadata,(f=m.precondition)!==null&&f!==void 0?f:void 0,v=>this._instantiationService.invokeFunction(b=>Promise.resolve(m.runEditorCommand(b,this,v))),this._contextKeyService);this._actions.set(p.id,p)}const y=()=>!this._configuration.options.get(90)&&this._configuration.options.get(36).enabled;this._register(new $De(this._domElement,{onDragOver:m=>{if(!y())return;const p=this.getTargetAtClientPoint(m.clientX,m.clientY);p!=null&&p.position&&this.showDropIndicatorAt(p.position)},onDrop:async m=>{if(!y()||(this.removeDropIndicator(),!m.dataTransfer))return;const p=this.getTargetAtClientPoint(m.clientX,m.clientY);p!=null&&p.position&&this._onDropIntoEditor.fire({position:p.position,event:m})},onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(e){var t;(t=this._modelData)===null||t===void 0||t.view.writeScreenReaderContent(e)}_createConfiguration(e,t,i){return new ZF(e,t,this._domElement,i)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Bx.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e||{})}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?gi.getWordAtPosition(this._modelData.model,this._configuration.options.get(129),e):null}getValue(e=null){if(!this._modelData)return"";const t=!!(e&&e.preserveBOM);let i=0;return e&&e.lineEnding&&e.lineEnding===`
`?i=1:e&&e.lineEnding&&e.lineEnding===`\r
`&&(i=2),this._modelData.model.getValue(i,t)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){var t;const i=e;if(this._modelData===null&&i===null||this._modelData&&this._modelData.model===i)return;const r={oldModelUrl:((t=this._modelData)===null||t===void 0?void 0:t.model.uri)||null,newModelUrl:(i==null?void 0:i.uri)||null};this._onWillChangeModel.fire(r);const o=this.hasTextFocus(),s=this._detachModel();this._attachModel(i),o&&this.hasModel()&&this.focus(),this._removeDecorationTypes(),this._onDidChangeModel.fire(r),this._postDetachModelCleanup(s),this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const e in this._decorationTypeSubtypes){const t=this._decorationTypeSubtypes[e];for(const i in t)this._removeDecorationType(e+"-"+i)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(e,t,i,r){const o=e.model.validatePosition({lineNumber:t,column:i}),s=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o);return e.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(s.lineNumber,r)}getTopForLineNumber(e,t=!1){return this._modelData?Up._getVerticalOffsetForPosition(this._modelData,e,1,t):-1}getTopForPosition(e,t){return this._modelData?Up._getVerticalOffsetForPosition(this._modelData,e,t,!1):-1}static _getVerticalOffsetForPosition(e,t,i,r=!1){const o=e.model.validatePosition({lineNumber:t,column:i}),s=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(s.lineNumber,r)}getBottomForLineNumber(e,t=!1){return this._modelData?Up._getVerticalOffsetAfterPosition(this._modelData,e,1,t):-1}setHiddenAreas(e,t){var i;(i=this._modelData)===null||i===void 0||i.viewModel.setHiddenAreas(e.map(r=>B.lift(r)),t)}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const t=this._modelData.model.validatePosition(e),i=this._modelData.model.getOptions().tabSize;return ir.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,i)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e,t="api"){if(this._modelData){if(!re.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,i,r){if(!this._modelData)return;if(!B.isIRange(e))throw new Error("Invalid arguments");const o=this._modelData.model.validateRange(e),s=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(o);this._modelData.viewModel.revealRange("api",i,s,t,r)}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,i){if(typeof e!="number")throw new Error("Invalid arguments");this._sendRevealRange(new B(e,1,e,1),t,!1,i)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,i,r){if(!re.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new B(e.lineNumber,e.column,e.lineNumber,e.column),t,i,r)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e,t="api"){const i=Ke.isISelection(e),r=B.isIRange(e);if(!i&&!r)throw new Error("Invalid arguments");if(i)this._setSelectionImpl(e,t);else if(r){const o={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(o,t)}}_setSelectionImpl(e,t){if(!this._modelData)return;const i=new Ke(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections(t,[i])}revealLines(e,t,i=0){this._revealLines(e,t,0,i)}revealLinesInCenter(e,t,i=0){this._revealLines(e,t,1,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._revealLines(e,t,2,i)}revealLinesNearTop(e,t,i=0){this._revealLines(e,t,5,i)}_revealLines(e,t,i,r){if(typeof e!="number"||typeof t!="number")throw new Error("Invalid arguments");this._sendRevealRange(new B(e,1,t,1),i,!1,r)}revealRange(e,t=0,i=!1,r=!0){this._revealRange(e,i?1:0,r,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,i,r){if(!B.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(B.lift(e),t,i,r)}setSelections(e,t="api",i=0){if(this._modelData){if(!e||e.length===0)throw new Error("Invalid arguments");for(let r=0,o=e.length;r<o;r++)if(!Ke.isISelection(e[r]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e,i)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(e,t)}hasPendingScrollAnimation(){return this._modelData?this._modelData.viewModel.viewLayout.hasPendingScrollAnimation():!1}saveViewState(){if(!this._modelData)return null;const e=this._contributions.saveViewState(),t=this._modelData.viewModel.saveCursorState(),i=this._modelData.viewModel.saveState();return{cursorState:t,viewState:i,contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const t=e;if(t&&t.cursorState&&t.viewState){const i=t.cursorState;Array.isArray(i)?i.length>0&&this._modelData.viewModel.restoreCursorState(i):this._modelData.viewModel.restoreCursorState([i]),this._contributions.restoreViewState(t.contributionsState||{});const r=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(r)}}handleInitialized(){var e;(e=this._getViewModel())===null||e===void 0||e.visibleLinesStabilized()}getContribution(e){return this._contributions.get(e)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let e=this.getActions();return e=e.filter(t=>t.isSupported()),e}getAction(e){return this._actions.get(e)||null}trigger(e,t,i){switch(i=i||{},t){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(e);return;case"type":{const o=i;this._type(e,o.text||"");return}case"replacePreviousChar":{const o=i;this._compositionType(e,o.text||"",o.replaceCharCnt||0,0,0);return}case"compositionType":{const o=i;this._compositionType(e,o.text||"",o.replacePrevCharCnt||0,o.replaceNextCharCnt||0,o.positionDelta||0);return}case"paste":{const o=i;this._paste(e,o.text||"",o.pasteOnNewLine||!1,o.multicursorText||null,o.mode||null);return}case"cut":this._cut(e);return}const r=this.getAction(t);if(r){Promise.resolve(r.run(i)).then(void 0,St);return}this._modelData&&(this._triggerEditorCommand(e,t,i)||this._triggerCommand(t,i))}_triggerCommand(e,t){this._commandService.executeCommand(e,t)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){!this._modelData||t.length===0||(e==="keyboard"&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),e==="keyboard"&&this._onDidType.fire(t))}_compositionType(e,t,i,r,o){this._modelData&&this._modelData.viewModel.compositionType(t,i,r,o,e)}_paste(e,t,i,r,o){if(!this._modelData||t.length===0)return;const s=this._modelData.viewModel,a=s.getSelection().getStartPosition();s.paste(t,i,r,e);const l=s.getSelection().getStartPosition();e==="keyboard"&&this._onDidPaste.fire({range:new B(a.lineNumber,a.column,l.lineNumber,l.column),languageId:o})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,i){const r=Iv.getEditorCommand(t);return r?(i=i||{},i.source=e,this._instantiationService.invokeFunction(o=>{Promise.resolve(r.runEditorCommand(o,this,i)).then(void 0,St)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(90)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(90)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(e,t,i){if(!this._modelData||this._configuration.options.get(90))return!1;let r;return i?Array.isArray(i)?r=()=>i:r=i:r=()=>null,this._modelData.viewModel.executeEdits(e,t,r),!0}executeCommand(e,t){this._modelData&&this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){this._modelData&&this._modelData.viewModel.executeCommands(t,e)}createDecorationsCollection(e){return new kOe(this,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,IE(this._configuration.options)):null}getDecorationsInRange(e){return this._modelData?this._modelData.model.getDecorationsInRange(e,this._id,IE(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?e.length===0&&t.length===0?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){!this._modelData||e.length===0||this._modelData.model.changeDecorations(t=>{t.deltaDecorations(e,[])})}removeDecorationsByType(e){const t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(143)}createOverviewRuler(e){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(e)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(e)}delegateScrollFromMouseWheelEvent(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(e)}layout(e,t=!1){this._configuration.observeContainer(e),t||this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id:"+e.getId()),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}}removeContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(i)}}addOverlayWidget(e){const t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}}removeOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(i)}}addGlyphMarginWidget(e){const t={widget:e,position:e.getPosition()};this._glyphMarginWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(t)}layoutGlyphMarginWidget(e){const t=e.getId();if(this._glyphMarginWidgets.hasOwnProperty(t)){const i=this._glyphMarginWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(i)}}removeGlyphMarginWidget(e){const t=e.getId();if(this._glyphMarginWidgets.hasOwnProperty(t)){const i=this._glyphMarginWidgets[t];delete this._glyphMarginWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(i)}}changeViewZones(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(e,t)}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;const t=this._modelData.model.validatePosition(e),i=this._configuration.options,r=i.get(143),o=Up._getVerticalOffsetForPosition(this._modelData,t.lineNumber,t.column)-this.getScrollTop(),s=this._modelData.view.getOffsetForColumn(t.lineNumber,t.column)+r.glyphMarginWidth+r.lineNumbersWidth+r.decorationsWidth-this.getScrollLeft();return{top:o,left:s,height:i.get(66)}}getOffsetForColumn(e,t){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(e,t)}render(e=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,e)}setAriaOptions(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(e)}applyFontInfo(e){Ur(e,this._configuration.options.get(50))}setBanner(e,t){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=e,this._configuration.setReservedHeight(e?t:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(e){if(!e){this._modelData=null;return}const t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setModelLineCount(e.getLineCount());const i=e.onBeforeAttached(),r=new lOe(this._id,this._configuration,e,uV.create(ht(this._domElement)),dV.create(this._configuration.options),a=>Hs(ht(this._domElement),a),this.languageConfigurationService,this._themeService,i);t.push(e.onWillDispose(()=>this.setModel(null))),t.push(r.onEvent(a=>{switch(a.kind){case 0:this._onDidContentSizeChange.fire(a);break;case 1:this._editorTextFocus.setValue(a.hasFocus);break;case 2:this._onDidScrollChange.fire(a);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(a.reachedMaxCursorCount){const u=this.getOption(79),h=w("cursors.maximum","The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",u);this._notificationService.prompt(rM.Warning,h,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:w("goToSetting","Increase Multi Cursor Limit"),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const l=[];for(let u=0,h=a.selections.length;u<h;u++)l[u]=a.selections[u].getPosition();const c={position:l[0],secondaryPositions:l.slice(1),reason:a.reason,source:a.source};this._onDidChangeCursorPosition.fire(c);const d={selection:a.selections[0],secondarySelections:a.selections.slice(1),modelVersionId:a.modelVersionId,oldSelections:a.oldSelections,oldModelVersionId:a.oldModelVersionId,source:a.source,reason:a.reason};this._onDidChangeCursorSelection.fire(d);break}case 7:this._onDidChangeModelDecorations.fire(a.event);break;case 8:this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(a.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(a.event);break;case 10:this._onDidChangeModelContent.fire(a.event);break;case 11:this._onDidChangeModelOptions.fire(a.event);break;case 12:this._onDidChangeModelTokens.fire(a.event);break}}));const[o,s]=this._createView(r);if(s){this._domElement.appendChild(o.domNode.domNode);let a=Object.keys(this._contentWidgets);for(let l=0,c=a.length;l<c;l++){const d=a[l];o.addContentWidget(this._contentWidgets[d])}a=Object.keys(this._overlayWidgets);for(let l=0,c=a.length;l<c;l++){const d=a[l];o.addOverlayWidget(this._overlayWidgets[d])}a=Object.keys(this._glyphMarginWidgets);for(let l=0,c=a.length;l<c;l++){const d=a[l];o.addGlyphMarginWidget(this._glyphMarginWidgets[d])}o.render(!1,!0),o.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new wOe(e,r,o,s,t,i)}_createView(e){let t;this.isSimpleWidget?t={paste:(o,s,a,l)=>{this._paste("keyboard",o,s,a,l)},type:o=>{this._type("keyboard",o)},compositionType:(o,s,a,l)=>{this._compositionType("keyboard",o,s,a,l)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:t={paste:(o,s,a,l)=>{const c={text:o,pasteOnNewLine:s,multicursorText:a,mode:l};this._commandService.executeCommand("paste",c)},type:o=>{const s={text:o};this._commandService.executeCommand("type",s)},compositionType:(o,s,a,l)=>{if(a||l){const c={text:o,replacePrevCharCnt:s,replaceNextCharCnt:a,positionDelta:l};this._commandService.executeCommand("compositionType",c)}else{const c={text:o,replaceCharCnt:s};this._commandService.executeCommand("replacePreviousChar",c)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const i=new JP(e.coordinatesConverter);return i.onKeyDown=o=>this._onKeyDown.fire(o),i.onKeyUp=o=>this._onKeyUp.fire(o),i.onContextMenu=o=>this._onContextMenu.fire(o),i.onMouseMove=o=>this._onMouseMove.fire(o),i.onMouseLeave=o=>this._onMouseLeave.fire(o),i.onMouseDown=o=>this._onMouseDown.fire(o),i.onMouseUp=o=>this._onMouseUp.fire(o),i.onMouseDrag=o=>this._onMouseDrag.fire(o),i.onMouseDrop=o=>this._onMouseDrop.fire(o),i.onMouseDropCanceled=o=>this._onMouseDropCanceled.fire(o),i.onMouseWheel=o=>this._onMouseWheel.fire(o),[new a3(t,this._configuration,this._themeService.getColorTheme(),e,i,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup(e){e==null||e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&this._domElement.removeChild(t),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return this._modelData!==null}showDropIndicatorAt(e){const t=[{range:new B(e.lineNumber,e.column,e.lineNumber,e.column),options:Up.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(t),this.revealPosition(e,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue(e,t){this._contextKeyService.createKey(e,t)}};Ab.dropIntoEditorDecorationOptions=kt.register({description:"workbench-dnd-target",className:"dnd-target"});Ab=Up=yOe([Du(3,dt),Du(4,ai),Du(5,fn),Du(6,_t),Du(7,mr),Du(8,Rn),Du(9,Gl),Du(10,Pi),Du(11,qe)],Ab);class YG extends ce{constructor(e){super(),this._emitterOptions=e,this._onDidChangeToTrue=this._register(new ne(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new ne(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const t=e?2:1;this._value!==t&&(this._value=t,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class go extends ne{constructor(e,t){super({deliveryQueue:t}),this._contributions=e}fire(e){this._contributions.onBeforeInteractionEvent(),super.fire(e)}}class SOe extends ce{constructor(e,t){super(),this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=j.editorSimpleInput.bindTo(t),this._editorFocus=j.focus.bindTo(t),this._textInputFocus=j.textInputFocus.bindTo(t),this._editorTextFocus=j.editorTextFocus.bindTo(t),this._tabMovesFocus=j.tabMovesFocus.bindTo(t),this._editorReadonly=j.readOnly.bindTo(t),this._inDiffEditor=j.inDiffEditor.bindTo(t),this._editorColumnSelection=j.columnSelection.bindTo(t),this._hasMultipleSelections=j.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=j.hasNonEmptySelection.bindTo(t),this._canUndo=j.canUndo.bindTo(t),this._canRedo=j.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(Db.onDidChangeTabFocus(i=>this._tabMovesFocus.set(i))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._tabMovesFocus.set(Db.getTabFocusMode()),this._editorReadonly.set(e.get(90)),this._inDiffEditor.set(e.get(61)),this._editorColumnSelection.set(e.get(22))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(t=>!t.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(!!(e&&e.canUndo())),this._canRedo.set(!!(e&&e.canRedo()))}}class xOe extends ce{constructor(e,t,i){super(),this._editor=e,this._contextKeyService=t,this._languageFeaturesService=i,this._langId=j.languageId.bindTo(t),this._hasCompletionItemProvider=j.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=j.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=j.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=j.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=j.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=j.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=j.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=j.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=j.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=j.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=j.hasReferenceProvider.bindTo(t),this._hasRenameProvider=j.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=j.hasSignatureHelpProvider.bindTo(t),this._hasInlayHintsProvider=j.hasInlayHintsProvider.bindTo(t),this._hasDocumentFormattingProvider=j.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=j.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=j.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=j.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInWalkThrough=j.isInWalkThroughSnippet.bindTo(t);const r=()=>this._update();this._register(e.onDidChangeModel(r)),this._register(e.onDidChangeModelLanguage(r)),this._register(i.completionProvider.onDidChange(r)),this._register(i.codeActionProvider.onDidChange(r)),this._register(i.codeLensProvider.onDidChange(r)),this._register(i.definitionProvider.onDidChange(r)),this._register(i.declarationProvider.onDidChange(r)),this._register(i.implementationProvider.onDidChange(r)),this._register(i.typeDefinitionProvider.onDidChange(r)),this._register(i.hoverProvider.onDidChange(r)),this._register(i.documentHighlightProvider.onDidChange(r)),this._register(i.documentSymbolProvider.onDidChange(r)),this._register(i.referenceProvider.onDidChange(r)),this._register(i.renameProvider.onDidChange(r)),this._register(i.documentFormattingEditProvider.onDidChange(r)),this._register(i.documentRangeFormattingEditProvider.onDidChange(r)),this._register(i.signatureHelpProvider.onDidChange(r)),this._register(i.inlayHintsProvider.onDidChange(r)),r()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const e=this._editor.getModel();if(!e){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(e)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(e)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(e)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(e)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(e)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(e)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(e)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(e)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(e)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(e)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(e)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(e)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(e)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(e)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(e)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(e).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===Tt.walkThroughSnippet)})}}class LOe extends ce{constructor(e,t){super(),this._onChange=this._register(new ne),this.onChange=this._onChange.event,this._hadFocus=void 0,this._hasDomElementFocus=!1,this._domFocusTracker=this._register($c(e)),this._overflowWidgetsDomNodeHasFocus=!1,this._register(this._domFocusTracker.onDidFocus(()=>{this._hasDomElementFocus=!0,this._update()})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasDomElementFocus=!1,this._update()})),t&&(this._overflowWidgetsDomNode=this._register($c(t)),this._register(this._overflowWidgetsDomNode.onDidFocus(()=>{this._overflowWidgetsDomNodeHasFocus=!0,this._update()})),this._register(this._overflowWidgetsDomNode.onDidBlur(()=>{this._overflowWidgetsDomNodeHasFocus=!1,this._update()})))}_update(){const e=this._hasDomElementFocus||this._overflowWidgetsDomNodeHasFocus;this._hadFocus!==e&&(this._hadFocus=e,this._onChange.fire(void 0))}hasFocus(){var e;return(e=this._hadFocus)!==null&&e!==void 0?e:!1}}class kOe{get length(){return this._decorationIds.length}constructor(e,t){this._editor=e,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(t)&&t.length>0&&this.set(t)}onDidChange(e,t,i){return this._editor.onDidChangeModelDecorations(r=>{this._isChangingDecorations||e.call(t,r)},i)}getRange(e){return!this._editor.hasModel()||e>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[e])}getRanges(){if(!this._editor.hasModel())return[];const e=this._editor.getModel(),t=[];for(const i of this._decorationIds){const r=e.getDecorationRange(i);r&&t.push(r)}return t}has(e){return this._decorationIds.includes(e.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(e){try{this._isChangingDecorations=!0,this._editor.changeDecorations(t=>{this._decorationIds=t.deltaDecorations(this._decorationIds,e)})}finally{this._isChangingDecorations=!1}return this._decorationIds}append(e){let t=[];try{this._isChangingDecorations=!0,this._editor.changeDecorations(i=>{t=i.deltaDecorations([],e),this._decorationIds=this._decorationIds.concat(t)})}finally{this._isChangingDecorations=!1}return t}}const DOe=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),TOe=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function sO(n){return DOe+encodeURIComponent(n.toString())+TOe}const EOe=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),IOe=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function NOe(n){return EOe+encodeURIComponent(n.toString())+IOe}cl((n,e)=>{const t=n.getColor(zd);t&&e.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${sO(t)}") repeat-x bottom left; }`);const i=n.getColor(wo);i&&e.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${sO(i)}") repeat-x bottom left; }`);const r=n.getColor(gs);r&&e.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${sO(r)}") repeat-x bottom left; }`);const o=n.getColor(tNe);o&&e.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${NOe(o)}") no-repeat bottom left; }`);const s=n.getColor(gMe);s&&e.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${s.rgba.a}; }`)});var POe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},MOe=function(n,e){return function(t,i){e(t,i,n)}};let x3=class extends ce{constructor(e){super(),this._themeService=e,this._onWillCreateCodeEditor=this._register(new ne),this._onCodeEditorAdd=this._register(new ne),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new ne),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new ne),this._onDiffEditorAdd=this._register(new ne),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new ne),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new Fo,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map(e=>this._codeEditors[e])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map(e=>this._diffEditors[e])}getFocusedCodeEditor(){let e=null;const t=this.listCodeEditors();for(const i of t){if(i.hasTextFocus())return i;i.hasWidgetFocus()&&(e=i)}return e}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach(i=>i.removeDecorationsByType(e))))}setModelProperty(e,t,i){const r=e.toString();let o;this._modelProperties.has(r)?o=this._modelProperties.get(r):(o=new Map,this._modelProperties.set(r,o)),o.set(t,i)}getModelProperty(e,t){const i=e.toString();if(this._modelProperties.has(i))return this._modelProperties.get(i).get(t)}async openCodeEditor(e,t,i){for(const r of this._codeEditorOpenHandlers){const o=await r(e,t,i);if(o!==null)return o}return null}registerCodeEditorOpenHandler(e){const t=this._codeEditorOpenHandlers.unshift(e);return at(t)}};x3=POe([MOe(0,mr)],x3);var ROe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},XG=function(n,e){return function(t,i){e(t,i,n)}};let _I=class extends x3{constructor(e,t){super(t),this._register(this.onCodeEditorAdd(()=>this._checkContextKey())),this._register(this.onCodeEditorRemove(()=>this._checkContextKey())),this._editorIsOpen=e.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler(async(i,r,o)=>r?this.doOpenEditor(r,i):null))}_checkContextKey(){let e=!1;for(const t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){const o=t.resource.scheme;if(o===Tt.http||o===Tt.https)return Tae(t.resource.toString()),e}return null}const r=t.options?t.options.selection:null;if(r)if(typeof r.endLineNumber=="number"&&typeof r.endColumn=="number")e.setSelection(r),e.revealRangeInCenter(r,1);else{const o={lineNumber:r.startLineNumber,column:r.startColumn};e.setPosition(o),e.revealPositionInCenter(o,1)}return e}findModel(e,t){const i=e.getModel();return i&&i.uri.toString()!==t.toString()?null:i}};_I=ROe([XG(0,_t),XG(1,mr)],_I);Yt(ai,_I,0);const R_=zt("layoutService");var yce=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Cce=function(n,e){return function(t,i){e(t,i,n)}};let vI=class{get mainContainer(){var e,t;return(t=(e=BW(this._codeEditorService.listCodeEditors()))===null||e===void 0?void 0:e.getContainerDomNode())!==null&&t!==void 0?t:wi.document.body}get activeContainer(){var e,t;const i=(e=this._codeEditorService.getFocusedCodeEditor())!==null&&e!==void 0?e:this._codeEditorService.getActiveCodeEditor();return(t=i==null?void 0:i.getContainerDomNode())!==null&&t!==void 0?t:this.mainContainer}get mainContainerDimension(){return Ag(this.mainContainer)}get activeContainerDimension(){return Ag(this.activeContainer)}get containers(){return zc(this._codeEditorService.listCodeEditors().map(e=>e.getContainerDomNode()))}getContainer(){return this.activeContainer}focus(){var e;(e=this._codeEditorService.getFocusedCodeEditor())===null||e===void 0||e.focus()}constructor(e){this._codeEditorService=e,this.onDidLayoutMainContainer=Ve.None,this.onDidLayoutActiveContainer=Ve.None,this.onDidLayoutContainer=Ve.None,this.onDidChangeActiveContainer=Ve.None,this.onDidAddContainer=Ve.None,this.whenActiveContainerStylesLoaded=Promise.resolve(),this.mainContainerOffset={top:0,quickPickTop:0},this.activeContainerOffset={top:0,quickPickTop:0}}};vI=yce([Cce(0,ai)],vI);let L3=class extends vI{get mainContainer(){return this._container}constructor(e,t){super(t),this._container=e}};L3=yce([Cce(1,ai)],L3);Yt(R_,vI,1);const Zx=zt("dialogService");var AOe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},QG=function(n,e){return function(t,i){e(t,i,n)}};function Wk(n){return n.scheme===Tt.file?n.fsPath:n.path}let wce=0;class Vk{constructor(e,t,i,r,o,s,a){this.id=++wce,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=i,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=r,this.groupOrder=o,this.sourceId=s,this.sourceOrder=a,this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class JG{constructor(e,t){this.resourceLabel=e,this.reason=t}}class eZ{constructor(){this.elements=new Map}createMessage(){const e=[],t=[];for(const[,r]of this.elements)(r.reason===0?e:t).push(r.resourceLabel);const i=[];return e.length>0&&i.push(w({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&i.push(w({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",t.join(", "))),i.join(`
`)}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}}class OOe{constructor(e,t,i,r,o,s,a){this.id=++wce,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=i,this.groupId=r,this.groupOrder=o,this.sourceId=s,this.sourceOrder=a,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(e,t,i){this.removedResources||(this.removedResources=new eZ),this.removedResources.has(t)||this.removedResources.set(t,new JG(e,i))}setValid(e,t,i){i?this.invalidatedResources&&(this.invalidatedResources.delete(t),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new eZ),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new JG(e,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Sce{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const e of this._past)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);for(const e of this._future)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push(`   * [UNDO] ${this._past[t]}`);for(let t=this._future.length-1;t>=0;t--)e.push(`   * [REDO] ${this._future[t]}`);return e.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){e.type===1?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(const i of this._past)t(i.actual)&&this._setElementValidFlag(i,e);for(const i of this._future)t(i.actual)&&this._setElementValidFlag(i,e)}pushElement(e){for(const t of this._future)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){const t=[];for(let i=0,r=this._past.length;i<r;i++)t.push(this._past[i].id);for(let i=this._future.length-1;i>=0;i--)t.push(this._future[i].id);return new gce(e,t)}restoreSnapshot(e){const t=e.elements.length;let i=!0,r=0,o=-1;for(let a=0,l=this._past.length;a<l;a++,r++){const c=this._past[a];i&&(r>=t||c.id!==e.elements[r])&&(i=!1,o=0),!i&&c.type===1&&c.removeResource(this.resourceLabel,this.strResource,0)}let s=-1;for(let a=this._future.length-1;a>=0;a--,r++){const l=this._future[a];i&&(r>=t||l.id!==e.elements[r])&&(i=!1,s=a),!i&&l.type===1&&l.removeResource(this.resourceLabel,this.strResource,0)}o!==-1&&(this._past=this._past.slice(0,o)),s!==-1&&(this._future=this._future.slice(s+1)),this.versionId++}getElements(){const e=[],t=[];for(const i of this._past)e.push(i.actual);for(const i of this._future)t.push(i.actual);return{past:e,future:t}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let i=this._past.length-1;i>=0;i--)if(this._past[i]===e){t.has(this.strResource)?this._past[i]=t.get(this.strResource):this._past.splice(i,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let i=this._future.length-1;i>=0;i--)if(this._future[i]===e){t.has(this.strResource)?this._future[i]=t.get(this.strResource):this._future.splice(i,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}}class aO{constructor(e){this.editStacks=e,this._versionIds=[];for(let t=0,i=this.editStacks.length;t<i;t++)this._versionIds[t]=this.editStacks[t].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}}const xce=new Sce("","");xce.locked=!0;let k3=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(const t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);const t=[];for(const i of this._editStacks)t.push(i[1].toString());console.log(t.join(`
`))}pushElement(e,t=Rb.None,i=Pd.None){if(e.type===0){const r=Wk(e.resource),o=this.getUriComparisonKey(e.resource);this._pushElement(new Vk(e,r,o,t.id,t.nextOrder(),i.id,i.nextOrder()))}else{const r=new Set,o=[],s=[];for(const a of e.resources){const l=Wk(a),c=this.getUriComparisonKey(a);r.has(c)||(r.add(c),o.push(l),s.push(c))}o.length===1?this._pushElement(new Vk(e,o[0],s[0],t.id,t.nextOrder(),i.id,i.nextOrder())):this._pushElement(new OOe(e,o,s,t.id,t.nextOrder(),i.id,i.nextOrder()))}}_pushElement(e){for(let t=0,i=e.strResources.length;t<i;t++){const r=e.resourceLabels[t],o=e.strResources[t];let s;this._editStacks.has(o)?s=this._editStacks.get(o):(s=new Sce(r,o),this._editStacks.set(o,s)),s.pushElement(e)}}getLastElement(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){const i=this._editStacks.get(t);if(i.hasFutureElements())return null;const r=i.getClosestPastElement();return r?r.actual:null}return null}_splitPastWorkspaceElement(e,t){const i=e.actual.split(),r=new Map;for(const o of i){const s=Wk(o.resource),a=this.getUriComparisonKey(o.resource),l=new Vk(o,s,a,0,0,0,0);r.set(l.strResource,l)}for(const o of e.strResources){if(t&&t.has(o))continue;this._editStacks.get(o).splitPastWorkspaceElement(e,r)}}_splitFutureWorkspaceElement(e,t){const i=e.actual.split(),r=new Map;for(const o of i){const s=Wk(o.resource),a=this.getUriComparisonKey(o.resource),l=new Vk(o,s,a,0,0,0,0);r.set(l.strResource,l)}for(const o of e.strResources){if(t&&t.has(o))continue;this._editStacks.get(o).splitFutureWorkspaceElement(e,r)}}removeElements(e){const t=typeof e=="string"?e:this.getUriComparisonKey(e);this._editStacks.has(t)&&(this._editStacks.get(t).dispose(),this._editStacks.delete(t))}setElementsValidFlag(e,t,i){const r=this.getUriComparisonKey(e);this._editStacks.has(r)&&this._editStacks.get(r).setElementsValidFlag(t,i)}createSnapshot(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).createSnapshot(e):new gce(e,[])}restoreSnapshot(e){const t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){const i=this._editStacks.get(t);i.restoreSnapshot(e),!i.hasPastElements()&&!i.hasFutureElements()&&(i.dispose(),this._editStacks.delete(t))}}getElements(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[r,o]of this._editStacks){const s=o.getClosestPastElement();s&&s.sourceId===e&&(!t||s.sourceOrder>t.sourceOrder)&&(t=s,i=r)}return[t,i]}canUndo(e){if(e instanceof Pd){const[,i]=this._findClosestUndoElementWithSource(e.id);return!!i}const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasPastElements():!1}_onError(e,t){St(e);for(const i of t.strResources)this.removeElements(i);this._notificationService.error(e)}_acquireLocks(e){for(const t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(const t of e.editStacks)t.locked=!0;return()=>{for(const t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,i,r,o){const s=this._acquireLocks(i);let a;try{a=t()}catch(l){return s(),r.dispose(),this._onError(l,e)}return a?a.then(()=>(s(),r.dispose(),o()),l=>(s(),r.dispose(),this._onError(l,e))):(s(),r.dispose(),o())}async _invokeWorkspacePrepare(e){if(typeof e.actual.prepareUndoRedo>"u")return ce.None;const t=e.actual.prepareUndoRedo();return typeof t>"u"?ce.None:t}_invokeResourcePrepare(e,t){if(e.actual.type!==1||typeof e.actual.prepareUndoRedo>"u")return t(ce.None);const i=e.actual.prepareUndoRedo();return i?qW(i)?t(i):i.then(r=>t(r)):t(ce.None)}_getAffectedEditStacks(e){const t=[];for(const i of e.strResources)t.push(this._editStacks.get(i)||xce);return new aO(t)}_tryToSplitAndUndo(e,t,i,r){if(t.canSplit())return this._splitPastWorkspaceElement(t,i),this._notificationService.warn(r),new Hk(this._undo(e,0,!0));for(const o of t.strResources)this.removeElements(o);return this._notificationService.warn(r),new Hk}_checkWorkspaceUndo(e,t,i,r){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,w({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(r&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,w({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const a of i.editStacks)a.getClosestPastElement()!==t&&o.push(a.resourceLabel);if(o.length>0)return this._tryToSplitAndUndo(e,t,null,w({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const s=[];for(const a of i.editStacks)a.locked&&s.push(a.resourceLabel);return s.length>0?this._tryToSplitAndUndo(e,t,null,w({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,s.join(", "))):i.isValid()?null:this._tryToSplitAndUndo(e,t,null,w({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t,i){const r=this._getAffectedEditStacks(t),o=this._checkWorkspaceUndo(e,t,r,!1);return o?o.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,r,i)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(const[,t]of this._editStacks){const i=t.getClosestPastElement();if(i){if(i===e){const r=t.getSecondClosestPastElement();if(r&&r.groupId===e.groupId)return!0}if(i.groupId===e.groupId)return!0}}return!1}async _confirmAndExecuteWorkspaceUndo(e,t,i,r){if(t.canSplit()&&!this._isPartOfUndoGroup(t)){let a;(function(d){d[d.All=0]="All",d[d.This=1]="This",d[d.Cancel=2]="Cancel"})(a||(a={}));const{result:l}=await this._dialogService.prompt({type:Sn.Info,message:w("confirmWorkspace","Would you like to undo '{0}' across all files?",t.label),buttons:[{label:w({key:"ok",comment:["{0} denotes a number that is > 1, && denotes a mnemonic"]},"&&Undo in {0} Files",i.editStacks.length),run:()=>a.All},{label:w({key:"nok",comment:["&& denotes a mnemonic"]},"Undo this &&File"),run:()=>a.This}],cancelButton:{run:()=>a.Cancel}});if(l===a.Cancel)return;if(l===a.This)return this._splitPastWorkspaceElement(t,null),this._undo(e,0,!0);const c=this._checkWorkspaceUndo(e,t,i,!1);if(c)return c.returnValue;r=!0}let o;try{o=await this._invokeWorkspacePrepare(t)}catch(a){return this._onError(a,t)}const s=this._checkWorkspaceUndo(e,t,i,!0);if(s)return o.dispose(),s.returnValue;for(const a of i.editStacks)a.moveBackward(t);return this._safeInvokeWithLocks(t,()=>t.actual.undo(),i,o,()=>this._continueUndoInGroup(t.groupId,r))}_resourceUndo(e,t,i){if(!t.isValid){e.flushAllElements();return}if(e.locked){const r=w({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(r);return}return this._invokeResourcePrepare(t,r=>(e.moveBackward(t),this._safeInvokeWithLocks(t,()=>t.actual.undo(),new aO([e]),r,()=>this._continueUndoInGroup(t.groupId,i))))}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[r,o]of this._editStacks){const s=o.getClosestPastElement();s&&s.groupId===e&&(!t||s.groupOrder>t.groupOrder)&&(t=s,i=r)}return[t,i]}_continueUndoInGroup(e,t){if(!e)return;const[,i]=this._findClosestUndoElementInGroup(e);if(i)return this._undo(i,0,t)}undo(e){if(e instanceof Pd){const[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return typeof e=="string"?this._undo(e,0,!1):this._undo(this.getUriComparisonKey(e),0,!1)}_undo(e,t=0,i){if(!this._editStacks.has(e))return;const r=this._editStacks.get(e),o=r.getClosestPastElement();if(!o)return;if(o.groupId){const[a,l]=this._findClosestUndoElementInGroup(o.groupId);if(o!==a&&l)return this._undo(l,t,i)}if((o.sourceId!==t||o.confirmBeforeUndo)&&!i)return this._confirmAndContinueUndo(e,t,o);try{return o.type===1?this._workspaceUndo(e,o,i):this._resourceUndo(r,o,i)}finally{}}async _confirmAndContinueUndo(e,t,i){if((await this._dialogService.confirm({message:w("confirmDifferentSource","Would you like to undo '{0}'?",i.label),primaryButton:w({key:"confirmDifferentSource.yes",comment:["&& denotes a mnemonic"]},"&&Yes"),cancelButton:w("confirmDifferentSource.no","No")})).confirmed)return this._undo(e,t,!0)}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[r,o]of this._editStacks){const s=o.getClosestFutureElement();s&&s.sourceId===e&&(!t||s.sourceOrder<t.sourceOrder)&&(t=s,i=r)}return[t,i]}canRedo(e){if(e instanceof Pd){const[,i]=this._findClosestRedoElementWithSource(e.id);return!!i}const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasFutureElements():!1}_tryToSplitAndRedo(e,t,i,r){if(t.canSplit())return this._splitFutureWorkspaceElement(t,i),this._notificationService.warn(r),new Hk(this._redo(e));for(const o of t.strResources)this.removeElements(o);return this._notificationService.warn(r),new Hk}_checkWorkspaceRedo(e,t,i,r){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,w({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(r&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,w({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const a of i.editStacks)a.getClosestFutureElement()!==t&&o.push(a.resourceLabel);if(o.length>0)return this._tryToSplitAndRedo(e,t,null,w({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const s=[];for(const a of i.editStacks)a.locked&&s.push(a.resourceLabel);return s.length>0?this._tryToSplitAndRedo(e,t,null,w({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,s.join(", "))):i.isValid()?null:this._tryToSplitAndRedo(e,t,null,w({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){const i=this._getAffectedEditStacks(t),r=this._checkWorkspaceRedo(e,t,i,!1);return r?r.returnValue:this._executeWorkspaceRedo(e,t,i)}async _executeWorkspaceRedo(e,t,i){let r;try{r=await this._invokeWorkspacePrepare(t)}catch(s){return this._onError(s,t)}const o=this._checkWorkspaceRedo(e,t,i,!0);if(o)return r.dispose(),o.returnValue;for(const s of i.editStacks)s.moveForward(t);return this._safeInvokeWithLocks(t,()=>t.actual.redo(),i,r,()=>this._continueRedoInGroup(t.groupId))}_resourceRedo(e,t){if(!t.isValid){e.flushAllElements();return}if(e.locked){const i=w({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(i);return}return this._invokeResourcePrepare(t,i=>(e.moveForward(t),this._safeInvokeWithLocks(t,()=>t.actual.redo(),new aO([e]),i,()=>this._continueRedoInGroup(t.groupId))))}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[r,o]of this._editStacks){const s=o.getClosestFutureElement();s&&s.groupId===e&&(!t||s.groupOrder<t.groupOrder)&&(t=s,i=r)}return[t,i]}_continueRedoInGroup(e){if(!e)return;const[,t]=this._findClosestRedoElementInGroup(e);if(t)return this._redo(t)}redo(e){if(e instanceof Pd){const[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return typeof e=="string"?this._redo(e):this._redo(this.getUriComparisonKey(e))}_redo(e){if(!this._editStacks.has(e))return;const t=this._editStacks.get(e),i=t.getClosestFutureElement();if(i){if(i.groupId){const[r,o]=this._findClosestRedoElementInGroup(i.groupId);if(i!==r&&o)return this._redo(o)}try{return i.type===1?this._workspaceRedo(e,i):this._resourceRedo(t,i)}finally{}}}};k3=AOe([QG(0,Zx),QG(1,Rn)],k3);class Hk{constructor(e){this.returnValue=e}}Yt(nM,k3,1);function ss(n,e,t){return Math.min(Math.max(n,e),t)}class Lce{constructor(){this._n=1,this._val=0}update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class FOe{constructor(e){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(e),this._values.fill(0,0,e)}update(e){const t=this._values[this._index];return this._values[this._index]=e,this._index=(this._index+1)%this._values.length,this._sum-=t,this._sum+=e,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}const hV=zt("environmentService");var BOe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},tZ=function(n,e){return function(t,i){e(t,i,n)}};const dl=zt("ILanguageFeatureDebounceService");var bI;(function(n){const e=new WeakMap;let t=0;function i(r){let o=e.get(r);return o===void 0&&(o=++t,e.set(r,o)),o}n.of=i})(bI||(bI={}));class WOe{constructor(e){this._default=e}get(e){return this._default}update(e,t){return this._default}default(){return this._default}}class VOe{constructor(e,t,i,r,o,s){this._logService=e,this._name=t,this._registry=i,this._default=r,this._min=o,this._max=s,this._cache=new hp(50,.7)}_key(e){return e.id+this._registry.all(e).reduce((t,i)=>NP(bI.of(i),t),0)}get(e){const t=this._key(e),i=this._cache.get(t);return i?ss(i.value,this._min,this._max):this.default()}update(e,t){const i=this._key(e);let r=this._cache.get(i);r||(r=new FOe(6),this._cache.set(i,r));const o=ss(r.update(t),this._min,this._max);return h6(e.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${e.uri.toString()} is ${o}ms`),o}_overall(){const e=new Lce;for(const[,t]of this._cache)e.update(t.value);return e.value}default(){const e=this._overall()|0||this._default;return ss(e,this._min,this._max)}}let D3=class{constructor(e,t){this._logService=e,this._data=new Map,this._isDev=t.isExtensionDevelopment||!t.isBuilt}for(e,t,i){var r,o,s;const a=(r=i==null?void 0:i.min)!==null&&r!==void 0?r:50,l=(o=i==null?void 0:i.max)!==null&&o!==void 0?o:a**2,c=(s=i==null?void 0:i.key)!==null&&s!==void 0?s:void 0,d=`${bI.of(e)},${a}${c?","+c:""}`;let u=this._data.get(d);return u||(this._isDev?u=new VOe(this._logService,t,e,this._overallAverage()|0||a*1.5,a,l):(this._logService.debug(`[DEBOUNCE: ${t}] is disabled in developed mode`),u=new WOe(a*1.5)),this._data.set(d,u)),u}_overallAverage(){const e=new Lce;for(const t of this._data.values())e.update(t.default());return e.value}};D3=BOe([tZ(0,Ks),tZ(1,hV)],D3);Yt(dl,D3,1);class Kw{static create(e,t){return new Kw(e,new yI(t))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(e,t){this._startLineNumber=e,this._tokens=t,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(e){return this._startLineNumber<=e&&e<=this._endLineNumber?this._tokens.getLineTokens(e-this._startLineNumber):null}getRange(){const e=this._tokens.getRange();return e&&new B(this._startLineNumber+e.startLineNumber,e.startColumn,this._startLineNumber+e.endLineNumber,e.endColumn)}removeTokens(e){const t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(t,e.startColumn-1,i,e.endColumn-1),this._updateEndLineNumber()}split(e){const t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber,[r,o,s]=this._tokens.split(t,e.startColumn-1,i,e.endColumn-1);return[new Kw(this._startLineNumber,r),new Kw(this._startLineNumber+s,o)]}applyEdit(e,t){const[i,r,o]=Vg(t);this.acceptEdit(e,i,r,o,t.length>0?t.charCodeAt(0):0)}acceptEdit(e,t,i,r,o){this._acceptDeleteRange(e),this._acceptInsertText(new re(e.startLineNumber,e.startColumn),t,i,r,o),this._updateEndLineNumber()}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return;const t=e.startLineNumber-this._startLineNumber,i=e.endLineNumber-this._startLineNumber;if(i<0){const o=i-t;this._startLineNumber-=o;return}const r=this._tokens.getMaxDeltaLine();if(!(t>=r+1)){if(t<0&&i>=r+1){this._startLineNumber=0,this._tokens.clear();return}if(t<0){const o=-t;this._startLineNumber-=o,this._tokens.acceptDeleteRange(e.startColumn-1,0,0,i,e.endColumn-1)}else this._tokens.acceptDeleteRange(0,t,e.startColumn-1,i,e.endColumn-1)}}_acceptInsertText(e,t,i,r,o){if(t===0&&i===0)return;const s=e.lineNumber-this._startLineNumber;if(s<0){this._startLineNumber+=t;return}const a=this._tokens.getMaxDeltaLine();s>=a+1||this._tokens.acceptInsertText(s,e.column-1,t,i,r,o)}}class yI{constructor(e){this._tokens=e,this._tokenCount=e.length/4}toString(e){const t=[];for(let i=0;i<this._tokenCount;i++)t.push(`(${this._getDeltaLine(i)+e},${this._getStartCharacter(i)}-${this._getEndCharacter(i)})`);return`[${t.join(",")}]`}getMaxDeltaLine(){const e=this._getTokenCount();return e===0?-1:this._getDeltaLine(e-1)}getRange(){const e=this._getTokenCount();if(e===0)return null;const t=this._getStartCharacter(0),i=this._getDeltaLine(e-1),r=this._getEndCharacter(e-1);return new B(0,t+1,i,r+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(e){return this._tokens[4*e]}_getStartCharacter(e){return this._tokens[4*e+1]}_getEndCharacter(e){return this._tokens[4*e+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(e){let t=0,i=this._getTokenCount()-1;for(;t<i;){const r=t+Math.floor((i-t)/2),o=this._getDeltaLine(r);if(o<e)t=r+1;else if(o>e)i=r-1;else{let s=r;for(;s>t&&this._getDeltaLine(s-1)===e;)s--;let a=r;for(;a<i&&this._getDeltaLine(a+1)===e;)a++;return new iZ(this._tokens.subarray(4*s,4*a+4))}}return this._getDeltaLine(t)===e?new iZ(this._tokens.subarray(4*t,4*t+4)):null}clear(){this._tokenCount=0}removeTokens(e,t,i,r){const o=this._tokens,s=this._tokenCount;let a=0,l=!1,c=0;for(let d=0;d<s;d++){const u=4*d,h=o[u],f=o[u+1],g=o[u+2],_=o[u+3];if((h>e||h===e&&g>=t)&&(h<i||h===i&&f<=r))l=!0;else{if(a===0&&(c=h),l){const y=4*a;o[y]=h-c,o[y+1]=f,o[y+2]=g,o[y+3]=_}a++}}return this._tokenCount=a,c}split(e,t,i,r){const o=this._tokens,s=this._tokenCount,a=[],l=[];let c=a,d=0,u=0;for(let h=0;h<s;h++){const f=4*h,g=o[f],_=o[f+1],y=o[f+2],m=o[f+3];if(g>e||g===e&&y>=t){if(g<i||g===i&&_<=r)continue;c!==l&&(c=l,d=0,u=g)}c[d++]=g-u,c[d++]=_,c[d++]=y,c[d++]=m}return[new yI(new Uint32Array(a)),new yI(new Uint32Array(l)),u]}acceptDeleteRange(e,t,i,r,o){const s=this._tokens,a=this._tokenCount,l=r-t;let c=0,d=!1;for(let u=0;u<a;u++){const h=4*u;let f=s[h],g=s[h+1],_=s[h+2];const y=s[h+3];if(f<t||f===t&&_<=i){c++;continue}else if(f===t&&g<i)f===r&&_>o?_-=o-i:_=i;else if(f===t&&g===i)if(f===r&&_>o)_-=o-i;else{d=!0;continue}else if(f<r||f===r&&g<o)if(f===r&&_>o)f=t,g=i,_=g+(_-o);else{d=!0;continue}else if(f>r){if(l===0&&!d){c=a;break}f-=l}else if(f===r&&g>=o)e&&f===0&&(g+=e,_+=e),f-=l,g-=o-i,_-=o-i;else throw new Error("Not possible!");const m=4*c;s[m]=f,s[m+1]=g,s[m+2]=_,s[m+3]=y,c++}this._tokenCount=c}acceptInsertText(e,t,i,r,o,s){const a=i===0&&r===1&&(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122),l=this._tokens,c=this._tokenCount;for(let d=0;d<c;d++){const u=4*d;let h=l[u],f=l[u+1],g=l[u+2];if(!(h<e||h===e&&g<t)){if(h===e&&g===t)if(a)g+=1;else continue;else if(h===e&&f<t&&t<g)i===0?g+=r:g=t;else{if(h===e&&f===t&&a)continue;if(h===e)if(h+=i,i===0)f+=r,g+=r;else{const _=g-f;f=o+(f-t),g=f+_}else h+=i}l[u]=h,l[u+1]=f,l[u+2]=g}}}}class iZ{constructor(e){this._tokens=e}getCount(){return this._tokens.length/4}getStartCharacter(e){return this._tokens[4*e+1]}getEndCharacter(e){return this._tokens[4*e+2]}getMetadata(e){return this._tokens[4*e+3]}}var HOe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},lO=function(n,e){return function(t,i){e(t,i,n)}};let T3=class{constructor(e,t,i,r){this._legend=e,this._themeService=t,this._languageService=i,this._logService=r,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new ju}getMetadata(e,t,i){const r=this._languageService.languageIdCodec.encodeLanguageId(i),o=this._hashTable.get(e,t,r);let s;if(o)s=o.metadata,this._logService.getLevel()===Hr.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${zr.getForeground(s)}, fontStyle ${zr.getFontStyle(s).toString(2)}`);else{let a=this._legend.tokenTypes[e];const l=[];if(a){let c=t;for(let u=0;c>0&&u<this._legend.tokenModifiers.length;u++)c&1&&l.push(this._legend.tokenModifiers[u]),c=c>>1;c>0&&this._logService.getLevel()===Hr.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),l.push("not-in-legend"));const d=this._themeService.getColorTheme().getTokenStyleMetadata(a,l,i);if(typeof d>"u")s=2147483647;else{if(s=0,typeof d.italic<"u"){const u=(d.italic?1:0)<<11;s|=u|1}if(typeof d.bold<"u"){const u=(d.bold?2:0)<<11;s|=u|2}if(typeof d.underline<"u"){const u=(d.underline?4:0)<<11;s|=u|4}if(typeof d.strikethrough<"u"){const u=(d.strikethrough?8:0)<<11;s|=u|8}if(d.foreground){const u=d.foreground<<15;s|=u|16}s===0&&(s=2147483647)}}else this._logService.getLevel()===Hr.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),s=2147483647,a="not-in-legend";this._hashTable.add(e,t,r,s),this._logService.getLevel()===Hr.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${a}) / ${t} (${l.join(" ")}): foreground ${zr.getForeground(s)}, fontStyle ${zr.getFontStyle(s).toString(2)}`)}return s}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}warnInvalidLengthSemanticTokens(e,t){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${e}, column ${t}`))}warnInvalidEditStart(e,t,i,r,o){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${e}, resultId: ${t}) at edit #${i}: The provided start offset ${r} is outside the previous data (length ${o}).`))}};T3=HOe([lO(1,mr),lO(2,Zi),lO(3,Ks)],T3);function kce(n,e,t){const i=n.data,r=n.data.length/5|0,o=Math.max(Math.ceil(r/1024),400),s=[];let a=0,l=1,c=0;for(;a<r;){const d=a;let u=Math.min(d+o,r);if(u<r){let p=u;for(;p-1>d&&i[5*p]===0;)p--;if(p-1===d){let v=u;for(;v+1<r&&i[5*v]===0;)v++;u=v}else u=p}let h=new Uint32Array((u-d)*4),f=0,g=0,_=0,y=0;for(;a<u;){const p=5*a,v=i[p],b=i[p+1],C=l+v|0,S=v===0?c+b|0:b,x=i[p+2],k=S+x|0,D=i[p+3],E=i[p+4];if(k<=S)e.warnInvalidLengthSemanticTokens(C,S+1);else if(_===C&&y>S)e.warnOverlappingSemanticTokens(C,S+1);else{const I=e.getMetadata(D,E,t);I!==2147483647&&(g===0&&(g=C),h[f]=C-g,h[f+1]=S,h[f+2]=k,h[f+3]=I,f+=4,_=C,y=k)}l=C,c=S,a++}f!==h.length&&(h=h.subarray(0,f));const m=Kw.create(g,h);s.push(m)}return s}class zOe{constructor(e,t,i,r){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=i,this.metadata=r,this.next=null}}class ju{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=ju._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<ju._SIZES.length?2/3*this._currentLength:0),this._elements=[],ju._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let i=0;i<t;i++)e[i]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,i){return this._hash2(this._hash2(e,t),i)%this._currentLength}get(e,t,i){const r=this._hashFunc(e,t,i);let o=this._elements[r];for(;o;){if(o.tokenTypeIndex===e&&o.tokenModifierSet===t&&o.languageId===i)return o;o=o.next}return null}add(e,t,i,r){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const o=this._elements;this._currentLengthIndex++,this._currentLength=ju._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<ju._SIZES.length?2/3*this._currentLength:0),this._elements=[],ju._nullOutEntries(this._elements,this._currentLength);for(const s of o){let a=s;for(;a;){const l=a.next;a.next=null,this._add(a),a=l}}}this._add(new zOe(e,t,i,r))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}}ju._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];const oM=zt("semanticTokensStylingService");var jOe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},cO=function(n,e){return function(t,i){e(t,i,n)}};let E3=class extends ce{constructor(e,t,i){super(),this._themeService=e,this._logService=t,this._languageService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(e){return this._caches.has(e)||this._caches.set(e,new T3(e.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(e)}};E3=jOe([cO(0,mr),cO(1,Ks),cO(2,Zi)],E3);Yt(oM,E3,1);const zk="**",nZ="/",vT="[/\\\\]",bT="[^/\\\\]",UOe=/\//g;function rZ(n,e){switch(n){case 0:return"";case 1:return`${bT}*?`;default:return`(?:${vT}|${bT}+${vT}${e?`|${vT}${bT}+`:""})*?`}}function oZ(n,e){if(!n)return[];const t=[];let i=!1,r=!1,o="";for(const s of n){switch(s){case e:if(!i&&!r){t.push(o),o="";continue}break;case"{":i=!0;break;case"}":i=!1;break;case"[":r=!0;break;case"]":r=!1;break}o+=s}return o&&t.push(o),t}function Dce(n){if(!n)return"";let e="";const t=oZ(n,nZ);if(t.every(i=>i===zk))e=".*";else{let i=!1;t.forEach((r,o)=>{if(r===zk){if(i)return;e+=rZ(2,o===t.length-1)}else{let s=!1,a="",l=!1,c="";for(const d of r){if(d!=="}"&&s){a+=d;continue}if(l&&(d!=="]"||!c)){let u;d==="-"?u=d:(d==="^"||d==="!")&&!c?u="^":d===nZ?u="":u=xa(d),c+=u;continue}switch(d){case"{":s=!0;continue;case"[":l=!0;continue;case"}":{const h=`(?:${oZ(a,",").map(f=>Dce(f)).join("|")})`;e+=h,s=!1,a="";break}case"]":{e+="["+c+"]",l=!1,c="";break}case"?":e+=bT;continue;case"*":e+=rZ(1);continue;default:e+=xa(d)}}o<t.length-1&&(t[o+1]!==zk||o+2<t.length)&&(e+=vT)}i=r===zk})}return e}const $Oe=/^\*\*\/\*\.[\w\.-]+$/,qOe=/^\*\*\/([\w\.-]+)\/?$/,KOe=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,GOe=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,ZOe=/^\*\*((\/[\w\.-]+)+)\/?$/,YOe=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,sZ=new hp(1e4),aZ=function(){return!1},eu=function(){return null};function fV(n,e){if(!n)return eu;let t;typeof n!="string"?t=n.pattern:t=n,t=t.trim();const i=`${t}_${!!e.trimForExclusions}`;let r=sZ.get(i);if(r)return lZ(r,n);let o;return $Oe.test(t)?r=XOe(t.substr(4),t):(o=qOe.exec(dO(t,e)))?r=QOe(o[1],t):(e.trimForExclusions?GOe:KOe).test(t)?r=JOe(t,e):(o=ZOe.exec(dO(t,e)))?r=cZ(o[1].substr(1),t,!0):(o=YOe.exec(dO(t,e)))?r=cZ(o[1],t,!1):r=e5e(t),sZ.set(i,r),lZ(r,n)}function lZ(n,e){if(typeof e=="string")return n;const t=function(i,r){return h3(i,e.base,!Uo)?n(Mx(i.substr(e.base.length),Rc),r):null};return t.allBasenames=n.allBasenames,t.allPaths=n.allPaths,t.basenames=n.basenames,t.patterns=n.patterns,t}function dO(n,e){return e.trimForExclusions&&n.endsWith("/**")?n.substr(0,n.length-2):n}function XOe(n,e){return function(t,i){return typeof t=="string"&&t.endsWith(n)?e:null}}function QOe(n,e){const t=`/${n}`,i=`\\${n}`,r=function(s,a){return typeof s!="string"?null:a?a===n?e:null:s===n||s.endsWith(t)||s.endsWith(i)?e:null},o=[n];return r.basenames=o,r.patterns=[e],r.allBasenames=o,r}function JOe(n,e){const t=Ece(n.slice(1,-1).split(",").map(a=>fV(a,e)).filter(a=>a!==eu),n),i=t.length;if(!i)return eu;if(i===1)return t[0];const r=function(a,l){for(let c=0,d=t.length;c<d;c++)if(t[c](a,l))return n;return null},o=t.find(a=>!!a.allBasenames);o&&(r.allBasenames=o.allBasenames);const s=t.reduce((a,l)=>l.allPaths?a.concat(l.allPaths):a,[]);return s.length&&(r.allPaths=s),r}function cZ(n,e,t){const i=Rc===Gn.sep,r=i?n:n.replace(UOe,Rc),o=Rc+r,s=Gn.sep+n;let a;return t?a=function(l,c){return typeof l=="string"&&(l===r||l.endsWith(o)||!i&&(l===n||l.endsWith(s)))?e:null}:a=function(l,c){return typeof l=="string"&&(l===r||!i&&l===n)?e:null},a.allPaths=[(t?"*/":"./")+n],a}function e5e(n){try{const e=new RegExp(`^${Dce(n)}$`);return function(t){return e.lastIndex=0,typeof t=="string"&&e.test(t)?n:null}}catch{return eu}}function t5e(n,e,t){return!n||typeof e!="string"?!1:Tce(n)(e,void 0,t)}function Tce(n,e={}){if(!n)return aZ;if(typeof n=="string"||i5e(n)){const t=fV(n,e);if(t===eu)return aZ;const i=function(r,o){return!!t(r,o)};return t.allBasenames&&(i.allBasenames=t.allBasenames),t.allPaths&&(i.allPaths=t.allPaths),i}return n5e(n,e)}function i5e(n){const e=n;return e?typeof e.base=="string"&&typeof e.pattern=="string":!1}function n5e(n,e){const t=Ece(Object.getOwnPropertyNames(n).map(a=>r5e(a,n[a],e)).filter(a=>a!==eu)),i=t.length;if(!i)return eu;if(!t.some(a=>!!a.requiresSiblings)){if(i===1)return t[0];const a=function(d,u){let h;for(let f=0,g=t.length;f<g;f++){const _=t[f](d,u);if(typeof _=="string")return _;EF(_)&&(h||(h=[]),h.push(_))}return h?(async()=>{for(const f of h){const g=await f;if(typeof g=="string")return g}return null})():null},l=t.find(d=>!!d.allBasenames);l&&(a.allBasenames=l.allBasenames);const c=t.reduce((d,u)=>u.allPaths?d.concat(u.allPaths):d,[]);return c.length&&(a.allPaths=c),a}const r=function(a,l,c){let d,u;for(let h=0,f=t.length;h<f;h++){const g=t[h];g.requiresSiblings&&c&&(l||(l=cg(a)),d||(d=l.substr(0,l.length-SLe(a).length)));const _=g(a,l,d,c);if(typeof _=="string")return _;EF(_)&&(u||(u=[]),u.push(_))}return u?(async()=>{for(const h of u){const f=await h;if(typeof f=="string")return f}return null})():null},o=t.find(a=>!!a.allBasenames);o&&(r.allBasenames=o.allBasenames);const s=t.reduce((a,l)=>l.allPaths?a.concat(l.allPaths):a,[]);return s.length&&(r.allPaths=s),r}function r5e(n,e,t){if(e===!1)return eu;const i=fV(n,t);if(i===eu)return eu;if(typeof e=="boolean")return i;if(e){const r=e.when;if(typeof r=="string"){const o=(s,a,l,c)=>{if(!c||!i(s,a))return null;const d=r.replace("$(basename)",()=>l),u=c(d);return EF(u)?u.then(h=>h?n:null):u?n:null};return o.requiresSiblings=!0,o}}return i}function Ece(n,e){const t=n.filter(a=>!!a.basenames);if(t.length<2)return n;const i=t.reduce((a,l)=>{const c=l.basenames;return c?a.concat(c):a},[]);let r;if(e){r=[];for(let a=0,l=i.length;a<l;a++)r.push(e)}else r=t.reduce((a,l)=>{const c=l.patterns;return c?a.concat(c):a},[]);const o=function(a,l){if(typeof a!="string")return null;if(!l){let d;for(d=a.length;d>0;d--){const u=a.charCodeAt(d-1);if(u===47||u===92)break}l=a.substr(d)}const c=i.indexOf(l);return c!==-1?r[c]:null};o.basenames=i,o.patterns=r,o.allBasenames=i;const s=n.filter(a=>!a.basenames);return s.push(o),s}function gV(n,e,t,i,r,o){if(Array.isArray(n)){let s=0;for(const a of n){const l=gV(a,e,t,i,r,o);if(l===10)return l;l>s&&(s=l)}return s}else{if(typeof n=="string")return i?n==="*"?5:n===t?10:0:0;if(n){const{language:s,pattern:a,scheme:l,hasAccessToAllModels:c,notebookType:d}=n;if(!i&&!c)return 0;d&&r&&(e=r);let u=0;if(l)if(l===e.scheme)u=10;else if(l==="*")u=5;else return 0;if(s)if(s===t)u=10;else if(s==="*")u=Math.max(u,5);else return 0;if(d)if(d===o)u=10;else if(d==="*"&&o!==void 0)u=Math.max(u,5);else return 0;if(a){let h;if(typeof a=="string"?h=a:h={...a,base:Ose(a.base)},h===e.fsPath||t5e(h,e.fsPath))u=10;else return 0}return u}else return 0}}function Ice(n){return typeof n=="string"?!1:Array.isArray(n)?n.every(Ice):!!n.exclusive}class dZ{constructor(e,t,i,r){this.uri=e,this.languageId=t,this.notebookUri=i,this.notebookType=r}equals(e){var t,i;return this.notebookType===e.notebookType&&this.languageId===e.languageId&&this.uri.toString()===e.uri.toString()&&((t=this.notebookUri)===null||t===void 0?void 0:t.toString())===((i=e.notebookUri)===null||i===void 0?void 0:i.toString())}}class an{constructor(e){this._notebookInfoResolver=e,this._clock=0,this._entries=[],this._onDidChange=new ne,this.onDidChange=this._onDidChange.event}register(e,t){let i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),at(()=>{if(i){const r=this._entries.indexOf(i);r>=0&&(this._entries.splice(r,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);const t=[];for(const i of this._entries)i._score>0&&t.push(i.provider);return t}ordered(e){const t=[];return this._orderedForEach(e,i=>t.push(i.provider)),t}orderedGroups(e){const t=[];let i,r;return this._orderedForEach(e,o=>{i&&r===o._score?i.push(o.provider):(r=o._score,i=[o.provider],t.push(i))}),t}_orderedForEach(e,t){this._updateScores(e);for(const i of this._entries)i._score>0&&t(i)}_updateScores(e){var t,i;const r=(t=this._notebookInfoResolver)===null||t===void 0?void 0:t.call(this,e.uri),o=r?new dZ(e.uri,e.getLanguageId(),r.uri,r.type):new dZ(e.uri,e.getLanguageId(),void 0,void 0);if(!(!((i=this._lastCandidate)===null||i===void 0)&&i.equals(o))){this._lastCandidate=o;for(const s of this._entries)if(s._score=gV(s.selector,o.uri,o.languageId,Gae(e),o.notebookUri,o.notebookType),Ice(s.selector)&&s._score>0){for(const a of this._entries)a._score=0;s._score=1e3;break}this._entries.sort(an._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:iw(e.selector)&&!iw(t.selector)?1:!iw(e.selector)&&iw(t.selector)?-1:e._time<t._time?1:e._time>t._time?-1:0}}function iw(n){return typeof n=="string"?!1:Array.isArray(n)?n.some(iw):!!n.isBuiltin}class o5e{constructor(){this.referenceProvider=new an(this._score.bind(this)),this.renameProvider=new an(this._score.bind(this)),this.codeActionProvider=new an(this._score.bind(this)),this.definitionProvider=new an(this._score.bind(this)),this.typeDefinitionProvider=new an(this._score.bind(this)),this.declarationProvider=new an(this._score.bind(this)),this.implementationProvider=new an(this._score.bind(this)),this.documentSymbolProvider=new an(this._score.bind(this)),this.inlayHintsProvider=new an(this._score.bind(this)),this.colorProvider=new an(this._score.bind(this)),this.codeLensProvider=new an(this._score.bind(this)),this.documentFormattingEditProvider=new an(this._score.bind(this)),this.documentRangeFormattingEditProvider=new an(this._score.bind(this)),this.onTypeFormattingEditProvider=new an(this._score.bind(this)),this.signatureHelpProvider=new an(this._score.bind(this)),this.hoverProvider=new an(this._score.bind(this)),this.documentHighlightProvider=new an(this._score.bind(this)),this.multiDocumentHighlightProvider=new an(this._score.bind(this)),this.selectionRangeProvider=new an(this._score.bind(this)),this.foldingRangeProvider=new an(this._score.bind(this)),this.linkProvider=new an(this._score.bind(this)),this.inlineCompletionsProvider=new an(this._score.bind(this)),this.completionProvider=new an(this._score.bind(this)),this.linkedEditingRangeProvider=new an(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new an(this._score.bind(this)),this.documentSemanticTokensProvider=new an(this._score.bind(this)),this.documentOnDropEditProvider=new an(this._score.bind(this)),this.documentPasteEditProvider=new an(this._score.bind(this))}_score(e){var t;return(t=this._notebookTypeResolver)===null||t===void 0?void 0:t.call(this,e)}}Yt(qe,o5e,1);const pV=zt("hoverService"),bu=zt("contextViewService"),Pa=zt("contextMenuService"),jk=Te;let mV=class extends ce{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new jx(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}};class sM extends ce{static render(e,t,i){return new sM(e,t,i)}constructor(e,t,i){super(),this.actionContainer=Se(e,jk("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=Se(this.actionContainer,jk("a.action")),this.action.setAttribute("role","button"),t.iconClass&&Se(this.action,jk(`span.icon.${t.iconClass}`));const r=Se(this.action,jk("span"));r.textContent=i?`${t.label} (${i})`:t.label,this._register(ge(this.actionContainer,Ne.CLICK,o=>{o.stopPropagation(),o.preventDefault(),t.run(this.actionContainer)})),this._register(ge(this.actionContainer,Ne.KEY_DOWN,o=>{const s=new Oi(o);(s.equals(3)||s.equals(10))&&(o.stopPropagation(),o.preventDefault(),t.run(this.actionContainer))})),this.setEnabled(!0)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}function Nce(n,e){return n&&e?w("acessibleViewHint","Inspect this in the accessible view with {0}.",e):n?w("acessibleViewHintNoKbOpen","Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding."):""}const ws=zt("openerService");function s5e(n){let e;const t=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(n.fragment);return t&&(e={startLineNumber:parseInt(t[1]),startColumn:t[2]?parseInt(t[2]):1,endLineNumber:t[4]?parseInt(t[4]):void 0,endColumn:t[4]?t[5]?parseInt(t[5]):1:void 0},n=n.with({fragment:""})),{selection:e,uri:n}}function a5e(n,e={}){const t=_V(e);return t.textContent=n,t}function l5e(n,e={}){const t=_V(e);return Pce(t,d5e(n,!!e.renderCodeSegments),e.actionHandler,e.renderCodeSegments),t}function _V(n){const e=n.inline?"span":"div",t=document.createElement(e);return n.className&&(t.className=n.className),t}class c5e{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){const e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}}function Pce(n,e,t,i){let r;if(e.type===2)r=document.createTextNode(e.content||"");else if(e.type===3)r=document.createElement("b");else if(e.type===4)r=document.createElement("i");else if(e.type===7&&i)r=document.createElement("code");else if(e.type===5&&t){const o=document.createElement("a");t.disposables.add(kn(o,"click",s=>{t.callback(String(e.index),s)})),r=o}else e.type===8?r=document.createElement("br"):e.type===1&&(r=n);r&&n!==r&&n.appendChild(r),r&&Array.isArray(e.children)&&e.children.forEach(o=>{Pce(r,o,t,i)})}function d5e(n,e){const t={type:1,children:[]};let i=0,r=t;const o=[],s=new c5e(n);for(;!s.eos();){let a=s.next();const l=a==="\\"&&I3(s.peek(),e)!==0;if(l&&(a=s.next()),!l&&u5e(a,e)&&a===s.peek()){s.advance(),r.type===2&&(r=o.pop());const c=I3(a,e);if(r.type===c||r.type===5&&c===6)r=o.pop();else{const d={type:c,children:[]};c===5&&(d.index=i,i++),r.children.push(d),o.push(r),r=d}}else if(a===`
`)r.type===2&&(r=o.pop()),r.children.push({type:8});else if(r.type!==2){const c={type:2,content:a};r.children.push(c),o.push(r),r=c}else r.content+=a}return r.type===2&&(r=o.pop()),t}function u5e(n,e){return I3(n,e)!==0}function I3(n,e){switch(n){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return e?7:0;default:return 0}}const h5e=new RegExp(`(\\\\)?\\$\\((${lt.iconNameExpression}(?:${lt.iconModifierExpression})?)\\)`,"g");function gg(n){const e=new Array;let t,i=0,r=0;for(;(t=h5e.exec(n))!==null;){r=t.index||0,i<r&&e.push(n.substring(i,r)),i=(t.index||0)+t[0].length;const[,o,s]=t;e.push(o?`$(${s})`:CI({id:s}))}return i<n.length&&e.push(n.substring(i)),e}function CI(n){const e=Te("span");return e.classList.add(...lt.asClassNameArray(n)),e}function f5e(n){const e=g5e(n);if(e&&e.length>0)return new Uint32Array(e)}let ta=0;const Mf=new Uint32Array(10);function g5e(n){if(ta=0,hd(n,uO,4352),ta>0||(hd(n,hO,4449),ta>0)||(hd(n,fO,4520),ta>0)||(hd(n,Ip,12593),ta))return Mf.subarray(0,ta);if(n>=44032&&n<=55203){const e=n-44032,t=e%588,i=Math.floor(e/588),r=Math.floor(t/28),o=t%28-1;if(i<uO.length?hd(i,uO,0):4352+i-12593<Ip.length&&hd(4352+i,Ip,12593),r<hO.length?hd(r,hO,0):4449+r-12593<Ip.length&&hd(4449+r-12593,Ip,12593),o>=0&&(o<fO.length?hd(o,fO,0):4520+o-12593<Ip.length&&hd(4520+o-12593,Ip,12593)),ta>0)return Mf.subarray(0,ta)}}function hd(n,e,t){n>=t&&n<t+e.length&&p5e(e[n-t])}function p5e(n){n!==0&&(Mf[ta++]=n&255,n>>8&&(Mf[ta++]=n>>8&255),n>>16&&(Mf[ta++]=n>>16&255))}const uO=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),hO=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),fO=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),Ip=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]);function vV(...n){return function(e,t){for(let i=0,r=n.length;i<r;i++){const o=n[i](e,t);if(o)return o}return null}}Mce.bind(void 0,!1);const _S=Mce.bind(void 0,!0);function Mce(n,e,t){if(!t||t.length<e.length)return null;let i;return n?i=e6(t,e):i=t.indexOf(e)===0,i?e.length>0?[{start:0,end:e.length}]:[]:null}function Rce(n,e){const t=e.toLowerCase().indexOf(n.toLowerCase());return t===-1?null:[{start:t,end:t+n.length}]}function Ace(n,e){return N3(n.toLowerCase(),e.toLowerCase(),0,0)}function N3(n,e,t,i){if(t===n.length)return[];if(i===e.length)return null;if(n[t]===e[i]){let r=null;return(r=N3(n,e,t+1,i+1))?CV({start:i,end:i+1},r):null}return N3(n,e,t,i+1)}function bV(n){return 97<=n&&n<=122}function aM(n){return 65<=n&&n<=90}function yV(n){return 48<=n&&n<=57}function Oce(n){return n===32||n===9||n===10||n===13}const Fce=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(n=>Fce.add(n.charCodeAt(0)));function wI(n){return Oce(n)||Fce.has(n)}function uZ(n,e){return n===e||wI(n)&&wI(e)}const gO=new Map;function hZ(n){if(gO.has(n))return gO.get(n);let e;const t=f5e(n);return t&&(e=t),gO.set(n,e),e}function Bce(n){return bV(n)||aM(n)||yV(n)}function CV(n,e){return e.length===0?e=[n]:n.end===e[0].start?e[0].start=n.start:e.unshift(n),e}function Wce(n,e){for(let t=e;t<n.length;t++){const i=n.charCodeAt(t);if(aM(i)||yV(i)||t>0&&!Bce(n.charCodeAt(t-1)))return t}return n.length}function P3(n,e,t,i){if(t===n.length)return[];if(i===e.length)return null;if(n[t]!==e[i].toLowerCase())return null;{let r=null,o=i+1;for(r=P3(n,e,t+1,i+1);!r&&(o=Wce(e,o))<e.length;)r=P3(n,e,t+1,o),o++;return r===null?null:CV({start:i,end:i+1},r)}}function m5e(n){let e=0,t=0,i=0,r=0,o=0;for(let d=0;d<n.length;d++)o=n.charCodeAt(d),aM(o)&&e++,bV(o)&&t++,Bce(o)&&i++,yV(o)&&r++;const s=e/n.length,a=t/n.length,l=i/n.length,c=r/n.length;return{upperPercent:s,lowerPercent:a,alphaPercent:l,numericPercent:c}}function _5e(n){const{upperPercent:e,lowerPercent:t}=n;return t===0&&e>.6}function v5e(n){const{upperPercent:e,lowerPercent:t,alphaPercent:i,numericPercent:r}=n;return t>.2&&e<.8&&i>.6&&r<.2}function b5e(n){let e=0,t=0,i=0,r=0;for(let o=0;o<n.length;o++)i=n.charCodeAt(o),aM(i)&&e++,bV(i)&&t++,Oce(i)&&r++;return(e===0||t===0)&&r===0?n.length<=30:e<=5}function Vce(n,e){if(!e||(e=e.trim(),e.length===0)||!b5e(n)||e.length>60)return null;const t=m5e(e);if(!v5e(t)){if(!_5e(t))return null;e=e.toLowerCase()}let i=null,r=0;for(n=n.toLowerCase();r<e.length&&(i=P3(n,e,0,r))===null;)r=Wce(e,r+1);return i}function y5e(n,e,t=!1){if(!e||e.length===0)return null;let i=null,r=0;for(n=n.toLowerCase(),e=e.toLowerCase();r<e.length&&(i=M3(n,e,0,r,t),i===null);)r=Hce(e,r+1);return i}function M3(n,e,t,i,r){let o=0;if(t===n.length)return[];if(i===e.length)return null;if(!uZ(n.charCodeAt(t),e.charCodeAt(i))){const l=hZ(n.charCodeAt(t));if(!l)return null;for(let c=0;c<l.length;c++)if(!uZ(l[c],e.charCodeAt(i+c)))return null;o+=l.length-1}let s=null,a=i+o+1;if(s=M3(n,e,t+1,a,r),!r)for(;!s&&(a=Hce(e,a))<e.length;)s=M3(n,e,t+1,a,r),a++;if(!s)return null;if(n.charCodeAt(t)!==e.charCodeAt(i)){const l=hZ(n.charCodeAt(t));if(!l)return s;for(let c=0;c<l.length;c++)if(l[c]!==e.charCodeAt(i+c))return s}return CV({start:i,end:i+o+1},s)}function Hce(n,e){for(let t=e;t<n.length;t++)if(wI(n.charCodeAt(t))||t>0&&wI(n.charCodeAt(t-1)))return t;return n.length}const C5e=vV(_S,Vce,Rce),w5e=vV(_S,Vce,Ace),fZ=new hp(1e4);function gZ(n,e,t=!1){if(typeof n!="string"||typeof e!="string")return null;let i=fZ.get(n);i||(i=new RegExp(jLe(n),"i"),fZ.set(n,i));const r=i.exec(e);return r?[{start:r.index,end:r.index+r[0].length}]:t?w5e(n,e):C5e(n,e)}function S5e(n,e){const t=Xm(n,n.toLowerCase(),0,e,e.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return t?Yx(t):null}function x5e(n,e,t,i,r,o){const s=Math.min(13,n.length);for(;t<s;t++){const a=Xm(n,e,t,i,r,o,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(a)return a}return[0,o]}function Yx(n){if(typeof n>"u")return[];const e=[],t=n[1];for(let i=n.length-1;i>1;i--){const r=n[i]+t,o=e[e.length-1];o&&o.end===r?o.end=r+1:e.push({start:r,end:r+1})}return e}const $f=128;function wV(){const n=[],e=[];for(let t=0;t<=$f;t++)e[t]=0;for(let t=0;t<=$f;t++)n.push(e.slice(0));return n}function zce(n){const e=[];for(let t=0;t<=n;t++)e[t]=0;return e}const jce=zce(2*$f),R3=zce(2*$f),Tu=wV(),Np=wV(),Uk=wV();function $k(n,e){if(e<0||e>=n.length)return!1;const t=n.codePointAt(e);switch(t){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!r6(t)}}function pZ(n,e){if(e<0||e>=n.length)return!1;switch(n.charCodeAt(e)){case 32:case 9:return!0;default:return!1}}function yT(n,e,t){return e[n]!==t[n]}function L5e(n,e,t,i,r,o,s=!1){for(;e<t&&r<o;)n[e]===i[r]&&(s&&(jce[e]=r),e+=1),r+=1;return e===t}var Bc;(function(n){n.Default=[-100,0];function e(t){return!t||t.length===2&&t[0]===-100&&t[1]===0}n.isDefault=e})(Bc||(Bc={}));class lM{constructor(e,t){this.firstMatchCanBeWeak=e,this.boostFullMatch=t}}lM.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function Xm(n,e,t,i,r,o,s=lM.default){const a=n.length>$f?$f:n.length,l=i.length>$f?$f:i.length;if(t>=a||o>=l||a-t>l-o||!L5e(e,t,a,r,o,l,!0))return;k5e(a,l,t,o,e,r);let c=1,d=1,u=t,h=o;const f=[!1];for(c=1,u=t;u<a;c++,u++){const p=jce[u],v=R3[u],b=u+1<a?R3[u+1]:l;for(d=p-o+1,h=p;h<b;d++,h++){let C=Number.MIN_SAFE_INTEGER,S=!1;h<=v&&(C=D5e(n,e,u,t,i,r,h,l,o,Tu[c-1][d-1]===0,f));let x=0;C!==Number.MAX_SAFE_INTEGER&&(S=!0,x=C+Np[c-1][d-1]);const k=h>p,D=k?Np[c][d-1]+(Tu[c][d-1]>0?-5:0):0,E=h>p+1&&Tu[c][d-1]>0,I=E?Np[c][d-2]+(Tu[c][d-2]>0?-5:0):0;if(E&&(!k||I>=D)&&(!S||I>=x))Np[c][d]=I,Uk[c][d]=3,Tu[c][d]=0;else if(k&&(!S||D>=x))Np[c][d]=D,Uk[c][d]=2,Tu[c][d]=0;else if(S)Np[c][d]=x,Uk[c][d]=1,Tu[c][d]=Tu[c-1][d-1]+1;else throw new Error("not possible")}}if(!f[0]&&!s.firstMatchCanBeWeak)return;c--,d--;const g=[Np[c][d],o];let _=0,y=0;for(;c>=1;){let p=d;do{const v=Uk[c][p];if(v===3)p=p-2;else if(v===2)p=p-1;else break}while(p>=1);_>1&&e[t+c-1]===r[o+d-1]&&!yT(p+o-1,i,r)&&_+1>Tu[c][p]&&(p=d),p===d?_++:_=1,y||(y=p),c--,d=p-1,g.push(d)}l===a&&s.boostFullMatch&&(g[0]+=2);const m=y-a;return g[0]-=m,g}function k5e(n,e,t,i,r,o){let s=n-1,a=e-1;for(;s>=t&&a>=i;)r[s]===o[a]&&(R3[s]=a,s--),a--}function D5e(n,e,t,i,r,o,s,a,l,c,d){if(e[t]!==o[s])return Number.MIN_SAFE_INTEGER;let u=1,h=!1;return s===t-i?u=n[t]===r[s]?7:5:yT(s,r,o)&&(s===0||!yT(s-1,r,o))?(u=n[t]===r[s]?7:5,h=!0):$k(o,s)&&(s===0||!$k(o,s-1))?u=5:($k(o,s-1)||pZ(o,s-1))&&(u=5,h=!0),u>1&&t===i&&(d[0]=!0),h||(h=yT(s,r,o)||$k(o,s-1)||pZ(o,s-1)),t===i?s>l&&(u-=h?3:5):c?u+=h?2:0:u+=h?0:1,s+1===a&&(u-=h?3:5),u}function T5e(n,e,t,i,r,o,s){return E5e(n,e,t,i,r,o,!0,s)}function E5e(n,e,t,i,r,o,s,a){let l=Xm(n,e,t,i,r,o,a);if(l&&!s)return l;if(n.length>=3){const c=Math.min(7,n.length-1);for(let d=t+1;d<c;d++){const u=I5e(n,d);if(u){const h=Xm(u,u.toLowerCase(),t,i,r,o,a);h&&(h[0]-=3,(!l||h[0]>l[0])&&(l=h))}}}return l}function I5e(n,e){if(e+1>=n.length)return;const t=n[e],i=n[e+1];if(t!==i)return n.slice(0,e)+i+t+n.slice(e+2)}const N5e="$(",SV=new RegExp(`\\$\\(${lt.iconNameExpression}(?:${lt.iconModifierExpression})?\\)`,"g"),P5e=new RegExp(`(\\\\)?${SV.source}`,"g");function M5e(n){return n.replace(P5e,(e,t)=>t?e:`\\${e}`)}const R5e=new RegExp(`\\\\${SV.source}`,"g");function A5e(n){return n.replace(R5e,e=>`\\${e}`)}const O5e=new RegExp(`(\\s)?(\\\\)?${SV.source}(\\s)?`,"g");function xV(n){return n.indexOf(N5e)===-1?n:n.replace(O5e,(e,t,i,r)=>i?e:t||r||"")}function F5e(n){return n?n.replace(/\$\((.*?)\)/g,(e,t)=>` ${t} `).trim():""}const pO=new RegExp(`\\$\\(${lt.iconNameCharacter}+\\)`,"g");function nw(n){pO.lastIndex=0;let e="";const t=[];let i=0;for(;;){const r=pO.lastIndex,o=pO.exec(n),s=n.substring(r,o==null?void 0:o.index);if(s.length>0){e+=s;for(let a=0;a<s.length;a++)t.push(i)}if(!o)break;i+=o[0].length}return{text:e,iconOffsets:t}}function mO(n,e,t=!1){const{text:i,iconOffsets:r}=e;if(!r||r.length===0)return gZ(n,i,t);const o=Mx(i," "),s=i.length-o.length,a=gZ(n,o,t);if(a)for(const l of a){const c=r[l.start+s]+s;l.start+=c,l.end+=c}return a}class eo{constructor(e="",t=!1){var i,r,o;if(this.value=e,typeof this.value!="string")throw Qa("value");typeof t=="boolean"?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(i=t.isTrusted)!==null&&i!==void 0?i:void 0,this.supportThemeIcons=(r=t.supportThemeIcons)!==null&&r!==void 0?r:!1,this.supportHtml=(o=t.supportHtml)!==null&&o!==void 0?o:!1)}appendText(e,t=0){return this.value+=W5e(this.supportThemeIcons?M5e(e):e).replace(/([ \t]+)/g,(i,r)=>"&nbsp;".repeat(r.length)).replace(/\>/gm,"\\>").replace(/\n/g,t===1?`\\
`:`

`),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+=`
${V5e(t,e)}
`,this}appendLink(e,t,i){return this.value+="[",this.value+=this._escape(t,"]"),this.value+="](",this.value+=this._escape(String(e),")"),i&&(this.value+=` "${this._escape(this._escape(i,'"'),")")}"`),this.value+=")",this}_escape(e,t){const i=new RegExp(xa(t),"g");return e.replace(i,(r,o)=>e.charAt(o-1)!=="\\"?`\\${r}`:r)}}function Ob(n){return tu(n)?!n.value:Array.isArray(n)?n.every(Ob):!0}function tu(n){return n instanceof eo?!0:n&&typeof n=="object"?typeof n.value=="string"&&(typeof n.isTrusted=="boolean"||typeof n.isTrusted=="object"||n.isTrusted===void 0)&&(typeof n.supportThemeIcons=="boolean"||n.supportThemeIcons===void 0):!1}function B5e(n,e){return n===e?!0:!n||!e?!1:n.value===e.value&&n.isTrusted===e.isTrusted&&n.supportThemeIcons===e.supportThemeIcons&&n.supportHtml===e.supportHtml&&(n.baseUri===e.baseUri||!!n.baseUri&&!!e.baseUri&&X6(rt.from(n.baseUri),rt.from(e.baseUri)))}function W5e(n){return n.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function V5e(n,e){var t,i;const r=(i=(t=n.match(/^`+/gm))===null||t===void 0?void 0:t.reduce((s,a)=>s.length>a.length?s:a).length)!==null&&i!==void 0?i:0,o=r>=3?r+1:3;return[`${"`".repeat(o)}${e}`,n,`${"`".repeat(o)}`].join(`
`)}function qk(n){return n.replace(/"/g,"&quot;")}function _O(n){return n&&n.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function H5e(n){const e=[],t=n.split("|").map(r=>r.trim());n=t[0];const i=t[1];if(i){const r=/height=(\d+)/.exec(i),o=/width=(\d+)/.exec(i),s=r?r[1]:"",a=o?o[1]:"",l=isFinite(parseInt(a)),c=isFinite(parseInt(s));l&&e.push(`width="${a}"`),c&&e.push(`height="${s}"`)}return{href:n,dimensions:e}}class LV{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const A3=new LV("id#");let Go={};(function(){function n(e,t){t(Go)}n.amd=!0,function(e,t){typeof n=="function"&&n.amd?n(["exports"],t):typeof exports=="object"&&typeof module<"u"?t(exports):(e=typeof globalThis<"u"?globalThis:e||self,t(e.marked={}))}(this,function(e){function t(be,he){for(var fe=0;fe<he.length;fe++){var $=he[fe];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(be,$.key,$)}}function i(be,he,fe){return he&&t(be.prototype,he),fe&&t(be,fe),Object.defineProperty(be,"prototype",{writable:!1}),be}function r(be,he){if(be){if(typeof be=="string")return o(be,he);var fe=Object.prototype.toString.call(be).slice(8,-1);if(fe==="Object"&&be.constructor&&(fe=be.constructor.name),fe==="Map"||fe==="Set")return Array.from(be);if(fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(fe))return o(be,he)}}function o(be,he){(he==null||he>be.length)&&(he=be.length);for(var fe=0,$=new Array(he);fe<he;fe++)$[fe]=be[fe];return $}function s(be,he){var fe=typeof Symbol<"u"&&be[Symbol.iterator]||be["@@iterator"];if(fe)return(fe=fe.call(be)).next.bind(fe);if(Array.isArray(be)||(fe=r(be))||he&&be&&typeof be.length=="number"){fe&&(be=fe);var $=0;return function(){return $>=be.length?{done:!0}:{done:!1,value:be[$++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.defaults=a();function l(be){e.defaults=be}var c=/[&<>"']/,d=/[&<>"']/g,u=/[<>"']|&(?!#?\w+;)/,h=/[<>"']|&(?!#?\w+;)/g,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},g=function(he){return f[he]};function _(be,he){if(he){if(c.test(be))return be.replace(d,g)}else if(u.test(be))return be.replace(h,g);return be}var y=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function m(be){return be.replace(y,function(he,fe){return fe=fe.toLowerCase(),fe==="colon"?":":fe.charAt(0)==="#"?fe.charAt(1)==="x"?String.fromCharCode(parseInt(fe.substring(2),16)):String.fromCharCode(+fe.substring(1)):""})}var p=/(^|[^\[])\^/g;function v(be,he){be=typeof be=="string"?be:be.source,he=he||"";var fe={replace:function(Z,ae){return ae=ae.source||ae,ae=ae.replace(p,"$1"),be=be.replace(Z,ae),fe},getRegex:function(){return new RegExp(be,he)}};return fe}var b=/[^\w:]/g,C=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function S(be,he,fe){if(be){var $;try{$=decodeURIComponent(m(fe)).replace(b,"").toLowerCase()}catch{return null}if($.indexOf("javascript:")===0||$.indexOf("vbscript:")===0||$.indexOf("data:")===0)return null}he&&!C.test(fe)&&(fe=I(he,fe));try{fe=encodeURI(fe).replace(/%25/g,"%")}catch{return null}return fe}var x={},k=/^[^:]+:\/*[^/]*$/,D=/^([^:]+:)[\s\S]*$/,E=/^([^:]+:\/*[^/]*)[\s\S]*$/;function I(be,he){x[" "+be]||(k.test(be)?x[" "+be]=be+"/":x[" "+be]=W(be,"/",!0)),be=x[" "+be];var fe=be.indexOf(":")===-1;return he.substring(0,2)==="//"?fe?he:be.replace(D,"$1")+he:he.charAt(0)==="/"?fe?he:be.replace(E,"$1")+he:be+he}var N={exec:function(){}};function R(be){for(var he=1,fe,$;he<arguments.length;he++){fe=arguments[he];for($ in fe)Object.prototype.hasOwnProperty.call(fe,$)&&(be[$]=fe[$])}return be}function O(be,he){var fe=be.replace(/\|/g,function(ae,se,Le){for(var He=!1,Ye=se;--Ye>=0&&Le[Ye]==="\\";)He=!He;return He?"|":" |"}),$=fe.split(/ \|/),Z=0;if($[0].trim()||$.shift(),$.length>0&&!$[$.length-1].trim()&&$.pop(),$.length>he)$.splice(he);else for(;$.length<he;)$.push("");for(;Z<$.length;Z++)$[Z]=$[Z].trim().replace(/\\\|/g,"|");return $}function W(be,he,fe){var $=be.length;if($===0)return"";for(var Z=0;Z<$;){var ae=be.charAt($-Z-1);if(ae===he&&!fe)Z++;else if(ae!==he&&fe)Z++;else break}return be.slice(0,$-Z)}function K(be,he){if(be.indexOf(he[1])===-1)return-1;for(var fe=be.length,$=0,Z=0;Z<fe;Z++)if(be[Z]==="\\")Z++;else if(be[Z]===he[0])$++;else if(be[Z]===he[1]&&($--,$<0))return Z;return-1}function Q(be){be&&be.sanitize&&!be.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Y(be,he){if(he<1)return"";for(var fe="";he>1;)he&1&&(fe+=be),he>>=1,be+=be;return fe+be}function V(be,he,fe,$){var Z=he.href,ae=he.title?_(he.title):null,se=be[1].replace(/\\([\[\]])/g,"$1");if(be[0].charAt(0)!=="!"){$.state.inLink=!0;var Le={type:"link",raw:fe,href:Z,title:ae,text:se,tokens:$.inlineTokens(se)};return $.state.inLink=!1,Le}return{type:"image",raw:fe,href:Z,title:ae,text:_(se)}}function X(be,he){var fe=be.match(/^(\s+)(?:```)/);if(fe===null)return he;var $=fe[1];return he.split(`
`).map(function(Z){var ae=Z.match(/^\s+/);if(ae===null)return Z;var se=ae[0];return se.length>=$.length?Z.slice($.length):Z}).join(`
`)}var J=function(){function be(fe){this.options=fe||e.defaults}var he=be.prototype;return he.space=function($){var Z=this.rules.block.newline.exec($);if(Z&&Z[0].length>0)return{type:"space",raw:Z[0]}},he.code=function($){var Z=this.rules.block.code.exec($);if(Z){var ae=Z[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Z[0],codeBlockStyle:"indented",text:this.options.pedantic?ae:W(ae,`
`)}}},he.fences=function($){var Z=this.rules.block.fences.exec($);if(Z){var ae=Z[0],se=X(ae,Z[3]||"");return{type:"code",raw:ae,lang:Z[2]?Z[2].trim():Z[2],text:se}}},he.heading=function($){var Z=this.rules.block.heading.exec($);if(Z){var ae=Z[2].trim();if(/#$/.test(ae)){var se=W(ae,"#");(this.options.pedantic||!se||/ $/.test(se))&&(ae=se.trim())}return{type:"heading",raw:Z[0],depth:Z[1].length,text:ae,tokens:this.lexer.inline(ae)}}},he.hr=function($){var Z=this.rules.block.hr.exec($);if(Z)return{type:"hr",raw:Z[0]}},he.blockquote=function($){var Z=this.rules.block.blockquote.exec($);if(Z){var ae=Z[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:Z[0],tokens:this.lexer.blockTokens(ae,[]),text:ae}}},he.list=function($){var Z=this.rules.block.list.exec($);if(Z){var ae,se,Le,He,Ye,nt,bt,gt,ci,Qt,ut,fi,Ui=Z[1].trim(),An=Ui.length>1,ri={type:"list",raw:"",ordered:An,start:An?+Ui.slice(0,-1):"",loose:!1,items:[]};Ui=An?"\\d{1,9}\\"+Ui.slice(-1):"\\"+Ui,this.options.pedantic&&(Ui=An?Ui:"[*+-]");for(var rn=new RegExp("^( {0,3}"+Ui+")((?:[	 ][^\\n]*)?(?:\\n|$))");$&&(fi=!1,!(!(Z=rn.exec($))||this.rules.block.hr.test($)));){if(ae=Z[0],$=$.substring(ae.length),gt=Z[2].split(`
`,1)[0],ci=$.split(`
`,1)[0],this.options.pedantic?(He=2,ut=gt.trimLeft()):(He=Z[2].search(/[^ ]/),He=He>4?1:He,ut=gt.slice(He),He+=Z[1].length),nt=!1,!gt&&/^ *$/.test(ci)&&(ae+=ci+`
`,$=$.substring(ci.length+1),fi=!0),!fi)for(var co=new RegExp("^ {0,"+Math.min(3,He-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),Ys=new RegExp("^ {0,"+Math.min(3,He-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),Do=new RegExp("^ {0,"+Math.min(3,He-1)+"}(?:```|~~~)"),Qn=new RegExp("^ {0,"+Math.min(3,He-1)+"}#");$&&(Qt=$.split(`
`,1)[0],gt=Qt,this.options.pedantic&&(gt=gt.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Do.test(gt)||Qn.test(gt)||co.test(gt)||Ys.test($)));){if(gt.search(/[^ ]/)>=He||!gt.trim())ut+=`
`+gt.slice(He);else if(!nt)ut+=`
`+gt;else break;!nt&&!gt.trim()&&(nt=!0),ae+=Qt+`
`,$=$.substring(Qt.length+1)}ri.loose||(bt?ri.loose=!0:/\n *\n *$/.test(ae)&&(bt=!0)),this.options.gfm&&(se=/^\[[ xX]\] /.exec(ut),se&&(Le=se[0]!=="[ ] ",ut=ut.replace(/^\[[ xX]\] +/,""))),ri.items.push({type:"list_item",raw:ae,task:!!se,checked:Le,loose:!1,text:ut}),ri.raw+=ae}ri.items[ri.items.length-1].raw=ae.trimRight(),ri.items[ri.items.length-1].text=ut.trimRight(),ri.raw=ri.raw.trimRight();var Ss=ri.items.length;for(Ye=0;Ye<Ss;Ye++){this.lexer.state.top=!1,ri.items[Ye].tokens=this.lexer.blockTokens(ri.items[Ye].text,[]);var Ra=ri.items[Ye].tokens.filter(function(Xo){return Xo.type==="space"}),Ql=Ra.every(function(Xo){for(var wu=Xo.raw.split(""),uo=0,xs=s(wu),fl;!(fl=xs()).done;){var Su=fl.value;if(Su===`
`&&(uo+=1),uo>1)return!0}return!1});!ri.loose&&Ra.length&&Ql&&(ri.loose=!0,ri.items[Ye].loose=!0)}return ri}},he.html=function($){var Z=this.rules.block.html.exec($);if(Z){var ae={type:"html",raw:Z[0],pre:!this.options.sanitizer&&(Z[1]==="pre"||Z[1]==="script"||Z[1]==="style"),text:Z[0]};if(this.options.sanitize){var se=this.options.sanitizer?this.options.sanitizer(Z[0]):_(Z[0]);ae.type="paragraph",ae.text=se,ae.tokens=this.lexer.inline(se)}return ae}},he.def=function($){var Z=this.rules.block.def.exec($);if(Z){Z[3]&&(Z[3]=Z[3].substring(1,Z[3].length-1));var ae=Z[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:ae,raw:Z[0],href:Z[2],title:Z[3]}}},he.table=function($){var Z=this.rules.block.table.exec($);if(Z){var ae={type:"table",header:O(Z[1]).map(function(bt){return{text:bt}}),align:Z[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Z[3]&&Z[3].trim()?Z[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(ae.header.length===ae.align.length){ae.raw=Z[0];var se=ae.align.length,Le,He,Ye,nt;for(Le=0;Le<se;Le++)/^ *-+: *$/.test(ae.align[Le])?ae.align[Le]="right":/^ *:-+: *$/.test(ae.align[Le])?ae.align[Le]="center":/^ *:-+ *$/.test(ae.align[Le])?ae.align[Le]="left":ae.align[Le]=null;for(se=ae.rows.length,Le=0;Le<se;Le++)ae.rows[Le]=O(ae.rows[Le],ae.header.length).map(function(bt){return{text:bt}});for(se=ae.header.length,He=0;He<se;He++)ae.header[He].tokens=this.lexer.inline(ae.header[He].text);for(se=ae.rows.length,He=0;He<se;He++)for(nt=ae.rows[He],Ye=0;Ye<nt.length;Ye++)nt[Ye].tokens=this.lexer.inline(nt[Ye].text);return ae}}},he.lheading=function($){var Z=this.rules.block.lheading.exec($);if(Z)return{type:"heading",raw:Z[0],depth:Z[2].charAt(0)==="="?1:2,text:Z[1],tokens:this.lexer.inline(Z[1])}},he.paragraph=function($){var Z=this.rules.block.paragraph.exec($);if(Z){var ae=Z[1].charAt(Z[1].length-1)===`
`?Z[1].slice(0,-1):Z[1];return{type:"paragraph",raw:Z[0],text:ae,tokens:this.lexer.inline(ae)}}},he.text=function($){var Z=this.rules.block.text.exec($);if(Z)return{type:"text",raw:Z[0],text:Z[0],tokens:this.lexer.inline(Z[0])}},he.escape=function($){var Z=this.rules.inline.escape.exec($);if(Z)return{type:"escape",raw:Z[0],text:_(Z[1])}},he.tag=function($){var Z=this.rules.inline.tag.exec($);if(Z)return!this.lexer.state.inLink&&/^<a /i.test(Z[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Z[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Z[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Z[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:Z[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Z[0]):_(Z[0]):Z[0]}},he.link=function($){var Z=this.rules.inline.link.exec($);if(Z){var ae=Z[2].trim();if(!this.options.pedantic&&/^</.test(ae)){if(!/>$/.test(ae))return;var se=W(ae.slice(0,-1),"\\");if((ae.length-se.length)%2===0)return}else{var Le=K(Z[2],"()");if(Le>-1){var He=Z[0].indexOf("!")===0?5:4,Ye=He+Z[1].length+Le;Z[2]=Z[2].substring(0,Le),Z[0]=Z[0].substring(0,Ye).trim(),Z[3]=""}}var nt=Z[2],bt="";if(this.options.pedantic){var gt=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(nt);gt&&(nt=gt[1],bt=gt[3])}else bt=Z[3]?Z[3].slice(1,-1):"";return nt=nt.trim(),/^</.test(nt)&&(this.options.pedantic&&!/>$/.test(ae)?nt=nt.slice(1):nt=nt.slice(1,-1)),V(Z,{href:nt&&nt.replace(this.rules.inline._escapes,"$1"),title:bt&&bt.replace(this.rules.inline._escapes,"$1")},Z[0],this.lexer)}},he.reflink=function($,Z){var ae;if((ae=this.rules.inline.reflink.exec($))||(ae=this.rules.inline.nolink.exec($))){var se=(ae[2]||ae[1]).replace(/\s+/g," ");if(se=Z[se.toLowerCase()],!se||!se.href){var Le=ae[0].charAt(0);return{type:"text",raw:Le,text:Le}}return V(ae,se,ae[0],this.lexer)}},he.emStrong=function($,Z,ae){ae===void 0&&(ae="");var se=this.rules.inline.emStrong.lDelim.exec($);if(se&&!(se[3]&&ae.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Le=se[1]||se[2]||"";if(!Le||Le&&(ae===""||this.rules.inline.punctuation.exec(ae))){var He=se[0].length-1,Ye,nt,bt=He,gt=0,ci=se[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(ci.lastIndex=0,Z=Z.slice(-1*$.length+He);(se=ci.exec(Z))!=null;)if(Ye=se[1]||se[2]||se[3]||se[4]||se[5]||se[6],!!Ye){if(nt=Ye.length,se[3]||se[4]){bt+=nt;continue}else if((se[5]||se[6])&&He%3&&!((He+nt)%3)){gt+=nt;continue}if(bt-=nt,!(bt>0)){if(nt=Math.min(nt,nt+bt+gt),Math.min(He,nt)%2){var Qt=$.slice(1,He+se.index+nt);return{type:"em",raw:$.slice(0,He+se.index+nt+1),text:Qt,tokens:this.lexer.inlineTokens(Qt)}}var ut=$.slice(2,He+se.index+nt-1);return{type:"strong",raw:$.slice(0,He+se.index+nt+1),text:ut,tokens:this.lexer.inlineTokens(ut)}}}}}},he.codespan=function($){var Z=this.rules.inline.code.exec($);if(Z){var ae=Z[2].replace(/\n/g," "),se=/[^ ]/.test(ae),Le=/^ /.test(ae)&&/ $/.test(ae);return se&&Le&&(ae=ae.substring(1,ae.length-1)),ae=_(ae,!0),{type:"codespan",raw:Z[0],text:ae}}},he.br=function($){var Z=this.rules.inline.br.exec($);if(Z)return{type:"br",raw:Z[0]}},he.del=function($){var Z=this.rules.inline.del.exec($);if(Z)return{type:"del",raw:Z[0],text:Z[2],tokens:this.lexer.inlineTokens(Z[2])}},he.autolink=function($,Z){var ae=this.rules.inline.autolink.exec($);if(ae){var se,Le;return ae[2]==="@"?(se=_(this.options.mangle?Z(ae[1]):ae[1]),Le="mailto:"+se):(se=_(ae[1]),Le=se),{type:"link",raw:ae[0],text:se,href:Le,tokens:[{type:"text",raw:se,text:se}]}}},he.url=function($,Z){var ae;if(ae=this.rules.inline.url.exec($)){var se,Le;if(ae[2]==="@")se=_(this.options.mangle?Z(ae[0]):ae[0]),Le="mailto:"+se;else{var He;do He=ae[0],ae[0]=this.rules.inline._backpedal.exec(ae[0])[0];while(He!==ae[0]);se=_(ae[0]),ae[1]==="www."?Le="http://"+se:Le=se}return{type:"link",raw:ae[0],text:se,href:Le,tokens:[{type:"text",raw:se,text:se}]}}},he.inlineText=function($,Z){var ae=this.rules.inline.text.exec($);if(ae){var se;return this.lexer.state.inRawBlock?se=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ae[0]):_(ae[0]):ae[0]:se=_(this.options.smartypants?Z(ae[0]):ae[0]),{type:"text",raw:ae[0],text:se}}},be}(),te={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:N,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};te._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,te._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,te.def=v(te.def).replace("label",te._label).replace("title",te._title).getRegex(),te.bullet=/(?:[*+-]|\d{1,9}[.)])/,te.listItemStart=v(/^( *)(bull) */).replace("bull",te.bullet).getRegex(),te.list=v(te.list).replace(/bull/g,te.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+te.def.source+")").getRegex(),te._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",te._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,te.html=v(te.html,"i").replace("comment",te._comment).replace("tag",te._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),te.paragraph=v(te._paragraph).replace("hr",te.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",te._tag).getRegex(),te.blockquote=v(te.blockquote).replace("paragraph",te.paragraph).getRegex(),te.normal=R({},te),te.gfm=R({},te.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),te.gfm.table=v(te.gfm.table).replace("hr",te.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",te._tag).getRegex(),te.gfm.paragraph=v(te._paragraph).replace("hr",te.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",te.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",te._tag).getRegex(),te.pedantic=R({},te.normal,{html:v(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",te._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:N,paragraph:v(te.normal._paragraph).replace("hr",te.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",te.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var oe={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:N,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:N,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};oe._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",oe.punctuation=v(oe.punctuation).replace(/punctuation/g,oe._punctuation).getRegex(),oe.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,oe.escapedEmSt=/\\\*|\\_/g,oe._comment=v(te._comment).replace("(?:-->|$)","-->").getRegex(),oe.emStrong.lDelim=v(oe.emStrong.lDelim).replace(/punct/g,oe._punctuation).getRegex(),oe.emStrong.rDelimAst=v(oe.emStrong.rDelimAst,"g").replace(/punct/g,oe._punctuation).getRegex(),oe.emStrong.rDelimUnd=v(oe.emStrong.rDelimUnd,"g").replace(/punct/g,oe._punctuation).getRegex(),oe._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,oe._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,oe._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,oe.autolink=v(oe.autolink).replace("scheme",oe._scheme).replace("email",oe._email).getRegex(),oe._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,oe.tag=v(oe.tag).replace("comment",oe._comment).replace("attribute",oe._attribute).getRegex(),oe._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,oe._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,oe._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,oe.link=v(oe.link).replace("label",oe._label).replace("href",oe._href).replace("title",oe._title).getRegex(),oe.reflink=v(oe.reflink).replace("label",oe._label).replace("ref",te._label).getRegex(),oe.nolink=v(oe.nolink).replace("ref",te._label).getRegex(),oe.reflinkSearch=v(oe.reflinkSearch,"g").replace("reflink",oe.reflink).replace("nolink",oe.nolink).getRegex(),oe.normal=R({},oe),oe.pedantic=R({},oe.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:v(/^!?\[(label)\]\((.*?)\)/).replace("label",oe._label).getRegex(),reflink:v(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",oe._label).getRegex()}),oe.gfm=R({},oe.normal,{escape:v(oe.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),oe.gfm.url=v(oe.gfm.url,"i").replace("email",oe.gfm._extended_email).getRegex(),oe.breaks=R({},oe.gfm,{br:v(oe.br).replace("{2,}","*").getRegex(),text:v(oe.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Me(be){return be.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function Re(be){var he="",fe,$,Z=be.length;for(fe=0;fe<Z;fe++)$=be.charCodeAt(fe),Math.random()>.5&&($="x"+$.toString(16)),he+="&#"+$+";";return he}var _e=function(){function be(fe){this.tokens=[],this.tokens.links=Object.create(null),this.options=fe||e.defaults,this.options.tokenizer=this.options.tokenizer||new J,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var $={block:te.normal,inline:oe.normal};this.options.pedantic?($.block=te.pedantic,$.inline=oe.pedantic):this.options.gfm&&($.block=te.gfm,this.options.breaks?$.inline=oe.breaks:$.inline=oe.gfm),this.tokenizer.rules=$}be.lex=function($,Z){var ae=new be(Z);return ae.lex($)},be.lexInline=function($,Z){var ae=new be(Z);return ae.inlineTokens($)};var he=be.prototype;return he.lex=function($){$=$.replace(/\r\n|\r/g,`
`),this.blockTokens($,this.tokens);for(var Z;Z=this.inlineQueue.shift();)this.inlineTokens(Z.src,Z.tokens);return this.tokens},he.blockTokens=function($,Z){var ae=this;Z===void 0&&(Z=[]),this.options.pedantic?$=$.replace(/\t/g,"    ").replace(/^ +$/gm,""):$=$.replace(/^( *)(\t+)/gm,function(bt,gt,ci){return gt+"    ".repeat(ci.length)});for(var se,Le,He,Ye;$;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(bt){return(se=bt.call({lexer:ae},$,Z))?($=$.substring(se.raw.length),Z.push(se),!0):!1}))){if(se=this.tokenizer.space($)){$=$.substring(se.raw.length),se.raw.length===1&&Z.length>0?Z[Z.length-1].raw+=`
`:Z.push(se);continue}if(se=this.tokenizer.code($)){$=$.substring(se.raw.length),Le=Z[Z.length-1],Le&&(Le.type==="paragraph"||Le.type==="text")?(Le.raw+=`
`+se.raw,Le.text+=`
`+se.text,this.inlineQueue[this.inlineQueue.length-1].src=Le.text):Z.push(se);continue}if(se=this.tokenizer.fences($)){$=$.substring(se.raw.length),Z.push(se);continue}if(se=this.tokenizer.heading($)){$=$.substring(se.raw.length),Z.push(se);continue}if(se=this.tokenizer.hr($)){$=$.substring(se.raw.length),Z.push(se);continue}if(se=this.tokenizer.blockquote($)){$=$.substring(se.raw.length),Z.push(se);continue}if(se=this.tokenizer.list($)){$=$.substring(se.raw.length),Z.push(se);continue}if(se=this.tokenizer.html($)){$=$.substring(se.raw.length),Z.push(se);continue}if(se=this.tokenizer.def($)){$=$.substring(se.raw.length),Le=Z[Z.length-1],Le&&(Le.type==="paragraph"||Le.type==="text")?(Le.raw+=`
`+se.raw,Le.text+=`
`+se.raw,this.inlineQueue[this.inlineQueue.length-1].src=Le.text):this.tokens.links[se.tag]||(this.tokens.links[se.tag]={href:se.href,title:se.title});continue}if(se=this.tokenizer.table($)){$=$.substring(se.raw.length),Z.push(se);continue}if(se=this.tokenizer.lheading($)){$=$.substring(se.raw.length),Z.push(se);continue}if(He=$,this.options.extensions&&this.options.extensions.startBlock&&function(){var bt=1/0,gt=$.slice(1),ci=void 0;ae.options.extensions.startBlock.forEach(function(Qt){ci=Qt.call({lexer:this},gt),typeof ci=="number"&&ci>=0&&(bt=Math.min(bt,ci))}),bt<1/0&&bt>=0&&(He=$.substring(0,bt+1))}(),this.state.top&&(se=this.tokenizer.paragraph(He))){Le=Z[Z.length-1],Ye&&Le.type==="paragraph"?(Le.raw+=`
`+se.raw,Le.text+=`
`+se.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Le.text):Z.push(se),Ye=He.length!==$.length,$=$.substring(se.raw.length);continue}if(se=this.tokenizer.text($)){$=$.substring(se.raw.length),Le=Z[Z.length-1],Le&&Le.type==="text"?(Le.raw+=`
`+se.raw,Le.text+=`
`+se.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Le.text):Z.push(se);continue}if($){var nt="Infinite loop on byte: "+$.charCodeAt(0);if(this.options.silent){console.error(nt);break}else throw new Error(nt)}}return this.state.top=!0,Z},he.inline=function($,Z){return Z===void 0&&(Z=[]),this.inlineQueue.push({src:$,tokens:Z}),Z},he.inlineTokens=function($,Z){var ae=this;Z===void 0&&(Z=[]);var se,Le,He,Ye=$,nt,bt,gt;if(this.tokens.links){var ci=Object.keys(this.tokens.links);if(ci.length>0)for(;(nt=this.tokenizer.rules.inline.reflinkSearch.exec(Ye))!=null;)ci.includes(nt[0].slice(nt[0].lastIndexOf("[")+1,-1))&&(Ye=Ye.slice(0,nt.index)+"["+Y("a",nt[0].length-2)+"]"+Ye.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(nt=this.tokenizer.rules.inline.blockSkip.exec(Ye))!=null;)Ye=Ye.slice(0,nt.index)+"["+Y("a",nt[0].length-2)+"]"+Ye.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(nt=this.tokenizer.rules.inline.escapedEmSt.exec(Ye))!=null;)Ye=Ye.slice(0,nt.index)+"++"+Ye.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;$;)if(bt||(gt=""),bt=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(ut){return(se=ut.call({lexer:ae},$,Z))?($=$.substring(se.raw.length),Z.push(se),!0):!1}))){if(se=this.tokenizer.escape($)){$=$.substring(se.raw.length),Z.push(se);continue}if(se=this.tokenizer.tag($)){$=$.substring(se.raw.length),Le=Z[Z.length-1],Le&&se.type==="text"&&Le.type==="text"?(Le.raw+=se.raw,Le.text+=se.text):Z.push(se);continue}if(se=this.tokenizer.link($)){$=$.substring(se.raw.length),Z.push(se);continue}if(se=this.tokenizer.reflink($,this.tokens.links)){$=$.substring(se.raw.length),Le=Z[Z.length-1],Le&&se.type==="text"&&Le.type==="text"?(Le.raw+=se.raw,Le.text+=se.text):Z.push(se);continue}if(se=this.tokenizer.emStrong($,Ye,gt)){$=$.substring(se.raw.length),Z.push(se);continue}if(se=this.tokenizer.codespan($)){$=$.substring(se.raw.length),Z.push(se);continue}if(se=this.tokenizer.br($)){$=$.substring(se.raw.length),Z.push(se);continue}if(se=this.tokenizer.del($)){$=$.substring(se.raw.length),Z.push(se);continue}if(se=this.tokenizer.autolink($,Re)){$=$.substring(se.raw.length),Z.push(se);continue}if(!this.state.inLink&&(se=this.tokenizer.url($,Re))){$=$.substring(se.raw.length),Z.push(se);continue}if(He=$,this.options.extensions&&this.options.extensions.startInline&&function(){var ut=1/0,fi=$.slice(1),Ui=void 0;ae.options.extensions.startInline.forEach(function(An){Ui=An.call({lexer:this},fi),typeof Ui=="number"&&Ui>=0&&(ut=Math.min(ut,Ui))}),ut<1/0&&ut>=0&&(He=$.substring(0,ut+1))}(),se=this.tokenizer.inlineText(He,Me)){$=$.substring(se.raw.length),se.raw.slice(-1)!=="_"&&(gt=se.raw.slice(-1)),bt=!0,Le=Z[Z.length-1],Le&&Le.type==="text"?(Le.raw+=se.raw,Le.text+=se.text):Z.push(se);continue}if($){var Qt="Infinite loop on byte: "+$.charCodeAt(0);if(this.options.silent){console.error(Qt);break}else throw new Error(Qt)}}return Z},i(be,null,[{key:"rules",get:function(){return{block:te,inline:oe}}}]),be}(),Fe=function(){function be(fe){this.options=fe||e.defaults}var he=be.prototype;return he.code=function($,Z,ae){var se=(Z||"").match(/\S*/)[0];if(this.options.highlight){var Le=this.options.highlight($,se);Le!=null&&Le!==$&&(ae=!0,$=Le)}return $=$.replace(/\n$/,"")+`
`,se?'<pre><code class="'+this.options.langPrefix+_(se,!0)+'">'+(ae?$:_($,!0))+`</code></pre>
`:"<pre><code>"+(ae?$:_($,!0))+`</code></pre>
`},he.blockquote=function($){return`<blockquote>
`+$+`</blockquote>
`},he.html=function($){return $},he.heading=function($,Z,ae,se){if(this.options.headerIds){var Le=this.options.headerPrefix+se.slug(ae);return"<h"+Z+' id="'+Le+'">'+$+"</h"+Z+`>
`}return"<h"+Z+">"+$+"</h"+Z+`>
`},he.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},he.list=function($,Z,ae){var se=Z?"ol":"ul",Le=Z&&ae!==1?' start="'+ae+'"':"";return"<"+se+Le+`>
`+$+"</"+se+`>
`},he.listitem=function($){return"<li>"+$+`</li>
`},he.checkbox=function($){return"<input "+($?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},he.paragraph=function($){return"<p>"+$+`</p>
`},he.table=function($,Z){return Z&&(Z="<tbody>"+Z+"</tbody>"),`<table>
<thead>
`+$+`</thead>
`+Z+`</table>
`},he.tablerow=function($){return`<tr>
`+$+`</tr>
`},he.tablecell=function($,Z){var ae=Z.header?"th":"td",se=Z.align?"<"+ae+' align="'+Z.align+'">':"<"+ae+">";return se+$+("</"+ae+`>
`)},he.strong=function($){return"<strong>"+$+"</strong>"},he.em=function($){return"<em>"+$+"</em>"},he.codespan=function($){return"<code>"+$+"</code>"},he.br=function(){return this.options.xhtml?"<br/>":"<br>"},he.del=function($){return"<del>"+$+"</del>"},he.link=function($,Z,ae){if($=S(this.options.sanitize,this.options.baseUrl,$),$===null)return ae;var se='<a href="'+_($)+'"';return Z&&(se+=' title="'+Z+'"'),se+=">"+ae+"</a>",se},he.image=function($,Z,ae){if($=S(this.options.sanitize,this.options.baseUrl,$),$===null)return ae;var se='<img src="'+$+'" alt="'+ae+'"';return Z&&(se+=' title="'+Z+'"'),se+=this.options.xhtml?"/>":">",se},he.text=function($){return $},be}(),Oe=function(){function be(){}var he=be.prototype;return he.strong=function($){return $},he.em=function($){return $},he.codespan=function($){return $},he.del=function($){return $},he.html=function($){return $},he.text=function($){return $},he.link=function($,Z,ae){return""+ae},he.image=function($,Z,ae){return""+ae},he.br=function(){return""},be}(),De=function(){function be(){this.seen={}}var he=be.prototype;return he.serialize=function($){return $.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},he.getNextSafeSlug=function($,Z){var ae=$,se=0;if(this.seen.hasOwnProperty(ae)){se=this.seen[$];do se++,ae=$+"-"+se;while(this.seen.hasOwnProperty(ae))}return Z||(this.seen[$]=se,this.seen[ae]=0),ae},he.slug=function($,Z){Z===void 0&&(Z={});var ae=this.serialize($);return this.getNextSafeSlug(ae,Z.dryrun)},be}(),ze=function(){function be(fe){this.options=fe||e.defaults,this.options.renderer=this.options.renderer||new Fe,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Oe,this.slugger=new De}be.parse=function($,Z){var ae=new be(Z);return ae.parse($)},be.parseInline=function($,Z){var ae=new be(Z);return ae.parseInline($)};var he=be.prototype;return he.parse=function($,Z){Z===void 0&&(Z=!0);var ae="",se,Le,He,Ye,nt,bt,gt,ci,Qt,ut,fi,Ui,An,ri,rn,co,Ys,Do,Qn,Ss=$.length;for(se=0;se<Ss;se++){if(ut=$[se],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ut.type]&&(Qn=this.options.extensions.renderers[ut.type].call({parser:this},ut),Qn!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ut.type))){ae+=Qn||"";continue}switch(ut.type){case"space":continue;case"hr":{ae+=this.renderer.hr();continue}case"heading":{ae+=this.renderer.heading(this.parseInline(ut.tokens),ut.depth,m(this.parseInline(ut.tokens,this.textRenderer)),this.slugger);continue}case"code":{ae+=this.renderer.code(ut.text,ut.lang,ut.escaped);continue}case"table":{for(ci="",gt="",Ye=ut.header.length,Le=0;Le<Ye;Le++)gt+=this.renderer.tablecell(this.parseInline(ut.header[Le].tokens),{header:!0,align:ut.align[Le]});for(ci+=this.renderer.tablerow(gt),Qt="",Ye=ut.rows.length,Le=0;Le<Ye;Le++){for(bt=ut.rows[Le],gt="",nt=bt.length,He=0;He<nt;He++)gt+=this.renderer.tablecell(this.parseInline(bt[He].tokens),{header:!1,align:ut.align[He]});Qt+=this.renderer.tablerow(gt)}ae+=this.renderer.table(ci,Qt);continue}case"blockquote":{Qt=this.parse(ut.tokens),ae+=this.renderer.blockquote(Qt);continue}case"list":{for(fi=ut.ordered,Ui=ut.start,An=ut.loose,Ye=ut.items.length,Qt="",Le=0;Le<Ye;Le++)rn=ut.items[Le],co=rn.checked,Ys=rn.task,ri="",rn.task&&(Do=this.renderer.checkbox(co),An?rn.tokens.length>0&&rn.tokens[0].type==="paragraph"?(rn.tokens[0].text=Do+" "+rn.tokens[0].text,rn.tokens[0].tokens&&rn.tokens[0].tokens.length>0&&rn.tokens[0].tokens[0].type==="text"&&(rn.tokens[0].tokens[0].text=Do+" "+rn.tokens[0].tokens[0].text)):rn.tokens.unshift({type:"text",text:Do}):ri+=Do),ri+=this.parse(rn.tokens,An),Qt+=this.renderer.listitem(ri,Ys,co);ae+=this.renderer.list(Qt,fi,Ui);continue}case"html":{ae+=this.renderer.html(ut.text);continue}case"paragraph":{ae+=this.renderer.paragraph(this.parseInline(ut.tokens));continue}case"text":{for(Qt=ut.tokens?this.parseInline(ut.tokens):ut.text;se+1<Ss&&$[se+1].type==="text";)ut=$[++se],Qt+=`
`+(ut.tokens?this.parseInline(ut.tokens):ut.text);ae+=Z?this.renderer.paragraph(Qt):Qt;continue}default:{var Ra='Token with "'+ut.type+'" type was not found.';if(this.options.silent){console.error(Ra);return}else throw new Error(Ra)}}}return ae},he.parseInline=function($,Z){Z=Z||this.renderer;var ae="",se,Le,He,Ye=$.length;for(se=0;se<Ye;se++){if(Le=$[se],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Le.type]&&(He=this.options.extensions.renderers[Le.type].call({parser:this},Le),He!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Le.type))){ae+=He||"";continue}switch(Le.type){case"escape":{ae+=Z.text(Le.text);break}case"html":{ae+=Z.html(Le.text);break}case"link":{ae+=Z.link(Le.href,Le.title,this.parseInline(Le.tokens,Z));break}case"image":{ae+=Z.image(Le.href,Le.title,Le.text);break}case"strong":{ae+=Z.strong(this.parseInline(Le.tokens,Z));break}case"em":{ae+=Z.em(this.parseInline(Le.tokens,Z));break}case"codespan":{ae+=Z.codespan(Le.text);break}case"br":{ae+=Z.br();break}case"del":{ae+=Z.del(this.parseInline(Le.tokens,Z));break}case"text":{ae+=Z.text(Le.text);break}default:{var nt='Token with "'+Le.type+'" type was not found.';if(this.options.silent){console.error(nt);return}else throw new Error(nt)}}}return ae},be}();function ke(be,he,fe){if(typeof be>"u"||be===null)throw new Error("marked(): input parameter is undefined or null");if(typeof be!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(be)+", string expected");if(typeof he=="function"&&(fe=he,he=null),he=R({},ke.defaults,he||{}),Q(he),fe){var $=he.highlight,Z;try{Z=_e.lex(be,he)}catch(Ye){return fe(Ye)}var ae=function(nt){var bt;if(!nt)try{he.walkTokens&&ke.walkTokens(Z,he.walkTokens),bt=ze.parse(Z,he)}catch(gt){nt=gt}return he.highlight=$,nt?fe(nt):fe(null,bt)};if(!$||$.length<3||(delete he.highlight,!Z.length))return ae();var se=0;ke.walkTokens(Z,function(Ye){Ye.type==="code"&&(se++,setTimeout(function(){$(Ye.text,Ye.lang,function(nt,bt){if(nt)return ae(nt);bt!=null&&bt!==Ye.text&&(Ye.text=bt,Ye.escaped=!0),se--,se===0&&ae()})},0))}),se===0&&ae();return}function Le(Ye){if(Ye.message+=`
Please report this to https://github.com/markedjs/marked.`,he.silent)return"<p>An error occurred:</p><pre>"+_(Ye.message+"",!0)+"</pre>";throw Ye}try{var He=_e.lex(be,he);if(he.walkTokens){if(he.async)return Promise.all(ke.walkTokens(He,he.walkTokens)).then(function(){return ze.parse(He,he)}).catch(Le);ke.walkTokens(He,he.walkTokens)}return ze.parse(He,he)}catch(Ye){Le(Ye)}}ke.options=ke.setOptions=function(be){return R(ke.defaults,be),l(ke.defaults),ke},ke.getDefaults=a,ke.defaults=e.defaults,ke.use=function(){for(var be=arguments.length,he=new Array(be),fe=0;fe<be;fe++)he[fe]=arguments[fe];var $=R.apply(void 0,[{}].concat(he)),Z=ke.defaults.extensions||{renderers:{},childTokens:{}},ae;he.forEach(function(se){if(se.extensions&&(ae=!0,se.extensions.forEach(function(He){if(!He.name)throw new Error("extension name required");if(He.renderer){var Ye=Z.renderers?Z.renderers[He.name]:null;Ye?Z.renderers[He.name]=function(){for(var nt=arguments.length,bt=new Array(nt),gt=0;gt<nt;gt++)bt[gt]=arguments[gt];var ci=He.renderer.apply(this,bt);return ci===!1&&(ci=Ye.apply(this,bt)),ci}:Z.renderers[He.name]=He.renderer}if(He.tokenizer){if(!He.level||He.level!=="block"&&He.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");Z[He.level]?Z[He.level].unshift(He.tokenizer):Z[He.level]=[He.tokenizer],He.start&&(He.level==="block"?Z.startBlock?Z.startBlock.push(He.start):Z.startBlock=[He.start]:He.level==="inline"&&(Z.startInline?Z.startInline.push(He.start):Z.startInline=[He.start]))}He.childTokens&&(Z.childTokens[He.name]=He.childTokens)})),se.renderer&&function(){var He=ke.defaults.renderer||new Fe,Ye=function(gt){var ci=He[gt];He[gt]=function(){for(var Qt=arguments.length,ut=new Array(Qt),fi=0;fi<Qt;fi++)ut[fi]=arguments[fi];var Ui=se.renderer[gt].apply(He,ut);return Ui===!1&&(Ui=ci.apply(He,ut)),Ui}};for(var nt in se.renderer)Ye(nt);$.renderer=He}(),se.tokenizer&&function(){var He=ke.defaults.tokenizer||new J,Ye=function(gt){var ci=He[gt];He[gt]=function(){for(var Qt=arguments.length,ut=new Array(Qt),fi=0;fi<Qt;fi++)ut[fi]=arguments[fi];var Ui=se.tokenizer[gt].apply(He,ut);return Ui===!1&&(Ui=ci.apply(He,ut)),Ui}};for(var nt in se.tokenizer)Ye(nt);$.tokenizer=He}(),se.walkTokens){var Le=ke.defaults.walkTokens;$.walkTokens=function(He){var Ye=[];return Ye.push(se.walkTokens.call(this,He)),Le&&(Ye=Ye.concat(Le.call(this,He))),Ye}}ae&&($.extensions=Z),ke.setOptions($)})},ke.walkTokens=function(be,he){for(var fe=[],$=function(){var Le=ae.value;switch(fe=fe.concat(he.call(ke,Le)),Le.type){case"table":{for(var He=s(Le.header),Ye;!(Ye=He()).done;){var nt=Ye.value;fe=fe.concat(ke.walkTokens(nt.tokens,he))}for(var bt=s(Le.rows),gt;!(gt=bt()).done;)for(var ci=gt.value,Qt=s(ci),ut;!(ut=Qt()).done;){var fi=ut.value;fe=fe.concat(ke.walkTokens(fi.tokens,he))}break}case"list":{fe=fe.concat(ke.walkTokens(Le.items,he));break}default:ke.defaults.extensions&&ke.defaults.extensions.childTokens&&ke.defaults.extensions.childTokens[Le.type]?ke.defaults.extensions.childTokens[Le.type].forEach(function(Ui){fe=fe.concat(ke.walkTokens(Le[Ui],he))}):Le.tokens&&(fe=fe.concat(ke.walkTokens(Le.tokens,he)))}},Z=s(be),ae;!(ae=Z()).done;)$();return fe},ke.parseInline=function(be,he){if(typeof be>"u"||be===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof be!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(be)+", string expected");he=R({},ke.defaults,he||{}),Q(he);try{var fe=_e.lexInline(be,he);return he.walkTokens&&ke.walkTokens(fe,he.walkTokens),ze.parseInline(fe,he)}catch($){if($.message+=`
Please report this to https://github.com/markedjs/marked.`,he.silent)return"<p>An error occurred:</p><pre>"+_($.message+"",!0)+"</pre>";throw $}},ke.Parser=ze,ke.parser=ze.parse,ke.Renderer=Fe,ke.TextRenderer=Oe,ke.Lexer=_e,ke.lexer=_e.lex,ke.Tokenizer=J,ke.Slugger=De,ke.parse=ke;var Ze=ke.options,vt=ke.setOptions,ot=ke.use,ct=ke.walkTokens,st=ke.parseInline,ni=ke,Yi=ze.parse,zn=_e.lex;e.Lexer=_e,e.Parser=ze,e.Renderer=Fe,e.Slugger=De,e.TextRenderer=Oe,e.Tokenizer=J,e.getDefaults=a,e.lexer=zn,e.marked=ke,e.options=Ze,e.parse=ni,e.parseInline=st,e.parser=Yi,e.setOptions=vt,e.use=ot,e.walkTokens=ct,Object.defineProperty(e,"__esModule",{value:!0})})})();Go.Lexer||exports.Lexer;Go.Parser||exports.Parser;Go.Renderer||exports.Renderer;Go.Slugger||exports.Slugger;Go.TextRenderer||exports.TextRenderer;Go.Tokenizer||exports.Tokenizer;Go.getDefaults||exports.getDefaults;Go.lexer||exports.lexer;var Md=Go.marked||exports.marked;Go.options||exports.options;Go.parse||exports.parse;Go.parseInline||exports.parseInline;Go.parser||exports.parser;Go.setOptions||exports.setOptions;Go.use||exports.use;Go.walkTokens||exports.walkTokens;function z5e(n){return JSON.stringify(n,j5e)}function O3(n){let e=JSON.parse(n);return e=F3(e),e}function j5e(n,e){return e instanceof RegExp?{$mid:2,source:e.source,flags:e.flags}:e}function F3(n,e=0){if(!n||e>200)return n;if(typeof n=="object"){switch(n.$mid){case 1:return rt.revive(n);case 2:return new RegExp(n.source,n.flags);case 17:return new Date(n.source)}if(n instanceof WP||n instanceof Uint8Array)return n;if(Array.isArray(n))for(let t=0;t<n.length;++t)n[t]=F3(n[t],e+1);else for(const t in n)Object.hasOwnProperty.call(n,t)&&(n[t]=F3(n[t],e+1))}return n}const vO=Object.freeze({image:(n,e,t)=>{let i=[],r=[];return n&&({href:n,dimensions:i}=H5e(n),r.push(`src="${qk(n)}"`)),t&&r.push(`alt="${qk(t)}"`),e&&r.push(`title="${qk(e)}"`),i.length&&(r=r.concat(i)),"<img "+r.join(" ")+">"},paragraph:n=>`<p>${n}</p>`,link:(n,e,t)=>typeof n!="string"?"":(n===t&&(t=_O(t)),e=typeof e=="string"?qk(_O(e)):"",n=_O(n),n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${n}" title="${e||n}" draggable="false">${t}</a>`)});function cM(n,e={},t={}){var i,r;const o=new xe;let s=!1;const a=_V(e),l=function(m){let p;try{p=O3(decodeURIComponent(m))}catch{}return p?(p=_se(p,v=>{if(n.uris&&n.uris[v])return rt.revive(n.uris[v])}),encodeURIComponent(JSON.stringify(p))):m},c=function(m,p){const v=n.uris&&n.uris[m];let b=rt.revive(v);return p?m.startsWith(Tt.data+":")?m:(b||(b=rt.parse(m)),vae.uriToBrowserUri(b).toString(!0)):!b||rt.parse(m).toString()===b.toString()?m:(b.query&&(b=b.with({query:l(b.query)})),b.toString())},d=new Md.Renderer;d.image=vO.image,d.link=vO.link,d.paragraph=vO.paragraph;const u=[],h=[];if(e.codeBlockRendererSync?d.code=(m,p)=>{const v=A3.nextId(),b=e.codeBlockRendererSync(mZ(p),m);return h.push([v,b]),`<div class="code" data-code="${v}">${FE(m)}</div>`}:e.codeBlockRenderer&&(d.code=(m,p)=>{const v=A3.nextId(),b=e.codeBlockRenderer(mZ(p),m);return u.push(b.then(C=>[v,C])),`<div class="code" data-code="${v}">${FE(m)}</div>`}),e.actionHandler){const m=function(b){let C=b.target;if(!(C.tagName!=="A"&&(C=C.parentElement,!C||C.tagName!=="A")))try{let S=C.dataset.href;S&&(n.baseUri&&(S=bO(rt.from(n.baseUri),S)),e.actionHandler.callback(S,b))}catch(S){St(S)}finally{b.preventDefault()}},p=e.actionHandler.disposables.add(new $t(a,"click")),v=e.actionHandler.disposables.add(new $t(a,"auxclick"));e.actionHandler.disposables.add(Ve.any(p.event,v.event)(b=>{const C=new Ml(ht(a),b);!C.leftButton&&!C.middleButton||m(C)})),e.actionHandler.disposables.add(ge(a,"keydown",b=>{const C=new Oi(b);!C.equals(10)&&!C.equals(3)||m(C)}))}n.supportHtml||(t.sanitizer=m=>(n.isTrusted?m.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?m:"",t.sanitize=!0,t.silent=!0),t.renderer=d;let f=(i=n.value)!==null&&i!==void 0?i:"";f.length>1e5&&(f=`${f.substr(0,1e5)}`),n.supportThemeIcons&&(f=A5e(f));let g;if(e.fillInIncompleteTokens){const m={...Md.defaults,...t},p=Md.lexer(f,m),v=X5e(p);g=Md.parser(v,m)}else g=Md.parse(f,t);n.supportThemeIcons&&(g=gg(g).map(p=>typeof p=="string"?p:p.outerHTML).join(""));const y=new DOMParser().parseFromString(B3(n,g),"text/html");if(y.body.querySelectorAll("img").forEach(m=>{const p=m.getAttribute("src");if(p){let v=p;try{n.baseUri&&(v=bO(rt.from(n.baseUri),v))}catch{}m.src=c(v,!0)}}),y.body.querySelectorAll("a").forEach(m=>{const p=m.getAttribute("href");if(m.setAttribute("href",""),!p||/^data:|javascript:/i.test(p)||/^command:/i.test(p)&&!n.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(p))m.replaceWith(...m.childNodes);else{let v=c(p,!1);n.baseUri&&(v=bO(rt.from(n.baseUri),p)),m.dataset.href=v}}),a.innerHTML=B3(n,y.body.innerHTML),u.length>0)Promise.all(u).then(m=>{var p,v;if(s)return;const b=new Map(m),C=a.querySelectorAll("div[data-code]");for(const S of C){const x=b.get((p=S.dataset.code)!==null&&p!==void 0?p:"");x&&Kr(S,x)}(v=e.asyncRenderCallback)===null||v===void 0||v.call(e)});else if(h.length>0){const m=new Map(h),p=a.querySelectorAll("div[data-code]");for(const v of p){const b=m.get((r=v.dataset.code)!==null&&r!==void 0?r:"");b&&Kr(v,b)}}if(e.asyncRenderCallback)for(const m of a.getElementsByTagName("img")){const p=o.add(ge(m,"load",()=>{p.dispose(),e.asyncRenderCallback()}))}return{element:a,dispose:()=>{s=!0,o.dispose()}}}function mZ(n){if(!n)return"";const e=n.split(/[\s+|:|,|\{|\?]/,1);return e.length?e[0]:n}function bO(n,e){return/^\w[\w\d+.-]*:/.test(e)?e:n.path.endsWith("/")?yG(n,e).toString():yG(iM(n),e).toString()}function B3(n,e){const{config:t,allowedSchemes:i}=$5e(n);MF("uponSanitizeAttribute",(o,s)=>{var a;if(s.attrName==="style"||s.attrName==="class"){if(o.tagName==="SPAN"){if(s.attrName==="style"){s.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(s.attrValue);return}else if(s.attrName==="class"){s.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(s.attrValue);return}}s.keepAttr=!1;return}else if(o.tagName==="INPUT"&&((a=o.attributes.getNamedItem("type"))===null||a===void 0?void 0:a.value)==="checkbox"){if(s.attrName==="type"&&s.attrValue==="checkbox"||s.attrName==="disabled"||s.attrName==="checked"){s.keepAttr=!0;return}s.keepAttr=!1}}),MF("uponSanitizeElement",(o,s)=>{var a,l;s.tagName==="input"&&(((a=o.attributes.getNamedItem("type"))===null||a===void 0?void 0:a.value)==="checkbox"?o.setAttribute("disabled",""):(l=o.parentElement)===null||l===void 0||l.removeChild(o))});const r=jDe(i);try{return pae(e,{...t,RETURN_TRUSTED_TYPE:!0})}finally{mae("uponSanitizeAttribute"),r.dispose()}}const U5e=["align","autoplay","alt","checked","class","controls","data-code","data-href","disabled","draggable","height","href","loop","muted","playsinline","poster","src","style","target","title","type","width","start"];function $5e(n){const e=[Tt.http,Tt.https,Tt.mailto,Tt.data,Tt.file,Tt.vscodeFileResource,Tt.vscodeRemote,Tt.vscodeRemoteResource];return n.isTrusted&&e.push(Tt.command),{config:{ALLOWED_TAGS:[...UDe],ALLOWED_ATTR:U5e,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:e}}function q5e(n){return typeof n=="string"?n:K5e(n)}function K5e(n){var e;let t=(e=n.value)!==null&&e!==void 0?e:"";t.length>1e5&&(t=`${t.substr(0,1e5)}`);const i=Md.parse(t,{renderer:Z5e.value}).replace(/&(#\d+|[a-zA-Z]+);/g,r=>{var o;return(o=G5e.get(r))!==null&&o!==void 0?o:r});return B3({isTrusted:!1},i).toString()}const G5e=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),Z5e=new up(()=>{const n=new Md.Renderer;return n.code=e=>e,n.blockquote=e=>e,n.html=e=>"",n.heading=(e,t,i)=>e+`
`,n.hr=()=>"",n.list=(e,t)=>e,n.listitem=e=>e+`
`,n.paragraph=e=>e+`
`,n.table=(e,t)=>e+t+`
`,n.tablerow=e=>e,n.tablecell=(e,t)=>e+" ",n.strong=e=>e,n.em=e=>e,n.codespan=e=>e,n.br=()=>`
`,n.del=e=>e,n.image=(e,t,i)=>"",n.text=e=>e,n.link=(e,t,i)=>i,n});function kV(n){let e="";return n.forEach(t=>{e+=t.raw}),e}function Y5e(n){var e,t;for(let i=0;i<n.tokens.length;i++){const r=n.tokens[i];if(r.type==="text"){const o=r.raw.split(`
`),s=o[o.length-1];if(s.includes("`"))return J5e(n);if(s.includes("**"))return o4e(n);if(s.match(/\*\w/))return e4e(n);if(s.match(/(^|\s)__\w/))return s4e(n);if(s.match(/(^|\s)_\w/))return t4e(n);if(s.match(/(^|\s)\[.*\]\(\w*/)){const a=n.tokens.slice(i+1);return((e=a[0])===null||e===void 0?void 0:e.type)==="link"&&((t=a[1])===null||t===void 0?void 0:t.type)==="text"&&a[1].raw.match(/^ *"[^"]*$/)?n4e(n):i4e(n)}else if(s.match(/(^|\s)\[\w/))return r4e(n)}}}function X5e(n){let e,t;for(e=0;e<n.length;e++){const i=n[e];if(i.type==="paragraph"&&i.raw.match(/(\n|^)```/)){t=Q5e(n.slice(e));break}if(i.type==="paragraph"&&i.raw.match(/(\n|^)\|/)){t=a4e(n.slice(e));break}if(e===n.length-1&&i.type==="paragraph"){const r=Y5e(i);if(r){t=[r];break}}}if(t){const i=[...n.slice(0,e),...t];return i.links=n.links,i}return n}function Q5e(n){const e=kV(n);return Md.lexer(e+"\n```")}function J5e(n){return gp(n,"`")}function e4e(n){return gp(n,"*")}function t4e(n){return gp(n,"_")}function i4e(n){return gp(n,")")}function n4e(n){return gp(n,'")')}function r4e(n){return gp(n,"](about:blank)")}function o4e(n){return gp(n,"**")}function s4e(n){return gp(n,"__")}function gp(n,e){const t=kV(Array.isArray(n)?n:[n]);return Md.lexer(t+e)[0]}function a4e(n){const e=kV(n),t=e.split(`
`);let i,r=!1;for(let o=0;o<t.length;o++){const s=t[o].trim();if(typeof i>"u"&&s.match(/^\s*\|/)){const a=s.match(/(\|[^\|]+)(?=\||$)/g);a&&(i=a.length)}else if(typeof i=="number")if(s.match(/^\s*\|/)){if(o!==t.length-1)return;r=!0}else return}if(typeof i=="number"&&i>0){const o=r?t.slice(0,-1).join(`
`):e,s=!!o.match(/\|\s*$/),a=o+(s?"":"|")+`
|${" --- |".repeat(i)}`;return Md.lexer(a)}}var l4e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},_Z=function(n,e){return function(t,i){e(t,i,n)}},W3;let du=W3=class{constructor(e,t,i){this._options=e,this._languageService=t,this._openerService=i,this._onDidRenderAsync=new ne,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(e,t,i){if(!e)return{element:document.createElement("span"),dispose:()=>{}};const r=new xe,o=r.add(cM(e,{...this._getRenderOptions(e,r),...t},i));return o.element.classList.add("rendered-markdown"),{element:o.element,dispose:()=>r.dispose()}}_getRenderOptions(e,t){return{codeBlockRenderer:async(i,r)=>{var o,s,a;let l;i?l=this._languageService.getLanguageIdByLanguageName(i):this._options.editor&&(l=(o=this._options.editor.getModel())===null||o===void 0?void 0:o.getLanguageId()),l||(l=Sa);const c=await qAe(this._languageService,r,l),d=document.createElement("span");if(d.innerHTML=(a=(s=W3._ttpTokenizer)===null||s===void 0?void 0:s.createHTML(c))!==null&&a!==void 0?a:c,this._options.editor){const u=this._options.editor.getOption(50);Ur(d,u)}else this._options.codeBlockFontFamily&&(d.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(d.style.fontSize=this._options.codeBlockFontSize),d},asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:i=>DV(this._openerService,i,e.isTrusted),disposables:t}}}};du._ttpTokenizer=Fh("tokenizeToString",{createHTML(n){return n}});du=W3=l4e([_Z(1,Zi),_Z(2,ws)],du);async function DV(n,e,t){try{return await n.open(e,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:c4e(t)})}catch(i){return St(i),!1}}function c4e(n){return n===!0?!0:n&&Array.isArray(n.enabledCommands)?n.enabledCommands:!1}var d4e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},yC=function(n,e){return function(t,i){e(t,i,n)}};const fd=Te;let V3=class extends Na{get _targetWindow(){return ht(this._target.targetElements[0])}get _targetDocumentElement(){return ht(this._target.targetElements[0]).document.documentElement}get isDisposed(){return this._isDisposed}get isMouseIn(){return this._lockMouseTracker.isMouseIn}get domNode(){return this._hover.containerDomNode}get onDispose(){return this._onDispose.event}get onRequestLayout(){return this._onRequestLayout.event}get anchor(){return this._hoverPosition===2?0:1}get x(){return this._x}get y(){return this._y}get isLocked(){return this._isLocked}set isLocked(e){this._isLocked!==e&&(this._isLocked=e,this._hoverContainer.classList.toggle("locked",this._isLocked))}constructor(e,t,i,r,o,s){var a,l,c,d,u,h,f,g;super(),this._keybindingService=t,this._configurationService=i,this._openerService=r,this._instantiationService=o,this._accessibilityService=s,this._messageListeners=new xe,this._isDisposed=!1,this._forcePosition=!1,this._x=0,this._y=0,this._isLocked=!1,this._enableFocusTraps=!1,this._addedFocusTrap=!1,this._onDispose=this._register(new ne),this._onRequestLayout=this._register(new ne),this._linkHandler=e.linkHandler||(b=>DV(this._openerService,b,tu(e.content)?e.content.isTrusted:void 0)),this._target="targetElements"in e.target?e.target:new u4e(e.target),this._hoverPointer=!((a=e.appearance)===null||a===void 0)&&a.showPointer?fd("div.workbench-hover-pointer"):void 0,this._hover=this._register(new mV),this._hover.containerDomNode.classList.add("workbench-hover","fadeIn"),!((l=e.appearance)===null||l===void 0)&&l.compact&&this._hover.containerDomNode.classList.add("workbench-hover","compact"),!((c=e.appearance)===null||c===void 0)&&c.skipFadeInAnimation&&this._hover.containerDomNode.classList.add("skip-fade-in"),e.additionalClasses&&this._hover.containerDomNode.classList.add(...e.additionalClasses),!((d=e.position)===null||d===void 0)&&d.forcePosition&&(this._forcePosition=!0),e.trapFocus&&(this._enableFocusTraps=!0),this._hoverPosition=(h=(u=e.position)===null||u===void 0?void 0:u.hoverPosition)!==null&&h!==void 0?h:3,this.onmousedown(this._hover.containerDomNode,b=>b.stopPropagation()),this.onkeydown(this._hover.containerDomNode,b=>{b.equals(9)&&this.dispose()}),this._register(ge(this._targetWindow,"blur",()=>this.dispose()));const _=fd("div.hover-row.markdown-hover"),y=fd("div.hover-contents");if(typeof e.content=="string")y.textContent=e.content,y.style.whiteSpace="pre-wrap";else if(e.content instanceof HTMLElement)y.appendChild(e.content),y.classList.add("html-hover-contents");else{const b=e.content,C=this._instantiationService.createInstance(du,{codeBlockFontFamily:this._configurationService.getValue("editor").fontFamily||ps.fontFamily}),{element:S}=C.render(b,{actionHandler:{callback:x=>this._linkHandler(x),disposables:this._messageListeners},asyncRenderCallback:()=>{y.classList.add("code-hover-contents"),this.layout(),this._onRequestLayout.fire()}});y.appendChild(S)}if(_.appendChild(y),this._hover.contentsDomNode.appendChild(_),e.actions&&e.actions.length>0){const b=fd("div.hover-row.status-bar"),C=fd("div.actions");e.actions.forEach(S=>{const x=this._keybindingService.lookupKeybinding(S.commandId),k=x?x.getLabel():null;sM.render(C,{label:S.label,commandId:S.commandId,run:D=>{S.run(D),this.dispose()},iconClass:S.iconClass},k)}),b.appendChild(C),this._hover.containerDomNode.appendChild(b)}this._hoverContainer=fd("div.workbench-hover-container"),this._hoverPointer&&this._hoverContainer.appendChild(this._hoverPointer),this._hoverContainer.appendChild(this._hover.containerDomNode);let m;if(e.actions&&e.actions.length>0?m=!1:((f=e.persistence)===null||f===void 0?void 0:f.hideOnHover)===void 0?m=typeof e.content=="string"||tu(e.content)&&!e.content.value.includes("](")&&!e.content.value.includes("</a>"):m=e.persistence.hideOnHover,m&&(!((g=e.appearance)===null||g===void 0)&&g.showHoverHint)){const b=fd("div.hover-row.status-bar"),C=fd("div.info");C.textContent=w("hoverhint","Hold {0} key to mouse over",qt?"Option":"Alt"),b.appendChild(C),this._hover.containerDomNode.appendChild(b)}const p=[...this._target.targetElements];m||p.push(this._hoverContainer);const v=this._register(new vZ(p));if(this._register(v.onMouseOut(()=>{this._isLocked||this.dispose()})),m){const b=[...this._target.targetElements,this._hoverContainer];this._lockMouseTracker=this._register(new vZ(b)),this._register(this._lockMouseTracker.onMouseOut(()=>{this._isLocked||this.dispose()}))}else this._lockMouseTracker=v}addFocusTrap(){if(!this._enableFocusTraps||this._addedFocusTrap)return;this._addedFocusTrap=!0;const e=this._hover.containerDomNode,t=this.findLastFocusableChild(this._hover.containerDomNode);if(t){const i=v6(this._hoverContainer,fd("div")),r=Se(this._hoverContainer,fd("div"));i.tabIndex=0,r.tabIndex=0,this._register(ge(r,"focus",o=>{e.focus(),o.preventDefault()})),this._register(ge(i,"focus",o=>{t.focus(),o.preventDefault()}))}}findLastFocusableChild(e){if(e.hasChildNodes())for(let t=0;t<e.childNodes.length;t++){const i=e.childNodes.item(e.childNodes.length-t-1);if(i.nodeType===i.ELEMENT_NODE){const o=i;if(typeof o.tabIndex=="number"&&o.tabIndex>=0)return o}const r=this.findLastFocusableChild(i);if(r)return r}}render(e){var t;e.appendChild(this._hoverContainer);const r=this._hoverContainer.contains(this._hoverContainer.ownerDocument.activeElement)&&Nce(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(t=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||t===void 0?void 0:t.getAriaLabel());r&&Ih(r),this.layout(),this.addFocusTrap()}layout(){this._hover.containerDomNode.classList.remove("right-aligned"),this._hover.contentsDomNode.style.maxHeight="";const e=d=>{const u=wae(d),h=d.getBoundingClientRect();return{top:h.top*u,bottom:h.bottom*u,right:h.right*u,left:h.left*u}},t=this._target.targetElements.map(d=>e(d)),i=Math.min(...t.map(d=>d.top)),r=Math.max(...t.map(d=>d.right)),o=Math.max(...t.map(d=>d.bottom)),s=Math.min(...t.map(d=>d.left)),a=r-s,l=o-i,c={top:i,right:r,bottom:o,left:s,width:a,height:l,center:{x:s+a/2,y:i+l/2}};if(this.adjustHorizontalHoverPosition(c),this.adjustVerticalHoverPosition(c),this.adjustHoverMaxHeight(c),this._hoverContainer.style.padding="",this._hoverContainer.style.margin="",this._hoverPointer){switch(this._hoverPosition){case 1:c.left+=3,c.right+=3,this._hoverContainer.style.paddingLeft="3px",this._hoverContainer.style.marginLeft="-3px";break;case 0:c.left-=3,c.right-=3,this._hoverContainer.style.paddingRight="3px",this._hoverContainer.style.marginRight="-3px";break;case 2:c.top+=3,c.bottom+=3,this._hoverContainer.style.paddingTop="3px",this._hoverContainer.style.marginTop="-3px";break;case 3:c.top-=3,c.bottom-=3,this._hoverContainer.style.paddingBottom="3px",this._hoverContainer.style.marginBottom="-3px";break}c.center.x=c.left+a/2,c.center.y=c.top+l/2}this.computeXCordinate(c),this.computeYCordinate(c),this._hoverPointer&&(this._hoverPointer.classList.remove("top"),this._hoverPointer.classList.remove("left"),this._hoverPointer.classList.remove("right"),this._hoverPointer.classList.remove("bottom"),this.setHoverPointerPosition(c)),this._hover.onContentsChanged()}computeXCordinate(e){const t=this._hover.containerDomNode.clientWidth+2;this._target.x!==void 0?this._x=this._target.x:this._hoverPosition===1?this._x=e.right:this._hoverPosition===0?this._x=e.left-t:(this._hoverPointer?this._x=e.center.x-this._hover.containerDomNode.clientWidth/2:this._x=e.left,this._x+t>=this._targetDocumentElement.clientWidth&&(this._hover.containerDomNode.classList.add("right-aligned"),this._x=Math.max(this._targetDocumentElement.clientWidth-t-2,this._targetDocumentElement.clientLeft))),this._x<this._targetDocumentElement.clientLeft&&(this._x=e.left+2)}computeYCordinate(e){this._target.y!==void 0?this._y=this._target.y:this._hoverPosition===3?this._y=e.top:this._hoverPosition===2?this._y=e.bottom-2:this._hoverPointer?this._y=e.center.y+this._hover.containerDomNode.clientHeight/2:this._y=e.bottom,this._y>this._targetWindow.innerHeight&&(this._y=e.bottom)}adjustHorizontalHoverPosition(e){if(this._target.x===void 0){if(this._forcePosition){const t=(this._hoverPointer?3:0)+2;this._hoverPosition===1?this._hover.containerDomNode.style.maxWidth=`${this._targetDocumentElement.clientWidth-e.right-t}px`:this._hoverPosition===0&&(this._hover.containerDomNode.style.maxWidth=`${e.left-t}px`);return}this._hoverPosition===1?this._targetDocumentElement.clientWidth-e.right<this._hover.containerDomNode.clientWidth&&(e.left>=this._hover.containerDomNode.clientWidth?this._hoverPosition=0:this._hoverPosition=2):this._hoverPosition===0&&(e.left<this._hover.containerDomNode.clientWidth&&(this._targetDocumentElement.clientWidth-e.right>=this._hover.containerDomNode.clientWidth?this._hoverPosition=1:this._hoverPosition=2),e.left-this._hover.containerDomNode.clientWidth<=this._targetDocumentElement.clientLeft&&(this._hoverPosition=1))}}adjustVerticalHoverPosition(e){this._target.y!==void 0||this._forcePosition||(this._hoverPosition===3?e.top-this._hover.containerDomNode.clientHeight<0&&(this._hoverPosition=2):this._hoverPosition===2&&e.bottom+this._hover.containerDomNode.clientHeight>this._targetWindow.innerHeight&&(this._hoverPosition=3))}adjustHoverMaxHeight(e){let t=this._targetWindow.innerHeight/2;if(this._forcePosition){const i=(this._hoverPointer?3:0)+2;this._hoverPosition===3?t=Math.min(t,e.top-i):this._hoverPosition===2&&(t=Math.min(t,this._targetWindow.innerHeight-e.bottom-i))}if(this._hover.containerDomNode.style.maxHeight=`${t}px`,this._hover.contentsDomNode.clientHeight<this._hover.contentsDomNode.scrollHeight){const i=`${this._hover.scrollbar.options.verticalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingRight!==i&&(this._hover.contentsDomNode.style.paddingRight=i)}}setHoverPointerPosition(e){if(this._hoverPointer)switch(this._hoverPosition){case 0:case 1:{this._hoverPointer.classList.add(this._hoverPosition===0?"right":"left");const t=this._hover.containerDomNode.clientHeight;t>e.height?this._hoverPointer.style.top=`${e.center.y-(this._y-t)-3}px`:this._hoverPointer.style.top=`${Math.round(t/2)-3}px`;break}case 3:case 2:{this._hoverPointer.classList.add(this._hoverPosition===3?"bottom":"top");const t=this._hover.containerDomNode.clientWidth;let i=Math.round(t/2)-3;const r=this._x+i;(r<e.left||r>e.right)&&(i=e.center.x-this._x-3),this._hoverPointer.style.left=`${i}px`;break}}}focus(){this._hover.containerDomNode.focus()}dispose(){this._isDisposed||(this._onDispose.fire(),this._hoverContainer.remove(),this._messageListeners.dispose(),this._target.dispose(),super.dispose()),this._isDisposed=!0}};V3=d4e([yC(1,xi),yC(2,jt),yC(3,ws),yC(4,dt),yC(5,Gl)],V3);class vZ extends Na{get onMouseOut(){return this._onMouseOut.event}get isMouseIn(){return this._isMouseIn}constructor(e){super(),this._elements=e,this._isMouseIn=!0,this._onMouseOut=this._register(new ne),this._elements.forEach(t=>this.onmouseover(t,()=>this._onTargetMouseOver(t))),this._elements.forEach(t=>this.onmouseleave(t,()=>this._onTargetMouseLeave(t)))}_onTargetMouseOver(e){this._isMouseIn=!0,this._clearEvaluateMouseStateTimeout(e)}_onTargetMouseLeave(e){this._isMouseIn=!1,this._evaluateMouseState(e)}_evaluateMouseState(e){this._clearEvaluateMouseStateTimeout(e),this._mouseTimeout=ht(e).setTimeout(()=>this._fireIfMouseOutside(),0)}_clearEvaluateMouseStateTimeout(e){this._mouseTimeout&&(ht(e).clearTimeout(this._mouseTimeout),this._mouseTimeout=void 0)}_fireIfMouseOutside(){this._isMouseIn||this._onMouseOut.fire()}}class u4e{constructor(e){this._element=e,this.targetElements=[this._element]}dispose(){}}var h4e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},u0=function(n,e){return function(t,i){e(t,i,n)}};let H3=class{constructor(e,t,i,r,o,s){this._instantiationService=e,this._contextViewService=t,this._keybindingService=r,this._layoutService=o,this._accessibilityService=s,i.onDidShowContextMenu(()=>this.hideHover())}showHover(e,t,i){var r,o,s,a;if(bZ(this._currentHoverOptions)===bZ(e)||this._currentHover&&(!((o=(r=this._currentHoverOptions)===null||r===void 0?void 0:r.persistence)===null||o===void 0)&&o.sticky))return;this._currentHoverOptions=e,this._lastHoverOptions=e;const l=e.trapFocus||this._accessibilityService.isScreenReaderOptimized(),c=qr();i||(l&&c?this._lastFocusedElementBeforeOpen=c:this._lastFocusedElementBeforeOpen=void 0);const d=new xe,u=this._instantiationService.createInstance(V3,e);if(!((s=e.persistence)===null||s===void 0)&&s.sticky&&(u.isLocked=!0),u.onDispose(()=>{var f,g;((f=this._currentHover)===null||f===void 0?void 0:f.domNode)&&xae(this._currentHover.domNode)&&((g=this._lastFocusedElementBeforeOpen)===null||g===void 0||g.focus()),this._currentHoverOptions===e&&(this._currentHoverOptions=void 0),d.dispose()}),!e.container){const f=e.target instanceof HTMLElement?e.target:e.target.targetElements[0];e.container=this._layoutService.getContainer(ht(f))}const h=this._contextViewService;if(h.showContextView(new f4e(u,t),e.container),u.onRequestLayout(()=>h.layout()),!((a=e.persistence)===null||a===void 0)&&a.sticky)d.add(ge(ht(e.container).document,Ne.MOUSE_DOWN,f=>{Ar(f.target,u.domNode)||this.doHideHover()}));else{if("targetElements"in e.target)for(const g of e.target.targetElements)d.add(ge(g,Ne.CLICK,()=>this.hideHover()));else d.add(ge(e.target,Ne.CLICK,()=>this.hideHover()));const f=qr();if(f){const g=ht(f).document;d.add(ge(f,Ne.KEY_DOWN,_=>{var y;return this._keyDown(_,u,!!(!((y=e.persistence)===null||y===void 0)&&y.hideOnKeyDown))})),d.add(ge(g,Ne.KEY_DOWN,_=>{var y;return this._keyDown(_,u,!!(!((y=e.persistence)===null||y===void 0)&&y.hideOnKeyDown))})),d.add(ge(f,Ne.KEY_UP,_=>this._keyUp(_,u))),d.add(ge(g,Ne.KEY_UP,_=>this._keyUp(_,u)))}}if("IntersectionObserver"in wi){const f=new IntersectionObserver(_=>this._intersectionChange(_,u),{threshold:0}),g="targetElements"in e.target?e.target.targetElements[0]:e.target;f.observe(g),d.add(at(()=>f.disconnect()))}return this._currentHover=u,u}hideHover(){var e;!((e=this._currentHover)===null||e===void 0)&&e.isLocked||!this._currentHoverOptions||this.doHideHover()}doHideHover(){this._currentHover=void 0,this._currentHoverOptions=void 0,this._contextViewService.hideContextView()}_intersectionChange(e,t){e[e.length-1].isIntersecting||t.dispose()}_keyDown(e,t,i){var r,o;if(e.key==="Alt"){t.isLocked=!0;return}const s=new Oi(e);this._keybindingService.resolveKeyboardEvent(s).getSingleModifierDispatchChords().some(l=>!!l)||this._keybindingService.softDispatch(s,s.target).kind!==0||i&&(!(!((r=this._currentHoverOptions)===null||r===void 0)&&r.trapFocus)||e.key!=="Tab")&&(this.hideHover(),(o=this._lastFocusedElementBeforeOpen)===null||o===void 0||o.focus())}_keyUp(e,t){var i;e.key==="Alt"&&(t.isLocked=!1,t.isMouseIn||(this.hideHover(),(i=this._lastFocusedElementBeforeOpen)===null||i===void 0||i.focus()))}};H3=h4e([u0(0,dt),u0(1,bu),u0(2,Pa),u0(3,xi),u0(4,R_),u0(5,Gl)],H3);function bZ(n){var e;if(n!==void 0)return(e=n==null?void 0:n.id)!==null&&e!==void 0?e:n}class f4e{get anchorPosition(){return this._hover.anchor}constructor(e,t=!1){this._hover=e,this._focus=t}render(e){return this._hover.render(e),this._focus&&this._hover.focus(),this._hover}getAnchor(){return{x:this._hover.x,y:this._hover.y}}layout(){this._hover.layout()}}Yt(pV,H3,1);cl((n,e)=>{const t=n.getColor(gle);t&&(e.addRule(`.monaco-workbench .workbench-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-workbench .workbench-hover hr { border-top: 1px solid ${t.transparent(.5)}; }`))});const Xx=zt("IWorkspaceEditService");class TV{constructor(e){this.metadata=e}static convert(e){return e.edits.map(t=>{if(pg.is(t))return pg.lift(t);if(jv.is(t))return jv.lift(t);throw new Error("Unsupported edit")})}}class pg extends TV{static is(e){return e instanceof pg?!0:Oo(e)&&rt.isUri(e.resource)&&Oo(e.textEdit)}static lift(e){return e instanceof pg?e:new pg(e.resource,e.textEdit,e.versionId,e.metadata)}constructor(e,t,i=void 0,r){super(r),this.resource=e,this.textEdit=t,this.versionId=i}}class jv extends TV{static is(e){return e instanceof jv?!0:Oo(e)&&(!!e.newResource||!!e.oldResource)}static lift(e){return e instanceof jv?e:new jv(e.oldResource,e.newResource,e.options,e.metadata)}constructor(e,t,i={},r){super(r),this.oldResource=e,this.newResource=t,this.options=i}}const mo={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0},dM=Object.freeze({id:"editor",order:5,type:"object",title:w("editorConfigurationTitle","Editor"),scope:5}),SI={...dM,properties:{"editor.tabSize":{type:"number",default:Jr.tabSize,minimum:1,markdownDescription:w("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:w("indentSize",'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:Jr.insertSpaces,markdownDescription:w("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:Jr.detectIndentation,markdownDescription:w("detectIndentation","Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:Jr.trimAutoWhitespace,description:w("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:Jr.largeFileOptimizations,description:w("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{enum:["off","currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[w("wordBasedSuggestions.off","Turn off Word Based Suggestions."),w("wordBasedSuggestions.currentDocument","Only suggest words from the active document."),w("wordBasedSuggestions.matchingDocuments","Suggest words from all open documents of the same language."),w("wordBasedSuggestions.allDocuments","Suggest words from all open documents.")],description:w("wordBasedSuggestions","Controls whether completions should be computed based on words in the document and from which documents they are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[w("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),w("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),w("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:w("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:w("stablePeek","Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:w("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:w("editor.experimental.asyncTokenization","Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:w("editor.experimental.asyncTokenizationLogging","Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:w("editor.experimental.asyncTokenizationVerification","Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only."),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:w("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:w("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:w("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:w("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:w("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:w("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:mo.maxComputationTime,description:w("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:mo.maxFileSize,description:w("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:mo.renderSideBySide,description:w("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:mo.renderSideBySideInlineBreakpoint,description:w("renderSideBySideInlineBreakpoint","If the diff editor width is smaller than this value, the inline view is used.")},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:mo.useInlineViewWhenSpaceIsLimited,description:w("useInlineViewWhenSpaceIsLimited","If enabled and the editor width is too small, the inline view is used.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:mo.renderMarginRevertIcon,description:w("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:mo.ignoreTrimWhitespace,description:w("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:mo.renderIndicators,description:w("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:mo.diffCodeLens,description:w("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:mo.diffWordWrap,markdownEnumDescriptions:[w("wordWrap.off","Lines will never wrap."),w("wordWrap.on","Lines will wrap at the viewport width."),w("wordWrap.inherit","Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:mo.diffAlgorithm,markdownEnumDescriptions:[w("diffAlgorithm.legacy","Uses the legacy diffing algorithm."),w("diffAlgorithm.advanced","Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:mo.hideUnchangedRegions.enabled,markdownDescription:w("hideUnchangedRegions.enabled","Controls whether the diff editor shows unchanged regions.")},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:mo.hideUnchangedRegions.revealLineCount,markdownDescription:w("hideUnchangedRegions.revealLineCount","Controls how many lines are used for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:mo.hideUnchangedRegions.minimumLineCount,markdownDescription:w("hideUnchangedRegions.minimumLineCount","Controls how many lines are used as a minimum for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:mo.hideUnchangedRegions.contextLineCount,markdownDescription:w("hideUnchangedRegions.contextLineCount","Controls how many lines are used as context when comparing unchanged regions."),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:mo.experimental.showMoves,markdownDescription:w("showMoves","Controls whether the diff editor should show detected code moves.")},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:mo.experimental.showEmptyDecorations,description:w("showEmptyDecorations","Controls whether the diff editor shows empty decorations to see where characters got inserted or deleted.")}}};function g4e(n){return typeof n.type<"u"||typeof n.anyOf<"u"}for(const n of K0){const e=n.schema;if(typeof e<"u")if(g4e(e))SI.properties[`editor.${n.name}`]=e;else for(const t in e)Object.hasOwnProperty.call(e,t)&&(SI.properties[t]=e[t])}let Kk=null;function Uce(){return Kk===null&&(Kk=Object.create(null),Object.keys(SI.properties).forEach(n=>{Kk[n]=!0})),Kk}function p4e(n){return Uce()[`editor.${n}`]||!1}function m4e(n){return Uce()[`diffEditor.${n}`]||!1}const _4e=nn.as(id.Configuration);_4e.registerConfiguration(SI);class Qi{static insert(e,t){return{range:new B(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}function yO(n){return Object.isFrozen(n)?n:GSe(n)}class Qr{constructor(e={},t=[],i=[],r){this._contents=e,this._keys=t,this._overrides=i,this.raw=r,this.overrideConfigurations=new Map}get rawConfiguration(){var e;if(!this._rawConfiguration)if(!((e=this.raw)===null||e===void 0)&&e.length){const t=this.raw.map(i=>{if(i instanceof Qr)return i;const r=new v4e("");return r.parseRaw(i),r.configurationModel});this._rawConfiguration=t.reduce((i,r)=>r===i?r:i.merge(r),t[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(e){return e?Qq(this.contents,e):this.contents}inspect(e,t){const i=this.rawConfiguration.getValue(e),r=t?this.rawConfiguration.getOverrideValue(e,t):void 0,o=t?this.rawConfiguration.override(t).getValue(e):i;return{value:i,override:r,merged:o}}getOverrideValue(e,t){const i=this.getContentsForOverrideIdentifer(t);return i?e?Qq(i,e):i:void 0}override(e){let t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}merge(...e){var t,i;const r=Vu(this.contents),o=Vu(this.overrides),s=[...this.keys],a=!((t=this.raw)===null||t===void 0)&&t.length?[...this.raw]:[this];for(const l of e)if(a.push(...!((i=l.raw)===null||i===void 0)&&i.length?l.raw:[l]),!l.isEmpty()){this.mergeContents(r,l.contents);for(const c of l.overrides){const[d]=o.filter(u=>vn(u.identifiers,c.identifiers));d?(this.mergeContents(d.contents,c.contents),d.keys.push(...c.keys),d.keys=Eg(d.keys)):o.push(Vu(c))}for(const c of l.keys)s.indexOf(c)===-1&&s.push(c)}return new Qr(r,s,o,a.every(l=>l instanceof Qr)?void 0:a)}createOverrideConfigurationModel(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||typeof t!="object"||!Object.keys(t).length)return this;const i={};for(const r of Eg([...Object.keys(this.contents),...Object.keys(t)])){let o=this.contents[r];const s=t[r];s&&(typeof o=="object"&&typeof s=="object"?(o=Vu(o),this.mergeContents(o,s)):o=s),i[r]=o}return new Qr(i,this.keys,this.overrides)}mergeContents(e,t){for(const i of Object.keys(t)){if(i in e&&Oo(e[i])&&Oo(t[i])){this.mergeContents(e[i],t[i]);continue}e[i]=Vu(t[i])}}getContentsForOverrideIdentifer(e){let t=null,i=null;const r=o=>{o&&(i?this.mergeContents(i,o):i=Vu(o))};for(const o of this.overrides)o.identifiers.length===1&&o.identifiers[0]===e?t=o.contents:o.identifiers.includes(e)&&r(o.contents);return r(t),i}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(e,t){this.updateValue(e,t,!0)}setValue(e,t){this.updateValue(e,t,!1)}removeValue(e){const t=this.keys.indexOf(e);t!==-1&&(this.keys.splice(t,1),STe(this.contents,e),Fg.test(e)&&this.overrides.splice(this.overrides.findIndex(i=>vn(i.identifiers,qE(e))),1))}updateValue(e,t,i){Vae(this.contents,e,t,r=>console.error(r)),i=i||this.keys.indexOf(e)===-1,i&&this.keys.push(e),Fg.test(e)&&this.overrides.push({identifiers:qE(e),keys:Object.keys(this.contents[e]),contents:OF(this.contents[e],r=>console.error(r))})}}class v4e{constructor(e){this._name=e,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new Qr}parseRaw(e,t){this._raw=e;const{contents:i,keys:r,overrides:o,restricted:s,hasExcludedProperties:a}=this.doParseRaw(e,t);this._configurationModel=new Qr(i,r,o,a?[e]:void 0),this._restrictedConfigurations=s||[]}doParseRaw(e,t){const i=nn.as(id.Configuration).getConfigurationProperties(),r=this.filter(e,i,!0,t);e=r.raw;const o=OF(e,l=>console.error(`Conflict in settings file ${this._name}: ${l}`)),s=Object.keys(e),a=this.toOverrides(e,l=>console.error(`Conflict in settings file ${this._name}: ${l}`));return{contents:o,keys:s,overrides:a,restricted:r.restricted,hasExcludedProperties:r.hasExcludedProperties}}filter(e,t,i,r){var o,s,a;let l=!1;if(!(r!=null&&r.scopes)&&!(r!=null&&r.skipRestricted)&&!(!((o=r==null?void 0:r.exclude)===null||o===void 0)&&o.length))return{raw:e,restricted:[],hasExcludedProperties:l};const c={},d=[];for(const u in e)if(Fg.test(u)&&i){const h=this.filter(e[u],t,!1,r);c[u]=h.raw,l=l||h.hasExcludedProperties,d.push(...h.restricted)}else{const h=t[u],f=h?typeof h.scope<"u"?h.scope:3:void 0;h!=null&&h.restricted&&d.push(u),!(!((s=r.exclude)===null||s===void 0)&&s.includes(u))&&(!((a=r.include)===null||a===void 0)&&a.includes(u)||(f===void 0||r.scopes===void 0||r.scopes.includes(f))&&!(r.skipRestricted&&(h!=null&&h.restricted)))?c[u]=e[u]:l=!0}return{raw:c,restricted:d,hasExcludedProperties:l}}toOverrides(e,t){const i=[];for(const r of Object.keys(e))if(Fg.test(r)){const o={};for(const s in e[r])o[s]=e[r][s];i.push({identifiers:qE(r),keys:Object.keys(o),contents:OF(o,t)})}return i}}class b4e{constructor(e,t,i,r,o,s,a,l,c,d,u,h,f){this.key=e,this.overrides=t,this._value=i,this.overrideIdentifiers=r,this.defaultConfiguration=o,this.policyConfiguration=s,this.applicationConfiguration=a,this.userConfiguration=l,this.localUserConfiguration=c,this.remoteUserConfiguration=d,this.workspaceConfiguration=u,this.folderConfigurationModel=h,this.memoryConfigurationModel=f}inspect(e,t,i){const r=e.inspect(t,i);return{get value(){return yO(r.value)},get override(){return yO(r.override)},get merged(){return yO(r.merged)}}}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.inspect(this.userConfiguration,this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.userInspectValue.value!==void 0||this.userInspectValue.override!==void 0?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}class uM{constructor(e,t,i,r,o=new Qr,s=new Qr,a=new Ln,l=new Qr,c=new Ln){this._defaultConfiguration=e,this._policyConfiguration=t,this._applicationConfiguration=i,this._localUserConfiguration=r,this._remoteUserConfiguration=o,this._workspaceConfiguration=s,this._folderConfigurations=a,this._memoryConfiguration=l,this._memoryConfigurationByResource=c,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Ln,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidatedConfigurationModel(e,t,i).getValue(e)}updateValue(e,t,i={}){let r;i.resource?(r=this._memoryConfigurationByResource.get(i.resource),r||(r=new Qr,this._memoryConfigurationByResource.set(i.resource,r))):r=this._memoryConfiguration,t===void 0?r.removeValue(e):r.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(e,t,i){const r=this.getConsolidatedConfigurationModel(e,t,i),o=this.getFolderConfigurationModelForResource(t.resource,i),s=t.resource?this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration:this._memoryConfiguration,a=new Set;for(const l of r.overrides)for(const c of l.identifiers)r.getOverrideValue(e,c)!==void 0&&a.add(c);return new b4e(e,t,r.getValue(e),a.size?[...a]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,i?this._workspaceConfiguration:void 0,o||void 0,s)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(e,t,i){let r=this.getConsolidatedConfigurationModelForResource(t,i);return t.overrideIdentifier&&(r=r.override(t.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(e)!==void 0&&(r=r.merge(this._policyConfiguration)),r}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const r=t.getFolder(e);r&&(i=this.getFolderConsolidatedConfiguration(r.uri)||i);const o=this._memoryConfigurationByResource.get(e);o&&(i=i.merge(o))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const i=this.getWorkspaceConsolidatedConfiguration(),r=this._folderConfigurations.get(e);r?(t=i.merge(r),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}getFolderConfigurationModelForResource(e,t){if(t&&e){const i=t.getFolder(e);if(i)return this._folderConfigurations.get(i.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((e,t)=>{const{contents:i,overrides:r,keys:o}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:r,keys:o}]),e},[])}}static parse(e){const t=this.parseConfigurationModel(e.defaults),i=this.parseConfigurationModel(e.policy),r=this.parseConfigurationModel(e.application),o=this.parseConfigurationModel(e.user),s=this.parseConfigurationModel(e.workspace),a=e.folders.reduce((l,c)=>(l.set(rt.revive(c[0]),this.parseConfigurationModel(c[1])),l),new Ln);return new uM(t,i,r,o,new Qr,s,a,new Qr,new Ln)}static parseConfigurationModel(e){return new Qr(e.contents,e.keys,e.overrides)}}class y4e{constructor(e,t,i,r){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=r,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=46,this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const o of e.keys)this.affectedKeys.add(o);for(const[,o]of e.overrides)for(const s of o)this.affectedKeys.add(s);this._affectsConfigStr=this._marker;for(const o of this.affectedKeys)this._affectsConfigStr+=o+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=uM.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){var i;const r=this._marker+e,o=this._affectsConfigStr.indexOf(r);if(o<0)return!1;const s=o+r.length;if(s>=this._affectsConfigStr.length)return!1;const a=this._affectsConfigStr.charCodeAt(s);if(a!==this._markerCode1&&a!==this._markerCode2)return!1;if(t){const l=this.previousConfiguration?this.previousConfiguration.getValue(e,t,(i=this.previous)===null||i===void 0?void 0:i.workspace):void 0,c=this.currentConfiguraiton.getValue(e,t,this.currentWorkspace);return!wa(l,c)}return!0}}const xI={kind:0},C4e={kind:1};function w4e(n,e,t){return{kind:2,commandId:n,commandArgs:e,isBubble:t}}class Gw{constructor(e,t,i){var r;this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(const o of e){const s=o.command;s&&s.charAt(0)!=="-"&&this._defaultBoundCommands.set(s,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=Gw.handleRemovals([].concat(e).concat(t));for(let o=0,s=this._keybindings.length;o<s;o++){const a=this._keybindings[o];if(a.chords.length===0)continue;const l=(r=a.when)===null||r===void 0?void 0:r.substituteConstants();l&&l.type===0||this._addKeyPress(a.chords[0],a)}}static _isTargetedForRemoval(e,t,i){if(t){for(let r=0;r<t.length;r++)if(t[r]!==e.chords[r])return!1}return!(i&&i.type!==1&&(!e.when||!xke(i,e.when)))}static handleRemovals(e){const t=new Map;for(let r=0,o=e.length;r<o;r++){const s=e[r];if(s.command&&s.command.charAt(0)==="-"){const a=s.command.substring(1);t.has(a)?t.get(a).push(s):t.set(a,[s])}}if(t.size===0)return e;const i=[];for(let r=0,o=e.length;r<o;r++){const s=e[r];if(!s.command||s.command.length===0){i.push(s);continue}if(s.command.charAt(0)==="-")continue;const a=t.get(s.command);if(!a||!s.isDefault){i.push(s);continue}let l=!1;for(const c of a){const d=c.when;if(this._isTargetedForRemoval(s,c.chords,d)){l=!0;break}}if(!l){i.push(s);continue}}return i}_addKeyPress(e,t){const i=this._map.get(e);if(typeof i>"u"){this._map.set(e,[t]),this._addToLookupMap(t);return}for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.command===t.command)continue;let s=!0;for(let a=1;a<o.chords.length&&a<t.chords.length;a++)if(o.chords[a]!==t.chords[a]){s=!1;break}s&&Gw.whenIsEntirelyIncluded(o.when,t.when)&&this._removeFromLookupMap(o)}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);typeof t>"u"?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;const t=this._lookupMap.get(e.command);if(!(typeof t>"u")){for(let i=0,r=t.length;i<r;i++)if(t[i]===e){t.splice(i,1);return}}}static whenIsEntirelyIncluded(e,t){return!t||t.type===1?!0:!e||e.type===1?!1:DF(e,t)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){const i=this._lookupMap.get(e);if(typeof i>"u"||i.length===0)return null;if(i.length===1)return i[0];for(let r=i.length-1;r>=0;r--){const o=i[r];if(t.contextMatchesRules(o.when))return o}return i[i.length-1]}resolve(e,t,i){const r=[...t,i];this._log(`| Resolving ${r}`);const o=this._map.get(r[0]);if(o===void 0)return this._log("\\ No keybinding entries."),xI;let s=null;if(r.length<2)s=o;else{s=[];for(let l=0,c=o.length;l<c;l++){const d=o[l];if(r.length>d.chords.length)continue;let u=!0;for(let h=1;h<r.length;h++)if(d.chords[h]!==r[h]){u=!1;break}u&&s.push(d)}}const a=this._findCommand(e,s);return a?r.length<a.chords.length?(this._log(`\\ From ${s.length} keybinding entries, awaiting ${a.chords.length-r.length} more chord(s), when: ${yZ(a.when)}, source: ${CZ(a)}.`),C4e):(this._log(`\\ From ${s.length} keybinding entries, matched ${a.command}, when: ${yZ(a.when)}, source: ${CZ(a)}.`),w4e(a.command,a.commandArgs,a.bubble)):(this._log(`\\ From ${s.length} keybinding entries, no when clauses matched the context.`),xI)}_findCommand(e,t){for(let i=t.length-1;i>=0;i--){const r=t[i];if(Gw._contextMatchesRules(e,r.when))return r}return null}static _contextMatchesRules(e,t){return t?t.evaluate(e):!0}}function yZ(n){return n?`${n.serialize()}`:"no when condition"}function CZ(n){return n.extensionId?n.isBuiltinExtension?`built-in extension ${n.extensionId}`:`user extension ${n.extensionId}`:n.isDefault?"built-in":"user"}const S4e=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class x4e extends ce{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:Ve.None}get inChordMode(){return this._currentChords.length>0}constructor(e,t,i,r,o){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=r,this._logService=o,this._onDidUpdateKeybindings=this._register(new ne),this._currentChords=[],this._currentChordChecker=new u6,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=lv.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new Kl,this._currentlyDispatchingCommandId=null,this._logging=!1}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){const i=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(i)return i.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){this._log("/ Soft dispatching keyboard event");const i=this.resolveKeyboardEvent(e);if(i.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),xI;const[r]=i.getDispatchChords();if(r===null)return this._log("\\ Keyboard event cannot be dispatched"),xI;const o=this._contextKeyService.getContext(t),s=this._currentChords.map(({keypress:a})=>a);return this._getResolver().resolve(o,s,r)}_scheduleLeaveChordMode(){const e=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-e>5e3&&this._leaveChordMode()},500)}_expectAnotherChord(e,t){switch(this._currentChords.push({keypress:e,label:t}),this._currentChords.length){case 0:throw $W("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(w("first.chord","({0}) was pressed. Waiting for second key of chord...",t));break;default:{const i=this._currentChords.map(({label:r})=>r).join(", ");this._currentChordStatusMessage=this._notificationService.status(w("next.chord","({0}) was pressed. Waiting for next key of chord...",i))}}this._scheduleLeaveChordMode(),Rw.enabled&&Rw.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],Rw.enable()}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const i=this.resolveKeyboardEvent(e),[r]=i.getSingleModifierDispatchChords();if(r)return this._ignoreSingleModifiers.has(r)?(this._log(`+ Ignoring single modifier ${r} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=lv.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=lv.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${r}.`),this._currentSingleModifier=r,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):r===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${r} ${r}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${r}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[o]=i.getChords();return this._ignoreSingleModifiers=new lv(o),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(e,t,i=!1){var r;let o=!1;if(e.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let s=null,a=null;if(i){const[u]=e.getSingleModifierDispatchChords();s=u,a=u?[u]:[]}else[s]=e.getDispatchChords(),a=this._currentChords.map(({keypress:u})=>u);if(s===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),o;const l=this._contextKeyService.getContext(t),c=e.getLabel(),d=this._getResolver().resolve(l,a,s);switch(d.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",c,"[ No matching keybinding ]"),this.inChordMode){const u=this._currentChords.map(({label:h})=>h).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${u}, ${c}".`),this._notificationService.status(w("missing.chord","The key combination ({0}, {1}) is not a command.",u,c),{hideAfter:10*1e3}),this._leaveChordMode(),o=!0}return o}case 1:return this._logService.trace("KeybindingService#dispatch",c,"[ Several keybindings match - more chords needed ]"),o=!0,this._expectAnotherChord(s,c),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),o;case 2:{if(this._logService.trace("KeybindingService#dispatch",c,`[ Will dispatch command ${d.commandId} ]`),d.commandId===null||d.commandId===""){if(this.inChordMode){const u=this._currentChords.map(({label:h})=>h).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${u}, ${c}".`),this._notificationService.status(w("missing.chord","The key combination ({0}, {1}) is not a command.",u,c),{hideAfter:10*1e3}),this._leaveChordMode(),o=!0}}else{this.inChordMode&&this._leaveChordMode(),d.isBubble||(o=!0),this._log(`+ Invoking command ${d.commandId}.`),this._currentlyDispatchingCommandId=d.commandId;try{typeof d.commandArgs>"u"?this._commandService.executeCommand(d.commandId).then(void 0,u=>this._notificationService.warn(u)):this._commandService.executeCommand(d.commandId,d.commandArgs).then(void 0,u=>this._notificationService.warn(u))}finally{this._currentlyDispatchingCommandId=null}S4e.test(d.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:d.commandId,from:"keybinding",detail:(r=e.getUserSettingsLabel())!==null&&r!==void 0?r:void 0})}return o}}}mightProducePrintableCharacter(e){return e.ctrlKey||e.metaKey?!1:e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30}}class lv{constructor(e){this._ctrlKey=e?e.ctrlKey:!1,this._shiftKey=e?e.shiftKey:!1,this._altKey=e?e.altKey:!1,this._metaKey=e?e.metaKey:!1}has(e){switch(e){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}lv.EMPTY=new lv(null);class wZ{constructor(e,t,i,r,o,s,a){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.chords=e?z3(e.getDispatchChords()):[],e&&this.chords.length===0&&(this.chords=z3(e.getSingleModifierDispatchChords())),this.bubble=t?t.charCodeAt(0)===94:!1,this.command=this.bubble?t.substr(1):t,this.commandArgs=i,this.when=r,this.isDefault=o,this.extensionId=s,this.isBuiltinExtension=a}}function z3(n){const e=[];for(let t=0,i=n.length;t<i;t++){const r=n[t];if(!r)return[];e.push(r)}return e}class hM{constructor(e,t,i=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(t.length===0)return null;const r=[];for(let o=0,s=t.length;o<s;o++){const a=t[o],l=i(a);if(l===null)return null;r[o]=T4e(a,l,this.modifierLabels[e])}return r.join(" ")}}const EV=new hM({ctrlKey:"",shiftKey:"",altKey:"",metaKey:"",separator:""},{ctrlKey:w({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:w({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:w({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:w({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:w({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:w({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:w({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:w({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),L4e=new hM({ctrlKey:w({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:w({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:w({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:w({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:w({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:w({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:w({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:w({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:w({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:w({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:w({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:w({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),k4e=new hM({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),D4e=new hM({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function T4e(n,e,t){if(e===null)return"";const i=[];return n.ctrlKey&&i.push(t.ctrlKey),n.shiftKey&&i.push(t.shiftKey),n.altKey&&i.push(t.altKey),n.metaKey&&i.push(t.metaKey),e!==""&&i.push(e),i.join(t.separator)}class E4e extends kke{constructor(e,t){if(super(),t.length===0)throw Qa("chords");this._os=e,this._chords=t}getLabel(){return EV.toLabel(this._os,this._chords,e=>this._getLabel(e))}getAriaLabel(){return L4e.toLabel(this._os,this._chords,e=>this._getAriaLabel(e))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:k4e.toLabel(this._os,this._chords,e=>this._getElectronAccelerator(e))}getUserSettingsLabel(){return D4e.toLabel(this._os,this._chords,e=>this._getUserSettingsLabel(e))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(e=>this._getChord(e))}_getChord(e){return new Lke(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchChords(){return this._chords.map(e=>this._getChordDispatch(e))}getSingleModifierDispatchChords(){return this._chords.map(e=>this._getSingleModifierChordDispatch(e))}}class vS extends E4e{constructor(e,t){super(t,e)}_keyCodeToUILabel(e){if(this._os===2)switch(e){case 15:return"";case 16:return"";case 17:return"";case 18:return""}return $u.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":$u.toString(e.keyCode)}_getElectronAccelerator(e){return $u.toElectronAccelerator(e.keyCode)}_getUserSettingsLabel(e){if(e.isDuplicateModifierCase())return"";const t=$u.toUserSettingsUS(e.keyCode);return t&&t.toLowerCase()}_getChordDispatch(e){return vS.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=$u.toString(e.keyCode),t}_getSingleModifierChordDispatch(e){return e.keyCode===5&&!e.shiftKey&&!e.altKey&&!e.metaKey?"ctrl":e.keyCode===4&&!e.ctrlKey&&!e.altKey&&!e.metaKey?"shift":e.keyCode===6&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey?"alt":e.keyCode===57&&!e.ctrlKey&&!e.shiftKey&&!e.altKey?"meta":null}static _scanCodeToKeyCode(e){const t=XW[e];if(t!==-1)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(e){if(!e)return null;if(e instanceof Eh)return e;const t=this._scanCodeToKeyCode(e.scanCode);return t===0?null:new Eh(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)}static resolveKeybinding(e,t){const i=z3(e.chords.map(r=>this._toKeyCodeChord(r)));return i.length>0?[new vS(i,t)]:[]}}const Fb=zt("labelService"),$ce=zt("progressService");class mh{constructor(e){this.callback=e}report(e){this._value=e,this.callback(this._value)}}mh.None=Object.freeze({report(){}});const pp=zt("editorProgressService");class I4e{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const t=e.charCodeAt(0),i=this._value.charCodeAt(this._pos);return t-i}value(){return this._value[this._pos]}}class N4e{constructor(e=!0){this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?JW(e,this._value,0,e.length,this._from,this._to):Rx(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class P4e{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t}reset(e){this._from=0,this._to=0,this._value=e,this._valueLen=e.length;for(let t=e.length-1;t>=0;t--,this._valueLen--){const i=this._value.charCodeAt(t);if(!(i===47||this._splitOnBackslash&&i===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let e=!0;for(;this._to<this._valueLen;this._to++){const t=this._value.charCodeAt(this._to);if(t===47||this._splitOnBackslash&&t===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?JW(e,this._value,0,e.length,this._from,this._to):Rx(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class M4e{constructor(e,t){this._ignorePathCasing=e,this._ignoreQueryAndFragment=t,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new P4e(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(e)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return CF(e,this._value.scheme);if(this._states[this._stateIdx]===2)return CF(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return V1(e,this._value.query);if(this._states[this._stateIdx]===5)return V1(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class Gk{constructor(){this.height=1}rotateLeft(){const e=this.right;return this.right=e.left,e.left=this,this.updateHeight(),e.updateHeight(),e}rotateRight(){const e=this.left;return this.left=e.right,e.right=this,this.updateHeight(),e.updateHeight(),e}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var e,t;return(t=(e=this.left)===null||e===void 0?void 0:e.height)!==null&&t!==void 0?t:0}get heightRight(){var e,t;return(t=(e=this.right)===null||e===void 0?void 0:e.height)!==null&&t!==void 0?t:0}}class Uv{static forUris(e=()=>!1,t=()=>!1){return new Uv(new M4e(e,t))}static forStrings(){return new Uv(new I4e)}static forConfigKeys(){return new Uv(new N4e)}constructor(e){this._iter=e}clear(){this._root=void 0}set(e,t){const i=this._iter.reset(e);let r;this._root||(this._root=new Gk,this._root.segment=i.value());const o=[];for(r=this._root;;){const a=i.cmp(r.segment);if(a>0)r.left||(r.left=new Gk,r.left.segment=i.value()),o.push([-1,r]),r=r.left;else if(a<0)r.right||(r.right=new Gk,r.right.segment=i.value()),o.push([1,r]),r=r.right;else if(i.hasNext())i.next(),r.mid||(r.mid=new Gk,r.mid.segment=i.value()),o.push([0,r]),r=r.mid;else break}const s=r.value;r.value=t,r.key=e;for(let a=o.length-1;a>=0;a--){const l=o[a][1];l.updateHeight();const c=l.balanceFactor();if(c<-1||c>1){const d=o[a][0],u=o[a+1][0];if(d===1&&u===1)o[a][1]=l.rotateLeft();else if(d===-1&&u===-1)o[a][1]=l.rotateRight();else if(d===1&&u===-1)l.right=o[a+1][1]=o[a+1][1].rotateRight(),o[a][1]=l.rotateLeft();else if(d===-1&&u===1)l.left=o[a+1][1]=o[a+1][1].rotateLeft(),o[a][1]=l.rotateRight();else throw new Error;if(a>0)switch(o[a-1][0]){case-1:o[a-1][1].left=o[a][1];break;case 1:o[a-1][1].right=o[a][1];break;case 0:o[a-1][1].mid=o[a][1];break}else this._root=o[0][1]}}return s}get(e){var t;return(t=this._getNode(e))===null||t===void 0?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const r=t.cmp(i.segment);if(r>0)i=i.left;else if(r<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else break}return i}has(e){const t=this._getNode(e);return!((t==null?void 0:t.value)===void 0&&(t==null?void 0:t.mid)===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){var i;const r=this._iter.reset(e),o=[];let s=this._root;for(;s;){const a=r.cmp(s.segment);if(a>0)o.push([-1,s]),s=s.left;else if(a<0)o.push([1,s]),s=s.right;else if(r.hasNext())r.next(),o.push([0,s]),s=s.mid;else break}if(s){if(t?(s.left=void 0,s.mid=void 0,s.right=void 0,s.height=1):(s.key=void 0,s.value=void 0),!s.mid&&!s.value)if(s.left&&s.right){const a=this._min(s.right);if(a.key){const{key:l,value:c,segment:d}=a;this._delete(a.key,!1),s.key=l,s.value=c,s.segment=d}}else{const a=(i=s.left)!==null&&i!==void 0?i:s.right;if(o.length>0){const[l,c]=o[o.length-1];switch(l){case-1:c.left=a;break;case 0:c.mid=a;break;case 1:c.right=a;break}}else this._root=a}for(let a=o.length-1;a>=0;a--){const l=o[a][1];l.updateHeight();const c=l.balanceFactor();if(c>1?(l.right.balanceFactor()>=0||(l.right=l.right.rotateRight()),o[a][1]=l.rotateLeft()):c<-1&&(l.left.balanceFactor()<=0||(l.left=l.left.rotateLeft()),o[a][1]=l.rotateRight()),a>0)switch(o[a-1][0]){case-1:o[a-1][1].left=o[a][1];break;case 1:o[a-1][1].right=o[a][1];break;case 0:o[a-1][1].mid=o[a][1];break}else this._root=o[0][1]}}}_min(e){for(;e.left;)e=e.left;return e}findSubstr(e){const t=this._iter.reset(e);let i=this._root,r;for(;i;){const o=t.cmp(i.segment);if(o>0)i=i.left;else if(o<0)i=i.right;else if(t.hasNext())t.next(),r=i.value||r,i=i.mid;else break}return i&&i.value||r}findSuperstr(e){return this._findSuperstrOrElement(e,!1)}_findSuperstrOrElement(e,t){const i=this._iter.reset(e);let r=this._root;for(;r;){const o=i.cmp(r.segment);if(o>0)r=r.left;else if(o<0)r=r.right;else if(i.hasNext())i.next(),r=r.mid;else return r.mid?this._entries(r.mid):t?r.value:void 0}}forEach(e){for(const[t,i]of this)e(i,t)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(e){const t=[];return this._dfsEntries(e,t),t[Symbol.iterator]()}_dfsEntries(e,t){e&&(e.left&&this._dfsEntries(e.left,t),e.value&&t.push([e.key,e.value]),e.mid&&this._dfsEntries(e.mid,t),e.right&&this._dfsEntries(e.right,t))}}const Qm=zt("contextService");function j3(n){const e=n;return typeof(e==null?void 0:e.id)=="string"&&rt.isUri(e.uri)}function R4e(n){const e=n;return typeof(e==null?void 0:e.id)=="string"&&!j3(n)&&!B4e(n)}const A4e={id:"ext-dev"},O4e={id:"empty-window"};function F4e(n,e){if(typeof n=="string"||typeof n>"u")return typeof n=="string"?{id:cg(n)}:e?A4e:O4e;const t=n;return t.configuration?{id:t.id,configPath:t.configuration}:t.folders.length===1?{id:t.id,uri:t.folders[0].uri}:{id:t.id}}function B4e(n){const e=n;return typeof(e==null?void 0:e.id)=="string"&&rt.isUri(e.configPath)}class W4e{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const U3="code-workspace";w("codeWorkspace","Code Workspace");const qce="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function V4e(n){return n.id===qce}var $3;(function(n){n.inspectTokensAction=w("inspectTokens","Developer: Inspect Tokens")})($3||($3={}));var LI;(function(n){n.gotoLineActionLabel=w("gotoLineActionLabel","Go to Line/Column...")})(LI||(LI={}));var q3;(function(n){n.helpQuickAccessActionLabel=w("helpQuickAccess","Show all Quick Access Providers")})(q3||(q3={}));var kI;(function(n){n.quickCommandActionLabel=w("quickCommandActionLabel","Command Palette"),n.quickCommandHelp=w("quickCommandActionHelp","Show And Run Commands")})(kI||(kI={}));var bS;(function(n){n.quickOutlineActionLabel=w("quickOutlineActionLabel","Go to Symbol..."),n.quickOutlineByCategoryActionLabel=w("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(bS||(bS={}));var DI;(function(n){n.editorViewAccessibleLabel=w("editorViewAccessibleLabel","Editor content"),n.accessibilityHelpMessage=w("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(DI||(DI={}));var K3;(function(n){n.toggleHighContrast=w("toggleHighContrast","Toggle High Contrast Theme")})(K3||(K3={}));var G3;(function(n){n.bulkEditServiceSummary=w("bulkEditServiceSummary","Made {0} edits in {1} files")})(G3||(G3={}));const Kce=zt("workspaceTrustManagementService");var Zr;(function(n){function e(o,s){if(o.start>=s.end||s.start>=o.end)return{start:0,end:0};const a=Math.max(o.start,s.start),l=Math.min(o.end,s.end);return l-a<=0?{start:0,end:0}:{start:a,end:l}}n.intersect=e;function t(o){return o.end-o.start<=0}n.isEmpty=t;function i(o,s){return!t(e(o,s))}n.intersects=i;function r(o,s){const a=[],l={start:o.start,end:Math.min(s.start,o.end)},c={start:Math.max(s.end,o.start),end:o.end};return t(l)||a.push(l),t(c)||a.push(c),a}n.relativeComplement=r})(Zr||(Zr={}));function H4e(n){const e=n;return!!e&&typeof e.x=="number"&&typeof e.y=="number"}var qf;(function(n){n[n.AVOID=0]="AVOID",n[n.ALIGN=1]="ALIGN"})(qf||(qf={}));function cv(n,e,t){const i=t.mode===qf.ALIGN?t.offset:t.offset+t.size,r=t.mode===qf.ALIGN?t.offset+t.size:t.offset;return t.position===0?e<=n-i?i:e<=r?r-e:Math.max(n-e,0):e<=r?r-e:e<=n-i?i:0}class Bb extends ce{constructor(e,t){super(),this.container=null,this.useFixedPosition=!1,this.useShadowDOM=!1,this.delegate=null,this.toDisposeOnClean=ce.None,this.toDisposeOnSetContainer=ce.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=Te(".context-view"),Mo(this.view),this.setContainer(e,t),this._register(at(()=>this.setContainer(null,1)))}setContainer(e,t){var i;this.useFixedPosition=t!==1;const r=this.useShadowDOM;if(this.useShadowDOM=t===3,!(e===this.container&&r===this.useShadowDOM)&&(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(i=this.shadowRootHostElement)===null||i===void 0||i.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),e)){if(this.container=e,this.useShadowDOM){this.shadowRootHostElement=Te(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const s=document.createElement("style");s.textContent=z4e,this.shadowRoot.appendChild(s),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(Te("slot"))}else this.container.appendChild(this.view);const o=new xe;Bb.BUBBLE_UP_EVENTS.forEach(s=>{o.add(kn(this.container,s,a=>{this.onDOMEvent(a,!1)}))}),Bb.BUBBLE_DOWN_EVENTS.forEach(s=>{o.add(kn(this.container,s,a=>{this.onDOMEvent(a,!0)},!0))}),this.toDisposeOnSetContainer=o}}show(e){var t,i;this.isVisible()&&this.hide(),$r(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",Ps(this.view),this.toDisposeOnClean=e.render(this.view)||ce.None,this.delegate=e,this.doLayout(),(i=(t=this.delegate).focus)===null||i===void 0||i.call(t)}getViewElement(){return this.view}layout(){if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(jc&&c6.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const e=this.delegate.getAnchor();let t;if(e instanceof HTMLElement){const h=Vn(e),f=wae(e);t={top:h.top*f,left:h.left*f,width:h.width*f,height:h.height*f}}else H4e(e)?t={top:e.y,left:e.x,width:e.width||1,height:e.height||2}:t={top:e.posy,left:e.posx,width:2,height:2};const i=os(this.view),r=am(this.view),o=this.delegate.anchorPosition||0,s=this.delegate.anchorAlignment||0,a=this.delegate.anchorAxisAlignment||0;let l,c;const d=IDe();if(a===0){const h={offset:t.top-d.pageYOffset,size:t.height,position:o===0?0:1},f={offset:t.left,size:t.width,position:s===0?0:1,mode:qf.ALIGN};l=cv(d.innerHeight,r,h)+d.pageYOffset,Zr.intersects({start:l,end:l+r},{start:h.offset,end:h.offset+h.size})&&(f.mode=qf.AVOID),c=cv(d.innerWidth,i,f)}else{const h={offset:t.left,size:t.width,position:s===0?0:1},f={offset:t.top,size:t.height,position:o===0?0:1,mode:qf.ALIGN};c=cv(d.innerWidth,i,h),Zr.intersects({start:c,end:c+i},{start:h.offset,end:h.offset+h.size})&&(f.mode=qf.AVOID),l=cv(d.innerHeight,r,f)+d.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(o===0?"bottom":"top"),this.view.classList.add(s===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const u=Vn(this.container);this.view.style.top=`${l-(this.useFixedPosition?Vn(this.view).top:u.top)}px`,this.view.style.left=`${c-(this.useFixedPosition?Vn(this.view).left:u.left)}px`,this.view.style.width="initial"}hide(e){const t=this.delegate;this.delegate=null,t!=null&&t.onHide&&t.onHide(e),this.toDisposeOnClean.dispose(),Mo(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,ht(e).document.activeElement):t&&!Ar(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}Bb.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"];Bb.BUBBLE_DOWN_EVENTS=["click"];const z4e=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var j4e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},U4e=function(n,e){return function(t,i){e(t,i,n)}};let Z3=class extends ce{constructor(e){super(),this.layoutService=e,this.currentViewDisposable=ce.None,this.contextView=this._register(new Bb(this.layoutService.mainContainer,1)),this.layout(),this._register(e.onDidLayoutContainer(()=>this.layout()))}showContextView(e,t,i){let r;t?t===this.layoutService.getContainer(ht(t))?r=1:i?r=3:r=2:r=1,this.contextView.setContainer(t??this.layoutService.activeContainer,r),this.contextView.show(e);const o=at(()=>{this.currentViewDisposable===o&&this.hideContextView()});return this.currentViewDisposable=o,o}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}dispose(){super.dispose(),this.currentViewDisposable.dispose(),this.currentViewDisposable=ce.None}};Z3=j4e([U4e(0,R_)],Z3);let Wb=[],IV=[],Gce=[];function Zk(n,e=!1){$4e(n,!1,e)}function $4e(n,e,t){const i=q4e(n,e);Wb.push(i),i.userConfigured?Gce.push(i):IV.push(i),t&&!i.userConfigured&&Wb.forEach(r=>{r.mime===i.mime||r.userConfigured||(i.extension&&r.extension===i.extension&&console.warn(`Overwriting extension <<${i.extension}>> to now point to mime <<${i.mime}>>`),i.filename&&r.filename===i.filename&&console.warn(`Overwriting filename <<${i.filename}>> to now point to mime <<${i.mime}>>`),i.filepattern&&r.filepattern===i.filepattern&&console.warn(`Overwriting filepattern <<${i.filepattern}>> to now point to mime <<${i.mime}>>`),i.firstline&&r.firstline===i.firstline&&console.warn(`Overwriting firstline <<${i.firstline}>> to now point to mime <<${i.mime}>>`))})}function q4e(n,e){return{id:n.id,mime:n.mime,filename:n.filename,extension:n.extension,filepattern:n.filepattern,firstline:n.firstline,userConfigured:e,filenameLowercase:n.filename?n.filename.toLowerCase():void 0,extensionLowercase:n.extension?n.extension.toLowerCase():void 0,filepatternLowercase:n.filepattern?Tce(n.filepattern.toLowerCase()):void 0,filepatternOnPath:n.filepattern?n.filepattern.indexOf(Gn.sep)>=0:!1}}function K4e(){Wb=Wb.filter(n=>n.userConfigured),IV=[]}function G4e(n,e){return Z4e(n,e).map(t=>t.id)}function Z4e(n,e){let t;if(n)switch(n.scheme){case Tt.file:t=n.fsPath;break;case Tt.data:{t=Hg.parseMetaData(n).get(Hg.META_DATA_LABEL);break}case Tt.vscodeNotebookCell:t=void 0;break;default:t=n.path}if(!t)return[{id:"unknown",mime:pn.unknown}];t=t.toLowerCase();const i=cg(t),r=SZ(t,i,Gce);if(r)return[r,{id:Sa,mime:pn.text}];const o=SZ(t,i,IV);if(o)return[o,{id:Sa,mime:pn.text}];if(e){const s=Y4e(e);if(s)return[s,{id:Sa,mime:pn.text}]}return[{id:"unknown",mime:pn.unknown}]}function SZ(n,e,t){var i;let r,o,s;for(let a=t.length-1;a>=0;a--){const l=t[a];if(e===l.filenameLowercase){r=l;break}if(l.filepattern&&(!o||l.filepattern.length>o.filepattern.length)){const c=l.filepatternOnPath?n:e;!((i=l.filepatternLowercase)===null||i===void 0)&&i.call(l,c)&&(o=l)}l.extension&&(!s||l.extension.length>s.extension.length)&&e.endsWith(l.extensionLowercase)&&(s=l)}if(r)return r;if(o)return o;if(s)return s}function Y4e(n){if(o6(n)&&(n=n.substr(1)),n.length>0)for(let e=Wb.length-1;e>=0;e--){const t=Wb[e];if(!t.firstline)continue;const i=n.match(t.firstline);if(i&&i.length>0)return t}}const Yk=Object.prototype.hasOwnProperty,xZ="vs.editor.nullLanguage";class X4e{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(xZ,0),this._register(Sa,1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;const t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||xZ}}class yS extends ce{constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new ne),this.onDidChange=this._onDidChange.event,yS.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new X4e,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(Sb.onDidChangeLanguages(i=>{this._initializeFromRegistry()})))}dispose(){yS.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},K4e();const e=[].concat(Sb.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(t=>{const i=this._languages[t];i.name&&(this._nameMap[i.name]=i.identifier),i.aliases.forEach(r=>{this._lowercaseNameMap[r.toLowerCase()]=i.identifier}),i.mimetypes.forEach(r=>{this._mimeTypesMap[r]=i.identifier})}),nn.as(id.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(e){const t=e.id;let i;Yk.call(this._languages,t)?i=this._languages[t]:(this.languageIdCodec.register(t),i={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[t]=i),this._mergeLanguage(i,e)}_mergeLanguage(e,t){const i=t.id;let r=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),r=t.mimetypes[0]),r||(r=`text/x-${i}`,e.mimetypes.push(r)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(const a of t.extensions)Zk({id:i,mime:r,extension:a},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(const a of t.filenames)Zk({id:i,mime:r,filename:a},this._warnOnOverwrite),e.filenames.push(a);if(Array.isArray(t.filenamePatterns))for(const a of t.filenamePatterns)Zk({id:i,mime:r,filepattern:a},this._warnOnOverwrite);if(typeof t.firstLine=="string"&&t.firstLine.length>0){let a=t.firstLine;a.charAt(0)!=="^"&&(a="^"+a);try{const l=new RegExp(a);$Le(l)||Zk({id:i,mime:r,firstline:l},this._warnOnOverwrite)}catch(l){console.warn(`[${t.id}]: Invalid regular expression \`${a}\`: `,l)}}e.aliases.push(i);let o=null;if(typeof t.aliases<"u"&&Array.isArray(t.aliases)&&(t.aliases.length===0?o=[null]:o=t.aliases),o!==null)for(const a of o)!a||a.length===0||e.aliases.push(a);const s=o!==null&&o.length>0;if(!(s&&o[0]===null)){const a=(s?o[0]:null)||i;(s||!e.name)&&(e.name=a)}t.configuration&&e.configurationFiles.push(t.configuration),t.icon&&e.icons.push(t.icon)}isRegisteredLanguageId(e){return e?Yk.call(this._languages,e):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(e){const t=e.toLowerCase();return Yk.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t]:null}getLanguageIdByMimeType(e){return e&&Yk.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:null}guessLanguageIdByFilepathOrFirstLine(e,t){return!e&&!t?[]:G4e(e,t)}}yS.instanceCount=0;class CS extends ce{constructor(e=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new ne),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new ne),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new ne({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,CS.instanceCount++,this._registry=this._register(new yS(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){CS.instanceCount--,super.dispose()}isRegisteredLanguageId(e){return this._registry.isRegisteredLanguageId(e)}getLanguageIdByLanguageName(e){return this._registry.getLanguageIdByLanguageName(e)}getLanguageIdByMimeType(e){return this._registry.getLanguageIdByMimeType(e)}guessLanguageIdByFilepathOrFirstLine(e,t){const i=this._registry.guessLanguageIdByFilepathOrFirstLine(e,t);return BW(i,null)}createById(e){return new LZ(this.onDidChange,()=>this._createAndGetLanguageIdentifier(e))}createByFilepathOrFirstLine(e,t){return new LZ(this.onDidChange,()=>{const i=this.guessLanguageIdByFilepathOrFirstLine(e,t);return this._createAndGetLanguageIdentifier(i)})}_createAndGetLanguageIdentifier(e){return(!e||!this.isRegisteredLanguageId(e))&&(e=Sa),e}requestBasicLanguageFeatures(e){this._requestedBasicLanguages.has(e)||(this._requestedBasicLanguages.add(e),this._onDidRequestBasicLanguageFeatures.fire(e))}requestRichLanguageFeatures(e){this._requestedRichLanguages.has(e)||(this._requestedRichLanguages.add(e),this.requestBasicLanguageFeatures(e),ln.getOrCreate(e),this._onDidRequestRichLanguageFeatures.fire(e))}}CS.instanceCount=0;class LZ{constructor(e,t){this._onDidChangeLanguages=e,this._selector=t,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new ne({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var e;const t=this._selector();t!==this.languageId&&(this.languageId=t,(e=this._emitter)===null||e===void 0||e.fire(this.languageId))}}const wS={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:pn.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"};function Q4e(n,e){Ho(e)?n.title=xV(e):e!=null&&e.markdownNotSupportedFallback?n.title=e.markdownNotSupportedFallback:n.removeAttribute("title")}class J4e{constructor(e,t,i){this.hoverDelegate=e,this.target=t,this.fadeInAnimation=i}async update(e,t,i){var r;if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let o;if(e===void 0||Ho(e)||e instanceof HTMLElement)o=e;else if(!A1(e.markdown))o=(r=e.markdown)!==null&&r!==void 0?r:e.markdownNotSupportedFallback;else{this._hoverWidget||this.show(w("iconLabel.loading","Loading..."),t),this._cancellationTokenSource=new Pn;const s=this._cancellationTokenSource.token;if(o=await e.markdown(s),o===void 0&&(o=e.markdownNotSupportedFallback),this.isDisposed||s.isCancellationRequested)return}this.show(o,t,i)}show(e,t,i){const r=this._hoverWidget;if(this.hasContent(e)){const o={content:e,target:this.target,appearance:{showPointer:this.hoverDelegate.placement==="element",skipFadeInAnimation:!this.fadeInAnimation||!!r},position:{hoverPosition:2},...i};this._hoverWidget=this.hoverDelegate.showHover(o,t)}r==null||r.dispose()}hasContent(e){return e?tu(e)?!!e.value:!0:!1}get isDisposed(){var e;return(e=this._hoverWidget)===null||e===void 0?void 0:e.isDisposed}dispose(){var e,t;(e=this._hoverWidget)===null||e===void 0||e.dispose(),(t=this._cancellationTokenSource)===null||t===void 0||t.dispose(!0),this._cancellationTokenSource=void 0}}function Zce(n,e,t,i){let r,o;const s=(m,p)=>{var v;const b=o!==void 0;m&&(o==null||o.dispose(),o=void 0),p&&(r==null||r.dispose(),r=void 0),b&&((v=n.onDidHideHover)===null||v===void 0||v.call(n))},a=(m,p,v)=>new Kl(async()=>{(!o||o.isDisposed)&&(o=new J4e(n,v||e,m>0),await o.update(t,p,i))},m);let l=!1;const c=ge(e,Ne.MOUSE_DOWN,()=>{l=!0,s(!0,!0)},!0),d=ge(e,Ne.MOUSE_UP,()=>{l=!1},!0),u=ge(e,Ne.MOUSE_LEAVE,m=>{l=!1,s(!1,m.fromElement===e)},!0),h=()=>{if(r)return;const m=new xe,p={targetElements:[e],dispose:()=>{}};if(n.placement===void 0||n.placement==="mouse"){const v=b=>{p.x=b.x+10,b.target instanceof HTMLElement&&b.target.classList.contains("action-label")&&s(!0,!0)};m.add(ge(e,Ne.MOUSE_MOVE,v,!0))}m.add(a(n.delay,!1,p)),r=m},f=ge(e,Ne.MOUSE_OVER,h,!0),g=()=>{if(l||r)return;const m={targetElements:[e],dispose:()=>{}},p=new xe,v=()=>s(!0,!0);p.add(ge(e,Ne.BLUR,v,!0)),p.add(a(n.delay,!1,m)),r=p},_=ge(e,Ne.FOCUS,g,!0);return{show:m=>{s(!1,!0),a(0,m)},hide:()=>{s(!0,!0)},update:async(m,p)=>{t=m,await(o==null?void 0:o.update(t,void 0,p))},dispose:()=>{f.dispose(),u.dispose(),c.dispose(),d.dispose(),_.dispose(),s(!0,!0)}}}class eFe{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach(r=>r.splice(e,t,i))}}class Pp extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}}function kZ(n,e){const t=[];for(const i of e){if(n.start>=i.range.end)continue;if(n.end<i.range.start)break;const r=Zr.intersect(n,i.range);Zr.isEmpty(r)||t.push({range:r,size:i.size})}return t}function Y3({start:n,end:e},t){return{start:n+t,end:e+t}}function tFe(n){const e=[];let t=null;for(const i of n){const r=i.range.start,o=i.range.end,s=i.size;if(t&&s===t.size){t.range.end=o;continue}t={range:{start:r,end:o},size:s},e.push(t)}return e}function iFe(...n){return tFe(n.reduce((e,t)=>e.concat(t),[]))}class DZ{get paddingTop(){return this._paddingTop}set paddingTop(e){this._size=this._size+e-this._paddingTop,this._paddingTop=e}constructor(e){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=e??0,this._size=this._paddingTop}splice(e,t,i=[]){const r=i.length-t,o=kZ({start:0,end:e},this.groups),s=kZ({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(l=>({range:Y3(l.range,r),size:l.size})),a=i.map((l,c)=>({range:{start:e+c,end:e+c+1},size:l.size}));this.groups=iFe(o,a,s),this._size=this._paddingTop+this.groups.reduce((l,c)=>l+c.size*(c.range.end-c.range.start),0)}get count(){const e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;if(e<this._paddingTop)return 0;let t=0,i=this._paddingTop;for(const r of this.groups){const o=r.range.end-r.range.start,s=i+o*r.size;if(e<s)return t+Math.floor((e-i)/r.size);t+=o,i=s}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(const r of this.groups){const o=r.range.end-r.range.start,s=i+o;if(e<s)return this._paddingTop+t+(e-i)*r.size;t+=o*r.size,i=s}return-1}}function nFe(n){var e;try{(e=n.parentElement)===null||e===void 0||e.removeChild(n)}catch{}}class rFe{constructor(e){this.renderers=e,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(e){let t=this.getTemplateCache(e).pop(),i=!1;if(t)i=this.transactionNodesPendingRemoval.has(t.domNode),i&&this.transactionNodesPendingRemoval.delete(t.domNode);else{const r=Te(".monaco-list-row"),s=this.getRenderer(e).renderTemplate(r);t={domNode:r,templateId:e,templateData:s}}return{row:t,isReusingConnectedDomNode:i}}release(e){e&&this.releaseRow(e)}transact(e){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{e()}finally{for(const t of this.transactionNodesPendingRemoval)this.doRemoveNode(t);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(e){const{domNode:t,templateId:i}=e;t&&(this.inTransaction?this.transactionNodesPendingRemoval.add(t):this.doRemoveNode(t)),this.getTemplateCache(i).push(e)}doRemoveNode(e){e.classList.remove("scrolling"),nFe(e)}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach((e,t)=>{for(const i of e)this.getRenderer(t).disposeTemplate(i.templateData),i.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(e){const t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}}var Bh=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};const Mp={CurrentDragAndDropData:void 0},gd={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(n){return[n]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class Qx{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class oFe{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class sFe{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){const i=e.files.item(t);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}}function aFe(n,e){return Array.isArray(n)&&Array.isArray(e)?vn(n,e):n===e}class lFe{constructor(e){e!=null&&e.getSetSize?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(t,i,r)=>r,e!=null&&e.getPosInSet?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(t,i)=>i+1,e!=null&&e.getRole?this.getRole=e.getRole.bind(e):this.getRole=t=>"listitem",e!=null&&e.isChecked?this.isChecked=e.isChecked.bind(e):this.isChecked=t=>{}}}class ul{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const t of this.items)this.measureItemWidth(t);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:xA(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(e,t,i,r=gd){var o,s,a,l,c,d,u,h,f,g,_,y,m;if(this.virtualDelegate=t,this.domId=`list_id_${++ul.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new $l(50),this.splicing=!1,this.dragOverAnimationStopDisposable=ce.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=ce.None,this.onDragLeaveTimeout=ce.None,this.disposables=new xe,this._onDidChangeContentHeight=new ne,this._onDidChangeContentWidth=new ne,this.onDidChangeContentHeight=Ve.latch(this._onDidChangeContentHeight.event,void 0,this.disposables),this._horizontalScrolling=!1,r.horizontalScrolling&&r.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new DZ((o=r.paddingTop)!==null&&o!==void 0?o:0);for(const v of i)this.renderers.set(v.templateId,v);this.cache=this.disposables.add(new rFe(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof r.mouseSupport=="boolean"?r.mouseSupport:!0),this._horizontalScrolling=(s=r.horizontalScrolling)!==null&&s!==void 0?s:gd.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof r.paddingBottom>"u"?0:r.paddingBottom,this.accessibilityProvider=new lFe(r.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((a=r.transformOptimization)!==null&&a!==void 0?a:gd.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(Ei.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new xy({forceIntegerValues:!0,smoothScrollDuration:(l=r.smoothScrolling)!==null&&l!==void 0&&l?125:0,scheduleAtNextAnimationFrame:v=>Hs(ht(this.domNode),v)})),this.scrollableElement=this.disposables.add(new ZP(this.rowsContainer,{alwaysConsumeMouseWheel:(c=r.alwaysConsumeMouseWheel)!==null&&c!==void 0?c:gd.alwaysConsumeMouseWheel,horizontal:1,vertical:(d=r.verticalScrollMode)!==null&&d!==void 0?d:gd.verticalScrollMode,useShadows:(u=r.useShadows)!==null&&u!==void 0?u:gd.useShadows,mouseWheelScrollSensitivity:r.mouseWheelScrollSensitivity,fastScrollSensitivity:r.fastScrollSensitivity,scrollByPage:r.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(ge(this.rowsContainer,Ii.Change,v=>this.onTouchChange(v))),this.disposables.add(ge(this.scrollableElement.getDomNode(),"scroll",v=>v.target.scrollTop=0)),this.disposables.add(ge(this.domNode,"dragover",v=>this.onDragOver(this.toDragEvent(v)))),this.disposables.add(ge(this.domNode,"drop",v=>this.onDrop(this.toDragEvent(v)))),this.disposables.add(ge(this.domNode,"dragleave",v=>this.onDragLeave(this.toDragEvent(v)))),this.disposables.add(ge(this.domNode,"dragend",v=>this.onDragEnd(v))),this.setRowLineHeight=(h=r.setRowLineHeight)!==null&&h!==void 0?h:gd.setRowLineHeight,this.setRowHeight=(f=r.setRowHeight)!==null&&f!==void 0?f:gd.setRowHeight,this.supportDynamicHeights=(g=r.supportDynamicHeights)!==null&&g!==void 0?g:gd.supportDynamicHeights,this.dnd=(_=r.dnd)!==null&&_!==void 0?_:this.disposables.add(gd.dnd),this.layout((y=r.initialSize)===null||y===void 0?void 0:y.height,(m=r.initialSize)===null||m===void 0?void 0:m.width)}updateOptions(e){e.paddingBottom!==void 0&&(this.paddingBottom=e.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),e.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),e.horizontalScrolling!==void 0&&(this.horizontalScrolling=e.horizontalScrolling);let t;if(e.scrollByPage!==void 0&&(t={...t??{},scrollByPage:e.scrollByPage}),e.mouseWheelScrollSensitivity!==void 0&&(t={...t??{},mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),e.fastScrollSensitivity!==void 0&&(t={...t??{},fastScrollSensitivity:e.fastScrollSensitivity}),t&&this.scrollableElement.updateOptions(t),e.paddingTop!==void 0&&e.paddingTop!==this.rangeMap.paddingTop){const i=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),r=e.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=e.paddingTop,this.render(i,Math.max(0,this.lastRenderTop+r),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}splice(e,t,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,i=[]){const r=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),o={start:e,end:e+t},s=Zr.intersect(r,o),a=new Map;for(let S=s.end-1;S>=s.start;S--){const x=this.items[S];if(x.dragStartDisposable.dispose(),x.checkedDisposable.dispose(),x.row){let k=a.get(x.templateId);k||(k=[],a.set(x.templateId,k));const D=this.renderers.get(x.templateId);D&&D.disposeElement&&D.disposeElement(x.element,S,x.row.templateData,x.size),k.push(x.row)}x.row=null}const l={start:e+t,end:this.items.length},c=Zr.intersect(l,r),d=Zr.relativeComplement(l,r),u=i.map(S=>({id:String(this.itemId++),element:S,templateId:this.virtualDelegate.getTemplateId(S),size:this.virtualDelegate.getHeight(S),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(S),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:ce.None,checkedDisposable:ce.None}));let h;e===0&&t>=this.items.length?(this.rangeMap=new DZ(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,u),h=this.items,this.items=u):(this.rangeMap.splice(e,t,u),h=this.items.splice(e,t,...u));const f=i.length-t,g=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),_=Y3(c,f),y=Zr.intersect(g,_);for(let S=y.start;S<y.end;S++)this.updateItemInDOM(this.items[S],S);const m=Zr.relativeComplement(_,g);for(const S of m)for(let x=S.start;x<S.end;x++)this.removeItemFromDOM(x);const p=d.map(S=>Y3(S,f)),b=[{start:e,end:e+i.length},...p].map(S=>Zr.intersect(g,S)),C=this.getNextToLastElement(b);for(const S of b)for(let x=S.start;x<S.end;x++){const k=this.items[x],D=a.get(k.templateId),E=D==null?void 0:D.pop();this.insertItemInDOM(x,C,E)}for(const S of a.values())for(const x of S)this.cache.release(x);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),h.map(S=>S.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=Hs(ht(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(const t of this.items)typeof t.width<"u"&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:e===0?0:e+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}element(e){return this.items[e].element}indexOf(e){return this.items.findIndex(t=>t.element===e)}domElement(e){const t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){const i={height:typeof e=="number"?e:TDe(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),typeof t<"u"&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof t=="number"?t:xA(this.domNode)})}render(e,t,i,r,o,s=!1){const a=this.getRenderRange(t,i),l=Zr.relativeComplement(a,e),c=Zr.relativeComplement(e,a),d=this.getNextToLastElement(l);if(s){const u=Zr.intersect(e,a);for(let h=u.start;h<u.end;h++)this.updateItemInDOM(this.items[h],h)}this.cache.transact(()=>{for(const u of c)for(let h=u.start;h<u.end;h++)this.removeItemFromDOM(h);for(const u of l)for(let h=u.start;h<u.end;h++)this.insertItemInDOM(h,d)}),r!==void 0&&(this.rowsContainer.style.left=`-${r}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&o!==void 0&&(this.rowsContainer.style.width=`${Math.max(o,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t,i){const r=this.items[e];let o=!1;if(!r.row)if(i)r.row=i;else{const d=this.cache.alloc(r.templateId);r.row=d.row,o=d.isReusingConnectedDomNode}const s=this.accessibilityProvider.getRole(r.element)||"listitem";r.row.domNode.setAttribute("role",s);const a=this.accessibilityProvider.isChecked(r.element);if(typeof a=="boolean")r.row.domNode.setAttribute("aria-checked",String(!!a));else if(a){const d=u=>r.row.domNode.setAttribute("aria-checked",String(!!u));d(a.value),r.checkedDisposable=a.onDidChange(d)}(o||!r.row.domNode.parentElement)&&(t?this.rowsContainer.insertBefore(r.row.domNode,t):this.rowsContainer.appendChild(r.row.domNode)),this.updateItemInDOM(r,e);const l=this.renderers.get(r.templateId);if(!l)throw new Error(`No renderer found for template id ${r.templateId}`);l==null||l.renderElement(r.element,e,r.row.templateData,r.size);const c=this.dnd.getDragURI(r.element);r.dragStartDisposable.dispose(),r.row.domNode.draggable=!!c,c&&(r.dragStartDisposable=ge(r.row.domNode,"dragstart",d=>this.onDragStart(r.element,c,d))),this.horizontalScrolling&&(this.measureItemWidth(r),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width="fit-content",e.width=xA(e.row.domNode);const t=ht(e.row.domNode).getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2===0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){const t=this.items[e];if(t.dragStartDisposable.dispose(),t.checkedDisposable.dispose(),t.row){const i=this.renderers.get(t.templateId);i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return Ve.map(this.disposables.add(new $t(this.domNode,"click")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseDblClick(){return Ve.map(this.disposables.add(new $t(this.domNode,"dblclick")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseMiddleClick(){return Ve.filter(Ve.map(this.disposables.add(new $t(this.domNode,"auxclick")).event,e=>this.toMouseEvent(e),this.disposables),e=>e.browserEvent.button===1,this.disposables)}get onMouseDown(){return Ve.map(this.disposables.add(new $t(this.domNode,"mousedown")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOver(){return Ve.map(this.disposables.add(new $t(this.domNode,"mouseover")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOut(){return Ve.map(this.disposables.add(new $t(this.domNode,"mouseout")).event,e=>this.toMouseEvent(e),this.disposables)}get onContextMenu(){return Ve.any(Ve.map(this.disposables.add(new $t(this.domNode,"contextmenu")).event,e=>this.toMouseEvent(e),this.disposables),Ve.map(this.disposables.add(new $t(this.domNode,Ii.Contextmenu)).event,e=>this.toGestureEvent(e),this.disposables))}get onTouchStart(){return Ve.map(this.disposables.add(new $t(this.domNode,"touchstart")).event,e=>this.toTouchEvent(e),this.disposables)}get onTap(){return Ve.map(this.disposables.add(new $t(this.rowsContainer,Ii.Tap)).event,e=>this.toGestureEvent(e),this.disposables)}toMouseEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],r=i&&i.element;return{browserEvent:e,index:t,element:r}}toTouchEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],r=i&&i.element;return{browserEvent:e,index:t,element:r}}toGestureEvent(e){const t=this.getItemIndexFromEventTarget(e.initialTarget||null),i=typeof t>"u"?void 0:this.items[t],r=i&&i.element;return{browserEvent:e,index:t,element:r}}toDragEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],r=i&&i.element,o=this.getTargetSector(e,t);return{browserEvent:e,index:t,element:r,sector:o}}onScroll(e){try{const t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){var r,o;if(!i.dataTransfer)return;const s=this.dnd.getDragElements(e);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(wS.TEXT,t),i.dataTransfer.setDragImage){let a;this.dnd.getDragLabel&&(a=this.dnd.getDragLabel(s,i)),typeof a>"u"&&(a=String(s.length));const l=Te(".monaco-drag-image");l.textContent=a;const d=(u=>{for(;u&&!u.classList.contains("monaco-workbench");)u=u.parentElement;return u||this.domNode.ownerDocument})(this.domNode);d.appendChild(l),i.dataTransfer.setDragImage(l,-10,-10),setTimeout(()=>d.removeChild(l),0)}this.domNode.classList.add("dragging"),this.currentDragData=new Qx(s),Mp.CurrentDragAndDropData=new oFe(s),(o=(r=this.dnd).onDragStart)===null||o===void 0||o.call(r,this.currentDragData,i)}onDragOver(e){var t,i;if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),Mp.CurrentDragAndDropData&&Mp.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(Mp.CurrentDragAndDropData)this.currentDragData=Mp.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new sFe}const r=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.sector,e.browserEvent);if(this.canDrop=typeof r=="boolean"?r:r.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;e.browserEvent.dataTransfer.dropEffect=typeof r!="boolean"&&((t=r.effect)===null||t===void 0?void 0:t.type)===0?"copy":"move";let o;typeof r!="boolean"&&r.feedback?o=r.feedback:typeof e.index>"u"?o=[-1]:o=[e.index],o=Eg(o).filter(a=>a>=-1&&a<this.length).sort((a,l)=>a-l),o=o[0]===-1?[-1]:o;let s=typeof r!="boolean"&&r.effect&&r.effect.position?r.effect.position:"drop-target";if(aFe(this.currentDragFeedback,o)&&this.currentDragFeedbackPosition===s)return!0;if(this.currentDragFeedback=o,this.currentDragFeedbackPosition=s,this.currentDragFeedbackDisposable.dispose(),o[0]===-1)this.domNode.classList.add(s),this.rowsContainer.classList.add(s),this.currentDragFeedbackDisposable=at(()=>{this.domNode.classList.remove(s),this.rowsContainer.classList.remove(s)});else{if(o.length>1&&s!=="drop-target")throw new Error("Can't use multiple feedbacks with position different than 'over'");s==="drop-target-after"&&o[0]<this.length-1&&(o[0]+=1,s="drop-target-before");for(const a of o){const l=this.items[a];l.dropTarget=!0,(i=l.row)===null||i===void 0||i.domNode.classList.add(s)}this.currentDragFeedbackDisposable=at(()=>{var a;for(const l of o){const c=this.items[l];c.dropTarget=!1,(a=c.row)===null||a===void 0||a.domNode.classList.remove(s)}})}return!0}onDragLeave(e){var t,i;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=Rg(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&((i=(t=this.dnd).onDragLeave)===null||i===void 0||i.call(t,this.currentDragData,e.element,e.index,e.browserEvent))}onDrop(e){if(!this.canDrop)return;const t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,Mp.CurrentDragAndDropData=void 0,!(!t||!e.browserEvent.dataTransfer)&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.sector,e.browserEvent))}onDragEnd(e){var t,i;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,Mp.CurrentDragAndDropData=void 0,(i=(t=this.dnd).onDragEnd)===null||i===void 0||i.call(t,e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=ce.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){const t=Cae(this.domNode).top;this.dragOverAnimationDisposable=zDe(ht(this.domNode),this.animateDragAndDropScrollTop.bind(this,t))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=Rg(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(this.dragOverMouseY===void 0)return;const t=this.dragOverMouseY-e,i=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getTargetSector(e,t){if(t===void 0)return;const i=e.offsetY/this.items[t].size;return Math.floor(i/.25)}getItemIndexFromEventTarget(e){const t=this.scrollableElement.getDomNode();let i=e;for(;i instanceof HTMLElement&&i!==this.rowsContainer&&t.contains(i);){const r=i.getAttribute("data-index");if(r){const o=Number(r);if(!isNaN(o))return o}i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,i){const r=this.getRenderRange(e,t);let o,s;e===this.elementTop(r.start)?(o=r.start,s=0):r.end-r.start>1&&(o=r.start+1,s=this.elementTop(o)-e);let a=0;for(;;){const l=this.getRenderRange(e,t);let c=!1;for(let d=l.start;d<l.end;d++){const u=this.probeDynamicHeight(d);u!==0&&this.rangeMap.splice(d,1,[this.items[d]]),a+=u,c=c||u!==0}if(!c){a!==0&&this.eventuallyUpdateScrollDimensions();const d=Zr.relativeComplement(r,l);for(const h of d)for(let f=h.start;f<h.end;f++)this.items[f].row&&this.removeItemFromDOM(f);const u=Zr.relativeComplement(l,r);for(const h of u)for(let f=h.start;f<h.end;f++){const g=f+1,_=g<this.items.length?this.items[g].row:null,y=_?_.domNode:null;this.insertItemInDOM(f,y)}for(let h=l.start;h<l.end;h++)this.items[h].row&&this.updateItemInDOM(this.items[h],h);if(typeof o=="number"){const h=this.scrollable.getFutureScrollPosition().scrollTop-e,f=this.elementTop(o)-s+h;this.setScrollTop(f,i)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(e){var t,i,r;const o=this.items[e];if(this.virtualDelegate.getDynamicHeight){const c=this.virtualDelegate.getDynamicHeight(o.element);if(c!==null){const d=o.size;return o.size=c,o.lastDynamicHeightWidth=this.renderWidth,c-d}}if(!o.hasDynamicHeight||o.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(o.element))return 0;const s=o.size;if(o.row)return o.row.domNode.style.height="",o.size=o.row.domNode.offsetHeight,o.lastDynamicHeightWidth=this.renderWidth,o.size-s;const{row:a}=this.cache.alloc(o.templateId);a.domNode.style.height="",this.rowsContainer.appendChild(a.domNode);const l=this.renderers.get(o.templateId);if(!l)throw new Xi("Missing renderer for templateId: "+o.templateId);return l.renderElement(o.element,e,a.templateData,void 0),o.size=a.domNode.offsetHeight,(t=l.disposeElement)===null||t===void 0||t.call(l,o.element,e,a.templateData,void 0),(r=(i=this.virtualDelegate).setDynamicHeight)===null||r===void 0||r.call(i,o.element,o.size),o.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(a.domNode),this.cache.release(a),o.size-s}getNextToLastElement(e){const t=e[e.length-1];if(!t)return null;const i=this.items[t.end];return!i||!i.row?null:i.row.domNode}getElementDomId(e){return`${this.domId}_${e}`}dispose(){var e,t;for(const i of this.items)if(i.dragStartDisposable.dispose(),i.checkedDisposable.dispose(),i.row){const r=this.renderers.get(i.row.templateId);r&&((e=r.disposeElement)===null||e===void 0||e.call(r,i.element,-1,i.row.templateData,void 0),r.disposeTemplate(i.row.templateData))}this.items=[],this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(t=this.dragOverAnimationDisposable)===null||t===void 0||t.dispose(),this.disposables.dispose()}}ul.InstanceCount=0;Bh([Mn],ul.prototype,"onMouseClick",null);Bh([Mn],ul.prototype,"onMouseDblClick",null);Bh([Mn],ul.prototype,"onMouseMiddleClick",null);Bh([Mn],ul.prototype,"onMouseDown",null);Bh([Mn],ul.prototype,"onMouseOver",null);Bh([Mn],ul.prototype,"onMouseOut",null);Bh([Mn],ul.prototype,"onContextMenu",null);Bh([Mn],ul.prototype,"onTouchStart",null);Bh([Mn],ul.prototype,"onTap",null);var A_=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};class cFe{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(e){return e}renderElement(e,t,i){const r=this.renderedElements.findIndex(o=>o.templateData===i);if(r>=0){const o=this.renderedElements[r];this.trait.unrender(i),o.index=t}else{const o={index:t,templateData:i};this.renderedElements.push(o)}this.trait.renderIndex(t,i)}splice(e,t,i){const r=[];for(const o of this.renderedElements)o.index<e?r.push(o):o.index>=e+t&&r.push({index:o.index+i-t,templateData:o.templateData});this.renderedElements=r}renderIndexes(e){for(const{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){const t=this.renderedElements.findIndex(i=>i.templateData===e);t<0||this.renderedElements.splice(t,1)}}let TI=class{get name(){return this._trait}get renderer(){return new cFe(this)}constructor(e){this._trait=e,this.indexes=[],this.sortedIndexes=[],this._onChange=new ne,this.onChange=this._onChange.event}splice(e,t,i){const r=i.length-t,o=e+t,s=[];let a=0;for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]<e;)s.push(this.sortedIndexes[a++]);for(let l=0;l<i.length;l++)i[l]&&s.push(l+e);for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]>=o;)s.push(this.sortedIndexes[a++]+r);this.renderer.splice(e,t,i.length),this._set(s,s)}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(EZ),t)}_set(e,t,i){const r=this.indexes,o=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;const s=X3(o,e);return this.renderer.renderIndexes(s),this._onChange.fire({indexes:e,browserEvent:i}),r}get(){return this.indexes}contains(e){return M1(this.sortedIndexes,e,EZ)>=0}dispose(){vi(this._onChange)}};A_([Mn],TI.prototype,"renderer",null);class dFe extends TI{constructor(e){super("selected"),this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}class CO{constructor(e,t,i){this.trait=e,this.view=t,this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,new Array(i.length).fill(!1));const r=this.trait.get().map(a=>this.identityProvider.getId(this.view.element(a)).toString());if(r.length===0)return this.trait.splice(e,t,new Array(i.length).fill(!1));const o=new Set(r),s=i.map(a=>o.has(this.identityProvider.getId(a).toString()));this.trait.splice(e,t,s)}}function mg(n){return n.tagName==="INPUT"||n.tagName==="TEXTAREA"}function Jx(n,e){return n.classList.contains(e)?!0:n.classList.contains("monaco-list")||!n.parentElement?!1:Jx(n.parentElement,e)}function rw(n){return Jx(n,"monaco-editor")}function uFe(n){return Jx(n,"monaco-custom-toggle")}function hFe(n){return Jx(n,"action-item")}function Zw(n){return Jx(n,"monaco-tree-sticky-row")}function EI(n){return n.classList.contains("monaco-tree-sticky-container")}function Yce(n){return n.tagName==="A"&&n.classList.contains("monaco-button")||n.tagName==="DIV"&&n.classList.contains("monaco-button-dropdown")?!0:n.classList.contains("monaco-list")||!n.parentElement?!1:Yce(n.parentElement)}class Xce{get onKeyDown(){return Ve.chain(this.disposables.add(new $t(this.view.domNode,"keydown")).event,e=>e.filter(t=>!mg(t.target)).map(t=>new Oi(t)))}constructor(e,t,i){this.list=e,this.view=t,this.disposables=new xe,this.multipleSelectionDisposables=new xe,this.multipleSelectionSupport=i.multipleSelectionSupport,this.disposables.add(this.onKeyDown(r=>{switch(r.keyCode){case 3:return this.onEnter(r);case 16:return this.onUpArrow(r);case 18:return this.onDownArrow(r);case 11:return this.onPageUpArrow(r);case 12:return this.onPageDownArrow(r);case 9:return this.onEscape(r);case 31:this.multipleSelectionSupport&&(qt?r.metaKey:r.ctrlKey)&&this.onCtrlA(r)}}))}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=e.multipleSelectionSupport)}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(No(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}A_([Mn],Xce.prototype,"onKeyDown",null);var Rd;(function(n){n[n.Automatic=0]="Automatic",n[n.Trigger=1]="Trigger"})(Rd||(Rd={}));var dv;(function(n){n[n.Idle=0]="Idle",n[n.Typing=1]="Typing"})(dv||(dv={}));const fFe=new class{mightProducePrintableCharacter(n){return n.ctrlKey||n.metaKey||n.altKey?!1:n.keyCode>=31&&n.keyCode<=56||n.keyCode>=21&&n.keyCode<=30||n.keyCode>=98&&n.keyCode<=107||n.keyCode>=85&&n.keyCode<=95}};class gFe{constructor(e,t,i,r,o){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=i,this.keyboardNavigationEventFilter=r,this.delegate=o,this.enabled=!1,this.state=dv.Idle,this.mode=Rd.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new xe,this.disposables=new xe,this.updateOptions(e.options)}updateOptions(e){var t,i;!((t=e.typeNavigationEnabled)!==null&&t!==void 0)||t?this.enable():this.disable(),this.mode=(i=e.typeNavigationMode)!==null&&i!==void 0?i:Rd.Automatic}enable(){if(this.enabled)return;let e=!1;const t=Ve.chain(this.enabledDisposables.add(new $t(this.view.domNode,"keydown")).event,o=>o.filter(s=>!mg(s.target)).filter(()=>this.mode===Rd.Automatic||this.triggered).map(s=>new Oi(s)).filter(s=>e||this.keyboardNavigationEventFilter(s)).filter(s=>this.delegate.mightProducePrintableCharacter(s)).forEach(s=>Mt.stop(s,!0)).map(s=>s.browserEvent.key)),i=Ve.debounce(t,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);Ve.reduce(Ve.any(t,i),(o,s)=>s===null?null:(o||"")+s,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),i(this.onClear,this,this.enabledDisposables),t(()=>e=!0,void 0,this.enabledDisposables),i(()=>e=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var e;const t=this.list.getFocus();if(t.length>0&&t[0]===this.previouslyFocused){const i=(e=this.list.options.accessibilityProvider)===null||e===void 0?void 0:e.getAriaLabel(this.list.element(t[0]));i&&zs(i)}this.previouslyFocused=-1}onInput(e){if(!e){this.state=dv.Idle,this.triggered=!1;return}const t=this.list.getFocus(),i=t.length>0?t[0]:0,r=this.state===dv.Idle?1:0;this.state=dv.Typing;for(let o=0;o<this.list.length;o++){const s=(i+o+r)%this.list.length,a=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(s)),l=a&&a.toString();if(this.list.options.typeNavigationEnabled){if(typeof l<"u"){if(_S(e,l)){this.previouslyFocused=i,this.list.setFocus([s]),this.list.reveal(s);return}const c=S5e(e,l);if(c&&c[0].end-c[0].start>1&&c.length===1){this.previouslyFocused=i,this.list.setFocus([s]),this.list.reveal(s);return}}}else if(typeof l>"u"||_S(e,l)){this.previouslyFocused=i,this.list.setFocus([s]),this.list.reveal(s);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class pFe{constructor(e,t){this.list=e,this.view=t,this.disposables=new xe;const i=Ve.chain(this.disposables.add(new $t(t.domNode,"keydown")).event,o=>o.filter(s=>!mg(s.target)).map(s=>new Oi(s)));Ve.chain(i,o=>o.filter(s=>s.keyCode===2&&!s.ctrlKey&&!s.metaKey&&!s.shiftKey&&!s.altKey))(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;const t=this.list.getFocus();if(t.length===0)return;const i=this.view.domElement(t[0]);if(!i)return;const r=i.querySelector("[tabIndex]");if(!r||!(r instanceof HTMLElement)||r.tabIndex===-1)return;const o=ht(r).getComputedStyle(r);o.visibility==="hidden"||o.display==="none"||(e.preventDefault(),e.stopPropagation(),r.focus())}dispose(){this.disposables.dispose()}}function Qce(n){return qt?n.browserEvent.metaKey:n.browserEvent.ctrlKey}function Jce(n){return n.browserEvent.shiftKey}function mFe(n){return m6(n)&&n.button===2}const TZ={isSelectionSingleChangeEvent:Qce,isSelectionRangeChangeEvent:Jce};class ede{constructor(e){this.list=e,this.disposables=new xe,this._onPointer=new ne,this.onPointer=this._onPointer.event,e.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||TZ),this.mouseSupport=typeof e.options.mouseSupport>"u"||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(Ei.addTarget(e.getHTMLElement()))),Ve.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||TZ))}isSelectionSingleChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):!1}isSelectionRangeChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):!1}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){rw(e.browserEvent.target)||qr()!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(mg(e.browserEvent.target)||rw(e.browserEvent.target))return;const t=typeof e.index>"u"?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport||mg(e.browserEvent.target)||rw(e.browserEvent.target)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;const t=e.index;if(typeof t>"u"){this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(e))return this.changeSelection(e);this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),mFe(e.browserEvent)||this.list.setSelection([t],e.browserEvent),this._onPointer.fire(e)}onDoubleClick(e){if(mg(e.browserEvent.target)||rw(e.browserEvent.target)||this.isSelectionChangeEvent(e)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;const t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){const t=e.index;let i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){if(typeof i>"u"){const d=this.list.getFocus()[0];i=d??t,this.list.setAnchor(i)}const r=Math.min(i,t),o=Math.max(i,t),s=No(r,o+1),a=this.list.getSelection(),l=bFe(X3(a,[i]),i);if(l.length===0)return;const c=X3(s,yFe(a,l));this.list.setSelection(c,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){const r=this.list.getSelection(),o=r.filter(s=>s!==t);this.list.setFocus([t]),this.list.setAnchor(t),r.length===o.length?this.list.setSelection([...o,t],e.browserEvent):this.list.setSelection(o,e.browserEvent)}}dispose(){this.disposables.dispose()}}class tde{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){var t,i;const r=this.selectorSuffix&&`.${this.selectorSuffix}`,o=[];e.listBackground&&o.push(`.monaco-list${r} .monaco-list-rows { background: ${e.listBackground}; }`),e.listFocusBackground&&(o.push(`.monaco-list${r}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),o.push(`.monaco-list${r}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&o.push(`.monaco-list${r}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(o.push(`.monaco-list${r}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),o.push(`.monaco-list${r}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&o.push(`.monaco-list${r}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&o.push(`.monaco-list${r}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionBackground&&o.push(`
				.monaco-drag-image,
				.monaco-list${r}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }
			`),e.listFocusAndSelectionForeground&&o.push(`
				.monaco-drag-image,
				.monaco-list${r}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }
			`),e.listInactiveFocusForeground&&(o.push(`.monaco-list${r} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),o.push(`.monaco-list${r} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&o.push(`.monaco-list${r} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(o.push(`.monaco-list${r} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),o.push(`.monaco-list${r} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(o.push(`.monaco-list${r} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),o.push(`.monaco-list${r} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&o.push(`.monaco-list${r} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&o.push(`.monaco-list${r}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&o.push(`.monaco-list${r}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`);const s=gh(e.listFocusAndSelectionOutline,gh(e.listSelectionOutline,(t=e.listFocusOutline)!==null&&t!==void 0?t:""));s&&o.push(`.monaco-list${r}:focus .monaco-list-row.focused.selected { outline: 1px solid ${s}; outline-offset: -1px;}`),e.listFocusOutline&&o.push(`
				.monaco-drag-image,
				.monaco-list${r}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${r}.last-focused .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
			`);const a=gh(e.listSelectionOutline,(i=e.listInactiveFocusOutline)!==null&&i!==void 0?i:"");a&&o.push(`.monaco-list${r} .monaco-list-row.focused.selected { outline: 1px dotted ${a}; outline-offset: -1px; }`),e.listSelectionOutline&&o.push(`.monaco-list${r} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listInactiveFocusOutline&&o.push(`.monaco-list${r} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&o.push(`.monaco-list${r} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropOverBackground&&o.push(`
				.monaco-list${r}.drop-target,
				.monaco-list${r} .monaco-list-rows.drop-target,
				.monaco-list${r} .monaco-list-row.drop-target { background-color: ${e.listDropOverBackground} !important; color: inherit !important; }
			`),e.listDropBetweenBackground&&(o.push(`
			.monaco-list${r} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,
			.monaco-list${r} .monaco-list-row.drop-target-before::before {
				content: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${e.listDropBetweenBackground};
			}`),o.push(`
			.monaco-list${r} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,
			.monaco-list${r} .monaco-list-row.drop-target-after::after {
				content: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${e.listDropBetweenBackground};
			}`)),e.tableColumnsBorder&&o.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${e.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),e.tableOddRowsBackgroundColor&&o.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${e.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=o.join(`
`)}}const _Fe={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:ue.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:ue.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:ue.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0},vFe={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};function bFe(n,e){const t=n.indexOf(e);if(t===-1)return[];const i=[];let r=t-1;for(;r>=0&&n[r]===e-(t-r);)i.push(n[r--]);for(i.reverse(),r=t;r<n.length&&n[r]===e+(r-t);)i.push(n[r++]);return i}function X3(n,e){const t=[];let i=0,r=0;for(;i<n.length||r<e.length;)if(i>=n.length)t.push(e[r++]);else if(r>=e.length)t.push(n[i++]);else if(n[i]===e[r]){t.push(n[i]),i++,r++;continue}else n[i]<e[r]?t.push(n[i++]):t.push(e[r++]);return t}function yFe(n,e){const t=[];let i=0,r=0;for(;i<n.length||r<e.length;)if(i>=n.length)t.push(e[r++]);else if(r>=e.length)t.push(n[i++]);else if(n[i]===e[r]){i++,r++;continue}else n[i]<e[r]?t.push(n[i++]):r++;return t}const EZ=(n,e)=>n-e;class CFe{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(t=>t.renderTemplate(e))}renderElement(e,t,i,r){let o=0;for(const s of this.renderers)s.renderElement(e,t,i[o++],r)}disposeElement(e,t,i,r){var o;let s=0;for(const a of this.renderers)(o=a.disposeElement)===null||o===void 0||o.call(a,e,t,i[s],r),s+=1}disposeTemplate(e){let t=0;for(const i of this.renderers)i.disposeTemplate(e[t++])}}class wFe{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return e}renderElement(e,t,i){const r=this.accessibilityProvider.getAriaLabel(e);r?i.setAttribute("aria-label",r):i.removeAttribute("aria-label");const o=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);typeof o=="number"?i.setAttribute("aria-level",`${o}`):i.removeAttribute("aria-level")}disposeTemplate(e){}}class SFe{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){const t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){var i,r;(r=(i=this.dnd).onDragStart)===null||r===void 0||r.call(i,e,t)}onDragOver(e,t,i,r,o){return this.dnd.onDragOver(e,t,i,r,o)}onDragLeave(e,t,i,r){var o,s;(s=(o=this.dnd).onDragLeave)===null||s===void 0||s.call(o,e,t,i,r)}onDragEnd(e){var t,i;(i=(t=this.dnd).onDragEnd)===null||i===void 0||i.call(t,e)}drop(e,t,i,r,o){this.dnd.drop(e,t,i,r,o)}dispose(){this.dnd.dispose()}}class Zl{get onDidChangeFocus(){return Ve.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e),this.disposables)}get onDidChangeSelection(){return Ve.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1;const t=Ve.chain(this.disposables.add(new $t(this.view.domNode,"keydown")).event,o=>o.map(s=>new Oi(s)).filter(s=>e=s.keyCode===58||s.shiftKey&&s.keyCode===68).map(s=>Mt.stop(s,!0)).filter(()=>!1)),i=Ve.chain(this.disposables.add(new $t(this.view.domNode,"keyup")).event,o=>o.forEach(()=>e=!1).map(s=>new Oi(s)).filter(s=>s.keyCode===58||s.shiftKey&&s.keyCode===68).map(s=>Mt.stop(s,!0)).map(({browserEvent:s})=>{const a=this.getFocus(),l=a.length?a[0]:void 0,c=typeof l<"u"?this.view.element(l):void 0,d=typeof l<"u"?this.view.domElement(l):this.view.domNode;return{index:l,element:c,anchor:d,browserEvent:s}})),r=Ve.chain(this.view.onContextMenu,o=>o.filter(s=>!e).map(({element:s,index:a,browserEvent:l})=>({element:s,index:a,anchor:new Ml(ht(this.view.domNode),l),browserEvent:l})));return Ve.any(t,i,r)}get onKeyDown(){return this.disposables.add(new $t(this.view.domNode,"keydown")).event}get onDidFocus(){return Ve.signal(this.disposables.add(new $t(this.view.domNode,"focus",!0)).event)}constructor(e,t,i,r,o=vFe){var s,a,l,c;this.user=e,this._options=o,this.focus=new TI("focused"),this.anchor=new TI("anchor"),this.eventBufferer=new ZW,this._ariaLabel="",this.disposables=new xe,this._onDidDispose=new ne,this.onDidDispose=this._onDidDispose.event;const d=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(s=this._options.accessibilityProvider)===null||s===void 0?void 0:s.getWidgetRole():"list";this.selection=new dFe(d!=="listbox");const u=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=o.accessibilityProvider,this.accessibilityProvider&&(u.push(new wFe(this.accessibilityProvider)),(l=(a=this.accessibilityProvider).onDidChangeActiveDescendant)===null||l===void 0||l.call(a,this.onDidChangeActiveDescendant,this,this.disposables)),r=r.map(f=>new CFe(f.templateId,[...u,f]));const h={...o,dnd:o.dnd&&new SFe(this,o.dnd)};if(this.view=this.createListView(t,i,r,h),this.view.domNode.setAttribute("role",d),o.styleController)this.styleController=o.styleController(this.view.domId);else{const f=La(this.view.domNode);this.styleController=new tde(f,this.view.domId)}if(this.spliceable=new eFe([new CO(this.focus,this.view,o.identityProvider),new CO(this.selection,this.view,o.identityProvider),new CO(this.anchor,this.view,o.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new pFe(this,this.view)),(typeof o.keyboardSupport!="boolean"||o.keyboardSupport)&&(this.keyboardController=new Xce(this,this.view,o),this.disposables.add(this.keyboardController)),o.keyboardNavigationLabelProvider){const f=o.keyboardNavigationDelegate||fFe;this.typeNavigationController=new gFe(this,this.view,o.keyboardNavigationLabelProvider,(c=o.keyboardNavigationEventFilter)!==null&&c!==void 0?c:()=>!0,f),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(o),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(e,t,i,r){return new ul(e,t,i,r)}createMouseController(e){return new ede(this)}updateOptions(e={}){var t,i;this._options={...this._options,...e},(t=this.typeNavigationController)===null||t===void 0||t.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),(i=this.keyboardController)===null||i===void 0||i.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new Pp(this.user,`Invalid start index: ${e}`);if(t<0)throw new Pp(this.user,`Invalid delete count: ${t}`);t===0&&i.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,t,i))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}indexOf(e){return this.view.indexOf(e)}indexAt(e){return this.view.indexAt(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(const i of e)if(i<0||i>=this.length)throw new Pp(this.user,`Invalid index ${i}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setAnchor(e){if(typeof e>"u"){this.anchor.set([]);return}if(e<0||e>=this.length)throw new Pp(this.user,`Invalid index ${e}`);this.anchor.set([e])}getAnchor(){return BW(this.anchor.get(),void 0)}getAnchorElement(){const e=this.getAnchor();return typeof e>"u"?void 0:this.element(e)}setFocus(e,t){for(const i of e)if(i<0||i>=this.length)throw new Pp(this.user,`Invalid index ${i}`);this.focus.set(e,t)}focusNext(e=1,t=!1,i,r){if(this.length===0)return;const o=this.focus.get(),s=this.findNextIndex(o.length>0?o[0]+e:0,t,r);s>-1&&this.setFocus([s],i)}focusPrevious(e=1,t=!1,i,r){if(this.length===0)return;const o=this.focus.get(),s=this.findPreviousIndex(o.length>0?o[0]-e:0,t,r);s>-1&&this.setFocus([s],i)}async focusNextPage(e,t){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=i===0?0:i-1;const r=this.getFocus()[0];if(r!==i&&(r===void 0||i>r)){const o=this.findPreviousIndex(i,!1,t);o>-1&&r!==o?this.setFocus([o],e):this.setFocus([i],e)}else{const o=this.view.getScrollTop();let s=o+this.view.renderHeight;i>r&&(s-=this.view.elementHeight(i)),this.view.setScrollTop(s),this.view.getScrollTop()!==o&&(this.setFocus([]),await Mg(0),await this.focusNextPage(e,t))}}async focusPreviousPage(e,t,i=()=>0){let r;const o=i(),s=this.view.getScrollTop()+o;s===0?r=this.view.indexAt(s):r=this.view.indexAfter(s-1);const a=this.getFocus()[0];if(a!==r&&(a===void 0||a>=r)){const l=this.findNextIndex(r,!1,t);l>-1&&a!==l?this.setFocus([l],e):this.setFocus([r],e)}else{const l=s;this.view.setScrollTop(s-this.view.renderHeight-o),this.view.getScrollTop()+i()!==l&&(this.setFocus([]),await Mg(0),await this.focusPreviousPage(e,t,i))}}focusLast(e,t){if(this.length===0)return;const i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(this.length===0)return;const r=this.findNextIndex(e,!1,i);r>-1&&this.setFocus([r],t)}findNextIndex(e,t=!1,i){for(let r=0;r<this.length;r++){if(e>=this.length&&!t)return-1;if(e=e%this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,i){for(let r=0;r<this.length;r++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,t,i=0){if(e<0||e>=this.length)throw new Pp(this.user,`Invalid index ${e}`);const r=this.view.getScrollTop(),o=this.view.elementTop(e),s=this.view.elementHeight(e);if(Ig(t)){const a=s-this.view.renderHeight+i;this.view.setScrollTop(a*ss(t,0,1)+o-i)}else{const a=o+s,l=r+this.view.renderHeight;o<r+i&&a>=l||(o<r+i||a>=l&&s>=this.view.renderHeight?this.view.setScrollTop(o-i):a>=l&&this.view.setScrollTop(a-this.view.renderHeight))}}getRelativeTop(e,t=0){if(e<0||e>=this.length)throw new Pp(this.user,`Invalid index ${e}`);const i=this.view.getScrollTop(),r=this.view.elementTop(e),o=this.view.elementHeight(e);if(r<i+t||r+o>i+this.view.renderHeight)return null;const s=o-this.view.renderHeight+t;return Math.abs((i+t-r)/s)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(e){return this.view.getElementDomId(e)}getElementTop(e){return this.view.elementTop(e)}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map(i=>this.view.element(i)),browserEvent:t}}_onFocusChange(){const e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var e;const t=this.focus.get();if(t.length>0){let i;!((e=this.accessibilityProvider)===null||e===void 0)&&e.getActiveDescendantId&&(i=this.accessibilityProvider.getActiveDescendantId(this.view.element(t[0]))),this.view.domNode.setAttribute("aria-activedescendant",i||this.view.getElementDomId(t[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const e=this.selection.get();this.view.domNode.classList.toggle("selection-none",e.length===0),this.view.domNode.classList.toggle("selection-single",e.length===1),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}A_([Mn],Zl.prototype,"onDidChangeFocus",null);A_([Mn],Zl.prototype,"onDidChangeSelection",null);A_([Mn],Zl.prototype,"onContextMenu",null);A_([Mn],Zl.prototype,"onKeyDown",null);A_([Mn],Zl.prototype,"onDidFocus",null);const fm=Te,ide="selectOption.entry.template";class xFe{get templateId(){return ide}renderTemplate(e){const t=Object.create(null);return t.root=e,t.text=Se(e,fm(".option-text")),t.detail=Se(e,fm(".option-detail")),t.decoratorRight=Se(e,fm(".option-decorator-right")),t}renderElement(e,t,i){const r=i,o=e.text,s=e.detail,a=e.decoratorRight,l=e.isDisabled;r.text.textContent=o,r.detail.textContent=s||"",r.decoratorRight.innerText=a||"",l?r.root.classList.add("option-disabled"):r.root.classList.remove("option-disabled")}disposeTemplate(e){}}class Ad extends ce{constructor(e,t,i,r,o){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=r,this.selectBoxOptions=o||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=Ad.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new ne,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(i),this.selected=t||0,e&&this.setOptions(e,t),this.initStyleSheet()}getHeight(){return 22}getTemplateId(){return ide}constructSelectDropDown(e){this.contextViewProvider=e,this.selectDropDownContainer=Te(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=Se(this.selectDropDownContainer,fm(".select-box-details-pane"));const t=Se(this.selectDropDownContainer,fm(".select-box-dropdown-container-width-control")),i=Se(t,fm(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",Se(i,this.widthControlElement),this._dropDownPosition=0,this.styleElement=La(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(ge(this.selectDropDownContainer,Ne.DRAG_START,r=>{Mt.stop(r,!0)}))}registerListeners(){this._register(kn(this.selectElement,"change",t=>{this.selected=t.target.selectedIndex,this._onDidSelect.fire({index:t.target.selectedIndex,selected:t.target.value}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)})),this._register(ge(this.selectElement,Ne.CLICK,t=>{Mt.stop(t),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(ge(this.selectElement,Ne.MOUSE_DOWN,t=>{Mt.stop(t)}));let e;this._register(ge(this.selectElement,"touchstart",t=>{e=this._isVisible})),this._register(ge(this.selectElement,"touchend",t=>{Mt.stop(t),e?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(ge(this.selectElement,Ne.KEY_DOWN,t=>{const i=new Oi(t);let r=!1;qt?(i.keyCode===18||i.keyCode===16||i.keyCode===10||i.keyCode===3)&&(r=!0):(i.keyCode===18&&i.altKey||i.keyCode===16&&i.altKey||i.keyCode===10||i.keyCode===3)&&(r=!0),r&&(this.showSelectDropDown(),Mt.stop(t,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(e,t){vn(this.options,e)||(this.options=e,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((i,r)=>{this.selectElement.add(this.createOption(i.text,r,i.isDisabled)),typeof i.description=="string"&&(this._hasDetails=!0)})),t!==void 0&&(this.select(t),this._currentSelection=this.selected)}setOptionsList(){var e;(e=this.selectList)===null||e===void 0||e.splice(0,this.selectList.length,this.options)}select(e){e>=0&&e<this.options.length?this.selected=e:e>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(e){this.selectElement.tabIndex=e?0:-1}render(e){this.container=e,e.classList.add("select-container"),e.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const e=[];this.styles.listFocusBackground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(e.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=e.join(`
`)}styleSelectElement(){var e,t,i;const r=(e=this.styles.selectBackground)!==null&&e!==void 0?e:"",o=(t=this.styles.selectForeground)!==null&&t!==void 0?t:"",s=(i=this.styles.selectBorder)!==null&&i!==void 0?i:"";this.selectElement.style.backgroundColor=r,this.selectElement.style.color=o,this.selectElement.style.borderColor=s}styleList(){var e,t;const i=(e=this.styles.selectBackground)!==null&&e!==void 0?e:"",r=gh(this.styles.selectListBackground,i);this.selectDropDownListContainer.style.backgroundColor=r,this.selectionDetailsPane.style.backgroundColor=r;const o=(t=this.styles.focusBorder)!==null&&t!==void 0?t:"";this.selectDropDownContainer.style.outlineColor=o,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(e,t,i){const r=document.createElement("option");return r.value=e,r.text=e,r.disabled=!!i,r}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:e=>this.renderSelectDropDown(e,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:e=>this.renderSelectDropDown(e),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(e){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),e&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(e,t){return e.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(t),{dispose:()=>{try{e.removeChild(this.selectDropDownContainer)}catch{}}}}measureMaxDetailsHeight(){let e=0;return this.options.forEach((t,i)=>{this.updateDetail(i),this.selectionDetailsPane.offsetHeight>e&&(e=this.selectionDetailsPane.offsetHeight)}),e}layoutSelectDropDown(e){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const t=ht(this.selectElement),i=Vn(this.selectElement),r=ht(this.selectElement).getComputedStyle(this.selectElement),o=parseFloat(r.getPropertyValue("--dropdown-padding-top"))+parseFloat(r.getPropertyValue("--dropdown-padding-bottom")),s=t.innerHeight-i.top-i.height-(this.selectBoxOptions.minBottomMargin||0),a=i.top-Ad.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,l=this.selectElement.offsetWidth,c=this.setWidthControlElement(this.widthControlElement),d=Math.max(c,Math.round(l)).toString()+"px";this.selectDropDownContainer.style.width=d,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let u=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const h=this._hasDetails?this._cachedMaxDetailsHeight:0,f=u+o+h,g=Math.floor((s-o-h)/this.getHeight()),_=Math.floor((a-o-h)/this.getHeight());if(e)return i.top+i.height>t.innerHeight-22||i.top<Ad.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||g<1&&_<1?!1:(g<Ad.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&_>g&&this.options.length>g?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(i.top+i.height>t.innerHeight-22||i.top<Ad.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&g<1||this._dropDownPosition===1&&_<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&g+_<1)return this.hideSelectDropDown(!0),!1;f>s&&(u=g*this.getHeight())}else f>a&&(u=_*this.getHeight());return this.selectList.layout(u),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=u+o+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=u+o+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=d,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(e){let t=0;if(e){let i=0,r=0;this.options.forEach((o,s)=>{const a=o.detail?o.detail.length:0,l=o.decoratorRight?o.decoratorRight.length:0,c=o.text.length+a+l;c>r&&(i=s,r=c)}),e.textContent=this.options[i].text+(this.options[i].decoratorRight?this.options[i].decoratorRight+" ":""),t=os(e)}return t}createSelectList(e){if(this.selectList)return;this.selectDropDownListContainer=Se(e,fm(".select-box-dropdown-list-container")),this.listRenderer=new xFe,this.selectList=new Zl("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:r=>{let o=r.text;return r.detail&&(o+=`. ${r.detail}`),r.decoratorRight&&(o+=`. ${r.decoratorRight}`),r.description&&(o+=`. ${r.description}`),o},getWidgetAriaLabel:()=>w({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box"),getRole:()=>qt?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const t=this._register(new $t(this.selectDropDownListContainer,"keydown")),i=Ve.chain(t.event,r=>r.filter(()=>this.selectList.length>0).map(o=>new Oi(o)));this._register(Ve.chain(i,r=>r.filter(o=>o.keyCode===3))(this.onEnter,this)),this._register(Ve.chain(i,r=>r.filter(o=>o.keyCode===2))(this.onEnter,this)),this._register(Ve.chain(i,r=>r.filter(o=>o.keyCode===9))(this.onEscape,this)),this._register(Ve.chain(i,r=>r.filter(o=>o.keyCode===16))(this.onUpArrow,this)),this._register(Ve.chain(i,r=>r.filter(o=>o.keyCode===18))(this.onDownArrow,this)),this._register(Ve.chain(i,r=>r.filter(o=>o.keyCode===12))(this.onPageDown,this)),this._register(Ve.chain(i,r=>r.filter(o=>o.keyCode===11))(this.onPageUp,this)),this._register(Ve.chain(i,r=>r.filter(o=>o.keyCode===14))(this.onHome,this)),this._register(Ve.chain(i,r=>r.filter(o=>o.keyCode===13))(this.onEnd,this)),this._register(Ve.chain(i,r=>r.filter(o=>o.keyCode>=21&&o.keyCode<=56||o.keyCode>=85&&o.keyCode<=113))(this.onCharacter,this)),this._register(ge(this.selectList.getHTMLElement(),Ne.POINTER_UP,r=>this.onPointerUp(r))),this._register(this.selectList.onMouseOver(r=>typeof r.index<"u"&&this.selectList.setFocus([r.index]))),this._register(this.selectList.onDidChangeFocus(r=>this.onListFocus(r))),this._register(ge(this.selectDropDownContainer,Ne.FOCUS_OUT,r=>{!this._isVisible||Ar(r.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(e){if(!this.selectList.length)return;Mt.stop(e);const t=e.target;if(!t||t.classList.contains("slider"))return;const i=t.closest(".monaco-list-row");if(!i)return;const r=Number(i.getAttribute("data-index")),o=i.classList.contains("option-disabled");r>=0&&r<this.options.length&&!o&&(this.selected=r,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(e,t){const i=o=>{for(let s=0;s<o.childNodes.length;s++){const a=o.childNodes.item(s);(a.tagName&&a.tagName.toLowerCase())==="img"?o.removeChild(a):i(a)}},r=cM({value:e,supportThemeIcons:!0},{actionHandler:t});return r.element.classList.add("select-box-description-markdown"),i(r.element),r.element}onListFocus(e){!this._isVisible||!this._hasDetails||this.updateDetail(e.indexes[0])}updateDetail(e){var t,i;this.selectionDetailsPane.innerText="";const r=this.options[e],o=(t=r==null?void 0:r.description)!==null&&t!==void 0?t:"",s=(i=r==null?void 0:r.descriptionIsMarkdown)!==null&&i!==void 0?i:!1;if(o){if(s){const a=r.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(o,a))}else this.selectionDetailsPane.innerText=o;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(e){Mt.stop(e),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(e){Mt.stop(e),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(e){if(this.selected<this.options.length-1){Mt.stop(e,!0);const t=this.options[this.selected+1].isDisabled;if(t&&this.options.length>this.selected+2)this.selected+=2;else{if(t)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(e){this.selected>0&&(Mt.stop(e,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(e){Mt.stop(e),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(e){Mt.stop(e),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(e){Mt.stop(e),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(e){Mt.stop(e),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(e){const t=$u.toString(e.keyCode);let i=-1;for(let r=0;r<this.options.length-1;r++)if(i=(r+this.selected+1)%this.options.length,this.options[i].text.charAt(0).toUpperCase()===t&&!this.options[i].isDisabled){this.select(i),this.selectList.setFocus([i]),this.selectList.reveal(this.selectList.getFocus()[0]),Mt.stop(e);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}Ad.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32;Ad.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2;Ad.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3;class LFe extends ce{constructor(e,t,i,r){super(),this.selected=0,this.selectBoxOptions=r||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new ne),this.styles=i,this.registerListeners(),this.setOptions(e,t)}registerListeners(){this._register(Ei.addTarget(this.selectElement)),[Ii.Tap].forEach(e=>{this._register(ge(this.selectElement,e,t=>{this.selectElement.focus()}))}),this._register(kn(this.selectElement,"click",e=>{Mt.stop(e,!0)})),this._register(kn(this.selectElement,"change",e=>{this.selectElement.title=e.target.value,this._onDidSelect.fire({index:e.target.selectedIndex,selected:e.target.value})})),this._register(kn(this.selectElement,"keydown",e=>{let t=!1;qt?(e.keyCode===18||e.keyCode===16||e.keyCode===10)&&(t=!0):(e.keyCode===18&&e.altKey||e.keyCode===10||e.keyCode===3)&&(t=!0),t&&e.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(e,t){(!this.options||!vn(this.options,e))&&(this.options=e,this.selectElement.options.length=0,this.options.forEach((i,r)=>{this.selectElement.add(this.createOption(i.text,r,i.isDisabled))})),t!==void 0&&this.select(t)}select(e){this.options.length===0?this.selected=0:e>=0&&e<this.options.length?this.selected=e:e>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(e){this.selectElement.tabIndex=e?0:-1}render(e){e.classList.add("select-container"),e.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var e,t,i;this.selectElement&&(this.selectElement.style.backgroundColor=(e=this.styles.selectBackground)!==null&&e!==void 0?e:"",this.selectElement.style.color=(t=this.styles.selectForeground)!==null&&t!==void 0?t:"",this.selectElement.style.borderColor=(i=this.styles.selectBorder)!==null&&i!==void 0?i:"")}createOption(e,t,i){const r=document.createElement("option");return r.value=e,r.text=e,r.disabled=!!i,r}}class kFe extends Na{constructor(e,t,i,r,o){super(),qt&&!(o!=null&&o.useCustomDrawn)?this.selectBoxDelegate=new LFe(e,t,r,o):this.selectBoxDelegate=new Ad(e,t,i,r,o),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(e,t){this.selectBoxDelegate.setOptions(e,t)}select(e){this.selectBoxDelegate.select(e)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(e){this.selectBoxDelegate.setFocusable(e)}render(e){this.selectBoxDelegate.render(e)}}class yc extends ce{get action(){return this._action}constructor(e,t,i={}){super(),this.options=i,this._context=e||this,this._action=t,t instanceof Fs&&this._register(t.onDidChange(r=>{this.element&&this.handleActionChangeEvent(r)}))}handleActionChangeEvent(e){e.enabled!==void 0&&this.updateEnabled(),e.checked!==void 0&&this.updateChecked(),e.class!==void 0&&this.updateClass(),e.label!==void 0&&(this.updateLabel(),this.updateTooltip()),e.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new qm)),this._actionRunner}set actionRunner(e){this._actionRunner=e}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){const t=this.element=e;this._register(Ei.addTarget(e));const i=this.options&&this.options.draggable;i&&(e.draggable=!0,nl&&this._register(ge(e,Ne.DRAG_START,r=>{var o;return(o=r.dataTransfer)===null||o===void 0?void 0:o.setData(wS.TEXT,this._action.label)}))),this._register(ge(t,Ii.Tap,r=>this.onClick(r,!0))),this._register(ge(t,Ne.MOUSE_DOWN,r=>{i||Mt.stop(r,!0),this._action.enabled&&r.button===0&&t.classList.add("active")})),qt&&this._register(ge(t,Ne.CONTEXT_MENU,r=>{r.button===0&&r.ctrlKey===!0&&this.onClick(r)})),this._register(ge(t,Ne.CLICK,r=>{Mt.stop(r,!0),this.options&&this.options.isMenu||this.onClick(r)})),this._register(ge(t,Ne.DBLCLICK,r=>{Mt.stop(r,!0)})),[Ne.MOUSE_UP,Ne.MOUSE_OUT].forEach(r=>{this._register(ge(t,r,o=>{Mt.stop(o),t.classList.remove("active")}))})}onClick(e,t=!1){var i;Mt.stop(e,!0);const r=ca(this._context)?!((i=this.options)===null||i===void 0)&&i.useEventAsContext?e:{preserveFocus:t}:this._context;this.actionRunner.run(this._action,r)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(e){this.element&&(this.element.tabIndex=e?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){var e;if(!this.element)return;const t=(e=this.getTooltip())!==null&&e!==void 0?e:"";this.updateAriaLabel(),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(t):(this.customHover=Zce(this.options.hoverDelegate,this.element,t),this._store.add(this.customHover))):this.element.title=t}updateAriaLabel(){var e;if(this.element){const t=(e=this.getTooltip())!==null&&e!==void 0?e:"";this.element.setAttribute("aria-label",t)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}class Vb extends yc{constructor(e,t,i){super(e,t,i),this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass=""}render(e){super.render(e),Ci(this.element);const t=document.createElement("a");if(t.classList.add("action-label"),t.setAttribute("role",this.getDefaultAriaRole()),this.label=t,this.element.appendChild(t),this.options.label&&this.options.keybinding){const i=document.createElement("span");i.classList.add("keybinding"),i.textContent=this.options.keybinding,this.element.appendChild(i)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===rr.ID?"presentation":this.options.isMenu?"menuitem":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let e=null;return this.action.tooltip?e=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(e=this.action.label,this.options.keybinding&&(e=w({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e??void 0}updateClass(){var e;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(e=this.label)===null||e===void 0||e.classList.remove("codicon")}updateEnabled(){var e,t;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(e=this.element)===null||e===void 0||e.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(t=this.element)===null||t===void 0||t.classList.add("disabled"))}updateAriaLabel(){var e;if(this.label){const t=(e=this.getTooltip())!==null&&e!==void 0?e:"";this.label.setAttribute("aria-label",t)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.removeAttribute("aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))}}class DFe extends yc{constructor(e,t,i,r,o,s,a){super(e,t),this.selectBox=new kFe(i,r,o,s,a),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(e){this.selectBox.select(e)}registerListeners(){this._register(this.selectBox.onDidSelect(e=>this.runAction(e.selected,e.index)))}runAction(e,t){this.actionRunner.run(this._action,this.getActionContext(e,t))}getActionContext(e,t){return e}setFocusable(e){this.selectBox.setFocusable(e)}focus(){var e;(e=this.selectBox)===null||e===void 0||e.focus()}blur(){var e;(e=this.selectBox)===null||e===void 0||e.blur()}render(e){this.selectBox.render(e)}}class TFe extends qm{constructor(e,t){super(),this._onDidChangeVisibility=this._register(new ne),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=Se(e,Te(".monaco-dropdown")),this._label=Se(this._element,Te(".dropdown-label"));let i=t.labelRenderer;i||(i=o=>(o.textContent=t.label||"",null));for(const o of[Ne.CLICK,Ne.MOUSE_DOWN,Ii.Tap])this._register(ge(this.element,o,s=>Mt.stop(s,!0)));for(const o of[Ne.MOUSE_DOWN,Ii.Tap])this._register(ge(this._label,o,s=>{m6(s)&&(s.detail>1||s.button!==0)||(this.visible?this.hide():this.show())}));this._register(ge(this._label,Ne.KEY_UP,o=>{const s=new Oi(o);(s.equals(3)||s.equals(10))&&(Mt.stop(o,!0),this.visible?this.hide():this.show())}));const r=i(this._label);r&&this._register(r),this._register(Ei.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class EFe extends TFe{constructor(e,t){super(e,t),this._options=t,this._actions=[],this.actions=t.actions||[]}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(e,t)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e,t):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class II extends yc{constructor(e,t,i,r=Object.create(null)){super(null,e,r),this.actionItem=null,this._onDidChangeVisibility=this._register(new ne),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=t,this.contextMenuProvider=i,this.options=r,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;const t=o=>{this.element=Se(o,Te("a.action-label"));let s=[];return typeof this.options.classNames=="string"?s=this.options.classNames.split(/\s+/g).filter(a=>!!a):this.options.classNames&&(s=this.options.classNames),s.find(a=>a==="icon")||s.push("codicon"),this.element.classList.add(...s),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},i=Array.isArray(this.menuActionsOrProvider),r={contextMenuProvider:this.contextMenuProvider,labelRenderer:t,menuAsChild:this.options.menuAsChild,actions:i?this.menuActionsOrProvider:void 0,actionProvider:i?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new EFe(e,r)),this._register(this.dropdownMenu.onDidChangeVisibility(o=>{var s;(s=this.element)===null||s===void 0||s.setAttribute("aria-expanded",`${o}`),this._onDidChangeVisibility.fire(o)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const o=this;this.dropdownMenu.menuOptions={...this.dropdownMenu.menuOptions,get anchorAlignment(){return o.options.anchorAlignmentProvider()}}}this.updateTooltip(),this.updateEnabled()}getTooltip(){let e=null;return this.action.tooltip?e=this.action.tooltip:this.action.label&&(e=this.action.label),e??void 0}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}show(){var e;(e=this.dropdownMenu)===null||e===void 0||e.show()}updateEnabled(){var e,t;const i=!this.action.enabled;(e=this.actionItem)===null||e===void 0||e.classList.toggle("disabled",i),(t=this.element)===null||t===void 0||t.classList.toggle("disabled",i)}}function IFe(n){return n?n.condition!==void 0:!1}var $v;(function(n){n[n.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",n[n.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})($v||($v={}));var uv;(function(n){n[n.None=0]="None",n[n.Initialized=1]="Initialized",n[n.Closed=2]="Closed"})(uv||(uv={}));class qv extends ce{constructor(e,t=Object.create(null)){super(),this.database=e,this.options=t,this._onDidChangeStorage=this._register(new Hm),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=uv.None,this.cache=new Map,this.flushDelayer=this._register(new lae(qv.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(e=>this.onDidChangeItemsExternal(e)))}onDidChangeItemsExternal(e){var t,i;this._onDidChangeStorage.pause();try{(t=e.changed)===null||t===void 0||t.forEach((r,o)=>this.acceptExternal(o,r)),(i=e.deleted)===null||i===void 0||i.forEach(r=>this.acceptExternal(r,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(e,t){if(this.state===uv.Closed)return;let i=!1;ca(t)?i=this.cache.delete(e):this.cache.get(e)!==t&&(this.cache.set(e,t),i=!0),i&&this._onDidChangeStorage.fire({key:e,external:!0})}get(e,t){const i=this.cache.get(e);return ca(i)?t:i}getBoolean(e,t){const i=this.get(e);return ca(i)?t:i==="true"}getNumber(e,t){const i=this.get(e);return ca(i)?t:parseInt(i,10)}async set(e,t,i=!1){if(this.state===uv.Closed)return;if(ca(t))return this.delete(e,i);const r=Oo(t)||Array.isArray(t)?z5e(t):String(t);if(this.cache.get(e)!==r)return this.cache.set(e,r),this.pendingInserts.set(e,r),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire({key:e,external:i}),this.doFlush()}async delete(e,t=!1){if(!(this.state===uv.Closed||!this.cache.delete(e)))return this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire({key:e,external:t}),this.doFlush()}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}async flushPending(){if(!this.hasPending)return;const e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally(()=>{var t;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(t=this.whenFlushedCallbacks.pop())===null||t===void 0||t()})}async doFlush(e){return this.options.hint===$v.STORAGE_IN_MEMORY?this.flushPending():this.flushDelayer.trigger(()=>this.flushPending(),e)}}qv.DEFAULT_FLUSH_DELAY=100;class wO{constructor(){this.onDidChangeItemsExternal=Ve.None,this.items=new Map}async updateItems(e){var t,i;(t=e.insert)===null||t===void 0||t.forEach((r,o)=>this.items.set(o,r)),(i=e.delete)===null||i===void 0||i.forEach(r=>this.items.delete(r))}}const CT="__$__targetStorageMarker",Yl=zt("storageService");var SS;(function(n){n[n.NONE=0]="NONE",n[n.SHUTDOWN=1]="SHUTDOWN"})(SS||(SS={}));function NFe(n){const e=n.get(CT);if(e)try{return JSON.parse(e)}catch{}return Object.create(null)}class fM extends ce{constructor(e={flushInterval:fM.DEFAULT_FLUSH_INTERVAL}){super(),this.options=e,this._onDidChangeValue=this._register(new Hm),this._onDidChangeTarget=this._register(new Hm),this._onWillSaveState=this._register(new ne),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(e,t,i){return Ve.filter(this._onDidChangeValue.event,r=>r.scope===e&&(t===void 0||r.key===t),i)}emitDidChangeValue(e,t){const{key:i,external:r}=t;if(i===CT){switch(e){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:e})}else this._onDidChangeValue.fire({scope:e,key:i,target:this.getKeyTargets(e)[i],external:r})}get(e,t,i){var r;return(r=this.getStorage(t))===null||r===void 0?void 0:r.get(e,i)}getBoolean(e,t,i){var r;return(r=this.getStorage(t))===null||r===void 0?void 0:r.getBoolean(e,i)}getNumber(e,t,i){var r;return(r=this.getStorage(t))===null||r===void 0?void 0:r.getNumber(e,i)}store(e,t,i,r,o=!1){if(ca(t)){this.remove(e,i,o);return}this.withPausedEmitters(()=>{var s;this.updateKeyTarget(e,i,r),(s=this.getStorage(i))===null||s===void 0||s.set(e,t,o)})}remove(e,t,i=!1){this.withPausedEmitters(()=>{var r;this.updateKeyTarget(e,t,void 0),(r=this.getStorage(t))===null||r===void 0||r.delete(e,i)})}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(e,t,i,r=!1){var o,s;const a=this.getKeyTargets(t);typeof i=="number"?a[e]!==i&&(a[e]=i,(o=this.getStorage(t))===null||o===void 0||o.set(CT,JSON.stringify(a),r)):typeof a[e]=="number"&&(delete a[e],(s=this.getStorage(t))===null||s===void 0||s.set(CT,JSON.stringify(a),r))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(e){switch(e){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(e){const t=this.getStorage(e);return t?NFe(t):Object.create(null)}}fM.DEFAULT_FLUSH_INTERVAL=60*1e3;class PFe extends fM{constructor(){super(),this.applicationStorage=this._register(new qv(new wO,{hint:$v.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new qv(new wO,{hint:$v.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new qv(new wO,{hint:$v.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(e=>this.emitDidChangeValue(1,e))),this._register(this.profileStorage.onDidChangeStorage(e=>this.emitDidChangeValue(0,e))),this._register(this.applicationStorage.onDidChangeStorage(e=>this.emitDidChangeValue(-1,e)))}getStorage(e){switch(e){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}function MFe(n,e){const t={...e};for(const i in n){const r=n[i];t[i]=r!==void 0?Ue(r):void 0}return t}const RFe={keybindingLabelBackground:Ue(sNe),keybindingLabelForeground:Ue(aNe),keybindingLabelBorder:Ue(lNe),keybindingLabelBottomBorder:Ue(cNe),keybindingLabelShadow:Ue(Vd)},AFe={buttonForeground:Ue(UC),buttonSeparator:Ue(KIe),buttonBackground:Ue($C),buttonHoverBackground:Ue(GIe),buttonSecondaryForeground:Ue(YIe),buttonSecondaryBackground:Ue(YF),buttonSecondaryHoverBackground:Ue(XIe),buttonBorder:Ue(ZIe)},OFe={progressBarBackground:Ue(JIe)},NI={inputActiveOptionBorder:Ue(A6),inputActiveOptionForeground:Ue(O6),inputActiveOptionBackground:Ue(lm)};Ue(zNe),Ue(UNe),Ue(jNe);Ue(mn),Ue(jd),Ue(Vd),Ue(Ut),Ue(sPe),Ue(aPe),Ue(lPe),Ue(OIe);const PI={inputBackground:Ue(cle),inputForeground:Ue(dle),inputBorder:Ue(ule),inputValidationInfoBorder:Ue(WIe),inputValidationInfoBackground:Ue(FIe),inputValidationInfoForeground:Ue(BIe),inputValidationWarningBorder:Ue(zIe),inputValidationWarningBackground:Ue(VIe),inputValidationWarningForeground:Ue(HIe),inputValidationErrorBorder:Ue($Ie),inputValidationErrorBackground:Ue(jIe),inputValidationErrorForeground:Ue(UIe)},FFe={listFilterWidgetBackground:Ue(ANe),listFilterWidgetOutline:Ue(ONe),listFilterWidgetNoMatchesOutline:Ue(FNe),listFilterWidgetShadow:Ue(BNe),inputBoxStyles:PI,toggleStyles:NI},nde={badgeBackground:Ue(uT),badgeForeground:Ue(QIe),badgeBorder:Ue(Ut)};Ue(JNe),Ue(QNe),Ue(VK),Ue(VK),Ue(ePe);const O_={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:Ue(xNe),listFocusForeground:Ue(LNe),listFocusOutline:Ue(kNe),listActiveSelectionBackground:Ue(rh),listActiveSelectionForeground:Ue(qd),listActiveSelectionIconForeground:Ue(YC),listFocusAndSelectionOutline:Ue(DNe),listFocusAndSelectionBackground:Ue(rh),listFocusAndSelectionForeground:Ue(qd),listInactiveSelectionBackground:Ue(TNe),listInactiveSelectionIconForeground:Ue(INe),listInactiveSelectionForeground:Ue(ENe),listInactiveFocusBackground:Ue(NNe),listInactiveFocusOutline:Ue(PNe),listHoverBackground:Ue(ple),listHoverForeground:Ue(mle),listDropOverBackground:Ue(MNe),listDropBetweenBackground:Ue(RNe),listSelectionOutline:Ue(Hi),listHoverOutline:Ue(Hi),treeIndentGuidesStroke:Ue(XC),treeInactiveIndentGuidesStroke:Ue(WNe),tableColumnsBorder:Ue(VNe),tableOddRowsBackgroundColor:Ue(HNe)};function ky(n){return MFe(n,O_)}const BFe={selectBackground:Ue(Hd),selectListBackground:Ue(qIe),selectForeground:Ue(th),decoratorRightForeground:Ue(hle),selectBorder:Ue(J0),focusBorder:Ue(_a),listFocusBackground:Ue(dm),listInactiveSelectionIconForeground:Ue(ev),listFocusForeground:Ue(cm),listFocusOutline:MIe(Hi,ue.transparent.toString()),listHoverBackground:Ue(ple),listHoverForeground:Ue(mle),listHoverOutline:Ue(Hi),selectListBorder:Ue(Ud),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropOverBackground:void 0,listDropBetweenBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0},WFe={shadowColor:Ue(Vd),borderColor:Ue($Ne),foregroundColor:Ue(qNe),backgroundColor:Ue(KNe),selectionForegroundColor:Ue(GNe),selectionBackgroundColor:Ue(ZNe),selectionBorderColor:Ue(YNe),separatorColor:Ue(XNe),scrollbarShadow:Ue(qC),scrollbarSliderBackground:Ue(KC),scrollbarSliderHoverBackground:Ue(GC),scrollbarSliderActiveBackground:Ue(ZC)};var gM=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},hs=function(n,e){return function(t,i){e(t,i,n)}};function VFe(n,e,t,i){const r=n.getActions(e),o=eh.getInstance(),s=o.keyStatus.altKey||(no||Uo)&&o.keyStatus.shiftKey;rde(r,t,s,i?a=>a===i:a=>a==="navigation")}function NV(n,e,t,i,r,o){const s=n.getActions(e);rde(s,t,!1,typeof i=="string"?l=>l===i:i,r,o)}function rde(n,e,t,i=s=>s==="navigation",r=()=>!1,o=!1){let s,a;Array.isArray(e)?(s=e,a=e):(s=e.primary,a=e.secondary);const l=new Set;for(const[c,d]of n){let u;i(c)?(u=s,u.length>0&&o&&u.push(new rr)):(u=a,u.length>0&&u.push(new rr));for(let h of d){t&&(h=h instanceof Ul&&h.alt?h.alt:h);const f=u.push(h);h instanceof yb&&l.add({group:c,action:h,index:f-1})}}for(const{group:c,action:d,index:u}of l){const h=i(c)?s:a,f=d.actions;r(d,c,h.length)&&h.splice(u,1,...f)}}let Jm=class extends Vb{constructor(e,t,i,r,o,s,a,l){super(void 0,e,{icon:!!(e.class||e.item.icon),label:!e.class&&!e.item.icon,draggable:t==null?void 0:t.draggable,keybinding:t==null?void 0:t.keybinding,hoverDelegate:t==null?void 0:t.hoverDelegate}),this._keybindingService=i,this._notificationService=r,this._contextKeyService=o,this._themeService=s,this._contextMenuService=a,this._accessibilityService=l,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new Lr),this._altKey=eh.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}async onClick(e){e.preventDefault(),e.stopPropagation();try{await this.actionRunner.run(this._commandAction,this._context)}catch(t){this._notificationService.error(t)}}render(e){if(super.render(e),e.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let t=!1;const i=()=>{var r;const o=!!(!((r=this._menuItemAction.alt)===null||r===void 0)&&r.enabled)&&(!this._accessibilityService.isMotionReduced()||t)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&t);o!==this._wantsAltCommand&&(this._wantsAltCommand=o,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(i)),this._register(ge(e,"mouseleave",r=>{t=!1,i()})),this._register(ge(e,"mouseenter",r=>{t=!0,i()})),i()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var e;const t=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),i=t&&t.getLabel(),r=this._commandAction.tooltip||this._commandAction.label;let o=i?w("titleAndKb","{0} ({1})",r,i):r;if(!this._wantsAltCommand&&(!((e=this._menuItemAction.alt)===null||e===void 0)&&e.enabled)){const s=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,a=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),l=a&&a.getLabel(),c=l?w("titleAndKb","{0} ({1})",s,l):s;o=w("titleAndKbAndAlt",`{0}
[{1}] {2}`,o,EV.modifierLabels[ma].altKey,c)}return o}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){this._itemClassDispose.value=void 0;const{element:t,label:i}=this;if(!t||!i)return;const r=this._commandAction.checked&&IFe(e.toggled)&&e.toggled.icon?e.toggled.icon:e.icon;if(r)if(lt.isThemeIcon(r)){const o=lt.asClassNameArray(r);i.classList.add(...o),this._itemClassDispose.value=at(()=>{i.classList.remove(...o)})}else i.style.backgroundImage=Ib(this._themeService.getColorTheme().type)?Og(r.dark):Og(r.light),i.classList.add("icon"),this._itemClassDispose.value=Wl(at(()=>{i.style.backgroundImage="",i.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};Jm=gM([hs(2,xi),hs(3,Rn),hs(4,_t),hs(5,mr),hs(6,Pa),hs(7,Gl)],Jm);let Q3=class extends II{constructor(e,t,i,r,o){var s,a,l;const c={...t,menuAsChild:(s=t==null?void 0:t.menuAsChild)!==null&&s!==void 0?s:!1,classNames:(a=t==null?void 0:t.classNames)!==null&&a!==void 0?a:lt.isThemeIcon(e.item.icon)?lt.asClassName(e.item.icon):void 0,keybindingProvider:(l=t==null?void 0:t.keybindingProvider)!==null&&l!==void 0?l:d=>i.lookupKeybinding(d.id)};super(e,{getActions:()=>e.actions},r,c),this._keybindingService=i,this._contextMenuService=r,this._themeService=o}render(e){super.render(e),Ci(this.element),e.classList.add("menu-entry");const t=this._action,{icon:i}=t.item;if(i&&!lt.isThemeIcon(i)){this.element.classList.add("icon");const r=()=>{this.element&&(this.element.style.backgroundImage=Ib(this._themeService.getColorTheme().type)?Og(i.dark):Og(i.light))};r(),this._register(this._themeService.onDidColorThemeChange(()=>{r()}))}}};Q3=gM([hs(2,xi),hs(3,Pa),hs(4,mr)],Q3);let J3=class extends yc{constructor(e,t,i,r,o,s,a,l){var c,d,u;super(null,e),this._keybindingService=i,this._notificationService=r,this._contextMenuService=o,this._menuService=s,this._instaService=a,this._storageService=l,this._container=null,this._options=t,this._storageKey=`${e.item.submenu.id}_lastActionId`;let h;const f=t!=null&&t.persistLastActionId?l.get(this._storageKey,1):void 0;f&&(h=e.actions.find(_=>f===_.id)),h||(h=e.actions[0]),this._defaultAction=this._instaService.createInstance(Jm,h,{keybinding:this._getDefaultActionKeybindingLabel(h)});const g={keybindingProvider:_=>this._keybindingService.lookupKeybinding(_.id),...t,menuAsChild:(c=t==null?void 0:t.menuAsChild)!==null&&c!==void 0?c:!0,classNames:(d=t==null?void 0:t.classNames)!==null&&d!==void 0?d:["codicon","codicon-chevron-down"],actionRunner:(u=t==null?void 0:t.actionRunner)!==null&&u!==void 0?u:new qm};this._dropdown=new II(e,e.actions,this._contextMenuService,g),this._register(this._dropdown.actionRunner.onDidRun(_=>{_.action instanceof Ul&&this.update(_.action)}))}update(e){var t;!((t=this._options)===null||t===void 0)&&t.persistLastActionId&&this._storageService.store(this._storageKey,e.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(Jm,e,{keybinding:this._getDefaultActionKeybindingLabel(e)}),this._defaultAction.actionRunner=new class extends qm{async runAction(i,r){await i.run(void 0)}},this._container&&this._defaultAction.render(v6(this._container,Te(".action-container")))}_getDefaultActionKeybindingLabel(e){var t;let i;if(!((t=this._options)===null||t===void 0)&&t.renderKeybindingWithDefaultActionLabel){const r=this._keybindingService.lookupKeybinding(e.id);r&&(i=`(${r.getLabel()})`)}return i}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const t=Te(".action-container");this._defaultAction.render(Se(this._container,t)),this._register(ge(t,Ne.KEY_DOWN,r=>{const o=new Oi(r);o.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),o.stopPropagation())}));const i=Te(".dropdown-action-container");this._dropdown.render(Se(this._container,i)),this._register(ge(i,Ne.KEY_DOWN,r=>{var o;const s=new Oi(r);s.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(o=this._defaultAction.element)===null||o===void 0||o.focus(),s.stopPropagation())}))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};J3=gM([hs(2,xi),hs(3,Rn),hs(4,Pa),hs(5,ed),hs(6,dt),hs(7,Yl)],J3);let e9=class extends DFe{constructor(e,t){super(null,e,e.actions.map(i=>({text:i.id===rr.ID?"":i.label,isDisabled:!i.enabled})),0,t,BFe,{ariaLabel:e.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,e.actions.findIndex(i=>i.checked)))}render(e){super.render(e),e.style.borderColor=Ue(J0)}runAction(e,t){const i=this.action.actions[t];i&&this.actionRunner.run(i)}};e9=gM([hs(1,bu)],e9);function HFe(n,e,t){return e instanceof Ul?n.createInstance(Jm,e,t):e instanceof j1?e.item.isSelection?n.createInstance(e9,e):e.item.rememberDefaultAction?n.createInstance(J3,e,{...t,persistLastActionId:!0}):n.createInstance(Q3,e,t):void 0}class sl extends ce{constructor(e,t={}){var i,r,o,s,a,l;super(),this._actionRunnerDisposables=this._register(new xe),this.viewItemDisposables=this._register(new KW),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new ne),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new ne({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new ne),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new ne),this.onWillRun=this._onWillRun.event,this.options=t,this._context=(i=t.context)!==null&&i!==void 0?i:null,this._orientation=(r=this.options.orientation)!==null&&r!==void 0?r:0,this._triggerKeys={keyDown:(s=(o=this.options.triggerKeys)===null||o===void 0?void 0:o.keyDown)!==null&&s!==void 0?s:!1,keys:(l=(a=this.options.triggerKeys)===null||a===void 0?void 0:a.keys)!==null&&l!==void 0?l:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new qm,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(u=>this._onDidRun.fire(u))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(u=>this._onWillRun.fire(u))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",t.animated!==!1&&this.domNode.classList.add("animated");let c,d;switch(this._orientation){case 0:c=[15],d=[17];break;case 1:c=[16],d=[18],this.domNode.className+=" vertical";break}this._register(ge(this.domNode,Ne.KEY_DOWN,u=>{const h=new Oi(u);let f=!0;const g=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;c&&(h.equals(c[0])||h.equals(c[1]))?f=this.focusPrevious():d&&(h.equals(d[0])||h.equals(d[1]))?f=this.focusNext():h.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():h.equals(14)?f=this.focusFirst():h.equals(13)?f=this.focusLast():h.equals(2)&&g instanceof yc&&g.trapsArrowNavigation?f=this.focusNext():this.isTriggerKeyEvent(h)?this._triggerKeys.keyDown?this.doTrigger(h):this.triggerKeyDown=!0:f=!1,f&&(h.preventDefault(),h.stopPropagation())})),this._register(ge(this.domNode,Ne.KEY_UP,u=>{const h=new Oi(u);this.isTriggerKeyEvent(h)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(h)),h.preventDefault(),h.stopPropagation()):(h.equals(2)||h.equals(1026)||h.equals(16)||h.equals(18)||h.equals(15)||h.equals(17))&&this.updateFocusedItem()})),this.focusTracker=this._register($c(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(qr()===this.domNode||!Ar(qr(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}refreshRole(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(e){if(this.focusable=e,this.focusable){const t=this.viewItems.find(i=>i instanceof yc&&i.isEnabled());t instanceof yc&&t.setFocusable(!0)}else this.viewItems.forEach(t=>{t instanceof yc&&t.setFocusable(!1)})}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach(i=>{t=t||e.equals(i)}),t}updateFocusedItem(){var e,t;for(let i=0;i<this.actionsList.children.length;i++){const r=this.actionsList.children[i];if(Ar(qr(),r)){this.focusedItem=i,(t=(e=this.viewItems[this.focusedItem])===null||e===void 0?void 0:e.showHover)===null||t===void 0||t.call(e);break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach(t=>t.setActionContext(e))}get actionRunner(){return this._actionRunner}set actionRunner(e){this._actionRunner=e,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(t=>this._onDidRun.fire(t))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(t=>this._onWillRun.fire(t))),this.viewItems.forEach(t=>t.actionRunner=e)}getContainer(){return this.domNode}getAction(e){var t;if(typeof e=="number")return(t=this.viewItems[e])===null||t===void 0?void 0:t.action;if(e instanceof HTMLElement){for(;e.parentElement!==this.actionsList;){if(!e.parentElement)return;e=e.parentElement}for(let i=0;i<this.actionsList.childNodes.length;i++)if(this.actionsList.childNodes[i]===e)return this.viewItems[i].action}}push(e,t={}){const i=Array.isArray(e)?e:[e];let r=Ig(t.index)?t.index:null;i.forEach(o=>{const s=document.createElement("li");s.className="action-item",s.setAttribute("role","presentation");let a;const l={hoverDelegate:this.options.hoverDelegate,...t};this.options.actionViewItemProvider&&(a=this.options.actionViewItemProvider(o,l)),a||(a=new Vb(this.context,o,l)),this.options.allowContextMenu||this.viewItemDisposables.set(a,ge(s,Ne.CONTEXT_MENU,c=>{Mt.stop(c,!0)})),a.actionRunner=this._actionRunner,a.setActionContext(this.context),a.render(s),this.focusable&&a instanceof yc&&this.viewItems.length===0&&a.setFocusable(!0),r===null||r<0||r>=this.actionsList.children.length?(this.actionsList.appendChild(s),this.viewItems.push(a)):(this.actionsList.insertBefore(s,this.actionsList.children[r]),this.viewItems.splice(r,0,a),r++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=vi(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),$r(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(e){let t=!1,i;if(e===void 0?t=!0:typeof e=="number"?i=e:typeof e=="boolean"&&(t=e),t&&typeof this.focusedItem>"u"){const r=this.viewItems.findIndex(o=>o.isEnabled());this.focusedItem=r===-1?void 0:r,this.updateFocus(void 0,void 0,!0)}else i!==void 0&&(this.focusedItem=i),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(e){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let i;do{if(!e&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=t,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===rr.ID));return this.updateFocus(),!0}focusPrevious(e){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!e&&this.options.preventLoopNavigation)return this.focusedItem=t,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===rr.ID));return this.updateFocus(!0),!0}updateFocus(e,t,i=!1){var r,o;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((r=this.viewItems[this.previouslyFocusedItem])===null||r===void 0||r.blur());const s=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(s){let a=!0;A1(s.focus)||(a=!1),this.options.focusOnlyEnabledItems&&A1(s.isEnabled)&&!s.isEnabled()&&(a=!1),s.action.id===rr.ID&&(a=!1),a?(i||this.previouslyFocusedItem!==this.focusedItem)&&(s.focus(e),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem=void 0),a&&((o=s.showHover)===null||o===void 0||o.call(s))}}doTrigger(e){if(typeof this.focusedItem>"u")return;const t=this.viewItems[this.focusedItem];if(t instanceof yc){const i=t._context===null||t._context===void 0?e:t._context;this.run(t._action,i)}}async run(e,t){await this._actionRunner.run(e,t)}dispose(){this._context=void 0,this.viewItems=vi(this.viewItems),this.getContainer().remove(),super.dispose()}}const t9=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,SO=/(&amp;)?(&amp;)([^\s&])/g;var MI;(function(n){n[n.Right=0]="Right",n[n.Left=1]="Left"})(MI||(MI={}));class Kv extends sl{constructor(e,t,i,r){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");const o=document.createElement("div");o.classList.add("monaco-menu"),o.setAttribute("role","presentation"),super(o,{orientation:1,actionViewItemProvider:c=>this.doGetActionViewItem(c,i,s),context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...qt||Uo?[10]:[]],keyDown:!0}}),this.menuStyles=r,this.menuElement=o,this.actionsList.tabIndex=0,this.initializeOrUpdateStyleSheet(e,r),this._register(Ei.addTarget(o)),this._register(ge(o,Ne.KEY_DOWN,c=>{new Oi(c).equals(2)&&c.preventDefault()})),i.enableMnemonics&&this._register(ge(o,Ne.KEY_DOWN,c=>{const d=c.key.toLocaleLowerCase();if(this.mnemonics.has(d)){Mt.stop(c,!0);const u=this.mnemonics.get(d);if(u.length===1&&(u[0]instanceof IZ&&u[0].container&&this.focusItemByElement(u[0].container),u[0].onClick(c)),u.length>1){const h=u.shift();h&&h.container&&(this.focusItemByElement(h.container),u.push(h)),this.mnemonics.set(d,u)}}})),Uo&&this._register(ge(o,Ne.KEY_DOWN,c=>{const d=new Oi(c);d.equals(14)||d.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),Mt.stop(c,!0)):(d.equals(13)||d.equals(12))&&(this.focusedItem=0,this.focusPrevious(),Mt.stop(c,!0))})),this._register(ge(this.domNode,Ne.MOUSE_OUT,c=>{const d=c.relatedTarget;Ar(d,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),c.stopPropagation())})),this._register(ge(this.actionsList,Ne.MOUSE_OVER,c=>{let d=c.target;if(!(!d||!Ar(d,this.actionsList)||d===this.actionsList)){for(;d.parentElement!==this.actionsList&&d.parentElement!==null;)d=d.parentElement;if(d.classList.contains("action-item")){const u=this.focusedItem;this.setFocusedItem(d),u!==this.focusedItem&&this.updateFocus()}}})),this._register(Ei.addTarget(this.actionsList)),this._register(ge(this.actionsList,Ii.Tap,c=>{let d=c.initialTarget;if(!(!d||!Ar(d,this.actionsList)||d===this.actionsList)){for(;d.parentElement!==this.actionsList&&d.parentElement!==null;)d=d.parentElement;if(d.classList.contains("action-item")){const u=this.focusedItem;this.setFocusedItem(d),u!==this.focusedItem&&this.updateFocus()}}}));const s={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new jx(o,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const a=this.scrollableElement.getDomNode();a.style.position="",this.styleScrollElement(a,r),this._register(ge(o,Ii.Change,c=>{Mt.stop(c,!0);const d=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:d-c.translationY})})),this._register(ge(a,Ne.MOUSE_UP,c=>{c.preventDefault()}));const l=ht(e);o.style.maxHeight=`${Math.max(10,l.innerHeight-e.getBoundingClientRect().top-35)}px`,t=t.filter((c,d)=>{var u;return!((u=i.submenuIds)===null||u===void 0)&&u.has(c.id)?(console.warn(`Found submenu cycle: ${c.id}`),!1):!(c instanceof rr&&(d===t.length-1||d===0||t[d-1]instanceof rr))}),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(c=>!(c instanceof NZ)).forEach((c,d,u)=>{c.updatePositionInSet(d+1,u.length)})}initializeOrUpdateStyleSheet(e,t){this.styleSheet||(zE(e)?this.styleSheet=La(e):(Kv.globalStyleSheet||(Kv.globalStyleSheet=La()),this.styleSheet=Kv.globalStyleSheet)),this.styleSheet.textContent=jFe(t,zE(e))}styleScrollElement(e,t){var i,r;const o=(i=t.foregroundColor)!==null&&i!==void 0?i:"",s=(r=t.backgroundColor)!==null&&r!==void 0?r:"",a=t.borderColor?`1px solid ${t.borderColor}`:"",l="5px",c=t.shadowColor?`0 2px 8px ${t.shadowColor}`:"";e.style.outline=a,e.style.borderRadius=l,e.style.color=o,e.style.backgroundColor=s,e.style.boxShadow=c}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++){const i=this.actionsList.children[t];if(e===i){this.focusedItem=t;break}}}updateFocus(e){super.updateFocus(e,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,i){if(e instanceof rr)return new NZ(t.context,e,{icon:!0},this.menuStyles);if(e instanceof yb){const r=new IZ(e,e.actions,i,{...t,submenuIds:new Set([...t.submenuIds||[],e.id])},this.menuStyles);if(t.enableMnemonics){const o=r.getMnemonic();if(o&&r.isEnabled()){let s=[];this.mnemonics.has(o)&&(s=this.mnemonics.get(o)),s.push(r),this.mnemonics.set(o,s)}}return r}else{const r={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){const s=t.getKeyBinding(e);if(s){const a=s.getLabel();a&&(r.keybinding=a)}}const o=new ode(t.context,e,r,this.menuStyles);if(t.enableMnemonics){const s=o.getMnemonic();if(s&&o.isEnabled()){let a=[];this.mnemonics.has(s)&&(a=this.mnemonics.get(s)),a.push(o),this.mnemonics.set(s,a)}}return o}}}class ode extends yc{constructor(e,t,i,r){if(i.isMenu=!0,super(t,t,i),this.menuStyle=r,this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass="",this.options.label&&i.enableMnemonics){const o=this.action.label;if(o){const s=t9.exec(o);s&&(this.mnemonic=(s[1]?s[1]:s[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new ki(()=>{this.element&&(this._register(ge(this.element,Ne.MOUSE_UP,o=>{if(Mt.stop(o,!0),nl){if(new Ml(ht(this.element),o).rightButton)return;this.onClick(o)}else setTimeout(()=>{this.onClick(o)},0)})),this._register(ge(this.element,Ne.CONTEXT_MENU,o=>{Mt.stop(o,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),this.element&&(this.container=e,this.item=Se(this.element,Te("a.action-menu-item")),this._action.id===rr.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=Se(this.item,Te("span.menu-item-check"+lt.asCSSSelector(Ae.menuSelection))),this.check.setAttribute("role","none"),this.label=Se(this.item,Te("span.action-label")),this.options.label&&this.options.keybinding&&(Se(this.item,Te("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var e;super.focus(),(e=this.item)===null||e===void 0||e.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",`${e}`),this.item.setAttribute("aria-setsize",`${t}`))}updateLabel(){var e;if(this.label&&this.options.label){$r(this.label);let t=xV(this.action.label);if(t){const i=zFe(t);this.options.enableMnemonics||(t=i),this.label.setAttribute("aria-label",i.replace(/&&/g,"&"));const r=t9.exec(t);if(r){t=FE(t),SO.lastIndex=0;let o=SO.exec(t);for(;o&&o[1];)o=SO.exec(t);const s=a=>a.replace(/&amp;&amp;/g,"&amp;");o?this.label.append(Mx(s(t.substr(0,o.index))," "),Te("u",{"aria-hidden":"true"},o[3]),$se(s(t.substr(o.index+o[0].length))," ")):this.label.innerText=s(t).trim(),(e=this.item)===null||e===void 0||e.setAttribute("aria-keyshortcuts",(r[1]?r[1]:r[3]).toLocaleLowerCase())}else this.label.innerText=t.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const e=this.action.checked;this.item.classList.toggle("checked",!!e),e!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",e?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const e=this.element&&this.element.classList.contains("focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,r=e&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",o=e&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=t??"",this.item.style.backgroundColor=i??"",this.item.style.outline=r,this.item.style.outlineOffset=o),this.check&&(this.check.style.color=t??"")}}class IZ extends ode{constructor(e,t,i,r,o){super(e,e,r,o),this.submenuActions=t,this.parentData=i,this.submenuOptions=r,this.mysubmenu=null,this.submenuDisposables=this._register(new xe),this.mouseOver=!1,this.expandDirection=r&&r.expandDirection!==void 0?r.expandDirection:MI.Right,this.showScheduler=new ki(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new ki(()=>{this.element&&!Ar(qr(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(e){super.render(e),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=Se(this.item,Te("span.submenu-indicator"+lt.asCSSSelector(Ae.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(ge(this.element,Ne.KEY_UP,t=>{const i=new Oi(t);(i.equals(17)||i.equals(3))&&(Mt.stop(t,!0),this.createSubmenu(!0))})),this._register(ge(this.element,Ne.KEY_DOWN,t=>{const i=new Oi(t);qr()===this.item&&(i.equals(17)||i.equals(3))&&Mt.stop(t,!0)})),this._register(ge(this.element,Ne.MOUSE_OVER,t=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register(ge(this.element,Ne.MOUSE_LEAVE,t=>{this.mouseOver=!1})),this._register(ge(this.element,Ne.FOCUS_OUT,t=>{this.element&&!Ar(qr(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(e){Mt.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,i,r){const o={top:0,left:0};return o.left=cv(e.width,t.width,{position:r===MI.Right?0:1,offset:i.left,size:i.width}),o.left>=i.left&&o.left<i.left+i.width&&(i.left+10+t.width<=e.width&&(o.left=i.left+10),i.top+=10,i.height=0),o.top=cv(e.height,t.height,{position:0,offset:i.top,size:0}),o.top+t.height===i.top&&o.top+i.height+t.height<=e.height&&(o.top+=i.height),o}createSubmenu(e=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=Se(this.element,Te("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const t=ht(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),i=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new Kv(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new vP],this.submenuOptions,this.menuStyle);const r=this.element.getBoundingClientRect(),o={top:r.top-i,left:r.left,height:r.height+2*i,width:r.width},s=this.submenuContainer.getBoundingClientRect(),a=ht(this.element),{top:l,left:c}=this.calculateSubmenuMenuLayout(new oi(a.innerWidth,a.innerHeight),oi.lift(s),o,this.expandDirection);this.submenuContainer.style.left=`${c-s.left}px`,this.submenuContainer.style.top=`${l-s.top}px`,this.submenuDisposables.add(ge(this.submenuContainer,Ne.KEY_UP,d=>{new Oi(d).equals(15)&&(Mt.stop(d,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(ge(this.submenuContainer,Ne.KEY_DOWN,d=>{new Oi(d).equals(15)&&Mt.stop(d,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){var t;this.item&&((t=this.item)===null||t===void 0||t.setAttribute("aria-expanded",e))}applyStyle(){super.applyStyle();const t=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=t??"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class NZ extends Vb{constructor(e,t,i,r){super(e,t,i),this.menuStyles=r}render(e){super.render(e),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function zFe(n){const e=t9,t=e.exec(n);if(!t)return n;const i=!t[1];return n.replace(e,i?"$2$3":"").trim()}function PZ(n){const e=Hse()[n.id];return`.codicon-${n.id}:before { content: '\\${e.toString(16)}'; }`}function jFe(n,e){let t=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${PZ(Ae.menuSelection)}
${PZ(Ae.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 =  */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(e){t+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const i=n.scrollbarShadow;i&&(t+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${i} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${i} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${i} 6px 6px 6px -6px inset;
				}
			`);const r=n.scrollbarSliderBackground;r&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${r};
				}
			`);const o=n.scrollbarSliderHoverBackground;o&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${o};
				}
			`);const s=n.scrollbarSliderActiveBackground;s&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${s};
				}
			`)}return t}class UFe{constructor(e,t,i,r){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=r,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;this.focusToReturn=qr();let i;const r=e.domForShadowRoot instanceof HTMLElement?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:o=>{var s;this.lastContainer=o;const a=e.getMenuClassName?e.getMenuClassName():"";a&&(o.className+=" "+a),this.options.blockMouse&&(this.block=o.appendChild(Te(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(s=this.blockDisposable)===null||s===void 0||s.dispose(),this.blockDisposable=ge(this.block,Ne.MOUSE_DOWN,u=>u.stopPropagation()));const l=new xe,c=e.actionRunner||new qm;c.onWillRun(u=>this.onActionRun(u,!e.skipTelemetry),this,l),c.onDidRun(this.onDidActionRun,this,l),i=new Kv(o,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:c,getKeyBinding:e.getKeyBinding?e.getKeyBinding:u=>this.keybindingService.lookupKeybinding(u.id)},WFe),i.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,l),i.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,l);const d=ht(o);return l.add(ge(d,Ne.BLUR,()=>this.contextViewService.hideContextView(!0))),l.add(ge(d,Ne.MOUSE_DOWN,u=>{if(u.defaultPrevented)return;const h=new Ml(d,u);let f=h.target;if(!h.rightButton){for(;f;){if(f===o)return;f=f.parentElement}this.contextViewService.hideContextView(!0)}})),Wl(l,i)},focus:()=>{i==null||i.focus(!!e.autoSelectFirstItem)},onHide:o=>{var s,a,l;(s=e.onHide)===null||s===void 0||s.call(e,!!o),this.block&&(this.block.remove(),this.block=null),(a=this.blockDisposable)===null||a===void 0||a.dispose(),this.blockDisposable=null,this.lastContainer&&(qr()===this.lastContainer||Ar(qr(),this.lastContainer))&&((l=this.focusToReturn)===null||l===void 0||l.focus()),this.lastContainer=null}},r,!!r)}onActionRun(e,t){t&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(e){e.error&&!Jc(e.error)&&this.notificationService.error(e.error)}}var $Fe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},h0=function(n,e){return function(t,i){e(t,i,n)}};let i9=class extends ce{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new UFe(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(e,t,i,r,o,s){super(),this.telemetryService=e,this.notificationService=t,this.contextViewService=i,this.keybindingService=r,this.menuService=o,this.contextKeyService=s,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new ne),this.onDidShowContextMenu=this._onDidShowContextMenu.event,this._onDidHideContextMenu=this._store.add(new ne)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){e=n9.transform(e,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu({...e,onHide:t=>{var i;(i=e.onHide)===null||i===void 0||i.call(e,t),this._onDidHideContextMenu.fire()}}),eh.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};i9=$Fe([h0(0,qs),h0(1,Rn),h0(2,bu),h0(3,xi),h0(4,ed),h0(5,_t)],i9);var n9;(function(n){function e(i){return i&&i.menuId instanceof H}function t(i,r,o){if(!e(i))return i;const{menuId:s,menuActionOptions:a,contextKeyService:l}=i;return{...i,getActions:()=>{const c=[];if(s){const d=r.createMenu(s,l??o);VFe(d,a,c),d.dispose()}return i.getActions?rr.join(i.getActions(),c):c}}}n.transform=t})(n9||(n9={}));var RI;(function(n){n[n.API=0]="API",n[n.USER=1]="USER"})(RI||(RI={}));var PV=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},AI=function(n,e){return function(t,i){e(t,i,n)}};let r9=class{constructor(e){this._commandService=e}async open(e,t){if(!h6(e,Tt.command))return!1;if(!(t!=null&&t.allowCommands)||(typeof e=="string"&&(e=rt.parse(e)),Array.isArray(t.allowCommands)&&!t.allowCommands.includes(e.path)))return!0;let i=[];try{i=O3(decodeURIComponent(e.query))}catch{try{i=O3(e.query)}catch{}}return Array.isArray(i)||(i=[i]),await this._commandService.executeCommand(e.path,...i),!0}};r9=PV([AI(0,fn)],r9);let o9=class{constructor(e){this._editorService=e}async open(e,t){typeof e=="string"&&(e=rt.parse(e));const{selection:i,uri:r}=s5e(e);return e=r,e.scheme===Tt.file&&(e=wRe(e)),await this._editorService.openCodeEditor({resource:e,options:{selection:i,source:t!=null&&t.fromUserGesture?RI.USER:RI.API,...t==null?void 0:t.editorOptions}},this._editorService.getFocusedCodeEditor(),t==null?void 0:t.openToSide),!0}};o9=PV([AI(0,ai)],o9);let s9=class{constructor(e,t){this._openers=new Fo,this._validators=new Fo,this._resolvers=new Fo,this._resolvedUriTargets=new Ln(i=>i.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new Fo,this._defaultExternalOpener={openExternal:async i=>(Wq(i,Tt.http,Tt.https)?Tae(i):wi.location.href=i,!0)},this._openers.push({open:async(i,r)=>r!=null&&r.openExternal||Wq(i,Tt.mailto,Tt.http,Tt.https,Tt.vsls)?(await this._doOpenExternal(i,r),!0):!1}),this._openers.push(new r9(t)),this._openers.push(new o9(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}async open(e,t){var i;const r=typeof e=="string"?rt.parse(e):e,o=(i=this._resolvedUriTargets.get(r))!==null&&i!==void 0?i:e;for(const s of this._validators)if(!await s.shouldOpen(o,t))return!1;for(const s of this._openers)if(await s.open(e,t))return!0;return!1}async resolveExternalUri(e,t){for(const i of this._resolvers)try{const r=await i.resolveExternalUri(e,t);if(r)return this._resolvedUriTargets.has(r.resolved)||this._resolvedUriTargets.set(r.resolved,e),r}catch{}throw new Error("Could not resolve external URI: "+e.toString())}async _doOpenExternal(e,t){const i=typeof e=="string"?rt.parse(e):e;let r;try{r=(await this.resolveExternalUri(i,t)).resolved}catch{r=i}let o;if(typeof e=="string"&&i.toString()===r.toString()?o=e:o=encodeURI(r.toString(!0)),t!=null&&t.allowContributedOpeners){const s=typeof(t==null?void 0:t.allowContributedOpeners)=="string"?t==null?void 0:t.allowContributedOpeners:void 0;for(const a of this._externalOpeners)if(await a.openExternal(o,{sourceUri:i,preferredOpenerId:s},Ht.None))return!0}return this._defaultExternalOpener.openExternal(o,{sourceUri:i},Ht.None)}dispose(){this._validators.clear()}};s9=PV([AI(0,ai),AI(1,fn)],s9);const Xl=zt("editorWorkerService");var hn;(function(n){n[n.Hint=1]="Hint",n[n.Info=2]="Info",n[n.Warning=4]="Warning",n[n.Error=8]="Error"})(hn||(hn={}));(function(n){function e(s,a){return a-s}n.compare=e;const t=Object.create(null);t[n.Error]=w("sev.error","Error"),t[n.Warning]=w("sev.warning","Warning"),t[n.Info]=w("sev.info","Info");function i(s){return t[s]||""}n.toString=i;function r(s){switch(s){case Sn.Error:return n.Error;case Sn.Warning:return n.Warning;case Sn.Info:return n.Info;case Sn.Ignore:return n.Hint}}n.fromSeverity=r;function o(s){switch(s){case n.Error:return Sn.Error;case n.Warning:return Sn.Warning;case n.Info:return Sn.Info;case n.Hint:return Sn.Ignore}}n.toSeverity=o})(hn||(hn={}));var OI;(function(n){const e="";function t(r){return i(r,!0)}n.makeKey=t;function i(r,o){const s=[e];return r.source?s.push(r.source.replace("","\\")):s.push(e),r.code?typeof r.code=="string"?s.push(r.code.replace("","\\")):s.push(r.code.value.replace("","\\")):s.push(e),r.severity!==void 0&&r.severity!==null?s.push(hn.toString(r.severity)):s.push(e),r.message&&o?s.push(r.message.replace("","\\")):s.push(e),r.startLineNumber!==void 0&&r.startLineNumber!==null?s.push(r.startLineNumber.toString()):s.push(e),r.startColumn!==void 0&&r.startColumn!==null?s.push(r.startColumn.toString()):s.push(e),r.endLineNumber!==void 0&&r.endLineNumber!==null?s.push(r.endLineNumber.toString()):s.push(e),r.endColumn!==void 0&&r.endColumn!==null?s.push(r.endColumn.toString()):s.push(e),s.push(e),s.join("")}n.makeKeyOptionalMessage=i})(OI||(OI={}));const yu=zt("markerService");function qFe(n,e){const t=[],i=[];for(const r of n)e.has(r)||t.push(r);for(const r of e)n.has(r)||i.push(r);return{removed:t,added:i}}function KFe(n,e){const t=new Set;for(const i of e)n.has(i)&&t.add(i);return t}var GFe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},MZ=function(n,e){return function(t,i){e(t,i,n)}};let a9=class extends ce{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new ne),this._markerDecorations=new Ln,e.getModels().forEach(i=>this._onModelAdded(i)),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(e=>e.dispose()),this._markerDecorations.clear()}getMarker(e,t){const i=this._markerDecorations.get(e);return i&&i.getMarker(t)||null}_handleMarkerChange(e){e.forEach(t=>{const i=this._markerDecorations.get(t);i&&this._updateDecorations(i)})}_onModelAdded(e){const t=new ZFe(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){var t;const i=this._markerDecorations.get(e.uri);i&&(i.dispose(),this._markerDecorations.delete(e.uri)),(e.uri.scheme===Tt.inMemory||e.uri.scheme===Tt.internal||e.uri.scheme===Tt.vscode)&&((t=this._markerService)===null||t===void 0||t.read({resource:e.uri}).map(r=>r.owner).forEach(r=>this._markerService.remove(r,[e.uri])))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500});e.update(t)&&this._onDidChangeMarker.fire(e.model)}};a9=GFe([MZ(0,Ji),MZ(1,yu)],a9);class ZFe extends ce{constructor(e){super(),this.model=e,this._map=new kEe,this._register(at(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(e){const{added:t,removed:i}=qFe(new Set(this._map.keys()),new Set(e));if(t.length===0&&i.length===0)return!1;const r=i.map(a=>this._map.get(a)),o=t.map(a=>({range:this._createDecorationRange(this.model,a),options:this._createDecorationOption(a)})),s=this.model.deltaDecorations(r,o);for(const a of i)this._map.delete(a);for(let a=0;a<s.length;a++)this._map.set(t[a],s[a]);return!0}getMarker(e){return this._map.getKey(e.id)}_createDecorationRange(e,t){let i=B.lift(t);if(t.severity===hn.Hint&&!this._hasMarkerTag(t,1)&&!this._hasMarkerTag(t,2)&&(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),i=e.validateRange(i),i.isEmpty()){const r=e.getLineLastNonWhitespaceColumn(i.startLineNumber)||e.getLineMaxColumn(i.startLineNumber);if(r===1||i.endColumn>=r)return i;const o=e.getWordAtPosition(i.getStartPosition());o&&(i=new B(i.startLineNumber,o.startColumn,i.endLineNumber,o.endColumn))}else if(t.endColumn===Number.MAX_VALUE&&t.startColumn===1&&i.startLineNumber===i.endLineNumber){const r=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);r<i.endColumn&&(i=new B(i.startLineNumber,r,i.endLineNumber,i.endColumn),t.startColumn=r)}return i}_createDecorationOption(e){let t,i,r,o,s;switch(e.severity){case hn.Hint:this._hasMarkerTag(e,2)?t=void 0:this._hasMarkerTag(e,1)?t="squiggly-unnecessary":t="squiggly-hint",r=0;break;case hn.Info:t="squiggly-info",i=cn(_Me),r=10,s={color:cn(tPe),position:Bs.Inline};break;case hn.Warning:t="squiggly-warning",i=cn(mMe),r=20,s={color:cn(iPe),position:Bs.Inline};break;case hn.Error:default:t="squiggly-error",i=cn(pMe),r=30,s={color:cn(nPe),position:Bs.Inline};break}return e.tags&&(e.tags.indexOf(1)!==-1&&(o="squiggly-inline-unnecessary"),e.tags.indexOf(2)!==-1&&(o="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:i,position:ka.Right},minimap:s,zIndex:r,inlineClassName:o}}_hasMarkerTag(e,t){return e.tags?e.tags.indexOf(t)>=0:!1}}var YFe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},CC=function(n,e){return function(t,i){e(t,i,n)}},k0;function Rp(n){return n.toString()}class XFe{constructor(e,t,i){this.model=e,this._modelEventListeners=new xe,this.model=e,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(r=>i(e,r)))}dispose(){this._modelEventListeners.dispose()}}const QFe=Uo||qt?1:2;class JFe{constructor(e,t,i,r,o,s,a,l){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=r,this.heapSize=o,this.sha1=s,this.versionId=a,this.alternativeVersionId=l}}let FI=k0=class extends ce{constructor(e,t,i,r,o){super(),this._configurationService=e,this._resourcePropertiesService=t,this._undoRedoService=i,this._languageService=r,this._languageConfigurationService=o,this._onModelAdded=this._register(new ne),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new ne),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new ne),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(s=>this._updateModelOptions(s))),this._updateModelOptions(void 0)}static _readModelOptions(e,t){var i;let r=Jr.tabSize;if(e.editor&&typeof e.editor.tabSize<"u"){const f=parseInt(e.editor.tabSize,10);isNaN(f)||(r=f),r<1&&(r=1)}let o="tabSize";if(e.editor&&typeof e.editor.indentSize<"u"&&e.editor.indentSize!=="tabSize"){const f=parseInt(e.editor.indentSize,10);isNaN(f)||(o=Math.max(f,1))}let s=Jr.insertSpaces;e.editor&&typeof e.editor.insertSpaces<"u"&&(s=e.editor.insertSpaces==="false"?!1:!!e.editor.insertSpaces);let a=QFe;const l=e.eol;l===`\r
`?a=2:l===`
`&&(a=1);let c=Jr.trimAutoWhitespace;e.editor&&typeof e.editor.trimAutoWhitespace<"u"&&(c=e.editor.trimAutoWhitespace==="false"?!1:!!e.editor.trimAutoWhitespace);let d=Jr.detectIndentation;e.editor&&typeof e.editor.detectIndentation<"u"&&(d=e.editor.detectIndentation==="false"?!1:!!e.editor.detectIndentation);let u=Jr.largeFileOptimizations;e.editor&&typeof e.editor.largeFileOptimizations<"u"&&(u=e.editor.largeFileOptimizations==="false"?!1:!!e.editor.largeFileOptimizations);let h=Jr.bracketPairColorizationOptions;return!((i=e.editor)===null||i===void 0)&&i.bracketPairColorization&&typeof e.editor.bracketPairColorization=="object"&&(h={enabled:!!e.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!e.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:t,tabSize:r,indentSize:o,insertSpaces:s,detectIndentation:d,defaultEOL:a,trimAutoWhitespace:c,largeFileOptimizations:u,bracketPairColorizationOptions:h}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const i=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return i&&typeof i=="string"&&i!=="auto"?i:ma===3||ma===2?`
`:`\r
`}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return typeof e=="boolean"?e:!0}getCreationOptions(e,t,i){const r=typeof e=="string"?e:e.languageId;let o=this._modelCreationOptionsByLanguageAndResource[r+t];if(!o){const s=this._configurationService.getValue("editor",{overrideIdentifier:r,resource:t}),a=this._getEOL(t,r);o=k0._readModelOptions({editor:s,eol:a},i),this._modelCreationOptionsByLanguageAndResource[r+t]=o}return o}_updateModelOptions(e){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const i=Object.keys(this._models);for(let r=0,o=i.length;r<o;r++){const s=i[r],a=this._models[s],l=a.model.getLanguageId(),c=a.model.uri;if(e&&!e.affectsConfiguration("editor",{overrideIdentifier:l,resource:c})&&!e.affectsConfiguration("files.eol",{overrideIdentifier:l,resource:c}))continue;const d=t[l+c],u=this.getCreationOptions(l,c,a.model.isForSimpleWidget);k0._setModelOptionsForModel(a.model,u,d)}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&e.getLineCount()===1&&e.setEOL(t.defaultEOL===1?0:1),!(i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.indentSize===t.indentSize&&i.trimAutoWhitespace===t.trimAutoWhitespace&&wa(i.bracketPairColorizationOptions,t.bracketPairColorizationOptions))&&(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(Rp(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(Rp(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(Rp(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach(i=>{i.sharesUndoRedoStack||t.push(i)}),t.sort((i,r)=>i.time-r.time);t.length>0&&this._disposedModelsHeapSize>e;){const i=t.shift();this._removeDisposedModel(i.uri),i.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(i.initialUndoRedoSnapshot)}}}_createModelData(e,t,i,r){const o=this.getCreationOptions(t,i,r),s=new cu(e,t,o,i,this._undoRedoService,this._languageService,this._languageConfigurationService);if(i&&this._disposedModels.has(Rp(i))){const c=this._removeDisposedModel(i),d=this._undoRedoService.getElements(i),u=this._getSHA1Computer(),h=u.canComputeSHA1(s)?u.computeSHA1(s)===c.sha1:!1;if(h||c.sharesUndoRedoStack){for(const f of d.past)zu(f)&&f.matchesResource(i)&&f.setModel(s);for(const f of d.future)zu(f)&&f.matchesResource(i)&&f.setModel(s);this._undoRedoService.setElementsValidFlag(i,!0,f=>zu(f)&&f.matchesResource(i)),h&&(s._overwriteVersionId(c.versionId),s._overwriteAlternativeVersionId(c.alternativeVersionId),s._overwriteInitialUndoRedoSnapshot(c.initialUndoRedoSnapshot))}else c.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(c.initialUndoRedoSnapshot)}const a=Rp(s.uri);if(this._models[a])throw new Error("ModelService: Cannot add model because it already exists!");const l=new XFe(s,c=>this._onWillDispose(c),(c,d)=>this._onDidChangeLanguage(c,d));return this._models[a]=l,l}createModel(e,t,i,r=!1){let o;return t?o=this._createModelData(e,t,i,r):o=this._createModelData(e,Sa,i,r),this._onModelAdded.fire(o.model),o.model}getModels(){const e=[],t=Object.keys(this._models);for(let i=0,r=t.length;i<r;i++){const o=t[i];e.push(this._models[o].model)}return e}getModel(e){const t=Rp(e),i=this._models[t];return i?i.model:null}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===Tt.file||e.scheme===Tt.vscodeRemote||e.scheme===Tt.vscodeUserData||e.scheme===Tt.vscodeNotebookCell||e.scheme==="fake-fs"}_onWillDispose(e){const t=Rp(e.uri),i=this._models[t],r=this._undoRedoService.getUriComparisonKey(e.uri)!==e.uri.toString();let o=!1,s=0;if(r||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(e.uri)){const c=this._undoRedoService.getElements(e.uri);if(c.past.length>0||c.future.length>0){for(const d of c.past)zu(d)&&d.matchesResource(e.uri)&&(o=!0,s+=d.heapSize(e.uri),d.setModel(e.uri));for(const d of c.future)zu(d)&&d.matchesResource(e.uri)&&(o=!0,s+=d.heapSize(e.uri),d.setModel(e.uri))}}const a=k0.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,l=this._getSHA1Computer();if(o)if(!r&&(s>a||!l.canComputeSHA1(e))){const c=i.model.getInitialUndoRedoSnapshot();c!==null&&this._undoRedoService.restoreSnapshot(c)}else this._ensureDisposedModelsHeapSize(a-s),this._undoRedoService.setElementsValidFlag(e.uri,!1,c=>zu(c)&&c.matchesResource(e.uri)),this._insertDisposedModel(new JFe(e.uri,i.model.getInitialUndoRedoSnapshot(),Date.now(),r,s,l.computeSHA1(e),e.getVersionId(),e.getAlternativeVersionId()));else if(!r){const c=i.model.getInitialUndoRedoSnapshot();c!==null&&this._undoRedoService.restoreSnapshot(c)}delete this._models[t],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageId()+e.uri],this._onModelRemoved.fire(e)}_onDidChangeLanguage(e,t){const i=t.oldLanguage,r=e.getLanguageId(),o=this.getCreationOptions(i,e.uri,e.isForSimpleWidget),s=this.getCreationOptions(r,e.uri,e.isForSimpleWidget);k0._setModelOptionsForModel(e,s,o),this._onModelModeChanged.fire({model:e,oldLanguageId:i})}_getSHA1Computer(){return new pM}};FI.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024;FI=k0=YFe([CC(0,jt),CC(1,ele),CC(2,nM),CC(3,Zi),CC(4,Pi)],FI);class pM{canComputeSHA1(e){return e.getValueLength()<=pM.MAX_MODEL_SIZE}computeSHA1(e){const t=new PP,i=e.createSnapshot();let r;for(;r=i.read();)t.update(r);return t.digest()}}pM.MAX_MODEL_SIZE=10*1024*1024;class e3e{get templateId(){return this.renderer.templateId}constructor(e,t){this.renderer=e,this.modelProvider=t}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:ce.None}}renderElement(e,t,i,r){var o;if((o=i.disposable)===null||o===void 0||o.dispose(),!i.data)return;const s=this.modelProvider();if(s.isResolved(e))return this.renderer.renderElement(s.get(e),e,i.data,r);const a=new Pn,l=s.resolve(e,a.token);i.disposable={dispose:()=>a.cancel()},this.renderer.renderPlaceholder(e,i.data),l.then(c=>this.renderer.renderElement(c,e,i.data,r))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}}class t3e{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){const t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}}function i3e(n,e){return{...e,accessibilityProvider:e.accessibilityProvider&&new t3e(n,e.accessibilityProvider)}}class n3e{constructor(e,t,i,r,o={}){const s=()=>this.model,a=r.map(l=>new e3e(l,s));this.list=new Zl(e,t,i,a,i3e(s,o))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return Ve.map(this.list.onMouseDblClick,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onPointer(){return Ve.map(this.list.onPointer,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onDidChangeSelection(){return Ve.map(this.list.onDidChangeSelection,({elements:e,indexes:t,browserEvent:i})=>({elements:e.map(r=>this._model.get(r)),indexes:t,browserEvent:i}))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,No(e.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(e=>this.model.get(e))}style(e){this.list.style(e)}dispose(){this.list.dispose()}}var Dy=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};const r3e=!1;var BI;(function(n){n.North="north",n.South="south",n.East="east",n.West="west"})(BI||(BI={}));let o3e=4;const s3e=new ne;let a3e=300;const l3e=new ne;class MV{constructor(e){this.el=e,this.disposables=new xe}get onPointerMove(){return this.disposables.add(new $t(ht(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new $t(ht(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}}Dy([Mn],MV.prototype,"onPointerMove",null);Dy([Mn],MV.prototype,"onPointerUp",null);class RV{get onPointerMove(){return this.disposables.add(new $t(this.el,Ii.Change)).event}get onPointerUp(){return this.disposables.add(new $t(this.el,Ii.End)).event}constructor(e){this.el=e,this.disposables=new xe}dispose(){this.disposables.dispose()}}Dy([Mn],RV.prototype,"onPointerMove",null);Dy([Mn],RV.prototype,"onPointerUp",null);class WI{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(e){this.factory=e}dispose(){}}Dy([Mn],WI.prototype,"onPointerMove",null);Dy([Mn],WI.prototype,"onPointerUp",null);const RZ="pointer-events-disabled";class Yr extends ce{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",e===0),this.el.classList.toggle("minimum",e===1),this.el.classList.toggle("maximum",e===2),this._state=e,this.onDidEnablementChange.fire(e))}set orthogonalStartSash(e){if(this._orthogonalStartSash!==e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){const t=i=>{this.orthogonalStartDragHandleDisposables.clear(),i!==0&&(this._orthogonalStartDragHandle=Se(this.el,Te(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(at(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new $t(this._orthogonalStartDragHandle,"mouseenter")).event(()=>Yr.onMouseEnter(e),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new $t(this._orthogonalStartDragHandle,"mouseleave")).event(()=>Yr.onMouseLeave(e),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalStartSash=e}}set orthogonalEndSash(e){if(this._orthogonalEndSash!==e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){const t=i=>{this.orthogonalEndDragHandleDisposables.clear(),i!==0&&(this._orthogonalEndDragHandle=Se(this.el,Te(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(at(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new $t(this._orthogonalEndDragHandle,"mouseenter")).event(()=>Yr.onMouseEnter(e),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new $t(this._orthogonalEndDragHandle,"mouseleave")).event(()=>Yr.onMouseLeave(e),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalEndSash=e}}constructor(e,t,i){super(),this.hoverDelay=a3e,this.hoverDelayer=this._register(new $l(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new ne),this._onDidStart=this._register(new ne),this._onDidChange=this._register(new ne),this._onDidReset=this._register(new ne),this._onDidEnd=this._register(new ne),this.orthogonalStartSashDisposables=this._register(new xe),this.orthogonalStartDragHandleDisposables=this._register(new xe),this.orthogonalEndSashDisposables=this._register(new xe),this.orthogonalEndDragHandleDisposables=this._register(new xe),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=Se(e,Te(".monaco-sash")),i.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${i.orthogonalEdge}`),qt&&this.el.classList.add("mac");const r=this._register(new $t(this.el,"mousedown")).event;this._register(r(u=>this.onPointerStart(u,new MV(e)),this));const o=this._register(new $t(this.el,"dblclick")).event;this._register(o(this.onPointerDoublePress,this));const s=this._register(new $t(this.el,"mouseenter")).event;this._register(s(()=>Yr.onMouseEnter(this)));const a=this._register(new $t(this.el,"mouseleave")).event;this._register(a(()=>Yr.onMouseLeave(this))),this._register(Ei.addTarget(this.el));const l=this._register(new $t(this.el,Ii.Start)).event;this._register(l(u=>this.onPointerStart(u,new RV(this.el)),this));const c=this._register(new $t(this.el,Ii.Tap)).event;let d;this._register(c(u=>{if(d){clearTimeout(d),d=void 0,this.onPointerDoublePress(u);return}clearTimeout(d),d=setTimeout(()=>d=void 0,250)},this)),typeof i.size=="number"?(this.size=i.size,i.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=o3e,this._register(s3e.event(u=>{this.size=u,this.layout()}))),this._register(l3e.event(u=>this.hoverDelay=u)),this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",r3e),this.layout()}onPointerStart(e,t){Mt.stop(e);let i=!1;if(!e.__orthogonalSashEvent){const g=this.getOrthogonalSash(e);g&&(i=!0,e.__orthogonalSashEvent=!0,g.onPointerStart(e,new WI(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new WI(t))),!this.state)return;const r=this.el.ownerDocument.getElementsByTagName("iframe");for(const g of r)g.classList.add(RZ);const o=e.pageX,s=e.pageY,a=e.altKey,l={startX:o,currentX:o,startY:s,currentY:s,altKey:a};this.el.classList.add("active"),this._onDidStart.fire(l);const c=La(this.el),d=()=>{let g="";i?g="all-scroll":this.orientation===1?this.state===1?g="s-resize":this.state===2?g="n-resize":g=qt?"row-resize":"ns-resize":this.state===1?g="e-resize":this.state===2?g="w-resize":g=qt?"col-resize":"ew-resize",c.textContent=`* { cursor: ${g} !important; }`},u=new xe;d(),i||this.onDidEnablementChange.event(d,null,u);const h=g=>{Mt.stop(g,!1);const _={startX:o,currentX:g.pageX,startY:s,currentY:g.pageY,altKey:a};this._onDidChange.fire(_)},f=g=>{Mt.stop(g,!1),this.el.removeChild(c),this.el.classList.remove("active"),this._onDidEnd.fire(),u.dispose();for(const _ of r)_.classList.remove(RZ)};t.onPointerMove(h,null,u),t.onPointerUp(f,null,u),u.add(t)}onPointerDoublePress(e){const t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger(()=>e.el.classList.add("hover"),e.hoverDelay).then(void 0,()=>{}),!t&&e.linkedSash&&Yr.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&Yr.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){Yr.onMouseLeave(this)}layout(){if(this.orientation===0){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(e){var t;const i=(t=e.initialTarget)!==null&&t!==void 0?t:e.target;if(!(!i||!(i instanceof HTMLElement))&&i.classList.contains("orthogonal-drag-handle"))return i.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}const c3e={separatorBorder:ue.transparent};class sde{set size(e){this._size=e}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(e,t){var i,r;if(e!==this.visible){e?(this.size=ss(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof t=="number"?t:this.size,this.size=0),this.container.classList.toggle("visible",e);try{(r=(i=this.view).setVisible)===null||r===void 0||r.call(i,e)}catch(o){console.error("Splitview: Failed to set visible view"),console.error(o)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var e;return(e=this.view.proportionalLayout)!==null&&e!==void 0?e:!0}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}constructor(e,t,i,r){this.container=e,this.view=t,this.disposable=r,this._cachedVisibleSize=void 0,typeof i=="number"?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}layout(e,t){this.layoutContainer(e);try{this.view.layout(this.size,e,t)}catch(i){console.error("Splitview: Failed to layout view"),console.error(i)}}dispose(){this.disposable.dispose()}}class d3e extends sde{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class u3e extends sde{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}var Fu;(function(n){n[n.Idle=0]="Idle",n[n.Busy=1]="Busy"})(Fu||(Fu={}));var VI;(function(n){n.Distribute={type:"distribute"};function e(r){return{type:"split",index:r}}n.Split=e;function t(r){return{type:"auto",index:r}}n.Auto=t;function i(r){return{type:"invisible",cachedVisibleSize:r}}n.Invisible=i})(VI||(VI={}));class ade extends ce{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(e){for(const t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}set orthogonalEndSash(e){for(const t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}constructor(e,t={}){var i,r,o,s,a;super(),this.size=0,this._contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=Fu.Idle,this._onDidSashChange=this._register(new ne),this._onDidSashReset=this._register(new ne),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(i=t.orientation)!==null&&i!==void 0?i:0,this.inverseAltBehavior=(r=t.inverseAltBehavior)!==null&&r!==void 0?r:!1,this.proportionalLayout=(o=t.proportionalLayout)!==null&&o!==void 0?o:!0,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=Se(this.el,Te(".sash-container")),this.viewContainer=Te(".split-view-container"),this.scrollable=this._register(new xy({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:c=>Hs(ht(this.el),c)})),this.scrollableElement=this._register(new ZP(this.viewContainer,{vertical:this.orientation===0?(s=t.scrollbarVisibility)!==null&&s!==void 0?s:1:2,horizontal:this.orientation===1?(a=t.scrollbarVisibility)!==null&&a!==void 0?a:1:2},this.scrollable));const l=this._register(new $t(this.viewContainer,"scroll")).event;this._register(l(c=>{const d=this.scrollableElement.getScrollPosition(),u=Math.abs(this.viewContainer.scrollLeft-d.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,h=Math.abs(this.viewContainer.scrollTop-d.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(u!==void 0||h!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:u,scrollTop:h})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(c=>{c.scrollTopChanged&&(this.viewContainer.scrollTop=c.scrollTop),c.scrollLeftChanged&&(this.viewContainer.scrollLeft=c.scrollLeft)})),Se(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||c3e),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach((c,d)=>{const u=Ms(c.visible)||c.visible?c.size:{type:"invisible",cachedVisibleSize:c.size},h=c.view;this.doAddView(h,u,d,!0)}),this._contentSize=this.viewItems.reduce((c,d)=>c+d.size,0),this.saveProportions())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,r){this.doAddView(e,t,i,r)}layout(e,t){const i=Math.max(this.size,this._contentSize);if(this.size=e,this.layoutContext=t,this.proportions){let r=0;for(let o=0;o<this.viewItems.length;o++){const s=this.viewItems[o],a=this.proportions[o];typeof a=="number"?r+=a:e-=s.size}for(let o=0;o<this.viewItems.length;o++){const s=this.viewItems[o],a=this.proportions[o];typeof a=="number"&&r>0&&(s.size=ss(Math.round(a*e/r),s.minimumSize,s.maximumSize))}}else{const r=No(this.viewItems.length),o=r.filter(a=>this.viewItems[a].priority===1),s=r.filter(a=>this.viewItems[a].priority===2);this.resize(this.viewItems.length-1,e-i,void 0,o,s)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map(e=>e.proportionalLayout&&e.visible?e.size/this._contentSize:void 0))}onSashStart({sash:e,start:t,alt:i}){for(const a of this.viewItems)a.enabled=!1;const r=this.sashItems.findIndex(a=>a.sash===e),o=Wl(ge(this.el.ownerDocument.body,"keydown",a=>s(this.sashDragState.current,a.altKey)),ge(this.el.ownerDocument.body,"keyup",()=>s(this.sashDragState.current,!1))),s=(a,l)=>{const c=this.viewItems.map(g=>g.size);let d=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(l=!l),l)if(r===this.sashItems.length-1){const _=this.viewItems[r];d=(_.minimumSize-_.size)/2,u=(_.maximumSize-_.size)/2}else{const _=this.viewItems[r+1];d=(_.size-_.maximumSize)/2,u=(_.size-_.minimumSize)/2}let h,f;if(!l){const g=No(r,-1),_=No(r+1,this.viewItems.length),y=g.reduce((k,D)=>k+(this.viewItems[D].minimumSize-c[D]),0),m=g.reduce((k,D)=>k+(this.viewItems[D].viewMaximumSize-c[D]),0),p=_.length===0?Number.POSITIVE_INFINITY:_.reduce((k,D)=>k+(c[D]-this.viewItems[D].minimumSize),0),v=_.length===0?Number.NEGATIVE_INFINITY:_.reduce((k,D)=>k+(c[D]-this.viewItems[D].viewMaximumSize),0),b=Math.max(y,v),C=Math.min(p,m),S=this.findFirstSnapIndex(g),x=this.findFirstSnapIndex(_);if(typeof S=="number"){const k=this.viewItems[S],D=Math.floor(k.viewMinimumSize/2);h={index:S,limitDelta:k.visible?b-D:b+D,size:k.size}}if(typeof x=="number"){const k=this.viewItems[x],D=Math.floor(k.viewMinimumSize/2);f={index:x,limitDelta:k.visible?C+D:C-D,size:k.size}}}this.sashDragState={start:a,current:a,index:r,sizes:c,minDelta:d,maxDelta:u,alt:l,snapBefore:h,snapAfter:f,disposable:o}};s(t,i)}onSashChange({current:e}){const{index:t,start:i,sizes:r,alt:o,minDelta:s,maxDelta:a,snapBefore:l,snapAfter:c}=this.sashDragState;this.sashDragState.current=e;const d=e-i,u=this.resize(t,d,r,void 0,void 0,s,a,l,c);if(o){const h=t===this.sashItems.length-1,f=this.viewItems.map(v=>v.size),g=h?t:t+1,_=this.viewItems[g],y=_.size-_.maximumSize,m=_.size-_.minimumSize,p=h?t-1:t+1;this.resize(p,-u,f,void 0,void 0,y,m)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const t of this.viewItems)t.enabled=!0}onViewChange(e,t){const i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t=typeof t=="number"?t:e.size,t=ss(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(!(e<0||e>=this.viewItems.length)){if(this.state!==Fu.Idle)throw new Error("Cant modify splitview");this.state=Fu.Busy;try{const i=No(this.viewItems.length).filter(a=>a!==e),r=[...i.filter(a=>this.viewItems[a].priority===1),e],o=i.filter(a=>this.viewItems[a].priority===2),s=this.viewItems[e];t=Math.round(t),t=ss(t,s.minimumSize,Math.min(s.maximumSize,this.size)),s.size=t,this.relayout(r,o)}finally{this.state=Fu.Idle}}}distributeViewSizes(){const e=[];let t=0;for(const a of this.viewItems)a.maximumSize-a.minimumSize>0&&(e.push(a),t+=a.size);const i=Math.floor(t/e.length);for(const a of e)a.size=ss(i,a.minimumSize,a.maximumSize);const r=No(this.viewItems.length),o=r.filter(a=>this.viewItems[a].priority===1),s=r.filter(a=>this.viewItems[a].priority===2);this.relayout(o,s)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,r){if(this.state!==Fu.Idle)throw new Error("Cant modify splitview");this.state=Fu.Busy;try{const o=Te(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(o):this.viewContainer.insertBefore(o,this.viewContainer.children.item(i));const s=e.onDidChange(h=>this.onViewChange(d,h)),a=at(()=>this.viewContainer.removeChild(o)),l=Wl(s,a);let c;typeof t=="number"?c=t:(t.type==="auto"&&(this.areViewsDistributed()?t={type:"distribute"}:t={type:"split",index:t.index}),t.type==="split"?c=this.getViewSize(t.index)/2:t.type==="invisible"?c={cachedVisibleSize:t.cachedVisibleSize}:c=e.minimumSize);const d=this.orientation===0?new d3e(o,e,c,l):new u3e(o,e,c,l);if(this.viewItems.splice(i,0,d),this.viewItems.length>1){const h={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},f=this.orientation===0?new Yr(this.sashContainer,{getHorizontalSashTop:k=>this.getSashPosition(k),getHorizontalSashWidth:this.getSashOrthogonalSize},{...h,orientation:1}):new Yr(this.sashContainer,{getVerticalSashLeft:k=>this.getSashPosition(k),getVerticalSashHeight:this.getSashOrthogonalSize},{...h,orientation:0}),g=this.orientation===0?k=>({sash:f,start:k.startY,current:k.currentY,alt:k.altKey}):k=>({sash:f,start:k.startX,current:k.currentX,alt:k.altKey}),y=Ve.map(f.onDidStart,g)(this.onSashStart,this),p=Ve.map(f.onDidChange,g)(this.onSashChange,this),b=Ve.map(f.onDidEnd,()=>this.sashItems.findIndex(k=>k.sash===f))(this.onSashEnd,this),C=f.onDidReset(()=>{const k=this.sashItems.findIndex(R=>R.sash===f),D=No(k,-1),E=No(k+1,this.viewItems.length),I=this.findFirstSnapIndex(D),N=this.findFirstSnapIndex(E);typeof I=="number"&&!this.viewItems[I].visible||typeof N=="number"&&!this.viewItems[N].visible||this._onDidSashReset.fire(k)}),S=Wl(y,p,b,C,f),x={sash:f,disposable:S};this.sashItems.splice(i-1,0,x)}o.appendChild(e.element);let u;typeof t!="number"&&t.type==="split"&&(u=[t.index]),r||this.relayout([i],u),!r&&typeof t!="number"&&t.type==="distribute"&&this.distributeViewSizes()}finally{this.state=Fu.Idle}}relayout(e,t){const i=this.viewItems.reduce((r,o)=>r+o.size,0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map(d=>d.size),r,o,s=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,l,c){if(e<0||e>=this.viewItems.length)return 0;const d=No(e,-1),u=No(e+1,this.viewItems.length);if(o)for(const x of o)aA(d,x),aA(u,x);if(r)for(const x of r)ck(d,x),ck(u,x);const h=d.map(x=>this.viewItems[x]),f=d.map(x=>i[x]),g=u.map(x=>this.viewItems[x]),_=u.map(x=>i[x]),y=d.reduce((x,k)=>x+(this.viewItems[k].minimumSize-i[k]),0),m=d.reduce((x,k)=>x+(this.viewItems[k].maximumSize-i[k]),0),p=u.length===0?Number.POSITIVE_INFINITY:u.reduce((x,k)=>x+(i[k]-this.viewItems[k].minimumSize),0),v=u.length===0?Number.NEGATIVE_INFINITY:u.reduce((x,k)=>x+(i[k]-this.viewItems[k].maximumSize),0),b=Math.max(y,v,s),C=Math.min(p,m,a);let S=!1;if(l){const x=this.viewItems[l.index],k=t>=l.limitDelta;S=k!==x.visible,x.setVisible(k,l.size)}if(!S&&c){const x=this.viewItems[c.index],k=t<c.limitDelta;S=k!==x.visible,x.setVisible(k,c.size)}if(S)return this.resize(e,t,i,r,o,s,a);t=ss(t,b,C);for(let x=0,k=t;x<h.length;x++){const D=h[x],E=ss(f[x]+k,D.minimumSize,D.maximumSize),I=E-f[x];k-=I,D.size=E}for(let x=0,k=t;x<g.length;x++){const D=g[x],E=ss(_[x]-k,D.minimumSize,D.maximumSize),I=E-_[x];k+=I,D.size=E}return t}distributeEmptySpace(e){const t=this.viewItems.reduce((a,l)=>a+l.size,0);let i=this.size-t;const r=No(this.viewItems.length-1,-1),o=r.filter(a=>this.viewItems[a].priority===1),s=r.filter(a=>this.viewItems[a].priority===2);for(const a of s)aA(r,a);for(const a of o)ck(r,a);typeof e=="number"&&ck(r,e);for(let a=0;i!==0&&a<r.length;a++){const l=this.viewItems[r[a]],c=ss(l.size+i,l.minimumSize,l.maximumSize),d=c-l.size;i-=d,l.size=c}}layoutViews(){this._contentSize=this.viewItems.reduce((t,i)=>t+i.size,0);let e=0;for(const t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach(t=>t.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let e=!1;const t=this.viewItems.map(l=>e=l.size-l.minimumSize>0||e);e=!1;const i=this.viewItems.map(l=>e=l.maximumSize-l.size>0||e),r=[...this.viewItems].reverse();e=!1;const o=r.map(l=>e=l.size-l.minimumSize>0||e).reverse();e=!1;const s=r.map(l=>e=l.maximumSize-l.size>0||e).reverse();let a=0;for(let l=0;l<this.sashItems.length;l++){const{sash:c}=this.sashItems[l],d=this.viewItems[l];a+=d.size;const u=!(t[l]&&s[l+1]),h=!(i[l]&&o[l+1]);if(u&&h){const f=No(l,-1),g=No(l+1,this.viewItems.length),_=this.findFirstSnapIndex(f),y=this.findFirstSnapIndex(g),m=typeof _=="number"&&!this.viewItems[_].visible,p=typeof y=="number"&&!this.viewItems[y].visible;m&&o[l]&&(a>0||this.startSnappingEnabled)?c.state=1:p&&t[l]&&(a<this._contentSize||this.endSnappingEnabled)?c.state=2:c.state=0}else u&&!h?c.state=1:!u&&h?c.state=2:c.state=3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(const t of e){const i=this.viewItems[t];if(i.visible&&i.snap)return t}for(const t of e){const i=this.viewItems[t];if(i.visible&&i.maximumSize-i.minimumSize>0)return;if(!i.visible&&i.snap)return t}}areViewsDistributed(){let e,t;for(const i of this.viewItems)if(e=e===void 0?i.size:Math.min(e,i.size),t=t===void 0?i.size:Math.max(t,i.size),t-e>2)return!1;return!0}dispose(){var e;(e=this.sashDragState)===null||e===void 0||e.disposable.dispose(),vi(this.viewItems),this.viewItems=[],this.sashItems.forEach(t=>t.disposable.dispose()),this.sashItems=[],super.dispose()}}class eL{constructor(e,t,i){this.columns=e,this.getColumnSize=i,this.templateId=eL.TemplateId,this.renderedTemplates=new Set;const r=new Map(t.map(o=>[o.templateId,o]));this.renderers=[];for(const o of e){const s=r.get(o.templateId);if(!s)throw new Error(`Table cell renderer for template id ${o.templateId} not found.`);this.renderers.push(s)}}renderTemplate(e){const t=Se(e,Te(".monaco-table-tr")),i=[],r=[];for(let s=0;s<this.columns.length;s++){const a=this.renderers[s],l=Se(t,Te(".monaco-table-td",{"data-col-index":s}));l.style.width=`${this.getColumnSize(s)}px`,i.push(l),r.push(a.renderTemplate(l))}const o={container:e,cellContainers:i,cellTemplateData:r};return this.renderedTemplates.add(o),o}renderElement(e,t,i,r){for(let o=0;o<this.columns.length;o++){const a=this.columns[o].project(e);this.renderers[o].renderElement(a,t,i.cellTemplateData[o],r)}}disposeElement(e,t,i,r){for(let o=0;o<this.columns.length;o++){const s=this.renderers[o];if(s.disposeElement){const l=this.columns[o].project(e);s.disposeElement(l,t,i.cellTemplateData[o],r)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(e.cellTemplateData[t]);$r(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(const{cellContainers:i}of this.renderedTemplates)i[e].style.width=`${t}px`}}eL.TemplateId="row";function h3e(n){return{getHeight(e){return n.getHeight(e)},getTemplateId(){return eL.TemplateId}}}class f3e{get minimumSize(){var e;return(e=this.column.minimumWidth)!==null&&e!==void 0?e:120}get maximumSize(){var e;return(e=this.column.maximumWidth)!==null&&e!==void 0?e:Number.POSITIVE_INFINITY}get onDidChange(){var e;return(e=this.column.onDidChangeWidthConstraints)!==null&&e!==void 0?e:Ve.None}constructor(e,t){this.column=e,this.index=t,this._onDidLayout=new ne,this.onDidLayout=this._onDidLayout.event,this.element=Te(".monaco-table-th",{"data-col-index":t,title:e.tooltip},e.label)}layout(e){this._onDidLayout.fire([this.index,e])}}class mM{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(e,t,i,r,o,s){this.virtualDelegate=i,this.domId=`table_id_${++mM.InstanceCount}`,this.disposables=new xe,this.cachedWidth=0,this.cachedHeight=0,this.domNode=Se(t,Te(`.monaco-table.${this.domId}`));const a=r.map((d,u)=>new f3e(d,u)),l={size:a.reduce((d,u)=>d+u.column.weight,0),views:a.map(d=>({size:d.column.weight,view:d}))};this.splitview=this.disposables.add(new ade(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:l})),this.splitview.el.style.height=`${i.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${i.headerRowHeight}px`;const c=new eL(r,o,d=>this.splitview.getViewSize(d));this.list=this.disposables.add(new Zl(e,this.domNode,h3e(i),[c],s)),Ve.any(...a.map(d=>d.onDidLayout))(([d,u])=>c.layoutColumn(d,u),null,this.disposables),this.splitview.onDidSashReset(d=>{const u=r.reduce((f,g)=>f+g.weight,0),h=r[d].weight/u*this.cachedWidth;this.splitview.resizeView(d,h)},null,this.disposables),this.styleElement=La(this.domNode),this.style(_Fe)}updateOptions(e){this.list.updateOptions(e)}splice(e,t,i=[]){this.list.splice(e,t,i)}getHTMLElement(){return this.domNode}style(e){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=t.join(`
`),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}mM.InstanceCount=0;class Ty extends Na{constructor(e){super(),this._onChange=this._register(new ne),this.onChange=this._onChange.event,this._onKeyDown=this._register(new ne),this.onKeyDown=this._onKeyDown.event,this._opts=e,this._checked=this._opts.isChecked;const t=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,t.push(...lt.asClassNameArray(this._icon))),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,i=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),i.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,i=>{if(i.keyCode===10||i.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),i.preventDefault(),i.stopPropagation();return}this._onKeyDown.fire(i)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}const g3e=w("caseDescription","Match Case"),p3e=w("wordsDescription","Match Whole Word"),m3e=w("regexDescription","Use Regular Expression");class lde extends Ty{constructor(e){super({icon:Ae.caseSensitive,title:g3e+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class cde extends Ty{constructor(e){super({icon:Ae.wholeWord,title:p3e+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class dde extends Ty{constructor(e){super({icon:Ae.regex,title:m3e+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class _3e{constructor(e,t=0,i=e.length,r=t-1){this.items=e,this.start=t,this.end=i,this.index=r}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class v3e{constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}getHistory(){return this._elements}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(e){return this._history.has(e)}_onChange(){this._reduceToLimit();const e=this._elements;this._navigator=new _3e(e,0,e.length,e.length)}_reduceToLimit(){const e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){const e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(const t of e)this._history.add(t)}get _elements(){const e=[];return this._history.forEach(t=>e.push(t)),e}}const wC=Te;let b3e=class extends Na{constructor(e,t,i){var r;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new ne),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new ne),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=i,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(r=this.options.tooltip)!==null&&r!==void 0?r:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=Se(e,wC(".monaco-inputbox.idle"));const o=this.options.flexibleHeight?"textarea":"input",s=Se(this.element,wC(".ibwrapper"));if(this.input=Se(s,wC(o+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=Se(s,wC("div.mirror")),this.mirror.innerText="",this.scrollableElement=new Lle(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),Se(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(c=>this.input.scrollTop=c.scrollTop));const a=this._register(new $t(e.ownerDocument,"selectionchange")),l=Ve.filter(a.event,()=>{const c=e.ownerDocument.getSelection();return(c==null?void 0:c.anchorNode)===s});this._register(l(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new sl(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.input.title=e}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:am(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return AP(this.input)}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(e){this.input.style.width=`calc(100% - ${e}px)`,this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i})}showMessage(e,t){if(this.state==="open"&&wa(this.message,e))return;this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));const i=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${gh(i.border,"transparent")}`,this.message.content&&(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),e==null?void 0:e.type}stylesForType(e){const t=this.options.inputBoxStyles;switch(e){case 1:return{border:t.inputValidationInfoBorder,background:t.inputValidationInfoBackground,foreground:t.inputValidationInfoForeground};case 2:return{border:t.inputValidationWarningBorder,background:t.inputValidationWarningBackground,foreground:t.inputValidationWarningForeground};default:return{border:t.inputValidationErrorBorder,background:t.inputValidationErrorBackground,foreground:t.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e;const t=()=>e.style.width=os(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:r=>{var o,s;if(!this.message)return null;e=Se(r,wC(".monaco-inputbox-container")),t();const a={inline:!0,className:"monaco-inputbox-message"},l=this.message.formatContent?l5e(this.message.content,a):a5e(this.message.content,a);l.classList.add(this.classForType(this.message.type));const c=this.stylesForType(this.message.type);return l.style.backgroundColor=(o=c.background)!==null&&o!==void 0?o:"",l.style.color=(s=c.foreground)!==null&&s!==void 0?s:"",l.style.border=c.border?`1px solid ${c.border}`:"",Se(e,l),null},onHide:()=>{this.state="closed"},layout:t});let i;this.message.type===3?i=w("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?i=w("alertWarningMessage","Warning: {0}",this.message.content):i=w("alertInfoMessage","Info: {0}",this.message.content),zs(i),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const e=this.value,i=e.charCodeAt(e.length-1)===10?" ":"";(e+i).replace(/\u000c/g,"")?this.mirror.textContent=e+i:this.mirror.innerText="",this.layout()}applyStyles(){var e,t,i;const r=this.options.inputBoxStyles,o=(e=r.inputBackground)!==null&&e!==void 0?e:"",s=(t=r.inputForeground)!==null&&t!==void 0?t:"",a=(i=r.inputBorder)!==null&&i!==void 0?i:"";this.element.style.backgroundColor=o,this.element.style.color=s,this.input.style.backgroundColor="inherit",this.input.style.color=s,this.element.style.border=`1px solid ${gh(a,"transparent")}`}layout(){if(!this.mirror)return;const e=this.cachedContentHeight;this.cachedContentHeight=am(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){const t=this.inputElement,i=t.selectionStart,r=t.selectionEnd,o=t.value;i!==null&&r!==null&&(this.value=o.substr(0,i)+e+o.substr(r),t.setSelectionRange(i+1,i+1),this.layout())}dispose(){var e;this._hideMessage(),this.message=null,(e=this.actionbar)===null||e===void 0||e.dispose(),super.dispose()}};class ude extends b3e{constructor(e,t,i){const r=w({key:"history.inputbox.hint.suffix.noparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field ends in a closing parenthesis ")", for example "Filter (e.g. text, !exclude)". The character inserted into the final string is  to represent the up and down arrow keys.']}," or {0} for history",""),o=w({key:"history.inputbox.hint.suffix.inparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field does NOT end in a closing parenthesis (eg. "Find"). The character inserted into the final string is  to represent the up and down arrow keys.']}," ({0} for history)","");super(e,t,i),this._onDidFocus=this._register(new ne),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new ne),this.onDidBlur=this._onDidBlur.event,this.history=new v3e(i.history,100);const s=()=>{if(i.showHistoryHint&&i.showHistoryHint()&&!this.placeholder.endsWith(r)&&!this.placeholder.endsWith(o)&&this.history.getHistory().length){const a=this.placeholder.endsWith(")")?r:o,l=this.placeholder+a;i.showPlaceholderOnFocus&&!AP(this.input)?this.placeholder=l:this.setPlaceHolder(l)}};this.observer=new MutationObserver((a,l)=>{a.forEach(c=>{c.target.textContent||s()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>s()),this.onblur(this.input,()=>{const a=l=>{if(this.placeholder.endsWith(l)){const c=this.placeholder.slice(0,this.placeholder.length-l.length);return i.showPlaceholderOnFocus?this.placeholder=c:this.setPlaceHolder(c),!0}else return!1};a(o)||a(r)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(e){this.value&&(e||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),this.value=e??"",Ih(this.value?this.value:w("clearedInput","Cleared Input"))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,Ih(this.value))}setPlaceHolder(e){super.setPlaceHolder(e),this.setTooltip(e)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}const y3e=w("defaultLabel","input");class hde extends Na{constructor(e,t,i){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new Lr),this.additionalToggles=[],this._onDidOptionChange=this._register(new ne),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new ne),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new ne),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new ne),this._onKeyUp=this._register(new ne),this._onCaseSensitiveKeyDown=this._register(new ne),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new ne),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=i.placeholder||"",this.validation=i.validation,this.label=i.label||y3e,this.showCommonFindToggles=!!i.showCommonFindToggles;const r=i.appendCaseSensitiveLabel||"",o=i.appendWholeWordsLabel||"",s=i.appendRegexLabel||"",a=i.history||[],l=!!i.flexibleHeight,c=!!i.flexibleWidth,d=i.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new ude(this.domNode,t,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:a,showHistoryHint:i.showHistoryHint,flexibleHeight:l,flexibleWidth:c,flexibleMaxHeight:d,inputBoxStyles:i.inputBoxStyles})),this.showCommonFindToggles){this.regex=this._register(new dde({appendTitle:s,isChecked:!1,...i.toggleStyles})),this._register(this.regex.onChange(h=>{this._onDidOptionChange.fire(h),!h&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(h=>{this._onRegexKeyDown.fire(h)})),this.wholeWords=this._register(new cde({appendTitle:o,isChecked:!1,...i.toggleStyles})),this._register(this.wholeWords.onChange(h=>{this._onDidOptionChange.fire(h),!h&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new lde({appendTitle:r,isChecked:!1,...i.toggleStyles})),this._register(this.caseSensitive.onChange(h=>{this._onDidOptionChange.fire(h),!h&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(h=>{this._onCaseSensitiveKeyDown.fire(h)}));const u=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,h=>{if(h.equals(15)||h.equals(17)||h.equals(9)){const f=u.indexOf(this.domNode.ownerDocument.activeElement);if(f>=0){let g=-1;h.equals(17)?g=(f+1)%u.length:h.equals(15)&&(f===0?g=u.length-1:g=f-1),h.equals(9)?(u[f].blur(),this.inputBox.focus()):g>=0&&u[g].focus(),Mt.stop(h,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(i==null?void 0:i.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),e==null||e.appendChild(this.domNode),this._register(ge(this.inputBox.inputElement,"compositionstart",u=>{this.imeSessionInProgress=!0})),this._register(ge(this.inputBox.inputElement,"compositionend",u=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,u=>this._onKeyDown.fire(u)),this.onkeyup(this.inputBox.inputElement,u=>this._onKeyUp.fire(u)),this.oninput(this.inputBox.inputElement,u=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,u=>this._onMouseDown.fire(u))}get onDidChange(){return this.inputBox.onDidChange}layout(e){this.inputBox.layout(),this.updateInputBoxPadding(e.collapsedFindWidget)}enable(){var e,t,i;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(e=this.regex)===null||e===void 0||e.enable(),(t=this.wholeWords)===null||t===void 0||t.enable(),(i=this.caseSensitive)===null||i===void 0||i.enable();for(const r of this.additionalToggles)r.enable()}disable(){var e,t,i;this.domNode.classList.add("disabled"),this.inputBox.disable(),(e=this.regex)===null||e===void 0||e.disable(),(t=this.wholeWords)===null||t===void 0||t.disable(),(i=this.caseSensitive)===null||i===void 0||i.disable();for(const r of this.additionalToggles)r.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}setAdditionalToggles(e){for(const t of this.additionalToggles)t.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new xe;for(const t of e??[])this.additionalTogglesDisposables.value.add(t),this.controls.appendChild(t.domNode),this.additionalTogglesDisposables.value.add(t.onChange(i=>{this._onDidOptionChange.fire(i),!i&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(t);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(e=!1){var t,i,r,o,s,a;e?this.inputBox.paddingRight=0:this.inputBox.paddingRight=((i=(t=this.caseSensitive)===null||t===void 0?void 0:t.width())!==null&&i!==void 0?i:0)+((o=(r=this.wholeWords)===null||r===void 0?void 0:r.width())!==null&&o!==void 0?o:0)+((a=(s=this.regex)===null||s===void 0?void 0:s.width())!==null&&a!==void 0?a:0)+this.additionalToggles.reduce((l,c)=>l+c.width(),0)}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var e,t;return(t=(e=this.caseSensitive)===null||e===void 0?void 0:e.checked)!==null&&t!==void 0?t:!1}setCaseSensitive(e){this.caseSensitive&&(this.caseSensitive.checked=e)}getWholeWords(){var e,t;return(t=(e=this.wholeWords)===null||e===void 0?void 0:e.checked)!==null&&t!==void 0?t:!1}setWholeWords(e){this.wholeWords&&(this.wholeWords.checked=e)}getRegex(){var e,t;return(t=(e=this.regex)===null||e===void 0?void 0:e.checked)!==null&&t!==void 0?t:!1}setRegex(e){this.regex&&(this.regex.checked=e,this.validate())}focusOnCaseSensitive(){var e;(e=this.caseSensitive)===null||e===void 0||e.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(e){this.inputBox.showMessage(e)}clearMessage(){this.inputBox.hideMessage()}}var ra;(function(n){n[n.Expanded=0]="Expanded",n[n.Collapsed=1]="Collapsed",n[n.PreserveOrExpanded=2]="PreserveOrExpanded",n[n.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(ra||(ra={}));var gm;(function(n){n[n.Unknown=0]="Unknown",n[n.Twistie=1]="Twistie",n[n.Element=2]="Element",n[n.Filter=3]="Filter"})(gm||(gm={}));class ua extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}}class AV{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}function OV(n){return typeof n=="object"&&"visibility"in n&&"data"in n}function xS(n){switch(n){case!0:return 1;case!1:return 0;default:return n}}function xO(n){return typeof n.collapsible=="boolean"}class C3e{constructor(e,t,i,r={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new ZW,this._onDidChangeCollapseState=new ne,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new ne,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new ne,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new $l(aae),this.collapseByDefault=typeof r.collapseByDefault>"u"?!1:r.collapseByDefault,this.filter=r.filter,this.autoExpandSingleChildren=typeof r.autoExpandSingleChildren>"u"?!1:r.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,i=Kt.empty(),r={}){if(e.length===0)throw new ua(this.user,"Invalid tree location");r.diffIdentityProvider?this.spliceSmart(r.diffIdentityProvider,e,t,i,r):this.spliceSimple(e,t,i,r)}spliceSmart(e,t,i,r,o,s){var a;r===void 0&&(r=Kt.empty()),s===void 0&&(s=(a=o.diffDepth)!==null&&a!==void 0?a:0);const{parentNode:l}=this.getParentNodeWithListIndex(t);if(!l.lastDiffIds)return this.spliceSimple(t,i,r,o);const c=[...r],d=t[t.length-1],u=new Id({getElements:()=>l.lastDiffIds},{getElements:()=>[...l.children.slice(0,d),...c,...l.children.slice(d+i)].map(y=>e.getId(y.element).toString())}).ComputeDiff(!1);if(u.quitEarly)return l.lastDiffIds=void 0,this.spliceSimple(t,i,c,o);const h=t.slice(0,-1),f=(y,m,p)=>{if(s>0)for(let v=0;v<p;v++)y--,m--,this.spliceSmart(e,[...h,y,0],Number.MAX_SAFE_INTEGER,c[m].children,o,s-1)};let g=Math.min(l.children.length,d+i),_=c.length;for(const y of u.changes.sort((m,p)=>p.originalStart-m.originalStart))f(g,_,g-(y.originalStart+y.originalLength)),g=y.originalStart,_=y.modifiedStart-d,this.spliceSimple([...h,g],y.originalLength,Kt.slice(c,_,_+y.modifiedLength),o);f(g,_,g)}spliceSimple(e,t,i=Kt.empty(),{onDidCreateNode:r,onDidDeleteNode:o,diffIdentityProvider:s}){const{parentNode:a,listIndex:l,revealed:c,visible:d}=this.getParentNodeWithListIndex(e),u=[],h=Kt.map(i,C=>this.createTreeNode(C,a,a.visible?1:0,c,u,r)),f=e[e.length-1];let g=0;for(let C=f;C>=0&&C<a.children.length;C--){const S=a.children[C];if(S.visible){g=S.visibleChildIndex;break}}const _=[];let y=0,m=0;for(const C of h)_.push(C),m+=C.renderNodeCount,C.visible&&(C.visibleChildIndex=g+y++);const p=uq(a.children,f,t,_);s?a.lastDiffIds?uq(a.lastDiffIds,f,t,_.map(C=>s.getId(C.element).toString())):a.lastDiffIds=a.children.map(C=>s.getId(C.element).toString()):a.lastDiffIds=void 0;let v=0;for(const C of p)C.visible&&v++;if(v!==0)for(let C=f+_.length;C<a.children.length;C++){const S=a.children[C];S.visible&&(S.visibleChildIndex-=v)}if(a.visibleChildrenCount+=y-v,c&&d){const C=p.reduce((S,x)=>S+(x.visible?x.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(a,m-C),this.list.splice(l,C,u)}if(p.length>0&&o){const C=S=>{o(S),S.children.forEach(C)};p.forEach(C)}this._onDidSplice.fire({insertedNodes:_,deletedNodes:p});let b=a;for(;b;){if(b.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}b=b.parent}}rerender(e){if(e.length===0)throw new ua(this.user,"Invalid tree location");const{node:t,listIndex:i,revealed:r}=this.getTreeNodeWithListIndex(e);t.visible&&r&&this.list.splice(i,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:t,visible:i,revealed:r}=this.getTreeNodeWithListIndex(e);return i&&r?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){const i=this.getTreeNode(e);typeof t>"u"&&(t=!i.collapsible);const r={collapsible:t};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,r))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){const r=this.getTreeNode(e);typeof t>"u"&&(t=!r.collapsed);const o={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,o))}_setCollapseState(e,t){const{node:i,listIndex:r,revealed:o}=this.getTreeNodeWithListIndex(e),s=this._setListNodeCollapseState(i,r,o,t);if(i!==this.root&&this.autoExpandSingleChildren&&s&&!xO(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let a=-1;for(let l=0;l<i.children.length;l++)if(i.children[l].visible)if(a>-1){a=-1;break}else a=l;a>-1&&this._setCollapseState([...e,a],t)}return s}_setListNodeCollapseState(e,t,i,r){const o=this._setNodeCollapseState(e,r,!1);if(!i||!e.visible||!o)return o;const s=e.renderNodeCount,a=this.updateNodeAfterCollapseChange(e),l=s-(t===-1?0:1);return this.list.splice(t+1,l,a.slice(1)),o}_setNodeCollapseState(e,t,i){let r;if(e===this.root?r=!1:(xO(t)?(r=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(r=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):r=!1,r&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!xO(t)&&t.recursive)for(const o of e.children)r=this._setNodeCollapseState(o,t,!0)||r;return r}expandTo(e){this.eventBufferer.bufferEvents(()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})})}refilter(){const e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t),this.refilterDelayer.cancel()}createTreeNode(e,t,i,r,o,s){const a={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof e.collapsible=="boolean"?e.collapsible:typeof e.collapsed<"u",collapsed:typeof e.collapsed>"u"?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(a,i);a.visibility=l,r&&o.push(a);const c=e.children||Kt.empty(),d=r&&l!==0&&!a.collapsed;let u=0,h=1;for(const f of c){const g=this.createTreeNode(f,a,l,d,o,s);a.children.push(g),h+=g.renderNodeCount,g.visible&&(g.visibleChildIndex=u++)}return a.collapsible=a.collapsible||a.children.length>0,a.visibleChildrenCount=u,a.visible=l===2?u>0:l===1,a.visible?a.collapsed||(a.renderNodeCount=h):(a.renderNodeCount=0,r&&o.pop()),s==null||s(a),a}updateNodeAfterCollapseChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(e.visible===!1)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,r=!0){let o;if(e!==this.root){if(o=this._filterNode(e,t),o===0)return e.visible=!1,e.renderNodeCount=0,!1;r&&i.push(e)}const s=i.length;e.renderNodeCount=e===this.root?0:1;let a=!1;if(!e.collapsed||o!==0){let l=0;for(const c of e.children)a=this._updateNodeAfterFilterChange(c,o,i,r&&!e.collapsed)||a,c.visible&&(c.visibleChildIndex=l++);e.visibleChildrenCount=l}else e.visibleChildrenCount=0;return e!==this.root&&(e.visible=o===2?a:o===1,e.visibility=o),e.visible?e.collapsed||(e.renderNodeCount+=i.length-s):(e.renderNodeCount=0,r&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(t!==0)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){const i=this.filter?this.filter.filter(e.element,t):1;return typeof i=="boolean"?(e.filterData=void 0,i?1:0):OV(i)?(e.filterData=i.data,xS(i.visibility)):(e.filterData=void 0,xS(i))}hasTreeNode(e,t=this.root){if(!e||e.length===0)return!0;const[i,...r]=e;return i<0||i>t.children.length?!1:this.hasTreeNode(r,t.children[i])}getTreeNode(e,t=this.root){if(!e||e.length===0)return t;const[i,...r]=e;if(i<0||i>t.children.length)throw new ua(this.user,"Invalid tree location");return this.getTreeNode(r,t.children[i])}getTreeNodeWithListIndex(e){if(e.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:t,listIndex:i,revealed:r,visible:o}=this.getParentNodeWithListIndex(e),s=e[e.length-1];if(s<0||s>t.children.length)throw new ua(this.user,"Invalid tree location");const a=t.children[s];return{node:a,listIndex:i,revealed:r,visible:o&&a.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,r=!0,o=!0){const[s,...a]=e;if(s<0||s>t.children.length)throw new ua(this.user,"Invalid tree location");for(let l=0;l<s;l++)i+=t.children[l].renderNodeCount;return r=r&&!t.collapsed,o=o&&t.visible,a.length===0?{parentNode:t,listIndex:i,revealed:r,visible:o}:this.getParentNodeWithListIndex(a,t.children[s],i+1,r,o)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){const t=[];let i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){if(e.length!==0)return e.length===1?[]:BSe(e)[0]}getFirstElementChild(e){const t=this.getTreeNode(e);if(t.children.length!==0)return t.children[0].element}}class w3e extends Qx{constructor(e){super(e.elements.map(t=>t.element)),this.data=e}}function LO(n){return n instanceof Qx?new w3e(n):n}class S3e{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=ce.None,this.disposables=new xe}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){var i,r;(r=(i=this.dnd).onDragStart)===null||r===void 0||r.call(i,LO(e),t)}onDragOver(e,t,i,r,o,s=!0){const a=this.dnd.onDragOver(LO(e),t&&t.element,i,r,o),l=this.autoExpandNode!==t;if(l&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),typeof t>"u")return a;if(l&&typeof a!="boolean"&&a.autoExpand&&(this.autoExpandDisposable=Rg(()=>{const f=this.modelProvider(),g=f.getNodeLocation(t);f.isCollapsed(g)&&f.setCollapsed(g,!1),this.autoExpandNode=void 0},500,this.disposables)),typeof a=="boolean"||!a.accept||typeof a.bubble>"u"||a.feedback){if(!s){const f=typeof a=="boolean"?a:a.accept,g=typeof a=="boolean"?void 0:a.effect;return{accept:f,effect:g,feedback:[i]}}return a}if(a.bubble===1){const f=this.modelProvider(),g=f.getNodeLocation(t),_=f.getParentNodeLocation(g),y=f.getNode(_),m=_&&f.getListIndex(_);return this.onDragOver(e,y,m,r,o,!1)}const c=this.modelProvider(),d=c.getNodeLocation(t),u=c.getListIndex(d),h=c.getListRenderCount(d);return{...a,feedback:No(u,u+h)}}drop(e,t,i,r,o){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(LO(e),t&&t.element,i,r,o)}onDragEnd(e){var t,i;(i=(t=this.dnd).onDragEnd)===null||i===void 0||i.call(t,e)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}function x3e(n,e){return e&&{...e,identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new S3e(n,e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent(t){return e.multipleSelectionController.isSelectionSingleChangeEvent({...t,element:t.element})},isSelectionRangeChangeEvent(t){return e.multipleSelectionController.isSelectionRangeChangeEvent({...t,element:t.element})}},accessibilityProvider:e.accessibilityProvider&&{...e.accessibilityProvider,getSetSize(t){const i=n(),r=i.getNodeLocation(t),o=i.getParentNodeLocation(r);return i.getNode(o).visibleChildrenCount},getPosInSet(t){return t.visibleChildIndex+1},isChecked:e.accessibilityProvider&&e.accessibilityProvider.isChecked?t=>e.accessibilityProvider.isChecked(t.element):void 0,getRole:e.accessibilityProvider&&e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",getAriaLabel(t){return e.accessibilityProvider.getAriaLabel(t.element)},getWidgetAriaLabel(){return e.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:e.accessibilityProvider&&e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider&&e.accessibilityProvider.getAriaLevel?t=>e.accessibilityProvider.getAriaLevel(t.element):t=>t.depth,getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{...e.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}}}}class FV{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){var i,r;(r=(i=this.delegate).setDynamicHeight)===null||r===void 0||r.call(i,e.element,t)}}var LS;(function(n){n.None="none",n.OnHover="onHover",n.Always="always"})(LS||(LS={}));class L3e{get elements(){return this._elements}constructor(e,t=[]){this._elements=t,this.disposables=new xe,this.onDidChange=Ve.forEach(e,i=>this._elements=i,this.disposables)}dispose(){this.disposables.dispose()}}class kS{constructor(e,t,i,r,o,s={}){var a;this.renderer=e,this.modelProvider=t,this.activeNodes=r,this.renderedIndentGuides=o,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=kS.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=ce.None,this.disposables=new xe,this.templateId=e.templateId,this.updateOptions(s),Ve.map(i,l=>l.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(a=e.onDidChangeTwistieState)===null||a===void 0||a.call(e,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){if(typeof e.indent<"u"){const t=ss(e.indent,0,40);if(t!==this.indent){this.indent=t;for(const[i,r]of this.renderedNodes)this.renderTreeElement(i,r)}}if(typeof e.renderIndentGuides<"u"){const t=e.renderIndentGuides!==LS.None;if(t!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=t;for(const[i,r]of this.renderedNodes)this._renderIndentGuides(i,r);if(this.indentGuidesDisposable.dispose(),t){const i=new xe;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,i),this.indentGuidesDisposable=i,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof e.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){const t=Se(e,Te(".monaco-tl-row")),i=Se(t,Te(".monaco-tl-indent")),r=Se(t,Te(".monaco-tl-twistie")),o=Se(t,Te(".monaco-tl-contents")),s=this.renderer.renderTemplate(o);return{container:e,indent:i,twistie:r,indentGuidesDisposable:ce.None,templateData:s}}renderElement(e,t,i,r){this.renderedNodes.set(e,i),this.renderedElements.set(e.element,e),this.renderTreeElement(e,i),this.renderer.renderElement(e,t,i.templateData,r)}disposeElement(e,t,i,r){var o,s;i.indentGuidesDisposable.dispose(),(s=(o=this.renderer).disposeElement)===null||s===void 0||s.call(o,e,t,i.templateData,r),typeof r=="number"&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){const t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){const t=this.renderedNodes.get(e);t&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(e,t))}renderTreeElement(e,t){const i=kS.DefaultIndent+(e.depth-1)*this.indent;t.twistie.style.paddingLeft=`${i}px`,t.indent.style.width=`${i+this.indent-16}px`,e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded"),t.twistie.classList.remove(...lt.asClassNameArray(Ae.treeItemExpanded));let r=!1;this.renderer.renderTwistie&&(r=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(r||t.twistie.classList.add(...lt.asClassNameArray(Ae.treeItemExpanded)),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(e,t)}_renderIndentGuides(e,t){if($r(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const i=new xe,r=this.modelProvider();for(;;){const o=r.getNodeLocation(e),s=r.getParentNodeLocation(o);if(!s)break;const a=r.getNode(s),l=Te(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(a)&&l.classList.add("active"),t.indent.childElementCount===0?t.indent.appendChild(l):t.indent.insertBefore(l,t.indent.firstElementChild),this.renderedIndentGuides.add(a,l),i.add(at(()=>this.renderedIndentGuides.delete(a,l))),e=a}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;const t=new Set,i=this.modelProvider();e.forEach(r=>{const o=i.getNodeLocation(r);try{const s=i.getParentNodeLocation(o);r.collapsible&&r.children.length>0&&!r.collapsed?t.add(r):s&&t.add(i.getNode(s))}catch{}}),this.activeIndentNodes.forEach(r=>{t.has(r)||this.renderedIndentGuides.forEach(r,o=>o.classList.remove("active"))}),t.forEach(r=>{this.activeIndentNodes.has(r)||this.renderedIndentGuides.forEach(r,o=>o.classList.add("active"))}),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),vi(this.disposables)}}kS.DefaultIndent=8;class k3e{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new xe,e.onWillRefilter(this.reset,this,this.disposables)}filter(e,t){let i=1;if(this._filter){const s=this._filter.filter(e,t);if(typeof s=="boolean"?i=s?1:0:OV(s)?i=xS(s.visibility):i=s,i===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:Bc.Default,visibility:i};const r=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),o=Array.isArray(r)?r:[r];for(const s of o){const a=s&&s.toString();if(typeof a>"u")return{data:Bc.Default,visibility:i};let l;if(this.tree.findMatchType===e_.Contiguous){const c=a.toLowerCase().indexOf(this._lowercasePattern);if(c>-1){l=[Number.MAX_SAFE_INTEGER,0];for(let d=this._lowercasePattern.length;d>0;d--)l.push(c+d-1)}}else l=Xm(this._pattern,this._lowercasePattern,0,a,a.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(l)return this._matchCount++,o.length===1?{data:l,visibility:i}:{data:{label:a,score:l},visibility:i}}return this.tree.findMode===ah.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(e):2:{data:Bc.Default,visibility:i}}reset(){this._totalCount=0,this._matchCount=0}dispose(){vi(this.disposables)}}var ah;(function(n){n[n.Highlight=0]="Highlight",n[n.Filter=1]="Filter"})(ah||(ah={}));var e_;(function(n){n[n.Fuzzy=0]="Fuzzy",n[n.Contiguous=1]="Contiguous"})(e_||(e_={}));let D3e=class{get pattern(){return this._pattern}get mode(){return this._mode}set mode(e){e!==this._mode&&(this._mode=e,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(e))}get matchType(){return this._matchType}set matchType(e){e!==this._matchType&&(this._matchType=e,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(e))}constructor(e,t,i,r,o,s={}){var a,l;this.tree=e,this.view=i,this.filter=r,this.contextViewProvider=o,this.options=s,this._pattern="",this.width=0,this._onDidChangeMode=new ne,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new ne,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new ne,this._onDidChangeOpenState=new ne,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new xe,this.disposables=new xe,this._mode=(a=e.options.defaultFindMode)!==null&&a!==void 0?a:ah.Highlight,this._matchType=(l=e.options.defaultFindMatchType)!==null&&l!==void 0?l:e_.Fuzzy,t.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(e={}){e.defaultFindMode!==void 0&&(this.mode=e.defaultFindMode),e.defaultFindMatchType!==void 0&&(this.matchType=e.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var e,t,i,r;const o=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&o?!((e=this.tree.options.showNotFoundMessage)!==null&&e!==void 0)||e?(t=this.widget)===null||t===void 0||t.showMessage({type:2,content:w("not found","No elements found.")}):(i=this.widget)===null||i===void 0||i.showMessage({type:2}):(r=this.widget)===null||r===void 0||r.clearMessage()}shouldAllowFocus(e){return!this.widget||!this.pattern||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!Bc.isDefault(e.filterData)}layout(e){var t;this.width=e,(t=this.widget)===null||t===void 0||t.layout(e)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}};function T3e(n,e){return n.position===e.position&&fde(n,e)}function fde(n,e){return n.node.element===e.node.element&&n.startIndex===e.startIndex&&n.height===e.height&&n.endIndex===e.endIndex}class E3e{constructor(e=[]){this.stickyNodes=e}get count(){return this.stickyNodes.length}equal(e){return vn(this.stickyNodes,e.stickyNodes,T3e)}lastNodePartiallyVisible(){if(this.count===0)return!1;const e=this.stickyNodes[this.count-1];if(this.count===1)return e.position!==0;const t=this.stickyNodes[this.count-2];return t.position+t.height!==e.position}animationStateChanged(e){if(!vn(this.stickyNodes,e.stickyNodes,fde)||this.count===0)return!1;const t=this.stickyNodes[this.count-1],i=e.stickyNodes[e.count-1];return t.position!==i.position}}class I3e{constrainStickyScrollNodes(e,t,i){for(let r=0;r<e.length;r++){const o=e[r];if(o.position+o.height>i||r>=t)return e.slice(0,r)}return e}}let AZ=class extends ce{constructor(e,t,i,r,o,s={}){var a;super(),this.tree=e,this.model=t,this.view=i,this.treeDelegate=o,this.maxWidgetViewRatio=.4;const l=this.validateStickySettings(s);this.stickyScrollMaxItemCount=l.stickyScrollMaxItemCount,this.stickyScrollDelegate=(a=s.stickyScrollDelegate)!==null&&a!==void 0?a:new I3e,this._widget=this._register(new N3e(i.getScrollableElement(),i,e,r,o,s.accessibilityProvider)),this.onDidChangeHasFocus=this._widget.onDidChangeHasFocus,this.onContextMenu=this._widget.onContextMenu,this._register(i.onDidScroll(()=>this.update())),this._register(i.onDidChangeContentHeight(()=>this.update())),this._register(e.onDidChangeCollapseState(()=>this.update())),this.update()}getNodeAtHeight(e){let t;if(e===0?t=this.view.firstVisibleIndex:t=this.view.indexAt(e+this.view.scrollTop),!(t<0||t>=this.view.length))return this.view.element(t)}update(){const e=this.getNodeAtHeight(0);if(!e||this.tree.scrollTop===0){this._widget.setState(void 0);return}const t=this.findStickyState(e);this._widget.setState(t)}findStickyState(e){const t=[];let i=e,r=0,o=this.getNextStickyNode(i,void 0,r);for(;o&&(t.push(o),r+=o.height,!(t.length<=this.stickyScrollMaxItemCount&&(i=this.getNextVisibleNode(o),!i)));)o=this.getNextStickyNode(i,o.node,r);const s=this.constrainStickyNodes(t);return s.length?new E3e(s):void 0}getNextVisibleNode(e){return this.getNodeAtHeight(e.position+e.height)}getNextStickyNode(e,t,i){const r=this.getAncestorUnderPrevious(e,t);if(r&&!(r===e&&(!this.nodeIsUncollapsedParent(e)||this.nodeTopAlignsWithStickyNodesBottom(e,i))))return this.createStickyScrollNode(r,i)}nodeTopAlignsWithStickyNodesBottom(e,t){const i=this.getNodeIndex(e),r=this.view.getElementTop(i),o=t;return this.view.scrollTop===r-o}createStickyScrollNode(e,t){const i=this.treeDelegate.getHeight(e),{startIndex:r,endIndex:o}=this.getNodeRange(e),s=this.calculateStickyNodePosition(o,t,i);return{node:e,position:s,height:i,startIndex:r,endIndex:o}}getAncestorUnderPrevious(e,t=void 0){let i=e,r=this.getParentNode(i);for(;r;){if(r===t)return i;i=r,r=this.getParentNode(i)}if(t===void 0)return i}calculateStickyNodePosition(e,t,i){let r=this.view.getRelativeTop(e);if(r===null&&this.view.firstVisibleIndex===e&&e+1<this.view.length){const c=this.treeDelegate.getHeight(this.view.element(e)),d=this.view.getRelativeTop(e+1);r=d?d-c/this.view.renderHeight:null}if(r===null)return t;const o=this.view.element(e),s=this.treeDelegate.getHeight(o),l=r*this.view.renderHeight+s;return t+i>l&&t<=l?l-i:t}constrainStickyNodes(e){if(e.length===0)return[];const t=this.view.renderHeight*this.maxWidgetViewRatio,i=e[e.length-1];if(e.length<=this.stickyScrollMaxItemCount&&i.position+i.height<=t)return e;const r=this.stickyScrollDelegate.constrainStickyScrollNodes(e,this.stickyScrollMaxItemCount,t);if(!r.length)return[];const o=r[r.length-1];if(r.length>this.stickyScrollMaxItemCount||o.position+o.height>t)throw new Error("stickyScrollDelegate violates constraints");return r}getParentNode(e){const t=this.model.getNodeLocation(e),i=this.model.getParentNodeLocation(t);return i?this.model.getNode(i):void 0}nodeIsUncollapsedParent(e){const t=this.model.getNodeLocation(e);return this.model.getListRenderCount(t)>1}getNodeIndex(e){const t=this.model.getNodeLocation(e);return this.model.getListIndex(t)}getNodeRange(e){const t=this.model.getNodeLocation(e),i=this.model.getListIndex(t);if(i<0)throw new Error("Node not found in tree");const r=this.model.getListRenderCount(t),o=i+r-1;return{startIndex:i,endIndex:o}}nodePositionTopBelowWidget(e){const t=[];let i=this.getParentNode(e);for(;i;)t.push(i),i=this.getParentNode(i);let r=0;for(let o=0;o<t.length&&o<this.stickyScrollMaxItemCount;o++)r+=this.treeDelegate.getHeight(t[o]);return r}domFocus(){this._widget.domFocus()}focusedLast(){return this._widget.focusedLast()}updateOptions(e={}){if(!e.stickyScrollMaxItemCount)return;const t=this.validateStickySettings(e);this.stickyScrollMaxItemCount!==t.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=t.stickyScrollMaxItemCount,this.update())}validateStickySettings(e){let t=7;return typeof e.stickyScrollMaxItemCount=="number"&&(t=Math.max(e.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:t}}},N3e=class{constructor(e,t,i,r,o,s){this.view=t,this.tree=i,this.treeRenderers=r,this.treeDelegate=o,this.accessibilityProvider=s,this._previousElements=[],this._previousStateDisposables=new xe,this._rootDomNode=Te(".monaco-tree-sticky-container.empty"),e.appendChild(this._rootDomNode);const a=Te(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(a),this.stickyScrollFocus=new P3e(this._rootDomNode,t),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}setState(e){const t=!!this._previousState&&this._previousState.count>0,i=!!e&&e.count>0;if(!t&&!i||t&&i&&this._previousState.equal(e))return;if(t!==i&&this.setVisible(i),!i){this._previousState=void 0,this._previousElements=[],this._previousStateDisposables.clear();return}const r=e.stickyNodes[e.count-1];if(this._previousState&&e.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top=`${r.position}px`;else{this._previousStateDisposables.clear();const o=Array(e.count);for(let s=e.count-1;s>=0;s--){const a=e.stickyNodes[s],{element:l,disposable:c}=this.createElement(a,s,e.count);o[s]=l,this._rootDomNode.appendChild(l),this._previousStateDisposables.add(c)}this.stickyScrollFocus.updateElements(o,e),this._previousElements=o}this._previousState=e,this._rootDomNode.style.height=`${r.position+r.height}px`}createElement(e,t,i){const r=e.startIndex,o=document.createElement("div");o.style.top=`${e.position}px`,o.style.height=`${e.height}px`,o.style.lineHeight=`${e.height}px`,o.classList.add("monaco-tree-sticky-row"),o.classList.add("monaco-list-row"),o.setAttribute("data-index",`${r}`),o.setAttribute("data-parity",r%2===0?"even":"odd"),o.setAttribute("id",this.view.getElementID(r)),this.setAccessibilityAttributes(o,e.node.element,t,i);const s=this.treeDelegate.getTemplateId(e.node),a=this.treeRenderers.find(u=>u.templateId===s);if(!a)throw new Error(`No renderer found for template id ${s}`);let l=e.node;l===this.tree.getNode(this.tree.getNodeLocation(e.node))&&(l=new Proxy(e.node,{}));const c=a.renderTemplate(o);a.renderElement(l,e.startIndex,c,e.height);const d=at(()=>{a.disposeElement(l,e.startIndex,c,e.height),a.disposeTemplate(c),o.remove()});return{element:o,disposable:d}}setAccessibilityAttributes(e,t,i,r){var o;if(!this.accessibilityProvider)return;this.accessibilityProvider.getSetSize&&e.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(t,i,r))),this.accessibilityProvider.getPosInSet&&e.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(t,i))),this.accessibilityProvider.getRole&&e.setAttribute("role",(o=this.accessibilityProvider.getRole(t))!==null&&o!==void 0?o:"treeitem");const s=this.accessibilityProvider.getAriaLabel(t);s&&e.setAttribute("aria-label",s);const a=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(t);typeof a=="number"&&e.setAttribute("aria-level",`${a}`),e.setAttribute("aria-selected",String(!1))}setVisible(e){this._rootDomNode.classList.toggle("empty",!e),e||this.stickyScrollFocus.updateElements([],void 0)}domFocus(){this.stickyScrollFocus.domFocus()}focusedLast(){return this.stickyScrollFocus.focusedLast()}dispose(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()}};class P3e extends ce{get domHasFocus(){return this._domHasFocus}set domHasFocus(e){e!==this._domHasFocus&&(this._onDidChangeHasFocus.fire(e),this._domHasFocus=e)}constructor(e,t){super(),this.container=e,this.view=t,this.focusedIndex=-1,this.elements=[],this._onDidChangeHasFocus=new ne,this.onDidChangeHasFocus=this._onDidChangeHasFocus.event,this._onContextMenu=new ne,this.onContextMenu=this._onContextMenu.event,this._domHasFocus=!1,this.container.addEventListener("focus",()=>this.onFocus()),this.container.addEventListener("blur",()=>this.onBlur()),this._register(this.view.onDidFocus(()=>this.toggleStickyScrollFocused(!1))),this._register(this.view.onKeyDown(i=>this.onKeyDown(i))),this._register(this.view.onMouseDown(i=>this.onMouseDown(i))),this._register(this.view.onContextMenu(i=>this.handleContextMenu(i)))}handleContextMenu(e){const t=e.browserEvent.target;if(!EI(t)&&!Zw(t)){this.focusedLast()&&this.view.domFocus();return}if(!_6(e.browserEvent)){if(!this.state)throw new Error("Context menu should not be triggered when state is undefined");const s=this.state.stickyNodes.findIndex(a=>{var l;return a.node.element===((l=e.element)===null||l===void 0?void 0:l.element)});if(s===-1)throw new Error("Context menu should not be triggered when element is not in sticky scroll widget");this.container.focus(),this.setFocus(s);return}if(!this.state||this.focusedIndex<0)throw new Error("Context menu key should not be triggered when focus is not in sticky scroll widget");const r=this.state.stickyNodes[this.focusedIndex].node.element,o=this.elements[this.focusedIndex];this._onContextMenu.fire({element:r,anchor:o,browserEvent:e.browserEvent,isStickyScroll:!0})}onKeyDown(e){if(this.domHasFocus&&this.state){if(e.key==="ArrowUp")this.setFocusedElement(Math.max(0,this.focusedIndex-1)),e.preventDefault(),e.stopPropagation();else if(e.key==="ArrowDown"||e.key==="ArrowRight"){if(this.focusedIndex>=this.state.count-1){const t=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([t]),this.scrollNodeUnderWidget(t,this.state)}else this.setFocusedElement(this.focusedIndex+1);e.preventDefault(),e.stopPropagation()}}}onMouseDown(e){const t=e.browserEvent.target;!EI(t)&&!Zw(t)||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation())}updateElements(e,t){if(t&&t.count===0)throw new Error("Sticky scroll state must be undefined when there are no sticky nodes");if(t&&t.count!==e.length)throw new Error("Sticky scroll focus received illigel state");const i=this.focusedIndex;if(this.removeFocus(),this.elements=e,this.state=t,t){const r=ss(i,0,t.count-1);this.setFocus(r)}else this.domHasFocus&&this.view.domFocus();this.container.tabIndex=t?0:-1}setFocusedElement(e){const t=this.state;if(!t)throw new Error("Cannot set focus when state is undefined");if(this.setFocus(e),!(e<t.count-1)&&t.lastNodePartiallyVisible()){const i=t.stickyNodes[e];this.scrollNodeUnderWidget(i.endIndex+1,t)}}scrollNodeUnderWidget(e,t){const i=t.stickyNodes[t.count-1],r=t.count>1?t.stickyNodes[t.count-2]:void 0,o=this.view.getElementTop(e),s=r?r.position+r.height+i.height:i.height;this.view.scrollTop=o-s}domFocus(){if(!this.state)throw new Error("Cannot focus when state is undefined");this.container.focus()}focusedLast(){return this.state?this.view.getHTMLElement().classList.contains("sticky-scroll-focused"):!1}removeFocus(){this.focusedIndex!==-1&&(this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1)}setFocus(e){if(0>e)throw new Error("addFocus() can not remove focus");if(!this.state&&e>=0)throw new Error("Cannot set focus index when state is undefined");if(this.state&&e>=this.state.count)throw new Error("Cannot set focus index to an index that does not exist");const t=this.focusedIndex;t>=0&&this.toggleElementFocus(this.elements[t],!1),e>=0&&this.toggleElementFocus(this.elements[e],!0),this.focusedIndex=e}toggleElementFocus(e,t){e.classList.toggle("focused",t)}toggleStickyScrollFocused(e){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",e)}onFocus(){if(!this.state||this.elements.length===0)throw new Error("Cannot focus when state is undefined or elements are empty");this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.focusedIndex===-1&&this.setFocus(0)}onBlur(){this.domHasFocus=!1}dispose(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),super.dispose()}}function OZ(n){let e=gm.Unknown;return LA(n.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?e=gm.Twistie:LA(n.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?e=gm.Element:LA(n.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(e=gm.Filter),{browserEvent:n.browserEvent,element:n.element?n.element.element:null,target:e}}function wT(n,e){e(n),n.children.forEach(t=>wT(t,e))}class kO{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new ne,this.onDidChange=this._onDidChange.event}set(e,t){!(t!=null&&t.__forceEvent)&&vn(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const r=this;this._onDidChange.fire({get elements(){return r.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map(e=>e.element)),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){const l=this.createNodeSet(),c=d=>l.delete(d);t.forEach(d=>wT(d,c)),this.set([...l.values()]);return}const i=new Set,r=l=>i.add(this.identityProvider.getId(l.element).toString());t.forEach(l=>wT(l,r));const o=new Map,s=l=>o.set(this.identityProvider.getId(l.element).toString(),l);e.forEach(l=>wT(l,s));const a=[];for(const l of this.nodes){const c=this.identityProvider.getId(l.element).toString();if(!i.has(c))a.push(l);else{const u=o.get(c);u&&u.visible&&a.push(u)}}if(this.nodes.length>0&&a.length===0){const l=this.getFirstViewElementWithTrait();l&&a.push(l)}this._set(a,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class M3e extends ede{constructor(e,t,i){super(e),this.tree=t,this.stickyScrollProvider=i}onViewPointer(e){if(Yce(e.browserEvent.target)||mg(e.browserEvent.target)||rw(e.browserEvent.target)||e.browserEvent.isHandledByList)return;const t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const i=e.browserEvent.target,r=i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&e.browserEvent.offsetX<16,o=Zw(e.browserEvent.target);let s=!1;if(o?s=!0:typeof this.tree.expandOnlyOnTwistieClick=="function"?s=this.tree.expandOnlyOnTwistieClick(t.element):s=!!this.tree.expandOnlyOnTwistieClick,o)this.handleStickyScrollMouseEvent(e,t);else{if(s&&!r&&e.browserEvent.detail!==2)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&e.browserEvent.detail===2)return super.onViewPointer(e)}if(t.collapsible&&(!o||r)){const a=this.tree.getNodeLocation(t),l=e.browserEvent.altKey;if(this.tree.setFocus([a]),this.tree.toggleCollapsed(a,l),s&&r){e.browserEvent.isHandledByList=!0;return}}o||super.onViewPointer(e)}handleStickyScrollMouseEvent(e,t){if(uFe(e.browserEvent.target)||hFe(e.browserEvent.target))return;const i=this.stickyScrollProvider();if(!i)throw new Error("Sticky scroll controller not found");const r=this.list.indexOf(t),o=this.list.getElementTop(r),s=i.nodePositionTopBelowWidget(t);this.tree.scrollTop=o-s,this.list.domFocus(),this.list.setFocus([r]),this.list.setSelection([r])}onDoubleClick(e){e.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||e.browserEvent.isHandledByList||super.onDoubleClick(e)}onMouseDown(e){const t=e.browserEvent.target;if(!EI(t)&&!Zw(t)){super.onMouseDown(e);return}}onContextMenu(e){const t=e.browserEvent.target;if(!EI(t)&&!Zw(t)){super.onContextMenu(e);return}}}class R3e extends Zl{constructor(e,t,i,r,o,s,a,l){super(e,t,i,r,l),this.focusTrait=o,this.selectionTrait=s,this.anchorTrait=a}createMouseController(e){return new M3e(this,e.tree,e.stickyScrollProvider)}splice(e,t,i=[]){if(super.splice(e,t,i),i.length===0)return;const r=[],o=[];let s;i.forEach((a,l)=>{this.focusTrait.has(a)&&r.push(e+l),this.selectionTrait.has(a)&&o.push(e+l),this.anchorTrait.has(a)&&(s=e+l)}),r.length>0&&super.setFocus(Eg([...super.getFocus(),...r])),o.length>0&&super.setSelection(Eg([...super.getSelection(),...o])),typeof s=="number"&&super.setAnchor(s)}setFocus(e,t,i=!1){super.setFocus(e,t),i||this.focusTrait.set(e.map(r=>this.element(r)),t)}setSelection(e,t,i=!1){super.setSelection(e,t),i||this.selectionTrait.set(e.map(r=>this.element(r)),t)}setAnchor(e,t=!1){super.setAnchor(e),t||(typeof e>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}class gde{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return Ve.filter(Ve.map(this.view.onMouseDblClick,OZ),e=>e.target!==gm.Filter)}get onPointer(){return Ve.map(this.view.onPointer,OZ)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return Ve.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var e,t;return(t=(e=this.findController)===null||e===void 0?void 0:e.mode)!==null&&t!==void 0?t:ah.Highlight}set findMode(e){this.findController&&(this.findController.mode=e)}get findMatchType(){var e,t;return(t=(e=this.findController)===null||e===void 0?void 0:e.matchType)!==null&&t!==void 0?t:e_.Fuzzy}set findMatchType(e){this.findController&&(this.findController.matchType=e)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(e,t,i,r,o={}){var s;this._user=e,this._options=o,this.eventBufferer=new ZW,this.onDidChangeFindOpenState=Ve.None,this.onDidChangeStickyScrollFocused=Ve.None,this.disposables=new xe,this._onWillRefilter=new ne,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new ne,this.treeDelegate=new FV(i);const a=new vq,l=new vq,c=this.disposables.add(new L3e(l.event)),d=new x6;this.renderers=r.map(_=>new kS(_,()=>this.model,a.event,c,d,o));for(const _ of this.renderers)this.disposables.add(_);let u;o.keyboardNavigationLabelProvider&&(u=new k3e(this,o.keyboardNavigationLabelProvider,o.filter),o={...o,filter:u},this.disposables.add(u)),this.focus=new kO(()=>this.view.getFocusedElements()[0],o.identityProvider),this.selection=new kO(()=>this.view.getSelectedElements()[0],o.identityProvider),this.anchor=new kO(()=>this.view.getAnchorElement(),o.identityProvider),this.view=new R3e(e,t,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,{...x3e(()=>this.model,o),tree:this,stickyScrollProvider:()=>this.stickyScrollController}),this.model=this.createModel(e,this.view,o),a.input=this.model.onDidChangeCollapseState;const h=Ve.forEach(this.model.onDidSplice,_=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(_),this.selection.onDidModelSplice(_)})},this.disposables);h(()=>null,null,this.disposables);const f=this.disposables.add(new ne),g=this.disposables.add(new $l(0));if(this.disposables.add(Ve.any(h,this.focus.onDidChange,this.selection.onDidChange)(()=>{g.trigger(()=>{const _=new Set;for(const y of this.focus.getNodes())_.add(y);for(const y of this.selection.getNodes())_.add(y);f.fire([..._.values()])})})),l.input=f.event,o.keyboardSupport!==!1){const _=Ve.chain(this.view.onKeyDown,y=>y.filter(m=>!mg(m.target)).map(m=>new Oi(m)));Ve.chain(_,y=>y.filter(m=>m.keyCode===15))(this.onLeftArrow,this,this.disposables),Ve.chain(_,y=>y.filter(m=>m.keyCode===17))(this.onRightArrow,this,this.disposables),Ve.chain(_,y=>y.filter(m=>m.keyCode===10))(this.onSpace,this,this.disposables)}if((!((s=o.findWidgetEnabled)!==null&&s!==void 0)||s)&&o.keyboardNavigationLabelProvider&&o.contextViewProvider){const _=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new D3e(this,this.model,this.view,u,o.contextViewProvider,_),this.focusNavigationFilter=y=>this.findController.shouldAllowFocus(y),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=Ve.None,this.onDidChangeFindMatchType=Ve.None;o.enableStickyScroll&&(this.stickyScrollController=new AZ(this,this.model,this.view,this.renderers,this.treeDelegate,o),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus),this.styleElement=La(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===LS.Always)}updateOptions(e={}){var t;this._options={...this._options,...e};for(const i of this.renderers)i.updateOptions(e);this.view.updateOptions(this._options),(t=this.findController)===null||t===void 0||t.updateOptions(e),this.updateStickyScroll(e),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===LS.Always)}get options(){return this._options}updateStickyScroll(e){var t;!this.stickyScrollController&&this._options.enableStickyScroll?(this.stickyScrollController=new AZ(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.onDidChangeStickyScrollFocused=Ve.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0),(t=this.stickyScrollController)===null||t===void 0||t.updateOptions(e)}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}domFocus(){var e;!((e=this.stickyScrollController)===null||e===void 0)&&e.focusedLast()?this.stickyScrollController.domFocus():this.view.domFocus()}layout(e,t){var i;this.view.layout(e,t),Ig(t)&&((i=this.findController)===null||i===void 0||i.layout(t))}style(e){var t;const i=`.${this.view.domId}`,r=[];e.treeIndentGuidesStroke&&(r.push(`.monaco-list${i}:hover .monaco-tl-indent > .indent-guide, .monaco-list${i}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeInactiveIndentGuidesStroke}; }`),r.push(`.monaco-list${i} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`)),e.listBackground&&(r.push(`.monaco-list${i} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${e.listBackground}; }`),r.push(`.monaco-list${i} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${e.listBackground}; }`)),e.listFocusForeground&&(r.push(`.monaco-list${i}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),r.push(`.monaco-list${i}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }`));const o=gh(e.listFocusAndSelectionOutline,gh(e.listSelectionOutline,(t=e.listFocusOutline)!==null&&t!==void 0?t:""));o&&(r.push(`.monaco-list${i}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ${o}; outline-offset: -1px;}`),r.push(`.monaco-list${i}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}`)),e.listFocusOutline&&(r.push(`.monaco-list${i}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }`),r.push(`.monaco-list${i}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }`),r.push(`.monaco-workbench.context-menu-visible .monaco-list${i}.last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`),r.push(`.monaco-workbench.context-menu-visible .monaco-list${i}.last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`)),this.styleElement.textContent=r.join(`
`),this.view.style(e)}getParentElement(e){const t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}getFirstElementChild(e){return this.model.getFirstElementChild(e)}getNode(e){return this.model.getNode(e)}getNodeLocation(e){return this.model.getNodeLocation(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}toggleCollapsed(e,t=!1){return this.model.setCollapsed(e,void 0,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){this.eventBufferer.bufferEvents(()=>{const i=e.map(o=>this.model.getNode(o));this.selection.set(i,t);const r=e.map(o=>this.model.getListIndex(o)).filter(o=>o>-1);this.view.setSelection(r,t,!0)})}getSelection(){return this.selection.get()}setFocus(e,t){this.eventBufferer.bufferEvents(()=>{const i=e.map(o=>this.model.getNode(o));this.focus.set(i,t);const r=e.map(o=>this.model.getListIndex(o)).filter(o=>o>-1);this.view.setFocus(r,t,!0)})}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);const i=this.model.getListIndex(e);if(i!==-1)if(!this.stickyScrollController)this.view.reveal(i,t);else{const r=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(e));this.view.reveal(i,t,r)}}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],r=this.model.getNodeLocation(i);if(!this.model.setCollapsed(r,!0)){const s=this.model.getParentNodeLocation(r);if(!s)return;const a=this.model.getListIndex(s);this.view.reveal(a),this.view.setFocus([a])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],r=this.model.getNodeLocation(i);if(!this.model.setCollapsed(r,!1)){if(!i.children.some(l=>l.visible))return;const[s]=this.view.getFocus(),a=s+1;this.view.reveal(a),this.view.setFocus([a])}}onSpace(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],r=this.model.getNodeLocation(i),o=e.browserEvent.altKey;this.model.setCollapsed(r,void 0,o)}dispose(){var e;vi(this.disposables),(e=this.stickyScrollController)===null||e===void 0||e.dispose(),this.view.dispose()}}class BV{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new C3e(e,t,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare(r,o){return i.sorter.compare(r.element,o.element)}}),this.identityProvider=i.identityProvider}setChildren(e,t=Kt.empty(),i={}){const r=this.getElementLocation(e);this._setChildren(r,this.preserveCollapseState(t),i)}_setChildren(e,t=Kt.empty(),i){const r=new Set,o=new Set,s=l=>{var c;if(l.element===null)return;const d=l;if(r.add(d.element),this.nodes.set(d.element,d),this.identityProvider){const u=this.identityProvider.getId(d.element).toString();o.add(u),this.nodesByIdentity.set(u,d)}(c=i.onDidCreateNode)===null||c===void 0||c.call(i,d)},a=l=>{var c;if(l.element===null)return;const d=l;if(r.has(d.element)||this.nodes.delete(d.element),this.identityProvider){const u=this.identityProvider.getId(d.element).toString();o.has(u)||this.nodesByIdentity.delete(u)}(c=i.onDidDeleteNode)===null||c===void 0||c.call(i,d)};this.model.splice([...e,0],Number.MAX_VALUE,t,{...i,onDidCreateNode:s,onDidDeleteNode:a})}preserveCollapseState(e=Kt.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),Kt.map(e,t=>{let i=this.nodes.get(t.element);if(!i&&this.identityProvider){const s=this.identityProvider.getId(t.element).toString();i=this.nodesByIdentity.get(s)}if(!i){let s;return typeof t.collapsed>"u"?s=void 0:t.collapsed===ra.Collapsed||t.collapsed===ra.PreserveOrCollapsed?s=!0:t.collapsed===ra.Expanded||t.collapsed===ra.PreserveOrExpanded?s=!1:s=!!t.collapsed,{...t,children:this.preserveCollapseState(t.children),collapsed:s}}const r=typeof t.collapsible=="boolean"?t.collapsible:i.collapsible;let o;return typeof t.collapsed>"u"||t.collapsed===ra.PreserveOrCollapsed||t.collapsed===ra.PreserveOrExpanded?o=i.collapsed:t.collapsed===ra.Collapsed?o=!0:t.collapsed===ra.Expanded?o=!1:o=!!t.collapsed,{...t,collapsible:r,collapsed:o,children:this.preserveCollapseState(t.children)}})}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}getFirstElementChild(e=null){const t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const r=this.getElementLocation(e);return this.model.setCollapsed(r,t,i)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(e===null)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new ua(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(e===null)throw new ua(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new ua(this.user,`Tree element not found: ${e}`);const i=this.model.getNodeLocation(t),r=this.model.getParentNodeLocation(i);return this.model.getNode(r).element}getElementLocation(e){if(e===null)return[];const t=this.nodes.get(e);if(!t)throw new ua(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}}function ST(n){const e=[n.element],t=n.incompressible||!1;return{element:{elements:e,incompressible:t},children:Kt.map(Kt.from(n.children),ST),collapsible:n.collapsible,collapsed:n.collapsed}}function xT(n){const e=[n.element],t=n.incompressible||!1;let i,r;for(;[r,i]=Kt.consume(Kt.from(n.children),2),!(r.length!==1||r[0].incompressible);)n=r[0],e.push(n.element);return{element:{elements:e,incompressible:t},children:Kt.map(Kt.concat(r,i),xT),collapsible:n.collapsible,collapsed:n.collapsed}}function l9(n,e=0){let t;return e<n.element.elements.length-1?t=[l9(n,e+1)]:t=Kt.map(Kt.from(n.children),i=>l9(i,0)),e===0&&n.element.incompressible?{element:n.element.elements[e],children:t,incompressible:!0,collapsible:n.collapsible,collapsed:n.collapsed}:{element:n.element.elements[e],children:t,collapsible:n.collapsible,collapsed:n.collapsed}}function FZ(n){return l9(n,0)}function pde(n,e,t){return n.element===e?{...n,children:t}:{...n,children:Kt.map(Kt.from(n.children),i=>pde(i,e,t))}}const A3e=n=>({getId(e){return e.elements.map(t=>n.getId(t).toString()).join("\0")}});class O3e{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new BV(e,t,i),this.enabled=typeof i.compressionEnabled>"u"?!0:i.compressionEnabled,this.identityProvider=i.identityProvider}setChildren(e,t=Kt.empty(),i){const r=i.diffIdentityProvider&&A3e(i.diffIdentityProvider);if(e===null){const g=Kt.map(t,this.enabled?xT:ST);this._setChildren(null,g,{diffIdentityProvider:r,diffDepth:1/0});return}const o=this.nodes.get(e);if(!o)throw new ua(this.user,"Unknown compressed tree node");const s=this.model.getNode(o),a=this.model.getParentNodeLocation(o),l=this.model.getNode(a),c=FZ(s),d=pde(c,e,t),u=(this.enabled?xT:ST)(d),h=i.diffIdentityProvider?(g,_)=>i.diffIdentityProvider.getId(g)===i.diffIdentityProvider.getId(_):void 0;if(vn(u.element.elements,s.element.elements,h)){this._setChildren(o,u.children||Kt.empty(),{diffIdentityProvider:r,diffDepth:1});return}const f=l.children.map(g=>g===s?u:g);this._setChildren(l.element,f,{diffIdentityProvider:r,diffDepth:s.depth-l.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const i=this.model.getNode().children,r=Kt.map(i,FZ),o=Kt.map(r,e?xT:ST);this._setChildren(null,o,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,i){const r=new Set,o=a=>{for(const l of a.element.elements)r.add(l),this.nodes.set(l,a.element)},s=a=>{for(const l of a.element.elements)r.has(l)||this.nodes.delete(l)};this.model.setChildren(e,t,{...i,onDidCreateNode:o,onDidDeleteNode:s})}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(typeof e>"u")return this.model.getNode();const t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){const t=this.model.getNodeLocation(e);return t===null?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){const t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return i===null?null:i.elements[i.elements.length-1]}getFirstElementChild(e){const t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}isCollapsible(e){const t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const r=this.getCompressedNode(e);return this.model.setCollapsed(r,t,i)}expandTo(e){const t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){const t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(e===null)return null;const t=this.nodes.get(e);if(!t)throw new ua(this.user,`Tree element not found: ${e}`);return t}}const F3e=n=>n[n.length-1];class WV{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(e=>new WV(this.unwrapper,e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e,t){this.unwrapper=e,this.node=t}}function B3e(n,e){return{splice(t,i,r){e.splice(t,i,r.map(o=>n.map(o)))},updateElementHeight(t,i){e.updateElementHeight(t,i)}}}function W3e(n,e){return{...e,identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(n(t))}},sorter:e.sorter&&{compare(t,i){return e.sorter.compare(t.elements[0],i.elements[0])}},filter:e.filter&&{filter(t,i){return e.filter.filter(n(t),i)}}}}class V3e{get onDidSplice(){return Ve.map(this.model.onDidSplice,({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map(i=>this.nodeMapper.map(i)),deletedNodes:t.map(i=>this.nodeMapper.map(i))}))}get onDidChangeCollapseState(){return Ve.map(this.model.onDidChangeCollapseState,({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t}))}get onDidChangeRenderNodeCount(){return Ve.map(this.model.onDidChangeRenderNodeCount,e=>this.nodeMapper.map(e))}constructor(e,t,i={}){this.rootRef=null,this.elementMapper=i.elementMapper||F3e;const r=o=>this.elementMapper(o.elements);this.nodeMapper=new AV(o=>new WV(r,o)),this.model=new O3e(e,B3e(this.nodeMapper,t),W3e(r,i))}setChildren(e,t=Kt.empty(),i={}){this.model.setChildren(e,t,i)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}getFirstElementChild(e){const t=this.model.getFirstElementChild(e);return t===null||typeof t>"u"?t:this.elementMapper(t.elements)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}}var H3e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};class VV extends gde{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(e,t,i,r,o={}){super(e,t,i,r,o),this.user=e}setChildren(e,t=Kt.empty(),i){this.model.setChildren(e,t,i)}rerender(e){if(e===void 0){this.view.rerender();return}this.model.rerender(e)}hasElement(e){return this.model.has(e)}createModel(e,t,i){return new BV(e,t,i)}}class mde{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(e,t,i){this._compressedTreeNodeProvider=e,this.stickyScrollDelegate=t,this.renderer=i,this.templateId=i.templateId,i.onDidChangeTwistieState&&(this.onDidChangeTwistieState=i.onDidChangeTwistieState)}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,i,r){let o=this.stickyScrollDelegate.getCompressedNode(e);o||(o=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element)),o.element.elements.length===1?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,r)):(i.compressedTreeNode=o,this.renderer.renderCompressedElements(o,t,i.data,r))}disposeElement(e,t,i,r){var o,s,a,l;i.compressedTreeNode?(s=(o=this.renderer).disposeCompressedElements)===null||s===void 0||s.call(o,i.compressedTreeNode,t,i.data,r):(l=(a=this.renderer).disposeElement)===null||l===void 0||l.call(a,e,t,i.data,r)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(e,t):!1}}H3e([Mn],mde.prototype,"compressedTreeNodeProvider",null);class z3e{constructor(e){this.modelProvider=e,this.compressedStickyNodes=new Map}getCompressedNode(e){return this.compressedStickyNodes.get(e)}constrainStickyScrollNodes(e,t,i){if(this.compressedStickyNodes.clear(),e.length===0)return[];for(let r=0;r<e.length;r++){const o=e[r],s=o.position+o.height;if(r+1<e.length&&s+e[r+1].height>i||r>=t-1&&t<e.length){const l=e.slice(0,r),c=e.slice(r),d=this.compressStickyNodes(c);return[...l,d]}}return e}compressStickyNodes(e){if(e.length===0)throw new Error("Can't compress empty sticky nodes");if(!this.modelProvider().isCompressionEnabled())return e[0];const t=[];for(const l of e){const c=this.modelProvider().getCompressedTreeNode(l.node.element);if(c.element){if(c.element.incompressible)break;t.push(...c.element.elements)}}if(t.length<2)return e[0];const i=e[e.length-1],r={elements:t,incompressible:!1},o={...i.node,children:[],element:r},s=new Proxy(e[0].node,{}),a={node:s,startIndex:e[0].startIndex,endIndex:i.endIndex,position:e[0].position,height:e[0].height};return this.compressedStickyNodes.set(s,o),a}}function j3e(n,e){return e&&{...e,keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let i;try{i=n().getCompressedTreeNode(t)}catch{return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return i.element.elements.length===1?e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(i.element.elements)}}}}class _de extends VV{constructor(e,t,i,r,o={}){const s=()=>this,a=new z3e(()=>this.model),l=r.map(c=>new mde(s,a,c));super(e,t,i,l,{...j3e(s,o),stickyScrollDelegate:a})}setChildren(e,t=Kt.empty(),i){this.model.setChildren(e,t,i)}createModel(e,t,i){return new V3e(e,t,i)}updateOptions(e={}){super.updateOptions(e),typeof e.compressionEnabled<"u"&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}function DO(n){return{...n,children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1}}function c9(n,e){return e.parent?e.parent===n?!0:c9(n,e.parent):!1}function U3e(n,e){return n===e||c9(n,e)||c9(e,n)}class HV{get element(){return this.node.element.element}get children(){return this.node.children.map(e=>new HV(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e){this.node=e}}class $3e{constructor(e,t,i){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,r){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,r)}renderTwistie(e,t){return e.slow?(t.classList.add(...lt.asClassNameArray(Ae.treeItemLoading)),!0):(t.classList.remove(...lt.asClassNameArray(Ae.treeItemLoading)),!1)}disposeElement(e,t,i,r){var o,s;(s=(o=this.renderer).disposeElement)===null||s===void 0||s.call(o,this.nodeMapper.map(e),t,i.templateData,r)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function BZ(n){return{browserEvent:n.browserEvent,elements:n.elements.map(e=>e.element)}}function WZ(n){return{browserEvent:n.browserEvent,element:n.element&&n.element.element,target:n.target}}class q3e extends Qx{constructor(e){super(e.elements.map(t=>t.element)),this.data=e}}function TO(n){return n instanceof Qx?new q3e(n):n}class K3e{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){var i,r;(r=(i=this.dnd).onDragStart)===null||r===void 0||r.call(i,TO(e),t)}onDragOver(e,t,i,r,o,s=!0){return this.dnd.onDragOver(TO(e),t&&t.element,i,r,o)}drop(e,t,i,r,o){this.dnd.drop(TO(e),t&&t.element,i,r,o)}onDragEnd(e){var t,i;(i=(t=this.dnd).onDragEnd)===null||i===void 0||i.call(t,e)}dispose(){this.dnd.dispose()}}function vde(n){return n&&{...n,collapseByDefault:!0,identityProvider:n.identityProvider&&{getId(e){return n.identityProvider.getId(e.element)}},dnd:n.dnd&&new K3e(n.dnd),multipleSelectionController:n.multipleSelectionController&&{isSelectionSingleChangeEvent(e){return n.multipleSelectionController.isSelectionSingleChangeEvent({...e,element:e.element})},isSelectionRangeChangeEvent(e){return n.multipleSelectionController.isSelectionRangeChangeEvent({...e,element:e.element})}},accessibilityProvider:n.accessibilityProvider&&{...n.accessibilityProvider,getPosInSet:void 0,getSetSize:void 0,getRole:n.accessibilityProvider.getRole?e=>n.accessibilityProvider.getRole(e.element):()=>"treeitem",isChecked:n.accessibilityProvider.isChecked?e=>{var t;return!!(!((t=n.accessibilityProvider)===null||t===void 0)&&t.isChecked(e.element))}:void 0,getAriaLabel(e){return n.accessibilityProvider.getAriaLabel(e.element)},getWidgetAriaLabel(){return n.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:n.accessibilityProvider.getWidgetRole?()=>n.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:n.accessibilityProvider.getAriaLevel&&(e=>n.accessibilityProvider.getAriaLevel(e.element)),getActiveDescendantId:n.accessibilityProvider.getActiveDescendantId&&(e=>n.accessibilityProvider.getActiveDescendantId(e.element))},filter:n.filter&&{filter(e,t){return n.filter.filter(e.element,t)}},keyboardNavigationLabelProvider:n.keyboardNavigationLabelProvider&&{...n.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(e){return n.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}},sorter:void 0,expandOnlyOnTwistieClick:typeof n.expandOnlyOnTwistieClick>"u"?void 0:typeof n.expandOnlyOnTwistieClick!="function"?n.expandOnlyOnTwistieClick:e=>n.expandOnlyOnTwistieClick(e.element),defaultFindVisibility:e=>e.hasChildren&&e.stale?1:typeof n.defaultFindVisibility=="number"?n.defaultFindVisibility:typeof n.defaultFindVisibility>"u"?2:n.defaultFindVisibility(e.element)}}function d9(n,e){e(n),n.children.forEach(t=>d9(t,e))}class bde{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return Ve.map(this.tree.onDidChangeFocus,BZ)}get onDidChangeSelection(){return Ve.map(this.tree.onDidChangeSelection,BZ)}get onMouseDblClick(){return Ve.map(this.tree.onMouseDblClick,WZ)}get onPointer(){return Ve.map(this.tree.onPointer,WZ)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidChangeStickyScrollFocused(){return this.tree.onDidChangeStickyScrollFocused}get onDidDispose(){return this.tree.onDidDispose}constructor(e,t,i,r,o,s={}){this.user=e,this.dataSource=o,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new ne,this._onDidChangeNodeSlowState=new ne,this.nodeMapper=new AV(a=>new HV(a)),this.disposables=new xe,this.identityProvider=s.identityProvider,this.autoExpandSingleChildren=typeof s.autoExpandSingleChildren>"u"?!1:s.autoExpandSingleChildren,this.sorter=s.sorter,this.getDefaultCollapseState=a=>s.collapseByDefault?s.collapseByDefault(a)?ra.PreserveOrCollapsed:ra.PreserveOrExpanded:void 0,this.tree=this.createTree(e,t,i,r,s),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=DO({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root={...this.root,id:null}),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(e,t,i,r,o){const s=new FV(i),a=r.map(c=>new $3e(c,this.nodeMapper,this._onDidChangeNodeSlowState.event)),l=vde(o)||{};return new VV(e,t,s,a,l)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}async setInput(e,t){this.refreshPromises.forEach(r=>r.cancel()),this.refreshPromises.clear(),this.root.element=e;const i=t&&{viewState:t,focus:[],selection:[]};await this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&typeof t.scrollTop=="number"&&(this.scrollTop=t.scrollTop)}async _updateChildren(e=this.root.element,t=!0,i=!1,r,o){if(typeof this.root.element>"u")throw new ua(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await Ve.toPromise(this._onDidRender.event));const s=this.getDataNode(e);if(await this.refreshAndRenderNode(s,t,r,o),i)try{this.tree.rerender(s)}catch{}}rerender(e){if(e===void 0||e===this.root.element){this.tree.rerender();return}const t=this.getDataNode(e);this.tree.rerender(t)}getNode(e=this.root.element){const t=this.getDataNode(e),i=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(i)}collapse(e,t=!1){const i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}async expand(e,t=!1){if(typeof this.root.element>"u")throw new ua(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await Ve.toPromise(this._onDidRender.event));const i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i)||(i.refreshPromise&&(await this.root.refreshPromise,await Ve.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i)))return!1;const r=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(await this.root.refreshPromise,await Ve.toPromise(this._onDidRender.event)),r}setSelection(e,t){const i=e.map(r=>this.getDataNode(r));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map(t=>t.element)}setFocus(e,t){const i=e.map(r=>this.getDataNode(r));this.tree.setFocus(i,t)}getFocus(){return this.tree.getFocus().map(t=>t.element)}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getParentElement(e){const t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}getFirstElementChild(e=this.root.element){const t=this.getDataNode(e),i=this.tree.getFirstElementChild(t===this.root?null:t);return i&&i.element}getDataNode(e){const t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new ua(this.user,`Data tree node not found: ${e}`);return t}async refreshAndRenderNode(e,t,i,r){await this.refreshNode(e,t,i),!this.disposables.isDisposed&&this.render(e,i,r)}async refreshNode(e,t,i){let r;if(this.subTreeRefreshPromises.forEach((o,s)=>{!r&&U3e(s,e)&&(r=o.then(()=>this.refreshNode(e,t,i)))}),r)return r;if(e!==this.root&&this.tree.getNode(e).collapsed){e.hasChildren=!!this.dataSource.hasChildren(e.element),e.stale=!0;return}return this.doRefreshSubTree(e,t,i)}async doRefreshSubTree(e,t,i){let r;e.refreshPromise=new Promise(o=>r=o),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally(()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)});try{const o=await this.doRefreshNode(e,t,i);e.stale=!1,await IF.settled(o.map(s=>this.doRefreshSubTree(s,t,i)))}finally{r()}}async doRefreshNode(e,t,i){e.hasChildren=!!this.dataSource.hasChildren(e.element);let r;if(!e.hasChildren)r=Promise.resolve(Kt.empty());else{const o=this.doGetChildren(e);if(hq(o))r=Promise.resolve(o);else{const s=Mg(800);s.then(()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)},a=>null),r=o.finally(()=>s.cancel())}}try{const o=await r;return this.setChildren(e,o,t,i)}catch(o){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),Jc(o))return[];throw o}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}}doGetChildren(e){let t=this.refreshPromises.get(e);if(t)return t;const i=this.dataSource.getChildren(e.element);return hq(i)?this.processChildren(i):(t=gr(async()=>this.processChildren(await i)),this.refreshPromises.set(e,t),t.finally(()=>{this.refreshPromises.delete(e)}))}_onDidChangeCollapseState({node:e,deep:t}){e.element!==null&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(St))}setChildren(e,t,i,r){const o=[...t];if(e.children.length===0&&o.length===0)return[];const s=new Map,a=new Map;for(const d of e.children)s.set(d.element,d),this.identityProvider&&a.set(d.id,{node:d,collapsed:this.tree.hasElement(d)&&this.tree.isCollapsed(d)});const l=[],c=o.map(d=>{const u=!!this.dataSource.hasChildren(d);if(!this.identityProvider){const _=DO({element:d,parent:e,hasChildren:u,defaultCollapseState:this.getDefaultCollapseState(d)});return u&&_.defaultCollapseState===ra.PreserveOrExpanded&&l.push(_),_}const h=this.identityProvider.getId(d).toString(),f=a.get(h);if(f){const _=f.node;return s.delete(_.element),this.nodes.delete(_.element),this.nodes.set(d,_),_.element=d,_.hasChildren=u,i?f.collapsed?(_.children.forEach(y=>d9(y,m=>this.nodes.delete(m.element))),_.children.splice(0,_.children.length),_.stale=!0):l.push(_):u&&!f.collapsed&&l.push(_),_}const g=DO({element:d,parent:e,id:h,hasChildren:u,defaultCollapseState:this.getDefaultCollapseState(d)});return r&&r.viewState.focus&&r.viewState.focus.indexOf(h)>-1&&r.focus.push(g),r&&r.viewState.selection&&r.viewState.selection.indexOf(h)>-1&&r.selection.push(g),(r&&r.viewState.expanded&&r.viewState.expanded.indexOf(h)>-1||u&&g.defaultCollapseState===ra.PreserveOrExpanded)&&l.push(g),g});for(const d of s.values())d9(d,u=>this.nodes.delete(u.element));for(const d of c)this.nodes.set(d.element,d);return e.children.splice(0,e.children.length,...c),e!==this.root&&this.autoExpandSingleChildren&&c.length===1&&l.length===0&&(c[0].forceExpanded=!0,l.push(c[0])),l}render(e,t,i){const r=e.children.map(s=>this.asTreeElement(s,t)),o=i&&{...i,diffIdentityProvider:i.diffIdentityProvider&&{getId(s){return i.diffIdentityProvider.getId(s.element)}}};this.tree.setChildren(e===this.root?null:e,r,o),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1?i=!1:e.forceExpanded?(i=!1,e.forceExpanded=!1):i=e.defaultCollapseState,{element:e,children:e.hasChildren?Kt.map(e.children,r=>this.asTreeElement(r,t)):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose(),this.tree.dispose()}}class zV{get element(){return{elements:this.node.element.elements.map(e=>e.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(e=>new zV(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e){this.node=e}}class G3e{constructor(e,t,i,r){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=i,this.onDidChangeTwistieState=r,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,r){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,r)}renderCompressedElements(e,t,i,r){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,r)}renderTwistie(e,t){return e.slow?(t.classList.add(...lt.asClassNameArray(Ae.treeItemLoading)),!0):(t.classList.remove(...lt.asClassNameArray(Ae.treeItemLoading)),!1)}disposeElement(e,t,i,r){var o,s;(s=(o=this.renderer).disposeElement)===null||s===void 0||s.call(o,this.nodeMapper.map(e),t,i.templateData,r)}disposeCompressedElements(e,t,i,r){var o,s;(s=(o=this.renderer).disposeCompressedElements)===null||s===void 0||s.call(o,this.compressibleNodeMapperProvider().map(e),t,i.templateData,r)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=vi(this.disposables)}}function Z3e(n){const e=n&&vde(n);return e&&{...e,keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{...e.keyboardNavigationLabelProvider,getCompressedNodeKeyboardNavigationLabel(t){return n.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map(i=>i.element))}}}}class Y3e extends bde{constructor(e,t,i,r,o,s,a={}){super(e,t,i,o,s,a),this.compressionDelegate=r,this.compressibleNodeMapper=new AV(l=>new zV(l)),this.filter=a.filter}createTree(e,t,i,r,o){const s=new FV(i),a=r.map(c=>new G3e(c,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),l=Z3e(o)||{};return new _de(e,t,s,a,l)}asTreeElement(e,t){return{incompressible:this.compressionDelegate.isIncompressible(e.element),...super.asTreeElement(e,t)}}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t,i){if(!this.identityProvider)return super.render(e,t);const r=f=>this.identityProvider.getId(f).toString(),o=f=>{const g=new Set;for(const _ of f){const y=this.tree.getCompressedTreeNode(_===this.root?null:_);if(y.element)for(const m of y.element.elements)g.add(r(m.element))}return g},s=o(this.tree.getSelection()),a=o(this.tree.getFocus());super.render(e,t,i);const l=this.getSelection();let c=!1;const d=this.getFocus();let u=!1;const h=f=>{const g=f.element;if(g)for(let _=0;_<g.elements.length;_++){const y=r(g.elements[_].element),m=g.elements[g.elements.length-1].element;s.has(y)&&l.indexOf(m)===-1&&(l.push(m),c=!0),a.has(y)&&d.indexOf(m)===-1&&(d.push(m),u=!0)}f.children.forEach(h)};h(this.tree.getCompressedTreeNode(e===this.root?null:e)),c&&this.setSelection(l),u&&this.setFocus(d)}processChildren(e){return this.filter&&(e=Kt.filter(e,t=>{const i=this.filter.filter(t,1),r=X3e(i);if(r===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return r===1})),super.processChildren(e)}}function X3e(n){return typeof n=="boolean"?n?1:0:OV(n)?xS(n.visibility):xS(n)}class Q3e extends gde{constructor(e,t,i,r,o,s={}){super(e,t,i,r,s),this.user=e,this.dataSource=o,this.identityProvider=s.identityProvider}createModel(e,t,i){return new BV(e,t,i)}}new je("isMac",qt,w("isMac","Whether the operating system is macOS"));new je("isLinux",Uo,w("isLinux","Whether the operating system is Linux"));const _M=new je("isWindows",no,w("isWindows","Whether the operating system is Windows")),yde=new je("isWeb",lp,w("isWeb","Whether the platform is a web browser"));new je("isMacNative",qt&&!lp,w("isMacNative","Whether the operating system is macOS on a non-browser platform"));new je("isIOS",jc,w("isIOS","Whether the operating system is iOS"));new je("isMobile",Cse,w("isMobile","Whether the platform is a mobile web browser"));new je("isDevelopment",!1,!0);new je("productQualityType","",w("productQualityType","Quality type of VS Code"));const Cde="inputFocus";new je(Cde,!1,w("inputFocus","Whether keyboard focus is inside an input box"));var Wh=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Fi=function(n,e){return function(t,i){e(t,i,n)}};const hl=zt("listService");class J3e{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new xe,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(e){var t,i;e!==this._lastFocusedWidget&&((t=this._lastFocusedWidget)===null||t===void 0||t.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=e,(i=this._lastFocusedWidget)===null||i===void 0||i.getHTMLElement().classList.add("last-focused"))}register(e,t){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new tde(La(),"").style(O_)),this.lists.some(r=>r.widget===e))throw new Error("Cannot register the same widget multiple times");const i={widget:e,extraContextKeys:t};return this.lists.push(i),AP(e.getHTMLElement())&&this.setLastFocusedList(e),Wl(e.onDidFocus(()=>this.setLastFocusedList(e)),at(()=>this.lists.splice(this.lists.indexOf(i),1)),e.onDidDispose(()=>{this.lists=this.lists.filter(r=>r!==i),this._lastFocusedWidget===e&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}const DS=new je("listScrollAtBoundary","none");we.or(DS.isEqualTo("top"),DS.isEqualTo("both"));we.or(DS.isEqualTo("bottom"),DS.isEqualTo("both"));const wde=new je("listFocus",!0),Sde=new je("treestickyScrollFocused",!1),vM=new je("listSupportsMultiselect",!0),xde=we.and(wde,we.not(Cde),Sde.negate()),jV=new je("listHasSelectionOrFocus",!1),UV=new je("listDoubleSelection",!1),$V=new je("listMultiSelection",!1),bM=new je("listSelectionNavigation",!1),e9e=new je("listSupportsFind",!0),qV=new je("treeElementCanCollapse",!1),t9e=new je("treeElementHasParent",!1),KV=new je("treeElementCanExpand",!1),i9e=new je("treeElementHasChild",!1),n9e=new je("treeFindOpen",!1),Lde="listTypeNavigationMode",kde="listAutomaticKeyboardNavigation";function yM(n,e){const t=n.createScoped(e.getHTMLElement());return wde.bindTo(t),t}function CM(n,e){const t=DS.bindTo(n),i=()=>{const r=e.scrollTop===0,o=e.scrollHeight-e.renderHeight-e.scrollTop<1;r&&o?t.set("both"):r?t.set("top"):o?t.set("bottom"):t.set("none")};return i(),e.onDidScroll(i)}const F_="workbench.list.multiSelectModifier",LT="workbench.list.openMode",el="workbench.list.horizontalScrolling",GV="workbench.list.defaultFindMode",ZV="workbench.list.typeNavigationMode",HI="workbench.list.keyboardNavigation",Zc="workbench.list.scrollByPage",YV="workbench.list.defaultFindMatchType",TS="workbench.tree.indent",zI="workbench.tree.renderIndentGuides",Yc="workbench.list.smoothScrolling",uu="workbench.list.mouseWheelScrollSensitivity",hu="workbench.list.fastScrollSensitivity",jI="workbench.tree.expandMode",UI="workbench.tree.enableStickyScroll",$I="workbench.tree.stickyScrollMaxItemCount";function fu(n){return n.getValue(F_)==="alt"}class r9e extends ce{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=fu(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(F_)&&(this.useAltAsMultipleSelectionModifier=fu(this.configurationService))}))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:Qce(e)}isSelectionRangeChangeEvent(e){return Jce(e)}}function wM(n,e){var t;const i=n.get(jt),r=n.get(xi),o=new xe;return[{...e,keyboardNavigationDelegate:{mightProducePrintableCharacter(a){return r.mightProducePrintableCharacter(a)}},smoothScrolling:!!i.getValue(Yc),mouseWheelScrollSensitivity:i.getValue(uu),fastScrollSensitivity:i.getValue(hu),multipleSelectionController:(t=e.multipleSelectionController)!==null&&t!==void 0?t:o.add(new r9e(i)),keyboardNavigationEventFilter:a9e(r),scrollByPage:!!i.getValue(Zc)},o]}let u9=class extends Zl{constructor(e,t,i,r,o,s,a,l,c){const d=typeof o.horizontalScrolling<"u"?o.horizontalScrolling:!!l.getValue(el),[u,h]=c.invokeFunction(wM,o);super(e,t,i,r,{keyboardSupport:!1,...u,horizontalScrolling:d}),this.disposables.add(h),this.contextKeyService=yM(s,this),this.disposables.add(CM(this.contextKeyService,this)),this.listSupportsMultiSelect=vM.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(o.multipleSelectionSupport!==!1),bM.bindTo(this.contextKeyService).set(!!o.selectionNavigation),this.listHasSelectionOrFocus=jV.bindTo(this.contextKeyService),this.listDoubleSelection=UV.bindTo(this.contextKeyService),this.listMultiSelection=$V.bindTo(this.contextKeyService),this.horizontalScrolling=o.horizontalScrolling,this._useAltAsMultipleSelectionModifier=fu(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(o.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const g=this.getSelection(),_=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(g.length>0||_.length>0),this.listMultiSelection.set(g.length>1),this.listDoubleSelection.set(g.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const g=this.getSelection(),_=this.getFocus();this.listHasSelectionOrFocus.set(g.length>0||_.length>0)})),this.disposables.add(l.onDidChangeConfiguration(g=>{g.affectsConfiguration(F_)&&(this._useAltAsMultipleSelectionModifier=fu(l));let _={};if(g.affectsConfiguration(el)&&this.horizontalScrolling===void 0){const y=!!l.getValue(el);_={..._,horizontalScrolling:y}}if(g.affectsConfiguration(Zc)){const y=!!l.getValue(Zc);_={..._,scrollByPage:y}}if(g.affectsConfiguration(Yc)){const y=!!l.getValue(Yc);_={..._,smoothScrolling:y}}if(g.affectsConfiguration(uu)){const y=l.getValue(uu);_={..._,mouseWheelScrollSensitivity:y}}if(g.affectsConfiguration(hu)){const y=l.getValue(hu);_={..._,fastScrollSensitivity:y}}Object.keys(_).length>0&&this.updateOptions(_)})),this.navigator=new Dde(this,{configurationService:l,...o}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?ky(e):O_)}};u9=Wh([Fi(5,_t),Fi(6,hl),Fi(7,jt),Fi(8,dt)],u9);let VZ=class extends n3e{constructor(e,t,i,r,o,s,a,l,c){const d=typeof o.horizontalScrolling<"u"?o.horizontalScrolling:!!l.getValue(el),[u,h]=c.invokeFunction(wM,o);super(e,t,i,r,{keyboardSupport:!1,...u,horizontalScrolling:d}),this.disposables=new xe,this.disposables.add(h),this.contextKeyService=yM(s,this),this.disposables.add(CM(this.contextKeyService,this.widget)),this.horizontalScrolling=o.horizontalScrolling,this.listSupportsMultiSelect=vM.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(o.multipleSelectionSupport!==!1),bM.bindTo(this.contextKeyService).set(!!o.selectionNavigation),this._useAltAsMultipleSelectionModifier=fu(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(o.overrideStyles),this.disposables.add(l.onDidChangeConfiguration(g=>{g.affectsConfiguration(F_)&&(this._useAltAsMultipleSelectionModifier=fu(l));let _={};if(g.affectsConfiguration(el)&&this.horizontalScrolling===void 0){const y=!!l.getValue(el);_={..._,horizontalScrolling:y}}if(g.affectsConfiguration(Zc)){const y=!!l.getValue(Zc);_={..._,scrollByPage:y}}if(g.affectsConfiguration(Yc)){const y=!!l.getValue(Yc);_={..._,smoothScrolling:y}}if(g.affectsConfiguration(uu)){const y=l.getValue(uu);_={..._,mouseWheelScrollSensitivity:y}}if(g.affectsConfiguration(hu)){const y=l.getValue(hu);_={..._,fastScrollSensitivity:y}}Object.keys(_).length>0&&this.updateOptions(_)})),this.navigator=new Dde(this,{configurationService:l,...o}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?ky(e):O_)}dispose(){this.disposables.dispose(),super.dispose()}};VZ=Wh([Fi(5,_t),Fi(6,hl),Fi(7,jt),Fi(8,dt)],VZ);let HZ=class extends mM{constructor(e,t,i,r,o,s,a,l,c,d){const u=typeof s.horizontalScrolling<"u"?s.horizontalScrolling:!!c.getValue(el),[h,f]=d.invokeFunction(wM,s);super(e,t,i,r,o,{keyboardSupport:!1,...h,horizontalScrolling:u}),this.disposables.add(f),this.contextKeyService=yM(a,this),this.disposables.add(CM(this.contextKeyService,this)),this.listSupportsMultiSelect=vM.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(s.multipleSelectionSupport!==!1),bM.bindTo(this.contextKeyService).set(!!s.selectionNavigation),this.listHasSelectionOrFocus=jV.bindTo(this.contextKeyService),this.listDoubleSelection=UV.bindTo(this.contextKeyService),this.listMultiSelection=$V.bindTo(this.contextKeyService),this.horizontalScrolling=s.horizontalScrolling,this._useAltAsMultipleSelectionModifier=fu(c),this.disposables.add(this.contextKeyService),this.disposables.add(l.register(this)),this.updateStyles(s.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const _=this.getSelection(),y=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(_.length>0||y.length>0),this.listMultiSelection.set(_.length>1),this.listDoubleSelection.set(_.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const _=this.getSelection(),y=this.getFocus();this.listHasSelectionOrFocus.set(_.length>0||y.length>0)})),this.disposables.add(c.onDidChangeConfiguration(_=>{_.affectsConfiguration(F_)&&(this._useAltAsMultipleSelectionModifier=fu(c));let y={};if(_.affectsConfiguration(el)&&this.horizontalScrolling===void 0){const m=!!c.getValue(el);y={...y,horizontalScrolling:m}}if(_.affectsConfiguration(Zc)){const m=!!c.getValue(Zc);y={...y,scrollByPage:m}}if(_.affectsConfiguration(Yc)){const m=!!c.getValue(Yc);y={...y,smoothScrolling:m}}if(_.affectsConfiguration(uu)){const m=c.getValue(uu);y={...y,mouseWheelScrollSensitivity:m}}if(_.affectsConfiguration(hu)){const m=c.getValue(hu);y={...y,fastScrollSensitivity:m}}Object.keys(y).length>0&&this.updateOptions(y)})),this.navigator=new o9e(this,{configurationService:c,...s}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?ky(e):O_)}dispose(){this.disposables.dispose(),super.dispose()}};HZ=Wh([Fi(6,_t),Fi(7,hl),Fi(8,jt),Fi(9,dt)],HZ);class XV extends ce{constructor(e,t){var i;super(),this.widget=e,this._onDidOpen=this._register(new ne),this.onDidOpen=this._onDidOpen.event,this._register(Ve.filter(this.widget.onDidChangeSelection,r=>_6(r.browserEvent))(r=>this.onSelectionFromKeyboard(r))),this._register(this.widget.onPointer(r=>this.onPointer(r.element,r.browserEvent))),this._register(this.widget.onMouseDblClick(r=>this.onMouseDblClick(r.element,r.browserEvent))),typeof(t==null?void 0:t.openOnSingleClick)!="boolean"&&(t!=null&&t.configurationService)?(this.openOnSingleClick=(t==null?void 0:t.configurationService.getValue(LT))!=="doubleClick",this._register(t==null?void 0:t.configurationService.onDidChangeConfiguration(r=>{r.affectsConfiguration(LT)&&(this.openOnSingleClick=(t==null?void 0:t.configurationService.getValue(LT))!=="doubleClick")}))):this.openOnSingleClick=(i=t==null?void 0:t.openOnSingleClick)!==null&&i!==void 0?i:!0}onSelectionFromKeyboard(e){if(e.elements.length!==1)return;const t=e.browserEvent,i=typeof t.preserveFocus=="boolean"?t.preserveFocus:!0,r=typeof t.pinned=="boolean"?t.pinned:!i;this._open(this.getSelectedElement(),i,r,!1,e.browserEvent)}onPointer(e,t){if(!this.openOnSingleClick||t.detail===2)return;const r=t.button===1,o=!0,s=r,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,o,s,a,t)}onMouseDblClick(e,t){if(!t)return;const i=t.target;if(i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&t.offsetX<16)return;const o=!1,s=!0,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,o,s,a,t)}_open(e,t,i,r,o){e&&this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:i,revealIfVisible:!0},sideBySide:r,element:e,browserEvent:o})}}class Dde extends XV{constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class o9e extends XV{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class s9e extends XV{constructor(e,t){super(e,t)}getSelectedElement(){var e;return(e=this.widget.getSelection()[0])!==null&&e!==void 0?e:void 0}}function a9e(n){let e=!1;return t=>{if(t.toKeyCodeChord().isModifierKey())return!1;if(e)return e=!1,!1;const i=n.softDispatch(t,t.target);return i.kind===1?(e=!0,!1):(e=!1,i.kind===0)}}let zZ=class extends VV{constructor(e,t,i,r,o,s,a,l,c){const{options:d,getTypeNavigationMode:u,disposable:h}=s.invokeFunction(tL,o);super(e,t,i,r,d),this.disposables.add(h),this.internals=new t_(this,o,u,o.overrideStyles,a,l,c),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};zZ=Wh([Fi(5,dt),Fi(6,_t),Fi(7,hl),Fi(8,jt)],zZ);let jZ=class extends _de{constructor(e,t,i,r,o,s,a,l,c){const{options:d,getTypeNavigationMode:u,disposable:h}=s.invokeFunction(tL,o);super(e,t,i,r,d),this.disposables.add(h),this.internals=new t_(this,o,u,o.overrideStyles,a,l,c),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};jZ=Wh([Fi(5,dt),Fi(6,_t),Fi(7,hl),Fi(8,jt)],jZ);let UZ=class extends Q3e{constructor(e,t,i,r,o,s,a,l,c,d){const{options:u,getTypeNavigationMode:h,disposable:f}=a.invokeFunction(tL,s);super(e,t,i,r,o,u),this.disposables.add(f),this.internals=new t_(this,s,h,s.overrideStyles,l,c,d),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles!==void 0&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};UZ=Wh([Fi(6,dt),Fi(7,_t),Fi(8,hl),Fi(9,jt)],UZ);let h9=class extends bde{get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,r,o,s,a,l,c,d){const{options:u,getTypeNavigationMode:h,disposable:f}=a.invokeFunction(tL,s);super(e,t,i,r,o,u),this.disposables.add(f),this.internals=new t_(this,s,h,s.overrideStyles,l,c,d),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};h9=Wh([Fi(6,dt),Fi(7,_t),Fi(8,hl),Fi(9,jt)],h9);let $Z=class extends Y3e{constructor(e,t,i,r,o,s,a,l,c,d,u){const{options:h,getTypeNavigationMode:f,disposable:g}=l.invokeFunction(tL,a);super(e,t,i,r,o,s,h),this.disposables.add(g),this.internals=new t_(this,a,f,a.overrideStyles,c,d,u),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};$Z=Wh([Fi(7,dt),Fi(8,_t),Fi(9,hl),Fi(10,jt)],$Z);function Tde(n){const e=n.getValue(GV);if(e==="highlight")return ah.Highlight;if(e==="filter")return ah.Filter;const t=n.getValue(HI);if(t==="simple"||t==="highlight")return ah.Highlight;if(t==="filter")return ah.Filter}function Ede(n){const e=n.getValue(YV);if(e==="fuzzy")return e_.Fuzzy;if(e==="contiguous")return e_.Contiguous}function tL(n,e){var t;const i=n.get(jt),r=n.get(bu),o=n.get(_t),s=n.get(dt),a=()=>{const f=o.getContextKeyValue(Lde);if(f==="automatic")return Rd.Automatic;if(f==="trigger"||o.getContextKeyValue(kde)===!1)return Rd.Trigger;const _=i.getValue(ZV);if(_==="automatic")return Rd.Automatic;if(_==="trigger")return Rd.Trigger},l=e.horizontalScrolling!==void 0?e.horizontalScrolling:!!i.getValue(el),[c,d]=s.invokeFunction(wM,e),u=e.paddingBottom,h=e.renderIndentGuides!==void 0?e.renderIndentGuides:i.getValue(zI);return{getTypeNavigationMode:a,disposable:d,options:{keyboardSupport:!1,...c,indent:typeof i.getValue(TS)=="number"?i.getValue(TS):void 0,renderIndentGuides:h,smoothScrolling:!!i.getValue(Yc),defaultFindMode:Tde(i),defaultFindMatchType:Ede(i),horizontalScrolling:l,scrollByPage:!!i.getValue(Zc),paddingBottom:u,hideTwistiesOfChildlessElements:e.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(t=e.expandOnlyOnTwistieClick)!==null&&t!==void 0?t:i.getValue(jI)==="doubleClick",contextViewProvider:r,findWidgetStyles:FFe,enableStickyScroll:!!i.getValue(UI),stickyScrollMaxItemCount:Number(i.getValue($I))}}}let t_=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(e,t,i,r,o,s,a){var l;this.tree=e,this.disposables=[],this.contextKeyService=yM(o,e),this.disposables.push(CM(this.contextKeyService,e)),this.listSupportsMultiSelect=vM.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(t.multipleSelectionSupport!==!1),bM.bindTo(this.contextKeyService).set(!!t.selectionNavigation),this.listSupportFindWidget=e9e.bindTo(this.contextKeyService),this.listSupportFindWidget.set((l=t.findWidgetEnabled)!==null&&l!==void 0?l:!0),this.hasSelectionOrFocus=jV.bindTo(this.contextKeyService),this.hasDoubleSelection=UV.bindTo(this.contextKeyService),this.hasMultiSelection=$V.bindTo(this.contextKeyService),this.treeElementCanCollapse=qV.bindTo(this.contextKeyService),this.treeElementHasParent=t9e.bindTo(this.contextKeyService),this.treeElementCanExpand=KV.bindTo(this.contextKeyService),this.treeElementHasChild=i9e.bindTo(this.contextKeyService),this.treeFindOpen=n9e.bindTo(this.contextKeyService),this.treeStickyScrollFocused=Sde.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=fu(a),this.updateStyleOverrides(r);const d=()=>{const h=e.getFocus()[0];if(!h)return;const f=e.getNode(h);this.treeElementCanCollapse.set(f.collapsible&&!f.collapsed),this.treeElementHasParent.set(!!e.getParentElement(h)),this.treeElementCanExpand.set(f.collapsible&&f.collapsed),this.treeElementHasChild.set(!!e.getFirstElementChild(h))},u=new Set;u.add(Lde),u.add(kde),this.disposables.push(this.contextKeyService,s.register(e),e.onDidChangeSelection(()=>{const h=e.getSelection(),f=e.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(h.length>0||f.length>0),this.hasMultiSelection.set(h.length>1),this.hasDoubleSelection.set(h.length===2)})}),e.onDidChangeFocus(()=>{const h=e.getSelection(),f=e.getFocus();this.hasSelectionOrFocus.set(h.length>0||f.length>0),d()}),e.onDidChangeCollapseState(d),e.onDidChangeModel(d),e.onDidChangeFindOpenState(h=>this.treeFindOpen.set(h)),e.onDidChangeStickyScrollFocused(h=>this.treeStickyScrollFocused.set(h)),a.onDidChangeConfiguration(h=>{let f={};if(h.affectsConfiguration(F_)&&(this._useAltAsMultipleSelectionModifier=fu(a)),h.affectsConfiguration(TS)){const g=a.getValue(TS);f={...f,indent:g}}if(h.affectsConfiguration(zI)&&t.renderIndentGuides===void 0){const g=a.getValue(zI);f={...f,renderIndentGuides:g}}if(h.affectsConfiguration(Yc)){const g=!!a.getValue(Yc);f={...f,smoothScrolling:g}}if(h.affectsConfiguration(GV)||h.affectsConfiguration(HI)){const g=Tde(a);f={...f,defaultFindMode:g}}if(h.affectsConfiguration(ZV)||h.affectsConfiguration(HI)){const g=i();f={...f,typeNavigationMode:g}}if(h.affectsConfiguration(YV)){const g=Ede(a);f={...f,defaultFindMatchType:g}}if(h.affectsConfiguration(el)&&t.horizontalScrolling===void 0){const g=!!a.getValue(el);f={...f,horizontalScrolling:g}}if(h.affectsConfiguration(Zc)){const g=!!a.getValue(Zc);f={...f,scrollByPage:g}}if(h.affectsConfiguration(jI)&&t.expandOnlyOnTwistieClick===void 0&&(f={...f,expandOnlyOnTwistieClick:a.getValue(jI)==="doubleClick"}),h.affectsConfiguration(UI)){const g=a.getValue(UI);f={...f,enableStickyScroll:g}}if(h.affectsConfiguration($I)){const g=Math.max(1,a.getValue($I));f={...f,stickyScrollMaxItemCount:g}}if(h.affectsConfiguration(uu)){const g=a.getValue(uu);f={...f,mouseWheelScrollSensitivity:g}}if(h.affectsConfiguration(hu)){const g=a.getValue(hu);f={...f,fastScrollSensitivity:g}}Object.keys(f).length>0&&e.updateOptions(f)}),this.contextKeyService.onDidChangeContext(h=>{h.affectsSome(u)&&e.updateOptions({typeNavigationMode:i()})})),this.navigator=new s9e(e,{configurationService:a,...t}),this.disposables.push(this.navigator)}updateOptions(e){e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){this.tree.style(e?ky(e):O_)}dispose(){this.disposables=vi(this.disposables)}};t_=Wh([Fi(4,_t),Fi(5,hl),Fi(6,jt)],t_);const l9e=nn.as(id.Configuration);l9e.registerConfiguration({id:"workbench",order:7,title:w("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[F_]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[w("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),w("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:w({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[LT]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:w({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[el]:{type:"boolean",default:!1,description:w("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[Zc]:{type:"boolean",default:!1,description:w("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[TS]:{type:"number",default:8,minimum:4,maximum:40,description:w("tree indent setting","Controls tree indentation in pixels.")},[zI]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:w("render tree indent guides","Controls whether the tree should render indent guides.")},[Yc]:{type:"boolean",default:!1,description:w("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[uu]:{type:"number",default:1,markdownDescription:w("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[hu]:{type:"number",default:5,markdownDescription:w("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[GV]:{type:"string",enum:["highlight","filter"],enumDescriptions:[w("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),w("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:w("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[HI]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[w("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),w("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),w("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:w("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:w("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and	'workbench.list.typeNavigationMode' instead.")},[YV]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[w("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),w("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:w("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[jI]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:w("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[UI]:{type:"boolean",default:!0,description:w("sticky scroll","Controls whether sticky scrolling is enabled in trees.")},[$I]:{type:"number",minimum:1,default:7,markdownDescription:w("sticky scroll maximum items","Controls the number of sticky elements displayed in the tree when `#workbench.tree.enableStickyScroll#` is enabled.")},[ZV]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:w("typeNavigationMode2","Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}});var f9;(function(n){n[n.PRESERVE=0]="PRESERVE",n[n.LAST=1]="LAST"})(f9||(f9={}));const B_={Quickaccess:"workbench.contributions.quickaccess"};class c9e{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return e.prefix.length===0?this.defaultProvider=e:this.providers.push(e),this.providers.sort((t,i)=>i.prefix.length-t.prefix.length),at(()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return zc([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find(i=>e.startsWith(i.prefix))||void 0||this.defaultProvider}}nn.add(B_.Quickaccess,new c9e);const d9e={ctrlCmd:!1,alt:!1};var ES;(function(n){n[n.Blur=1]="Blur",n[n.Gesture=2]="Gesture",n[n.Other=3]="Other"})(ES||(ES={}));var gc;(function(n){n[n.NONE=0]="NONE",n[n.FIRST=1]="FIRST",n[n.SECOND=2]="SECOND",n[n.LAST=3]="LAST"})(gc||(gc={}));const rd=zt("quickInputService");var u9e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},qZ=function(n,e){return function(t,i){e(t,i,n)}};let g9=class extends ce{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=nn.as(B_.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,i){var r;const[o,s]=this.getOrInstantiateProvider(e),a=this.visibleQuickAccess,l=a==null?void 0:a.descriptor;if(a&&s&&l===s){e!==s.prefix&&!(i!=null&&i.preserveValue)&&(a.picker.value=e),this.adjustValueSelection(a.picker,s,i);return}if(s&&!(i!=null&&i.preserveValue)){let f;if(a&&l&&l!==s){const g=a.value.substr(l.prefix.length);g&&(f=`${s.prefix}${g}`)}if(!f){const g=o==null?void 0:o.defaultFilterValue;g===f9.LAST?f=this.lastAcceptedPickerValues.get(s):typeof g=="string"&&(f=`${s.prefix}${g}`)}typeof f=="string"&&(e=f)}const c=new xe,d=c.add(this.quickInputService.createQuickPick());d.value=e,this.adjustValueSelection(d,s,i),d.placeholder=s==null?void 0:s.placeholder,d.quickNavigate=i==null?void 0:i.quickNavigateConfiguration,d.hideInput=!!d.quickNavigate&&!a,(typeof(i==null?void 0:i.itemActivation)=="number"||i!=null&&i.quickNavigateConfiguration)&&(d.itemActivation=(r=i==null?void 0:i.itemActivation)!==null&&r!==void 0?r:gc.SECOND),d.contextKey=s==null?void 0:s.contextKey,d.filterValue=f=>f.substring(s?s.prefix.length:0);let u;t&&(u=new EP,c.add(Ve.once(d.onWillAccept)(f=>{f.veto(),d.hide()}))),c.add(this.registerPickerListeners(d,o,s,e,i==null?void 0:i.providerOptions));const h=c.add(new Pn);if(o&&c.add(o.provide(d,h.token,i==null?void 0:i.providerOptions)),Ve.once(d.onDidHide)(()=>{d.selectedItems.length===0&&h.cancel(),c.dispose(),u==null||u.complete(d.selectedItems.slice(0))}),d.show(),t)return u==null?void 0:u.p}adjustValueSelection(e,t,i){var r;let o;i!=null&&i.preserveValue?o=[e.value.length,e.value.length]:o=[(r=t==null?void 0:t.prefix.length)!==null&&r!==void 0?r:0,e.value.length],e.valueSelection=o}registerPickerListeners(e,t,i,r,o){const s=new xe,a=this.visibleQuickAccess={picker:e,descriptor:i,value:r};return s.add(at(()=>{a===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),s.add(e.onDidChangeValue(l=>{const[c]=this.getOrInstantiateProvider(l);c!==t?this.show(l,{preserveValue:!0,providerOptions:o}):a.value=l})),i&&s.add(e.onDidAccept(()=>{this.lastAcceptedPickerValues.set(i,e.value)})),s}getOrInstantiateProvider(e){const t=this.registry.getQuickAccessProvider(e);if(!t)return[void 0,void 0];let i=this.mapProviderToDescriptor.get(t);return i||(i=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,i)),[i,t]}};g9=u9e([qZ(0,rd),qZ(1,dt)],g9);class _g{constructor(e,t){var i;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(i=t==null?void 0:t.supportIcons)!==null&&i!==void 0?i:!1,this.domNode=Se(e,Te("span.monaco-highlighted-label"))}get element(){return this.domNode}set(e,t=[],i="",r){e||(e=""),r&&(e=_g.escapeNewLines(e,t)),!(this.didEverRender&&this.text===e&&this.title===i&&wa(this.highlights,t))&&(this.text=e,this.title=i,this.highlights=t,this.render())}render(){const e=[];let t=0;for(const i of this.highlights){if(i.end===i.start)continue;if(t<i.start){const s=this.text.substring(t,i.start);this.supportIcons?e.push(...gg(s)):e.push(s),t=i.start}const r=this.text.substring(t,i.end),o=Te("span.highlight",void 0,...this.supportIcons?gg(r):[r]);i.extraClasses&&o.classList.add(...i.extraClasses),e.push(o),t=i.end}if(t<this.text.length){const i=this.text.substring(t);this.supportIcons?e.push(...gg(i)):e.push(i)}Kr(this.domNode,...e),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(e,t){let i=0,r=0;return e.replace(/\r\n|\r|\n/g,(o,s)=>{r=o===`\r
`?-1:0,s+=i;for(const a of t)a.end<=s||(a.start>=s&&(a.start+=r),a.end>=s&&(a.end+=r));return i+=r,""})}}class SC{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set className(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}}class qI extends ce{constructor(e,t){super(),this.customHovers=new Map,this.creationOptions=t,this.domNode=this._register(new SC(Se(e,Te(".monaco-icon-label")))),this.labelContainer=Se(this.domNode.element,Te(".monaco-icon-label-container")),this.nameContainer=Se(this.labelContainer,Te("span.monaco-icon-name-container")),t!=null&&t.supportHighlights||t!=null&&t.supportIcons?this.nameNode=new g9e(this.nameContainer,!!t.supportIcons):this.nameNode=new h9e(this.nameContainer),this.hoverDelegate=t==null?void 0:t.hoverDelegate}get element(){return this.domNode.element}setLabel(e,t,i){var r;const o=["monaco-icon-label"],s=["monaco-icon-label-container"];let a="";if(i&&(i.extraClasses&&o.push(...i.extraClasses),i.italic&&o.push("italic"),i.strikethrough&&o.push("strikethrough"),i.disabledCommand&&s.push("disabled"),i.title&&(typeof i.title=="string"?a+=i.title:a+=e)),this.domNode.className=o.join(" "),this.domNode.element.setAttribute("aria-label",a),this.labelContainer.className=s.join(" "),this.setupHover(i!=null&&i.descriptionTitle?this.labelContainer:this.element,i==null?void 0:i.title),this.nameNode.setLabel(e,i),t||this.descriptionNode){const l=this.getOrCreateDescriptionNode();l instanceof _g?(l.set(t||"",i?i.descriptionMatches:void 0,void 0,i==null?void 0:i.labelEscapeNewLines),this.setupHover(l.element,i==null?void 0:i.descriptionTitle)):(l.textContent=t&&(i!=null&&i.labelEscapeNewLines)?_g.escapeNewLines(t,[]):t||"",this.setupHover(l.element,(i==null?void 0:i.descriptionTitle)||""),l.empty=!t)}if(i!=null&&i.suffix||this.suffixNode){const l=this.getOrCreateSuffixNode();l.textContent=(r=i==null?void 0:i.suffix)!==null&&r!==void 0?r:""}}setupHover(e,t){const i=this.customHovers.get(e);if(i&&(i.dispose(),this.customHovers.delete(e)),!t){e.removeAttribute("title");return}if(!this.hoverDelegate)Q4e(e,t);else{const r=Zce(this.hoverDelegate,e,t);r&&this.customHovers.set(e,r)}}dispose(){super.dispose();for(const e of this.customHovers.values())e.dispose();this.customHovers.clear()}getOrCreateSuffixNode(){if(!this.suffixNode){const e=this._register(new SC(WDe(this.nameContainer,Te("span.monaco-icon-suffix-container"))));this.suffixNode=this._register(new SC(Se(e.element,Te("span.label-suffix"))))}return this.suffixNode}getOrCreateDescriptionNode(){var e;if(!this.descriptionNode){const t=this._register(new SC(Se(this.labelContainer,Te("span.monaco-icon-description-container"))));!((e=this.creationOptions)===null||e===void 0)&&e.supportDescriptionHighlights?this.descriptionNode=new _g(Se(t.element,Te("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons}):this.descriptionNode=this._register(new SC(Se(t.element,Te("span.label-description"))))}return this.descriptionNode}}class h9e{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&wa(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=Se(this.container,Te("a.label-name",{id:t==null?void 0:t.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let i=0;i<e.length;i++){const r=e[i],o=(t==null?void 0:t.domId)&&`${t==null?void 0:t.domId}_${i}`;Se(this.container,Te("a.label-name",{id:o,"data-icon-label-count":e.length,"data-icon-label-index":i,role:"treeitem"},r)),i<e.length-1&&Se(this.container,Te("span.label-separator",void 0,(t==null?void 0:t.separator)||"/"))}}}}function f9e(n,e,t){if(!t)return;let i=0;return n.map(r=>{const o={start:i,end:i+r.length},s=t.map(a=>Zr.intersect(o,a)).filter(a=>!Zr.isEmpty(a)).map(({start:a,end:l})=>({start:a-i,end:l-i}));return i=o.end+e.length,s})}class g9e{constructor(e,t){this.container=e,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&wa(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new _g(Se(this.container,Te("a.label-name",{id:t==null?void 0:t.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(e,t==null?void 0:t.matches,void 0,t==null?void 0:t.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const i=(t==null?void 0:t.separator)||"/",r=f9e(e,i,t==null?void 0:t.matches);for(let o=0;o<e.length;o++){const s=e[o],a=r?r[o]:void 0,l=(t==null?void 0:t.domId)&&`${t==null?void 0:t.domId}_${o}`,c=Te("a.label-name",{id:l,"data-icon-label-count":e.length,"data-icon-label-index":o,role:"treeitem"});new _g(Se(this.container,c),{supportIcons:this.supportIcons}).set(s,a,void 0,t==null?void 0:t.labelEscapeNewLines),o<e.length-1&&Se(c,Te("span.label-separator",void 0,i))}}}}const Xk=Te,p9e={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class iL{constructor(e,t,i){this.os=t,this.keyElements=new Set,this.options=i||Object.create(null);const r=this.options.keybindingLabelForeground;this.domNode=Se(e,Xk(".monaco-keybinding")),r&&(this.domNode.style.color=r),this.didEverRender=!1,e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t){this.didEverRender&&this.keybinding===e&&iL.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){var e;if(this.clear(),this.keybinding){const t=this.keybinding.getChords();t[0]&&this.renderChord(this.domNode,t[0],this.matches?this.matches.firstPart:null);for(let r=1;r<t.length;r++)Se(this.domNode,Xk("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,t[r],this.matches?this.matches.chordPart:null);const i=(e=this.options.disableTitle)!==null&&e!==void 0&&e?void 0:this.keybinding.getAriaLabel()||void 0;i!==void 0?this.domNode.title=i:this.domNode.removeAttribute("title")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){$r(this.domNode),this.keyElements.clear()}renderChord(e,t,i){const r=EV.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,r.ctrlKey,!!(i!=null&&i.ctrlKey),r.separator),t.shiftKey&&this.renderKey(e,r.shiftKey,!!(i!=null&&i.shiftKey),r.separator),t.altKey&&this.renderKey(e,r.altKey,!!(i!=null&&i.altKey),r.separator),t.metaKey&&this.renderKey(e,r.metaKey,!!(i!=null&&i.metaKey),r.separator);const o=t.keyLabel;o&&this.renderKey(e,o,!!(i!=null&&i.keyCode),"")}renderKey(e,t,i,r){Se(e,this.createKeyElement(t,i?".highlight":"")),r&&Se(e,Xk("span.monaco-keybinding-key-separator",void 0,r))}renderUnbound(e){Se(e,this.createKeyElement(w("unbound","Unbound")))}createKeyElement(e,t=""){const i=Xk("span.monaco-keybinding-key"+t,void 0,e);return this.keyElements.add(i),this.options.keybindingLabelBackground&&(i.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(i.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(i.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(i.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),i}static areSame(e,t){return e===t||!e&&!t?!0:!!e&&!!t&&wa(e.firstPart,t.firstPart)&&wa(e.chordPart,t.chordPart)}}const KZ=new up(()=>{const n=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:n,collatorIsNumeric:n.resolvedOptions().numeric}});function m9e(n,e,t=!1){const i=n||"",r=e||"",o=KZ.value.collator.compare(i,r);return KZ.value.collatorIsNumeric&&o===0&&i!==r?i<r?-1:1:o}function _9e(n,e,t){const i=n.toLowerCase(),r=e.toLowerCase(),o=v9e(n,e,t);if(o)return o;const s=i.endsWith(t),a=r.endsWith(t);if(s!==a)return s?-1:1;const l=m9e(i,r);return l!==0?l:i.localeCompare(r)}function v9e(n,e,t){const i=n.toLowerCase(),r=e.toLowerCase(),o=i.startsWith(t),s=r.startsWith(t);if(o!==s)return o?-1:1;if(o&&s){if(i.length<r.length)return-1;if(i.length>r.length)return 1}return 0}var b9e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};class Ide{constructor(e){this.nodes=e}toString(){return this.nodes.map(e=>typeof e=="string"?e:e.label).join("")}}b9e([Mn],Ide.prototype,"toString",null);const y9e=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function C9e(n){const e=[];let t=0,i;for(;i=y9e.exec(n);){i.index-t>0&&e.push(n.substring(t,i.index));const[,r,o,,s]=i;s?e.push({label:r,href:o,title:s}):e.push({label:r,href:o}),t=i.index+i[0].length}return t<n.length&&e.push(n.substring(t)),new Ide(e)}const EO={},w9e=new LV("quick-input-button-icon-");function S9e(n){if(!n)return;let e;const t=n.dark.toString();return EO[t]?e=EO[t]:(e=w9e.nextId(),jE(`.${e}, .hc-light .${e}`,`background-image: ${Og(n.light||n.dark)}`),jE(`.vs-dark .${e}, .hc-black .${e}`,`background-image: ${Og(n.dark)}`),EO[t]=e),e}function p9(n,e,t){let i=n.iconClass||S9e(n.iconPath);return n.alwaysVisible&&(i=i?`${i} always-visible`:"always-visible"),{id:e,label:"",tooltip:n.tooltip||"",class:i,enabled:!0,run:t}}function x9e(n,e,t){Kr(e);const i=C9e(n);let r=0;for(const o of i.nodes)if(typeof o=="string")e.append(...gg(o));else{let s=o.title;!s&&o.href.startsWith("command:")?s=w("executeCommand","Click to execute command '{0}'",o.href.substring(8)):s||(s=o.href);const a=Te("a",{href:o.href,title:s,tabIndex:r++},o.label);a.style.textDecoration="underline";const l=f=>{ODe(f)&&Mt.stop(f,!0),t.callback(o.href)},c=t.disposables.add(new $t(a,Ne.CLICK)).event,d=t.disposables.add(new $t(a,Ne.KEY_DOWN)).event,u=Ve.chain(d,f=>f.filter(g=>{const _=new Oi(g);return _.equals(10)||_.equals(3)}));t.disposables.add(Ei.addTarget(a));const h=t.disposables.add(new $t(a,Ii.Tap)).event;Ve.any(c,h,u)(l,null,t.disposables),e.appendChild(a)}}var Nde=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};const oc=Te;class L9e{constructor(e,t,i,r,o,s,a){var l,c,d;this._checked=!1,this._hidden=!1,this.hasCheckbox=r,this.index=i,this.fireButtonTriggered=o,this.fireSeparatorButtonTriggered=s,this._onChecked=a,this.onChecked=r?Ve.map(Ve.filter(this._onChecked.event,u=>u.listElement===this),u=>u.checked):Ve.None,e.type==="separator"?this._separator=e:(this.item=e,t&&t.type==="separator"&&!t.buttons&&(this._separator=t),this.saneDescription=this.item.description,this.saneDetail=this.item.detail,this._labelHighlights=(l=this.item.highlights)===null||l===void 0?void 0:l.label,this._descriptionHighlights=(c=this.item.highlights)===null||c===void 0?void 0:c.description,this._detailHighlights=(d=this.item.highlights)===null||d===void 0?void 0:d.detail,this.saneTooltip=this.item.tooltip),this._init=new up(()=>{var u;const h=(u=e.label)!==null&&u!==void 0?u:"",f=nw(h).text.trim(),g=e.ariaLabel||[h,this.saneDescription,this.saneDetail].map(_=>F5e(_)).filter(_=>!!_).join(", ");return{saneLabel:h,saneSortLabel:f,saneAriaLabel:g}})}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(e){this._element=e}get hidden(){return this._hidden}set hidden(e){this._hidden=e}get checked(){return this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire({listElement:this,checked:e}))}get separator(){return this._separator}set separator(e){this._separator=e}get labelHighlights(){return this._labelHighlights}set labelHighlights(e){this._labelHighlights=e}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(e){this._descriptionHighlights=e}get detailHighlights(){return this._detailHighlights}set detailHighlights(e){this._detailHighlights=e}}class nL{constructor(e,t){this.themeService=e,this.hoverDelegate=t}get templateId(){return nL.ID}renderTemplate(e){const t=Object.create(null);t.toDisposeElement=[],t.toDisposeTemplate=[],t.entry=Se(e,oc(".quick-input-list-entry"));const i=Se(t.entry,oc("label.quick-input-list-label"));t.toDisposeTemplate.push(kn(i,Ne.CLICK,c=>{t.checkbox.offsetParent||c.preventDefault()})),t.checkbox=Se(i,oc("input.quick-input-list-checkbox")),t.checkbox.type="checkbox",t.toDisposeTemplate.push(kn(t.checkbox,Ne.CHANGE,c=>{t.element.checked=t.checkbox.checked}));const r=Se(i,oc(".quick-input-list-rows")),o=Se(r,oc(".quick-input-list-row")),s=Se(r,oc(".quick-input-list-row"));t.label=new qI(o,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),t.toDisposeTemplate.push(t.label),t.icon=v6(t.label.element,oc(".quick-input-list-icon"));const a=Se(o,oc(".quick-input-list-entry-keybinding"));t.keybinding=new iL(a,ma);const l=Se(s,oc(".quick-input-list-label-meta"));return t.detail=new qI(l,{supportHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),t.toDisposeTemplate.push(t.detail),t.separator=Se(t.entry,oc(".quick-input-list-separator")),t.actionBar=new sl(t.entry,this.hoverDelegate?{hoverDelegate:this.hoverDelegate}:void 0),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.push(t.actionBar),t}renderElement(e,t,i){var r,o,s,a;i.element=e,e.element=(r=i.entry)!==null&&r!==void 0?r:void 0;const l=e.item?e.item:e.separator;i.checkbox.checked=e.checked,i.toDisposeElement.push(e.onChecked(g=>i.checkbox.checked=g));const{labelHighlights:c,descriptionHighlights:d,detailHighlights:u}=e;if(!((o=e.item)===null||o===void 0)&&o.iconPath){const g=Ib(this.themeService.getColorTheme().type)?e.item.iconPath.dark:(s=e.item.iconPath.light)!==null&&s!==void 0?s:e.item.iconPath.dark,_=rt.revive(g);i.icon.className="quick-input-list-icon",i.icon.style.backgroundImage=Og(_)}else i.icon.style.backgroundImage="",i.icon.className=!((a=e.item)===null||a===void 0)&&a.iconClass?`quick-input-list-icon ${e.item.iconClass}`:"";const h={matches:c||[],descriptionTitle:e.saneTooltip?void 0:e.saneDescription,descriptionMatches:d||[],labelEscapeNewLines:!0};l.type!=="separator"?(h.extraClasses=l.iconClasses,h.italic=l.italic,h.strikethrough=l.strikethrough,i.entry.classList.remove("quick-input-list-separator-as-item")):i.entry.classList.add("quick-input-list-separator-as-item"),i.label.setLabel(e.saneLabel,e.saneDescription,h),i.keybinding.set(l.type==="separator"?void 0:l.keybinding),e.saneDetail?(i.detail.element.style.display="",i.detail.setLabel(e.saneDetail,void 0,{matches:u,title:e.saneTooltip?void 0:e.saneDetail,labelEscapeNewLines:!0})):i.detail.element.style.display="none",e.item&&e.separator&&e.separator.label?(i.separator.textContent=e.separator.label,i.separator.style.display=""):i.separator.style.display="none",i.entry.classList.toggle("quick-input-list-separator-border",!!e.separator);const f=l.buttons;f&&f.length?(i.actionBar.push(f.map((g,_)=>p9(g,`id-${_}`,()=>l.type!=="separator"?e.fireButtonTriggered({button:g,item:l}):e.fireSeparatorButtonTriggered({button:g,separator:l}))),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions")}disposeElement(e,t,i){i.toDisposeElement=vi(i.toDisposeElement),i.actionBar.clear()}disposeTemplate(e){e.toDisposeElement=vi(e.toDisposeElement),e.toDisposeTemplate=vi(e.toDisposeTemplate)}}nL.ID="listelement";class k9e{getHeight(e){return e.item?e.saneDetail?44:22:24}getTemplateId(e){return nL.ID}}var Cr;(function(n){n[n.First=1]="First",n[n.Second=2]="Second",n[n.Last=3]="Last",n[n.Next=4]="Next",n[n.Previous=5]="Previous",n[n.NextPage=6]="NextPage",n[n.PreviousPage=7]="PreviousPage"})(Cr||(Cr={}));class QV{constructor(e,t,i,r){this.parent=e,this.options=i,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.sortByLabel=!0,this._onChangedAllVisibleChecked=new ne,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new ne,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new ne,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new ne,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new ne,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new ne,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new ne,this.onKeyDown=this._onKeyDown.event,this._onLeave=new ne,this.onLeave=this._onLeave.event,this._listElementChecked=new ne,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=t,this.container=Se(this.parent,oc(".quick-input-list"));const o=new k9e,s=new E9e;this.list=i.createList("QuickInput",this.container,o,[new nL(r,i.hoverDelegate)],{identityProvider:{getId:l=>{var c,d,u,h,f,g,_,y;return(y=(g=(h=(d=(c=l.item)===null||c===void 0?void 0:c.id)!==null&&d!==void 0?d:(u=l.item)===null||u===void 0?void 0:u.label)!==null&&h!==void 0?h:(f=l.separator)===null||f===void 0?void 0:f.id)!==null&&g!==void 0?g:(_=l.separator)===null||_===void 0?void 0:_.label)!==null&&y!==void 0?y:""}},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:s}),this.list.getHTMLElement().id=t,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(l=>{const c=new Oi(l);switch(c.keyCode){case 10:this.toggleCheckbox();break;case 31:(qt?l.metaKey:l.ctrlKey)&&this.list.setFocus(No(this.list.length));break;case 16:{const d=this.list.getFocus();d.length===1&&d[0]===0&&this._onLeave.fire();break}case 18:{const d=this.list.getFocus();d.length===1&&d[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(c)})),this.disposables.push(this.list.onMouseDown(l=>{l.browserEvent.button!==2&&l.browserEvent.preventDefault()})),this.disposables.push(ge(this.container,Ne.CLICK,l=>{(l.x||l.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(l=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(l=>{typeof l.index=="number"&&(l.browserEvent.preventDefault(),this.list.setSelection([l.index]))}));const a=new lae(i.hoverDelegate.delay);this.disposables.push(this.list.onMouseOver(async l=>{var c;if(l.browserEvent.target instanceof HTMLAnchorElement){a.cancel();return}if(!(!(l.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&Ar(l.browserEvent.relatedTarget,(c=l.element)===null||c===void 0?void 0:c.element)))try{await a.trigger(async()=>{l.element&&this.showHover(l.element)})}catch(d){if(!Jc(d))throw d}})),this.disposables.push(this.list.onMouseOut(l=>{var c;Ar(l.browserEvent.relatedTarget,(c=l.element)===null||c===void 0?void 0:c.element)||a.cancel()})),this.disposables.push(a),this.disposables.push(this._listElementChecked.event(l=>this.fireCheckedEvents())),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return Ve.map(this.list.onDidChangeFocus,e=>e.elements.map(t=>t.item))}get onDidChangeSelection(){return Ve.map(this.list.onDidChangeSelection,e=>({items:e.elements.map(t=>t.item),event:e.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get ariaLabel(){return this.list.getHTMLElement().ariaLabel}set ariaLabel(e){this.list.getHTMLElement().ariaLabel=e}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(e,t=!0){for(let i=0,r=e.length;i<r;i++){const o=e[i];if(!o.hidden)if(o.checked)t=!0;else return!1}return t}getCheckedCount(){let e=0;const t=this.elements;for(let i=0,r=t.length;i<r;i++)t[i].checked&&e++;return e}getVisibleCount(){let e=0;const t=this.elements;for(let i=0,r=t.length;i<r;i++)t[i].hidden||e++;return e}setAllVisibleChecked(e){try{this._fireCheckedEvents=!1,this.elements.forEach(t=>{t.hidden||(t.checked=e)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(e){this.elementDisposables=vi(this.elementDisposables);const t=s=>this.fireButtonTriggered(s),i=s=>this.fireSeparatorButtonTriggered(s);this.inputElements=e;const r=new Map,o=this.parent.classList.contains("show-checkboxes");this.elements=e.reduce((s,a,l)=>{var c;const d=l>0?e[l-1]:void 0;if(a.type==="separator"&&!a.buttons)return s;const u=new L9e(a,d,l,o,t,i,this._listElementChecked),h=s.length;return s.push(u),r.set((c=u.item)!==null&&c!==void 0?c:u.separator,h),s},[]),this.elementsToIndexes=r,this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(e=>e.item)}setFocusedElements(e){if(this.list.setFocus(e.filter(t=>this.elementsToIndexes.has(t)).map(t=>this.elementsToIndexes.get(t))),e.length>0){const t=this.list.getFocus()[0];typeof t=="number"&&this.list.reveal(t)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){this.list.setSelection(e.filter(t=>this.elementsToIndexes.has(t)).map(t=>this.elementsToIndexes.get(t)))}getCheckedElements(){return this.elements.filter(e=>e.checked).map(e=>e.item).filter(e=>!!e)}setCheckedElements(e){try{this._fireCheckedEvents=!1;const t=new Set;for(const i of e)t.add(i);for(const i of this.elements)i.checked=t.has(i.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(e){this.list.getHTMLElement().style.pointerEvents=e?"":"none"}focus(e){if(!this.list.length)return;switch(e===Cr.Second&&this.list.length<2&&(e=Cr.First),e){case Cr.First:this.list.scrollTop=0,this.list.focusFirst(void 0,i=>!!i.item);break;case Cr.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,i=>!!i.item);break;case Cr.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,i=>!!i.item);break;case Cr.Next:{this.list.focusNext(void 0,!0,void 0,r=>!!r.item);const i=this.list.getFocus()[0];i!==0&&!this.elements[i-1].item&&this.list.firstVisibleIndex>i-1&&this.list.reveal(i-1);break}case Cr.Previous:{this.list.focusPrevious(void 0,!0,void 0,r=>!!r.item);const i=this.list.getFocus()[0];i!==0&&!this.elements[i-1].item&&this.list.firstVisibleIndex>i-1&&this.list.reveal(i-1);break}case Cr.NextPage:this.list.focusNextPage(void 0,i=>!!i.item);break;case Cr.PreviousPage:this.list.focusPreviousPage(void 0,i=>!!i.item);break}const t=this.list.getFocus()[0];typeof t=="number"&&this.list.reveal(t)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}showHover(e){var t,i,r;this._lastHover&&!this._lastHover.isDisposed&&((i=(t=this.options.hoverDelegate).onDidHideHover)===null||i===void 0||i.call(t),(r=this._lastHover)===null||r===void 0||r.dispose()),!(!e.element||!e.saneTooltip)&&(this._lastHover=this.options.hoverDelegate.showHover({content:e.saneTooltip,target:e.element,linkHandler:o=>{this.options.linkOpenerDelegate(o)},appearance:{showPointer:!0},container:this.container,position:{hoverPosition:1}},!1))}layout(e){this.list.getHTMLElement().style.maxHeight=e?`${Math.floor(e/44)*44+6}px`:"",this.list.layout()}filter(e){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const t=e;if(e=e.trim(),!e||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(r=>{r.labelHighlights=void 0,r.descriptionHighlights=void 0,r.detailHighlights=void 0,r.hidden=!1;const o=r.index&&this.inputElements[r.index-1];r.item&&(r.separator=o&&o.type==="separator"&&!o.buttons?o:void 0)});else{let r;this.elements.forEach(o=>{var s,a,l,c;let d;this.matchOnLabelMode==="fuzzy"?d=this.matchOnLabel&&(s=mO(e,nw(o.saneLabel)))!==null&&s!==void 0?s:void 0:d=this.matchOnLabel&&(a=D9e(t,nw(o.saneLabel)))!==null&&a!==void 0?a:void 0;const u=this.matchOnDescription&&(l=mO(e,nw(o.saneDescription||"")))!==null&&l!==void 0?l:void 0,h=this.matchOnDetail&&(c=mO(e,nw(o.saneDetail||"")))!==null&&c!==void 0?c:void 0;if(d||u||h?(o.labelHighlights=d,o.descriptionHighlights=u,o.detailHighlights=h,o.hidden=!1):(o.labelHighlights=void 0,o.descriptionHighlights=void 0,o.detailHighlights=void 0,o.hidden=o.item?!o.item.alwaysShow:!0),o.item?o.separator=void 0:o.separator&&(o.hidden=!0),!this.sortByLabel){const f=o.index&&this.inputElements[o.index-1];r=f&&f.type==="separator"?f:r,r&&!o.hidden&&(o.separator=r,r=void 0)}})}const i=this.elements.filter(r=>!r.hidden);if(this.sortByLabel&&e){const r=e.toLowerCase();i.sort((o,s)=>T9e(o,s,r))}return this.elementsToIndexes=i.reduce((r,o,s)=>{var a;return r.set((a=o.item)!==null&&a!==void 0?a:o.separator,s),r},new Map),this.list.splice(0,this.list.length,i),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(i.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const e=this.list.getFocusedElements(),t=this.allVisibleChecked(e);for(const i of e)i.checked=!t}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(e){this.container.style.display=e?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=vi(this.elementDisposables),this.disposables=vi(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(e){this._onButtonTriggered.fire(e)}fireSeparatorButtonTriggered(e){this._onSeparatorButtonTriggered.fire(e)}style(e){this.list.style(e)}toggleHover(){const e=this.list.getFocusedElements()[0];if(!(e!=null&&e.saneTooltip))return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}const t=this.list.getFocusedElements()[0];if(!t)return;this.showHover(t);const i=new xe;i.add(this.list.onDidChangeFocus(r=>{r.indexes.length&&this.showHover(r.elements[0])})),this._lastHover&&i.add(this._lastHover),this._toggleHover=i,this.elementDisposables.push(this._toggleHover)}}Nde([Mn],QV.prototype,"onDidChangeFocus",null);Nde([Mn],QV.prototype,"onDidChangeSelection",null);function D9e(n,e){const{text:t,iconOffsets:i}=e;if(!i||i.length===0)return GZ(n,t);const r=Mx(t," "),o=t.length-r.length,s=GZ(n,r);if(s)for(const a of s){const l=i[a.start+o]+o;a.start+=l,a.end+=l}return s}function GZ(n,e){const t=e.toLowerCase().indexOf(n.toLowerCase());return t!==-1?[{start:t,end:t+n.length}]:null}function T9e(n,e,t){const i=n.labelHighlights||[],r=e.labelHighlights||[];return i.length&&!r.length?-1:!i.length&&r.length?1:i.length===0&&r.length===0?0:_9e(n.saneSortLabel,e.saneSortLabel,t)}class E9e{getWidgetAriaLabel(){return w("quickInput","Quick Input")}getAriaLabel(e){var t;return!((t=e.separator)===null||t===void 0)&&t.label?`${e.saneAriaLabel}, ${e.separator.label}`:e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(e){return e.hasCheckbox?"checkbox":"option"}isChecked(e){if(e.hasCheckbox)return{value:e.checked,onDidChange:e.onChecked}}}const m9={iconClass:lt.asClassName(Ae.quickInputBack),tooltip:w("quickInput.back","Back"),handle:-1};class rL extends ce{constructor(e){super(),this.ui=e,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=rL.noPromptMessage,this._severity=Sn.Ignore,this.onDidTriggerButtonEmitter=this._register(new ne),this.onDidHideEmitter=this._register(new ne),this.onDisposeEmitter=this._register(new ne),this.visibleDisposables=this._register(new xe),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){const t=this._ignoreFocusOut!==e&&!jc;this._ignoreFocusOut=e&&!jc,t&&this.update()}get buttons(){return this._buttons}set buttons(e){this._buttons=e,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(e){this._toggles=e??[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(e=>{this.buttons.indexOf(e)!==-1&&this.onDidTriggerButtonEmitter.fire(e)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(e=ES.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}update(){var e,t;if(!this.visible)return;const i=this.getTitle();i&&this.ui.title.textContent!==i?this.ui.title.textContent=i:!i&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="");const r=this.getDescription();if(this.ui.description1.textContent!==r&&(this.ui.description1.textContent=r),this.ui.description2.textContent!==r&&(this.ui.description2.textContent=r),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?Kr(this.ui.widget,this._widget):Kr(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new Kl,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const s=this.buttons.filter(l=>l===m9).map((l,c)=>p9(l,`id-${c}`,async()=>this.onDidTriggerButtonEmitter.fire(l)));this.ui.leftActionBar.push(s,{icon:!0,label:!1}),this.ui.rightActionBar.clear();const a=this.buttons.filter(l=>l!==m9).map((l,c)=>p9(l,`id-${c}`,async()=>this.onDidTriggerButtonEmitter.fire(l)));this.ui.rightActionBar.push(a,{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const s=(t=(e=this.toggles)===null||e===void 0?void 0:e.filter(a=>a instanceof Ty))!==null&&t!==void 0?t:[];this.ui.inputBox.toggles=s}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const o=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==o&&(this._lastValidationMessage=o,Kr(this.ui.message),x9e(o,this.ui.message,{callback:s=>{this.ui.linkOpenerDelegate(s)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?w("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e!==Sn.Ignore){const t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?`${t.foreground}`:"",this.ui.message.style.backgroundColor=t.background?`${t.background}`:"",this.ui.message.style.border=t.border?`1px solid ${t.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}rL.noPromptMessage=w("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class IS extends rL{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new ne),this.onWillAcceptEmitter=this._register(new ne),this.onDidAcceptEmitter=this._register(new ne),this.onDidCustomEmitter=this._register(new ne),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._keepScrollPosition=!1,this._itemActivation=gc.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new ne),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new ne),this.onDidTriggerItemButtonEmitter=this._register(new ne),this.onDidTriggerSeparatorButtonEmitter=this._register(new ne),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this.doSetValue(e)}doSetValue(e,t){this._value!==e&&(this._value=e,t||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(e){this.ui.list.scrollTop=e}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(e){this._matchOnLabelMode=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?d9e:this.ui.keyMods}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.canSelectMany||this.ui.list.focus(Cr.First)}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{this.doSetValue(e,!0)})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(e=>{switch(e.keyCode){case 18:this.ui.list.focus(Cr.Next),this.canSelectMany&&this.ui.list.domFocus(),Mt.stop(e,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Cr.Previous):this.ui.list.focus(Cr.Last),this.canSelectMany&&this.ui.list.domFocus(),Mt.stop(e,!0);break;case 12:this.ui.list.focus(Cr.NextPage),this.canSelectMany&&this.ui.list.domFocus(),Mt.stop(e,!0);break;case 11:this.ui.list.focus(Cr.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),Mt.stop(e,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(e.ctrlKey||e.metaKey)&&!e.shiftKey&&!e.altKey&&(this.ui.list.focus(Cr.First),Mt.stop(e,!0));break;case 13:(e.ctrlKey||e.metaKey)&&!e.shiftKey&&!e.altKey&&(this.ui.list.focus(Cr.Last),Mt.stop(e,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&vn(e,this._activeItems,(t,i)=>t===i)||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:e,event:t})=>{if(this.canSelectMany){e.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&vn(e,this._selectedItems,(i,r)=>i===r)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(m6(t)&&t.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(e=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&vn(e,this._selectedItems,(t,i)=>t===i)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(e=>this.onDidTriggerItemButtonEmitter.fire(e))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(e=>this.onDidTriggerSeparatorButtonEmitter.fire(e))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return ge(this.ui.container,Ne.KEY_UP,e=>{if(this.canSelectMany||!this._quickNavigate)return;const t=new Oi(e),i=t.keyCode;this._quickNavigate.keybindings.some(s=>{const a=s.getChords();return a.length>1?!1:a[0].shiftKey&&i===4?!(t.ctrlKey||t.altKey||t.metaKey):!!(a[0].altKey&&i===6||a[0].ctrlKey&&i===5||a[0].metaKey&&i===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const e=this.keepScrollPosition?this.scrollTop:0,t=!!this.description,i={title:!!this.title||!!this.step||!!this.buttons.length,description:t,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||t,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(i),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let r=this.ariaLabel;if(!r&&i.inputBox&&(r=this.placeholder||IS.DEFAULT_ARIA_LABEL,this.title&&(r+=` - ${this.title}`)),this.ui.list.ariaLabel!==r&&(this.ui.list.ariaLabel=r??null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case gc.NONE:this._itemActivation=gc.FIRST;break;case gc.SECOND:this.ui.list.focus(Cr.Second),this._itemActivation=gc.FIRST;break;case gc.LAST:this.ui.list.focus(Cr.Last),this._itemActivation=gc.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",i.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Cr.First)),this.keepScrollPosition&&(this.scrollTop=e)}}IS.DEFAULT_ARIA_LABEL=w("quickInputBox.ariaLabel","Type to narrow down results.");class I9e extends rL{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new ne),this.onDidAcceptEmitter=this._register(new ne),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(e){this._value=e||"",this.update()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get password(){return this._password}set password(e){this._password=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{e!==this.value&&(this._value=e,this.onDidValueChangeEmitter.fire(e))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const e={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(e),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}class N9e{get delay(){return Date.now()-this.lastHoverHideTime<200?0:this.configurationService.getValue("workbench.hover.delay")}constructor(e,t){this.configurationService=e,this.hoverService=t,this.lastHoverHideTime=0,this.placement="element"}showHover(e,t){var i;const r=(e.content instanceof HTMLElement?(i=e.content.textContent)!==null&&i!==void 0?i:"":typeof e.content=="string"?e.content:e.content.value).length>20;return this.hoverService.showHover({...e,persistence:{hideOnKeyDown:!1},appearance:{showHoverHint:r,skipFadeInAnimation:!0}},t)}onDidHideHover(){this.lastHoverHideTime=Date.now()}}ue.white.toString(),ue.white.toString();class KI extends ce{get onDidClick(){return this._onDidClick.event}constructor(e,t){super(),this._label="",this._onDidClick=this._register(new ne),this.options=t,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!t.secondary);const i=t.secondary?t.buttonSecondaryBackground:t.buttonBackground,r=t.secondary?t.buttonSecondaryForeground:t.buttonForeground;this._element.style.color=r||"",this._element.style.backgroundColor=i||"",t.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),typeof t.ariaLabel=="string"&&this._element.setAttribute("aria-label",t.ariaLabel),e.appendChild(this._element),this._register(Ei.addTarget(this._element)),[Ne.CLICK,Ii.Tap].forEach(o=>{this._register(ge(this._element,o,s=>{if(!this.enabled){Mt.stop(s);return}this._onDidClick.fire(s)}))}),this._register(ge(this._element,Ne.KEY_DOWN,o=>{const s=new Oi(o);let a=!1;this.enabled&&(s.equals(3)||s.equals(10))?(this._onDidClick.fire(o),a=!0):s.equals(9)&&(this._element.blur(),a=!0),a&&Mt.stop(s,!0)})),this._register(ge(this._element,Ne.MOUSE_OVER,o=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register(ge(this._element,Ne.MOUSE_OUT,o=>{this.updateBackground(!1)})),this.focusTracker=this._register($c(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(e){const t=[];for(let i of gg(e))if(typeof i=="string"){if(i=i.trim(),i==="")continue;const r=document.createElement("span");r.textContent=i,t.push(r)}else t.push(i);return t}updateBackground(e){let t;this.options.secondary?t=e?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:t=e?this.options.buttonHoverBackground:this.options.buttonBackground,t&&(this._element.style.backgroundColor=t)}get element(){return this._element}set label(e){var t;if(this._label===e||tu(this._label)&&tu(e)&&B5e(this._label,e))return;this._element.classList.add("monaco-text-button");const i=this.options.supportShortLabel?this._labelElement:this._element;if(tu(e)){const r=cM(e,{inline:!0});r.dispose();const o=(t=r.element.querySelector("p"))===null||t===void 0?void 0:t.innerHTML;if(o){const s=pae(o,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});i.innerHTML=s}else Kr(i)}else this.options.supportIcons?Kr(i,...this.getContentElements(e)):i.textContent=e;typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=q5e(e)),typeof this.options.ariaLabel=="string"?this._element.setAttribute("aria-label",this.options.ariaLabel):this.options.ariaLabel&&this._element.setAttribute("aria-label",this._element.title),this._label=e}get label(){return this._label}set icon(e){this._element.classList.add(...lt.asClassNameArray(e))}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}class _9{constructor(e,t,i){this.options=t,this.styles=i,this.count=0,this.element=Se(e,Te(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){var e,t;this.element.textContent=zm(this.countFormat,this.count),this.element.title=zm(this.titleFormat,this.count),this.element.style.backgroundColor=(e=this.styles.badgeBackground)!==null&&e!==void 0?e:"",this.element.style.color=(t=this.styles.badgeForeground)!==null&&t!==void 0?t:"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}const ZZ="done",YZ="active",IO="infinite",NO="infinite-long-running",XZ="discrete";class SM extends ce{constructor(e,t){super(),this.workedVal=0,this.showDelayedScheduler=this._register(new ki(()=>Ps(this.element),0)),this.longRunningScheduler=this._register(new ki(()=>this.infiniteLongRunning(),SM.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(e,t)}create(e,t){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=(t==null?void 0:t.progressBarBackground)||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(YZ,IO,NO,XZ),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add(ZZ),this.element.classList.contains(IO)?(this.bit.style.opacity="0",e?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",e?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(XZ,ZZ,NO),this.element.classList.add(YZ,IO),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(NO)}getContainer(){return this.element}}SM.LONG_RUNNING_INFINITE_THRESHOLD=1e4;const P9e=Te;class M9e extends ce{constructor(e,t,i){super(),this.parent=e,this.onKeyDown=o=>kn(this.findInput.inputBox.inputElement,Ne.KEY_DOWN,o),this.onDidChange=o=>this.findInput.onDidChange(o),this.container=Se(this.parent,P9e(".quick-input-box")),this.findInput=this._register(new hde(this.container,void 0,{label:"",inputBoxStyles:t,toggleStyles:i}));const r=this.findInput.inputBox.inputElement;r.role="combobox",r.ariaHasPopup="menu",r.ariaAutoComplete="list",r.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(e){this.findInput.setValue(e)}select(e=null){this.findInput.inputBox.select(e)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.findInput.inputBox.setPlaceHolder(e)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(e){this.findInput.inputBox.inputElement.type=e?"password":"text"}set enabled(e){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!e)}set toggles(e){this.findInput.setAdditionalToggles(e)}setAttribute(e,t){this.findInput.inputBox.inputElement.setAttribute(e,t)}showDecoration(e){e===Sn.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:e===Sn.Info?1:e===Sn.Warning?2:3,content:""})}stylesForType(e){return this.findInput.inputBox.stylesForType(e===Sn.Info?1:e===Sn.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}const Ts=Te;class xM extends ce{constructor(e,t,i){super(),this.options=e,this.themeService=t,this.layoutService=i,this.enabled=!0,this.onDidAcceptEmitter=this._register(new ne),this.onDidCustomEmitter=this._register(new ne),this.onDidTriggerButtonEmitter=this._register(new ne),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new ne),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new ne),this.onHide=this.onHideEmitter.event,this.idPrefix=e.idPrefix,this.parentElement=e.container,this.styles=e.styles,this._register(Ve.runAndSubscribe(MP,({window:r,disposables:o})=>this.registerKeyModsListeners(r,o),{window:wi,disposables:this._store})),this._register(wDe(r=>{this.ui&&ht(this.ui.container)===r&&this.reparentUI(this.layoutService.mainContainer)}))}registerKeyModsListeners(e,t){const i=r=>{this.keyMods.ctrlCmd=r.ctrlKey||r.metaKey,this.keyMods.alt=r.altKey};for(const r of[Ne.KEY_DOWN,Ne.KEY_UP,Ne.MOUSE_DOWN])t.add(ge(e,r,i,!0))}getUI(e){if(this.ui)return e&&this.parentElement.ownerDocument!==this.layoutService.activeContainer.ownerDocument&&this.reparentUI(this.layoutService.activeContainer),this.ui;const t=Se(this.parentElement,Ts(".quick-input-widget.show-file-icons"));t.tabIndex=-1,t.style.display="none";const i=La(t),r=Se(t,Ts(".quick-input-titlebar")),o=this._register(new sl(r,{hoverDelegate:this.options.hoverDelegate}));o.domNode.classList.add("quick-input-left-action-bar");const s=Se(r,Ts(".quick-input-title")),a=this._register(new sl(r,{hoverDelegate:this.options.hoverDelegate}));a.domNode.classList.add("quick-input-right-action-bar");const l=Se(t,Ts(".quick-input-header")),c=Se(l,Ts("input.quick-input-check-all"));c.type="checkbox",c.setAttribute("aria-label",w("quickInput.checkAll","Toggle all checkboxes")),this._register(kn(c,Ne.CHANGE,R=>{const O=c.checked;I.setAllVisibleChecked(O)})),this._register(ge(c,Ne.CLICK,R=>{(R.x||R.y)&&f.setFocus()}));const d=Se(l,Ts(".quick-input-description")),u=Se(l,Ts(".quick-input-and-message")),h=Se(u,Ts(".quick-input-filter")),f=this._register(new M9e(h,this.styles.inputBox,this.styles.toggle));f.setAttribute("aria-describedby",`${this.idPrefix}message`);const g=Se(h,Ts(".quick-input-visible-count"));g.setAttribute("aria-live","polite"),g.setAttribute("aria-atomic","true");const _=new _9(g,{countFormat:w({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),y=Se(h,Ts(".quick-input-count"));y.setAttribute("aria-live","polite");const m=new _9(y,{countFormat:w({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),p=Se(l,Ts(".quick-input-action")),v=this._register(new KI(p,this.styles.button));v.label=w("ok","OK"),this._register(v.onDidClick(R=>{this.onDidAcceptEmitter.fire()}));const b=Se(l,Ts(".quick-input-action")),C=this._register(new KI(b,{...this.styles.button,supportIcons:!0}));C.label=w("custom","Custom"),this._register(C.onDidClick(R=>{this.onDidCustomEmitter.fire()}));const S=Se(u,Ts(`#${this.idPrefix}message.quick-input-message`)),x=this._register(new SM(t,this.styles.progressBar));x.getContainer().classList.add("quick-input-progress");const k=Se(t,Ts(".quick-input-html-widget"));k.tabIndex=-1;const D=Se(t,Ts(".quick-input-description")),E=this.idPrefix+"list",I=this._register(new QV(t,E,this.options,this.themeService));f.setAttribute("aria-controls",E),this._register(I.onDidChangeFocus(()=>{var R;f.setAttribute("aria-activedescendant",(R=I.getActiveDescendant())!==null&&R!==void 0?R:"")})),this._register(I.onChangedAllVisibleChecked(R=>{c.checked=R})),this._register(I.onChangedVisibleCount(R=>{_.setCount(R)})),this._register(I.onChangedCheckedCount(R=>{m.setCount(R)})),this._register(I.onLeave(()=>{setTimeout(()=>{f.setFocus(),this.controller instanceof IS&&this.controller.canSelectMany&&I.clearFocus()},0)}));const N=$c(t);return this._register(N),this._register(ge(t,Ne.FOCUS,R=>{Ar(R.relatedTarget,t)||(this.previousFocusElement=R.relatedTarget instanceof HTMLElement?R.relatedTarget:void 0)},!0)),this._register(N.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(ES.Blur),this.previousFocusElement=void 0})),this._register(ge(t,Ne.FOCUS,R=>{f.setFocus()})),this._register(kn(t,Ne.KEY_DOWN,R=>{if(!Ar(R.target,k))switch(R.keyCode){case 3:Mt.stop(R,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:Mt.stop(R,!0),this.hide(ES.Gesture);break;case 2:if(!R.altKey&&!R.ctrlKey&&!R.metaKey){const O=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(t.classList.contains("show-checkboxes")?O.push("input"):O.push("input[type=text]"),this.getUI().list.isDisplayed()&&O.push(".monaco-list"),this.getUI().message&&O.push(".quick-input-message a"),this.getUI().widget){if(Ar(R.target,this.getUI().widget))break;O.push(".quick-input-html-widget")}const W=t.querySelectorAll(O.join(", "));R.shiftKey&&R.target===W[0]?(Mt.stop(R,!0),I.clearFocus()):!R.shiftKey&&Ar(R.target,W[W.length-1])&&(Mt.stop(R,!0),W[0].focus())}break;case 10:R.ctrlKey&&(Mt.stop(R,!0),this.getUI().list.toggleHover());break}})),this.ui={container:t,styleSheet:i,leftActionBar:o,titleBar:r,title:s,description1:D,description2:d,widget:k,rightActionBar:a,checkAll:c,inputContainer:u,filterContainer:h,inputBox:f,visibleCountContainer:g,visibleCount:_,countContainer:y,count:m,okContainer:p,ok:v,message:S,customButtonContainer:b,customButton:C,list:I,progressBar:x,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:R=>this.show(R),hide:()=>this.hide(),setVisibilities:R=>this.setVisibilities(R),setEnabled:R=>this.setEnabled(R),setContextKey:R=>this.options.setContextKey(R),linkOpenerDelegate:R=>this.options.linkOpenerDelegate(R)},this.updateStyles(),this.ui}reparentUI(e){this.ui&&(this.parentElement=e,Se(this.parentElement,this.ui.container))}pick(e,t={},i=Ht.None){return new Promise((r,o)=>{let s=d=>{var u;s=r,(u=t.onKeyMods)===null||u===void 0||u.call(t,a.keyMods),r(d)};if(i.isCancellationRequested){s(void 0);return}const a=this.createQuickPick();let l;const c=[a,a.onDidAccept(()=>{if(a.canSelectMany)s(a.selectedItems.slice()),a.hide();else{const d=a.activeItems[0];d&&(s(d),a.hide())}}),a.onDidChangeActive(d=>{const u=d[0];u&&t.onDidFocus&&t.onDidFocus(u)}),a.onDidChangeSelection(d=>{if(!a.canSelectMany){const u=d[0];u&&(s(u),a.hide())}}),a.onDidTriggerItemButton(d=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton({...d,removeItem:()=>{const u=a.items.indexOf(d.item);if(u!==-1){const h=a.items.slice(),f=h.splice(u,1),g=a.activeItems.filter(y=>y!==f[0]),_=a.keepScrollPosition;a.keepScrollPosition=!0,a.items=h,g&&(a.activeItems=g),a.keepScrollPosition=_}}})),a.onDidTriggerSeparatorButton(d=>{var u;return(u=t.onDidTriggerSeparatorButton)===null||u===void 0?void 0:u.call(t,d)}),a.onDidChangeValue(d=>{l&&!d&&(a.activeItems.length!==1||a.activeItems[0]!==l)&&(a.activeItems=[l])}),i.onCancellationRequested(()=>{a.hide()}),a.onDidHide(()=>{vi(c),s(void 0)})];a.title=t.title,a.canSelectMany=!!t.canPickMany,a.placeholder=t.placeHolder,a.ignoreFocusOut=!!t.ignoreFocusLost,a.matchOnDescription=!!t.matchOnDescription,a.matchOnDetail=!!t.matchOnDetail,a.matchOnLabel=t.matchOnLabel===void 0||t.matchOnLabel,a.quickNavigate=t.quickNavigate,a.hideInput=!!t.hideInput,a.contextKey=t.contextKey,a.busy=!0,Promise.all([e,t.activeItem]).then(([d,u])=>{l=u,a.busy=!1,a.items=d,a.canSelectMany&&(a.selectedItems=d.filter(h=>h.type!=="separator"&&h.picked)),l&&(a.activeItems=[l])}),a.show(),Promise.resolve(e).then(void 0,d=>{o(d),a.hide()})})}createQuickPick(){const e=this.getUI(!0);return new IS(e)}createInputBox(){const e=this.getUI(!0);return new I9e(e)}show(e){const t=this.getUI(!0);this.onShowEmitter.fire();const i=this.controller;this.controller=e,i==null||i.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description1.textContent="",t.description2.textContent="",Kr(t.widget),t.rightActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(Sn.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),Kr(t.message),t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,t.inputBox.toggles=void 0;const r=this.options.backKeybindingLabel();m9.tooltip=r?w("quickInput.backWithKeybinding","Back ({0})",r):w("quickInput.back","Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus()}isVisible(){return!!this.ui&&this.ui.container.style.display!=="none"}setVisibilities(e){const t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=e.description&&!(e.inputBox||e.checkAll)?"":"none",t.checkAll.style.display=e.checkAll?"":"none",t.inputContainer.style.display=e.inputBox?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.display(!!e.list),t.container.classList.toggle("show-checkboxes",!!e.checkBox),t.container.classList.toggle("hidden-input",!e.inputBox&&!e.description),this.updateLayout()}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(const t of this.getUI().leftActionBar.viewItems)t.action.enabled=e;for(const t of this.getUI().rightActionBar.viewItems)t.action.enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().inputBox.enabled=e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(e){var t,i;const r=this.controller;if(!r)return;const o=(t=this.ui)===null||t===void 0?void 0:t.container,s=o&&!xae(o);if(this.controller=null,this.onHideEmitter.fire(),o&&(o.style.display="none"),!s){let a=this.previousFocusElement;for(;a&&!a.offsetParent;)a=(i=a.parentElement)!==null&&i!==void 0?i:void 0;a!=null&&a.offsetParent?(a.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}r.didHide(e)}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui&&this.isVisible()){this.ui.container.style.top=`${this.titleBarOffset}px`;const e=this.ui.container.style,t=Math.min(this.dimension.width*.62,xM.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:i,widgetBorder:r,widgetShadow:o}=this.styles.widget;this.ui.titleBar.style.backgroundColor=e??"",this.ui.container.style.backgroundColor=t??"",this.ui.container.style.color=i??"",this.ui.container.style.border=r?`1px solid ${r}`:"",this.ui.container.style.boxShadow=o?`0 0 8px 2px ${o}`:"",this.ui.list.style(this.styles.list);const s=[];this.styles.pickerGroup.pickerGroupBorder&&s.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&s.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&s.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(s.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&s.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&s.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&s.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&s.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&s.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),s.push("}"));const a=s.join(`
`);a!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=a)}}}xM.MAX_WIDTH=600;var R9e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},f0=function(n,e){return function(t,i){e(t,i,n)}};let v9=class extends QPe{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(g9))),this._quickAccess}constructor(e,t,i,r,o,s){super(i),this.instantiationService=e,this.contextKeyService=t,this.layoutService=r,this.configurationService=o,this.hoverService=s,this._onShow=this._register(new ne),this._onHide=this._register(new ne),this.contexts=new Map}createController(e=this.layoutService,t){const i={idPrefix:"quickInput_",container:e.activeContainer,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:o=>this.setContextKey(o),linkOpenerDelegate:o=>{this.instantiationService.invokeFunction(s=>{s.get(ws).open(o,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>e.focus(),createList:(o,s,a,l,c)=>this.instantiationService.createInstance(u9,o,s,a,l,c),styles:this.computeStyles(),hoverDelegate:new N9e(this.configurationService,this.hoverService)},r=this._register(new xM({...i,...t},this.themeService,this.layoutService));return r.layout(e.activeContainerDimension,e.activeContainerOffset.quickPickTop),this._register(e.onDidLayoutActiveContainer(o=>r.layout(o,e.activeContainerOffset.quickPickTop))),this._register(e.onDidChangeActiveContainer(()=>{r.isVisible()||r.layout(e.activeContainerDimension,e.activeContainerOffset.quickPickTop)})),this._register(r.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(r.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),r}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new je(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),!(t&&t.get())&&(this.resetContextKeys(),t==null||t.set(!0))}resetContextKeys(){this.contexts.forEach(e=>{e.get()&&e.reset()})}pick(e,t={},i=Ht.None){return this.controller.pick(e,t,i)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:Ue(BK),quickInputForeground:Ue(nNe),quickInputTitleBackground:Ue(rNe),widgetBorder:Ue(R6),widgetShadow:Ue(Vd)},inputBox:PI,toggle:NI,countBadge:nde,button:AFe,progressBar:OFe,keybindingLabel:RFe,list:ky({listBackground:BK,listFocusBackground:dm,listFocusForeground:cm,listInactiveFocusForeground:cm,listInactiveSelectionIconForeground:ev,listInactiveFocusBackground:dm,listFocusOutline:Hi,listInactiveFocusOutline:Hi}),pickerGroup:{pickerGroupBorder:Ue(oNe),pickerGroupForeground:Ue(hle)}}}};v9=R9e([f0(0,dt),f0(1,_t),f0(2,mr),f0(3,R_),f0(4,jt),f0(5,pV)],v9);var Pde=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},xf=function(n,e){return function(t,i){e(t,i,n)}};let b9=class extends v9{constructor(e,t,i,r,o,s,a){super(t,i,r,new L3(e.getContainerDomNode(),o),s,a),this.host=void 0;const l=Hb.get(e);if(l){const c=l.widget;this.host={_serviceBrand:void 0,get mainContainer(){return c.getDomNode()},getContainer(){return c.getDomNode()},get containers(){return[c.getDomNode()]},get activeContainer(){return c.getDomNode()},get mainContainerDimension(){return e.getLayoutInfo()},get activeContainerDimension(){return e.getLayoutInfo()},get onDidLayoutMainContainer(){return e.onDidLayoutChange},get onDidLayoutActiveContainer(){return e.onDidLayoutChange},get onDidLayoutContainer(){return Ve.map(e.onDidLayoutChange,d=>({container:c.getDomNode(),dimension:d}))},get onDidChangeActiveContainer(){return Ve.None},get onDidAddContainer(){return Ve.None},get whenActiveContainerStylesLoaded(){return Promise.resolve()},get mainContainerOffset(){return{top:0,quickPickTop:0}},get activeContainerOffset(){return{top:0,quickPickTop:0}},focus:()=>e.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};b9=Pde([xf(1,dt),xf(2,_t),xf(3,mr),xf(4,ai),xf(5,jt),xf(6,pV)],b9);let y9=class{get activeService(){const e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){const i=t=this.instantiationService.createInstance(b9,e);this.mapEditorToService.set(e,t),Ng(e.onDidDispose)(()=>{i.dispose(),this.mapEditorToService.delete(e)})}return t}get quickAccess(){return this.activeService.quickAccess}constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}pick(e,t={},i=Ht.None){return this.activeService.pick(e,t,i)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};y9=Pde([xf(0,dt),xf(1,ai)],y9);class Hb{static get(e){return e.getContribution(Hb.ID)}constructor(e){this.editor=e,this.widget=new LM(this.editor)}dispose(){this.widget.dispose()}}Hb.ID="editor.controller.quickInput";class LM{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return LM.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}LM.ID="editor.contrib.quickInputWidget";li(Hb.ID,Hb,4);class A9e{constructor(e,t,i,r,o){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=i,this.foreground=r,this.background=o}}function O9e(n){if(!n||!Array.isArray(n))return[];const e=[];let t=0;for(let i=0,r=n.length;i<r;i++){const o=n[i];let s=-1;if(typeof o.fontStyle=="string"){s=0;const c=o.fontStyle.split(" ");for(let d=0,u=c.length;d<u;d++)switch(c[d]){case"italic":s=s|1;break;case"bold":s=s|2;break;case"underline":s=s|4;break;case"strikethrough":s=s|8;break}}let a=null;typeof o.foreground=="string"&&(a=o.foreground);let l=null;typeof o.background=="string"&&(l=o.background),e[t++]=new A9e(o.token||"",i,s,a,l)}return e}function F9e(n,e){n.sort((d,u)=>{const h=z9e(d.token,u.token);return h!==0?h:d.index-u.index});let t=0,i="000000",r="ffffff";for(;n.length>=1&&n[0].token==="";){const d=n.shift();d.fontStyle!==-1&&(t=d.fontStyle),d.foreground!==null&&(i=d.foreground),d.background!==null&&(r=d.background)}const o=new W9e;for(const d of e)o.getId(d);const s=o.getId(i),a=o.getId(r),l=new JV(t,s,a),c=new eH(l);for(let d=0,u=n.length;d<u;d++){const h=n[d];c.insert(h.token,h.fontStyle,o.getId(h.foreground),o.getId(h.background))}return new Mde(o,c)}const B9e=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class W9e{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(e===null)return 0;const t=e.match(B9e);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let i=this._color2id.get(e);return i||(i=++this._lastColorId,this._color2id.set(e,i),this._id2color[i]=ue.fromHex("#"+e),i)}getColorMap(){return this._id2color.slice(0)}}class Mde{static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(O9e(e),t)}static createFromParsedTokenTheme(e,t){return F9e(e,t)}constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let i=this._cache.get(t);if(typeof i>"u"){const r=this._match(t),o=H9e(t);i=(r.metadata|o<<8)>>>0,this._cache.set(t,i)}return(i|e<<0)>>>0}}const V9e=/\b(comment|string|regex|regexp)\b/;function H9e(n){const e=n.match(V9e);if(!e)return 0;switch(e[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function z9e(n,e){return n<e?-1:n>e?1:0}class JV{constructor(e,t,i){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=i,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new JV(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,i){e!==-1&&(this._fontStyle=e),t!==0&&(this._foreground=t),i!==0&&(this._background=i),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class eH{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(e==="")return this._mainRule;const t=e.indexOf(".");let i,r;t===-1?(i=e,r=""):(i=e.substring(0,t),r=e.substring(t+1));const o=this._children.get(i);return typeof o<"u"?o.match(r):this._mainRule}insert(e,t,i,r){if(e===""){this._mainRule.acceptOverwrite(t,i,r);return}const o=e.indexOf(".");let s,a;o===-1?(s=e,a=""):(s=e.substring(0,o),a=e.substring(o+1));let l=this._children.get(s);typeof l>"u"&&(l=new eH(this._mainRule.clone()),this._children.set(s,l)),l.insert(a,t,i,r)}}function j9e(n){const e=[];for(let t=1,i=n.length;t<i;t++){const r=n[t];e[t]=`.mtk${t} { color: ${r}; }`}return e.push(".mtki { font-style: italic; }"),e.push(".mtkb { font-weight: bold; }"),e.push(".mtku { text-decoration: underline; text-underline-position: under; }"),e.push(".mtks { text-decoration: line-through; }"),e.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),e.join(`
`)}const U9e={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[hr]:"#FFFFFE",[Rl]:"#000000",[fle]:"#E5EBF1",[Ux]:"#D3D3D3",[$x]:"#939393",[F6]:"#ADD6FF4D"}},$9e={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[hr]:"#1E1E1E",[Rl]:"#D4D4D4",[fle]:"#3A3D41",[Ux]:"#404040",[$x]:"#707070",[F6]:"#ADD6FF26"}},q9e={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[hr]:"#000000",[Rl]:"#FFFFFF",[Ux]:"#FFFFFF",[$x]:"#FFFFFF"}},K9e={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[hr]:"#FFFFFF",[Rl]:"#292929",[Ux]:"#292929",[$x]:"#292929"}},G9e={IconContribution:"base.contributions.icons"};var QZ;(function(n){function e(t,i){let r=t.defaults;for(;lt.isThemeIcon(r);){const o=W_.getIcon(r.id);if(!o)return;r=o.defaults}return r}n.getDefinition=e})(QZ||(QZ={}));var JZ;(function(n){function e(i){return{weight:i.weight,style:i.style,src:i.src.map(r=>({format:r.format,location:r.location.toString()}))}}n.toJSONObject=e;function t(i){const r=o=>Ho(o)?o:void 0;if(i&&Array.isArray(i.src)&&i.src.every(o=>Ho(o.format)&&Ho(o.location)))return{weight:r(i.weight),style:r(i.style),src:i.src.map(o=>({format:o.format,location:rt.parse(o.location)}))}}n.fromJSONObject=t})(JZ||(JZ={}));class Z9e{constructor(){this._onDidChange=new ne,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:w("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:w("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${lt.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(e,t,i,r){const o=this.iconsById[e];if(o){if(i&&!o.description){o.description=i,this.iconSchema.properties[e].markdownDescription=`${i} $(${e})`;const l=this.iconReferenceSchema.enum.indexOf(e);l!==-1&&(this.iconReferenceSchema.enumDescriptions[l]=i),this._onDidChange.fire()}return o}const s={id:e,description:i,defaults:t,deprecationMessage:r};this.iconsById[e]=s;const a={$ref:"#/definitions/icons"};return r&&(a.deprecationMessage=r),i&&(a.markdownDescription=`${i}: $(${e})`),this.iconSchema.properties[e]=a,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:e}}getIcons(){return Object.keys(this.iconsById).map(e=>this.iconsById[e])}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}toString(){const e=(o,s)=>o.id.localeCompare(s.id),t=o=>{for(;lt.isThemeIcon(o.defaults);)o=this.iconsById[o.defaults.id];return`codicon codicon-${o?o.id:""}`},i=[];i.push("| preview     | identifier                        | default codicon ID                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const r=Object.keys(this.iconsById).map(o=>this.iconsById[o]);for(const o of r.filter(s=>!!s.description).sort(e))i.push(`|<i class="${t(o)}"></i>|${o.id}|${lt.isThemeIcon(o.defaults)?o.defaults.id:o.id}|${o.description||""}|`);i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(const o of r.filter(s=>!lt.isThemeIcon(s.defaults)).sort(e))i.push(`|<i class="${t(o)}"></i>|${o.id}|`);return i.join(`
`)}}const W_=new Z9e;nn.add(G9e.IconContribution,W_);function Dn(n,e,t,i){return W_.registerIcon(n,e,t,i)}function Rde(){return W_}function Y9e(){const n=Hse();for(const e in n){const t="\\"+n[e].toString(16);W_.registerIcon(e,{fontCharacter:t})}}Y9e();const Ade="vscode://schemas/icons",Ode=nn.as(zP.JSONContribution);Ode.registerSchema(Ade,W_.getIconSchema());const eY=new ki(()=>Ode.notifySchemaChanged(Ade),200);W_.onDidChange(()=>{eY.isScheduled()||eY.schedule()});const Fde=Dn("widget-close",Ae.close,w("widgetClose","Icon for the close action in widgets."));Dn("goto-previous-location",Ae.arrowUp,w("previousChangeIcon","Icon for goto previous editor location."));Dn("goto-next-location",Ae.arrowDown,w("nextChangeIcon","Icon for goto next editor location."));lt.modify(Ae.sync,"spin");lt.modify(Ae.loading,"spin");function X9e(n){const e=new xe,t=e.add(new ne),i=Rde();return e.add(i.onDidChange(()=>t.fire())),n&&e.add(n.onDidProductIconThemeChange(()=>t.fire())),{dispose:()=>e.dispose(),onDidChange:t.event,getCSS(){const r=n?n.getProductIconTheme():new Bde,o={},s=l=>{const c=r.getIcon(l);if(!c)return;const d=c.font;return d?(o[d.id]=d.definition,`.codicon-${l.id}:before { content: '${c.fontCharacter}'; font-family: ${Uq(d.id)}; }`):`.codicon-${l.id}:before { content: '${c.fontCharacter}'; }`},a=[];for(const l of i.getIcons()){const c=s(l);c&&a.push(c)}for(const l in o){const c=o[l],d=c.weight?`font-weight: ${c.weight};`:"",u=c.style?`font-style: ${c.style};`:"",h=c.src.map(f=>`${Og(f.location)} format('${f.format}')`).join(", ");a.push(`@font-face { src: ${h}; font-family: ${Uq(l)};${d}${u} font-display: block; }`)}return a.join(`
`)}}}class Bde{getIcon(e){const t=Rde();let i=e.defaults;for(;lt.isThemeIcon(i);){const r=t.getIcon(i.id);if(!r)return;i=r.defaults}return i}}const Yu="vs",Gv="vs-dark",Dm="hc-black",Tm="hc-light",Wde=nn.as(lle.ColorContribution),Q9e=nn.as(kle.ThemingContribution);class Vde{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;const i=t.base;e.length>0?(kT(e)?this.id=e:this.id=i+" "+e,this.themeName=e):(this.id=i,this.themeName=i),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const e=new Map;for(const t in this.themeData.colors)e.set(t,ue.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){const t=C9(this.themeData.base);for(const i in t.colors)e.has(i)||e.set(i,ue.fromHex(t.colors[i]))}this.colors=e}return this.colors}getColor(e,t){const i=this.getColors().get(e);if(i)return i;if(t!==!1)return this.getDefault(e)}getDefault(e){let t=this.defaultColors[e];return t||(t=Wde.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return this.getColors().has(e)}get type(){switch(this.base){case Yu:return Ka.LIGHT;case Dm:return Ka.HIGH_CONTRAST_DARK;case Tm:return Ka.HIGH_CONTRAST_LIGHT;default:return Ka.DARK}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){const o=C9(this.themeData.base);e=o.rules,o.encodedTokensColors&&(t=o.encodedTokensColors)}const i=this.themeData.colors["editor.foreground"],r=this.themeData.colors["editor.background"];if(i||r){const o={token:""};i&&(o.foreground=i),r&&(o.background=r),e.push(o)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=Mde.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,i){const o=this.tokenTheme._match([e].concat(t).join(".")).metadata,s=zr.getForeground(o),a=zr.getFontStyle(o);return{foreground:s,italic:!!(a&1),bold:!!(a&2),underline:!!(a&4),strikethrough:!!(a&8)}}}function kT(n){return n===Yu||n===Gv||n===Dm||n===Tm}function C9(n){switch(n){case Yu:return U9e;case Gv:return $9e;case Dm:return q9e;case Tm:return K9e}}function Qk(n){const e=C9(n);return new Vde(n,e)}class J9e extends ce{constructor(){super(),this._onColorThemeChange=this._register(new ne),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new ne),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new Bde,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(Yu,Qk(Yu)),this._knownThemes.set(Gv,Qk(Gv)),this._knownThemes.set(Dm,Qk(Dm)),this._knownThemes.set(Tm,Qk(Tm));const e=this._register(X9e(this));this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(Yu),this._onOSSchemeChanged(),this._register(e.onDidChange(()=>{this._codiconCSS=e.getCSS(),this._updateCSS()})),Qse(wi,"(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(e){return zE(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=La(void 0,e=>{e.className="monaco-colors",e.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),ce.None}_registerShadowDomContainer(e){const t=La(e,i=>{i.className="monaco-colors",i.textContent=this._allCSS});return this._styleElements.push(t),{dispose:()=>{for(let i=0;i<this._styleElements.length;i++)if(this._styleElements[i]===t){this._styleElements.splice(i,1);return}}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!kT(t.base)&&!kT(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new Vde(e,t)),kT(e)&&this._knownThemes.forEach(i=>{i.base===e&&i.notifyBaseUpdated()}),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let t;this._knownThemes.has(e)?t=this._knownThemes.get(e):t=this._knownThemes.get(Yu),this._updateActualTheme(t)}_updateActualTheme(e){!e||this._theme===e||(this._theme=e,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const e=wi.matchMedia("(forced-colors: active)").matches;if(e!==Fc(this._theme.type)){let t;Ib(this._theme.type)?t=e?Dm:Gv:t=e?Tm:Yu,this._updateActualTheme(this._knownThemes.get(t))}}}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const e=[],t={},i={addRule:s=>{t[s]||(e.push(s),t[s]=!0)}};Q9e.getThemingParticipants().forEach(s=>s(this._theme,i,this._environment));const r=[];for(const s of Wde.getColors()){const a=this._theme.getColor(s.id,!0);a&&r.push(`${M6(s.id)}: ${a.toString()};`)}i.addRule(`.monaco-editor, .monaco-diff-editor, .monaco-component { ${r.join(`
`)} }`);const o=this._colorMapOverride||this._theme.tokenTheme.getColorMap();i.addRule(j9e(o)),this._themeCSS=e.join(`
`),this._updateCSS(),ln.setColorMap(o),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(e=>e.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}const Ma=zt("themeService");var e8e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},PO=function(n,e){return function(t,i){e(t,i,n)}};let w9=class extends ce{constructor(e,t,i){super(),this._contextKeyService=e,this._layoutService=t,this._configurationService=i,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new ne,this._onDidChangeReducedMotion=new ne,this._accessibilityModeEnabledContext=Vx.bindTo(this._contextKeyService);const r=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(s=>{s.affectsConfiguration("editor.accessibilitySupport")&&(r(),this._onDidChangeScreenReaderOptimized.fire()),s.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),r(),this._register(this.onDidChangeScreenReaderOptimized(()=>r()));const o=wi.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=o.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(o)}initReducedMotionListeners(e){this._register(ge(e,"change",()=>{this._systemMotionReduced=e.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const t=()=>{const i=this.isMotionReduced();this._layoutService.mainContainer.classList.toggle("reduce-motion",i),this._layoutService.mainContainer.classList.toggle("enable-motion",!i)};t(),this._register(this.onDidChangeReducedMotion(()=>t()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return e==="on"||e==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const e=this._configMotionReduced;return e==="on"||e==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};w9=e8e([PO(0,_t),PO(1,R_),PO(2,jt)],w9);var kM=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},i_=function(n,e){return function(t,i){e(t,i,n)}},D0,vf;let S9=class{constructor(e,t){this._commandService=e,this._hiddenStates=new GI(t)}createMenu(e,t,i){return new L9(e,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...i},this._commandService,t)}resetHiddenStates(e){this._hiddenStates.reset(e)}};S9=kM([i_(0,fn),i_(1,Yl)],S9);let GI=D0=class{constructor(e){this._storageService=e,this._disposables=new xe,this._onDidChange=new ne,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const t=e.get(D0._key,0,"{}");this._data=JSON.parse(t)}catch{this._data=Object.create(null)}this._disposables.add(e.onDidChangeValue(0,D0._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const t=e.get(D0._key,0,"{}");this._data=JSON.parse(t)}catch(t){console.log("FAILED to read storage after UPDATE",t)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(e,t){var i;return(i=this._hiddenByDefaultCache.get(`${e.id}/${t}`))!==null&&i!==void 0?i:!1}setDefaultState(e,t,i){this._hiddenByDefaultCache.set(`${e.id}/${t}`,i)}isHidden(e,t){var i,r;const o=this._isHiddenByDefault(e,t),s=(r=(i=this._data[e.id])===null||i===void 0?void 0:i.includes(t))!==null&&r!==void 0?r:!1;return o?!s:s}updateHidden(e,t,i){this._isHiddenByDefault(e,t)&&(i=!i);const o=this._data[e.id];if(i)o?o.indexOf(t)<0&&o.push(t):this._data[e.id]=[t];else if(o){const s=o.indexOf(t);s>=0&&WSe(o,s),o.length===0&&delete this._data[e.id]}this._persist()}reset(e){if(e===void 0)this._data=Object.create(null),this._persist();else{for(const{id:t}of e)this._data[t]&&delete this._data[t];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const e=JSON.stringify(this._data);this._storageService.store(D0._key,e,0,0)}finally{this._ignoreChangeEvent=!1}}};GI._key="menu.hiddenCommands";GI=D0=kM([i_(0,Yl)],GI);let x9=vf=class{constructor(e,t,i,r,o){this._id=e,this._hiddenStates=t,this._collectContextKeysForSubmenus=i,this._commandService=r,this._contextKeyService=o,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const e=Rr.getMenuItems(this._id);let t;e.sort(vf._compareMenuItems);for(const i of e){const r=i.group||"";(!t||t[0]!==r)&&(t=[r,[]],this._menuGroups.push(t)),t[1].push(i),this._collectContextKeys(i)}}_collectContextKeys(e){if(vf._fillInKbExprKeys(e.when,this._structureContextKeys),Z0(e)){if(e.command.precondition&&vf._fillInKbExprKeys(e.command.precondition,this._preconditionContextKeys),e.command.toggled){const t=e.command.toggled.condition||e.command.toggled;vf._fillInKbExprKeys(t,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&Rr.getMenuItems(e.submenu).forEach(this._collectContextKeys,this)}createActionGroups(e){const t=[];for(const i of this._menuGroups){const[r,o]=i,s=[];for(const a of o)if(this._contextKeyService.contextMatchesRules(a.when)){const l=Z0(a);l&&this._hiddenStates.setDefaultState(this._id,a.command.id,!!a.isHiddenByDefault);const c=t8e(this._id,l?a.command:a,this._hiddenStates);if(l)s.push(new Ul(a.command,a.alt,e,c,this._contextKeyService,this._commandService));else{const d=new vf(a.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(e),u=rr.join(...d.map(h=>h[1]));u.length>0&&s.push(new j1(a,c,u))}}s.length>0&&t.push([r,s])}return t}static _fillInKbExprKeys(e,t){if(e)for(const i of e.keys())t.add(i)}static _compareMenuItems(e,t){const i=e.group,r=t.group;if(i!==r){if(i){if(!r)return-1}else return 1;if(i==="navigation")return-1;if(r==="navigation")return 1;const a=i.localeCompare(r);if(a!==0)return a}const o=e.order||0,s=t.order||0;return o<s?-1:o>s?1:vf._compareTitles(Z0(e)?e.command.title:e.title,Z0(t)?t.command.title:t.title)}static _compareTitles(e,t){const i=typeof e=="string"?e:e.original,r=typeof t=="string"?t:t.original;return i.localeCompare(r)}};x9=vf=kM([i_(3,fn),i_(4,_t)],x9);let L9=class{constructor(e,t,i,r,o){this._disposables=new xe,this._menuInfo=new x9(e,t,i.emitEventsForSubmenuChanges,r,o);const s=new ki(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},i.eventDebounceDelay);this._disposables.add(s),this._disposables.add(Rr.onDidChangeMenu(d=>{d.has(e)&&s.schedule()}));const a=this._disposables.add(new xe),l=d=>{let u=!1,h=!1,f=!1;for(const g of d)if(u=u||g.isStructuralChange,h=h||g.isEnablementChange,f=f||g.isToggleChange,u&&h&&f)break;return{menu:this,isStructuralChange:u,isEnablementChange:h,isToggleChange:f}},c=()=>{a.add(o.onDidChangeContext(d=>{const u=d.affectsSome(this._menuInfo.structureContextKeys),h=d.affectsSome(this._menuInfo.preconditionContextKeys),f=d.affectsSome(this._menuInfo.toggledContextKeys);(u||h||f)&&this._onDidChange.fire({menu:this,isStructuralChange:u,isEnablementChange:h,isToggleChange:f})})),a.add(t.onDidChange(d=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new Nse({onWillAddFirstListener:c,onDidRemoveLastListener:a.clear.bind(a),delay:i.eventDebounceDelay,merge:l}),this.onDidChange=this._onDidChange.event}getActions(e){return this._menuInfo.createActionGroups(e)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};L9=kM([i_(3,fn),i_(4,_t)],L9);function t8e(n,e,t){const i=Nke(e)?e.submenu.id:e.id,r=typeof e.title=="string"?e.title:e.title.value,o=Ev({id:`hide/${n.id}/${i}`,label:w("hide.label","Hide '{0}'",r),run(){t.updateHidden(n,i,!0)}}),s=Ev({id:`toggle/${n.id}/${i}`,label:r,get checked(){return!t.isHidden(n,i)},run(){t.updateHidden(n,i,!!this.checked)}});return{hide:o,toggle:s,get isHidden(){return!s.checked}}}var i8e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},tY=function(n,e){return function(t,i){e(t,i,n)}},k9;let ZI=k9=class extends ce{constructor(e,t){super(),this.layoutService=e,this.logService=t,this.mapTextToType=new Map,this.findText="",this.resources=[],this.resourcesStateHash=void 0,(Th||Jse)&&this.installWebKitWriteTextWorkaround(),this._register(Ve.runAndSubscribe(MP,({window:i,disposables:r})=>{r.add(ge(i.document,"copy",()=>this.clearResources()))},{window:wi,disposables:this._store}))}installWebKitWriteTextWorkaround(){const e=()=>{const t=new EP;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=t,navigator.clipboard.write([new ClipboardItem({"text/plain":t.p})]).catch(async i=>{(!(i instanceof Error)||i.name!=="NotAllowedError"||!t.isRejected)&&this.logService.error(i)})};this._register(Ve.runAndSubscribe(this.layoutService.onDidAddContainer,({container:t,disposables:i})=>{i.add(ge(t,"click",e)),i.add(ge(t,"keydown",e))},{container:this.layoutService.mainContainer,disposables:this._store}))}async writeText(e,t){if(this.writeResources([]),t){this.mapTextToType.set(t,e);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(e);try{return await navigator.clipboard.writeText(e)}catch(i){console.error(i)}this.fallbackWriteText(e)}fallbackWriteText(e){const t=by(),i=t.activeElement,r=t.body.appendChild(Te("textarea",{"aria-hidden":!0}));r.style.height="1px",r.style.width="1px",r.style.position="absolute",r.value=e,r.focus(),r.select(),t.execCommand("copy"),i instanceof HTMLElement&&i.focus(),t.body.removeChild(r)}async readText(e){if(e)return this.mapTextToType.get(e)||"";try{return await navigator.clipboard.readText()}catch(t){console.error(t)}return""}async readFindText(){return this.findText}async writeFindText(e){this.findText=e}async writeResources(e){e.length===0?this.clearResources():(this.resources=e,this.resourcesStateHash=await this.computeResourcesStateHash())}async readResources(){const e=await this.computeResourcesStateHash();return this.resourcesStateHash!==e&&this.clearResources(),this.resources}async computeResourcesStateHash(){if(this.resources.length===0)return;const e=await this.readText();return IP(e.substring(0,k9.MAX_RESOURCE_STATE_SOURCE_LENGTH))}clearResources(){this.resources=[],this.resourcesStateHash=void 0}};ZI.MAX_RESOURCE_STATE_SOURCE_LENGTH=1e3;ZI=k9=i8e([tY(0,R_),tY(1,Ks)],ZI);const Vh=zt("clipboardService");var n8e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},r8e=function(n,e){return function(t,i){e(t,i,n)}};const Yw="data-keybinding-context";let tH=class{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}get value(){return{...this._value}}setValue(e,t){return this._value[e]!==t?(this._value[e]=t,!0):!1}removeValue(e){return e in this._value?(delete this._value[e],!0):!1}getValue(e){const t=this._value[e];return typeof t>"u"&&this._parent?this._parent.getValue(e):t}};class zb extends tH{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}}zb.INSTANCE=new zb;class NS extends tH{constructor(e,t,i){super(e,null),this._configurationService=t,this._values=Uv.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(r=>{if(r.source===7){const o=Array.from(this._values,([s])=>s);this._values.clear(),i.fire(new nY(o))}else{const o=[];for(const s of r.affectedKeys){const a=`config.${s}`,l=this._values.findSuperstr(a);l!==void 0&&(o.push(...Kt.map(l,([c])=>c)),this._values.deleteSuperstr(a)),this._values.has(a)&&(o.push(a),this._values.delete(a))}i.fire(new nY(o))}})}dispose(){this._listener.dispose()}getValue(e){if(e.indexOf(NS._keyPrefix)!==0)return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(NS._keyPrefix.length),i=this._configurationService.getValue(t);let r;switch(typeof i){case"number":case"boolean":case"string":r=i;break;default:Array.isArray(i)?r=JSON.stringify(i):r=i}return this._values.set(e,r),r}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}}NS._keyPrefix="config.";class o8e{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class iY{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}allKeysContainedIn(e){return this.affectsSome(e)}}class nY{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}allKeysContainedIn(e){return this.keys.every(t=>e.has(t))}}class s8e{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}allKeysContainedIn(e){return this.events.every(t=>t.allKeysContainedIn(e))}}function a8e(n,e){return n.allKeysContainedIn(new Set(Object.keys(e)))}class Hde extends ce{constructor(e){super(),this._onDidChangeContext=this._register(new Hm({merge:t=>new s8e(t)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new o8e(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new l8e(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return e?e.evaluate(t):!0}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const i=this.getContextValuesContainer(this._myContextId);i&&i.setValue(e,t)&&this._onDidChangeContext.fire(new iY(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new iY(e))}getContext(e){return this._isDisposed?zb.INSTANCE:this.getContextValuesContainer(c8e(e))}dispose(){super.dispose(),this._isDisposed=!0}}let D9=class extends Hde{constructor(e){super(0),this._contexts=new Map,this._lastContextId=0;const t=this._register(new NS(this._myContextId,e,this._onDidChangeContext));this._contexts.set(this._myContextId,t)}getContextValuesContainer(e){return this._isDisposed?zb.INSTANCE:this._contexts.get(e)||zb.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const t=++this._lastContextId;return this._contexts.set(t,new tH(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};D9=n8e([r8e(0,jt)],D9);class l8e extends Hde{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=this._register(new Lr),this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(Yw)){let i="";this._domNode.classList&&(i=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${i?": "+i:""}`)}this._domNode.setAttribute(Yw,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(e=>{const i=this._parent.getContextValuesContainer(this._myContextId).value;a8e(e,i)||this._onDidChangeContext.fire(e)})}dispose(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(Yw),super.dispose())}getContextValuesContainer(e){return this._isDisposed?zb.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}function c8e(n){for(;n;){if(n.hasAttribute(Yw)){const e=n.getAttribute(Yw);return e?parseInt(e,10):NaN}n=n.parentElement}return 0}function d8e(n,e,t){n.get(_t).createKey(String(e),u8e(t))}function u8e(n){return _se(n,e=>{if(typeof e=="object"&&e.$mid===1)return rt.revive(e).toString();if(e instanceof rt)return e.toString()})}Gt.registerCommand("_setContext",d8e);Gt.registerCommand({id:"getContextKeyInfo",handler(){return[...je.all()].sort((n,e)=>n.key.localeCompare(e.key))},metadata:{description:w("getContextKeyInfo","A command that returns information about context keys"),args:[]}});Gt.registerCommand("_generateContextKeyInfo",function(){const n=[],e=new Set;for(const t of je.all())e.has(t.key)||(e.add(t.key),n.push(t));n.sort((t,i)=>t.key.localeCompare(i.key)),console.log(JSON.stringify(n,void 0,2))});let h8e=class{constructor(e,t){this.key=e,this.data=t,this.incoming=new Map,this.outgoing=new Map}};class rY{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(const t of this._nodes.values())t.outgoing.size===0&&e.push(t);return e}insertEdge(e,t){const i=this.lookupOrInsertNode(e),r=this.lookupOrInsertNode(t);i.outgoing.set(r.key,r),r.incoming.set(i.key,i)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(const i of this._nodes.values())i.outgoing.delete(t),i.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let i=this._nodes.get(t);return i||(i=new h8e(t,e),this._nodes.set(t,i)),i}isEmpty(){return this._nodes.size===0}toString(){const e=[];for(const[t,i]of this._nodes)e.push(`${t}
	(-> incoming)[${[...i.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...i.outgoing.keys()].join(",")}]
`);return e.join(`
`)}findCycleSlow(){for(const[e,t]of this._nodes){const i=new Set([e]),r=this._findCycle(t,i);if(r)return r}}_findCycle(e,t){for(const[i,r]of e.outgoing){if(t.has(i))return[...t,i].join(" -> ");t.add(i);const o=this._findCycle(r,t);if(o)return o;t.delete(i)}}}const f8e=!1;class oY extends Error{constructor(e){var t;super("cyclic dependency between services"),this.message=(t=e.findCycleSlow())!==null&&t!==void 0?t:`UNABLE to detect cycle, dumping graph: 
${e.toString()}`}}class YI{constructor(e=new Gx,t=!1,i,r=f8e){var o;this._services=e,this._strict=t,this._parent=i,this._enableTracing=r,this._activeInstantiations=new Set,this._services.set(dt,this),this._globalGraph=r?(o=i==null?void 0:i._globalGraph)!==null&&o!==void 0?o:new rY(s=>s):void 0}createChild(e){return new YI(e,this._strict,this,this._enableTracing)}invokeFunction(e,...t){const i=as.traceInvocation(this._enableTracing,e);let r=!1;try{return e({get:s=>{if(r)throw $W("service accessor is only valid during the invocation of its target method");const a=this._getOrCreateServiceInstance(s,i);if(!a)throw new Error(`[invokeFunction] unknown service '${s}'`);return a}},...t)}finally{r=!0,i.stop()}}createInstance(e,...t){let i,r;return e instanceof xd?(i=as.traceCreation(this._enableTracing,e.ctor),r=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=as.traceCreation(this._enableTracing,e),r=this._createInstance(e,t,i)),i.stop(),r}_createInstance(e,t=[],i){const r=Dc.getServiceDependencies(e).sort((a,l)=>a.index-l.index),o=[];for(const a of r){const l=this._getOrCreateServiceInstance(a.id,i);l||this._throwIfStrict(`[createInstance] ${e.name} depends on UNKNOWN service ${a.id}.`,!1),o.push(l)}const s=r.length>0?r[0].index:t.length;if(t.length!==s){console.trace(`[createInstance] First service dependency of ${e.name} at position ${s+1} conflicts with ${t.length} static arguments`);const a=s-t.length;a>0?t=t.concat(new Array(a)):t=t.slice(0,s)}return Reflect.construct(e,t.concat(o))}_setServiceInstance(e,t){if(this._services.get(e)instanceof xd)this._services.set(e,t);else if(this._parent)this._parent._setServiceInstance(e,t);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(e){const t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(e));const i=this._getServiceInstanceOrDescriptor(e);return i instanceof xd?this._safeCreateAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_safeCreateAndCacheServiceInstance(e,t,i){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,i)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,i){var r;const o=new rY(l=>l.id.toString());let s=0;const a=[{id:e,desc:t,_trace:i}];for(;a.length;){const l=a.pop();if(o.lookupOrInsertNode(l),s++>1e3)throw new oY(o);for(const c of Dc.getServiceDependencies(l.desc.ctor)){const d=this._getServiceInstanceOrDescriptor(c.id);if(d||this._throwIfStrict(`[createInstance] ${e} depends on ${c.id} which is NOT registered.`,!0),(r=this._globalGraph)===null||r===void 0||r.insertEdge(String(l.id),String(c.id)),d instanceof xd){const u={id:c.id,desc:d,_trace:l._trace.branch(c.id,!0)};o.insertEdge(l,u),a.push(u)}}}for(;;){const l=o.roots();if(l.length===0){if(!o.isEmpty())throw new oY(o);break}for(const{data:c}of l){if(this._getServiceInstanceOrDescriptor(c.id)instanceof xd){const u=this._createServiceInstanceWithOwner(c.id,c.desc.ctor,c.desc.staticArguments,c.desc.supportsDelayedInstantiation,c._trace);this._setServiceInstance(c.id,u)}o.removeNode(c)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,i=[],r,o){if(this._services.get(e)instanceof xd)return this._createServiceInstance(e,t,i,r,o);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,r,o);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t,i=[],r,o){if(r){const s=new YI(void 0,this._strict,this,this._enableTracing);s._globalGraphImplicitDependency=String(e);const a=new Map,l=new $ke(()=>{const c=s._createInstance(t,i,o);for(const[d,u]of a){const h=c[d];if(typeof h=="function")for(const f of u)f.disposable=h.apply(c,f.listener)}return a.clear(),c});return new Proxy(Object.create(null),{get(c,d){if(!l.isInitialized&&typeof d=="string"&&(d.startsWith("onDid")||d.startsWith("onWill"))){let f=a.get(d);return f||(f=new Fo,a.set(d,f)),(_,y,m)=>{if(l.isInitialized)return l.value[d](_,y,m);{const p={listener:[_,y,m],disposable:void 0},v=f.push(p);return at(()=>{var C;v(),(C=p.disposable)===null||C===void 0||C.dispose()})}}}if(d in c)return c[d];const u=l.value;let h=u[d];return typeof h!="function"||(h=h.bind(u),c[d]=h),h},set(c,d,u){return l.value[d]=u,!0},getPrototypeOf(c){return t.prototype}})}else return this._createInstance(t,i,o)}_throwIfStrict(e,t){if(t&&console.warn(e),this._strict)throw new Error(e)}}class as{static traceInvocation(e,t){return e?new as(2,t.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):as._None}static traceCreation(e,t){return e?new as(1,t.name):as._None}constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}branch(e,t){const i=new as(3,e.toString());return this._dep.push([e,t,i]),i}stop(){const e=Date.now()-this._start;as._totals+=e;let t=!1;function i(o,s){const a=[],l=new Array(o+1).join("	");for(const[c,d,u]of s._dep)if(d&&u){t=!0,a.push(`${l}CREATES -> ${c}`);const h=i(o+1,u);h&&a.push(h)}else a.push(`${l}uses -> ${c}`);return a.join(`
`)}const r=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${i(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${as._totals.toFixed(2)}ms)`];(e>2||t)&&as.all.add(r.join(`
`))}}as.all=new Set;as._None=new class extends as{constructor(){super(0,null)}stop(){}branch(){return this}};as._totals=0;const g8e=new Set([Tt.inMemory,Tt.vscodeSourceControl,Tt.walkThrough,Tt.walkThroughSnippet]);class p8e{constructor(){this._byResource=new Ln,this._byOwner=new Map}set(e,t,i){let r=this._byResource.get(e);r||(r=new Map,this._byResource.set(e,r)),r.set(t,i);let o=this._byOwner.get(t);o||(o=new Ln,this._byOwner.set(t,o)),o.set(e,i)}get(e,t){const i=this._byResource.get(e);return i==null?void 0:i.get(t)}delete(e,t){let i=!1,r=!1;const o=this._byResource.get(e);o&&(i=o.delete(t));const s=this._byOwner.get(t);if(s&&(r=s.delete(e)),i!==r)throw new Error("illegal state");return i&&r}values(e){var t,i,r,o;return typeof e=="string"?(i=(t=this._byOwner.get(e))===null||t===void 0?void 0:t.values())!==null&&i!==void 0?i:Kt.empty():rt.isUri(e)?(o=(r=this._byResource.get(e))===null||r===void 0?void 0:r.values())!==null&&o!==void 0?o:Kt.empty():Kt.map(Kt.concat(...this._byOwner.values()),s=>s[1])}}class m8e{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Ln,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(const t of e){const i=this._data.get(t);i&&this._substract(i);const r=this._resourceStats(t);this._add(r),this._data.set(t,r)}}_resourceStats(e){const t={errors:0,warnings:0,infos:0,unknowns:0};if(g8e.has(e.scheme))return t;for(const{severity:i}of this._service.read({resource:e}))i===hn.Error?t.errors+=1:i===hn.Warning?t.warnings+=1:i===hn.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}}class Lf{constructor(){this._onMarkerChanged=new Nse({delay:0,merge:Lf._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new p8e,this._stats=new m8e(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(e,t){for(const i of t||[])this.changeOne(e,i,[])}changeOne(e,t,i){if(hse(i))this._data.delete(t,e)&&this._onMarkerChanged.fire([t]);else{const r=[];for(const o of i){const s=Lf._toMarker(e,t,o);s&&r.push(s)}this._data.set(t,e,r),this._onMarkerChanged.fire([t])}}static _toMarker(e,t,i){let{code:r,severity:o,message:s,source:a,startLineNumber:l,startColumn:c,endLineNumber:d,endColumn:u,relatedInformation:h,tags:f}=i;if(s)return l=l>0?l:1,c=c>0?c:1,d=d>=l?d:l,u=u>0?u:c,{resource:t,owner:e,code:r,severity:o,message:s,source:a,startLineNumber:l,startColumn:c,endLineNumber:d,endColumn:u,relatedInformation:h,tags:f}}changeAll(e,t){const i=[],r=this._data.values(e);if(r)for(const o of r){const s=Kt.first(o);s&&(i.push(s.resource),this._data.delete(s.resource,e))}if(io(t)){const o=new Ln;for(const{resource:s,marker:a}of t){const l=Lf._toMarker(e,s,a);if(!l)continue;const c=o.get(s);c?c.push(l):(o.set(s,[l]),i.push(s))}for(const[s,a]of o)this._data.set(s,e,a)}i.length>0&&this._onMarkerChanged.fire(i)}read(e=Object.create(null)){let{owner:t,resource:i,severities:r,take:o}=e;if((!o||o<0)&&(o=-1),t&&i){const s=this._data.get(i,t);if(s){const a=[];for(const l of s)if(Lf._accept(l,r)){const c=a.push(l);if(o>0&&c===o)break}return a}else return[]}else if(!t&&!i){const s=[];for(const a of this._data.values())for(const l of a)if(Lf._accept(l,r)){const c=s.push(l);if(o>0&&c===o)return s}return s}else{const s=this._data.values(i??t),a=[];for(const l of s)for(const c of l)if(Lf._accept(c,r)){const d=a.push(c);if(o>0&&d===o)return a}return a}}static _accept(e,t){return t===void 0||(t&e.severity)===e.severity}static _merge(e){const t=new Ln;for(const i of e)for(const r of i)t.set(r,!0);return Array.from(t.keys())}}class _8e extends ce{constructor(){super(...arguments),this._configurationModel=new Qr}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new Qr;const e=nn.as(id.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(e),e)}updateConfigurationModel(e,t){const i=this.getConfigurationDefaultOverrides();for(const r of e){const o=i[r],s=t[r];o!==void 0?this._configurationModel.addValue(r,o):s?this._configurationModel.addValue(r,s.default):this._configurationModel.removeValue(r)}}}const mp=zt("audioCue");class wt{static register(e){return new wt(e.fileName)}constructor(e){this.fileName=e}}wt.error=wt.register({fileName:"error.mp3"});wt.warning=wt.register({fileName:"warning.mp3"});wt.foldedArea=wt.register({fileName:"foldedAreas.mp3"});wt.break=wt.register({fileName:"break.mp3"});wt.quickFixes=wt.register({fileName:"quickFixes.mp3"});wt.taskCompleted=wt.register({fileName:"taskCompleted.mp3"});wt.taskFailed=wt.register({fileName:"taskFailed.mp3"});wt.terminalBell=wt.register({fileName:"terminalBell.mp3"});wt.diffLineInserted=wt.register({fileName:"diffLineInserted.mp3"});wt.diffLineDeleted=wt.register({fileName:"diffLineDeleted.mp3"});wt.diffLineModified=wt.register({fileName:"diffLineModified.mp3"});wt.chatRequestSent=wt.register({fileName:"chatRequestSent.mp3"});wt.chatResponsePending=wt.register({fileName:"chatResponsePending.mp3"});wt.chatResponseReceived1=wt.register({fileName:"chatResponseReceived1.mp3"});wt.chatResponseReceived2=wt.register({fileName:"chatResponseReceived2.mp3"});wt.chatResponseReceived3=wt.register({fileName:"chatResponseReceived3.mp3"});wt.chatResponseReceived4=wt.register({fileName:"chatResponseReceived4.mp3"});wt.clear=wt.register({fileName:"clear.mp3"});wt.save=wt.register({fileName:"save.mp3"});wt.format=wt.register({fileName:"format.mp3"});class v8e{constructor(e){this.randomOneOf=e}}class Pt{static register(e){const t=new v8e("randomOneOf"in e.sound?e.sound.randomOneOf:[e.sound]),i=new Pt(t,e.name,e.settingsKey,e.alertSettingsKey,e.alertMessage);return Pt._audioCues.add(i),i}constructor(e,t,i,r,o){this.sound=e,this.name=t,this.settingsKey=i,this.alertSettingsKey=r,this.alertMessage=o}}Pt._audioCues=new Set;Pt.error=Pt.register({name:w("audioCues.lineHasError.name","Error on Line"),sound:wt.error,settingsKey:"audioCues.lineHasError",alertSettingsKey:"accessibility.alert.error",alertMessage:w("audioCues.lineHasError.alertMessage","Error")});Pt.warning=Pt.register({name:w("audioCues.lineHasWarning.name","Warning on Line"),sound:wt.warning,settingsKey:"audioCues.lineHasWarning",alertSettingsKey:"accessibility.alert.warning",alertMessage:w("audioCues.lineHasWarning.alertMessage","Warning")});Pt.foldedArea=Pt.register({name:w("audioCues.lineHasFoldedArea.name","Folded Area on Line"),sound:wt.foldedArea,settingsKey:"audioCues.lineHasFoldedArea",alertSettingsKey:"accessibility.alert.foldedArea",alertMessage:w("audioCues.lineHasFoldedArea.alertMessage","Folded")});Pt.break=Pt.register({name:w("audioCues.lineHasBreakpoint.name","Breakpoint on Line"),sound:wt.break,settingsKey:"audioCues.lineHasBreakpoint",alertSettingsKey:"accessibility.alert.breakpoint",alertMessage:w("audioCues.lineHasBreakpoint.alertMessage","Breakpoint")});Pt.inlineSuggestion=Pt.register({name:w("audioCues.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:wt.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"});Pt.terminalQuickFix=Pt.register({name:w("audioCues.terminalQuickFix.name","Terminal Quick Fix"),sound:wt.quickFixes,settingsKey:"audioCues.terminalQuickFix",alertSettingsKey:"accessibility.alert.terminalQuickFix",alertMessage:w("audioCues.terminalQuickFix.alertMessage","Quick Fix")});Pt.onDebugBreak=Pt.register({name:w("audioCues.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:wt.break,settingsKey:"audioCues.onDebugBreak",alertSettingsKey:"accessibility.alert.onDebugBreak",alertMessage:w("audioCues.onDebugBreak.alertMessage","Breakpoint")});Pt.noInlayHints=Pt.register({name:w("audioCues.noInlayHints","No Inlay Hints on Line"),sound:wt.error,settingsKey:"audioCues.noInlayHints",alertSettingsKey:"accessibility.alert.noInlayHints",alertMessage:w("audioCues.noInlayHints.alertMessage","No Inlay Hints")});Pt.taskCompleted=Pt.register({name:w("audioCues.taskCompleted","Task Completed"),sound:wt.taskCompleted,settingsKey:"audioCues.taskCompleted",alertSettingsKey:"accessibility.alert.taskCompleted",alertMessage:w("audioCues.taskCompleted.alertMessage","Task Completed")});Pt.taskFailed=Pt.register({name:w("audioCues.taskFailed","Task Failed"),sound:wt.taskFailed,settingsKey:"audioCues.taskFailed",alertSettingsKey:"accessibility.alert.taskFailed",alertMessage:w("audioCues.taskFailed.alertMessage","Task Failed")});Pt.terminalCommandFailed=Pt.register({name:w("audioCues.terminalCommandFailed","Terminal Command Failed"),sound:wt.error,settingsKey:"audioCues.terminalCommandFailed",alertSettingsKey:"accessibility.alert.terminalCommandFailed",alertMessage:w("audioCues.terminalCommandFailed.alertMessage","Command Failed")});Pt.terminalBell=Pt.register({name:w("audioCues.terminalBell","Terminal Bell"),sound:wt.terminalBell,settingsKey:"audioCues.terminalBell",alertSettingsKey:"accessibility.alert.terminalBell",alertMessage:w("audioCues.terminalBell.alertMessage","Terminal Bell")});Pt.notebookCellCompleted=Pt.register({name:w("audioCues.notebookCellCompleted","Notebook Cell Completed"),sound:wt.taskCompleted,settingsKey:"audioCues.notebookCellCompleted",alertSettingsKey:"accessibility.alert.notebookCellCompleted",alertMessage:w("audioCues.notebookCellCompleted.alertMessage","Notebook Cell Completed")});Pt.notebookCellFailed=Pt.register({name:w("audioCues.notebookCellFailed","Notebook Cell Failed"),sound:wt.taskFailed,settingsKey:"audioCues.notebookCellFailed",alertSettingsKey:"accessibility.alert.notebookCellFailed",alertMessage:w("audioCues.notebookCellFailed.alertMessage","Notebook Cell Failed")});Pt.diffLineInserted=Pt.register({name:w("audioCues.diffLineInserted","Diff Line Inserted"),sound:wt.diffLineInserted,settingsKey:"audioCues.diffLineInserted"});Pt.diffLineDeleted=Pt.register({name:w("audioCues.diffLineDeleted","Diff Line Deleted"),sound:wt.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"});Pt.diffLineModified=Pt.register({name:w("audioCues.diffLineModified","Diff Line Modified"),sound:wt.diffLineModified,settingsKey:"audioCues.diffLineModified"});Pt.chatRequestSent=Pt.register({name:w("audioCues.chatRequestSent","Chat Request Sent"),sound:wt.chatRequestSent,settingsKey:"audioCues.chatRequestSent",alertSettingsKey:"accessibility.alert.chatRequestSent",alertMessage:w("audioCues.chatRequestSent.alertMessage","Chat Request Sent")});Pt.chatResponseReceived=Pt.register({name:w("audioCues.chatResponseReceived","Chat Response Received"),settingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[wt.chatResponseReceived1,wt.chatResponseReceived2,wt.chatResponseReceived3,wt.chatResponseReceived4]}});Pt.chatResponsePending=Pt.register({name:w("audioCues.chatResponsePending","Chat Response Pending"),sound:wt.chatResponsePending,settingsKey:"audioCues.chatResponsePending",alertSettingsKey:"accessibility.alert.chatResponsePending",alertMessage:w("audioCues.chatResponsePending.alertMessage","Chat Response Pending")});Pt.clear=Pt.register({name:w("audioCues.clear","Clear"),sound:wt.clear,settingsKey:"audioCues.clear",alertSettingsKey:"accessibility.alert.clear",alertMessage:w("audioCues.clear.alertMessage","Clear")});Pt.save=Pt.register({name:w("audioCues.save","Save"),sound:wt.save,settingsKey:"audioCues.save",alertSettingsKey:"accessibility.alert.save",alertMessage:w("audioCues.save.alertMessage","Save")});Pt.format=Pt.register({name:w("audioCues.format","Format"),sound:wt.format,settingsKey:"audioCues.format",alertSettingsKey:"accessibility.alert.format",alertMessage:w("audioCues.format.alertMessage","Format")});class b8e extends ce{constructor(e,t=[]){super(),this.logger=new Mke([e,...t]),this._register(e.onDidChangeLogLevel(i=>this.setLevel(i)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(e){this.logger.setLevel(e)}getLevel(){return this.logger.getLevel()}trace(e,...t){this.logger.trace(e,...t)}debug(e,...t){this.logger.debug(e,...t)}info(e,...t){this.logger.info(e,...t)}warn(e,...t){this.logger.warn(e,...t)}error(e,...t){this.logger.error(e,...t)}}const zde=[];function oL(n){zde.push(n)}function y8e(){return zde.slice(0)}var _p=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Mr=function(n,e){return function(t,i){e(t,i,n)}};class C8e{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new ne}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let T9=class{constructor(e){this.modelService=e}createModelReference(e){const t=this.modelService.getModel(e);return t?Promise.resolve(new nLe(new C8e(t))):Promise.reject(new Error("Model not found"))}};T9=_p([Mr(0,Ji)],T9);class DM{show(){return DM.NULL_PROGRESS_RUNNER}async showWhile(e,t){await e}}DM.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class w8e{withProgress(e,t,i){return t({report:()=>{}})}}class S8e{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class x8e{async confirm(e){return{confirmed:this.doConfirm(e.message,e.detail),checkboxChecked:!1}}doConfirm(e,t){let i=e;return t&&(i=i+`

`+t),wi.confirm(i)}async prompt(e){var t,i;let r;if(this.doConfirm(e.message,e.detail)){const s=[...(t=e.buttons)!==null&&t!==void 0?t:[]];e.cancelButton&&typeof e.cancelButton!="string"&&typeof e.cancelButton!="boolean"&&s.push(e.cancelButton),r=await((i=s[0])===null||i===void 0?void 0:i.run({checkboxChecked:!1}))}return{result:r}}async error(e,t){await this.prompt({type:Sn.Error,message:e,detail:t})}}class PS{info(e){return this.notify({severity:Sn.Info,message:e})}warn(e){return this.notify({severity:Sn.Warning,message:e})}error(e){return this.notify({severity:Sn.Error,message:e})}notify(e){switch(e.severity){case Sn.Error:console.error(e.message);break;case Sn.Warning:console.warn(e.message);break;default:console.log(e.message);break}return PS.NO_OP}prompt(e,t,i,r){return PS.NO_OP}status(e,t){return ce.None}}PS.NO_OP=new hOe;let E9=class{constructor(e){this._onWillExecuteCommand=new ne,this._onDidExecuteCommand=new ne,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=e}executeCommand(e,...t){const i=Gt.getCommand(e);if(!i)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});const r=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(r)}catch(r){return Promise.reject(r)}}};E9=_p([Mr(0,dt)],E9);let jb=class extends x4e{constructor(e,t,i,r,o,s){super(e,t,i,r,o),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const a=f=>{const g=new xe;g.add(ge(f,Ne.KEY_DOWN,_=>{const y=new Oi(_);this._dispatch(y,y.target)&&(y.preventDefault(),y.stopPropagation())})),g.add(ge(f,Ne.KEY_UP,_=>{const y=new Oi(_);this._singleModifierDispatch(y,y.target)&&y.preventDefault()})),this._domNodeListeners.push(new L8e(f,g))},l=f=>{for(let g=0;g<this._domNodeListeners.length;g++){const _=this._domNodeListeners[g];_.domNode===f&&(this._domNodeListeners.splice(g,1),_.dispose())}},c=f=>{f.getOption(61)||a(f.getContainerDomNode())},d=f=>{f.getOption(61)||l(f.getContainerDomNode())};this._register(s.onCodeEditorAdd(c)),this._register(s.onCodeEditorRemove(d)),s.listCodeEditors().forEach(c);const u=f=>{a(f.getContainerDomNode())},h=f=>{l(f.getContainerDomNode())};this._register(s.onDiffEditorAdd(u)),this._register(s.onDiffEditorRemove(h)),s.listDiffEditors().forEach(u)}addDynamicKeybinding(e,t,i,r){return Wl(Gt.registerCommand(e,i),this.addDynamicKeybindings([{keybinding:t,command:e,when:r}]))}addDynamicKeybindings(e){const t=e.map(i=>{var r;return{keybinding:TF(i.keybinding,ma),command:(r=i.command)!==null&&r!==void 0?r:null,commandArgs:i.commandArgs,when:i.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(t),this.updateResolver(),at(()=>{for(let i=0;i<this._dynamicKeybindings.length;i++)if(this._dynamicKeybindings[i]===t[0]){this._dynamicKeybindings.splice(i,t.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(vs.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new Gw(e,t,i=>this._log(i))}return this._cachedResolver}_documentHasFocus(){return wi.document.hasFocus()}_toNormalizedKeybindingItems(e,t){const i=[];let r=0;for(const o of e){const s=o.when||void 0,a=o.keybinding;if(!a)i[r++]=new wZ(void 0,o.command,o.commandArgs,s,t,null,!1);else{const l=vS.resolveKeybinding(a,ma);for(const c of l)i[r++]=new wZ(c,o.command,o.commandArgs,s,t,null,!1)}}return i}resolveKeyboardEvent(e){const t=new Eh(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode);return new vS([t],ma)}};jb=_p([Mr(0,_t),Mr(1,fn),Mr(2,qs),Mr(3,Rn),Mr(4,Ks),Mr(5,ai)],jb);class L8e extends ce{constructor(e,t){super(),this.domNode=e,this._register(t)}}function sY(n){return n&&typeof n=="object"&&(!n.overrideIdentifier||typeof n.overrideIdentifier=="string")&&(!n.resource||n.resource instanceof rt)}class jde{constructor(){this._onDidChangeConfiguration=new ne,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const e=new _8e;this._configuration=new uM(e.reload(),new Qr,new Qr,new Qr),e.dispose()}getValue(e,t){const i=typeof e=="string"?e:void 0,r=sY(e)?e:sY(t)?t:{};return this._configuration.getValue(i,r,void 0)}updateValues(e){const t={data:this._configuration.toData()},i=[];for(const r of e){const[o,s]=r;this.getValue(o)!==s&&(this._configuration.updateValue(o,s),i.push(o))}if(i.length>0){const r=new y4e({keys:i,overrides:[]},t,this._configuration);r.source=8,this._onDidChangeConfiguration.fire(r)}return Promise.resolve()}updateValue(e,t,i,r){return this.updateValues([[e,t]])}inspect(e,t={}){return this._configuration.inspect(e,t,void 0)}}let I9=class{constructor(e,t,i){this.configurationService=e,this.modelService=t,this.languageService=i,this._onDidChangeConfiguration=new ne,this.configurationService.onDidChangeConfiguration(r=>{this._onDidChangeConfiguration.fire({affectedKeys:r.affectedKeys,affectsConfiguration:(o,s)=>r.affectsConfiguration(s)})})}getValue(e,t,i){const r=re.isIPosition(t)?t:null,o=r?typeof i=="string"?i:void 0:typeof t=="string"?t:void 0,s=e?this.getLanguage(e,r):void 0;return typeof o>"u"?this.configurationService.getValue({resource:e,overrideIdentifier:s}):this.configurationService.getValue(o,{resource:e,overrideIdentifier:s})}getLanguage(e,t){const i=this.modelService.getModel(e);return i?t?i.getLanguageIdAtPosition(t.lineNumber,t.column):i.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(e)}};I9=_p([Mr(0,jt),Mr(1,Ji),Mr(2,Zi)],I9);let N9=class{constructor(e){this.configurationService=e}getEOL(e,t){const i=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return i&&typeof i=="string"&&i!=="auto"?i:Uo||qt?`
`:`\r
`}};N9=_p([Mr(0,jt)],N9);class k8e{publicLog2(){}}class MS{constructor(){const e=rt.from({scheme:MS.SCHEME,authority:"model",path:"/"});this.workspace={id:qce,folders:[new W4e({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(e){return e&&e.scheme===MS.SCHEME?this.workspace.folders[0]:null}}MS.SCHEME="inmemory";function XI(n,e,t){if(!e||!(n instanceof jde))return;const i=[];Object.keys(e).forEach(r=>{p4e(r)&&i.push([`editor.${r}`,e[r]]),t&&m4e(r)&&i.push([`diffEditor.${r}`,e[r]])}),i.length>0&&n.updateValues(i)}let P9=class{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}async apply(e,t){const i=Array.isArray(e)?e:TV.convert(e),r=new Map;for(const a of i){if(!(a instanceof pg))throw new Error("bad edit - only text edits are supported");const l=this._modelService.getModel(a.resource);if(!l)throw new Error("bad edit - model not found");if(typeof a.versionId=="number"&&l.getVersionId()!==a.versionId)throw new Error("bad state - model changed in the meantime");let c=r.get(l);c||(c=[],r.set(l,c)),c.push(Qi.replaceMove(B.lift(a.textEdit.range),a.textEdit.text))}let o=0,s=0;for(const[a,l]of r)a.pushStackElement(),a.pushEditOperations([],l,()=>[]),a.pushStackElement(),s+=1,o+=l.length;return{ariaSummary:zm(G3.bulkEditServiceSummary,o,s),isApplied:o>0}}};P9=_p([Mr(0,Ji)],P9);class D8e{getUriLabel(e,t){return e.scheme==="file"?e.fsPath:e.path}getUriBasenameLabel(e){return ol(e)}}let M9=class extends Z3{constructor(e,t){super(e),this._codeEditorService=t}showContextView(e,t,i){if(!t){const r=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();r&&(t=r.getContainerDomNode())}return super.showContextView(e,t,i)}};M9=_p([Mr(0,R_),Mr(1,ai)],M9);class T8e{constructor(){this._neverEmitter=new ne,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class E8e extends CS{constructor(){super()}}class I8e extends b8e{constructor(){super(new Pke)}}let R9=class extends i9{constructor(e,t,i,r,o,s){super(e,t,i,r,o,s),this.configure({blockMouse:!1})}};R9=_p([Mr(0,qs),Mr(1,Rn),Mr(2,bu),Mr(3,xi),Mr(4,ed),Mr(5,_t)],R9);class N8e{async playAudioCue(e,t){}}Yt(jt,jde,0);Yt(k6,I9,0);Yt(ele,N9,0);Yt(Qm,MS,0);Yt(Fb,D8e,0);Yt(qs,k8e,0);Yt(Zx,x8e,0);Yt(hV,S8e,0);Yt(Rn,PS,0);Yt(yu,Lf,0);Yt(Zi,E8e,0);Yt(Ma,J9e,0);Yt(Ks,I8e,0);Yt(Ji,FI,0);Yt(P6,a9,0);Yt(_t,D9,0);Yt($ce,w8e,0);Yt(pp,DM,0);Yt(Yl,PFe,0);Yt(Xl,UF,0);Yt(Xx,P9,0);Yt(Kce,T8e,0);Yt(Cs,T9,0);Yt(Gl,w9,0);Yt(hl,J3e,0);Yt(fn,E9,0);Yt(xi,jb,0);Yt(rd,y9,0);Yt(bu,M9,0);Yt(ws,s9,0);Yt(Vh,ZI,0);Yt(Pa,R9,0);Yt(ed,S9,0);Yt(mp,N8e,0);var ft;(function(n){const e=new Gx;for(const[l,c]of Jq())e.set(l,c);const t=new YI(e,!0);e.set(dt,t);function i(l){r||s({});const c=e.get(l);if(!c)throw new Error("Missing service "+l);return c instanceof xd?t.invokeFunction(d=>d.get(l)):c}n.get=i;let r=!1;const o=new ne;function s(l){if(r)return t;r=!0;for(const[d,u]of Jq())e.get(d)||e.set(d,u);for(const d in l)if(l.hasOwnProperty(d)){const u=zt(d);e.get(u)instanceof xd&&e.set(u,l[d])}const c=y8e();for(const d of c)try{t.createInstance(d)}catch(u){St(u)}return o.fire(),t}n.initialize=s;function a(l){if(r)return l();const c=new xe,d=c.add(o.event(()=>{d.dispose(),c.add(l())}));return c}n.withServices=a})(ft||(ft={}));let P8e;function iu(){return P8e}let Ude;function M8e(n){Ude=n}let $de;function R8e(n){$de=n}class qde{get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,t){const i=t===void 0?void 0:e,r=t===void 0?e:t;return $de({owner:i,debugName:()=>{const o=vp(r);if(o!==void 0)return o;const a=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(r.toString());if(a)return`${this.debugName}.${a[2]}`;if(!i)return`${this.debugName} (mapped)`}},o=>r(this.read(o),o))}recomputeInitiallyAndOnChange(e,t){return e.add(Ude(this,t)),this}}class sL extends qde{constructor(){super(...arguments),this.observers=new Set}addObserver(e){const t=this.observers.size;this.observers.add(e),t===0&&this.onFirstObserverAdded()}removeObserver(e){this.observers.delete(e)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}function Vi(n,e){const t=new TM(n,e);try{n(t)}finally{t.finish()}}let Jk;function DT(n){if(Jk)n(Jk);else{const e=new TM(n,void 0);Jk=e;try{n(e)}finally{e.finish(),Jk=void 0}}}async function A8e(n,e){const t=new TM(n,e);try{await n(t)}finally{t.finish()}}function RS(n,e,t){n?e(n):Vi(e,t)}class TM{constructor(e,t){var i;this._fn=e,this._getDebugName=t,this.updatingObservers=[],(i=iu())===null||i===void 0||i.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():vp(this._fn)}updateObserver(e,t){this.updatingObservers.push({observer:e,observable:t}),e.beginUpdate(t)}finish(){var e;const t=this.updatingObservers;for(let i=0;i<t.length;i++){const{observer:r,observable:o}=t[i];r.endUpdate(o)}this.updatingObservers=null,(e=iu())===null||e===void 0||e.handleEndTransaction()}}const aY=new Map,A9=new WeakMap;function iH(n,e,t,i){var r;const o=A9.get(n);if(o)return o;const s=O8e(n,e,t,i);if(s){let a=(r=aY.get(s))!==null&&r!==void 0?r:0;a++,aY.set(s,a);const l=a===1?s:`${s}#${a}`;return A9.set(n,l),l}}function O8e(n,e,t,i){const r=A9.get(n);if(r)return r;const o=i?F8e(i)+".":"";let s;if(e!==void 0)if(typeof e=="function"){if(s=e(),s!==void 0)return o+s}else return o+e;if(t!==void 0&&(s=vp(t),s!==void 0))return o+s;if(i!==void 0){for(const a in i)if(i[a]===n)return o+a}}const lY=new Map,cY=new WeakMap;function F8e(n){var e;const t=cY.get(n);if(t)return t;const i=B8e(n);let r=(e=lY.get(i))!==null&&e!==void 0?e:0;r++,lY.set(i,r);const o=r===1?i:`${i}#${r}`;return cY.set(n,o),o}function B8e(n){const e=n.constructor;return e?e.name:"Object"}function vp(n){const e=n.toString(),i=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(e),r=i?i[1]:void 0;return r==null?void 0:r.trim()}function si(n,e){return typeof n=="string"?new O9(void 0,n,e):new O9(n,void 0,e)}class O9 extends sL{get debugName(){var e;return(e=iH(this,this._debugName,void 0,this._owner))!==null&&e!==void 0?e:"ObservableValue"}constructor(e,t,i){super(),this._owner=e,this._debugName=t,this._value=i}get(){return this._value}set(e,t,i){var r;if(this._value===e)return;let o;t||(t=o=new TM(()=>{},()=>`Setting ${this.debugName}`));try{const s=this._value;this._setValue(e),(r=iu())===null||r===void 0||r.handleObservableChanged(this,{oldValue:s,newValue:e,change:i,didChange:!0,hadValue:!0});for(const a of this.observers)t.updateObserver(a,this),a.handleChange(this,i)}finally{o&&o.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}}function QI(n,e){return typeof n=="string"?new dY(void 0,n,e):new dY(n,void 0,e)}class dY extends O9{_setValue(e){this._value!==e&&(this._value&&this._value.dispose(),this._value=e)}dispose(){var e;(e=this._value)===null||e===void 0||e.dispose()}}const Ub=(n,e)=>n===e;function It(n,e){return e!==void 0?new $b(n,void 0,e,void 0,void 0,void 0,Ub):new $b(void 0,void 0,n,void 0,void 0,void 0,Ub)}function F9(n,e){var t;return new $b(n.owner,n.debugName,e,void 0,void 0,n.onLastObserverRemoved,(t=n.equalityComparer)!==null&&t!==void 0?t:Ub)}function W8e(n,e){var t;return new $b(n.owner,n.debugName,e,n.createEmptyChangeSummary,n.handleChange,void 0,(t=n.equalityComparer)!==null&&t!==void 0?t:Ub)}function Ey(n,e){let t,i;e===void 0?(t=n,i=void 0):(i=n,t=e);const r=new xe;return new $b(i,()=>{var o;return(o=vp(t))!==null&&o!==void 0?o:"(anonymous)"},o=>(r.clear(),t(o,r)),void 0,void 0,()=>r.dispose(),Ub)}function bf(n,e){let t,i;e===void 0?(t=n,i=void 0):(i=n,t=e);const r=new xe;return new $b(i,()=>{var o;return(o=vp(t))!==null&&o!==void 0?o:"(anonymous)"},o=>{r.clear();const s=t(o);return s&&r.add(s),s},void 0,void 0,()=>r.dispose(),Ub)}R8e(F9);class $b extends sL{get debugName(){var e;return(e=iH(this,this._debugName,this._computeFn,this._owner))!==null&&e!==void 0?e:"(anonymous)"}constructor(e,t,i,r,o,s=void 0,a){var l,c;super(),this._owner=e,this._debugName=t,this._computeFn=i,this.createChangeSummary=r,this._handleChange=o,this._handleLastObserverRemoved=s,this._equalityComparator=a,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(l=this.createChangeSummary)===null||l===void 0?void 0:l.call(this),(c=iu())===null||c===void 0||c.handleDerivedCreated(this)}onLastObserverRemoved(){var e;this.state=0,this.value=void 0;for(const t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),(e=this._handleLastObserverRemoved)===null||e===void 0||e.call(this)}get(){var e;if(this.observers.size===0){const t=this._computeFn(this,(e=this.createChangeSummary)===null||e===void 0?void 0:e.call(this));return this.onLastObserverRemoved(),t}else{do{if(this.state===1){for(const t of this.dependencies)if(t.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var e,t;if(this.state===3)return;const i=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=i;const r=this.state!==0,o=this.value;this.state=3;const s=this.changeSummary;this.changeSummary=(e=this.createChangeSummary)===null||e===void 0?void 0:e.call(this);try{this.value=this._computeFn(this,s)}finally{for(const l of this.dependenciesToBeRemoved)l.removeObserver(this);this.dependenciesToBeRemoved.clear()}const a=r&&!this._equalityComparator(o,this.value);if((t=iu())===null||t===void 0||t.handleDerivedRecomputed(this,{oldValue:o,newValue:this.value,change:void 0,didChange:a,hadValue:r}),a)for(const l of this.observers)l.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(e){this.updateCount++;const t=this.updateCount===1;if(this.state===3&&(this.state=1,!t))for(const i of this.observers)i.handlePossibleChange(this);if(t)for(const i of this.observers)i.beginUpdate(this)}endUpdate(e){if(this.updateCount--,this.updateCount===0){const t=[...this.observers];for(const i of t)i.endUpdate(this)}Cb(()=>this.updateCount>=0)}handlePossibleChange(e){if(this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){this.state=1;for(const t of this.observers)t.handlePossibleChange(this)}}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){const i=this._handleChange?this._handleChange({changedObservable:e,change:t,didChange:o=>o===e},this.changeSummary):!0,r=this.state===3;if(i&&(this.state===1||r)&&(this.state=2,r))for(const o of this.observers)o.handlePossibleChange(this)}}readObservable(e){e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}addObserver(e){const t=!this.observers.has(e)&&this.updateCount>0;super.addObserver(e),t&&e.beginUpdate(this)}removeObserver(e){const t=this.observers.has(e)&&this.updateCount>0;super.removeObserver(e),t&&e.endUpdate(this)}}function hi(n){return new IM(void 0,n,void 0,void 0)}function EM(n,e){return new IM(n.debugName,e,void 0,void 0)}function aL(n,e){return new IM(n.debugName,e,n.createEmptyChangeSummary,n.handleChange)}function Cu(n){const e=new xe,t=EM({debugName:()=>vp(n)||"(anonymous)"},i=>{e.clear(),n(i,e)});return at(()=>{t.dispose(),e.dispose()})}class IM{get debugName(){if(typeof this._debugName=="string")return this._debugName;if(typeof this._debugName=="function"){const t=this._debugName();if(t!==void 0)return t}const e=vp(this._runFn);return e!==void 0?e:"(anonymous)"}constructor(e,t,i,r){var o,s;this._debugName=e,this._runFn=t,this.createChangeSummary=i,this._handleChange=r,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(o=this.createChangeSummary)===null||o===void 0?void 0:o.call(this),(s=iu())===null||s===void 0||s.handleAutorunCreated(this),this._runIfNeeded()}dispose(){this.disposed=!0;for(const e of this.dependencies)e.removeObserver(this);this.dependencies.clear()}_runIfNeeded(){var e,t,i;if(this.state===3)return;const r=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=r,this.state=3;const o=this.disposed;try{if(!o){(e=iu())===null||e===void 0||e.handleAutorunTriggered(this);const s=this.changeSummary;this.changeSummary=(t=this.createChangeSummary)===null||t===void 0?void 0:t.call(this),this._runFn(this,s)}}finally{o||(i=iu())===null||i===void 0||i.handleAutorunFinished(this);for(const s of this.dependenciesToBeRemoved)s.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const e of this.dependencies)if(e.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,Cb(()=>this.updateCount>=0)}handlePossibleChange(e){this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}handleChange(e,t){this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(!this._handleChange||this._handleChange({changedObservable:e,change:t,didChange:r=>r===e},this.changeSummary))&&(this.state=2)}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}}(function(n){n.Observer=IM})(hi||(hi={}));function JI(n){return new V8e(n)}class V8e extends qde{constructor(e){super(),this.value=e}get debugName(){return this.toString()}get(){return this.value}addObserver(e){}removeObserver(e){}toString(){return`Const: ${this.value}`}}function H8e(n,e){return new Promise(t=>{let i=!1,r=!1;const o=n.map(a=>({isFinished:e(a),state:a})),s=hi(a=>{const{isFinished:l,state:c}=o.read(a);l&&(i?s.dispose():r=!0,t(c))});i=!0,r&&s.dispose()})}function dn(n,e){return new pm(n,e)}class pm extends sL{constructor(e,t){super(),this.event=e,this._getValue=t,this.hasValue=!1,this.handleEvent=i=>{var r;const o=this._getValue(i),s=this.value,a=!this.hasValue||s!==o;let l=!1;a&&(this.value=o,this.hasValue&&(l=!0,RS(pm.globalTransaction,c=>{var d;(d=iu())===null||d===void 0||d.handleFromEventObservableTriggered(this,{oldValue:s,newValue:o,change:void 0,didChange:a,hadValue:this.hasValue});for(const u of this.observers)c.updateObserver(u,this),u.handleChange(this,void 0)},()=>{const c=this.getDebugName();return"Event fired"+(c?`: ${c}`:"")})),this.hasValue=!0),l||(r=iu())===null||r===void 0||r.handleFromEventObservableTriggered(this,{oldValue:s,newValue:o,change:void 0,didChange:a,hadValue:this.hasValue})}}getDebugName(){return vp(this._getValue)}get debugName(){const e=this.getDebugName();return"From Event"+(e?`: ${e}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}(function(n){n.Observer=pm;function e(t,i){let r=!1;pm.globalTransaction===void 0&&(pm.globalTransaction=t,r=!0);try{i()}finally{r&&(pm.globalTransaction=void 0)}}n.batchEventsGlobally=e})(dn||(dn={}));function ha(n,e){return new z8e(n,e)}class z8e extends sL{constructor(e,t){super(),this.debugName=e,this.event=t,this.handleEvent=()=>{Vi(i=>{for(const r of this.observers)i.updateObserver(r,this),r.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function nH(n){return typeof n=="string"?new uY(n):new uY(void 0,n)}class uY extends sL{get debugName(){var e;return(e=iH(this,this._debugName,void 0,this._owner))!==null&&e!==void 0?e:"Observable Signal"}constructor(e,t){super(),this._debugName=e,this._owner=t}trigger(e,t){if(!e){Vi(i=>{this.trigger(i,t)},()=>`Trigger signal ${this.debugName}`);return}for(const i of this.observers)e.updateObserver(i,this),i.handleChange(this,t)}get(){}}function lL(n,e){const t=new j8e(!0,e);return n.addObserver(t),e?e(n.get()):n.reportChanges(),at(()=>{n.removeObserver(t)})}M8e(lL);class j8e{constructor(e,t){this._forceRecompute=e,this._handleValue=t,this._counter=0}beginUpdate(e){this._counter++}endUpdate(e){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,t){}}function U8e(n){let e;return It(i=>(e=n(i,e),e))}class Xc{static capture(e){if(e.getScrollTop()===0||e.hasPendingScrollAnimation())return new Xc(e.getScrollTop(),e.getContentHeight(),null,0,null);let t=null,i=0;const r=e.getVisibleRanges();if(r.length>0){t=r[0].getStartPosition();const o=e.getTopForPosition(t.lineNumber,t.column);i=e.getScrollTop()-o}return new Xc(e.getScrollTop(),e.getContentHeight(),t,i,e.getPosition())}constructor(e,t,i,r,o){this._initialScrollTop=e,this._initialContentHeight=t,this._visiblePosition=i,this._visiblePositionScrollDelta=r,this._cursorPosition=o}restore(e){if(!(this._initialContentHeight===e.getContentHeight()&&this._initialScrollTop===e.getScrollTop())&&this._visiblePosition){const t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){if(this._initialContentHeight===e.getContentHeight()&&this._initialScrollTop===e.getScrollTop())return;const t=e.getPosition();if(!this._cursorPosition||!t)return;const i=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+i)}}function rH(){return I4&&!!I4.VSCODE_DEV}function Kde(n){if(rH()){const e=$8e();return e.add(n),{dispose(){e.delete(n)}}}else return{dispose(){}}}function $8e(){eD||(eD=new Set);const n=globalThis;return n.$hotReload_applyNewExports||(n.$hotReload_applyNewExports=e=>{for(const t of eD){const i=t(e);if(i)return i}}),eD}let eD;rH()&&Kde(({oldExports:n,newSrc:e})=>{if(e.indexOf("/* hot-reload:patch-prototype-methods */")!==-1)return t=>{var i,r;for(const o in t){const s=t[o];if(console.log(`[hot-reload] Patching prototype methods of '${o}'`,{exportedItem:s}),typeof s=="function"&&s.prototype){const a=n[o];if(a){for(const l of Object.getOwnPropertyNames(s.prototype)){const c=Object.getOwnPropertyDescriptor(s.prototype,l),d=Object.getOwnPropertyDescriptor(a.prototype,l);((i=c==null?void 0:c.value)===null||i===void 0?void 0:i.toString())!==((r=d==null?void 0:d.value)===null||r===void 0?void 0:r.toString())&&console.log(`[hot-reload] Patching prototype method '${o}.${l}'`),Object.defineProperty(a.prototype,l,c)}t[o]=a}}}return!0}});function q8e(n,e,t,i){if(n.length===0)return e;if(e.length===0)return n;const r=[];let o=0,s=0;for(;o<n.length&&s<e.length;){const a=n[o],l=e[s],c=t(a),d=t(l);c<d?(r.push(a),o++):c>d?(r.push(l),s++):(r.push(i(a,l)),o++,s++)}for(;o<n.length;)r.push(n[o]),o++;for(;s<e.length;)r.push(e[s]),s++;return r}function eN(n,e){const t=new xe,i=n.createDecorationsCollection();return t.add(EM({debugName:()=>`Apply decorations from ${e.debugName}`},r=>{const o=e.read(r);i.set(o)})),t.add({dispose:()=>{i.clear()}}),t}function tD(n,e){return n.appendChild(e),at(()=>{n.removeChild(e)})}class Gde extends ce{get width(){return this._width}get height(){return this._height}constructor(e,t){super(),this.elementSizeObserver=this._register(new ale(e,t)),this._width=si(this,this.elementSizeObserver.getWidth()),this._height=si(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange(i=>Vi(r=>{this._width.set(this.elementSizeObserver.getWidth(),r),this._height.set(this.elementSizeObserver.getHeight(),r)})))}observe(e){this.elementSizeObserver.observe(e)}setAutomaticLayout(e){e?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}function hY(n,e,t){let i=e.get(),r=i,o=i;const s=si("animatedValue",i);let a=-1;const l=300;let c;t.add(aL({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(u,h)=>(u.didChange(e)&&(h.animate=h.animate||u.change),!0)},(u,h)=>{c!==void 0&&(n.cancelAnimationFrame(c),c=void 0),r=o,i=e.read(u),a=Date.now()-(h.animate?0:l),d()}));function d(){const u=Date.now()-a;o=Math.floor(K8e(u,r,i-r,l)),u<l?c=n.requestAnimationFrame(d):o=i,s.set(o,void 0)}return s}function K8e(n,e,t,i){return n===i?e+t:t*(-Math.pow(2,-10*n/i)+1)+e}class Zde extends ce{constructor(e,t,i){super(),this._register(new NM(e,i)),this._register(vg(i,{height:t.actualHeight,top:t.actualTop}))}}class tN{get afterLineNumber(){return this._afterLineNumber.get()}constructor(e,t){this._afterLineNumber=e,this.heightInPx=t,this.domNode=document.createElement("div"),this._actualTop=si(this,void 0),this._actualHeight=si(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=i=>{this._actualTop.set(i,void 0)},this.onComputedHeight=i=>{this._actualHeight.set(i,void 0)}}}class NM{constructor(e,t){this._editor=e,this._domElement=t,this._overlayWidgetId=`managedOverlayWidget-${NM._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}NM._counter=0;function vg(n,e){return hi(t=>{for(let[i,r]of Object.entries(e))r&&typeof r=="object"&&"read"in r&&(r=r.read(t)),typeof r=="number"&&(r=`${r}px`),i=i.replace(/[A-Z]/g,o=>"-"+o.toLowerCase()),n.style[i]=r})}function kd(n,e){return G8e([n],e),n}function G8e(n,e){rH()&&ha("reload",i=>Kde(({oldExports:r})=>{if([...Object.values(r)].some(o=>n.includes(o)))return o=>(i(void 0),!0)})).read(e)}function iN(n,e,t,i){const r=new xe,o=[];return r.add(Cu((s,a)=>{const l=e.read(s),c=new Map,d=new Map;t&&t(!0),n.changeViewZones(u=>{for(const h of o)u.removeZone(h),i==null||i.delete(h);o.length=0;for(const h of l){const f=u.addZone(h);h.setZoneId&&h.setZoneId(f),o.push(f),i==null||i.add(f),c.set(h,f)}}),t&&t(!1),a.add(aL({createEmptyChangeSummary(){return{zoneIds:[]}},handleChange(u,h){const f=d.get(u.changedObservable);return f!==void 0&&h.zoneIds.push(f),!0}},(u,h)=>{for(const f of l)f.onChange&&(d.set(f.onChange,c.get(f)),f.onChange.read(u));t&&t(!0),n.changeViewZones(f=>{for(const g of h.zoneIds)f.layoutZone(g)}),t&&t(!1)}))})),r.add({dispose(){t&&t(!0),n.changeViewZones(s=>{for(const a of o)s.removeZone(a)}),i==null||i.clear(),t&&t(!1)}}),r}class Z8e extends Pn{dispose(){super.dispose(!0)}}function fY(n,e){const t=K1(e,r=>r.original.startLineNumber<=n.lineNumber);if(!t)return B.fromPositions(n);if(t.original.endLineNumberExclusive<=n.lineNumber){const r=n.lineNumber-t.original.endLineNumberExclusive+t.modified.endLineNumberExclusive;return B.fromPositions(new re(r,n.column))}if(!t.innerChanges)return B.fromPositions(new re(t.modified.startLineNumber,1));const i=K1(t.innerChanges,r=>r.originalRange.getStartPosition().isBeforeOrEqual(n));if(!i){const r=n.lineNumber-t.original.startLineNumber+t.modified.startLineNumber;return B.fromPositions(new re(r,n.column))}if(i.originalRange.containsPosition(n))return i.modifiedRange;{const r=Y8e(i.originalRange.getEndPosition(),n);return B.fromPositions(X8e(i.modifiedRange.getEndPosition(),r))}}function Y8e(n,e){return n.lineNumber===e.lineNumber?new uS(0,e.column-n.column):new uS(e.lineNumber-n.lineNumber,e.column-1)}function X8e(n,e){return e.lineCount===0?new re(n.lineNumber,n.column+e.columnCount):new re(n.lineNumber+e.lineCount,e.columnCount+1)}function iD(n,e,t){const i=n.bindTo(e);return EM({debugName:()=>`Update ${n.key}`},r=>{i.set(t(r))})}function Q8e(n,e){let t;return n.filter(i=>{const r=e(i,t);return t=i,r})}var oH=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},sH=function(n,e){return function(t,i){e(t,i,n)}};const J8e=Dn("diff-review-insert",Ae.add,w("accessibleDiffViewerInsertIcon","Icon for 'Insert' in accessible diff viewer.")),eBe=Dn("diff-review-remove",Ae.remove,w("accessibleDiffViewerRemoveIcon","Icon for 'Remove' in accessible diff viewer.")),tBe=Dn("diff-review-close",Ae.close,w("accessibleDiffViewerCloseIcon","Icon for 'Close' in accessible diff viewer."));let Kf=class extends ce{constructor(e,t,i,r,o,s,a,l,c){super(),this._parentNode=e,this._visible=t,this._setVisible=i,this._canClose=r,this._width=o,this._height=s,this._diffs=a,this._editors=l,this._instantiationService=c,this._state=Ey(this,(d,u)=>{const h=this._visible.read(d);if(this._parentNode.style.visibility=h?"visible":"hidden",!h)return null;const f=u.add(this._instantiationService.createInstance(B9,this._diffs,this._editors,this._setVisible,this._canClose)),g=u.add(this._instantiationService.createInstance(W9,this._parentNode,f,this._width,this._height,this._editors));return{model:f,view:g}}).recomputeInitiallyAndOnChange(this._store)}next(){Vi(e=>{const t=this._visible.get();this._setVisible(!0,e),t&&this._state.get().model.nextGroup(e)})}prev(){Vi(e=>{this._setVisible(!0,e),this._state.get().model.previousGroup(e)})}close(){Vi(e=>{this._setVisible(!1,e)})}};Kf._ttPolicy=Fh("diffReview",{createHTML:n=>n});Kf=oH([sH(8,dt)],Kf);let B9=class extends ce{constructor(e,t,i,r,o){super(),this._diffs=e,this._editors=t,this._setVisible=i,this.canClose=r,this._audioCueService=o,this._groups=si(this,[]),this._currentGroupIdx=si(this,0),this._currentElementIdx=si(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((s,a)=>this._groups.read(a)[s]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((s,a)=>{var l;return(l=this.currentGroup.read(a))===null||l===void 0?void 0:l.lines[s]}),this._register(hi(s=>{const a=this._diffs.read(s);if(!a){this._groups.set([],void 0);return}const l=iBe(a,this._editors.original.getModel().getLineCount(),this._editors.modified.getModel().getLineCount());Vi(c=>{const d=this._editors.modified.getPosition();if(d){const u=l.findIndex(h=>(d==null?void 0:d.lineNumber)<h.range.modified.endLineNumberExclusive);u!==-1&&this._currentGroupIdx.set(u,c)}this._groups.set(l,c)})})),this._register(hi(s=>{const a=this.currentElement.read(s);(a==null?void 0:a.type)===Ro.Deleted?this._audioCueService.playAudioCue(Pt.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):(a==null?void 0:a.type)===Ro.Added&&this._audioCueService.playAudioCue(Pt.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register(hi(s=>{var a;const l=this.currentElement.read(s);if(l&&l.type!==Ro.Header){const c=(a=l.modifiedLineNumber)!==null&&a!==void 0?a:l.diff.modified.startLineNumber;this._editors.modified.setSelection(B.fromPositions(new re(c,1)))}}))}_goToGroupDelta(e,t){const i=this.groups.get();!i||i.length<=1||RS(t,r=>{this._currentGroupIdx.set(Bt.ofLength(i.length).clipCyclic(this._currentGroupIdx.get()+e),r),this._currentElementIdx.set(0,r)})}nextGroup(e){this._goToGroupDelta(1,e)}previousGroup(e){this._goToGroupDelta(-1,e)}_goToLineDelta(e){const t=this.currentGroup.get();!t||t.lines.length<=1||Vi(i=>{this._currentElementIdx.set(Bt.ofLength(t.lines.length).clip(this._currentElementIdx.get()+e),i)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine(e){const t=this.currentGroup.get();if(!t)return;const i=t.lines.indexOf(e);i!==-1&&Vi(r=>{this._currentElementIdx.set(i,r)})}revealCurrentElementInEditor(){this._setVisible(!1,void 0);const e=this.currentElement.get();e&&(e.type===Ro.Deleted?(this._editors.original.setSelection(B.fromPositions(new re(e.originalLineNumber,1))),this._editors.original.revealLine(e.originalLineNumber),this._editors.original.focus()):(e.type!==Ro.Header&&(this._editors.modified.setSelection(B.fromPositions(new re(e.modifiedLineNumber,1))),this._editors.modified.revealLine(e.modifiedLineNumber)),this._editors.modified.focus()))}close(){this._setVisible(!1,void 0),this._editors.modified.focus()}};B9=oH([sH(4,mp)],B9);const xC=3;function iBe(n,e,t){const i=[];for(const r of FW(n,(o,s)=>s.modified.startLineNumber-o.modified.endLineNumberExclusive<2*xC)){const o=[];o.push(new rBe);const s=new Ft(Math.max(1,r[0].original.startLineNumber-xC),Math.min(r[r.length-1].original.endLineNumberExclusive+xC,e+1)),a=new Ft(Math.max(1,r[0].modified.startLineNumber-xC),Math.min(r[r.length-1].modified.endLineNumberExclusive+xC,t+1));use(r,(d,u)=>{const h=new Ft(d?d.original.endLineNumberExclusive:s.startLineNumber,u?u.original.startLineNumber:s.endLineNumberExclusive),f=new Ft(d?d.modified.endLineNumberExclusive:a.startLineNumber,u?u.modified.startLineNumber:a.endLineNumberExclusive);h.forEach(g=>{o.push(new aBe(g,f.startLineNumber+(g-h.startLineNumber)))}),u&&(u.original.forEach(g=>{o.push(new oBe(u,g))}),u.modified.forEach(g=>{o.push(new sBe(u,g))}))});const l=r[0].modified.join(r[r.length-1].modified),c=r[0].original.join(r[r.length-1].original);i.push(new nBe(new fs(l,c),o))}return i}var Ro;(function(n){n[n.Header=0]="Header",n[n.Unchanged=1]="Unchanged",n[n.Deleted=2]="Deleted",n[n.Added=3]="Added"})(Ro||(Ro={}));class nBe{constructor(e,t){this.range=e,this.lines=t}}class rBe{constructor(){this.type=Ro.Header}}class oBe{constructor(e,t){this.diff=e,this.originalLineNumber=t,this.type=Ro.Deleted,this.modifiedLineNumber=void 0}}class sBe{constructor(e,t){this.diff=e,this.modifiedLineNumber=t,this.type=Ro.Added,this.originalLineNumber=void 0}}class aBe{constructor(e,t){this.originalLineNumber=e,this.modifiedLineNumber=t,this.type=Ro.Unchanged}}let W9=class extends ce{constructor(e,t,i,r,o,s){super(),this._element=e,this._model=t,this._width=i,this._height=r,this._editors=o,this._languageService=s,this.domNode=this._element,this.domNode.className="diff-review monaco-editor-background";const a=document.createElement("div");a.className="diff-review-actions",this._actionBar=this._register(new sl(a)),this._register(hi(l=>{this._actionBar.clear(),this._model.canClose.read(l)&&this._actionBar.push(new Fs("diffreview.close",w("label.close","Close"),"close-diff-review "+lt.asClassName(tBe),!0,async()=>t.close()),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new jx(this._content,{})),Kr(this.domNode,this._scrollbar.getDomNode(),a),this._register(at(()=>{Kr(this.domNode)})),this._register(vg(this.domNode,{width:this._width,height:this._height})),this._register(vg(this._content,{width:this._width,height:this._height})),this._register(Cu((l,c)=>{this._model.currentGroup.read(l),this._render(c)})),this._register(kn(this.domNode,"keydown",l=>{(l.equals(18)||l.equals(2066)||l.equals(530))&&(l.preventDefault(),this._model.goToNextLine()),(l.equals(16)||l.equals(2064)||l.equals(528))&&(l.preventDefault(),this._model.goToPreviousLine()),(l.equals(9)||l.equals(2057)||l.equals(521)||l.equals(1033))&&(l.preventDefault(),this._model.close()),(l.equals(10)||l.equals(3))&&(l.preventDefault(),this._model.revealCurrentElementInEditor())}))}_render(e){const t=this._editors.original.getOptions(),i=this._editors.modified.getOptions(),r=document.createElement("div");r.className="diff-review-table",r.setAttribute("role","list"),r.setAttribute("aria-label",w("ariaLabel","Accessible Diff Viewer. Use arrow up and down to navigate.")),Ur(r,i.get(50)),Kr(this._content,r);const o=this._editors.original.getModel(),s=this._editors.modified.getModel();if(!o||!s)return;const a=o.getOptions(),l=s.getOptions(),c=i.get(66),d=this._model.currentGroup.get();for(const u of(d==null?void 0:d.lines)||[]){if(!d)break;let h;if(u.type===Ro.Header){const g=document.createElement("div");g.className="diff-review-row",g.setAttribute("role","listitem");const _=d.range,y=this._model.currentGroupIndex.get(),m=this._model.groups.get().length,p=S=>S===0?w("no_lines_changed","no lines changed"):S===1?w("one_line_changed","1 line changed"):w("more_lines_changed","{0} lines changed",S),v=p(_.original.length),b=p(_.modified.length);g.setAttribute("aria-label",w({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",y+1,m,_.original.startLineNumber,v,_.modified.startLineNumber,b));const C=document.createElement("div");C.className="diff-review-cell diff-review-summary",C.appendChild(document.createTextNode(`${y+1}/${m}: @@ -${_.original.startLineNumber},${_.original.length} +${_.modified.startLineNumber},${_.modified.length} @@`)),g.appendChild(C),h=g}else h=this._createRow(u,c,this._width.get(),t,o,a,i,s,l);r.appendChild(h);const f=It(g=>this._model.currentElement.read(g)===u);e.add(hi(g=>{const _=f.read(g);h.tabIndex=_?0:-1,_&&h.focus()})),e.add(ge(h,"focus",()=>{this._model.goToLine(u)}))}this._scrollbar.scanDomNode()}_createRow(e,t,i,r,o,s,a,l,c){const d=r.get(143),u=d.glyphMarginWidth+d.lineNumbersWidth,h=a.get(143),f=10+h.glyphMarginWidth+h.lineNumbersWidth;let g="diff-review-row",_="";const y="diff-review-spacer";let m=null;switch(e.type){case Ro.Added:g="diff-review-row line-insert",_=" char-insert",m=J8e;break;case Ro.Deleted:g="diff-review-row line-delete",_=" char-delete",m=eBe;break}const p=document.createElement("div");p.style.minWidth=i+"px",p.className=g,p.setAttribute("role","listitem"),p.ariaLevel="";const v=document.createElement("div");v.className="diff-review-cell",v.style.height=`${t}px`,p.appendChild(v);const b=document.createElement("span");b.style.width=u+"px",b.style.minWidth=u+"px",b.className="diff-review-line-number"+_,e.originalLineNumber!==void 0?b.appendChild(document.createTextNode(String(e.originalLineNumber))):b.innerText="",v.appendChild(b);const C=document.createElement("span");C.style.width=f+"px",C.style.minWidth=f+"px",C.style.paddingRight="10px",C.className="diff-review-line-number"+_,e.modifiedLineNumber!==void 0?C.appendChild(document.createTextNode(String(e.modifiedLineNumber))):C.innerText="",v.appendChild(C);const S=document.createElement("span");if(S.className=y,m){const D=document.createElement("span");D.className=lt.asClassName(m),D.innerText="",S.appendChild(D)}else S.innerText="";v.appendChild(S);let x;if(e.modifiedLineNumber!==void 0){let D=this._getLineHtml(l,a,c.tabSize,e.modifiedLineNumber,this._languageService.languageIdCodec);Kf._ttPolicy&&(D=Kf._ttPolicy.createHTML(D)),v.insertAdjacentHTML("beforeend",D),x=l.getLineContent(e.modifiedLineNumber)}else{let D=this._getLineHtml(o,r,s.tabSize,e.originalLineNumber,this._languageService.languageIdCodec);Kf._ttPolicy&&(D=Kf._ttPolicy.createHTML(D)),v.insertAdjacentHTML("beforeend",D),x=o.getLineContent(e.originalLineNumber)}x.length===0&&(x=w("blankLine","blank"));let k="";switch(e.type){case Ro.Unchanged:e.originalLineNumber===e.modifiedLineNumber?k=w({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",x,e.originalLineNumber):k=w("equalLine","{0} original line {1} modified line {2}",x,e.originalLineNumber,e.modifiedLineNumber);break;case Ro.Added:k=w("insertLine","+ {0} modified line {1}",x,e.modifiedLineNumber);break;case Ro.Deleted:k=w("deleteLine","- {0} original line {1}",x,e.originalLineNumber);break}return p.setAttribute("aria-label",k),p}_getLineHtml(e,t,i,r,o){const s=e.getLineContent(r),a=t.get(50),l=ur.createEmpty(s,o),c=Da.isBasicASCII(s,e.mightContainNonBasicASCII()),d=Da.containsRTL(s,c,e.mightContainRTL());return UP(new fp(a.isMonospace&&!t.get(33),a.canUseHalfwidthRightwardsArrow,s,!1,c,d,0,l,[],i,0,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,t.get(116),t.get(98),t.get(93),t.get(51)!==da.OFF,null)).html}};W9=oH([sH(5,Zi)],W9);class bg extends ce{constructor(e,t,i,r,o){super(),this._rootElement=e,this._diffModel=t,this._originalEditorLayoutInfo=i,this._modifiedEditorLayoutInfo=r,this._editors=o,this._originalScrollTop=dn(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=dn(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=ha("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=si(this,0),this._modifiedViewZonesChangedSignal=ha("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=ha("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=Ey(this,(h,f)=>{var g;this._element.replaceChildren();const _=this._diffModel.read(h),y=(g=_==null?void 0:_.diff.read(h))===null||g===void 0?void 0:g.movedTexts;if(!y||y.length===0){this.width.set(0,void 0);return}this._viewZonesChanged.read(h);const m=this._originalEditorLayoutInfo.read(h),p=this._modifiedEditorLayoutInfo.read(h);if(!m||!p){this.width.set(0,void 0);return}this._modifiedViewZonesChangedSignal.read(h),this._originalViewZonesChangedSignal.read(h);const v=y.map(E=>{function I(X,J){const te=J.getTopForLineNumber(X.startLineNumber,!0),oe=J.getTopForLineNumber(X.endLineNumberExclusive,!0);return(te+oe)/2}const N=I(E.lineRangeMapping.original,this._editors.original),R=this._originalScrollTop.read(h),O=I(E.lineRangeMapping.modified,this._editors.modified),W=this._modifiedScrollTop.read(h),K=N-R,Q=O-W,Y=Math.min(N,O),V=Math.max(N,O);return{range:new Bt(Y,V),from:K,to:Q,fromWithoutScroll:N,toWithoutScroll:O,move:E}});v.sort(jSe(Xa(E=>E.fromWithoutScroll>E.toWithoutScroll,USe),Xa(E=>E.fromWithoutScroll>E.toWithoutScroll?E.fromWithoutScroll:-E.toWithoutScroll,uh)));const b=aH.compute(v.map(E=>E.range)),C=10,S=m.verticalScrollbarWidth,x=(b.getTrackCount()-1)*10+C*2,k=S+x+(p.contentLeft-bg.movedCodeBlockPadding);let D=0;for(const E of v){const I=b.getTrack(D),N=S+C+I*10,R=15,O=15,W=k,K=p.glyphMarginWidth+p.lineNumbersWidth,Q=18,Y=document.createElementNS("http://www.w3.org/2000/svg","rect");Y.classList.add("arrow-rectangle"),Y.setAttribute("x",`${W-K}`),Y.setAttribute("y",`${E.to-Q/2}`),Y.setAttribute("width",`${K}`),Y.setAttribute("height",`${Q}`),this._element.appendChild(Y);const V=document.createElementNS("http://www.w3.org/2000/svg","g"),X=document.createElementNS("http://www.w3.org/2000/svg","path");X.setAttribute("d",`M 0 ${E.from} L ${N} ${E.from} L ${N} ${E.to} L ${W-O} ${E.to}`),X.setAttribute("fill","none"),V.appendChild(X);const J=document.createElementNS("http://www.w3.org/2000/svg","polygon");J.classList.add("arrow"),f.add(hi(te=>{X.classList.toggle("currentMove",E.move===_.activeMovedText.read(te)),J.classList.toggle("currentMove",E.move===_.activeMovedText.read(te))})),J.setAttribute("points",`${W-O},${E.to-R/2} ${W},${E.to} ${W-O},${E.to+R/2}`),V.appendChild(J),this._element.appendChild(V),D++}this.width.set(x,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register(at(()=>this._element.remove())),this._register(hi(h=>{const f=this._originalEditorLayoutInfo.read(h),g=this._modifiedEditorLayoutInfo.read(h);!f||!g||(this._element.style.left=`${f.width-f.verticalScrollbarWidth}px`,this._element.style.height=`${f.height}px`,this._element.style.width=`${f.verticalScrollbarWidth+f.contentLeft-bg.movedCodeBlockPadding+this.width.read(h)}px`)})),this._register(lL(this._state));const s=It(h=>{const f=this._diffModel.read(h),g=f==null?void 0:f.diff.read(h);return g?g.movedTexts.map(_=>({move:_,original:new tN(JI(_.lineRangeMapping.original.startLineNumber-1),18),modified:new tN(JI(_.lineRangeMapping.modified.startLineNumber-1),18)})):[]});this._register(iN(this._editors.original,s.map(h=>h.map(f=>f.original)))),this._register(iN(this._editors.modified,s.map(h=>h.map(f=>f.modified)))),this._register(Cu((h,f)=>{const g=s.read(h);for(const _ of g)f.add(new gY(this._editors.original,_.original,_.move,"original",this._diffModel.get())),f.add(new gY(this._editors.modified,_.modified,_.move,"modified",this._diffModel.get()))}));const a=dn(this._editors.original.onDidChangeCursorPosition,()=>this._editors.original.getPosition()),l=dn(this._editors.modified.onDidChangeCursorPosition,()=>this._editors.modified.getPosition()),c=ha("original.onDidFocusEditorWidget",h=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>h(void 0),0))),d=ha("modified.onDidFocusEditorWidget",h=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>h(void 0),0)));let u="modified";this._register(aL({createEmptyChangeSummary:()=>{},handleChange:(h,f)=>(h.didChange(c)&&(u="original"),h.didChange(d)&&(u="modified"),!0)},h=>{c.read(h),d.read(h);const f=this._diffModel.read(h);if(!f)return;const g=f.diff.read(h);let _;if(g&&u==="original"){const y=a.read(h);y&&(_=g.movedTexts.find(m=>m.lineRangeMapping.original.contains(y.lineNumber)))}if(g&&u==="modified"){const y=l.read(h);y&&(_=g.movedTexts.find(m=>m.lineRangeMapping.modified.contains(y.lineNumber)))}_!==f.movedTextToCompare.get()&&f.movedTextToCompare.set(void 0,void 0),f.setActiveMovedText(_)}))}}bg.movedCodeBlockPadding=4;class aH{static compute(e){const t=[],i=[];for(const r of e){let o=t.findIndex(s=>!s.intersectsStrict(r));o===-1&&(t.length>=6?o=hEe(t,Xa(a=>a.intersectWithRangeLength(r),uh)):(o=t.length,t.push(new w6))),t[o].addRange(r),i.push(o)}return new aH(t.length,i)}constructor(e,t){this._trackCount=e,this.trackPerLineIdx=t}getTrack(e){return this.trackPerLineIdx[e]}getTrackCount(){return this._trackCount}}class gY extends Zde{constructor(e,t,i,r,o){const s=Ri("div.diff-hidden-lines-widget");super(e,t,s.root),this._editor=e,this._move=i,this._kind=r,this._diffModel=o,this._nodes=Ri("div.diff-moved-code-block",{style:{marginRight:"4px"}},[Ri("div.text-content@textContent"),Ri("div.action-bar@actionBar")]),s.root.appendChild(this._nodes.root);const a=dn(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._register(vg(this._nodes.root,{paddingRight:a.map(h=>h.verticalScrollbarWidth)}));let l;i.changes.length>0?l=this._kind==="original"?w("codeMovedToWithChanges","Code moved with changes to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):w("codeMovedFromWithChanges","Code moved with changes from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1):l=this._kind==="original"?w("codeMovedTo","Code moved to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):w("codeMovedFrom","Code moved from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);const c=this._register(new sl(this._nodes.actionBar,{highlightToggledItems:!0})),d=new Fs("",l,"",!1);c.push(d,{icon:!1,label:!0});const u=new Fs("","Compare",lt.asClassName(Ae.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===i?void 0:this._move,void 0)});this._register(hi(h=>{const f=this._diffModel.movedTextToCompare.read(h)===i;u.checked=f})),c.push(u,{icon:!1,label:!0})}}U("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},w("diffEditor.move.border","The border color for text that got moved in the diff editor."));U("diffEditor.moveActive.border",{dark:"#FFA500",light:"#FFA500",hcDark:"#FFA500",hcLight:"#FFA500"},w("diffEditor.moveActive.border","The active border color for text that got moved in the diff editor."));U("diffEditor.unchangedRegionShadow",{dark:"#000000",light:"#737373BF",hcDark:"#000000",hcLight:"#737373BF"},w("diffEditor.unchangedRegionShadow","The color of the shadow around unchanged region widgets."));const lBe=Dn("diff-insert",Ae.add,w("diffInsertIcon","Line decoration for inserts in the diff editor.")),Yde=Dn("diff-remove",Ae.remove,w("diffRemoveIcon","Line decoration for removals in the diff editor.")),pY=kt.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+lt.asClassName(lBe),marginClassName:"gutter-insert"}),mY=kt.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+lt.asClassName(Yde),marginClassName:"gutter-delete"}),_Y=kt.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),vY=kt.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),bY=kt.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),cBe=kt.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),dBe=kt.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),V9=kt.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),uBe=kt.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),hBe=kt.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"});class fBe extends ce{constructor(e,t,i,r){super(),this._editors=e,this._diffModel=t,this._options=i,this._decorations=It(this,o=>{var s;const a=(s=this._diffModel.read(o))===null||s===void 0?void 0:s.diff.read(o);if(!a)return null;const l=this._diffModel.read(o).movedTextToCompare.read(o),c=this._options.renderIndicators.read(o),d=this._options.showEmptyDecorations.read(o),u=[],h=[];if(!l)for(const g of a.mappings)if(g.lineRangeMapping.original.isEmpty||u.push({range:g.lineRangeMapping.original.toInclusiveRange(),options:c?mY:vY}),g.lineRangeMapping.modified.isEmpty||h.push({range:g.lineRangeMapping.modified.toInclusiveRange(),options:c?pY:_Y}),g.lineRangeMapping.modified.isEmpty||g.lineRangeMapping.original.isEmpty)g.lineRangeMapping.original.isEmpty||u.push({range:g.lineRangeMapping.original.toInclusiveRange(),options:uBe}),g.lineRangeMapping.modified.isEmpty||h.push({range:g.lineRangeMapping.modified.toInclusiveRange(),options:cBe});else for(const _ of g.lineRangeMapping.innerChanges||[])g.lineRangeMapping.original.contains(_.originalRange.startLineNumber)&&u.push({range:_.originalRange,options:_.originalRange.isEmpty()&&d?hBe:V9}),g.lineRangeMapping.modified.contains(_.modifiedRange.startLineNumber)&&h.push({range:_.modifiedRange,options:_.modifiedRange.isEmpty()&&d?dBe:bY});if(l)for(const g of l.changes){const _=g.original.toInclusiveRange();_&&u.push({range:_,options:c?mY:vY});const y=g.modified.toInclusiveRange();y&&h.push({range:y,options:c?pY:_Y});for(const m of g.innerChanges||[])u.push({range:m.originalRange,options:V9}),h.push({range:m.modifiedRange,options:bY})}const f=this._diffModel.read(o).activeMovedText.read(o);for(const g of a.movedTexts)u.push({range:g.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(g===f?" currentMove":""),blockPadding:[bg.movedCodeBlockPadding,0,bg.movedCodeBlockPadding,bg.movedCodeBlockPadding]}}),h.push({range:g.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(g===f?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:u,modifiedDecorations:h}}),this._register(eN(this._editors.original,this._decorations.map(o=>(o==null?void 0:o.originalDecorations)||[]))),this._register(eN(this._editors.modified,this._decorations.map(o=>(o==null?void 0:o.modifiedDecorations)||[])))}}class gBe extends ce{constructor(e,t,i,r){super(),this._options=e,this._domNode=t,this._dimensions=i,this._sashes=r,this._sashRatio=si(this,void 0),this.sashLeft=It(this,o=>{var s;const a=(s=this._sashRatio.read(o))!==null&&s!==void 0?s:this._options.splitViewDefaultRatio.read(o);return this._computeSashLeft(a,o)}),this._sash=this._register(new Yr(this._domNode,{getVerticalSashTop:o=>0,getVerticalSashLeft:o=>this.sashLeft.get(),getVerticalSashHeight:o=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange(o=>{const s=this._dimensions.width.get(),a=this._computeSashLeft((this._startSashPosition+(o.currentX-o.startX))/s,void 0);this._sashRatio.set(a/s,void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._sashRatio.set(void 0,void 0))),this._register(hi(o=>{const s=this._sashes.read(o);s&&(this._sash.orthogonalEndSash=s.bottom)})),this._register(hi(o=>{const s=this._options.enableSplitViewResizing.read(o);this._sash.state=s?3:0,this.sashLeft.read(o),this._dimensions.height.read(o),this._sash.layout()}))}_computeSashLeft(e,t){const i=this._dimensions.width.read(t),r=Math.floor(this._options.splitViewDefaultRatio.read(t)*i),o=this._options.enableSplitViewResizing.read(t)?Math.floor(e*i):r,s=100;return i<=s*2?r:o<s?s:o>i-s?i-s:o}}var pBe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},mBe=function(n,e){return function(t,i){e(t,i,n)}},H9;let AS=H9=class extends ce{static setBreadcrumbsSourceFactory(e){this._breadcrumbsSourceFactory.set(e,void 0)}get isUpdatingHiddenAreas(){return this._isUpdatingHiddenAreas}constructor(e,t,i,r){super(),this._editors=e,this._diffModel=t,this._options=i,this._instantiationService=r,this._modifiedOutlineSource=bf(this,l=>{const c=this._editors.modifiedModel.read(l),d=H9._breadcrumbsSourceFactory.read(l);return!c||!d?void 0:d(c,this._instantiationService)}),this._isUpdatingHiddenAreas=!1,this._register(this._editors.original.onDidChangeCursorPosition(l=>{if(l.reason===3){const c=this._diffModel.get();Vi(d=>{for(const u of this._editors.original.getSelections()||[])c==null||c.ensureOriginalLineIsVisible(u.getStartPosition().lineNumber,0,d),c==null||c.ensureOriginalLineIsVisible(u.getEndPosition().lineNumber,0,d)})}})),this._register(this._editors.modified.onDidChangeCursorPosition(l=>{if(l.reason===3){const c=this._diffModel.get();Vi(d=>{for(const u of this._editors.modified.getSelections()||[])c==null||c.ensureModifiedLineIsVisible(u.getStartPosition().lineNumber,0,d),c==null||c.ensureModifiedLineIsVisible(u.getEndPosition().lineNumber,0,d)})}}));const o=this._diffModel.map((l,c)=>{var d,u;const h=(d=l==null?void 0:l.unchangedRegions.read(c))!==null&&d!==void 0?d:[];return h.length===1&&h[0].modifiedLineNumber===1&&h[0].lineCount===((u=this._editors.modifiedModel.read(c))===null||u===void 0?void 0:u.getLineCount())?[]:h});this.viewZones=Ey(this,(l,c)=>{const d=this._modifiedOutlineSource.read(l);if(!d)return{origViewZones:[],modViewZones:[]};const u=[],h=[],f=this._options.renderSideBySide.read(l),g=o.read(l);for(const _ of g)if(!_.shouldHideControls(l)){{const y=It(this,p=>_.getHiddenOriginalRange(p).startLineNumber-1),m=new tN(y,24);u.push(m),c.add(new yY(this._editors.original,m,_,_.originalUnchangedRange,!f,d,p=>this._diffModel.get().ensureModifiedLineIsVisible(p,2,void 0),this._options))}{const y=It(this,p=>_.getHiddenModifiedRange(p).startLineNumber-1),m=new tN(y,24);h.push(m),c.add(new yY(this._editors.modified,m,_,_.modifiedUnchangedRange,!1,d,p=>this._diffModel.get().ensureModifiedLineIsVisible(p,2,void 0),this._options))}}return{origViewZones:u,modViewZones:h}});const s={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},a={description:"Fold Unchanged",glyphMarginHoverMessage:new eo(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown(w("foldUnchanged","Fold Unchanged Region")),glyphMarginClassName:"fold-unchanged "+lt.asClassName(Ae.fold),zIndex:10001};this._register(eN(this._editors.original,It(this,l=>{const c=o.read(l),d=c.map(u=>({range:u.originalUnchangedRange.toInclusiveRange(),options:s}));for(const u of c)u.shouldHideControls(l)&&d.push({range:B.fromPositions(new re(u.originalLineNumber,1)),options:a});return d}))),this._register(eN(this._editors.modified,It(this,l=>{const c=o.read(l),d=c.map(u=>({range:u.modifiedUnchangedRange.toInclusiveRange(),options:s}));for(const u of c)u.shouldHideControls(l)&&d.push({range:Ft.ofLength(u.modifiedLineNumber,1).toInclusiveRange(),options:a});return d}))),this._register(hi(l=>{const c=o.read(l);this._isUpdatingHiddenAreas=!0;try{this._editors.original.setHiddenAreas(c.map(d=>d.getHiddenOriginalRange(l).toInclusiveRange()).filter(Vm)),this._editors.modified.setHiddenAreas(c.map(d=>d.getHiddenModifiedRange(l).toInclusiveRange()).filter(Vm))}finally{this._isUpdatingHiddenAreas=!1}})),this._register(this._editors.modified.onMouseUp(l=>{var c;if(!l.event.rightButton&&l.target.position&&(!((c=l.target.element)===null||c===void 0)&&c.className.includes("fold-unchanged"))){const d=l.target.position.lineNumber,u=this._diffModel.get();if(!u)return;const h=u.unchangedRegions.get().find(f=>f.modifiedUnchangedRange.includes(d));if(!h)return;h.collapseAll(void 0),l.event.stopPropagation(),l.event.preventDefault()}})),this._register(this._editors.original.onMouseUp(l=>{var c;if(!l.event.rightButton&&l.target.position&&(!((c=l.target.element)===null||c===void 0)&&c.className.includes("fold-unchanged"))){const d=l.target.position.lineNumber,u=this._diffModel.get();if(!u)return;const h=u.unchangedRegions.get().find(f=>f.originalUnchangedRange.includes(d));if(!h)return;h.collapseAll(void 0),l.event.stopPropagation(),l.event.preventDefault()}}))}};AS._breadcrumbsSourceFactory=si("breadcrumbsSourceFactory",void 0);AS=H9=pBe([mBe(3,dt)],AS);class yY extends Zde{constructor(e,t,i,r,o,s,a,l){const c=Ri("div.diff-hidden-lines-widget");super(e,t,c.root),this._editor=e,this._unchangedRegion=i,this._unchangedRegionRange=r,this._hide=o,this._modifiedOutlineSource=s,this._revealModifiedHiddenLine=a,this._options=l,this._nodes=Ri("div.diff-hidden-lines",[Ri("div.top@top",{title:w("diff.hiddenLines.top","Click or drag to show more above")}),Ri("div.center@content",{style:{display:"flex"}},[Ri("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[Te("a",{title:w("showUnchangedRegion","Show Unchanged Region"),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...gg("$(unfold)"))]),Ri("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),Ri("div.bottom@bottom",{title:w("diff.bottom","Click or drag to show more below"),role:"button"})]),c.root.appendChild(this._nodes.root);const d=dn(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._hide?Kr(this._nodes.first):this._register(vg(this._nodes.first,{width:d.map(h=>h.contentLeft)})),this._register(hi(h=>{const f=this._unchangedRegion.visibleLineCountTop.read(h)+this._unchangedRegion.visibleLineCountBottom.read(h)===this._unchangedRegion.lineCount;this._nodes.bottom.classList.toggle("canMoveTop",!f),this._nodes.bottom.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(h)>0),this._nodes.top.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(h)>0),this._nodes.top.classList.toggle("canMoveBottom",!f);const g=this._unchangedRegion.isDragged.read(h),_=this._editor.getDomNode();_&&(_.classList.toggle("draggingUnchangedRegion",!!g),g==="top"?(_.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(h)>0),_.classList.toggle("canMoveBottom",!f)):g==="bottom"?(_.classList.toggle("canMoveTop",!f),_.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(h)>0)):(_.classList.toggle("canMoveTop",!1),_.classList.toggle("canMoveBottom",!1)))}));const u=this._editor;this._register(ge(this._nodes.top,"mousedown",h=>{if(h.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),h.preventDefault();const f=h.clientY;let g=!1;const _=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set("top",void 0);const y=ht(this._nodes.top),m=ge(y,"mousemove",v=>{const C=v.clientY-f;g=g||Math.abs(C)>2;const S=Math.round(C/u.getOption(66)),x=Math.max(0,Math.min(_+S,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(x,void 0)}),p=ge(y,"mouseup",v=>{g||this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(void 0,void 0),m.dispose(),p.dispose()})})),this._register(ge(this._nodes.bottom,"mousedown",h=>{if(h.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),h.preventDefault();const f=h.clientY;let g=!1;const _=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set("bottom",void 0);const y=ht(this._nodes.bottom),m=ge(y,"mousemove",v=>{const C=v.clientY-f;g=g||Math.abs(C)>2;const S=Math.round(C/u.getOption(66)),x=Math.max(0,Math.min(_-S,this._unchangedRegion.getMaxVisibleLineCountBottom())),k=u.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(x,void 0);const D=u.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);u.setScrollTop(u.getScrollTop()+(D-k))}),p=ge(y,"mouseup",v=>{if(this._unchangedRegion.isDragged.set(void 0,void 0),!g){const b=u.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const C=u.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);u.setScrollTop(u.getScrollTop()+(C-b))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),m.dispose(),p.dispose()})})),this._register(hi(h=>{const f=[];if(!this._hide){const g=i.getHiddenModifiedRange(h).length,_=w("hiddenLines","{0} hidden lines",g),y=Te("span",{title:w("diff.hiddenLines.expandAll","Double click to unfold")},_);y.addEventListener("dblclick",v=>{v.button===0&&(v.preventDefault(),this._unchangedRegion.showAll(void 0))}),f.push(y);const m=this._unchangedRegion.getHiddenModifiedRange(h),p=this._modifiedOutlineSource.getBreadcrumbItems(m,h);if(p.length>0){f.push(Te("span",void 0,"|"));for(let v=0;v<p.length;v++){const b=p[v],C=AE.toIcon(b.kind),S=Ri("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[CI(C),"",b.name,...v===p.length-1?[]:[CI(Ae.chevronRight)]]).root;f.push(S),S.onclick=()=>{this._revealModifiedHiddenLine(b.startLineNumber)}}}}Kr(this._nodes.others,...f)}))}}var Xde=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},z9=function(n,e){return function(t,i){e(t,i,n)}},$p;const Qde=zt("diffProviderFactoryService");let j9=class{constructor(e){this.instantiationService=e}createDiffProvider(e){return this.instantiationService.createInstance(nN,e)}};j9=Xde([z9(0,dt)],j9);Yt(Qde,j9,1);let nN=$p=class{constructor(e,t,i){this.editorWorkerService=t,this.telemetryService=i,this.onDidChangeEventEmitter=new ne,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(e)}dispose(){var e;(e=this.diffAlgorithmOnDidChangeSubscription)===null||e===void 0||e.dispose()}async computeDiff(e,t,i,r){var o,s;if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff(e,t,i,r);if(e.getLineCount()===1&&e.getLineMaxColumn(1)===1)return t.getLineCount()===1&&t.getLineMaxColumn(1)===1?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new qc(new Ft(1,2),new Ft(1,t.getLineCount()+1),[new Bg(e.getFullModelRange(),t.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const a=JSON.stringify([e.uri.toString(),t.uri.toString()]),l=JSON.stringify([e.id,t.id,e.getAlternativeVersionId(),t.getAlternativeVersionId(),JSON.stringify(i)]),c=$p.diffCache.get(a);if(c&&c.context===l)return c.result;const d=ro.create(),u=await this.editorWorkerService.computeDiff(e.uri,t.uri,i,this.diffAlgorithm),h=d.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:h,timedOut:(o=u==null?void 0:u.quitEarly)!==null&&o!==void 0?o:!0,detectedMoves:i.computeMoves?(s=u==null?void 0:u.moves.length)!==null&&s!==void 0?s:0:-1}),r.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!u)throw new Error("no diff result available");return $p.diffCache.size>10&&$p.diffCache.delete($p.diffCache.keys().next().value),$p.diffCache.set(a,{result:u,context:l}),u}setOptions(e){var t;let i=!1;e.diffAlgorithm&&this.diffAlgorithm!==e.diffAlgorithm&&((t=this.diffAlgorithmOnDidChangeSubscription)===null||t===void 0||t.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=e.diffAlgorithm,typeof e.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=e.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),i=!0),i&&this.onDidChangeEventEmitter.fire()}};nN.diffCache=new Map;nN=$p=Xde([z9(1,Xl),z9(2,qs)],nN);var _Be=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},vBe=function(n,e){return function(t,i){e(t,i,n)}};let U9=class extends ce{setActiveMovedText(e){this._activeMovedText.set(e,void 0)}constructor(e,t,i){super(),this.model=e,this._options=t,this._diffProviderFactoryService=i,this._isDiffUpToDate=si(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=si(this,void 0),this.diff=this._diff,this._unchangedRegions=si(this,void 0),this.unchangedRegions=It(this,a=>{var l,c;return this._options.hideUnchangedRegions.read(a)?(c=(l=this._unchangedRegions.read(a))===null||l===void 0?void 0:l.regions)!==null&&c!==void 0?c:[]:(Vi(d=>{var u;for(const h of((u=this._unchangedRegions.get())===null||u===void 0?void 0:u.regions)||[])h.collapseAll(d)}),[])}),this.movedTextToCompare=si(this,void 0),this._activeMovedText=si(this,void 0),this._hoveredMovedText=si(this,void 0),this.activeMovedText=It(this,a=>{var l,c;return(c=(l=this.movedTextToCompare.read(a))!==null&&l!==void 0?l:this._hoveredMovedText.read(a))!==null&&c!==void 0?c:this._activeMovedText.read(a)}),this._cancellationTokenSource=new Pn,this._diffProvider=It(this,a=>{const l=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:this._options.diffAlgorithm.read(a)}),c=ha("onDidChange",l.onDidChange);return{diffProvider:l,onChangeSignal:c}}),this._register(at(()=>this._cancellationTokenSource.cancel()));const r=nH("contentChangedSignal"),o=this._register(new ki(()=>r.trigger(void 0),200));this._register(hi(a=>{const l=this._unchangedRegions.read(a);if(!l||l.regions.some(g=>g.isDragged.read(a)))return;const c=l.originalDecorationIds.map(g=>e.original.getDecorationRange(g)).map(g=>g?Ft.fromRangeInclusive(g):void 0),d=l.modifiedDecorationIds.map(g=>e.modified.getDecorationRange(g)).map(g=>g?Ft.fromRangeInclusive(g):void 0),u=l.regions.map((g,_)=>!c[_]||!d[_]?void 0:new Gf(c[_].startLineNumber,d[_].startLineNumber,c[_].length,g.visibleLineCountTop.read(a),g.visibleLineCountBottom.read(a))).filter(Vm),h=[];let f=!1;for(const g of FW(u,(_,y)=>_.getHiddenModifiedRange(a).endLineNumberExclusive===y.getHiddenModifiedRange(a).startLineNumber))if(g.length>1){f=!0;const _=g.reduce((m,p)=>m+p.lineCount,0),y=new Gf(g[0].originalLineNumber,g[0].modifiedLineNumber,_,g[0].visibleLineCountTop.get(),g[g.length-1].visibleLineCountBottom.get());h.push(y)}else h.push(g[0]);if(f){const g=e.original.deltaDecorations(l.originalDecorationIds,h.map(y=>({range:y.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),_=e.modified.deltaDecorations(l.modifiedDecorationIds,h.map(y=>({range:y.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));Vi(y=>{this._unchangedRegions.set({regions:h,originalDecorationIds:g,modifiedDecorationIds:_},y)})}}));const s=(a,l,c)=>{const d=Gf.fromDiffs(a.changes,e.original.getLineCount(),e.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(c),this._options.hideUnchangedRegionsContextLineCount.read(c));let u;const h=this._unchangedRegions.get();if(h){const y=h.originalDecorationIds.map(b=>e.original.getDecorationRange(b)).map(b=>b?Ft.fromRangeInclusive(b):void 0),m=h.modifiedDecorationIds.map(b=>e.modified.getDecorationRange(b)).map(b=>b?Ft.fromRangeInclusive(b):void 0);let v=Q8e(h.regions.map((b,C)=>{if(!y[C]||!m[C])return;const S=y[C].length;return new Gf(y[C].startLineNumber,m[C].startLineNumber,S,Math.min(b.visibleLineCountTop.get(),S),Math.min(b.visibleLineCountBottom.get(),S-b.visibleLineCountTop.get()))}).filter(Vm),(b,C)=>!C||b.modifiedLineNumber>=C.modifiedLineNumber+C.lineCount&&b.originalLineNumber>=C.originalLineNumber+C.lineCount).map(b=>new fs(b.getHiddenOriginalRange(c),b.getHiddenModifiedRange(c)));v=fs.clip(v,Ft.ofLength(1,e.original.getLineCount()),Ft.ofLength(1,e.modified.getLineCount())),u=fs.inverse(v,e.original.getLineCount(),e.modified.getLineCount())}const f=[];if(u)for(const y of d){const m=u.filter(p=>p.original.intersectsStrict(y.originalUnchangedRange)&&p.modified.intersectsStrict(y.modifiedUnchangedRange));f.push(...y.setVisibleRanges(m,l))}else f.push(...d);const g=e.original.deltaDecorations((h==null?void 0:h.originalDecorationIds)||[],f.map(y=>({range:y.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),_=e.modified.deltaDecorations((h==null?void 0:h.modifiedDecorationIds)||[],f.map(y=>({range:y.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));this._unchangedRegions.set({regions:f,originalDecorationIds:g,modifiedDecorationIds:_},l)};this._register(e.modified.onDidChangeContent(a=>{if(this._diff.get()){const c=sh.fromModelContentChanges(a.changes);this._lastDiff,e.original,e.modified}this._isDiffUpToDate.set(!1,void 0),o.schedule()})),this._register(e.original.onDidChangeContent(a=>{if(this._diff.get()){const c=sh.fromModelContentChanges(a.changes);this._lastDiff,e.original,e.modified}this._isDiffUpToDate.set(!1,void 0),o.schedule()})),this._register(Cu(async(a,l)=>{var c,d;this._options.hideUnchangedRegionsMinimumLineCount.read(a),this._options.hideUnchangedRegionsContextLineCount.read(a),o.cancel(),r.read(a);const u=this._diffProvider.read(a);u.onChangeSignal.read(a),kd(Qae,a),kd(jF,a),this._isDiffUpToDate.set(!1,void 0);let h=[];l.add(e.original.onDidChangeContent(_=>{const y=sh.fromModelContentChanges(_.changes);h=uI(h,y)}));let f=[];l.add(e.modified.onDidChangeContent(_=>{const y=sh.fromModelContentChanges(_.changes);f=uI(f,y)}));let g=await u.diffProvider.computeDiff(e.original,e.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(a),maxComputationTimeMs:this._options.maxComputationTimeMs.read(a),computeMoves:this._options.showMoves.read(a)},this._cancellationTokenSource.token);this._cancellationTokenSource.token.isCancellationRequested||(g=bBe(g,e.original,e.modified),g=(c=(e.original,e.modified,void 0))!==null&&c!==void 0?c:g,g=(d=(e.original,e.modified,void 0))!==null&&d!==void 0?d:g,Vi(_=>{s(g,_),this._lastDiff=g;const y=lH.fromDiffResult(g);this._diff.set(y,_),this._isDiffUpToDate.set(!0,_);const m=this.movedTextToCompare.get();this.movedTextToCompare.set(m?this._lastDiff.moves.find(p=>p.lineRangeMapping.modified.intersect(m.lineRangeMapping.modified)):void 0,_)}))}))}ensureModifiedLineIsVisible(e,t,i){var r,o;if(((r=this.diff.get())===null||r===void 0?void 0:r.mappings.length)===0)return;const s=((o=this._unchangedRegions.get())===null||o===void 0?void 0:o.regions)||[];for(const a of s)if(a.getHiddenModifiedRange(void 0).contains(e)){a.showModifiedLine(e,t,i);return}}ensureOriginalLineIsVisible(e,t,i){var r,o;if(((r=this.diff.get())===null||r===void 0?void 0:r.mappings.length)===0)return;const s=((o=this._unchangedRegions.get())===null||o===void 0?void 0:o.regions)||[];for(const a of s)if(a.getHiddenOriginalRange(void 0).contains(e)){a.showOriginalLine(e,t,i);return}}async waitForDiff(){await H8e(this.isDiffUpToDate,e=>e)}serializeState(){const e=this._unchangedRegions.get();return{collapsedRegions:e==null?void 0:e.regions.map(t=>({range:t.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState(e){var t;const i=(t=e.collapsedRegions)===null||t===void 0?void 0:t.map(o=>Ft.deserialize(o.range)),r=this._unchangedRegions.get();!r||!i||Vi(o=>{for(const s of r.regions)for(const a of i)if(s.modifiedUnchangedRange.intersect(a)){s.setHiddenModifiedRange(a,o);break}})}};U9=_Be([vBe(2,Qde)],U9);function bBe(n,e,t){return{changes:n.changes.map(i=>new qc(i.original,i.modified,i.innerChanges?i.innerChanges.map(r=>yBe(r,e,t)):void 0)),moves:n.moves,identical:n.identical,quitEarly:n.quitEarly}}function yBe(n,e,t){let i=n.originalRange,r=n.modifiedRange;return(i.endColumn!==1||r.endColumn!==1)&&i.endColumn===e.getLineMaxColumn(i.endLineNumber)&&r.endColumn===t.getLineMaxColumn(r.endLineNumber)&&i.endLineNumber<e.getLineCount()&&r.endLineNumber<t.getLineCount()&&(i=i.setEndPosition(i.endLineNumber+1,1),r=r.setEndPosition(r.endLineNumber+1,1)),new Bg(i,r)}class lH{static fromDiffResult(e){return new lH(e.changes.map(t=>new Jde(t)),e.moves||[],e.identical,e.quitEarly)}constructor(e,t,i,r){this.mappings=e,this.movedTexts=t,this.identical=i,this.quitEarly=r}}class Jde{constructor(e){this.lineRangeMapping=e}}class Gf{static fromDiffs(e,t,i,r,o){const s=qc.inverse(e,t,i),a=[];for(const l of s){let c=l.original.startLineNumber,d=l.modified.startLineNumber,u=l.original.length;const h=c===1&&d===1,f=c+u===t+1&&d+u===i+1;(h||f)&&u>=o+r?(h&&!f&&(u-=o),f&&!h&&(c+=o,d+=o,u-=o),a.push(new Gf(c,d,u,0,0))):u>=o*2+r&&(c+=o,d+=o,u-=o*2,a.push(new Gf(c,d,u,0,0)))}return a}get originalUnchangedRange(){return Ft.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return Ft.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(e,t,i,r,o){this.originalLineNumber=e,this.modifiedLineNumber=t,this.lineCount=i,this._visibleLineCountTop=si(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=si(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=It(this,l=>this.visibleLineCountTop.read(l)+this.visibleLineCountBottom.read(l)===this.lineCount&&!this.isDragged.read(l)),this.isDragged=si(this,void 0);const s=Math.max(Math.min(r,this.lineCount),0),a=Math.max(Math.min(o,this.lineCount-r),0);Eq(r===s),Eq(o===a),this._visibleLineCountTop.set(s,void 0),this._visibleLineCountBottom.set(a,void 0)}setVisibleRanges(e,t){const i=[],r=new Tl(e.map(l=>l.modified)).subtractFrom(this.modifiedUnchangedRange);let o=this.originalLineNumber,s=this.modifiedLineNumber;const a=this.modifiedLineNumber+this.lineCount;if(r.ranges.length===0)this.showAll(t),i.push(this);else{let l=0;for(const c of r.ranges){const d=l===r.ranges.length-1;l++;const u=(d?a:c.endLineNumberExclusive)-s,h=new Gf(o,s,u,0,0);h.setHiddenModifiedRange(c,t),i.push(h),o=h.originalUnchangedRange.endLineNumberExclusive,s=h.modifiedUnchangedRange.endLineNumberExclusive}}return i}shouldHideControls(e){return this._shouldHideControls.read(e)}getHiddenOriginalRange(e){return Ft.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(e),this.lineCount-this._visibleLineCountTop.read(e)-this._visibleLineCountBottom.read(e))}getHiddenModifiedRange(e){return Ft.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(e),this.lineCount-this._visibleLineCountTop.read(e)-this._visibleLineCountBottom.read(e))}setHiddenModifiedRange(e,t){const i=e.startLineNumber-this.modifiedLineNumber,r=this.modifiedLineNumber+this.lineCount-e.endLineNumberExclusive;this.setState(i,r,t)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(e=10,t){const i=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+e,i),t)}showMoreBelow(e=10,t){const i=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+e,i),t)}showAll(e){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),e)}showModifiedLine(e,t,i){const r=e+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),o=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-e;t===0&&r<o||t===1?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+r,i):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+o,i)}showOriginalLine(e,t,i){const r=e-this.originalLineNumber,o=this.originalLineNumber+this.lineCount-e;t===0&&r<o||t===1?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+o-r,this.getMaxVisibleLineCountTop()),i):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+r-o,this.getMaxVisibleLineCountBottom()),i)}collapseAll(e){this._visibleLineCountTop.set(0,e),this._visibleLineCountBottom.set(0,e)}setState(e,t,i){e=Math.max(Math.min(e,this.lineCount),0),t=Math.max(Math.min(t,this.lineCount-e),0),this._visibleLineCountTop.set(e,i),this._visibleLineCountBottom.set(t,i)}}class CBe extends ce{get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this._diffActions.style.visibility=e?"visible":"hidden")}constructor(e,t,i,r,o,s,a,l,c){super(),this._getViewZoneId=e,this._marginDomNode=t,this._modifiedEditor=i,this._diff=r,this._editor=o,this._viewLineCounts=s,this._originalTextModel=a,this._contextMenuService=l,this._clipboardService=c,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=lt.asClassName(Ae.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const d=this._modifiedEditor.getOption(66);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${d}px`,this._diffActions.style.lineHeight=`${d}px`,this._marginDomNode.appendChild(this._diffActions);let u=0;const h=i.getOption(126)&&!jc,f=(g,_)=>{var y;this._contextMenuService.showContextMenu({domForShadowRoot:h&&(y=i.getDomNode())!==null&&y!==void 0?y:void 0,getAnchor:()=>({x:g,y:_}),getActions:()=>{const m=[],p=r.modified.isEmpty;return m.push(new Fs("diff.clipboard.copyDeletedContent",p?r.original.length>1?w("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):w("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):r.original.length>1?w("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):w("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,async()=>{const b=this._originalTextModel.getValueInRange(r.original.toExclusiveRange());await this._clipboardService.writeText(b)})),r.original.length>1&&m.push(new Fs("diff.clipboard.copyDeletedLineContent",p?w("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",r.original.startLineNumber+u):w("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",r.original.startLineNumber+u),void 0,!0,async()=>{let b=this._originalTextModel.getLineContent(r.original.startLineNumber+u);b===""&&(b=this._originalTextModel.getEndOfLineSequence()===0?`
`:`\r
`),await this._clipboardService.writeText(b)})),i.getOption(90)||m.push(new Fs("diff.inline.revertChange",w("diff.inline.revertChange.label","Revert this change"),void 0,!0,async()=>{this._editor.revert(this._diff)})),m},autoSelectFirstItem:!0})};this._register(kn(this._diffActions,"mousedown",g=>{if(!g.leftButton)return;const{top:_,height:y}=Vn(this._diffActions),m=Math.floor(d/3);g.preventDefault(),f(g.posx,_+y+m)})),this._register(i.onMouseMove(g=>{(g.target.type===8||g.target.type===5)&&g.target.detail.viewZoneId===this._getViewZoneId()?(u=this._updateLightBulbPosition(this._marginDomNode,g.event.browserEvent.y,d),this.visibility=!0):this.visibility=!1})),this._register(i.onMouseDown(g=>{g.event.leftButton&&(g.target.type===8||g.target.type===5)&&g.target.detail.viewZoneId===this._getViewZoneId()&&(g.event.preventDefault(),u=this._updateLightBulbPosition(this._marginDomNode,g.event.browserEvent.y,d),f(g.event.posx,g.event.posy+d))}))}_updateLightBulbPosition(e,t,i){const{top:r}=Vn(e),o=t-r,s=Math.floor(o/i),a=s*i;if(this._diffActions.style.top=`${a}px`,this._viewLineCounts){let l=0;for(let c=0;c<this._viewLineCounts.length;c++)if(l+=this._viewLineCounts[c],s<l)return c}return s}}const CY=Fh("diffEditorWidget",{createHTML:n=>n});function wBe(n,e,t,i){Ur(i,e.fontInfo);const r=t.length>0,o=new Cy(1e4);let s=0,a=0;const l=[];for(let h=0;h<n.lineTokens.length;h++){const f=h+1,g=n.lineTokens[h],_=n.lineBreakData[h],y=As.filter(t,f,1,Number.MAX_SAFE_INTEGER);if(_){let m=0;for(const p of _.breakOffsets){const v=g.sliceAndInflate(m,p,0);s=Math.max(s,wY(a,v,As.extractWrapped(y,m,p),r,n.mightContainNonBasicASCII,n.mightContainRTL,e,o)),a++,m=p}l.push(_.breakOffsets.length)}else l.push(1),s=Math.max(s,wY(a,g,y,r,n.mightContainNonBasicASCII,n.mightContainRTL,e,o)),a++}s+=e.scrollBeyondLastColumn;const c=o.build(),d=CY?CY.createHTML(c):c;i.innerHTML=d;const u=s*e.typicalHalfwidthCharacterWidth;return{heightInLines:a,minWidthInPx:u,viewLineCounts:l}}class SBe{constructor(e,t,i,r){this.lineTokens=e,this.lineBreakData=t,this.mightContainNonBasicASCII=i,this.mightContainRTL=r}}class cH{static fromEditor(e){var t;const i=e.getOptions(),r=i.get(50),o=i.get(143);return new cH(((t=e.getModel())===null||t===void 0?void 0:t.getOptions().tabSize)||0,r,i.get(33),r.typicalHalfwidthCharacterWidth,i.get(103),i.get(66),o.decorationsWidth,i.get(116),i.get(98),i.get(93),i.get(51))}constructor(e,t,i,r,o,s,a,l,c,d,u){this.tabSize=e,this.fontInfo=t,this.disableMonospaceOptimizations=i,this.typicalHalfwidthCharacterWidth=r,this.scrollBeyondLastColumn=o,this.lineHeight=s,this.lineDecorationsWidth=a,this.stopRenderingLineAfter=l,this.renderWhitespace=c,this.renderControlCharacters=d,this.fontLigatures=u}}function wY(n,e,t,i,r,o,s,a){a.appendString('<div class="view-line'),i||a.appendString(" char-delete"),a.appendString('" style="top:'),a.appendString(String(n*s.lineHeight)),a.appendString('px;width:1000000px;">');const l=e.getLineContent(),c=Da.isBasicASCII(l,r),d=Da.containsRTL(l,c,o),u=Wx(new fp(s.fontInfo.isMonospace&&!s.disableMonospaceOptimizations,s.fontInfo.canUseHalfwidthRightwardsArrow,l,!1,c,d,0,e,t,s.tabSize,0,s.fontInfo.spaceWidth,s.fontInfo.middotWidth,s.fontInfo.wsmiddotWidth,s.stopRenderingLineAfter,s.renderWhitespace,s.renderControlCharacters,s.fontLigatures!==da.OFF,null),a);return a.appendString("</div>"),u.characterMapping.getHorizontalOffset(u.characterMapping.length)}var xBe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},SY=function(n,e){return function(t,i){e(t,i,n)}};let $9=class extends ce{constructor(e,t,i,r,o,s,a,l,c,d){super(),this._targetWindow=e,this._editors=t,this._diffModel=i,this._options=r,this._diffEditorWidget=o,this._canIgnoreViewZoneUpdateEvent=s,this._origViewZonesToIgnore=a,this._modViewZonesToIgnore=l,this._clipboardService=c,this._contextMenuService=d,this._originalTopPadding=si(this,0),this._originalScrollOffset=si(this,0),this._originalScrollOffsetAnimated=hY(this._targetWindow,this._originalScrollOffset,this._store),this._modifiedTopPadding=si(this,0),this._modifiedScrollOffset=si(this,0),this._modifiedScrollOffsetAnimated=hY(this._targetWindow,this._modifiedScrollOffset,this._store);const u=si("invalidateAlignmentsState",0),h=this._register(new ki(()=>{u.set(u.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones(v=>{this._canIgnoreViewZoneUpdateEvent()||h.schedule()})),this._register(this._editors.modified.onDidChangeViewZones(v=>{this._canIgnoreViewZoneUpdateEvent()||h.schedule()})),this._register(this._editors.original.onDidChangeConfiguration(v=>{(v.hasChanged(144)||v.hasChanged(66))&&h.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration(v=>{(v.hasChanged(144)||v.hasChanged(66))&&h.schedule()}));const f=this._diffModel.map(v=>v?dn(v.model.original.onDidChangeTokens,()=>v.model.original.tokenization.backgroundTokenizationState===2):void 0).map((v,b)=>v==null?void 0:v.read(b)),g=It(v=>{const b=this._diffModel.read(v),C=b==null?void 0:b.diff.read(v);if(!b||!C)return null;u.read(v);const x=this._options.renderSideBySide.read(v);return xY(this._editors.original,this._editors.modified,C.mappings,this._origViewZonesToIgnore,this._modViewZonesToIgnore,x)}),_=It(v=>{var b;const C=(b=this._diffModel.read(v))===null||b===void 0?void 0:b.movedTextToCompare.read(v);if(!C)return null;u.read(v);const S=C.changes.map(x=>new Jde(x));return xY(this._editors.original,this._editors.modified,S,this._origViewZonesToIgnore,this._modViewZonesToIgnore,!0)});function y(){const v=document.createElement("div");return v.className="diagonal-fill",v}const m=this._register(new xe);this.viewZones=Ey(this,(v,b)=>{var C,S,x,k,D,E,I,N;m.clear();const R=g.read(v)||[],O=[],W=[],K=this._modifiedTopPadding.read(v);K>0&&W.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:K,showInHiddenAreas:!0,suppressMouseDown:!0});const Q=this._originalTopPadding.read(v);Q>0&&O.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:Q,showInHiddenAreas:!0,suppressMouseDown:!0});const Y=this._options.renderSideBySide.read(v),V=Y||(C=this._editors.modified._getViewModel())===null||C===void 0?void 0:C.createLineBreaksComputer();if(V){const Fe=this._editors.original.getModel();for(const Oe of R)if(Oe.diff)for(let De=Oe.originalRange.startLineNumber;De<Oe.originalRange.endLineNumberExclusive;De++){if(De>Fe.getLineCount())return{orig:O,mod:W};V==null||V.addRequest(Fe.getLineContent(De),null,null)}}const X=(S=V==null?void 0:V.finalize())!==null&&S!==void 0?S:[];let J=0;const te=this._editors.modified.getOption(66),oe=(x=this._diffModel.read(v))===null||x===void 0?void 0:x.movedTextToCompare.read(v),Me=(D=(k=this._editors.original.getModel())===null||k===void 0?void 0:k.mightContainNonBasicASCII())!==null&&D!==void 0?D:!1,Re=(I=(E=this._editors.original.getModel())===null||E===void 0?void 0:E.mightContainRTL())!==null&&I!==void 0?I:!1,_e=cH.fromEditor(this._editors.modified);for(const Fe of R)if(Fe.diff&&!Y){if(!Fe.originalRange.isEmpty){f.read(v);const De=document.createElement("div");De.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const ze=this._editors.original.getModel();if(Fe.originalRange.endLineNumberExclusive-1>ze.getLineCount())return{orig:O,mod:W};const ke=new SBe(Fe.originalRange.mapToLineArray(st=>ze.tokenization.getLineTokens(st)),Fe.originalRange.mapToLineArray(st=>X[J++]),Me,Re),Ze=[];for(const st of Fe.diff.innerChanges||[])Ze.push(new Pw(st.originalRange.delta(-(Fe.diff.original.startLineNumber-1)),V9.className,0));const vt=wBe(ke,_e,Ze,De),ot=document.createElement("div");if(ot.className="inline-deleted-margin-view-zone",Ur(ot,_e.fontInfo),this._options.renderIndicators.read(v))for(let st=0;st<vt.heightInLines;st++){const ni=document.createElement("div");ni.className=`delete-sign ${lt.asClassName(Yde)}`,ni.setAttribute("style",`position:absolute;top:${st*te}px;width:${_e.lineDecorationsWidth}px;height:${te}px;right:0;`),ot.appendChild(ni)}let ct;m.add(new CBe(()=>Ff(ct),ot,this._editors.modified,Fe.diff,this._diffEditorWidget,vt.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let st=0;st<vt.viewLineCounts.length;st++){const ni=vt.viewLineCounts[st];ni>1&&O.push({afterLineNumber:Fe.originalRange.startLineNumber+st,domNode:y(),heightInPx:(ni-1)*te,showInHiddenAreas:!0,suppressMouseDown:!0})}W.push({afterLineNumber:Fe.modifiedRange.startLineNumber-1,domNode:De,heightInPx:vt.heightInLines*te,minWidthInPx:vt.minWidthInPx,marginDomNode:ot,setZoneId(st){ct=st},showInHiddenAreas:!0,suppressMouseDown:!0})}const Oe=document.createElement("div");Oe.className="gutter-delete",O.push({afterLineNumber:Fe.originalRange.endLineNumberExclusive-1,domNode:y(),heightInPx:Fe.modifiedHeightInPx,marginDomNode:Oe,showInHiddenAreas:!0,suppressMouseDown:!0})}else{const Oe=Fe.modifiedHeightInPx-Fe.originalHeightInPx;if(Oe>0){if(oe!=null&&oe.lineRangeMapping.original.delta(-1).deltaLength(2).contains(Fe.originalRange.endLineNumberExclusive-1))continue;O.push({afterLineNumber:Fe.originalRange.endLineNumberExclusive-1,domNode:y(),heightInPx:Oe,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let De=function(){const ke=document.createElement("div");return ke.className="arrow-revert-change "+lt.asClassName(Ae.arrowRight),b.add(ge(ke,"mousedown",Ze=>Ze.stopPropagation())),b.add(ge(ke,"click",Ze=>{Ze.stopPropagation(),o.revert(Fe.diff)})),Te("div",{},ke)};if(oe!=null&&oe.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(Fe.modifiedRange.endLineNumberExclusive-1))continue;let ze;Fe.diff&&Fe.diff.modified.isEmpty&&this._options.shouldRenderRevertArrows.read(v)&&(ze=De()),W.push({afterLineNumber:Fe.modifiedRange.endLineNumberExclusive-1,domNode:y(),heightInPx:-Oe,marginDomNode:ze,showInHiddenAreas:!0,suppressMouseDown:!0})}}for(const Fe of(N=_.read(v))!==null&&N!==void 0?N:[]){if(!(oe!=null&&oe.lineRangeMapping.original.intersect(Fe.originalRange))||!(oe!=null&&oe.lineRangeMapping.modified.intersect(Fe.modifiedRange)))continue;const Oe=Fe.modifiedHeightInPx-Fe.originalHeightInPx;Oe>0?O.push({afterLineNumber:Fe.originalRange.endLineNumberExclusive-1,domNode:y(),heightInPx:Oe,showInHiddenAreas:!0,suppressMouseDown:!0}):W.push({afterLineNumber:Fe.modifiedRange.endLineNumberExclusive-1,domNode:y(),heightInPx:-Oe,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:O,mod:W}});let p=!1;this._register(this._editors.original.onDidScrollChange(v=>{v.scrollLeftChanged&&!p&&(p=!0,this._editors.modified.setScrollLeft(v.scrollLeft),p=!1)})),this._register(this._editors.modified.onDidScrollChange(v=>{v.scrollLeftChanged&&!p&&(p=!0,this._editors.original.setScrollLeft(v.scrollLeft),p=!1)})),this._originalScrollTop=dn(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=dn(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register(hi(v=>{const b=this._originalScrollTop.read(v)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(v))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(v));b!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop(b,1)})),this._register(hi(v=>{const b=this._modifiedScrollTop.read(v)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(v))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(v));b!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop(b,1)})),this._register(hi(v=>{var b;const C=(b=this._diffModel.read(v))===null||b===void 0?void 0:b.movedTextToCompare.read(v);let S=0;if(C){const x=this._editors.original.getTopForLineNumber(C.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();S=this._editors.modified.getTopForLineNumber(C.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-x}S>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(S,void 0)):S<0?(this._modifiedTopPadding.set(-S,void 0),this._originalTopPadding.set(0,void 0)):setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-S,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+S,void 0,!0)}))}};$9=xBe([SY(8,Vh),SY(9,Pa)],$9);function xY(n,e,t,i,r,o){const s=new Dh(LY(n,i)),a=new Dh(LY(e,r)),l=n.getOption(66),c=e.getOption(66),d=[];let u=0,h=0;function f(g,_){for(;;){let y=s.peek(),m=a.peek();if(y&&y.lineNumber>=g&&(y=void 0),m&&m.lineNumber>=_&&(m=void 0),!y&&!m)break;const p=y?y.lineNumber-u:Number.MAX_VALUE,v=m?m.lineNumber-h:Number.MAX_VALUE;p<v?(s.dequeue(),m={lineNumber:y.lineNumber-u+h,heightInPx:0}):p>v?(a.dequeue(),y={lineNumber:m.lineNumber-h+u,heightInPx:0}):(s.dequeue(),a.dequeue()),d.push({originalRange:Ft.ofLength(y.lineNumber,1),modifiedRange:Ft.ofLength(m.lineNumber,1),originalHeightInPx:l+y.heightInPx,modifiedHeightInPx:c+m.heightInPx,diff:void 0})}}for(const g of t){let v=function(b,C){var S,x,k,D;if(b<p||C<m)return;if(y)y=!1;else if(b===p||C===m)return;const E=new Ft(p,b),I=new Ft(m,C);if(E.isEmpty&&I.isEmpty)return;const N=(x=(S=s.takeWhile(O=>O.lineNumber<b))===null||S===void 0?void 0:S.reduce((O,W)=>O+W.heightInPx,0))!==null&&x!==void 0?x:0,R=(D=(k=a.takeWhile(O=>O.lineNumber<C))===null||k===void 0?void 0:k.reduce((O,W)=>O+W.heightInPx,0))!==null&&D!==void 0?D:0;d.push({originalRange:E,modifiedRange:I,originalHeightInPx:E.length*l+N,modifiedHeightInPx:I.length*c+R,diff:g.lineRangeMapping}),p=b,m=C};const _=g.lineRangeMapping;f(_.original.startLineNumber,_.modified.startLineNumber);let y=!0,m=_.modified.startLineNumber,p=_.original.startLineNumber;if(o)for(const b of _.innerChanges||[]){b.originalRange.startColumn>1&&b.modifiedRange.startColumn>1&&v(b.originalRange.startLineNumber,b.modifiedRange.startLineNumber);const C=n.getModel(),S=b.originalRange.endLineNumber<=C.getLineCount()?C.getLineMaxColumn(b.originalRange.endLineNumber):Number.MAX_SAFE_INTEGER;b.originalRange.endColumn<S&&v(b.originalRange.endLineNumber,b.modifiedRange.endLineNumber)}v(_.original.endLineNumberExclusive,_.modified.endLineNumberExclusive),u=_.original.endLineNumberExclusive,h=_.modified.endLineNumberExclusive}return f(Number.MAX_VALUE,Number.MAX_VALUE),d}function LY(n,e){const t=[],i=[],r=n.getOption(144).wrappingColumn!==-1,o=n._getViewModel().coordinatesConverter,s=n.getOption(66);if(r)for(let l=1;l<=n.getModel().getLineCount();l++){const c=o.getModelLineViewLineCount(l);c>1&&i.push({lineNumber:l,heightInPx:s*(c-1)})}for(const l of n.getWhitespaces()){if(e.has(l.id))continue;const c=l.afterLineNumber===0?0:o.convertViewPositionToModelPosition(new re(l.afterLineNumber,1)).lineNumber;t.push({lineNumber:c,heightInPx:l.height})}return q8e(t,i,l=>l.lineNumber,(l,c)=>({lineNumber:l.lineNumber,heightInPx:l.heightInPx+c.heightInPx}))}var LBe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},kBe=function(n,e){return function(t,i){e(t,i,n)}},Cl;let n_=Cl=class extends ce{constructor(e,t,i,r,o,s,a){super(),this._editors=e,this._rootElement=t,this._diffModel=i,this._rootWidth=r,this._rootHeight=o,this._modifiedEditorLayoutInfo=s,this._themeService=a,this.width=Cl.ENTIRE_DIFF_OVERVIEW_WIDTH;const l=dn(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),c=It(h=>{const f=l.read(h),g=f.getColor(wNe)||(f.getColor(yNe)||XF).transparent(2),_=f.getColor(SNe)||(f.getColor(CNe)||QF).transparent(2);return{insertColor:g,removeColor:_}}),d=pi(document.createElement("div"));d.setClassName("diffViewport"),d.setPosition("absolute");const u=Ri("div.diffOverview",{style:{position:"absolute",top:"0px",width:Cl.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;this._register(tD(u,d.domNode)),this._register(kn(u,Ne.POINTER_DOWN,h=>{this._editors.modified.delegateVerticalScrollbarPointerDown(h)})),this._register(ge(u,Ne.MOUSE_WHEEL,h=>{this._editors.modified.delegateScrollFromMouseWheelEvent(h)},{passive:!1})),this._register(tD(this._rootElement,u)),this._register(Cu((h,f)=>{const g=this._diffModel.read(h),_=this._editors.original.createOverviewRuler("original diffOverviewRuler");_&&(f.add(_),f.add(tD(u,_.getDomNode())));const y=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(y&&(f.add(y),f.add(tD(u,y.getDomNode()))),!_||!y)return;const m=ha("viewZoneChanged",this._editors.original.onDidChangeViewZones),p=ha("viewZoneChanged",this._editors.modified.onDidChangeViewZones),v=ha("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),b=ha("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);f.add(hi(C=>{var S;m.read(C),p.read(C),v.read(C),b.read(C);const x=c.read(C),k=(S=g==null?void 0:g.diff.read(C))===null||S===void 0?void 0:S.mappings;function D(N,R,O){const W=O._getViewModel();return W?N.filter(K=>K.length>0).map(K=>{const Q=W.coordinatesConverter.convertModelPositionToViewPosition(new re(K.startLineNumber,1)),Y=W.coordinatesConverter.convertModelPositionToViewPosition(new re(K.endLineNumberExclusive,1)),V=Y.lineNumber-Q.lineNumber;return new Kle(Q.lineNumber,Y.lineNumber,V,R.toString())}):[]}const E=D((k||[]).map(N=>N.lineRangeMapping.original),x.removeColor,this._editors.original),I=D((k||[]).map(N=>N.lineRangeMapping.modified),x.insertColor,this._editors.modified);_==null||_.setZones(E),y==null||y.setZones(I)})),f.add(hi(C=>{const S=this._rootHeight.read(C),x=this._rootWidth.read(C),k=this._modifiedEditorLayoutInfo.read(C);if(k){const D=Cl.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Cl.ONE_OVERVIEW_WIDTH;_.setLayout({top:0,height:S,right:D+Cl.ONE_OVERVIEW_WIDTH,width:Cl.ONE_OVERVIEW_WIDTH}),y.setLayout({top:0,height:S,right:0,width:Cl.ONE_OVERVIEW_WIDTH});const E=this._editors.modifiedScrollTop.read(C),I=this._editors.modifiedScrollHeight.read(C),N=this._editors.modified.getOption(102),R=new Mb(N.verticalHasArrows?N.arrowSize:0,N.verticalScrollbarSize,0,k.height,I,E);d.setTop(R.getSliderPosition()),d.setHeight(R.getSliderSize())}else d.setTop(0),d.setHeight(0);u.style.height=S+"px",u.style.left=x-Cl.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",d.setWidth(Cl.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}};n_.ONE_OVERVIEW_WIDTH=15;n_.ENTIRE_DIFF_OVERVIEW_WIDTH=Cl.ONE_OVERVIEW_WIDTH*2;n_=Cl=LBe([kBe(6,mr)],n_);class PM extends ce{constructor(){super(...arguments),this._id=++PM.idCounter,this._onDidDispose=this._register(new ne),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(e){return this._targetEditor.getVisibleColumnFromPosition(e)}getPosition(){return this._targetEditor.getPosition()}setPosition(e,t="api"){this._targetEditor.setPosition(e,t)}revealLine(e,t=0){this._targetEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this._targetEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._targetEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this._targetEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this._targetEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this._targetEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this._targetEditor.revealPositionNearTop(e,t)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(e,t="api"){this._targetEditor.setSelection(e,t)}setSelections(e,t="api"){this._targetEditor.setSelections(e,t)}revealLines(e,t,i=0){this._targetEditor.revealLines(e,t,i)}revealLinesInCenter(e,t,i=0){this._targetEditor.revealLinesInCenter(e,t,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(e,t,i)}revealLinesNearTop(e,t,i=0){this._targetEditor.revealLinesNearTop(e,t,i)}revealRange(e,t=0,i=!1,r=!0){this._targetEditor.revealRange(e,t,i,r)}revealRangeInCenter(e,t=0){this._targetEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this._targetEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this._targetEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(e,t,i){this._targetEditor.trigger(e,t,i)}createDecorationsCollection(e){return this._targetEditor.createDecorationsCollection(e)}changeDecorations(e){return this._targetEditor.changeDecorations(e)}}PM.idCounter=0;var DBe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},kY=function(n,e){return function(t,i){e(t,i,n)}};let q9=class extends ce{get onDidContentSizeChange(){return this._onDidContentSizeChange.event}constructor(e,t,i,r,o,s,a){super(),this.originalEditorElement=e,this.modifiedEditorElement=t,this._options=i,this._createInnerEditor=o,this._instantiationService=s,this._keybindingService=a,this._onDidContentSizeChange=this._register(new ne),this.original=this._register(this._createLeftHandSideEditor(i.editorOptions.get(),r.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(i.editorOptions.get(),r.modifiedEditor||{})),this.modifiedModel=dn(this.modified.onDidChangeModel,()=>this.modified.getModel()),this.modifiedScrollTop=dn(this.modified.onDidScrollChange,()=>this.modified.getScrollTop()),this.modifiedScrollHeight=dn(this.modified.onDidScrollChange,()=>this.modified.getScrollHeight()),this.modifiedSelections=dn(this.modified.onDidChangeCursorSelection,()=>{var l;return(l=this.modified.getSelections())!==null&&l!==void 0?l:[]}),this.modifiedCursor=dn(this.modified.onDidChangeCursorPosition,()=>{var l;return(l=this.modified.getPosition())!==null&&l!==void 0?l:new re(1,1)}),this._register(aL({createEmptyChangeSummary:()=>({}),handleChange:(l,c)=>(l.didChange(i.editorOptions)&&Object.assign(c,l.change.changedOptions),!0)},(l,c)=>{i.editorOptions.read(l),this._options.renderSideBySide.read(l),this.modified.updateOptions(this._adjustOptionsForRightHandSide(l,c)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(l,c))}))}_createLeftHandSideEditor(e,t){const i=this._adjustOptionsForLeftHandSide(void 0,e),r=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,i,t);return r.setContextValue("isInDiffLeftEditor",!0),r}_createRightHandSideEditor(e,t){const i=this._adjustOptionsForRightHandSide(void 0,e),r=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,i,t);return r.setContextValue("isInDiffRightEditor",!0),r}_constructInnerEditor(e,t,i,r){const o=this._createInnerEditor(e,t,i,r);return this._register(o.onDidContentSizeChange(s=>{const a=this.original.getContentWidth()+this.modified.getContentWidth()+n_.ENTIRE_DIFF_OVERVIEW_WIDTH,l=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:l,contentWidth:a,contentHeightChanged:s.contentHeightChanged,contentWidthChanged:s.contentWidthChanged})})),o}_adjustOptionsForLeftHandSide(e,t){const i=this._adjustOptionsForSubEditor(t);return this._options.renderSideBySide.get()?(i.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},i.wordWrapOverride1=this._options.diffWordWrap.get()):(i.wordWrapOverride1="off",i.wordWrapOverride2="off",i.stickyScroll={enabled:!1},i.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),i.glyphMargin=this._options.renderSideBySide.get(),t.originalAriaLabel&&(i.ariaLabel=t.originalAriaLabel),i.ariaLabel=this._updateAriaLabel(i.ariaLabel),i.readOnly=!this._options.originalEditable.get(),i.dropIntoEditor={enabled:!i.readOnly},i.extraEditorClassName="original-in-monaco-diff-editor",i}_adjustOptionsForRightHandSide(e,t){const i=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(i.ariaLabel=t.modifiedAriaLabel),i.ariaLabel=this._updateAriaLabel(i.ariaLabel),i.wordWrapOverride1=this._options.diffWordWrap.get(),i.revealHorizontalRightPadding=Qc.revealHorizontalRightPadding.defaultValue+n_.ENTIRE_DIFF_OVERVIEW_WIDTH,i.scrollbar.verticalHasArrows=!1,i.extraEditorClassName="modified-in-monaco-diff-editor",i}_adjustOptionsForSubEditor(e){const t={...e,dimension:{height:0,width:0}};return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar={...t.scrollbar||{}},t.folding=!1,t.codeLens=this._options.diffCodeLens.get(),t.fixedOverflowWidgets=!0,t.minimap={...t.minimap||{}},t.minimap.enabled=!1,this._options.hideUnchangedRegions.get()?t.stickyScroll={enabled:!1}:t.stickyScroll=this._options.editorOptions.get().stickyScroll,t}_updateAriaLabel(e){var t;e||(e="");const i=w("diff-aria-navigation-tip"," use {0} to open the accessibility help.",(t=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))===null||t===void 0?void 0:t.getAriaLabel());return this._options.accessibilityVerbose.get()?e+i:e?e.replaceAll(i,""):""}};q9=DBe([kY(5,dt),kY(6,xi)],q9);class TBe{get editorOptions(){return this._options}constructor(e){this._diffEditorWidth=si(this,0),this.couldShowInlineViewBecauseOfSize=It(this,i=>this._options.read(i).renderSideBySide&&this._diffEditorWidth.read(i)<=this._options.read(i).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=It(this,i=>this._options.read(i).renderOverviewRuler),this.renderSideBySide=It(this,i=>this._options.read(i).renderSideBySide&&!(this._options.read(i).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(i))),this.readOnly=It(this,i=>this._options.read(i).readOnly),this.shouldRenderRevertArrows=It(this,i=>!(!this._options.read(i).renderMarginRevertIcon||!this.renderSideBySide.read(i)||this.readOnly.read(i))),this.renderIndicators=It(this,i=>this._options.read(i).renderIndicators),this.enableSplitViewResizing=It(this,i=>this._options.read(i).enableSplitViewResizing),this.splitViewDefaultRatio=It(this,i=>this._options.read(i).splitViewDefaultRatio),this.ignoreTrimWhitespace=It(this,i=>this._options.read(i).ignoreTrimWhitespace),this.maxComputationTimeMs=It(this,i=>this._options.read(i).maxComputationTime),this.showMoves=It(this,i=>this._options.read(i).experimental.showMoves&&this.renderSideBySide.read(i)),this.isInEmbeddedEditor=It(this,i=>this._options.read(i).isInEmbeddedEditor),this.diffWordWrap=It(this,i=>this._options.read(i).diffWordWrap),this.originalEditable=It(this,i=>this._options.read(i).originalEditable),this.diffCodeLens=It(this,i=>this._options.read(i).diffCodeLens),this.accessibilityVerbose=It(this,i=>this._options.read(i).accessibilityVerbose),this.diffAlgorithm=It(this,i=>this._options.read(i).diffAlgorithm),this.showEmptyDecorations=It(this,i=>this._options.read(i).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=It(this,i=>this._options.read(i).onlyShowAccessibleDiffViewer),this.hideUnchangedRegions=It(this,i=>this._options.read(i).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=It(this,i=>this._options.read(i).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=It(this,i=>this._options.read(i).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsMinimumLineCount=It(this,i=>this._options.read(i).hideUnchangedRegions.minimumLineCount);const t={...e,...DY(e,mo)};this._options=si(this,t)}updateOptions(e){const t=DY(e,this._options.get()),i={...this._options.get(),...e,...t};this._options.set(i,void 0,{changedOptions:e})}setWidth(e){this._diffEditorWidth.set(e,void 0)}}function DY(n,e){var t,i,r,o,s,a,l,c;return{enableSplitViewResizing:et(n.enableSplitViewResizing,e.enableSplitViewResizing),splitViewDefaultRatio:uxe(n.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:et(n.renderSideBySide,e.renderSideBySide),renderMarginRevertIcon:et(n.renderMarginRevertIcon,e.renderMarginRevertIcon),maxComputationTime:Vp(n.maxComputationTime,e.maxComputationTime,0,1073741824),maxFileSize:Vp(n.maxFileSize,e.maxFileSize,0,1073741824),ignoreTrimWhitespace:et(n.ignoreTrimWhitespace,e.ignoreTrimWhitespace),renderIndicators:et(n.renderIndicators,e.renderIndicators),originalEditable:et(n.originalEditable,e.originalEditable),diffCodeLens:et(n.diffCodeLens,e.diffCodeLens),renderOverviewRuler:et(n.renderOverviewRuler,e.renderOverviewRuler),diffWordWrap:xn(n.diffWordWrap,e.diffWordWrap,["off","on","inherit"]),diffAlgorithm:xn(n.diffAlgorithm,e.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:et(n.accessibilityVerbose,e.accessibilityVerbose),experimental:{showMoves:et((t=n.experimental)===null||t===void 0?void 0:t.showMoves,e.experimental.showMoves),showEmptyDecorations:et((i=n.experimental)===null||i===void 0?void 0:i.showEmptyDecorations,e.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:et((o=(r=n.hideUnchangedRegions)===null||r===void 0?void 0:r.enabled)!==null&&o!==void 0?o:(s=n.experimental)===null||s===void 0?void 0:s.collapseUnchangedRegions,e.hideUnchangedRegions.enabled),contextLineCount:Vp((a=n.hideUnchangedRegions)===null||a===void 0?void 0:a.contextLineCount,e.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:Vp((l=n.hideUnchangedRegions)===null||l===void 0?void 0:l.minimumLineCount,e.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:Vp((c=n.hideUnchangedRegions)===null||c===void 0?void 0:c.revealLineCount,e.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:et(n.isInEmbeddedEditor,e.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:et(n.onlyShowAccessibleDiffViewer,e.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:Vp(n.renderSideBySideInlineBreakpoint,e.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:et(n.useInlineViewWhenSpaceIsLimited,e.useInlineViewWhenSpaceIsLimited)}}class EBe extends ce{constructor(e,t,i,r){super(),this._editors=e,this._diffModel=t,this._options=i,this._widget=r;const o=[],s=It(this,a=>{const l=this._diffModel.read(a),c=l==null?void 0:l.diff.read(a);if(!c)return o;const d=this._editors.modifiedSelections.read(a);if(d.every(g=>g.isEmpty()))return o;const u=new Tl(d.map(g=>Ft.fromRangeInclusive(g))),f=c.mappings.filter(g=>g.lineRangeMapping.innerChanges&&u.intersects(g.lineRangeMapping.modified)).map(g=>({mapping:g,rangeMappings:g.lineRangeMapping.innerChanges.filter(_=>d.some(y=>B.areIntersecting(_.modifiedRange,y)))}));return f.length===0||f.every(g=>g.rangeMappings.length===0)?o:f});this._register(Cu((a,l)=>{const c=this._diffModel.read(a),d=c==null?void 0:c.diff.read(a);if(!c||!d||this._diffModel.read(a).movedTextToCompare.read(a)||!this._options.shouldRenderRevertArrows.read(a))return;const h=[],f=s.read(a),g=new Set(f.map(_=>_.mapping));if(f.length>0){const _=this._editors.modifiedSelections.read(a),y=l.add(new OS(_[_.length-1].positionLineNumber,this._widget,f.flatMap(m=>m.rangeMappings),!0));this._editors.modified.addGlyphMarginWidget(y),h.push(y)}for(const _ of d.mappings)if(!g.has(_)&&!_.lineRangeMapping.modified.isEmpty&&_.lineRangeMapping.innerChanges){const y=l.add(new OS(_.lineRangeMapping.modified.startLineNumber,this._widget,_.lineRangeMapping.innerChanges,!1));this._editors.modified.addGlyphMarginWidget(y),h.push(y)}l.add(at(()=>{for(const _ of h)this._editors.modified.removeGlyphMarginWidget(_)}))}))}}class OS extends ce{getId(){return this._id}constructor(e,t,i,r){super(),this._lineNumber=e,this._widget=t,this._diffs=i,this._selection=r,this._id=`revertButton${OS.counter++}`,this._domNode=Ri("div.revertButton",{title:this._selection?w("revertSelectedChanges","Revert Selected Changes"):w("revertChange","Revert Change")},[CI(Ae.arrowRight)]).root,this._register(ge(this._domNode,Ne.MOUSE_DOWN,o=>{o.button!==2&&(o.stopPropagation(),o.preventDefault())})),this._register(ge(this._domNode,Ne.MOUSE_UP,o=>{o.stopPropagation(),o.preventDefault()})),this._register(ge(this._domNode,Ne.CLICK,o=>{this._widget.revertRangeMappings(this._diffs),o.stopPropagation(),o.preventDefault()}))}getDomNode(){return this._domNode}getPosition(){return{lane:au.Right,range:{startColumn:1,startLineNumber:this._lineNumber,endColumn:1,endLineNumber:this._lineNumber},zIndex:10001}}}OS.counter=0;var IBe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},LC=function(n,e){return function(t,i){e(t,i,n)}};let Ug=class extends PM{get onDidContentSizeChange(){return this._editors.onDidContentSizeChange}constructor(e,t,i,r,o,s,a,l){var c;super(),this._domElement=e,this._parentContextKeyService=r,this._parentInstantiationService=o,this._audioCueService=a,this._editorProgressService=l,this.elements=Ri("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[Ri("div.noModificationsOverlay@overlay",{style:{position:"absolute",height:"100%",visibility:"hidden"}},[Te("span",{},"No Changes")]),Ri("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),Ri("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),Ri("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=si(this,void 0),this._shouldDisposeDiffModel=!1,this.onDidChangeModel=Ve.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._parentInstantiationService.createChild(new Gx([_t,this._contextKeyService])),this._boundarySashes=si(this,void 0),this._accessibleDiffViewerShouldBeVisible=si(this,!1),this._accessibleDiffViewerVisible=It(this,b=>this._options.onlyShowAccessibleDiffViewer.read(b)?!0:this._accessibleDiffViewerShouldBeVisible.read(b)),this._movedBlocksLinesPart=si(this,void 0),this._layoutInfo=It(this,b=>{var C,S,x,k,D;const E=this._rootSizeObserver.width.read(b),I=this._rootSizeObserver.height.read(b),N=(C=this._sash.read(b))===null||C===void 0?void 0:C.sashLeft.read(b),R=N??Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),O=E-R-((x=(S=this._overviewRulerPart.read(b))===null||S===void 0?void 0:S.width)!==null&&x!==void 0?x:0),W=(D=(k=this._movedBlocksLinesPart.read(b))===null||k===void 0?void 0:k.width.read(b))!==null&&D!==void 0?D:0,K=R-W;return this.elements.original.style.width=K+"px",this.elements.original.style.left="0px",this.elements.modified.style.width=O+"px",this.elements.modified.style.left=R+"px",this._editors.original.layout({width:K,height:I},!0),this._editors.modified.layout({width:O,height:I},!0),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((b,C)=>b==null?void 0:b.diff.read(C)),this.onDidUpdateDiff=Ve.fromObservableLight(this._diffValue),s.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register(at(()=>this._domElement.removeChild(this.elements.root))),this._rootSizeObserver=this._register(new Gde(this.elements.root,t.dimension)),this._rootSizeObserver.setAutomaticLayout((c=t.automaticLayout)!==null&&c!==void 0?c:!1),this._options=new TBe(t),this._register(hi(b=>{this._options.setWidth(this._rootSizeObserver.width.read(b))})),this._contextKeyService.createKey(j.isEmbeddedDiffEditor.key,!1),this._register(iD(j.isEmbeddedDiffEditor,this._contextKeyService,b=>this._options.isInEmbeddedEditor.read(b))),this._register(iD(j.comparingMovedCode,this._contextKeyService,b=>{var C;return!!(!((C=this._diffModel.read(b))===null||C===void 0)&&C.movedTextToCompare.read(b))})),this._register(iD(j.diffEditorRenderSideBySideInlineBreakpointReached,this._contextKeyService,b=>this._options.couldShowInlineViewBecauseOfSize.read(b))),this._register(iD(j.hasChanges,this._contextKeyService,b=>{var C,S,x;return((x=(S=(C=this._diffModel.read(b))===null||C===void 0?void 0:C.diff.read(b))===null||S===void 0?void 0:S.mappings.length)!==null&&x!==void 0?x:0)>0})),this._editors=this._register(this._instantiationService.createInstance(q9,this.elements.original,this.elements.modified,this._options,i,(b,C,S,x)=>this._createInnerEditor(b,C,S,x))),this._overviewRulerPart=bf(this,b=>this._options.renderOverviewRuler.read(b)?this._instantiationService.createInstance(kd(n_,b),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map(C=>C.modifiedEditor)):void 0).recomputeInitiallyAndOnChange(this._store),this._sash=bf(this,b=>{const C=this._options.renderSideBySide.read(b);return this.elements.root.classList.toggle("side-by-side",C),C?new gBe(this._options,this.elements.root,{height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((S,x)=>{var k,D;return S-((D=(k=this._overviewRulerPart.read(x))===null||k===void 0?void 0:k.width)!==null&&D!==void 0?D:0)})},this._boundarySashes):void 0}).recomputeInitiallyAndOnChange(this._store);const d=bf(this,b=>this._instantiationService.createInstance(kd(AS,b),this._editors,this._diffModel,this._options)).recomputeInitiallyAndOnChange(this._store);bf(this,b=>this._instantiationService.createInstance(kd(fBe,b),this._editors,this._diffModel,this._options,this)).recomputeInitiallyAndOnChange(this._store);const u=new Set,h=new Set;let f=!1;const g=bf(this,b=>this._instantiationService.createInstance(kd($9,b),ht(this._domElement),this._editors,this._diffModel,this._options,this,()=>f||d.get().isUpdatingHiddenAreas,u,h)).recomputeInitiallyAndOnChange(this._store),_=It(this,b=>{const C=g.read(b).viewZones.read(b).orig,S=d.read(b).viewZones.read(b).origViewZones;return C.concat(S)}),y=It(this,b=>{const C=g.read(b).viewZones.read(b).mod,S=d.read(b).viewZones.read(b).modViewZones;return C.concat(S)});this._register(iN(this._editors.original,_,b=>{f=b},u));let m;this._register(iN(this._editors.modified,y,b=>{f=b,f?m=Xc.capture(this._editors.modified):(m==null||m.restore(this._editors.modified),m=void 0)},h)),this._accessibleDiffViewer=bf(this,b=>this._instantiationService.createInstance(kd(Kf,b),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(C,S)=>this._accessibleDiffViewerShouldBeVisible.set(C,S),this._options.onlyShowAccessibleDiffViewer.map(C=>!C),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((C,S)=>{var x;return(x=C==null?void 0:C.diff.read(S))===null||x===void 0?void 0:x.mappings.map(k=>k.lineRangeMapping)}),this._editors)).recomputeInitiallyAndOnChange(this._store);const p=this._accessibleDiffViewerVisible.map(b=>b?"hidden":"visible");this._register(vg(this.elements.modified,{visibility:p})),this._register(vg(this.elements.original,{visibility:p})),this._createDiffEditorContributions(),s.addDiffEditor(this),this._register(lL(this._layoutInfo)),bf(this,b=>new(kd(bg,b))(this.elements.root,this._diffModel,this._layoutInfo.map(C=>C.originalEditor),this._layoutInfo.map(C=>C.modifiedEditor),this._editors)).recomputeInitiallyAndOnChange(this._store,b=>{this._movedBlocksLinesPart.set(b,void 0)}),this._register(vg(this.elements.overlay,{width:this._layoutInfo.map((b,C)=>b.originalEditor.width+(this._options.renderSideBySide.read(C)?0:b.modifiedEditor.width)),visibility:It(b=>{var C,S;return this._options.hideUnchangedRegions.read(b)&&((S=(C=this._diffModel.read(b))===null||C===void 0?void 0:C.diff.read(b))===null||S===void 0?void 0:S.mappings.length)===0?"visible":"hidden"})})),this._register(Ve.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,b=>{var C,S;if((b==null?void 0:b.reason)===3){const x=(S=(C=this._diffModel.get())===null||C===void 0?void 0:C.diff.get())===null||S===void 0?void 0:S.mappings.find(k=>k.lineRangeMapping.modified.contains(b.position.lineNumber));x!=null&&x.lineRangeMapping.modified.isEmpty?this._audioCueService.playAudioCue(Pt.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):x!=null&&x.lineRangeMapping.original.isEmpty?this._audioCueService.playAudioCue(Pt.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):x&&this._audioCueService.playAudioCue(Pt.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}));const v=this._diffModel.map(this,(b,C)=>{if(b)return b.diff.read(C)===void 0&&!b.isDiffUpToDate.read(C)});this._register(Cu((b,C)=>{if(v.read(b)===!0){const S=this._editorProgressService.show(!0,1e3);C.add(at(()=>S.done()))}})),this._register(at(()=>{var b;this._shouldDisposeDiffModel&&((b=this._diffModel.get())===null||b===void 0||b.dispose())})),this._register(new EBe(this._editors,this._diffModel,this._options,this))}_createInnerEditor(e,t,i,r){return e.createInstance(Ab,t,i,r)}_createDiffEditorContributions(){const e=Iv.getDiffEditorContributions();for(const t of e)try{this._register(this._instantiationService.createInstance(t.ctor,this))}catch(i){St(i)}}get _targetEditor(){return this._editors.modified}getEditorType(){return Bx.IDiffEditor}layout(e){this._rootSizeObserver.observe(e)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var e;const t=this._editors.original.saveViewState(),i=this._editors.modified.saveViewState();return{original:t,modified:i,modelState:(e=this._diffModel.get())===null||e===void 0?void 0:e.serializeState()}}restoreViewState(e){var t;if(e&&e.original&&e.modified){const i=e;this._editors.original.restoreViewState(i.original),this._editors.modified.restoreViewState(i.modified),i.modelState&&((t=this._diffModel.get())===null||t===void 0||t.restoreSerializedState(i.modelState))}}handleInitialized(){this._editors.original.handleInitialized(),this._editors.modified.handleInitialized()}createViewModel(e){return this._instantiationService.createInstance(U9,e,this._options)}getModel(){var e,t;return(t=(e=this._diffModel.get())===null||e===void 0?void 0:e.model)!==null&&t!==void 0?t:null}setModel(e,t){!e&&this._diffModel.get()&&this._accessibleDiffViewer.get().close();const i=e?"model"in e?{model:e,shouldDispose:!1}:{model:this.createViewModel(e),shouldDispose:!0}:void 0;this._diffModel.get()!==(i==null?void 0:i.model)&&RS(t,r=>{var o;dn.batchEventsGlobally(r,()=>{this._editors.original.setModel(i?i.model.model.original:null),this._editors.modified.setModel(i?i.model.model.modified:null)});const s=this._diffModel.get(),a=this._shouldDisposeDiffModel;this._shouldDisposeDiffModel=(o=i==null?void 0:i.shouldDispose)!==null&&o!==void 0?o:!1,this._diffModel.set(i==null?void 0:i.model,r),a&&(s==null||s.dispose())})}updateOptions(e){this._options.updateOptions(e)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var e;const t=(e=this._diffModel.get())===null||e===void 0?void 0:e.diff.get();return t?NBe(t):null}revert(e){if(e.innerChanges){this.revertRangeMappings(e.innerChanges);return}const t=this._diffModel.get();!t||!t.isDiffUpToDate.get()||this._editors.modified.executeEdits("diffEditor",[{range:e.modified.toExclusiveRange(),text:t.model.original.getValueInRange(e.original.toExclusiveRange())}])}revertRangeMappings(e){const t=this._diffModel.get();if(!t||!t.isDiffUpToDate.get())return;const i=e.map(r=>({range:r.modifiedRange,text:t.model.original.getValueInRange(r.originalRange)}));this._editors.modified.executeEdits("diffEditor",i)}_goTo(e){this._editors.modified.setPosition(new re(e.lineRangeMapping.modified.startLineNumber,1)),this._editors.modified.revealRangeInCenter(e.lineRangeMapping.modified.toExclusiveRange())}goToDiff(e){var t,i,r,o;const s=(i=(t=this._diffModel.get())===null||t===void 0?void 0:t.diff.get())===null||i===void 0?void 0:i.mappings;if(!s||s.length===0)return;const a=this._editors.modified.getPosition().lineNumber;let l;e==="next"?l=(r=s.find(c=>c.lineRangeMapping.modified.startLineNumber>a))!==null&&r!==void 0?r:s[0]:l=(o=K1(s,c=>c.lineRangeMapping.modified.startLineNumber<a))!==null&&o!==void 0?o:s[s.length-1],this._goTo(l),l.lineRangeMapping.modified.isEmpty?this._audioCueService.playAudioCue(Pt.diffLineDeleted,{source:"diffEditor.goToDiff"}):l.lineRangeMapping.original.isEmpty?this._audioCueService.playAudioCue(Pt.diffLineInserted,{source:"diffEditor.goToDiff"}):l&&this._audioCueService.playAudioCue(Pt.diffLineModified,{source:"diffEditor.goToDiff"})}revealFirstDiff(){const e=this._diffModel.get();e&&this.waitForDiff().then(()=>{var t;const i=(t=e.diff.get())===null||t===void 0?void 0:t.mappings;!i||i.length===0||this._goTo(i[0])})}accessibleDiffViewerNext(){this._accessibleDiffViewer.get().next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.get().prev()}async waitForDiff(){const e=this._diffModel.get();e&&await e.waitForDiff()}mapToOtherSide(){var e,t;const i=this._editors.modified.hasWidgetFocus(),r=i?this._editors.modified:this._editors.original,o=i?this._editors.original:this._editors.modified;let s;const a=r.getSelection();if(a){const l=(t=(e=this._diffModel.get())===null||e===void 0?void 0:e.diff.get())===null||t===void 0?void 0:t.mappings.map(c=>i?c.lineRangeMapping.flip():c.lineRangeMapping);if(l){const c=fY(a.getStartPosition(),l),d=fY(a.getEndPosition(),l);s=B.plusRange(c,d)}}return{destination:o,destinationSelection:s}}switchSide(){const{destination:e,destinationSelection:t}=this.mapToOtherSide();e.focus(),t&&e.setSelection(t)}exitCompareMove(){const e=this._diffModel.get();e&&e.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){var e;const t=(e=this._diffModel.get())===null||e===void 0?void 0:e.unchangedRegions.get();t&&Vi(i=>{for(const r of t)r.collapseAll(i)})}showAllUnchangedRegions(){var e;const t=(e=this._diffModel.get())===null||e===void 0?void 0:e.unchangedRegions.get();t&&Vi(i=>{for(const r of t)r.showAll(i)})}};Ug=IBe([LC(3,_t),LC(4,dt),LC(5,ai),LC(6,mp),LC(7,pp)],Ug);function NBe(n){return n.mappings.map(e=>{const t=e.lineRangeMapping;let i,r,o,s,a=t.innerChanges;return t.original.isEmpty?(i=t.original.startLineNumber-1,r=0,a=void 0):(i=t.original.startLineNumber,r=t.original.endLineNumberExclusive-1),t.modified.isEmpty?(o=t.modified.startLineNumber-1,s=0,a=void 0):(o=t.modified.startLineNumber,s=t.modified.endLineNumberExclusive-1),{originalStartLineNumber:i,originalEndLineNumber:r,modifiedStartLineNumber:o,modifiedEndLineNumber:s,charChanges:a==null?void 0:a.map(l=>({originalStartLineNumber:l.originalRange.startLineNumber,originalStartColumn:l.originalRange.startColumn,originalEndLineNumber:l.originalRange.endLineNumber,originalEndColumn:l.originalRange.endColumn,modifiedStartLineNumber:l.modifiedRange.startLineNumber,modifiedStartColumn:l.modifiedRange.startColumn,modifiedEndLineNumber:l.modifiedRange.endLineNumber,modifiedEndColumn:l.modifiedRange.endColumn}))}})}var dH=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Ki=function(n,e){return function(t,i){e(t,i,n)}};let PBe=0,TY=!1;function MBe(n){if(!n){if(TY)return;TY=!0}CIe(n||wi.document.body)}let rN=class extends Ab{constructor(e,t,i,r,o,s,a,l,c,d,u,h){const f={...t};f.ariaLabel=f.ariaLabel||DI.editorViewAccessibleLabel,f.ariaLabel=f.ariaLabel+";"+DI.accessibilityHelpMessage,super(e,f,{},i,r,o,s,l,c,d,u,h),a instanceof jb?this._standaloneKeybindingService=a:this._standaloneKeybindingService=null,MBe(f.ariaContainerElement)}addCommand(e,t,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const r="DYNAMIC_"+ ++PBe,o=we.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(r,e,t,o),r}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if(typeof e.id!="string"||typeof e.label!="string"||typeof e.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),ce.None;const t=e.id,i=e.label,r=we.and(we.equals("editorId",this.getId()),we.deserialize(e.precondition)),o=e.keybindings,s=we.and(r,we.deserialize(e.keybindingContext)),a=e.contextMenuGroupId||null,l=e.contextMenuOrder||0,c=(f,...g)=>Promise.resolve(e.run(this,...g)),d=new xe,u=this.getId()+":"+t;if(d.add(Gt.registerCommand(u,c)),a){const f={command:{id:u,title:i},when:r,group:a,order:l};d.add(Rr.appendMenuItem(H.EditorContext,f))}if(Array.isArray(o))for(const f of o)d.add(this._standaloneKeybindingService.addDynamicKeybinding(u,f,c,s));const h=new Gle(u,i,i,void 0,r,(...f)=>Promise.resolve(e.run(this,...f)),this._contextKeyService);return this._actions.set(t,h),d.add(at(()=>{this._actions.delete(t)})),d}_triggerCommand(e,t){if(this._codeEditorService instanceof _I)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};rN=dH([Ki(2,dt),Ki(3,ai),Ki(4,fn),Ki(5,_t),Ki(6,xi),Ki(7,mr),Ki(8,Rn),Ki(9,Gl),Ki(10,Pi),Ki(11,qe)],rN);let K9=class extends rN{constructor(e,t,i,r,o,s,a,l,c,d,u,h,f,g,_){const y={...t};XI(d,y,!1);const m=l.registerEditorContainer(e);typeof y.theme=="string"&&l.setTheme(y.theme),typeof y.autoDetectHighContrast<"u"&&l.setAutoDetectHighContrast(!!y.autoDetectHighContrast);const p=y.model;delete y.model,super(e,y,i,r,o,s,a,l,c,u,g,_),this._configurationService=d,this._standaloneThemeService=l,this._register(m);let v;if(typeof p>"u"){const b=f.getLanguageIdByMimeType(y.language)||y.language||Sa;v=eue(h,f,y.value||"",b,void 0),this._ownsModel=!0}else v=p,this._ownsModel=!1;if(this._attachModel(v),v){const b={oldModelUrl:null,newModelUrl:v.uri};this._onDidChangeModel.fire(b)}}dispose(){super.dispose()}updateOptions(e){XI(this._configurationService,e,!1),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!e.autoDetectHighContrast),super.updateOptions(e)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};K9=dH([Ki(2,dt),Ki(3,ai),Ki(4,fn),Ki(5,_t),Ki(6,xi),Ki(7,Ma),Ki(8,Rn),Ki(9,jt),Ki(10,Gl),Ki(11,Ji),Ki(12,Zi),Ki(13,Pi),Ki(14,qe)],K9);let G9=class extends Ug{constructor(e,t,i,r,o,s,a,l,c,d,u,h){const f={...t};XI(l,f,!0);const g=s.registerEditorContainer(e);typeof f.theme=="string"&&s.setTheme(f.theme),typeof f.autoDetectHighContrast<"u"&&s.setAutoDetectHighContrast(!!f.autoDetectHighContrast),super(e,f,{},r,i,o,h,d),this._configurationService=l,this._standaloneThemeService=s,this._register(g)}dispose(){super.dispose()}updateOptions(e){XI(this._configurationService,e,!0),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!e.autoDetectHighContrast),super.updateOptions(e)}_createInnerEditor(e,t,i){return e.createInstance(rN,t,i)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};G9=dH([Ki(2,dt),Ki(3,_t),Ki(4,ai),Ki(5,Ma),Ki(6,Rn),Ki(7,jt),Ki(8,Pa),Ki(9,pp),Ki(10,Vh),Ki(11,mp)],G9);function eue(n,e,t,i,r){if(t=t||"",!i){const o=t.indexOf(`
`);let s=t;return o!==-1&&(s=t.substring(0,o)),EY(n,t,e.createByFilepathOrFirstLine(r||null,s),r)}return EY(n,t,e.createById(i),r)}function EY(n,e,t,i){return n.createModel(e,t,i)}class RBe extends ce{constructor(e,t,i={orientation:0}){super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new dLe),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new xe),this.options=i,this.lookupKeybindings=typeof this.options.getKeyBinding=="function",this.toggleMenuAction=this._register(new FS(()=>{var r;return(r=this.toggleMenuActionViewItem)===null||r===void 0?void 0:r.show()},i.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",e.appendChild(this.element),this.actionBar=this._register(new sl(this.element,{orientation:i.orientation,ariaLabel:i.ariaLabel,actionRunner:i.actionRunner,allowContextMenu:i.allowContextMenu,highlightToggledItems:i.highlightToggledItems,actionViewItemProvider:(r,o)=>{var s;if(r.id===FS.ID)return this.toggleMenuActionViewItem=new II(r,r.menuActions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:lt.asClassNameArray((s=i.moreIcon)!==null&&s!==void 0?s:Ae.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,isMenu:!0}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(i.actionViewItemProvider){const a=i.actionViewItemProvider(r,o);if(a)return a}if(r instanceof yb){const a=new II(r,r.actions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:r.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry});return a.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(a),this.disposables.add(this._onDidChangeDropdownVisibility.add(a.onDidChangeVisibility)),a}}}))}set actionRunner(e){this.actionBar.actionRunner=e}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(e){return this.actionBar.getAction(e)}setActions(e,t){this.clear();const i=e?e.slice(0):[];this.hasSecondaryActions=!!(t&&t.length>0),this.hasSecondaryActions&&t&&(this.toggleMenuAction.menuActions=t.slice(0),i.push(this.toggleMenuAction)),i.forEach(r=>{this.actionBar.push(r,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(r)})})}getKeybindingLabel(e){var t,i,r;const o=this.lookupKeybindings?(i=(t=this.options).getKeyBinding)===null||i===void 0?void 0:i.call(t,e):void 0;return(r=o==null?void 0:o.getLabel())!==null&&r!==void 0?r:void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}class FS extends Fs{constructor(e,t){t=t||w("moreActions","More Actions..."),super(FS.ID,t,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=e}async run(){this.toggleDropdownMenu()}get menuActions(){return this._menuActions}set menuActions(e){this._menuActions=e}}FS.ID="toolbar.toggle.more";var tue=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Od=function(n,e){return function(t,i){e(t,i,n)}};let oN=class extends RBe{constructor(e,t,i,r,o,s,a){super(e,o,{getKeyBinding:c=>{var d;return(d=s.lookupKeybinding(c.id))!==null&&d!==void 0?d:void 0},...t,allowContextMenu:!0,skipTelemetry:typeof(t==null?void 0:t.telemetrySource)=="string"}),this._options=t,this._menuService=i,this._contextKeyService=r,this._contextMenuService=o,this._sessionDisposables=this._store.add(new xe);const l=t==null?void 0:t.telemetrySource;l&&this._store.add(this.actionBar.onDidRun(c=>a.publicLog2("workbenchActionExecuted",{id:c.action.id,from:l})))}setActions(e,t=[],i){var r,o,s;this._sessionDisposables.clear();const a=e.slice(),l=t.slice(),c=[];let d=0;const u=[];let h=!1;if(((r=this._options)===null||r===void 0?void 0:r.hiddenItemStrategy)!==-1)for(let f=0;f<a.length;f++){const g=a[f];!(g instanceof Ul)&&!(g instanceof j1)||g.hideActions&&(c.push(g.hideActions.toggle),g.hideActions.toggle.checked&&d++,g.hideActions.isHidden&&(h=!0,a[f]=void 0,((o=this._options)===null||o===void 0?void 0:o.hiddenItemStrategy)!==0&&(u[f]=g)))}if(((s=this._options)===null||s===void 0?void 0:s.overflowBehavior)!==void 0){const f=KFe(new Set(this._options.overflowBehavior.exempted),Kt.map(a,y=>y==null?void 0:y.id)),g=this._options.overflowBehavior.maxItems-f.size;let _=0;for(let y=0;y<a.length;y++){const m=a[y];m&&(_++,!f.has(m.id)&&_>=g&&(a[y]=void 0,u[y]=m))}}dq(a),dq(u),super.setActions(a,rr.join(u,l)),c.length>0&&this._sessionDisposables.add(ge(this.getElement(),"contextmenu",f=>{var g,_,y,m,p;const v=new Ml(ht(this.getElement()),f),b=this.getItemAction(v.target);if(!b)return;v.preventDefault(),v.stopPropagation();let C=!1;if(d===1&&((g=this._options)===null||g===void 0?void 0:g.hiddenItemStrategy)===0){C=!0;for(let k=0;k<c.length;k++)if(c[k].checked){c[k]=Ev({id:b.id,label:b.label,checked:!0,enabled:!1,run(){}});break}}let S;if(!C&&(b instanceof Ul||b instanceof j1)){if(!b.hideActions)return;S=b.hideActions.hide}else S=Ev({id:"label",label:w("hide","Hide"),enabled:!1,run(){}});const x=rr.join([S],c);!((_=this._options)===null||_===void 0)&&_.resetMenu&&!i&&(i=[this._options.resetMenu]),h&&i&&(x.push(new rr),x.push(Ev({id:"resetThisMenu",label:w("resetThisMenu","Reset Menu"),run:()=>this._menuService.resetHiddenStates(i)}))),this._contextMenuService.showContextMenu({getAnchor:()=>v,getActions:()=>x,menuId:(y=this._options)===null||y===void 0?void 0:y.contextMenu,menuActionOptions:{renderShortTitle:!0,...(m=this._options)===null||m===void 0?void 0:m.menuOptions},skipTelemetry:typeof((p=this._options)===null||p===void 0?void 0:p.telemetrySource)=="string",contextKeyService:this._contextKeyService})}))}};oN=tue([Od(2,ed),Od(3,_t),Od(4,Pa),Od(5,xi),Od(6,qs)],oN);let Z9=class extends oN{constructor(e,t,i,r,o,s,a,l){super(e,{resetMenu:t,...i},r,o,s,a,l),this._onDidChangeMenuItems=this._store.add(new ne);const c=this._store.add(r.createMenu(t,o,{emitEventsForSubmenuChanges:!0})),d=()=>{var u,h,f;const g=[],_=[];NV(c,i==null?void 0:i.menuOptions,{primary:g,secondary:_},(u=i==null?void 0:i.toolbarOptions)===null||u===void 0?void 0:u.primaryGroup,(h=i==null?void 0:i.toolbarOptions)===null||h===void 0?void 0:h.shouldInlineSubmenu,(f=i==null?void 0:i.toolbarOptions)===null||f===void 0?void 0:f.useSeparatorsInPrimaryActions),e.classList.toggle("has-no-actions",g.length===0&&_.length===0),super.setActions(g,_)};this._store.add(c.onDidChange(()=>{d(),this._onDidChangeMenuItems.fire(this)})),d()}setActions(){throw new Xi("This toolbar is populated from a menu.")}};Z9=tue([Od(3,ed),Od(4,_t),Od(5,Pa),Od(6,xi),Od(7,qs)],Z9);class ABe extends qm{constructor(e){super(),this._getContext=e}runAction(e,t){return super.runAction(e,this._getContext())}}var OBe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},FBe=function(n,e){return function(t,i){e(t,i,n)}};class BBe{constructor(e){this.viewModel=e}getId(){return this.viewModel}}let sN=class extends ce{constructor(e,t,i,r){super(),this._container=e,this._overflowWidgetsDomNode=t,this._workbenchUIElementFactory=i,this._instantiationService=r,this._viewModel=si(this,void 0),this._collapsed=It(this,s=>{var a;return(a=this._viewModel.read(s))===null||a===void 0?void 0:a.collapsed.read(s)}),this._editorContentHeight=si(this,500),this.contentHeight=It(this,s=>(this._collapsed.read(s)?0:this._editorContentHeight.read(s))+this._outerEditorHeight),this._modifiedContentWidth=si(this,0),this._modifiedWidth=si(this,0),this._originalContentWidth=si(this,0),this._originalWidth=si(this,0),this.maxScroll=It(this,s=>{const a=this._modifiedContentWidth.read(s)-this._modifiedWidth.read(s),l=this._originalContentWidth.read(s)-this._originalWidth.read(s);return a>l?{maxScroll:a,width:this._modifiedWidth.read(s)}:{maxScroll:l,width:this._originalWidth.read(s)}}),this._elements=Ri("div.multiDiffEntry",[Ri("div.header@header",[Ri("div.collapse-button@collapseButton"),Ri("div.file-path",[Ri("div.title.modified.show-file-icons@primaryPath",[]),Ri("div.status.deleted@status",["R"]),Ri("div.title.original.show-file-icons@secondaryPath",[])]),Ri("div.actions@actions")]),Ri("div.editorParent",[Ri("div.editorContainer@editor")])]),this.editor=this._register(this._instantiationService.createInstance(Ug,this._elements.editor,{overflowWidgetsDomNode:this._overflowWidgetsDomNode},{})),this.isModifedFocused=IY(this.editor.getModifiedEditor()),this.isOriginalFocused=IY(this.editor.getOriginalEditor()),this.isFocused=It(this,s=>this.isModifedFocused.read(s)||this.isOriginalFocused.read(s)),this._resourceLabel=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.primaryPath)):void 0,this._resourceLabel2=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.secondaryPath)):void 0,this._dataStore=new xe,this._headerHeight=38;const o=new KI(this._elements.collapseButton,{});this._register(hi(s=>{o.element.className="",o.icon=this._collapsed.read(s)?Ae.chevronRight:Ae.chevronDown})),this._register(o.onDidClick(()=>{var s;(s=this._viewModel.get())===null||s===void 0||s.collapsed.set(!this._collapsed.get(),void 0)})),this._register(hi(s=>{this._elements.editor.style.display=this._collapsed.read(s)?"none":"block"})),this.editor.getModifiedEditor().onDidLayoutChange(s=>{const a=this.editor.getModifiedEditor().getLayoutInfo().contentWidth;this._modifiedWidth.set(a,void 0)}),this.editor.getOriginalEditor().onDidLayoutChange(s=>{const a=this.editor.getOriginalEditor().getLayoutInfo().contentWidth;this._originalWidth.set(a,void 0)}),this._register(this.editor.onDidContentSizeChange(s=>{DT(a=>{this._editorContentHeight.set(s.contentHeight,a),this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(),a),this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(),a)})})),this._register(hi(s=>{const a=this.isFocused.read(s);this._elements.root.classList.toggle("focused",a)})),this._container.appendChild(this._elements.root),this._outerEditorHeight=38,this._register(this._instantiationService.createInstance(Z9,this._elements.actions,H.MultiDiffEditorFileToolbar,{actionRunner:this._register(new ABe(()=>{var s;return(s=this._viewModel.get())===null||s===void 0?void 0:s.modifiedUri})),menuOptions:{shouldForwardArgs:!0},toolbarOptions:{primaryGroup:s=>s.startsWith("navigation")}}))}setScrollLeft(e){this._modifiedContentWidth.get()-this._modifiedWidth.get()>this._originalContentWidth.get()-this._originalWidth.get()?this.editor.getModifiedEditor().setScrollLeft(e):this.editor.getOriginalEditor().setScrollLeft(e)}setData(e){function t(r){return{...r,scrollBeyondLastLine:!1,hideUnchangedRegions:{enabled:!0},scrollbar:{vertical:"hidden",horizontal:"hidden",handleMouseWheel:!1,useShadows:!1},renderOverviewRuler:!1,fixedOverflowWidgets:!0,overviewRulerBorder:!1}}const i=e.viewModel.entry.value;i.onOptionsDidChange&&this._dataStore.add(i.onOptionsDidChange(()=>{var r;this.editor.updateOptions(t((r=i.options)!==null&&r!==void 0?r:{}))})),DT(r=>{var o,s,a,l;(o=this._resourceLabel)===null||o===void 0||o.setUri((s=e.viewModel.modifiedUri)!==null&&s!==void 0?s:e.viewModel.originalUri,{strikethrough:e.viewModel.modifiedUri===void 0});let c=!1,d=!1,u=!1,h="";e.viewModel.modifiedUri&&e.viewModel.originalUri&&e.viewModel.modifiedUri.path!==e.viewModel.originalUri.path?(h="R",c=!0):e.viewModel.modifiedUri?e.viewModel.originalUri||(h="A",u=!0):(h="D",d=!0),this._elements.status.classList.toggle("renamed",c),this._elements.status.classList.toggle("deleted",d),this._elements.status.classList.toggle("added",u),this._elements.status.innerText=h,(a=this._resourceLabel2)===null||a===void 0||a.setUri(c?e.viewModel.originalUri:void 0,{strikethrough:!0}),this._dataStore.clear(),this._viewModel.set(e.viewModel,r),this.editor.setModel(e.viewModel.diffEditorViewModel,r),this.editor.updateOptions(t((l=i.options)!==null&&l!==void 0?l:{}))})}render(e,t,i,r){this._elements.root.style.visibility="visible",this._elements.root.style.top=`${e.start}px`,this._elements.root.style.height=`${e.length}px`,this._elements.root.style.width=`${t}px`,this._elements.root.style.position="absolute";const o=Math.max(0,Math.min(e.length-this._headerHeight,r.start-e.start));this._elements.header.style.transform=`translateY(${o}px)`,DT(s=>{this.editor.layout({width:t,height:e.length-this._outerEditorHeight})}),this.editor.getOriginalEditor().setScrollTop(i),this._elements.header.classList.toggle("shadow",o>0||i>0)}hide(){this._elements.root.style.top="-100000px",this._elements.root.style.visibility="hidden"}};sN=OBe([FBe(3,dt)],sN);function IY(n){return dn(e=>{const t=new xe;return t.add(n.onDidFocusEditorWidget(()=>e(!0))),t.add(n.onDidBlurEditorWidget(()=>e(!1))),t},()=>n.hasWidgetFocus())}class WBe{constructor(e){this._create=e,this._unused=new Set,this._used=new Set,this._itemData=new Map}getUnusedObj(e){var t;let i;if(this._unused.size===0)i=this._create(e),this._itemData.set(i,e);else{const r=[...this._unused.values()];i=(t=r.find(o=>this._itemData.get(o).getId()===e.getId()))!==null&&t!==void 0?t:r[0],this._unused.delete(i),this._itemData.set(i,e),i.setData(e)}return this._used.add(i),{object:i,dispose:()=>{this._used.delete(i),this._unused.size>5?i.dispose():this._unused.add(i)}}}dispose(){for(const e of this._used)e.dispose();for(const e of this._unused)e.dispose();this._used.clear(),this._unused.clear()}}var VBe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},NY=function(n,e){return function(t,i){e(t,i,n)}};let Y9=class extends ce{constructor(e,t,i,r,o,s){super(),this._element=e,this._dimension=t,this._viewModel=i,this._workbenchUIElementFactory=r,this._parentContextKeyService=o,this._parentInstantiationService=s,this._elements=Ri("div.monaco-component.multiDiffEditor",[Ri("div@content",{style:{overflow:"hidden"}}),Ri("div.monaco-editor@overflowWidgetsDomNode",{})]),this._sizeObserver=this._register(new Gde(this._element,void 0)),this._objectPool=this._register(new WBe(l=>{const c=this._instantiationService.createInstance(sN,this._elements.content,this._elements.overflowWidgetsDomNode,this._workbenchUIElementFactory);return c.setData(l),c})),this._scrollable=this._register(new xy({forceIntegerValues:!1,scheduleAtNextAnimationFrame:l=>Hs(ht(this._element),l),smoothScrollDuration:100})),this._scrollableElement=this._register(new ZP(this._elements.root,{vertical:1,horizontal:1,useShadows:!1},this._scrollable)),this.scrollTop=dn(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollTop),this.scrollLeft=dn(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollLeft),this._viewItems=Ey(this,(l,c)=>{const d=this._viewModel.read(l);return d?d.items.read(l).map(h=>{var f;const g=c.add(new HBe(h,this._objectPool,this.scrollLeft)),_=(f=this._lastDocStates)===null||f===void 0?void 0:f[g.getKey()];return _&&Vi(y=>{g.setViewState(_,y)}),g}):[]}),this._spaceBetweenPx=10,this._totalHeight=this._viewItems.map(this,(l,c)=>l.reduce((d,u)=>d+u.contentHeight.read(c)+this._spaceBetweenPx,0)),this.activeDiffItem=It(this,l=>this._viewItems.read(l).find(c=>{var d;return(d=c.template.read(l))===null||d===void 0?void 0:d.isFocused.read(l)})),this.lastActiveDiffItem=U8e((l,c)=>{var d;return(d=this.activeDiffItem.read(l))!==null&&d!==void 0?d:c}),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._element)),this._instantiationService=this._parentInstantiationService.createChild(new Gx([_t,this._contextKeyService])),this._lastDocStates={},this._contextKeyService.createKey(j.inMultiDiffEditor.key,!0),this._register(Cu((l,c)=>{const d=this._viewModel.read(l);if(d&&d.contextKeys)for(const[u,h]of Object.entries(d.contextKeys)){const f=this._contextKeyService.createKey(u,void 0);f.set(h),c.add(at(()=>f.reset()))}}));const a=this._parentContextKeyService.createKey(j.multiDiffEditorAllCollapsed.key,!1);this._register(hi(l=>{const c=this._viewModel.read(l);if(c){const d=c.items.read(l).every(u=>u.collapsed.read(l));a.set(d)}})),this._register(hi(l=>{const c=this.lastActiveDiffItem.read(l);Vi(d=>{var u;(u=this._viewModel.read(l))===null||u===void 0||u.activeDiffItem.set(c==null?void 0:c.viewModel,d)})})),this._register(hi(l=>{const c=this._dimension.read(l);this._sizeObserver.observe(c)})),this._elements.content.style.position="relative",this._register(hi(l=>{const c=this._sizeObserver.height.read(l);this._elements.root.style.height=`${c}px`;const d=this._totalHeight.read(l);this._elements.content.style.height=`${d}px`;const u=this._sizeObserver.width.read(l);let h=u;const f=this._viewItems.read(l),g=S6(f,_=>_.maxScroll.read(l).maxScroll);if(g){const _=g.maxScroll.read(l);h=u+_.maxScroll}this._scrollableElement.setScrollDimensions({width:u,height:c,scrollHeight:d,scrollWidth:h})})),e.replaceChildren(this._scrollableElement.getDomNode()),this._register(at(()=>{e.replaceChildren()})),this._register(this._register(hi(l=>{DT(c=>{this.render(l)})})))}render(e){const t=this.scrollTop.read(e);let i=0,r=0,o=0;const s=this._sizeObserver.height.read(e),a=Bt.ofStartAndLength(t,s),l=this._sizeObserver.width.read(e);for(const c of this._viewItems.read(e)){const d=c.contentHeight.read(e),u=Math.min(d,s),h=Bt.ofStartAndLength(r,u),f=Bt.ofStartAndLength(o,d);if(f.isBefore(a))i-=d-u,c.hide();else if(f.isAfter(a))c.hide();else{const g=Math.max(0,Math.min(a.start-f.start,d-u));i-=g;const _=Bt.ofStartAndLength(t+i,s);c.render(h,g,l,_)}r+=u+this._spaceBetweenPx,o+=d+this._spaceBetweenPx}this._elements.content.style.transform=`translateY(${-(t+i)}px)`}};Y9=VBe([NY(4,_t),NY(5,dt)],Y9);class HBe extends ce{constructor(e,t,i){super(),this.viewModel=e,this._objectPool=t,this._scrollLeft=i,this._templateRef=this._register(QI(this,void 0)),this.contentHeight=It(this,r=>{var o,s,a;return(a=(s=(o=this._templateRef.read(r))===null||o===void 0?void 0:o.object.contentHeight)===null||s===void 0?void 0:s.read(r))!==null&&a!==void 0?a:this.viewModel.lastTemplateData.read(r).contentHeight}),this.maxScroll=It(this,r=>{var o,s;return(s=(o=this._templateRef.read(r))===null||o===void 0?void 0:o.object.maxScroll.read(r))!==null&&s!==void 0?s:{maxScroll:0,scrollWidth:0}}),this.template=It(this,r=>{var o;return(o=this._templateRef.read(r))===null||o===void 0?void 0:o.object}),this._isHidden=si(this,!1),this._register(hi(r=>{var o;const s=this._scrollLeft.read(r);(o=this._templateRef.read(r))===null||o===void 0||o.object.setScrollLeft(s)})),this._register(hi(r=>{const o=this._templateRef.read(r);!o||!this._isHidden.read(r)||o.object.isFocused.read(r)||this._clear()}))}dispose(){this._clear(),super.dispose()}toString(){var e;return`VirtualViewItem(${(e=this.viewModel.entry.value.modified)===null||e===void 0?void 0:e.uri.toString()})`}getKey(){return this.viewModel.getKey()}setViewState(e,t){var i;this.viewModel.collapsed.set(e.collapsed,t),this._updateTemplateData(t);const r=this.viewModel.lastTemplateData.get(),o=(i=e.selections)===null||i===void 0?void 0:i.map(Ke.liftSelection);this.viewModel.lastTemplateData.set({...r,selections:o},t);const s=this._templateRef.get();s&&o&&s.object.editor.setSelections(o)}_updateTemplateData(e){var t;const i=this._templateRef.get();i&&this.viewModel.lastTemplateData.set({contentHeight:i.object.contentHeight.get(),selections:(t=i.object.editor.getSelections())!==null&&t!==void 0?t:void 0},e)}_clear(){const e=this._templateRef.get();e&&Vi(t=>{this._updateTemplateData(t),e.object.hide(),this._templateRef.set(void 0,t)})}hide(){this._isHidden.set(!0,void 0)}render(e,t,i,r){this._isHidden.set(!1,void 0);let o=this._templateRef.get();if(!o){o=this._objectPool.getUnusedObj(new BBe(this.viewModel)),this._templateRef.set(o,void 0);const s=this.viewModel.lastTemplateData.get().selections;s&&o.object.editor.setSelections(s)}o.object.render(e,i,t,r)}}U("multiDiffEditor.headerBackground",{dark:"#808080",light:"#b4b4b4",hcDark:"#808080",hcLight:"#b4b4b4"},w("multiDiffEditor.headerBackground","The background color of the diff editor's header"));U("multiDiffEditor.background",{dark:"#000000",light:"#e5e5e5",hcDark:"#000000",hcLight:"#e5e5e5"},w("multiDiffEditor.background","The background color of the multi file diff editor"));U("multiDiffEditor.border",{dark:"sideBarSectionHeader.border",light:"#cccccc",hcDark:"sideBarSectionHeader.border",hcLight:"#cccccc"},w("multiDiffEditor.border","The border color of the multi file diff editor"));var zBe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},jBe=function(n,e){return function(t,i){e(t,i,n)}};let X9=class extends ce{constructor(e,t,i){super(),this._element=e,this._workbenchUIElementFactory=t,this._instantiationService=i,this._dimension=si(this,void 0),this._viewModel=si(this,void 0),this._widgetImpl=Ey(this,(r,o)=>(kd(sN,r),o.add(this._instantiationService.createInstance(kd(Y9,r),this._element,this._dimension,this._viewModel,this._workbenchUIElementFactory)))),this._register(lL(this._widgetImpl))}};X9=zBe([jBe(2,dt)],X9);function UBe(n,e,t){return ft.initialize(t||{}).createInstance(K9,n,e)}function $Be(n){return ft.get(ai).onCodeEditorAdd(t=>{n(t)})}function qBe(n){return ft.get(ai).onDiffEditorAdd(t=>{n(t)})}function KBe(){return ft.get(ai).listCodeEditors()}function GBe(){return ft.get(ai).listDiffEditors()}function ZBe(n,e,t){return ft.initialize(t||{}).createInstance(G9,n,e)}function YBe(n,e){const t=ft.initialize(e||{});return new X9(n,{},t)}function XBe(n){if(typeof n.id!="string"||typeof n.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return Gt.registerCommand(n.id,n.run)}function QBe(n){if(typeof n.id!="string"||typeof n.label!="string"||typeof n.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const e=we.deserialize(n.precondition),t=(r,...o)=>kr.runEditorCommand(r,o,e,(s,a,l)=>Promise.resolve(n.run(a,...l))),i=new xe;if(i.add(Gt.registerCommand(n.id,t)),n.contextMenuGroupId){const r={command:{id:n.id,title:n.label},when:e,group:n.contextMenuGroupId,order:n.contextMenuOrder||0};i.add(Rr.appendMenuItem(H.EditorContext,r))}if(Array.isArray(n.keybindings)){const r=ft.get(xi);if(!(r instanceof jb))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const o=we.and(e,we.deserialize(n.keybindingContext));i.add(r.addDynamicKeybindings(n.keybindings.map(s=>({keybinding:s,command:n.id,when:o}))))}}return i}function JBe(n){return iue([n])}function iue(n){const e=ft.get(xi);return e instanceof jb?e.addDynamicKeybindings(n.map(t=>({keybinding:t.keybinding,command:t.command,commandArgs:t.commandArgs,when:we.deserialize(t.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),ce.None)}function e7e(n,e,t){const i=ft.get(Zi),r=i.getLanguageIdByMimeType(e)||e;return eue(ft.get(Ji),i,n,r,t)}function t7e(n,e){const t=ft.get(Zi),i=t.getLanguageIdByMimeType(e)||e||Sa;n.setLanguage(t.createById(i))}function i7e(n,e,t){n&&ft.get(yu).changeOne(e,n.uri,t)}function n7e(n){ft.get(yu).changeAll(n,[])}function r7e(n){return ft.get(yu).read(n)}function o7e(n){return ft.get(yu).onMarkerChanged(n)}function s7e(n){return ft.get(Ji).getModel(n)}function a7e(){return ft.get(Ji).getModels()}function l7e(n){return ft.get(Ji).onModelAdded(n)}function c7e(n){return ft.get(Ji).onModelRemoved(n)}function d7e(n){return ft.get(Ji).onModelLanguageChanged(t=>{n({model:t.model,oldLanguage:t.oldLanguageId})})}function u7e(n){return ZEe(ft.get(Ji),ft.get(Pi),n)}function h7e(n,e){const t=ft.get(Zi),i=ft.get(Ma);return N6.colorizeElement(i,t,n,e).then(()=>{i.registerEditorContainer(n)})}function f7e(n,e,t){const i=ft.get(Zi);return ft.get(Ma).registerEditorContainer(wi.document.body),N6.colorize(i,n,e,t)}function g7e(n,e,t=4){return ft.get(Ma).registerEditorContainer(wi.document.body),N6.colorizeModelLine(n,e,t)}function p7e(n){const e=ln.get(n);return e||{getInitialState:()=>kb,tokenize:(t,i,r)=>T6(n,r)}}function m7e(n,e){ln.getOrCreate(e);const t=p7e(e),i=su(n),r=[];let o=t.getInitialState();for(let s=0,a=i.length;s<a;s++){const l=i[s],c=t.tokenize(l,!0,o);r[s]=c.tokens,o=c.endState}return r}function _7e(n,e){ft.get(Ma).defineTheme(n,e)}function v7e(n){ft.get(Ma).setTheme(n)}function b7e(){xF.clearAllFontInfos()}function y7e(n,e){return Gt.registerCommand({id:n,handler:e})}function C7e(n){return ft.get(ws).registerOpener({async open(t){return typeof t=="string"&&(t=rt.parse(t)),n.open(t)}})}function w7e(n){return ft.get(ai).registerCodeEditorOpenHandler(async(t,i,r)=>{var o;if(!i)return null;const s=(o=t.options)===null||o===void 0?void 0:o.selection;let a;return s&&typeof s.endLineNumber=="number"&&typeof s.endColumn=="number"?a=s:s&&(a={lineNumber:s.startLineNumber,column:s.startColumn}),await n.openCodeEditor(i,t.resource,a)?i:null})}function S7e(){return{create:UBe,getEditors:KBe,getDiffEditors:GBe,onDidCreateEditor:$Be,onDidCreateDiffEditor:qBe,createDiffEditor:ZBe,addCommand:XBe,addEditorAction:QBe,addKeybindingRule:JBe,addKeybindingRules:iue,createModel:e7e,setModelLanguage:t7e,setModelMarkers:i7e,getModelMarkers:r7e,removeAllMarkers:n7e,onDidChangeMarkers:o7e,getModels:a7e,getModel:s7e,onDidCreateModel:l7e,onWillDisposeModel:c7e,onDidChangeModelLanguage:d7e,createWebWorker:u7e,colorizeElement:h7e,colorize:f7e,colorizeModelLine:g7e,tokenize:m7e,defineTheme:_7e,setTheme:v7e,remeasureFonts:b7e,registerCommand:y7e,registerLinkOpener:C7e,registerEditorOpener:w7e,AccessibilitySupport:A4,ContentWidgetPositionPreference:H4,CursorChangeReason:z4,DefaultEndOfLine:j4,EditorAutoIndentStrategy:$4,EditorOption:q4,EndOfLinePreference:K4,EndOfLineSequence:G4,MinimapPosition:nF,MouseTargetType:rF,OverlayWidgetPositionPreference:oF,OverviewRulerLane:sF,GlyphMarginLane:Z4,RenderLineNumbersType:lF,RenderMinimap:cF,ScrollbarVisibility:uF,ScrollType:dF,TextEditorCursorBlinkingStyle:_F,TextEditorCursorStyle:vF,TrackedRangeStickiness:bF,WrappingIndent:yF,InjectedTextCursorStops:X4,PositionAffinity:aF,ShowLightbulbIconMode:fF,ConfigurationChangedEvent:Dse,BareFontInfo:wm,FontInfo:SF,TextModelResolvedOptions:aT,FindMatch:q1,ApplyUpdateResult:Tw,EditorZoom:za,createMultiFileDiffEditor:YBe,EditorType:Bx,EditorOptions:Qc}}function x7e(n,e){if(!e||!Array.isArray(e))return!1;for(const t of e)if(!n(t))return!1;return!0}function nD(n,e){return typeof n=="boolean"?n:e}function PY(n,e){return typeof n=="string"?n:e}function L7e(n){const e={};for(const t of n)e[t]=!0;return e}function MY(n,e=!1){e&&(n=n.map(function(i){return i.toLowerCase()}));const t=L7e(n);return e?function(i){return t[i.toLowerCase()]!==void 0&&t.hasOwnProperty(i.toLowerCase())}:function(i){return t[i]!==void 0&&t.hasOwnProperty(i)}}function Q9(n,e){e=e.replace(/@@/g,"");let t=0,i;do i=!1,e=e.replace(/@(\w+)/g,function(o,s){i=!0;let a="";if(typeof n[s]=="string")a=n[s];else if(n[s]&&n[s]instanceof RegExp)a=n[s].source;else throw n[s]===void 0?Wi(n,"language definition does not contain attribute '"+s+"', used at: "+e):Wi(n,"attribute reference '"+s+"' must be a string, used at: "+e);return L0(a)?"":"(?:"+a+")"}),t++;while(i&&t<5);e=e.replace(/\x01/g,"@");const r=(n.ignoreCase?"i":"")+(n.unicode?"u":"");return new RegExp(e,r)}function k7e(n,e,t,i){if(i<0)return n;if(i<e.length)return e[i];if(i>=100){i=i-100;const r=t.split(".");if(r.unshift(t),i<r.length)return r[i]}return null}function D7e(n,e,t,i){let r=-1,o=t,s=t.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);s&&(s[3]&&(r=parseInt(s[3]),s[2]&&(r=r+100)),o=s[4]);let a="~",l=o;!o||o.length===0?(a="!=",l=""):/^\w*$/.test(l)?a="==":(s=o.match(/^(@|!@|~|!~|==|!=)(.*)$/),s&&(a=s[1],l=s[2]));let c;if((a==="~"||a==="!~")&&/^(\w|\|)*$/.test(l)){const d=MY(l.split("|"),n.ignoreCase);c=function(u){return a==="~"?d(u):!d(u)}}else if(a==="@"||a==="!@"){const d=n[l];if(!d)throw Wi(n,"the @ match target '"+l+"' is not defined, in rule: "+e);if(!x7e(function(h){return typeof h=="string"},d))throw Wi(n,"the @ match target '"+l+"' must be an array of strings, in rule: "+e);const u=MY(d,n.ignoreCase);c=function(h){return a==="@"?u(h):!u(h)}}else if(a==="~"||a==="!~")if(l.indexOf("$")<0){const d=Q9(n,"^"+l+"$");c=function(u){return a==="~"?d.test(u):!d.test(u)}}else c=function(d,u,h,f){return Q9(n,"^"+Ef(n,l,u,h,f)+"$").test(d)};else if(l.indexOf("$")<0){const d=hg(n,l);c=function(u){return a==="=="?u===d:u!==d}}else{const d=hg(n,l);c=function(u,h,f,g,_){const y=Ef(n,d,h,f,g);return a==="=="?u===y:u!==y}}return r===-1?{name:t,value:i,test:function(d,u,h,f){return c(d,d,u,h,f)}}:{name:t,value:i,test:function(d,u,h,f){const g=k7e(d,u,h,r);return c(g||"",d,u,h,f)}}}function J9(n,e,t){if(t){if(typeof t=="string")return t;if(t.token||t.token===""){if(typeof t.token!="string")throw Wi(n,"a 'token' attribute must be of type string, in rule: "+e);{const i={token:t.token};if(t.token.indexOf("$")>=0&&(i.tokenSubst=!0),typeof t.bracket=="string")if(t.bracket==="@open")i.bracket=1;else if(t.bracket==="@close")i.bracket=-1;else throw Wi(n,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+e);if(t.next){if(typeof t.next!="string")throw Wi(n,"the next state must be a string value in rule: "+e);{let r=t.next;if(!/^(@pop|@push|@popall)$/.test(r)&&(r[0]==="@"&&(r=r.substr(1)),r.indexOf("$")<0&&!gIe(n,Ef(n,r,"",[],""))))throw Wi(n,"the next state '"+t.next+"' is not defined in rule: "+e);i.next=r}}return typeof t.goBack=="number"&&(i.goBack=t.goBack),typeof t.switchTo=="string"&&(i.switchTo=t.switchTo),typeof t.log=="string"&&(i.log=t.log),typeof t.nextEmbedded=="string"&&(i.nextEmbedded=t.nextEmbedded,n.usesEmbedded=!0),i}}else if(Array.isArray(t)){const i=[];for(let r=0,o=t.length;r<o;r++)i[r]=J9(n,e,t[r]);return{group:i}}else if(t.cases){const i=[];for(const o in t.cases)if(t.cases.hasOwnProperty(o)){const s=J9(n,e,t.cases[o]);o==="@default"||o==="@"||o===""?i.push({test:void 0,value:s,name:o}):o==="@eos"?i.push({test:function(a,l,c,d){return d},value:s,name:o}):i.push(D7e(n,e,o,s))}const r=n.defaultToken;return{test:function(o,s,a,l){for(const c of i)if(!c.test||c.test(o,s,a,l))return c.value;return r}}}else throw Wi(n,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+e)}else return{token:""}}class T7e{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let i;if(typeof t=="string")i=t;else if(t instanceof RegExp)i=t.source;else throw Wi(e,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=i.length>0&&i[0]==="^",this.name=this.name+": "+i,this.regex=Q9(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")}setAction(e,t){this.action=J9(e,this.name,t)}}function nue(n,e){if(!e||typeof e!="object")throw new Error("Monarch: expecting a language definition object");const t={};t.languageId=n,t.includeLF=nD(e.includeLF,!1),t.noThrow=!1,t.maxStack=100,t.start=typeof e.start=="string"?e.start:null,t.ignoreCase=nD(e.ignoreCase,!1),t.unicode=nD(e.unicode,!1),t.tokenPostfix=PY(e.tokenPostfix,"."+t.languageId),t.defaultToken=PY(e.defaultToken,"source"),t.usesEmbedded=!1;const i=e;i.languageId=n,i.includeLF=t.includeLF,i.ignoreCase=t.ignoreCase,i.unicode=t.unicode,i.noThrow=t.noThrow,i.usesEmbedded=t.usesEmbedded,i.stateNames=e.tokenizer,i.defaultToken=t.defaultToken;function r(s,a,l){for(const c of l){let d=c.include;if(d){if(typeof d!="string")throw Wi(t,"an 'include' attribute must be a string at: "+s);if(d[0]==="@"&&(d=d.substr(1)),!e.tokenizer[d])throw Wi(t,"include target '"+d+"' is not defined at: "+s);r(s+"."+d,a,e.tokenizer[d])}else{const u=new T7e(s);if(Array.isArray(c)&&c.length>=1&&c.length<=3)if(u.setRegex(i,c[0]),c.length>=3)if(typeof c[1]=="string")u.setAction(i,{token:c[1],next:c[2]});else if(typeof c[1]=="object"){const h=c[1];h.next=c[2],u.setAction(i,h)}else throw Wi(t,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+s);else u.setAction(i,c[1]);else{if(!c.regex)throw Wi(t,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+s);c.name&&typeof c.name=="string"&&(u.name=c.name),c.matchOnlyAtStart&&(u.matchOnlyAtLineStart=nD(c.matchOnlyAtLineStart,!1)),u.setRegex(i,c.regex),u.setAction(i,c.action)}a.push(u)}}}if(!e.tokenizer||typeof e.tokenizer!="object")throw Wi(t,"a language definition must define the 'tokenizer' attribute as an object");t.tokenizer=[];for(const s in e.tokenizer)if(e.tokenizer.hasOwnProperty(s)){t.start||(t.start=s);const a=e.tokenizer[s];t.tokenizer[s]=new Array,r("tokenizer."+s,t.tokenizer[s],a)}if(t.usesEmbedded=i.usesEmbedded,e.brackets){if(!Array.isArray(e.brackets))throw Wi(t,"the 'brackets' attribute must be defined as an array")}else e.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const o=[];for(const s of e.brackets){let a=s;if(a&&Array.isArray(a)&&a.length===3&&(a={token:a[2],open:a[0],close:a[1]}),a.open===a.close)throw Wi(t,"open and close brackets in a 'brackets' attribute must be different: "+a.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof a.open=="string"&&typeof a.token=="string"&&typeof a.close=="string")o.push({token:a.token+t.tokenPostfix,open:hg(t,a.open),close:hg(t,a.close)});else throw Wi(t,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return t.brackets=o,t.noThrow=!0,t}function E7e(n){Sb.registerLanguage(n)}function I7e(){let n=[];return n=n.concat(Sb.getLanguages()),n}function N7e(n){return ft.get(Zi).languageIdCodec.encodeLanguageId(n)}function P7e(n,e){return ft.withServices(()=>{const i=ft.get(Zi).onDidRequestRichLanguageFeatures(r=>{r===n&&(i.dispose(),e())});return i})}function M7e(n,e){return ft.withServices(()=>{const i=ft.get(Zi).onDidRequestBasicLanguageFeatures(r=>{r===n&&(i.dispose(),e())});return i})}function R7e(n,e){if(!ft.get(Zi).isRegisteredLanguageId(n))throw new Error(`Cannot set configuration for unknown language ${n}`);return ft.get(Pi).register(n,e,100)}class A7e{constructor(e,t){this._languageId=e,this._actual=t}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,i){if(typeof this._actual.tokenize=="function")return BS.adaptTokenize(this._languageId,this._actual,e,i);throw new Error("Not supported!")}tokenizeEncoded(e,t,i){const r=this._actual.tokenizeEncoded(e,i);return new _P(r.tokens,r.endState)}}class BS{constructor(e,t,i,r){this._languageId=e,this._actual=t,this._languageService=i,this._standaloneThemeService=r}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t){const i=[];let r=0;for(let o=0,s=e.length;o<s;o++){const a=e[o];let l=a.startIndex;o===0?l=0:l<r&&(l=r),i[o]=new F1(l,a.scopes,t),r=l}return i}static adaptTokenize(e,t,i,r){const o=t.tokenize(i,r),s=BS._toClassicTokens(o.tokens,e);let a;return o.endState.equals(r)?a=r:a=o.endState,new QW(s,a)}tokenize(e,t,i){return BS.adaptTokenize(this._languageId,this._actual,e,i)}_toBinaryTokens(e,t){const i=e.encodeLanguageId(this._languageId),r=this._standaloneThemeService.getColorTheme().tokenTheme,o=[];let s=0,a=0;for(let c=0,d=t.length;c<d;c++){const u=t[c],h=r.match(i,u.scopes)|1024;if(s>0&&o[s-1]===h)continue;let f=u.startIndex;c===0?f=0:f<a&&(f=a),o[s++]=f,o[s++]=h,a=f}const l=new Uint32Array(s);for(let c=0;c<s;c++)l[c]=o[c];return l}tokenizeEncoded(e,t,i){const r=this._actual.tokenize(e,i),o=this._toBinaryTokens(this._languageService.languageIdCodec,r.tokens);let s;return r.endState.equals(i)?s=i:s=r.endState,new _P(o,s)}}function O7e(n){return typeof n.getInitialState=="function"}function F7e(n){return"tokenizeEncoded"in n}function rue(n){return n&&typeof n.then=="function"}function B7e(n){const e=ft.get(Ma);if(n){const t=[null];for(let i=1,r=n.length;i<r;i++)t[i]=ue.fromHex(n[i]);e.setColorMapOverride(t)}else e.setColorMapOverride(null)}function oue(n,e){return F7e(e)?new A7e(n,e):new BS(n,e,ft.get(Zi),ft.get(Ma))}function uH(n,e){const t=new FLe(async()=>{const i=await Promise.resolve(e.create());return i?O7e(i)?oue(n,i):new J1(ft.get(Zi),ft.get(Ma),n,nue(n,i),ft.get(jt)):null});return ln.registerFactory(n,t)}function W7e(n,e){if(!ft.get(Zi).isRegisteredLanguageId(n))throw new Error(`Cannot set tokens provider for unknown language ${n}`);return rue(e)?uH(n,{create:()=>e}):ln.register(n,oue(n,e))}function V7e(n,e){const t=i=>new J1(ft.get(Zi),ft.get(Ma),n,nue(n,i),ft.get(jt));return rue(e)?uH(n,{create:()=>e}):ln.register(n,t(e))}function H7e(n,e){return ft.get(qe).referenceProvider.register(n,e)}function z7e(n,e){return ft.get(qe).renameProvider.register(n,e)}function j7e(n,e){return ft.get(qe).signatureHelpProvider.register(n,e)}function U7e(n,e){return ft.get(qe).hoverProvider.register(n,{provideHover:(i,r,o)=>{const s=i.getWordAtPosition(r);return Promise.resolve(e.provideHover(i,r,o)).then(a=>{if(a)return!a.range&&s&&(a.range=new B(r.lineNumber,s.startColumn,r.lineNumber,s.endColumn)),a.range||(a.range=new B(r.lineNumber,r.column,r.lineNumber,r.column)),a})}})}function $7e(n,e){return ft.get(qe).documentSymbolProvider.register(n,e)}function q7e(n,e){return ft.get(qe).documentHighlightProvider.register(n,e)}function K7e(n,e){return ft.get(qe).linkedEditingRangeProvider.register(n,e)}function G7e(n,e){return ft.get(qe).definitionProvider.register(n,e)}function Z7e(n,e){return ft.get(qe).implementationProvider.register(n,e)}function Y7e(n,e){return ft.get(qe).typeDefinitionProvider.register(n,e)}function X7e(n,e){return ft.get(qe).codeLensProvider.register(n,e)}function Q7e(n,e,t){return ft.get(qe).codeActionProvider.register(n,{providedCodeActionKinds:t==null?void 0:t.providedCodeActionKinds,documentation:t==null?void 0:t.documentation,provideCodeActions:(r,o,s,a)=>{const c=ft.get(yu).read({resource:r.uri}).filter(d=>B.areIntersectingOrTouching(d,o));return e.provideCodeActions(r,o,{markers:c,only:s.only,trigger:s.trigger},a)},resolveCodeAction:e.resolveCodeAction})}function J7e(n,e){return ft.get(qe).documentFormattingEditProvider.register(n,e)}function eWe(n,e){return ft.get(qe).documentRangeFormattingEditProvider.register(n,e)}function tWe(n,e){return ft.get(qe).onTypeFormattingEditProvider.register(n,e)}function iWe(n,e){return ft.get(qe).linkProvider.register(n,e)}function nWe(n,e){return ft.get(qe).completionProvider.register(n,e)}function rWe(n,e){return ft.get(qe).colorProvider.register(n,e)}function oWe(n,e){return ft.get(qe).foldingRangeProvider.register(n,e)}function sWe(n,e){return ft.get(qe).declarationProvider.register(n,e)}function aWe(n,e){return ft.get(qe).selectionRangeProvider.register(n,e)}function lWe(n,e){return ft.get(qe).documentSemanticTokensProvider.register(n,e)}function cWe(n,e){return ft.get(qe).documentRangeSemanticTokensProvider.register(n,e)}function dWe(n,e){return ft.get(qe).inlineCompletionsProvider.register(n,e)}function uWe(n,e){return ft.get(qe).inlayHintsProvider.register(n,e)}function hWe(){return{register:E7e,getLanguages:I7e,onLanguage:P7e,onLanguageEncountered:M7e,getEncodedLanguageId:N7e,setLanguageConfiguration:R7e,setColorMap:B7e,registerTokensProviderFactory:uH,setTokensProvider:W7e,setMonarchTokensProvider:V7e,registerReferenceProvider:H7e,registerRenameProvider:z7e,registerCompletionItemProvider:nWe,registerSignatureHelpProvider:j7e,registerHoverProvider:U7e,registerDocumentSymbolProvider:$7e,registerDocumentHighlightProvider:q7e,registerLinkedEditingRangeProvider:K7e,registerDefinitionProvider:G7e,registerImplementationProvider:Z7e,registerTypeDefinitionProvider:Y7e,registerCodeLensProvider:X7e,registerCodeActionProvider:Q7e,registerDocumentFormattingEditProvider:J7e,registerDocumentRangeFormattingEditProvider:eWe,registerOnTypeFormattingEditProvider:tWe,registerLinkProvider:iWe,registerColorProvider:rWe,registerFoldingRangeProvider:oWe,registerDeclarationProvider:sWe,registerSelectionRangeProvider:aWe,registerDocumentSemanticTokensProvider:lWe,registerDocumentRangeSemanticTokensProvider:cWe,registerInlineCompletionsProvider:dWe,registerInlayHintsProvider:uWe,DocumentHighlightKind:U4,CompletionItemKind:B4,CompletionItemTag:W4,CompletionItemInsertTextRule:F4,SymbolKind:pF,SymbolTag:mF,IndentAction:Y4,CompletionTriggerKind:V4,SignatureHelpTriggerKind:gF,InlayHintKind:Q4,InlineCompletionTriggerKind:J4,CodeActionTriggerType:O4,FoldingRangeKind:Bo,SelectedSuggestionInfo:zse}}const hH=zt("IEditorCancelService"),sue=new je("cancellableOperation",!1,w("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));Yt(hH,class{constructor(){this._tokens=new WeakMap}add(n,e){let t=this._tokens.get(n);t||(t=n.invokeWithinContext(r=>{const o=sue.bindTo(r.get(_t)),s=new Fo;return{key:o,tokens:s}}),this._tokens.set(n,t));let i;return t.key.set(!0),i=t.tokens.push(e),()=>{i&&(i(),t.key.set(!t.tokens.isEmpty()),i=void 0)}}cancel(n){const e=this._tokens.get(n);if(!e)return;const t=e.tokens.pop();t&&(t.cancel(),e.key.set(!e.tokens.isEmpty()))}},1);class fWe extends Pn{constructor(e,t){super(t),this.editor=e,this._unregister=e.invokeWithinContext(i=>i.get(hH).add(e,this))}dispose(){this._unregister(),super.dispose()}}We(new class extends kr{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:sue})}runEditorCommand(n,e){n.get(hH).cancel(e)}});let aue=class e8{constructor(e,t){if(this.flags=t,this.flags&1){const i=e.getModel();this.modelVersionId=i?zm("{0}#{1}",i.uri.toString(),i.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=e.getPosition():this.position=null,this.flags&2?this.selection=e.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=e.getScrollLeft(),this.scrollTop=e.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(e){if(!(e instanceof e8))return!1;const t=e;return!(this.modelVersionId!==t.modelVersionId||this.scrollLeft!==t.scrollLeft||this.scrollTop!==t.scrollTop||!this.position&&t.position||this.position&&!t.position||this.position&&t.position&&!this.position.equals(t.position)||!this.selection&&t.selection||this.selection&&!t.selection||this.selection&&t.selection&&!this.selection.equalsRange(t.selection))}validate(e){return this._equals(new e8(e,this.flags))}};class $g extends fWe{constructor(e,t,i,r){super(e,r),this._listener=new xe,t&4&&this._listener.add(e.onDidChangeCursorPosition(o=>{(!i||!B.containsPosition(i,o.position))&&this.cancel()})),t&2&&this._listener.add(e.onDidChangeCursorSelection(o=>{(!i||!B.containsRange(i,o.selection))&&this.cancel()})),t&8&&this._listener.add(e.onDidScrollChange(o=>this.cancel())),t&1&&(this._listener.add(e.onDidChangeModel(o=>this.cancel())),this._listener.add(e.onDidChangeModelContent(o=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class fH extends Pn{constructor(e,t){super(t),this._listener=e.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}function gu(n){return n&&typeof n.getEditorType=="function"?n.getEditorType()===Bx.ICodeEditor:!1}function gH(n){return n&&typeof n.getEditorType=="function"?n.getEditorType()===Bx.IDiffEditor:!1}function gWe(n){return!!n&&typeof n=="object"&&typeof n.onDidChangeActiveEditor=="function"}function lue(n){return gu(n)?n:gH(n)?n.getModifiedEditor():gWe(n)&&gu(n.activeCodeEditor)?n.activeCodeEditor:null}class qb{static _handleEolEdits(e,t){let i;const r=[];for(const o of t)typeof o.eol=="number"&&(i=o.eol),o.range&&typeof o.text=="string"&&r.push(o);return typeof i=="number"&&e.hasModel()&&e.getModel().pushEOL(i),r}static _isFullModelReplaceEdit(e,t){if(!e.hasModel())return!1;const i=e.getModel(),r=i.validateRange(t.range);return i.getFullModelRange().equalsRange(r)}static execute(e,t,i){i&&e.pushUndoStop();const r=Xc.capture(e),o=qb._handleEolEdits(e,t);o.length===1&&qb._isFullModelReplaceEdit(e,o[0])?e.executeEdits("formatEditsCommand",o.map(s=>Qi.replace(B.lift(s.range),s.text))):e.executeEdits("formatEditsCommand",o.map(s=>Qi.replaceMove(B.lift(s.range),s.text))),i&&e.pushUndoStop(),r.restoreRelativeVerticalPositionOfCursor(e)}}class RY{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return typeof e=="string"?e.toLowerCase():e._lower}}class pWe{constructor(e){if(this._set=new Set,e)for(const t of e)this.add(t)}add(e){this._set.add(RY.toKey(e))}has(e){return this._set.has(RY.toKey(e))}}function cue(n,e,t){const i=[],r=new pWe,o=n.ordered(t);for(const a of o)i.push(a),a.extensionId&&r.add(a.extensionId);const s=e.ordered(t);for(const a of s){if(a.extensionId){if(r.has(a.extensionId))continue;r.add(a.extensionId)}i.push({displayName:a.displayName,extensionId:a.extensionId,provideDocumentFormattingEdits(l,c,d){return a.provideDocumentRangeFormattingEdits(l,l.getFullModelRange(),c,d)}})}return i}class r_{static setFormatterSelector(e){return{dispose:r_._selectors.unshift(e)}}static async select(e,t,i,r){if(e.length===0)return;const o=Kt.first(r_._selectors);if(o)return await o(e,t,i,r)}}r_._selectors=new Fo;async function due(n,e,t,i,r,o,s){const a=n.get(dt),{documentRangeFormattingEditProvider:l}=n.get(qe),c=gu(e)?e.getModel():e,d=l.ordered(c),u=await r_.select(d,c,i,2);u&&(r.report(u),await a.invokeFunction(mWe,u,e,t,o,s))}async function mWe(n,e,t,i,r,o){var s,a;const l=n.get(Xl),c=n.get(Ks),d=n.get(mp);let u,h;gu(t)?(u=t.getModel(),h=new $g(t,5,void 0,r)):(u=t,h=new fH(t,r));const f=[];let g=0;for(const v of WW(i).sort(B.compareRangesUsingStarts))g>0&&B.areIntersectingOrTouching(f[g-1],v)?f[g-1]=B.fromPositions(f[g-1].getStartPosition(),v.getEndPosition()):g=f.push(v);const _=async v=>{var b,C;c.trace("[format][provideDocumentRangeFormattingEdits] (request)",(b=e.extensionId)===null||b===void 0?void 0:b.value,v);const S=await e.provideDocumentRangeFormattingEdits(u,v,u.getFormattingOptions(),h.token)||[];return c.trace("[format][provideDocumentRangeFormattingEdits] (response)",(C=e.extensionId)===null||C===void 0?void 0:C.value,S),S},y=(v,b)=>{if(!v.length||!b.length)return!1;const C=v.reduce((S,x)=>B.plusRange(S,x.range),v[0].range);if(!b.some(S=>B.intersectRanges(C,S.range)))return!1;for(const S of v)for(const x of b)if(B.intersectRanges(S.range,x.range))return!0;return!1},m=[],p=[];try{if(typeof e.provideDocumentRangesFormattingEdits=="function"){c.trace("[format][provideDocumentRangeFormattingEdits] (request)",(s=e.extensionId)===null||s===void 0?void 0:s.value,f);const v=await e.provideDocumentRangesFormattingEdits(u,f,u.getFormattingOptions(),h.token)||[];c.trace("[format][provideDocumentRangeFormattingEdits] (response)",(a=e.extensionId)===null||a===void 0?void 0:a.value,v),p.push(v)}else{for(const v of f){if(h.token.isCancellationRequested)return!0;p.push(await _(v))}for(let v=0;v<f.length;++v)for(let b=v+1;b<f.length;++b){if(h.token.isCancellationRequested)return!0;if(y(p[v],p[b])){const C=B.plusRange(f[v],f[b]),S=await _(C);f.splice(b,1),f.splice(v,1),f.push(C),p.splice(b,1),p.splice(v,1),p.push(S),v=0,b=0}}}for(const v of p){if(h.token.isCancellationRequested)return!0;const b=await l.computeMoreMinimalEdits(u.uri,v);b&&m.push(...b)}}finally{h.dispose()}if(m.length===0)return!1;if(gu(t))qb.execute(t,m,!0),t.revealPositionInCenterIfOutsideViewport(t.getPosition(),1);else{const[{range:v}]=m,b=new Ke(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn);u.pushEditOperations([b],m.map(C=>({text:C.text,range:B.lift(C.range),forceMoveMarkers:!0})),C=>{for(const{range:S}of C)if(B.areIntersectingOrTouching(S,b))return[new Ke(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn)];return null})}return d.playAudioCue(Pt.format,{userGesture:o}),!0}async function _We(n,e,t,i,r,o){const s=n.get(dt),a=n.get(qe),l=gu(e)?e.getModel():e,c=cue(a.documentFormattingEditProvider,a.documentRangeFormattingEditProvider,l),d=await r_.select(c,l,t,1);d&&(i.report(d),await s.invokeFunction(vWe,d,e,t,r,o))}async function vWe(n,e,t,i,r,o){const s=n.get(Xl),a=n.get(mp);let l,c;gu(t)?(l=t.getModel(),c=new $g(t,5,void 0,r)):(l=t,c=new fH(t,r));let d;try{const u=await e.provideDocumentFormattingEdits(l,l.getFormattingOptions(),c.token);if(d=await s.computeMoreMinimalEdits(l.uri,u),c.token.isCancellationRequested)return!0}finally{c.dispose()}if(!d||d.length===0)return!1;if(gu(t))qb.execute(t,d,i!==2),i!==2&&t.revealPositionInCenterIfOutsideViewport(t.getPosition(),1);else{const[{range:u}]=d,h=new Ke(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn);l.pushEditOperations([h],d.map(f=>({text:f.text,range:B.lift(f.range),forceMoveMarkers:!0})),f=>{for(const{range:g}of f)if(B.areIntersectingOrTouching(g,h))return[new Ke(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn)];return null})}return a.playAudioCue(Pt.format,{userGesture:o}),!0}async function bWe(n,e,t,i,r,o){const s=e.documentRangeFormattingEditProvider.ordered(t);for(const a of s){const l=await Promise.resolve(a.provideDocumentRangeFormattingEdits(t,i,r,o)).catch(Hn);if(io(l))return await n.computeMoreMinimalEdits(t.uri,l)}}async function yWe(n,e,t,i,r){const o=cue(e.documentFormattingEditProvider,e.documentRangeFormattingEditProvider,t);for(const s of o){const a=await Promise.resolve(s.provideDocumentFormattingEdits(t,i,r)).catch(Hn);if(io(a))return await n.computeMoreMinimalEdits(t.uri,a)}}function uue(n,e,t,i,r,o,s){const a=e.onTypeFormattingEditProvider.ordered(t);return a.length===0||a[0].autoFormatTriggerCharacters.indexOf(r)<0?Promise.resolve(void 0):Promise.resolve(a[0].provideOnTypeFormattingEdits(t,i,r,o,s)).catch(Hn).then(l=>n.computeMoreMinimalEdits(t.uri,l))}Gt.registerCommand("_executeFormatRangeProvider",async function(n,...e){const[t,i,r]=e;Ci(rt.isUri(t)),Ci(B.isIRange(i));const o=n.get(Cs),s=n.get(Xl),a=n.get(qe),l=await o.createModelReference(t);try{return bWe(s,a,l.object.textEditorModel,B.lift(i),r,Ht.None)}finally{l.dispose()}});Gt.registerCommand("_executeFormatDocumentProvider",async function(n,...e){const[t,i]=e;Ci(rt.isUri(t));const r=n.get(Cs),o=n.get(Xl),s=n.get(qe),a=await r.createModelReference(t);try{return yWe(o,s,a.object.textEditorModel,i,Ht.None)}finally{a.dispose()}});Gt.registerCommand("_executeFormatOnTypeProvider",async function(n,...e){const[t,i,r,o]=e;Ci(rt.isUri(t)),Ci(re.isIPosition(i)),Ci(typeof r=="string");const s=n.get(Cs),a=n.get(Xl),l=n.get(qe),c=await s.createModelReference(t);try{return uue(a,l,c.object.textEditorModel,re.lift(i),r,o,Ht.None)}finally{c.dispose()}});Qc.wrappingIndent.defaultValue=0;Qc.glyphMargin.defaultValue=!1;Qc.autoIndent.defaultValue=3;Qc.overviewRulerLanes.defaultValue=2;r_.setFormatterSelector((n,e,t)=>Promise.resolve(n[0]));const Zo=jse();Zo.editor=S7e();Zo.languages=hWe();const CWe=Zo.CancellationTokenSource,hue=Zo.Emitter,wWe=Zo.KeyCode,SWe=Zo.KeyMod,xWe=Zo.Position,LWe=Zo.Range,kWe=Zo.Selection,DWe=Zo.SelectionDirection,TWe=Zo.MarkerSeverity,EWe=Zo.MarkerTag,IWe=Zo.Uri,NWe=Zo.Token,fue=Zo.editor,MM=Zo.languages,MO=globalThis.MonacoEnvironment;(MO!=null&&MO.globalAPI||typeof define=="function"&&define.amd)&&(globalThis.monaco=Zo);typeof globalThis.require<"u"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});const RM=Object.freeze(Object.defineProperty({__proto__:null,CancellationTokenSource:CWe,Emitter:hue,KeyCode:wWe,KeyMod:SWe,MarkerSeverity:TWe,MarkerTag:EWe,Position:xWe,Range:LWe,Selection:kWe,SelectionDirection:DWe,Token:NWe,Uri:IWe,editor:fue,languages:MM},Symbol.toStringTag,{value:"Module"})),PWe="modulepreload",MWe=function(n){return"/"+n},AY={},Qe=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){const o=document.getElementsByTagName("link");r=Promise.all(t.map(s=>{if(s=MWe(s),s in AY)return;AY[s]=!0;const a=s.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!i)for(let u=o.length-1;u>=0;u--){const h=o[u];if(h.href===s&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":PWe,a||(d.as="script",d.crossOrigin=""),d.href=s,document.head.appendChild(d),a)return new Promise((u,h)=>{d.addEventListener("load",u),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})}))}return r.then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var RWe=Object.defineProperty,AWe=Object.getOwnPropertyDescriptor,OWe=Object.getOwnPropertyNames,FWe=Object.prototype.hasOwnProperty,OY=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of OWe(e))!FWe.call(n,r)&&r!==t&&RWe(n,r,{get:()=>e[r],enumerable:!(i=AWe(e,r))||i.enumerable});return n},BWe=(n,e,t)=>(OY(n,e,"default"),t&&OY(t,e,"default")),ow={};BWe(ow,RM);var gue={},RO={},WWe=class pue{static getOrCreate(e){return RO[e]||(RO[e]=new pue(e)),RO[e]}constructor(e){this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((t,i)=>{this._lazyLoadPromiseResolve=t,this._lazyLoadPromiseReject=i})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,gue[this._languageId].loader().then(e=>this._lazyLoadPromiseResolve(e),e=>this._lazyLoadPromiseReject(e))),this._lazyLoadPromise}};function it(n){const e=n.id;gue[e]=n,ow.languages.register(n);const t=WWe.getOrCreate(e);ow.languages.registerTokensProviderFactory(e,{create:async()=>(await t.load()).language}),ow.languages.onLanguageEncountered(e,async()=>{const i=await t.load();ow.languages.setLanguageConfiguration(e,i.conf)})}it({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>Qe(()=>import("./abap-B-ZgRVsS.js"),__vite__mapDeps([]))});it({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>Qe(()=>import("./apex-pqFeVHah.js"),__vite__mapDeps([]))});it({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>Qe(()=>import("./azcli-DrGgKfrx.js"),__vite__mapDeps([]))});it({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>Qe(()=>import("./bat-BRahd1m2.js"),__vite__mapDeps([]))});it({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>Qe(()=>import("./bicep-Br5yCzQa.js"),__vite__mapDeps([]))});it({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>Qe(()=>import("./cameligo-BPiAgOve.js"),__vite__mapDeps([]))});it({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>Qe(()=>import("./clojure-CpX5XwJp.js"),__vite__mapDeps([]))});it({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>Qe(()=>import("./coffee-DPYBl3Sw.js"),__vite__mapDeps([]))});it({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>Qe(()=>import("./cpp-A-JA5b_j.js"),__vite__mapDeps([]))});it({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>Qe(()=>import("./cpp-A-JA5b_j.js"),__vite__mapDeps([]))});it({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>Qe(()=>import("./csharp-CwCtWZg4.js"),__vite__mapDeps([]))});it({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>Qe(()=>import("./csp-DKfky23r.js"),__vite__mapDeps([]))});it({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>Qe(()=>import("./css-C0oCs38a.js"),__vite__mapDeps([]))});it({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>Qe(()=>import("./cypher-BHNfvd4C.js"),__vite__mapDeps([]))});it({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>Qe(()=>import("./dart-BLNd8_RN.js"),__vite__mapDeps([]))});it({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>Qe(()=>import("./dockerfile-Bi2t-SDM.js"),__vite__mapDeps([]))});it({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>Qe(()=>import("./ecl-A9rov3bq.js"),__vite__mapDeps([]))});it({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>Qe(()=>import("./elixir-DJHHJNm9.js"),__vite__mapDeps([]))});it({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>Qe(()=>import("./flow9-BXCop7c-.js"),__vite__mapDeps([]))});it({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>Qe(()=>import("./fsharp-BWYaIR55.js"),__vite__mapDeps([]))});it({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>Qe(()=>import("./freemarker2-Cp5T30uN.js"),__vite__mapDeps([])).then(n=>n.TagAutoInterpolationDollar)});it({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>Qe(()=>import("./freemarker2-Cp5T30uN.js"),__vite__mapDeps([])).then(n=>n.TagAngleInterpolationDollar)});it({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>Qe(()=>import("./freemarker2-Cp5T30uN.js"),__vite__mapDeps([])).then(n=>n.TagBracketInterpolationDollar)});it({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>Qe(()=>import("./freemarker2-Cp5T30uN.js"),__vite__mapDeps([])).then(n=>n.TagAngleInterpolationBracket)});it({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>Qe(()=>import("./freemarker2-Cp5T30uN.js"),__vite__mapDeps([])).then(n=>n.TagBracketInterpolationBracket)});it({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>Qe(()=>import("./freemarker2-Cp5T30uN.js"),__vite__mapDeps([])).then(n=>n.TagAutoInterpolationDollar)});it({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>Qe(()=>import("./freemarker2-Cp5T30uN.js"),__vite__mapDeps([])).then(n=>n.TagAutoInterpolationBracket)});it({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>Qe(()=>import("./go-Bd3rW8Cw.js"),__vite__mapDeps([]))});it({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>Qe(()=>import("./graphql-Dm4lPrOw.js"),__vite__mapDeps([]))});it({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>Qe(()=>import("./handlebars-CncElpAg.js"),__vite__mapDeps([]))});it({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>Qe(()=>import("./hcl-B_GIsMV3.js"),__vite__mapDeps([]))});it({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>Qe(()=>import("./html-B64BpZWP.js"),__vite__mapDeps([]))});it({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>Qe(()=>import("./ini-8BCaSfCG.js"),__vite__mapDeps([]))});it({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>Qe(()=>import("./java-BzOp7UBR.js"),__vite__mapDeps([]))});it({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>Qe(()=>import("./javascript-Brmz_jUg.js"),__vite__mapDeps([0,1]))});it({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>Qe(()=>import("./julia-I1-aRIRv.js"),__vite__mapDeps([]))});it({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>Qe(()=>import("./kotlin-BggX9fXn.js"),__vite__mapDeps([]))});it({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>Qe(()=>import("./less-ByFiWodf.js"),__vite__mapDeps([]))});it({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>Qe(()=>import("./lexon-B2yfmeoX.js"),__vite__mapDeps([]))});it({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>Qe(()=>import("./lua-CTHhD-fD.js"),__vite__mapDeps([]))});it({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>Qe(()=>import("./liquid-D4PqkPdJ.js"),__vite__mapDeps([]))});it({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>Qe(()=>import("./m3-qBOyJ0vE.js"),__vite__mapDeps([]))});it({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>Qe(()=>import("./markdown-Cm28xlel.js"),__vite__mapDeps([]))});it({id:"mdx",extensions:[".mdx"],aliases:["MDX","mdx"],loader:()=>Qe(()=>import("./mdx-BiPBsJ3S.js"),__vite__mapDeps([]))});it({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>Qe(()=>import("./mips-DqiVsLO5.js"),__vite__mapDeps([]))});it({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>Qe(()=>import("./msdax-C3nM-ZR_.js"),__vite__mapDeps([]))});it({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>Qe(()=>import("./mysql-BPWqZDWr.js"),__vite__mapDeps([]))});it({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>Qe(()=>import("./objective-c-afWjKtEP.js"),__vite__mapDeps([]))});it({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>Qe(()=>import("./pascal-DMmvnikK.js"),__vite__mapDeps([]))});it({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>Qe(()=>import("./pascaligo-BaiKb_sq.js"),__vite__mapDeps([]))});it({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:()=>Qe(()=>import("./perl-xMumSrWe.js"),__vite__mapDeps([]))});it({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>Qe(()=>import("./pgsql-C-EgqMcd.js"),__vite__mapDeps([]))});it({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>Qe(()=>import("./php-DkYVXRex.js"),__vite__mapDeps([]))});it({id:"pla",extensions:[".pla"],loader:()=>Qe(()=>import("./pla-CG9rR3U0.js"),__vite__mapDeps([]))});it({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>Qe(()=>import("./postiats-BCC2sChj.js"),__vite__mapDeps([]))});it({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>Qe(()=>import("./powerquery-BhOZIDqB.js"),__vite__mapDeps([]))});it({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>Qe(()=>import("./powershell-wocyr7cA.js"),__vite__mapDeps([]))});it({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>Qe(()=>import("./protobuf-DU3uZwW0.js"),__vite__mapDeps([]))});it({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>Qe(()=>import("./pug-Bqn_XUqj.js"),__vite__mapDeps([]))});it({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>Qe(()=>import("./python-C-x2DfOZ.js"),__vite__mapDeps([]))});it({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>Qe(()=>import("./qsharp-Cj1jue1V.js"),__vite__mapDeps([]))});it({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>Qe(()=>import("./r-CIZIOQYl.js"),__vite__mapDeps([]))});it({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>Qe(()=>import("./razor-Dxcfb0xc.js"),__vite__mapDeps([]))});it({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>Qe(()=>import("./redis-Brk2d6n9.js"),__vite__mapDeps([]))});it({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>Qe(()=>import("./redshift-BraSvCe6.js"),__vite__mapDeps([]))});it({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>Qe(()=>import("./restructuredtext-Hh-PJCdS.js"),__vite__mapDeps([]))});it({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>Qe(()=>import("./ruby-Cro5SiRh.js"),__vite__mapDeps([]))});it({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>Qe(()=>import("./rust-GtgTsMTz.js"),__vite__mapDeps([]))});it({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>Qe(()=>import("./sb-DrBYdvZl.js"),__vite__mapDeps([]))});it({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>Qe(()=>import("./scala-u8KvBYJ0.js"),__vite__mapDeps([]))});it({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>Qe(()=>import("./scheme-CC8-3vA2.js"),__vite__mapDeps([]))});it({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>Qe(()=>import("./scss-CG62jlW4.js"),__vite__mapDeps([]))});it({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>Qe(()=>import("./shell-CWImXz8u.js"),__vite__mapDeps([]))});it({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>Qe(()=>import("./solidity-DFsCHDMA.js"),__vite__mapDeps([]))});it({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>Qe(()=>import("./sophia-CWBVWc0_.js"),__vite__mapDeps([]))});it({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>Qe(()=>import("./sparql-Ca6jL_8E.js"),__vite__mapDeps([]))});it({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>Qe(()=>import("./sql-C86UFuzS.js"),__vite__mapDeps([]))});it({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib",".TcPOU",".TcDUT",".TcGVL",".TcIO"],aliases:["StructuredText","scl","stl"],loader:()=>Qe(()=>import("./st-CjrOQGnb.js"),__vite__mapDeps([]))});it({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>Qe(()=>import("./swift-TX6SQEBl.js"),__vite__mapDeps([]))});it({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>Qe(()=>import("./systemverilog-DYRoH6ZJ.js"),__vite__mapDeps([]))});it({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>Qe(()=>import("./systemverilog-DYRoH6ZJ.js"),__vite__mapDeps([]))});it({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>Qe(()=>import("./tcl-DLjrRbxU.js"),__vite__mapDeps([]))});it({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>Qe(()=>import("./twig-CRyFog85.js"),__vite__mapDeps([]))});it({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>Qe(()=>import("./typescript-B21XC799.js"),__vite__mapDeps([]))});it({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>Qe(()=>import("./vb-CQSqy7yk.js"),__vite__mapDeps([]))});it({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:()=>Qe(()=>import("./wgsl-DbhGdQ56.js"),__vite__mapDeps([]))});it({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>Qe(()=>import("./xml-D-J2h6_4.js"),__vite__mapDeps([]))});it({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>Qe(()=>import("./yaml-CbjrmamF.js"),__vite__mapDeps([]))});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var VWe=Object.defineProperty,HWe=Object.getOwnPropertyDescriptor,zWe=Object.getOwnPropertyNames,jWe=Object.prototype.hasOwnProperty,FY=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of zWe(e))!jWe.call(n,r)&&r!==t&&VWe(n,r,{get:()=>e[r],enumerable:!(i=HWe(e,r))||i.enumerable});return n},UWe=(n,e,t)=>(FY(n,e,"default"),t&&FY(t,e,"default")),Iy={};UWe(Iy,RM);var pH=class{constructor(e,t,i){this._onDidChange=new Iy.Emitter,this._languageId=e,this.setOptions(t),this.setModeConfiguration(i)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(e){this._options=e||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(e){this.setOptions(e)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},mH={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},_H={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},mue=new pH("css",mH,_H),_ue=new pH("scss",mH,_H),vue=new pH("less",mH,_H);Iy.languages.css={cssDefaults:mue,lessDefaults:vue,scssDefaults:_ue};function vH(){return Qe(()=>import("./cssMode-CV9ZHKsE.js"),__vite__mapDeps([]))}Iy.languages.onLanguage("less",()=>{vH().then(n=>n.setupMode(vue))});Iy.languages.onLanguage("scss",()=>{vH().then(n=>n.setupMode(_ue))});Iy.languages.onLanguage("css",()=>{vH().then(n=>n.setupMode(mue))});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var $We=Object.defineProperty,qWe=Object.getOwnPropertyDescriptor,KWe=Object.getOwnPropertyNames,GWe=Object.prototype.hasOwnProperty,BY=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of KWe(e))!GWe.call(n,r)&&r!==t&&$We(n,r,{get:()=>e[r],enumerable:!(i=qWe(e,r))||i.enumerable});return n},ZWe=(n,e,t)=>(BY(n,e,"default"),t&&BY(t,e,"default")),AM={};ZWe(AM,RM);var YWe=class{constructor(e,t,i){this._onDidChange=new AM.Emitter,this._languageId=e,this.setOptions(t),this.setModeConfiguration(i)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(e){this._options=e||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},XWe={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},OM={format:XWe,suggest:{},data:{useDefaultDataProvider:!0}};function FM(n){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:n===Xw,documentFormattingEdits:n===Xw,documentRangeFormattingEdits:n===Xw}}var Xw="html",WY="handlebars",VY="razor",bue=BM(Xw,OM,FM(Xw)),QWe=bue.defaults,yue=BM(WY,OM,FM(WY)),JWe=yue.defaults,Cue=BM(VY,OM,FM(VY)),e6e=Cue.defaults;AM.languages.html={htmlDefaults:QWe,razorDefaults:e6e,handlebarDefaults:JWe,htmlLanguageService:bue,handlebarLanguageService:yue,razorLanguageService:Cue,registerHTMLLanguageService:BM};function t6e(){return Qe(()=>import("./htmlMode-DcoTWRNa.js"),__vite__mapDeps([]))}function BM(n,e=OM,t=FM(n)){const i=new YWe(n,e,t);let r;const o=AM.languages.onLanguage(n,async()=>{r=(await t6e()).setupMode(i)});return{defaults:i,dispose(){o.dispose(),r==null||r.dispose(),r=void 0}}}var i6e=class{constructor(e,t,i){this._onDidChange=new hue,this._languageId=e,this.setDiagnosticsOptions(t),this.setModeConfiguration(i)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},n6e={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},r6e={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},wue=new i6e("json",n6e,r6e),o6e=()=>Sue().then(n=>n.getWorker());MM.json={jsonDefaults:wue,getWorker:o6e};function Sue(){return Qe(()=>import("./jsonMode-CS7UQ3bc.js"),__vite__mapDeps([]))}MM.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});MM.onLanguage("json",()=>{Sue().then(n=>n.setupMode(wue))});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var s6e=Object.defineProperty,a6e=Object.getOwnPropertyDescriptor,l6e=Object.getOwnPropertyNames,c6e=Object.prototype.hasOwnProperty,HY=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of l6e(e))!c6e.call(n,r)&&r!==t&&s6e(n,r,{get:()=>e[r],enumerable:!(i=a6e(e,r))||i.enumerable});return n},d6e=(n,e,t)=>(HY(n,e,"default"),t&&HY(t,e,"default")),u6e="5.0.2",Kb={};d6e(Kb,RM);var xue=(n=>(n[n.None=0]="None",n[n.CommonJS=1]="CommonJS",n[n.AMD=2]="AMD",n[n.UMD=3]="UMD",n[n.System=4]="System",n[n.ES2015=5]="ES2015",n[n.ESNext=99]="ESNext",n))(xue||{}),Lue=(n=>(n[n.None=0]="None",n[n.Preserve=1]="Preserve",n[n.React=2]="React",n[n.ReactNative=3]="ReactNative",n[n.ReactJSX=4]="ReactJSX",n[n.ReactJSXDev=5]="ReactJSXDev",n))(Lue||{}),kue=(n=>(n[n.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",n[n.LineFeed=1]="LineFeed",n))(kue||{}),Due=(n=>(n[n.ES3=0]="ES3",n[n.ES5=1]="ES5",n[n.ES2015=2]="ES2015",n[n.ES2016=3]="ES2016",n[n.ES2017=4]="ES2017",n[n.ES2018=5]="ES2018",n[n.ES2019=6]="ES2019",n[n.ES2020=7]="ES2020",n[n.ESNext=99]="ESNext",n[n.JSON=100]="JSON",n[n.Latest=99]="Latest",n))(Due||{}),Tue=(n=>(n[n.Classic=1]="Classic",n[n.NodeJs=2]="NodeJs",n))(Tue||{}),Eue=class{constructor(n,e,t,i,r){this._onDidChange=new Kb.Emitter,this._onDidExtraLibsChange=new Kb.Emitter,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(n),this.setDiagnosticsOptions(e),this.setWorkerOptions(t),this.setInlayHintsOptions(i),this.setModeConfiguration(r),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(n,e){let t;if(typeof e>"u"?t=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:t=e,this._extraLibs[t]&&this._extraLibs[t].content===n)return{dispose:()=>{}};let i=1;return this._removedExtraLibs[t]&&(i=this._removedExtraLibs[t]+1),this._extraLibs[t]&&(i=this._extraLibs[t].version+1),this._extraLibs[t]={content:n,version:i},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let r=this._extraLibs[t];r&&r.version===i&&(delete this._extraLibs[t],this._removedExtraLibs[t]=i,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(n){for(const e in this._extraLibs)this._removedExtraLibs[e]=this._extraLibs[e].version;if(this._extraLibs=Object.create(null),n&&n.length>0)for(const e of n){const t=e.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,i=e.content;let r=1;this._removedExtraLibs[t]&&(r=this._removedExtraLibs[t]+1),this._extraLibs[t]={content:i,version:r}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(n){this._compilerOptions=n||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(n){this._diagnosticsOptions=n||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(n){this._workerOptions=n||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(n){this._inlayHintsOptions=n||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(n){}setEagerModelSync(n){this._eagerModelSync=n}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(void 0)}},h6e=u6e,Iue={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},Nue=new Eue({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},Iue),Pue=new Eue({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},Iue),f6e=()=>WM().then(n=>n.getTypeScriptWorker()),g6e=()=>WM().then(n=>n.getJavaScriptWorker());Kb.languages.typescript={ModuleKind:xue,JsxEmit:Lue,NewLineKind:kue,ScriptTarget:Due,ModuleResolutionKind:Tue,typescriptVersion:h6e,typescriptDefaults:Nue,javascriptDefaults:Pue,getTypeScriptWorker:f6e,getJavaScriptWorker:g6e};function WM(){return Qe(()=>import("./tsMode-DBkB8JyG.js"),__vite__mapDeps([]))}Kb.languages.onLanguage("typescript",()=>WM().then(n=>n.setupTypeScript(Nue)));Kb.languages.onLanguage("javascript",()=>WM().then(n=>n.setupJavaScript(Pue)));class p6e extends Ia{constructor(){super({id:"diffEditor.toggleCollapseUnchangedRegions",title:Ns("toggleCollapseUnchangedRegions","Toggle Collapse Unchanged Regions"),icon:Ae.map,toggled:we.has("config.diffEditor.hideUnchangedRegions.enabled"),precondition:we.has("isInDiffEditor"),menu:{when:we.has("isInDiffEditor"),id:H.EditorTitle,order:22,group:"navigation"}})}run(e,...t){const i=e.get(jt),r=!i.getValue("diffEditor.hideUnchangedRegions.enabled");i.updateValue("diffEditor.hideUnchangedRegions.enabled",r)}}ji(p6e);class Mue extends Ia{constructor(){super({id:"diffEditor.toggleShowMovedCodeBlocks",title:Ns("toggleShowMovedCodeBlocks","Toggle Show Moved Code Blocks"),precondition:we.has("isInDiffEditor")})}run(e,...t){const i=e.get(jt),r=!i.getValue("diffEditor.experimental.showMoves");i.updateValue("diffEditor.experimental.showMoves",r)}}ji(Mue);class Rue extends Ia{constructor(){super({id:"diffEditor.toggleUseInlineViewWhenSpaceIsLimited",title:Ns("toggleUseInlineViewWhenSpaceIsLimited","Toggle Use Inline View When Space Is Limited"),precondition:we.has("isInDiffEditor")})}run(e,...t){const i=e.get(jt),r=!i.getValue("diffEditor.useInlineViewWhenSpaceIsLimited");i.updateValue("diffEditor.useInlineViewWhenSpaceIsLimited",r)}}ji(Rue);Rr.appendMenuItem(H.EditorTitle,{command:{id:new Rue().desc.id,title:w("useInlineViewWhenSpaceIsLimited","Use Inline View When Space Is Limited"),toggled:we.has("config.diffEditor.useInlineViewWhenSpaceIsLimited"),precondition:we.has("isInDiffEditor")},order:11,group:"1_diff",when:we.and(j.diffEditorRenderSideBySideInlineBreakpointReached,we.has("isInDiffEditor"))});Rr.appendMenuItem(H.EditorTitle,{command:{id:new Mue().desc.id,title:w("showMoves","Show Moved Code Blocks"),icon:Ae.move,toggled:vy.create("config.diffEditor.experimental.showMoves",!0),precondition:we.has("isInDiffEditor")},order:10,group:"1_diff",when:we.has("isInDiffEditor")});const VM={value:w("diffEditor","Diff Editor"),original:"Diff Editor"};class m6e extends td{constructor(){super({id:"diffEditor.switchSide",title:Ns("switchSide","Switch Side"),icon:Ae.arrowSwap,precondition:we.has("isInDiffEditor"),f1:!0,category:VM})}runEditorCommand(e,t,i){const r=Py(e);if(r instanceof Ug){if(i&&i.dryRun)return{destinationSelection:r.mapToOtherSide().destinationSelection};r.switchSide()}}}ji(m6e);class _6e extends td{constructor(){super({id:"diffEditor.exitCompareMove",title:Ns("exitCompareMove","Exit Compare Move"),icon:Ae.close,precondition:j.comparingMovedCode,f1:!1,category:VM,keybinding:{weight:1e4,primary:9}})}runEditorCommand(e,t,...i){const r=Py(e);r instanceof Ug&&r.exitCompareMove()}}ji(_6e);class v6e extends td{constructor(){super({id:"diffEditor.collapseAllUnchangedRegions",title:Ns("collapseAllUnchangedRegions","Collapse All Unchanged Regions"),icon:Ae.fold,precondition:we.has("isInDiffEditor"),f1:!0,category:VM})}runEditorCommand(e,t,...i){const r=Py(e);r instanceof Ug&&r.collapseAllUnchangedRegions()}}ji(v6e);class b6e extends td{constructor(){super({id:"diffEditor.showAllUnchangedRegions",title:Ns("showAllUnchangedRegions","Show All Unchanged Regions"),icon:Ae.unfold,precondition:we.has("isInDiffEditor"),f1:!0,category:VM})}runEditorCommand(e,t,...i){const r=Py(e);r instanceof Ug&&r.showAllUnchangedRegions()}}ji(b6e);const Aue={value:w("accessibleDiffViewer","Accessible Diff Viewer"),original:"Accessible Diff Viewer"};class Ny extends Ia{constructor(){super({id:Ny.id,title:Ns("editor.action.accessibleDiffViewer.next","Go to Next Difference"),category:Aue,precondition:we.has("isInDiffEditor"),keybinding:{primary:65,weight:100},f1:!0})}run(e){const t=Py(e);t==null||t.accessibleDiffViewerNext()}}Ny.id="editor.action.accessibleDiffViewer.next";Rr.appendMenuItem(H.EditorTitle,{command:{id:Ny.id,title:w("Open Accessible Diff Viewer","Open Accessible Diff Viewer"),precondition:we.has("isInDiffEditor")},order:10,group:"2_diff",when:we.and(j.accessibleDiffViewerVisible.negate(),we.has("isInDiffEditor"))});class cL extends Ia{constructor(){super({id:cL.id,title:Ns("editor.action.accessibleDiffViewer.prev","Go to Previous Difference"),category:Aue,precondition:we.has("isInDiffEditor"),keybinding:{primary:1089,weight:100},f1:!0})}run(e){const t=Py(e);t==null||t.accessibleDiffViewerPrev()}}cL.id="editor.action.accessibleDiffViewer.prev";function Py(n){const t=n.get(ai).listDiffEditors(),i=qr();if(i)for(const r of t){const o=r.getContainerDomNode();if(y6e(o,i))return r}return null}function y6e(n,e){let t=e;for(;t;){if(t===n)return!0;t=t.parentElement}return!1}Gt.registerCommandAlias("editor.action.diffReview.next",Ny.id);ji(Ny);Gt.registerCommandAlias("editor.action.diffReview.prev",cL.id);ji(cL);var C6e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},w6e=function(n,e){return function(t,i){e(t,i,n)}},t8;const HM=new je("selectionAnchorSet",!1);let Nh=t8=class{static get(e){return e.getContribution(t8.ID)}constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=HM.bindTo(t),this.modelChangeListener=e.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const e=this.editor.getPosition();this.editor.changeDecorations(t=>{this.decorationId&&t.removeDecoration(this.decorationId),this.decorationId=t.addDecoration(Ke.fromPositions(e,e),{description:"selection-anchor",stickiness:1,hoverMessage:new eo().appendText(w("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),zs(w("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){const t=this.editor.getPosition();this.editor.setSelection(Ke.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const e=this.decorationId;this.editor.changeDecorations(t=>{t.removeDecoration(e),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};Nh.ID="editor.contrib.selectionAnchorController";Nh=t8=C6e([w6e(1,_t)],Nh);class S6e extends $e{constructor(){super({id:"editor.action.setSelectionAnchor",label:w("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:j.editorTextFocus,primary:Yn(2089,2080),weight:100}})}async run(e,t){var i;(i=Nh.get(t))===null||i===void 0||i.setSelectionAnchor()}}class x6e extends $e{constructor(){super({id:"editor.action.goToSelectionAnchor",label:w("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:HM})}async run(e,t){var i;(i=Nh.get(t))===null||i===void 0||i.goToSelectionAnchor()}}class L6e extends $e{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:w("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:HM,kbOpts:{kbExpr:j.editorTextFocus,primary:Yn(2089,2089),weight:100}})}async run(e,t){var i;(i=Nh.get(t))===null||i===void 0||i.selectFromAnchorToCursor()}}class k6e extends $e{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:w("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:HM,kbOpts:{kbExpr:j.editorTextFocus,primary:9,weight:100}})}async run(e,t){var i;(i=Nh.get(t))===null||i===void 0||i.cancelSelectionAnchor()}}li(Nh.ID,Nh,4);Ee(S6e);Ee(x6e);Ee(L6e);Ee(k6e);const D6e=U("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},w("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class T6e extends $e{constructor(){super({id:"editor.action.jumpToBracket",label:w("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:j.editorTextFocus,primary:3165,weight:100}})}run(e,t){var i;(i=Vl.get(t))===null||i===void 0||i.jumpToBracket()}}class E6e extends $e{constructor(){super({id:"editor.action.selectToBracket",label:w("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,metadata:{description:Ns("smartSelect.selectToBracketDescription","Select the text inside and including the brackets or curly braces"),args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,i){var r;let o=!0;i&&i.selectBrackets===!1&&(o=!1),(r=Vl.get(t))===null||r===void 0||r.selectToBracket(o)}}class I6e extends $e{constructor(){super({id:"editor.action.removeBrackets",label:w("smartSelect.removeBrackets","Remove Brackets"),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:j.editorTextFocus,primary:2561,weight:100}})}run(e,t){var i;(i=Vl.get(t))===null||i===void 0||i.removeBrackets(this.id)}}class N6e{constructor(e,t,i){this.position=e,this.brackets=t,this.options=i}}class Vl extends ce{static get(e){return e.getContribution(Vl.ID)}constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new ki(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(71),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition(t=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelContent(t=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModel(t=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelLanguageConfiguration(t=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(71)&&(this._matchBrackets=this._editor.getOption(71),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(e.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getSelections().map(i=>{const r=i.getStartPosition(),o=e.bracketPairs.matchBracket(r);let s=null;if(o)o[0].containsPosition(r)&&!o[1].containsPosition(r)?s=o[1].getStartPosition():o[1].containsPosition(r)&&(s=o[0].getStartPosition());else{const a=e.bracketPairs.findEnclosingBrackets(r);if(a)s=a[1].getStartPosition();else{const l=e.bracketPairs.findNextBracket(r);l&&l.range&&(s=l.range.getStartPosition())}}return s?new Ke(s.lineNumber,s.column,s.lineNumber,s.column):new Ke(r.lineNumber,r.column,r.lineNumber,r.column)});this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),i=[];this._editor.getSelections().forEach(r=>{const o=r.getStartPosition();let s=t.bracketPairs.matchBracket(o);if(!s&&(s=t.bracketPairs.findEnclosingBrackets(o),!s)){const c=t.bracketPairs.findNextBracket(o);c&&c.range&&(s=t.bracketPairs.matchBracket(c.range.getStartPosition()))}let a=null,l=null;if(s){s.sort(B.compareRangesUsingStarts);const[c,d]=s;if(a=e?c.getStartPosition():c.getEndPosition(),l=e?d.getEndPosition():d.getStartPosition(),d.containsPosition(o)){const u=a;a=l,l=u}}a&&l&&i.push(new Ke(a.lineNumber,a.column,l.lineNumber,l.column))}),i.length>0&&(this._editor.setSelections(i),this._editor.revealRange(i[0]))}removeBrackets(e){if(!this._editor.hasModel())return;const t=this._editor.getModel();this._editor.getSelections().forEach(i=>{const r=i.getPosition();let o=t.bracketPairs.matchBracket(r);o||(o=t.bracketPairs.findEnclosingBrackets(r)),o&&(this._editor.pushUndoStop(),this._editor.executeEdits(e,[{range:o[0],text:""},{range:o[1],text:""}]),this._editor.pushUndoStop())})}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const e=[];let t=0;for(const i of this._lastBracketsData){const r=i.brackets;r&&(e[t++]={range:r[0],options:i.options},e[t++]={range:r[1],options:i.options})}this._decorations.set(e)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const e=this._editor.getSelections();if(e.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const t=this._editor.getModel(),i=t.getVersionId();let r=[];this._lastVersionId===i&&(r=this._lastBracketsData);const o=[];let s=0;for(let u=0,h=e.length;u<h;u++){const f=e[u];f.isEmpty()&&(o[s++]=f.getStartPosition())}o.length>1&&o.sort(re.compare);const a=[];let l=0,c=0;const d=r.length;for(let u=0,h=o.length;u<h;u++){const f=o[u];for(;c<d&&r[c].position.isBefore(f);)c++;if(c<d&&r[c].position.equals(f))a[l++]=r[c];else{let g=t.bracketPairs.matchBracket(f,20),_=Vl._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!g&&this._matchBrackets==="always"&&(g=t.bracketPairs.findEnclosingBrackets(f,20),_=Vl._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),a[l++]=new N6e(f,g,_)}}this._lastBracketsData=a,this._lastVersionId=i}}Vl.ID="editor.contrib.bracketMatchingController";Vl._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=kt.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:cn(D6e),position:ka.Center}});Vl._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=kt.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"});li(Vl.ID,Vl,1);Ee(E6e);Ee(T6e);Ee(I6e);Rr.appendMenuItem(H.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:w({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});class P6e{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const i=this._selection.startLineNumber,r=this._selection.startColumn,o=this._selection.endColumn;if(!(this._isMovingLeft&&r===1)&&!(!this._isMovingLeft&&o===e.getLineMaxColumn(i)))if(this._isMovingLeft){const s=new B(i,r-1,i,r),a=e.getValueInRange(s);t.addEditOperation(s,null),t.addEditOperation(new B(i,o,i,o),a)}else{const s=new B(i,o,i,o+1),a=e.getValueInRange(s);t.addEditOperation(s,null),t.addEditOperation(new B(i,r,i,r),a)}}computeCursorState(e,t){return this._isMovingLeft?new Ke(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new Ke(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class Oue extends $e{constructor(e,t){super(t),this.left=e}run(e,t){if(!t.hasModel())return;const i=[],r=t.getSelections();for(const o of r)i.push(new P6e(o,this.left));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class M6e extends Oue{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:w("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:j.writable})}}class R6e extends Oue{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:w("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:j.writable})}}Ee(M6e);Ee(R6e);class A6e extends $e{constructor(){super({id:"editor.action.transposeLetters",label:w("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:j.writable,kbOpts:{kbExpr:j.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(e,t){if(!t.hasModel())return;const i=t.getModel(),r=[],o=t.getSelections();for(const s of o){if(!s.isEmpty())continue;const a=s.startLineNumber,l=s.startColumn,c=i.getLineMaxColumn(a);if(a===1&&(l===1||l===2&&c===2))continue;const d=l===c?s.getPosition():_i.rightPosition(i,s.getPosition().lineNumber,s.getPosition().column),u=_i.leftPosition(i,d),h=_i.leftPosition(i,u),f=i.getValueInRange(B.fromPositions(h,u)),g=i.getValueInRange(B.fromPositions(u,d)),_=B.fromPositions(h,d);r.push(new Wr(_,g+f))}r.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop())}}Ee(A6e);const zM=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let n;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?n=crypto.getRandomValues.bind(crypto):n=function(i){for(let r=0;r<i.length;r++)i[r]=Math.floor(Math.random()*256);return i};const e=new Uint8Array(16),t=[];for(let i=0;i<256;i++)t.push(i.toString(16).padStart(2,"0"));return function(){n(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let r=0,o="";return o+=t[e[r++]],o+=t[e[r++]],o+=t[e[r++]],o+=t[e[r++]],o+="-",o+=t[e[r++]],o+=t[e[r++]],o+="-",o+=t[e[r++]],o+=t[e[r++]],o+="-",o+=t[e[r++]],o+=t[e[r++]],o+="-",o+=t[e[r++]],o+=t[e[r++]],o+=t[e[r++]],o+=t[e[r++]],o+=t[e[r++]],o+=t[e[r++]],o}}();function bH(n){return{asString:async()=>n,asFile:()=>{},value:typeof n=="string"?n:void 0}}function O6e(n,e,t){const i={id:zM(),name:n,uri:e,data:t};return{asString:async()=>"",asFile:()=>i,value:void 0}}class Fue{constructor(){this._entries=new Map}get size(){let e=0;for(const t of this._entries)e++;return e}has(e){return this._entries.has(this.toKey(e))}matches(e){const t=[...this._entries.keys()];return Kt.some(this,([i,r])=>r.asFile())&&t.push("files"),Wue(aN(e),t)}get(e){var t;return(t=this._entries.get(this.toKey(e)))===null||t===void 0?void 0:t[0]}append(e,t){const i=this._entries.get(e);i?i.push(t):this._entries.set(this.toKey(e),[t])}replace(e,t){this._entries.set(this.toKey(e),[t])}delete(e){this._entries.delete(this.toKey(e))}*[Symbol.iterator](){for(const[e,t]of this._entries)for(const i of t)yield[e,i]}toKey(e){return aN(e)}}function aN(n){return n.toLowerCase()}function Bue(n,e){return Wue(aN(n),e.map(aN))}function Wue(n,e){if(n==="*/*")return e.length>0;if(e.includes(n))return!0;const t=n.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!t)return!1;const[i,r,o]=t;return o==="*"?e.some(s=>s.startsWith(r+"/")):!1}const jM=Object.freeze({create:n=>Eg(n.map(e=>e.toString())).join(`\r
`),split:n=>n.split(`\r
`),parse:n=>jM.split(n).filter(e=>!e.startsWith("#"))}),zY={EDITORS:"CodeEditors",FILES:"CodeFiles"};class F6e{}const B6e={DragAndDropContribution:"workbench.contributions.dragAndDrop"};nn.add(B6e.DragAndDropContribution,new F6e);class WS{constructor(){}static getInstance(){return WS.INSTANCE}hasData(e){return e&&e===this.proto}getData(e){if(this.hasData(e))return this.data}}WS.INSTANCE=new WS;function Vue(n){const e=new Fue;for(const t of n.items){const i=t.type;if(t.kind==="string"){const r=new Promise(o=>t.getAsString(o));e.append(i,bH(r))}else if(t.kind==="file"){const r=t.getAsFile();r&&e.append(i,W6e(r))}}return e}function W6e(n){const e=n.path?rt.parse(n.path):void 0;return O6e(n.name,e,async()=>new Uint8Array(await n.arrayBuffer()))}const V6e=Object.freeze([zY.EDITORS,zY.FILES,wS.RESOURCES,wS.INTERNAL_URI_LIST]);function Hue(n,e=!1){const t=Vue(n),i=t.get(wS.INTERNAL_URI_LIST);if(i)t.replace(pn.uriList,i);else if(e||!t.has(pn.uriList)){const r=[];for(const o of n.items){const s=o.getAsFile();if(s){const a=s.path;try{a?r.push(rt.file(a).toString()):r.push(rt.parse(s.name,!0).toString())}catch{}}}r.length&&t.replace(pn.uriList,bH(jM.create(r)))}for(const r of V6e)t.delete(r);return t}class wl{constructor(){this.value="",this.pos=0}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return e===95||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const e=this.pos;let t=0,i=this.value.charCodeAt(e),r;if(r=wl._table[i],typeof r=="number")return this.pos+=1,{type:r,pos:e,len:1};if(wl.isDigitCharacter(i)){r=8;do t+=1,i=this.value.charCodeAt(e+t);while(wl.isDigitCharacter(i));return this.pos+=t,{type:r,pos:e,len:t}}if(wl.isVariableCharacter(i)){r=9;do i=this.value.charCodeAt(e+ ++t);while(wl.isVariableCharacter(i)||wl.isDigitCharacter(i));return this.pos+=t,{type:r,pos:e,len:t}}r=10;do t+=1,i=this.value.charCodeAt(e+t);while(!isNaN(i)&&typeof wl._table[i]>"u"&&!wl.isDigitCharacter(i)&&!wl.isVariableCharacter(i));return this.pos+=t,{type:r,pos:e,len:t}}}wl._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};class My{constructor(){this._children=[]}appendChild(e){return e instanceof Ao&&this._children[this._children.length-1]instanceof Ao?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){const{parent:i}=e,r=i.children.indexOf(e),o=i.children.slice(0);o.splice(r,1,...t),i._children=o,function s(a,l){for(const c of a)c.parent=l,s(c.children,c)}(t,i)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let e=this;for(;;){if(!e)return;if(e instanceof dL)return e;e=e.parent}}toString(){return this.children.reduce((e,t)=>e+t.toString(),"")}len(){return 0}}class Ao extends My{constructor(e){super(),this.value=e}toString(){return this.value}len(){return this.value.length}clone(){return new Ao(this.value)}}class zue extends My{}class Ha extends zue{static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}constructor(e){super(),this.index=e}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof Ry?this._children[0]:void 0}clone(){const e=new Ha(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}}class Ry extends My{constructor(){super(...arguments),this.options=[]}appendChild(e){return e instanceof Ao&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const e=new Ry;return this.options.forEach(e.appendChild,e),e}}class yH extends My{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(e){const t=this;let i=!1,r=e.replace(this.regexp,function(){return i=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))});return!i&&this._children.some(o=>o instanceof pc&&!!o.elseValue)&&(r=this._replace([])),r}_replace(e){let t="";for(const i of this._children)if(i instanceof pc){let r=e[i.index]||"";r=i.resolve(r),t+=r}else t+=i.toString();return t}toString(){return""}clone(){const e=new yH;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map(t=>t.clone()),e}}class pc extends My{constructor(e,t,i,r){super(),this.index=e,this.shorthandName=t,this.ifValue=i,this.elseValue=r}resolve(e){return this.shorthandName==="upcase"?e?e.toLocaleUpperCase():"":this.shorthandName==="downcase"?e?e.toLocaleLowerCase():"":this.shorthandName==="capitalize"?e?e[0].toLocaleUpperCase()+e.substr(1):"":this.shorthandName==="pascalcase"?e?this._toPascalCase(e):"":this.shorthandName==="camelcase"?e?this._toCamelCase(e):"":e&&typeof this.ifValue=="string"?this.ifValue:!e&&typeof this.elseValue=="string"?this.elseValue:e||""}_toPascalCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map(i=>i.charAt(0).toUpperCase()+i.substr(1)).join(""):e}_toCamelCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map((i,r)=>r===0?i.charAt(0).toLowerCase()+i.substr(1):i.charAt(0).toUpperCase()+i.substr(1)).join(""):e}clone(){return new pc(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class VS extends zue{constructor(e){super(),this.name=e}resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),t!==void 0?(this._children=[new Ao(t)],!0):!1}clone(){const e=new VS(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}}function jY(n,e){const t=[...n];for(;t.length>0;){const i=t.shift();if(!e(i))break;t.unshift(...i.children)}}class dL extends My{get placeholderInfo(){if(!this._placeholders){const e=[];let t;this.walk(function(i){return i instanceof Ha&&(e.push(i),t=!t||t.index<i.index?i:t),!0}),this._placeholders={all:e,last:t}}return this._placeholders}get placeholders(){const{all:e}=this.placeholderInfo;return e}offset(e){let t=0,i=!1;return this.walk(r=>r===e?(i=!0,!1):(t+=r.len(),!0)),i?t:-1}fullLen(e){let t=0;return jY([e],i=>(t+=i.len(),!0)),t}enclosingPlaceholders(e){const t=[];let{parent:i}=e;for(;i;)i instanceof Ha&&t.push(i),i=i.parent;return t}resolveVariables(e){return this.walk(t=>(t instanceof VS&&t.resolve(e)&&(this._placeholders=void 0),!0)),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){const e=new dL;return this._children=this.children.map(t=>t.clone()),e}walk(e){jY(this.children,e)}}class o_{constructor(){this._scanner=new wl,this._token={type:14,pos:0,len:0}}static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,i){const r=new dL;return this.parseFragment(e,r),this.ensureFinalTabstop(r,i??!1,t??!1),r}parseFragment(e,t){const i=t.children.length;for(this._scanner.text(e),this._token=this._scanner.next();this._parse(t););const r=new Map,o=[];t.walk(l=>(l instanceof Ha&&(l.isFinalTabstop?r.set(0,void 0):!r.has(l.index)&&l.children.length>0?r.set(l.index,l.children):o.push(l)),!0));const s=(l,c)=>{const d=r.get(l.index);if(!d)return;const u=new Ha(l.index);u.transform=l.transform;for(const h of d){const f=h.clone();u.appendChild(f),f instanceof Ha&&r.has(f.index)&&!c.has(f.index)&&(c.add(f.index),s(f,c),c.delete(f.index))}t.replace(l,[u])},a=new Set;for(const l of o)s(l,a);return t.children.slice(i)}ensureFinalTabstop(e,t,i){(t||i&&e.placeholders.length>0)&&(e.placeholders.find(o=>o.index===0)||e.appendChild(new Ha(0)))}_accept(e,t){if(e===void 0||this._token.type===e){const i=t?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),i}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){const t=this._token;for(;this._token.type!==e;){if(this._token.type===14)return!1;if(this._token.type===5){const r=this._scanner.next();if(r.type!==0&&r.type!==4&&r.type!==5)return!1}this._token=this._scanner.next()}const i=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),i}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return(t=this._accept(5,!0))?(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new Ao(t)),!0):!1}_parseTabstopOrVariableName(e){let t;const i=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new Ha(Number(t)):new VS(t)),!0):this._backTo(i)}_parseComplexPlaceholder(e){let t;const i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(i);const o=new Ha(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new Ao("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else if(o.index>0&&this._accept(7)){const s=new Ry;for(;;){if(this._parseChoiceElement(s)){if(this._accept(2))continue;if(this._accept(7)&&(o.appendChild(s),this._accept(4)))return e.appendChild(o),!0}return this._backTo(i),!1}}else return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(i)}_parseChoiceElement(e){const t=this._token,i=[];for(;!(this._token.type===2||this._token.type===7);){let r;if((r=this._accept(5,!0))?r=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||r:r=this._accept(void 0,!0),!r)return this._backTo(t),!1;i.push(r)}return i.length===0?(this._backTo(t),!1):(e.appendChild(new Ao(i.join(""))),!0)}_parseComplexVariable(e){let t;const i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(i);const o=new VS(t);if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new Ao("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(i)}_parseTransform(e){const t=new yH;let i="",r="";for(;!this._accept(6);){let o;if(o=this._accept(5,!0)){o=this._accept(6,!0)||o,i+=o;continue}if(this._token.type!==14){i+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let o;if(o=this._accept(5,!0)){o=this._accept(5,!0)||this._accept(6,!0)||o,t.appendChild(new Ao(o));continue}if(!(this._parseFormatString(t)||this._parseAnything(t)))return!1}for(;!this._accept(4);){if(this._token.type!==14){r+=this._accept(void 0,!0);continue}return!1}try{t.regexp=new RegExp(i,r)}catch{return!1}return e.transform=t,!0}_parseFormatString(e){const t=this._token;if(!this._accept(0))return!1;let i=!1;this._accept(3)&&(i=!0);const r=this._accept(8,!0);if(r)if(i){if(this._accept(4))return e.appendChild(new pc(Number(r))),!0;if(!this._accept(1))return this._backTo(t),!1}else return e.appendChild(new pc(Number(r))),!0;else return this._backTo(t),!1;if(this._accept(6)){const o=this._accept(9,!0);return!o||!this._accept(4)?(this._backTo(t),!1):(e.appendChild(new pc(Number(r),o)),!0)}else if(this._accept(11)){const o=this._until(4);if(o)return e.appendChild(new pc(Number(r),void 0,o,void 0)),!0}else if(this._accept(12)){const o=this._until(4);if(o)return e.appendChild(new pc(Number(r),void 0,void 0,o)),!0}else if(this._accept(13)){const o=this._until(1);if(o){const s=this._until(4);if(s)return e.appendChild(new pc(Number(r),void 0,o,s)),!0}}else{const o=this._until(4);if(o)return e.appendChild(new pc(Number(r),void 0,void 0,o)),!0}return this._backTo(t),!1}_parseAnything(e){return this._token.type!==14?(e.appendChild(new Ao(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}function jue(n,e,t){var i,r,o,s;return(typeof t.insertText=="string"?t.insertText==="":t.insertText.snippet==="")?{edits:(r=(i=t.additionalEdit)===null||i===void 0?void 0:i.edits)!==null&&r!==void 0?r:[]}:{edits:[...e.map(a=>new pg(n,{range:a,text:typeof t.insertText=="string"?o_.escape(t.insertText)+"$0":t.insertText.snippet,insertAsSnippet:!0})),...(s=(o=t.additionalEdit)===null||o===void 0?void 0:o.edits)!==null&&s!==void 0?s:[]]}}function Uue(n){var e;function t(a,l){return"providerId"in a&&a.providerId===l.providerId||"mimeType"in a&&a.mimeType===l.handledMimeType}const i=new Map;for(const a of n)for(const l of(e=a.yieldTo)!==null&&e!==void 0?e:[])for(const c of n)if(c!==a&&t(l,c)){let d=i.get(a);d||(d=[],i.set(a,d)),d.push(c)}if(!i.size)return Array.from(n);const r=new Set,o=[];function s(a){if(!a.length)return[];const l=a[0];if(o.includes(l))return console.warn(`Yield to cycle detected for ${l.providerId}`),a;if(r.has(l))return s(a.slice(1));let c=[];const d=i.get(l);return d&&(o.push(l),c=s(d),o.pop()),r.add(l),[...c,l,...s(a.slice(1))]}return s(Array.from(n))}var H6e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},z6e=function(n,e){return function(t,i){e(t,i,n)}};const j6e=kt.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:Xse,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}});class UM extends ce{constructor(e,t,i,r,o){super(),this.typeId=e,this.editor=t,this.range=i,this.delegate=o,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(r),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(e){this.domNode=Te(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=e;const t=Te("span.icon");this.domNode.append(t),t.classList.add(...lt.asClassNameArray(Ae.loading),"codicon-modifier-spin");const i=()=>{const r=this.editor.getOption(66);this.domNode.style.height=`${r}px`,this.domNode.style.width=`${Math.ceil(.8*r)}px`};i(),this._register(this.editor.onDidChangeConfiguration(r=>{(r.hasChanged(52)||r.hasChanged(66))&&i()})),this._register(ge(this.domNode,Ne.CLICK,r=>{this.delegate.cancel()}))}getId(){return UM.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}}UM.baseId="editor.widget.inlineProgressWidget";let lN=class extends ce{constructor(e,t,i){super(),this.id=e,this._editor=t,this._instantiationService=i,this._showDelay=500,this._showPromise=this._register(new Lr),this._currentWidget=new Lr,this._operationIdPool=0,this._currentDecorations=t.createDecorationsCollection()}async showWhile(e,t,i){const r=this._operationIdPool++;this._currentOperation=r,this.clear(),this._showPromise.value=Rg(()=>{const o=B.fromPositions(e);this._currentDecorations.set([{range:o,options:j6e}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(UM,this.id,this._editor,o,t,i))},this._showDelay);try{return await i}finally{this._currentOperation===r&&(this.clear(),this._currentOperation=void 0)}}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};lN=H6e([z6e(2,dt)],lN);var $ue=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Qw=function(n,e){return function(t,i){e(t,i,n)}},i8;let cN=i8=class extends ce{constructor(e,t,i,r,o,s,a,l,c,d){super(),this.typeId=e,this.editor=t,this.showCommand=r,this.range=o,this.edits=s,this.onSelectNewEdit=a,this._contextMenuService=l,this._keybindingService=d,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=i.bindTo(c),this.visibleContext.set(!0),this._register(at(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register(at(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(u=>{o.containsPosition(u.position)||this.dispose()})),this._register(Ve.runAndSubscribe(d.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){var e;const t=(e=this._keybindingService.lookupKeybinding(this.showCommand.id))===null||e===void 0?void 0:e.getLabel();this.button.element.title=this.showCommand.label+(t?` (${t})`:"")}create(){this.domNode=Te(".post-edit-widget"),this.button=this._register(new KI(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(ge(this.domNode,Ne.CLICK,()=>this.showSelector()))}getId(){return i8.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{const e=Vn(this.button.element);return{x:e.left+e.width,y:e.top+e.height}},getActions:()=>this.edits.allEdits.map((e,t)=>Ev({id:"",label:e.label,checked:t===this.edits.activeEditIndex,run:()=>{if(t!==this.edits.activeEditIndex)return this.onSelectNewEdit(t)}}))})}};cN.baseId="editor.widget.postEditWidget";cN=i8=$ue([Qw(7,Pa),Qw(8,_t),Qw(9,xi)],cN);let dN=class extends ce{constructor(e,t,i,r,o,s){super(),this._id=e,this._editor=t,this._visibleContext=i,this._showCommand=r,this._instantiationService=o,this._bulkEditService=s,this._currentWidget=this._register(new Lr),this._register(Ve.any(t.onDidChangeModel,t.onDidChangeModelContent)(()=>this.clear()))}async applyEditAndShowIfNeeded(e,t,i,r){const o=this._editor.getModel();if(!o||!e.length)return;const s=t.allEdits[t.activeEditIndex];if(!s)return;const a=jue(o.uri,e,s),l=e[0],c=o.deltaDecorations([],[{range:l,options:{description:"paste-line-suffix",stickiness:0}}]);let d,u;try{d=await this._bulkEditService.apply(a,{editor:this._editor,token:r}),u=o.getDecorationRange(c[0])}finally{o.deltaDecorations(c,[])}i&&d.isApplied&&t.allEdits.length>1&&this.show(u??l,t,async h=>{const f=this._editor.getModel();f&&(await f.undo(),this.applyEditAndShowIfNeeded(e,{activeEditIndex:h,allEdits:t.allEdits},i,r))})}show(e,t,i){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(cN,this._id,this._editor,this._visibleContext,this._showCommand,e,t,i))}clear(){this._currentWidget.clear()}tryShowSelector(){var e;(e=this._currentWidget.value)===null||e===void 0||e.showSelector()}};dN=$ue([Qw(4,dt),Qw(5,Xx)],dN);var U6e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},UY=function(n,e){return function(t,i){e(t,i,n)}},TT;let zo=TT=class{static get(e){return e.getContribution(TT.ID)}constructor(e,t,i){this._openerService=i,this._messageWidget=new Lr,this._messageListeners=new xe,this._mouseOverMessage=!1,this._editor=e,this._visible=TT.MESSAGE_VISIBLE.bindTo(t)}dispose(){var e;(e=this._message)===null||e===void 0||e.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){zs(tu(e)?e.value:e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=tu(e)?cM(e,{actionHandler:{callback:r=>{this.closeMessage(),DV(this._openerService,r,tu(e)?e.isTrusted:void 0)},disposables:this._messageListeners}}):void 0,this._messageWidget.value=new $Y(this._editor,t,typeof e=="string"?e:this._message.element),this._messageListeners.add(Ve.debounce(this._editor.onDidBlurEditorText,(r,o)=>o,0)(()=>{this._mouseOverMessage||this._messageWidget.value&&Ar(qr(),this._messageWidget.value.getDomNode())||this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(ge(this._messageWidget.value.getDomNode(),Ne.MOUSE_ENTER,()=>this._mouseOverMessage=!0,!0)),this._messageListeners.add(ge(this._messageWidget.value.getDomNode(),Ne.MOUSE_LEAVE,()=>this._mouseOverMessage=!1,!0));let i;this._messageListeners.add(this._editor.onMouseMove(r=>{r.target.position&&(i?i.containsPosition(r.target.position)||this.closeMessage():i=new B(t.lineNumber-3,1,r.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add($Y.fadeOut(this._messageWidget.value))}};zo.ID="editor.contrib.messageController";zo.MESSAGE_VISIBLE=new je("messageVisible",!1,w("messageVisible","Whether the editor is currently showing an inline message"));zo=TT=U6e([UY(1,_t),UY(2,ws)],zo);const $6e=kr.bindToContribution(zo.get);We(new $6e({id:"leaveEditorMessage",precondition:zo.MESSAGE_VISIBLE,handler:n=>n.closeMessage(),kbOpts:{weight:130,primary:9}}));let $Y=class{static fadeOut(e){const t=()=>{e.dispose(),clearTimeout(i),e.getDomNode().removeEventListener("animationend",t)},i=setTimeout(t,110);return e.getDomNode().addEventListener("animationend",t),e.getDomNode().classList.add("fadeOut"),{dispose:t}}constructor(e,{lineNumber:t,column:i},r){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:i},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const o=document.createElement("div");o.classList.add("anchor","top"),this._domNode.appendChild(o);const s=document.createElement("div");typeof r=="string"?(s.classList.add("message"),s.textContent=r):(r.classList.add("message"),s.appendChild(r)),this._domNode.appendChild(s);const a=document.createElement("div");a.classList.add("anchor","below"),this._domNode.appendChild(a),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(e){this._domNode.classList.toggle("below",e===2)}};li(zo.ID,zo,4);var q6e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},g0=function(n,e){return function(t,i){e(t,i,n)}},n8;const que="editor.changePasteType",Kue=new je("pasteWidgetVisible",!1,w("pasteWidgetVisible","Whether the paste widget is showing")),AO="application/vnd.code.copyMetadata";let Ph=n8=class extends ce{static get(e){return e.getContribution(n8.ID)}constructor(e,t,i,r,o,s,a){super(),this._bulkEditService=i,this._clipboardService=r,this._languageFeaturesService=o,this._quickInputService=s,this._progressService=a,this._editor=e;const l=e.getContainerDomNode();this._register(ge(l,"copy",c=>this.handleCopy(c))),this._register(ge(l,"cut",c=>this.handleCopy(c))),this._register(ge(l,"paste",c=>this.handlePaste(c),!0)),this._pasteProgressManager=this._register(new lN("pasteIntoEditor",e,t)),this._postPasteWidgetManager=this._register(t.createInstance(dN,"pasteIntoEditor",e,Kue,{id:que,label:w("postPasteWidgetTitle","Show paste options...")}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(e){this._editor.focus();try{this._pasteAsActionContext={preferredId:e},by().execCommand("paste")}finally{this._pasteAsActionContext=void 0}}isPasteAsEnabled(){return this._editor.getOption(84).enabled&&!this._editor.getOption(90)}async finishedPaste(){await this._currentPasteOperation}handleCopy(e){var t,i;if(!this._editor.hasTextFocus()||(lp&&this._clipboardService.writeResources([]),!e.clipboardData||!this.isPasteAsEnabled()))return;const r=this._editor.getModel(),o=this._editor.getSelections();if(!r||!(o!=null&&o.length))return;const s=this._editor.getOption(37);let a=o;const l=o.length===1&&o[0].isEmpty();if(l){if(!s)return;a=[new B(a[0].startLineNumber,1,a[0].startLineNumber,1+r.getLineLength(a[0].startLineNumber))]}const c=(t=this._editor._getViewModel())===null||t===void 0?void 0:t.getPlainTextToCopy(o,s,no),u={multicursorText:Array.isArray(c)?c:null,pasteOnNewLine:l,mode:null},h=this._languageFeaturesService.documentPasteEditProvider.ordered(r).filter(m=>!!m.prepareDocumentPaste);if(!h.length){this.setCopyMetadata(e.clipboardData,{defaultPastePayload:u});return}const f=Vue(e.clipboardData),g=h.flatMap(m=>{var p;return(p=m.copyMimeTypes)!==null&&p!==void 0?p:[]}),_=zM();this.setCopyMetadata(e.clipboardData,{id:_,providerCopyMimeTypes:g,defaultPastePayload:u});const y=gr(async m=>{const p=zc(await Promise.all(h.map(async v=>{try{return await v.prepareDocumentPaste(r,a,f,m)}catch(b){console.error(b);return}})));p.reverse();for(const v of p)for(const[b,C]of v)f.replace(b,C);return f});(i=this._currentCopyOperation)===null||i===void 0||i.dataTransferPromise.cancel(),this._currentCopyOperation={handle:_,dataTransferPromise:y}}async handlePaste(e){var t,i,r,o,s;if(!e.clipboardData||!this._editor.hasTextFocus())return;(t=zo.get(this._editor))===null||t===void 0||t.closeMessage(),(i=this._currentPasteOperation)===null||i===void 0||i.cancel(),this._currentPasteOperation=void 0;const a=this._editor.getModel(),l=this._editor.getSelections();if(!(l!=null&&l.length)||!a||!this.isPasteAsEnabled()&&!this._pasteAsActionContext)return;const c=this.fetchCopyMetadata(e),d=Hue(e.clipboardData);d.delete(AO);const u=[...e.clipboardData.types,...(r=c==null?void 0:c.providerCopyMimeTypes)!==null&&r!==void 0?r:[],pn.uriList],h=this._languageFeaturesService.documentPasteEditProvider.ordered(a).filter(f=>{var g,_;return!((g=this._pasteAsActionContext)===null||g===void 0)&&g.preferredId&&this._pasteAsActionContext.preferredId!==f.id?!1:(_=f.pasteMimeTypes)===null||_===void 0?void 0:_.some(y=>Bue(y,u))});if(!h.length){!((o=this._pasteAsActionContext)===null||o===void 0)&&o.preferredId&&this.showPasteAsNoEditMessage(l,(s=this._pasteAsActionContext)===null||s===void 0?void 0:s.preferredId);return}e.preventDefault(),e.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferredId,h,l,d,c,{trigger:"explicit",only:this._pasteAsActionContext.preferredId}):this.doPasteInline(h,l,d,c,{trigger:"implicit"})}showPasteAsNoEditMessage(e,t){var i;(i=zo.get(this._editor))===null||i===void 0||i.showMessage(w("pasteAsError","No paste edits for '{0}' found",t),e[0].getStartPosition())}doPasteInline(e,t,i,r,o){const s=gr(async a=>{const l=this._editor;if(!l.hasModel())return;const c=l.getModel(),d=new $g(l,3,void 0,a);try{if(await this.mergeInDataFromCopy(i,r,d.token),d.token.isCancellationRequested)return;const u=e.filter(f=>qY(f,i));if(!u.length||u.length===1&&u[0].id==="text"){await this.applyDefaultPasteHandler(i,r,d.token);return}const h=await this.getPasteEdits(u,i,c,t,o,d.token);if(d.token.isCancellationRequested)return;if(h.length===1&&h[0].providerId==="text"){await this.applyDefaultPasteHandler(i,r,d.token);return}if(h.length){const f=l.getOption(84).showPasteSelector==="afterPaste";return this._postPasteWidgetManager.applyEditAndShowIfNeeded(t,{activeEditIndex:0,allEdits:h},f,d.token)}await this.applyDefaultPasteHandler(i,r,d.token)}finally{d.dispose(),this._currentPasteOperation===s&&(this._currentPasteOperation=void 0)}});this._pasteProgressManager.showWhile(t[0].getEndPosition(),w("pasteIntoEditorProgress","Running paste handlers. Click to cancel"),s),this._currentPasteOperation=s}showPasteAsPick(e,t,i,r,o,s){const a=gr(async l=>{const c=this._editor;if(!c.hasModel())return;const d=c.getModel(),u=new $g(c,3,void 0,l);try{if(await this.mergeInDataFromCopy(r,o,u.token),u.token.isCancellationRequested)return;let h=t.filter(y=>qY(y,r));e&&(h=h.filter(y=>y.id===e));const f=await this.getPasteEdits(h,r,d,i,s,u.token);if(u.token.isCancellationRequested)return;if(!f.length){s.only&&this.showPasteAsNoEditMessage(i,s.only);return}let g;if(e)g=f.at(0);else{const y=await this._quickInputService.pick(f.map(m=>({label:m.label,description:m.providerId,detail:m.detail,edit:m})),{placeHolder:w("pasteAsPickerPlaceholder","Select Paste Action")});g=y==null?void 0:y.edit}if(!g)return;const _=jue(d.uri,i,g);await this._bulkEditService.apply(_,{editor:this._editor})}finally{u.dispose(),this._currentPasteOperation===a&&(this._currentPasteOperation=void 0)}});this._progressService.withProgress({location:10,title:w("pasteAsProgress","Running paste handlers")},()=>a)}setCopyMetadata(e,t){e.setData(AO,JSON.stringify(t))}fetchCopyMetadata(e){var t;if(!e.clipboardData)return;const i=e.clipboardData.getData(AO);if(i)try{return JSON.parse(i)}catch{return}const[r,o]=i3.getTextData(e.clipboardData);if(o)return{defaultPastePayload:{mode:o.mode,multicursorText:(t=o.multicursorText)!==null&&t!==void 0?t:null,pasteOnNewLine:!!o.isFromEmptySelection}}}async mergeInDataFromCopy(e,t,i){var r;if(t!=null&&t.id&&((r=this._currentCopyOperation)===null||r===void 0?void 0:r.handle)===t.id){const o=await this._currentCopyOperation.dataTransferPromise;if(i.isCancellationRequested)return;for(const[s,a]of o)e.replace(s,a)}if(!e.has(pn.uriList)){const o=await this._clipboardService.readResources();if(i.isCancellationRequested)return;o.length&&e.append(pn.uriList,bH(jM.create(o)))}}async getPasteEdits(e,t,i,r,o,s){const a=await TP(Promise.all(e.map(async c=>{var d;try{const u=await((d=c.provideDocumentPasteEdits)===null||d===void 0?void 0:d.call(c,i,r,t,o,s));if(u)return{...u,providerId:c.id}}catch(u){console.error(u)}})),s),l=zc(a??[]);return Uue(l)}async applyDefaultPasteHandler(e,t,i){var r,o,s;const a=(r=e.get(pn.text))!==null&&r!==void 0?r:e.get("text");if(!a)return;const l=await a.asString();if(i.isCancellationRequested)return;const c={text:l,pasteOnNewLine:(o=t==null?void 0:t.defaultPastePayload.pasteOnNewLine)!==null&&o!==void 0?o:!1,multicursorText:(s=t==null?void 0:t.defaultPastePayload.multicursorText)!==null&&s!==void 0?s:null,mode:null};this._editor.trigger("keyboard","paste",c)}};Ph.ID="editor.contrib.copyPasteActionController";Ph=n8=q6e([g0(1,dt),g0(2,Xx),g0(3,Vh),g0(4,qe),g0(5,rd),g0(6,$ce)],Ph);function qY(n,e){var t;return!!(!((t=n.pasteMimeTypes)===null||t===void 0)&&t.some(i=>e.matches(i)))}const s_="9_cutcopypaste",K6e=Mc||document.queryCommandSupported("cut"),Gue=Mc||document.queryCommandSupported("copy"),G6e=typeof navigator.clipboard>"u"||nl?document.queryCommandSupported("paste"):!0;function CH(n){return n.register(),n}const Z6e=K6e?CH(new yy({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:Mc?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:H.MenubarEditMenu,group:"2_ccp",title:w({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:H.EditorContext,group:s_,title:w("actions.clipboard.cutLabel","Cut"),when:j.writable,order:1},{menuId:H.CommandPalette,group:"",title:w("actions.clipboard.cutLabel","Cut"),order:1},{menuId:H.SimpleEditorContext,group:s_,title:w("actions.clipboard.cutLabel","Cut"),when:j.writable,order:1}]})):void 0,Y6e=Gue?CH(new yy({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:Mc?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:H.MenubarEditMenu,group:"2_ccp",title:w({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:H.EditorContext,group:s_,title:w("actions.clipboard.copyLabel","Copy"),order:2},{menuId:H.CommandPalette,group:"",title:w("actions.clipboard.copyLabel","Copy"),order:1},{menuId:H.SimpleEditorContext,group:s_,title:w("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;Rr.appendMenuItem(H.MenubarEditMenu,{submenu:H.MenubarCopy,title:{value:w("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3});Rr.appendMenuItem(H.EditorContext,{submenu:H.EditorContextCopy,title:{value:w("copy as","Copy As"),original:"Copy As"},group:s_,order:3});Rr.appendMenuItem(H.EditorContext,{submenu:H.EditorContextShare,title:{value:w("share","Share"),original:"Share"},group:"11_share",order:-1,when:we.and(we.notEquals("resourceScheme","output"),j.editorTextFocus)});Rr.appendMenuItem(H.EditorTitleContext,{submenu:H.EditorTitleContextShare,title:{value:w("share","Share"),original:"Share"},group:"11_share",order:-1});Rr.appendMenuItem(H.ExplorerContext,{submenu:H.ExplorerContextShare,title:{value:w("share","Share"),original:"Share"},group:"11_share",order:-1});const OO=G6e?CH(new yy({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:Mc?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:H.MenubarEditMenu,group:"2_ccp",title:w({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:H.EditorContext,group:s_,title:w("actions.clipboard.pasteLabel","Paste"),when:j.writable,order:4},{menuId:H.CommandPalette,group:"",title:w("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:H.SimpleEditorContext,group:s_,title:w("actions.clipboard.pasteLabel","Paste"),when:j.writable,order:4}]})):void 0;class X6e extends $e{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:w("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:j.textInputFocus,primary:0,weight:100}})}run(e,t){!t.hasModel()||!t.getOption(37)&&t.getSelection().isEmpty()||(e3.forceCopyWithSyntaxHighlighting=!0,t.focus(),t.getContainerDomNode().ownerDocument.execCommand("copy"),e3.forceCopyWithSyntaxHighlighting=!1)}}function Zue(n,e){n&&(n.addImplementation(1e4,"code-editor",(t,i)=>{const r=t.get(ai).getFocusedCodeEditor();if(r&&r.hasTextFocus()){const o=r.getOption(37),s=r.getSelection();return s&&s.isEmpty()&&!o||r.getContainerDomNode().ownerDocument.execCommand(e),!0}return!1}),n.addImplementation(0,"generic-dom",(t,i)=>(by().execCommand(e),!0)))}Zue(Z6e,"cut");Zue(Y6e,"copy");OO&&(OO.addImplementation(1e4,"code-editor",(n,e)=>{var t,i;const r=n.get(ai),o=n.get(Vh),s=r.getFocusedCodeEditor();return s&&s.hasTextFocus()?s.getContainerDomNode().ownerDocument.execCommand("paste")?(i=(t=Ph.get(s))===null||t===void 0?void 0:t.finishedPaste())!==null&&i!==void 0?i:Promise.resolve():lp?(async()=>{const l=await o.readText();if(l!==""){const c=sS.INSTANCE.get(l);let d=!1,u=null,h=null;c&&(d=s.getOption(37)&&!!c.isFromEmptySelection,u=typeof c.multicursorText<"u"?c.multicursorText:null,h=c.mode),s.trigger("keyboard","paste",{text:l,pasteOnNewLine:d,multicursorText:u,mode:h})}})():!0:!1}),OO.addImplementation(0,"generic-dom",(n,e)=>(by().execCommand("paste"),!0)));Gue&&Ee(X6e);class mt{constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||this.value===""||e.value.startsWith(this.value+mt.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(e){return new mt(this.value+mt.sep+e)}}mt.sep=".";mt.None=new mt("@@none@@");mt.Empty=new mt("");mt.QuickFix=new mt("quickfix");mt.Refactor=new mt("refactor");mt.RefactorExtract=mt.Refactor.append("extract");mt.RefactorInline=mt.Refactor.append("inline");mt.RefactorMove=mt.Refactor.append("move");mt.RefactorRewrite=mt.Refactor.append("rewrite");mt.Notebook=new mt("notebook");mt.Source=new mt("source");mt.SourceOrganizeImports=mt.Source.append("organizeImports");mt.SourceFixAll=mt.Source.append("fixAll");mt.SurroundWith=mt.Refactor.append("surround");var js;(function(n){n.Refactor="refactor",n.RefactorPreview="refactor preview",n.Lightbulb="lightbulb",n.Default="other (default)",n.SourceAction="source action",n.QuickFix="quick fix action",n.FixAll="fix all",n.OrganizeImports="organize imports",n.AutoFix="auto fix",n.QuickFixHover="quick fix hover window",n.OnSave="save participants",n.ProblemsView="problems view"})(js||(js={}));function Q6e(n,e){return!(n.include&&!n.include.intersects(e)||n.excludes&&n.excludes.some(t=>Yue(e,t,n.include))||!n.includeSourceActions&&mt.Source.contains(e))}function J6e(n,e){const t=e.kind?new mt(e.kind):void 0;return!(n.include&&(!t||!n.include.contains(t))||n.excludes&&t&&n.excludes.some(i=>Yue(t,i,n.include))||!n.includeSourceActions&&t&&mt.Source.contains(t)||n.onlyIncludePreferredActions&&!e.isPreferred)}function Yue(n,e,t){return!(!e.contains(n)||t&&e.contains(t))}class Fd{static fromUser(e,t){return!e||typeof e!="object"?new Fd(t.kind,t.apply,!1):new Fd(Fd.getKindFromUser(e,t.kind),Fd.getApplyFromUser(e,t.apply),Fd.getPreferredUser(e))}static getApplyFromUser(e,t){switch(typeof e.apply=="string"?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return typeof e.kind=="string"?new mt(e.kind):t}static getPreferredUser(e){return typeof e.preferred=="boolean"?e.preferred:!1}constructor(e,t,i){this.kind=e,this.apply=t,this.preferred=i}}class eVe{constructor(e,t,i){this.action=e,this.provider=t,this.highlightRange=i}async resolve(e){var t;if(!((t=this.provider)===null||t===void 0)&&t.resolveCodeAction&&!this.action.edit){let i;try{i=await this.provider.resolveCodeAction(this.action,e)}catch(r){Hn(r)}i&&(this.action.edit=i.edit)}return this}}const Xue="editor.action.codeAction",wH="editor.action.quickFix",Que="editor.action.autoFix",Jue="editor.action.refactor",ehe="editor.action.sourceAction",SH="editor.action.organizeImports",xH="editor.action.fixAll";class Jw extends ce{static codeActionsPreferredComparator(e,t){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:0}static codeActionsComparator({action:e},{action:t}){return e.isAI&&!t.isAI?1:!e.isAI&&t.isAI?-1:io(e.diagnostics)?io(t.diagnostics)?Jw.codeActionsPreferredComparator(e,t):-1:io(t.diagnostics)?1:Jw.codeActionsPreferredComparator(e,t)}constructor(e,t,i){super(),this.documentation=t,this._register(i),this.allActions=[...e].sort(Jw.codeActionsComparator),this.validActions=this.allActions.filter(({action:r})=>!r.disabled)}get hasAutoFix(){return this.validActions.some(({action:e})=>!!e.kind&&mt.QuickFix.contains(new mt(e.kind))&&!!e.isPreferred)}get hasAIFix(){return this.validActions.some(({action:e})=>!!e.isAI)}get allAIFixes(){return this.validActions.every(({action:e})=>!!e.isAI)}}const KY={actions:[],documentation:void 0};async function e1(n,e,t,i,r,o){var s;const a=i.filter||{},l={...a,excludes:[...a.excludes||[],mt.Notebook]},c={only:(s=a.include)===null||s===void 0?void 0:s.value,trigger:i.type},d=new fH(e,o),u=i.type===2,h=tVe(n,e,u?l:a),f=new xe,g=h.map(async y=>{try{r.report(y);const m=await y.provideCodeActions(e,t,c,d.token);if(m&&f.add(m),d.token.isCancellationRequested)return KY;const p=((m==null?void 0:m.actions)||[]).filter(b=>b&&J6e(a,b)),v=nVe(y,p,a.include);return{actions:p.map(b=>new eVe(b,y)),documentation:v}}catch(m){if(Jc(m))throw m;return Hn(m),KY}}),_=n.onDidChange(()=>{const y=n.all(e);vn(y,h)||d.cancel()});try{const y=await Promise.all(g),m=y.map(v=>v.actions).flat(),p=[...zc(y.map(v=>v.documentation)),...iVe(n,e,i,m)];return new Jw(m,p,f)}finally{_.dispose(),d.dispose()}}function tVe(n,e,t){return n.all(e).filter(i=>i.providedCodeActionKinds?i.providedCodeActionKinds.some(r=>Q6e(t,new mt(r))):!0)}function*iVe(n,e,t,i){var r,o,s;if(e&&i.length)for(const a of n.all(e))a._getAdditionalMenuItems&&(yield*(r=a._getAdditionalMenuItems)===null||r===void 0?void 0:r.call(a,{trigger:t.type,only:(s=(o=t.filter)===null||o===void 0?void 0:o.include)===null||s===void 0?void 0:s.value},i.map(l=>l.action)))}function nVe(n,e,t){if(!n.documentation)return;const i=n.documentation.map(r=>({kind:new mt(r.kind),command:r.command}));if(t){let r;for(const o of i)o.kind.contains(t)&&(r?r.kind.contains(o.kind)&&(r=o):r=o);if(r)return r==null?void 0:r.command}for(const r of e)if(r.kind){for(const o of i)if(o.kind.contains(new mt(r.kind)))return o.command}}var Zv;(function(n){n.OnSave="onSave",n.FromProblemsView="fromProblemsView",n.FromCodeActions="fromCodeActions",n.FromAILightbulb="fromAILightbulb"})(Zv||(Zv={}));async function rVe(n,e,t,i,r=Ht.None){var o;const s=n.get(Xx),a=n.get(fn),l=n.get(qs),c=n.get(Rn);if(l.publicLog2("codeAction.applyCodeAction",{codeActionTitle:e.action.title,codeActionKind:e.action.kind,codeActionIsPreferred:!!e.action.isPreferred,reason:t}),await e.resolve(r),!r.isCancellationRequested&&!(!((o=e.action.edit)===null||o===void 0)&&o.edits.length&&!(await s.apply(e.action.edit,{editor:i==null?void 0:i.editor,label:e.action.title,quotableLabel:e.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:t!==Zv.OnSave,showPreview:i==null?void 0:i.preview})).isApplied)&&e.action.command)try{await a.executeCommand(e.action.command.id,...e.action.command.arguments||[])}catch(d){const u=oVe(d);c.error(typeof u=="string"?u:w("applyCodeActionFailed","An unknown error occurred while applying the code action"))}}function oVe(n){return typeof n=="string"?n:n instanceof Error&&typeof n.message=="string"?n.message:void 0}Gt.registerCommand("_executeCodeActionProvider",async function(n,e,t,i,r){if(!(e instanceof rt))throw Qa();const{codeActionProvider:o}=n.get(qe),s=n.get(Ji).getModel(e);if(!s)throw Qa();const a=Ke.isISelection(t)?Ke.liftSelection(t):B.isIRange(t)?s.validateRange(t):void 0;if(!a)throw Qa();const l=typeof i=="string"?new mt(i):void 0,c=await e1(o,s,a,{type:1,triggerAction:js.Default,filter:{includeSourceActions:!0,include:l}},mh.None,Ht.None),d=[],u=Math.min(c.validActions.length,typeof r=="number"?r:0);for(let h=0;h<u;h++)d.push(c.validActions[h].resolve(Ht.None));try{return await Promise.all(d),c.validActions.map(h=>h.action)}finally{setTimeout(()=>c.dispose(),100)}});var sVe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},aVe=function(n,e){return function(t,i){e(t,i,n)}},r8;let uN=r8=class{constructor(e){this.keybindingService=e}getResolver(){const e=new up(()=>this.keybindingService.getKeybindings().filter(t=>r8.codeActionCommands.indexOf(t.command)>=0).filter(t=>t.resolvedKeybinding).map(t=>{let i=t.commandArgs;return t.command===SH?i={kind:mt.SourceOrganizeImports.value}:t.command===xH&&(i={kind:mt.SourceFixAll.value}),{resolvedKeybinding:t.resolvedKeybinding,...Fd.fromUser(i,{kind:mt.None,apply:"never"})}}));return t=>{if(t.kind){const i=this.bestKeybindingForCodeAction(t,e.value);return i==null?void 0:i.resolvedKeybinding}}}bestKeybindingForCodeAction(e,t){if(!e.kind)return;const i=new mt(e.kind);return t.filter(r=>r.kind.contains(i)).filter(r=>r.preferred?e.isPreferred:!0).reduceRight((r,o)=>r?r.kind.contains(o.kind)?o:r:o,void 0)}};uN.codeActionCommands=[Jue,Xue,ehe,SH,xH];uN=r8=sVe([aVe(0,xi)],uN);U("symbolIcon.arrayForeground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.booleanForeground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},w("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.colorForeground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.constantForeground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},w("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},w("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},w("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},w("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},w("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.fileForeground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.folderForeground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},w("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},w("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.keyForeground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.keywordForeground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},w("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.moduleForeground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.namespaceForeground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.nullForeground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.numberForeground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.objectForeground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.operatorForeground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.packageForeground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.propertyForeground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.referenceForeground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.snippetForeground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.stringForeground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.structForeground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.textForeground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.typeParameterForeground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.unitForeground",{dark:Pe,light:Pe,hcDark:Pe,hcLight:Pe},w("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));U("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},w("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));const the=Object.freeze({kind:mt.Empty,title:w("codeAction.widget.id.more","More Actions...")}),lVe=Object.freeze([{kind:mt.QuickFix,title:w("codeAction.widget.id.quickfix","Quick Fix")},{kind:mt.RefactorExtract,title:w("codeAction.widget.id.extract","Extract"),icon:Ae.wrench},{kind:mt.RefactorInline,title:w("codeAction.widget.id.inline","Inline"),icon:Ae.wrench},{kind:mt.RefactorRewrite,title:w("codeAction.widget.id.convert","Rewrite"),icon:Ae.wrench},{kind:mt.RefactorMove,title:w("codeAction.widget.id.move","Move"),icon:Ae.wrench},{kind:mt.SurroundWith,title:w("codeAction.widget.id.surround","Surround With"),icon:Ae.surroundWith},{kind:mt.Source,title:w("codeAction.widget.id.source","Source Action"),icon:Ae.symbolFile},the]);function cVe(n,e,t){if(!e)return n.map(o=>{var s;return{kind:"action",item:o,group:the,disabled:!!o.action.disabled,label:o.action.disabled||o.action.title,canPreview:!!(!((s=o.action.edit)===null||s===void 0)&&s.edits.length)}});const i=lVe.map(o=>({group:o,actions:[]}));for(const o of n){const s=o.action.kind?new mt(o.action.kind):mt.None;for(const a of i)if(a.group.kind.contains(s)){a.actions.push(o);break}}const r=[];for(const o of i)if(o.actions.length){r.push({kind:"header",group:o.group});for(const s of o.actions){const a=o.group;r.push({kind:"action",item:s,group:s.action.isAI?{title:a.title,kind:a.kind,icon:Ae.sparkle}:a,label:s.action.title,disabled:!!s.action.disabled,keybinding:t(s.action)})}}return r}var dVe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},GY=function(n,e){return function(t,i){e(t,i,n)}},o8,hv;(function(n){n.Hidden={type:0};class e{constructor(i,r,o,s){this.actions=i,this.trigger=r,this.editorPosition=o,this.widgetPosition=s,this.type=1}}n.Showing=e})(hv||(hv={}));let a_=o8=class extends ce{constructor(e,t,i){super(),this._editor=e,this._keybindingService=t,this._onClick=this._register(new ne),this.onClick=this._onClick.event,this._state=hv.Hidden,this._iconClasses=[],this._domNode=Te("div.lightBulbWidget"),this._register(Ei.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(r=>{const o=this._editor.getModel();(this.state.type!==1||!o||this.state.editorPosition.lineNumber>=o.getLineCount())&&this.hide()})),this._register(LDe(this._domNode,r=>{if(this.state.type!==1)return;this._editor.focus(),r.preventDefault();const{top:o,height:s}=Vn(this._domNode),a=this._editor.getOption(66);let l=Math.floor(a/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(l+=a),this._onClick.fire({x:r.posx,y:o+s+l,actions:this.state.actions,trigger:this.state.trigger})})),this._register(ge(this._domNode,"mouseenter",r=>{(r.buttons&1)===1&&this.hide()})),this._register(Ve.runAndSubscribe(this._keybindingService.onDidUpdateKeybindings,()=>{var r,o,s,a;this._preferredKbLabel=(o=(r=this._keybindingService.lookupKeybinding(Que))===null||r===void 0?void 0:r.getLabel())!==null&&o!==void 0?o:void 0,this._quickFixKbLabel=(a=(s=this._keybindingService.lookupKeybinding(wH))===null||s===void 0?void 0:s.getLabel())!==null&&a!==void 0?a:void 0,this._updateLightBulbTitleAndIcon()}))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(e,t,i){if(e.validActions.length<=0)return this.hide();if(!this._editor.getOptions().get(64).enabled)return this.hide();const o=this._editor.getModel();if(!o)return this.hide();const{lineNumber:s,column:a}=o.validatePosition(i),l=o.getOptions().tabSize,c=this._editor.getOptions().get(50),d=o.getLineContent(s),u=eM(d,l),h=c.spaceWidth*u>22,f=y=>y>2&&this._editor.getTopForLineNumber(y)===this._editor.getTopForLineNumber(y-1);let g=s,_=1;if(!h){if(s>1&&!f(s-1))g-=1;else if(s<o.getLineCount()&&!f(s+1))g+=1;else if(a*c.spaceWidth<22)return this.hide();_=/^\S\s*$/.test(o.getLineContent(g))?2:1}this.state=new hv.Showing(e,t,i,{position:{lineNumber:g,column:_},preference:o8._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state!==hv.Hidden&&(this.state=hv.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this._domNode.classList.remove(...this._iconClasses),this._iconClasses=[],this.state.type!==1)return;let e,t=!1;this.state.actions.allAIFixes?(e=Ae.sparkleFilled,this.state.actions.validActions.length===1&&(t=!0)):this.state.actions.hasAutoFix?this.state.actions.hasAIFix?e=Ae.lightbulbSparkleAutofix:e=Ae.lightbulbAutofix:this.state.actions.hasAIFix?e=Ae.lightbulbSparkle:e=Ae.lightBulb,this._updateLightbulbTitle(this.state.actions.hasAutoFix,t),this._iconClasses=lt.asClassNameArray(e),this._domNode.classList.add(...this._iconClasses)}_updateLightbulbTitle(e,t){this.state.type===1&&(t?this.title=w("codeActionAutoRun","Run: {0}",this.state.actions.validActions[0].action.title):e&&this._preferredKbLabel?this.title=w("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",this._preferredKbLabel):!e&&this._quickFixKbLabel?this.title=w("codeActionWithKb","Show Code Actions ({0})",this._quickFixKbLabel):e||(this.title=w("codeAction","Show Code Actions")))}set title(e){this._domNode.title=e}};a_.ID="editor.contrib.lightbulbWidget";a_._posPref=[0];a_=o8=dVe([GY(1,xi),GY(2,fn)],a_);var ihe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},s8=function(n,e){return function(t,i){e(t,i,n)}};const nhe="acceptSelectedCodeAction",rhe="previewSelectedCodeAction";class uVe{get templateId(){return"header"}renderTemplate(e){e.classList.add("group-header");const t=document.createElement("span");return e.append(t),{container:e,text:t}}renderElement(e,t,i){var r,o;i.text.textContent=(o=(r=e.group)===null||r===void 0?void 0:r.title)!==null&&o!==void 0?o:""}disposeTemplate(e){}}let a8=class{get templateId(){return"action"}constructor(e,t){this._supportsPreview=e,this._keybindingService=t}renderTemplate(e){e.classList.add(this.templateId);const t=document.createElement("div");t.className="icon",e.append(t);const i=document.createElement("span");i.className="title",e.append(i);const r=new iL(e,ma);return{container:e,icon:t,text:i,keybinding:r}}renderElement(e,t,i){var r,o,s;if(!((r=e.group)===null||r===void 0)&&r.icon?(i.icon.className=lt.asClassName(e.group.icon),e.group.icon.color&&(i.icon.style.color=Ue(e.group.icon.color.id))):(i.icon.className=lt.asClassName(Ae.lightBulb),i.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!e.item||!e.label)return;i.text.textContent=ohe(e.label),i.keybinding.set(e.keybinding),HDe(!!e.keybinding,i.keybinding.element);const a=(o=this._keybindingService.lookupKeybinding(nhe))===null||o===void 0?void 0:o.getLabel(),l=(s=this._keybindingService.lookupKeybinding(rhe))===null||s===void 0?void 0:s.getLabel();i.container.classList.toggle("option-disabled",e.disabled),e.disabled?i.container.title=e.label:a&&l?this._supportsPreview&&e.canPreview?i.container.title=w({key:"label-preview",comment:['placeholders are keybindings, e.g "F2 to apply, Shift+F2 to preview"']},"{0} to apply, {1} to preview",a,l):i.container.title=w({key:"label",comment:['placeholder is a keybinding, e.g "F2 to apply"']},"{0} to apply",a):i.container.title=""}disposeTemplate(e){}};a8=ihe([s8(1,xi)],a8);class hVe extends UIEvent{constructor(){super("acceptSelectedAction")}}class ZY extends UIEvent{constructor(){super("previewSelectedAction")}}function fVe(n){if(n.kind==="action")return n.label}let l8=class extends ce{constructor(e,t,i,r,o,s){super(),this._delegate=r,this._contextViewService=o,this._keybindingService=s,this._actionLineHeight=24,this._headerLineHeight=26,this.cts=this._register(new Pn),this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const a={getHeight:l=>l.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:l=>l.kind};this._list=this._register(new Zl(e,this.domNode,a,[new a8(t,this._keybindingService),new uVe],{keyboardSupport:!1,typeNavigationEnabled:!0,keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:fVe},accessibilityProvider:{getAriaLabel:l=>{if(l.kind==="action"){let c=l.label?ohe(l==null?void 0:l.label):"";return l.disabled&&(c=w({key:"customQuickFixWidget.labels",comment:["Action widget labels for accessibility."]},"{0}, Disabled Reason: {1}",c,l.disabled)),c}return null},getWidgetAriaLabel:()=>w({key:"customQuickFixWidget",comment:["An action widget option"]},"Action Widget"),getRole:l=>l.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(O_),this._register(this._list.onMouseClick(l=>this.onListClick(l))),this._register(this._list.onMouseOver(l=>this.onListHover(l))),this._register(this._list.onDidChangeFocus(()=>this.onFocus())),this._register(this._list.onDidChangeSelection(l=>this.onListSelection(l))),this._allMenuItems=i,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(e){return!e.disabled&&e.kind==="action"}hide(e){this._delegate.onHide(e),this.cts.cancel(),this._contextViewService.hideContextView()}layout(e){const t=this._allMenuItems.filter(l=>l.kind==="header").length,r=this._allMenuItems.length*this._actionLineHeight+t*this._headerLineHeight-t*this._actionLineHeight;this._list.layout(r);let o=e;if(this._allMenuItems.length>=50)o=380;else{const l=this._allMenuItems.map((c,d)=>{const u=this.domNode.ownerDocument.getElementById(this._list.getElementID(d));if(u){u.style.width="auto";const h=u.getBoundingClientRect().width;return u.style.width="",h}return 0});o=Math.max(...l,e)}const a=Math.min(r,this.domNode.ownerDocument.body.clientHeight*.7);return this._list.layout(a,o),this.domNode.style.height=`${a}px`,this._list.domFocus(),o}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(e){const t=this._list.getFocus();if(t.length===0)return;const i=t[0],r=this._list.element(i);if(!this.focusCondition(r))return;const o=e?new ZY:new hVe;this._list.setSelection([i],o)}onListSelection(e){if(!e.elements.length)return;const t=e.elements[0];t.item&&this.focusCondition(t)?this._delegate.onSelect(t.item,e.browserEvent instanceof ZY):this._list.setSelection([])}onFocus(){var e,t;const i=this._list.getFocus();if(i.length===0)return;const r=i[0],o=this._list.element(r);(t=(e=this._delegate).onFocus)===null||t===void 0||t.call(e,o.item)}async onListHover(e){const t=e.element;if(t&&t.item&&this.focusCondition(t)){if(this._delegate.onHover&&!t.disabled&&t.kind==="action"){const i=await this._delegate.onHover(t.item,this.cts.token);t.canPreview=i?i.canPreview:void 0}e.index&&this._list.splice(e.index,1,[t])}this._list.setFocus(typeof e.index=="number"?[e.index]:[])}onListClick(e){e.element&&this.focusCondition(e.element)&&this._list.setFocus([])}};l8=ihe([s8(4,bu),s8(5,xi)],l8);function ohe(n){return n.replace(/\r\n|\r|\n/g," ")}var gVe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},FO=function(n,e){return function(t,i){e(t,i,n)}};U("actionBar.toggledBackground",{dark:lm,light:lm,hcDark:lm,hcLight:lm},w("actionBar.toggledBackground","Background color for toggled action items in action bar."));const l_={Visible:new je("codeActionMenuVisible",!1,w("codeActionMenuVisible","Whether the action widget list is visible"))},V_=zt("actionWidgetService");let c_=class extends ce{get isVisible(){return l_.Visible.getValue(this._contextKeyService)||!1}constructor(e,t,i){super(),this._contextViewService=e,this._contextKeyService=t,this._instantiationService=i,this._list=this._register(new Lr)}show(e,t,i,r,o,s,a){const l=l_.Visible.bindTo(this._contextKeyService),c=this._instantiationService.createInstance(l8,e,t,i,r);this._contextViewService.showContextView({getAnchor:()=>o,render:d=>(l.set(!0),this._renderWidget(d,c,a??[])),onHide:d=>{l.reset(),this._onWidgetClosed(d)}},s,!1)}acceptSelected(e){var t;(t=this._list.value)===null||t===void 0||t.acceptSelected(e)}focusPrevious(){var e,t;(t=(e=this._list)===null||e===void 0?void 0:e.value)===null||t===void 0||t.focusPrevious()}focusNext(){var e,t;(t=(e=this._list)===null||e===void 0?void 0:e.value)===null||t===void 0||t.focusNext()}hide(){var e;(e=this._list.value)===null||e===void 0||e.hide(),this._list.clear()}_renderWidget(e,t,i){var r;const o=document.createElement("div");if(o.classList.add("action-widget"),e.appendChild(o),this._list.value=t,this._list.value)o.appendChild(this._list.value.domNode);else throw new Error("List has no value");const s=new xe,a=document.createElement("div"),l=e.appendChild(a);l.classList.add("context-view-block"),s.add(ge(l,Ne.MOUSE_DOWN,g=>g.stopPropagation()));const c=document.createElement("div"),d=e.appendChild(c);d.classList.add("context-view-pointerBlock"),s.add(ge(d,Ne.POINTER_MOVE,()=>d.remove())),s.add(ge(d,Ne.MOUSE_DOWN,()=>d.remove()));let u=0;if(i.length){const g=this._createActionBar(".action-widget-action-bar",i);g&&(o.appendChild(g.getContainer().parentElement),s.add(g),u=g.getContainer().offsetWidth)}const h=(r=this._list.value)===null||r===void 0?void 0:r.layout(u);o.style.width=`${h}px`;const f=s.add($c(e));return s.add(f.onDidBlur(()=>this.hide())),s}_createActionBar(e,t){if(!t.length)return;const i=Te(e),r=new sl(i);return r.push(t,{icon:!1,label:!0}),r}_onWidgetClosed(e){var t;(t=this._list.value)===null||t===void 0||t.hide(e)}};c_=gVe([FO(0,bu),FO(1,_t),FO(2,dt)],c_);Yt(V_,c_,1);const uL=1100;ji(class extends Ia{constructor(){super({id:"hideCodeActionWidget",title:{value:w("hideCodeActionWidget.title","Hide action widget"),original:"Hide action widget"},precondition:l_.Visible,keybinding:{weight:uL,primary:9,secondary:[1033]}})}run(n){n.get(V_).hide()}});ji(class extends Ia{constructor(){super({id:"selectPrevCodeAction",title:{value:w("selectPrevCodeAction.title","Select previous action"),original:"Select previous action"},precondition:l_.Visible,keybinding:{weight:uL,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(n){const e=n.get(V_);e instanceof c_&&e.focusPrevious()}});ji(class extends Ia{constructor(){super({id:"selectNextCodeAction",title:{value:w("selectNextCodeAction.title","Select next action"),original:"Select next action"},precondition:l_.Visible,keybinding:{weight:uL,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(n){const e=n.get(V_);e instanceof c_&&e.focusNext()}});ji(class extends Ia{constructor(){super({id:nhe,title:{value:w("acceptSelected.title","Accept selected action"),original:"Accept selected action"},precondition:l_.Visible,keybinding:{weight:uL,primary:3,secondary:[2137]}})}run(n){const e=n.get(V_);e instanceof c_&&e.acceptSelected()}});ji(class extends Ia{constructor(){super({id:rhe,title:{value:w("previewSelected.title","Preview selected action"),original:"Preview selected action"},precondition:l_.Visible,keybinding:{weight:uL,primary:2051}})}run(n){const e=n.get(V_);e instanceof c_&&e.acceptSelected(!0)}});const she=new je("supportedCodeAction",""),YY="_typescript.applyFixAllCodeAction";class pVe extends ce{constructor(e,t,i,r=250){super(),this._editor=e,this._markerService=t,this._signalChange=i,this._delay=r,this._autoTriggerTimer=this._register(new Kl),this._register(this._markerService.onMarkerChanged(o=>this._onMarkerChanges(o))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(e){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);this._signalChange(t?{trigger:e,selection:t}:void 0)}_onMarkerChanges(e){const t=this._editor.getModel();t&&e.some(i=>X6(i,t.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:js.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(!this._editor.hasModel())return;const t=this._editor.getSelection();if(e.type===1)return t;const i=this._editor.getOption(64).enabled;if(i!==xl.Off){{if(i===xl.On)return t;if(i===xl.OnCode){if(!t.isEmpty())return t;const o=this._editor.getModel(),{lineNumber:s,column:a}=t.getPosition(),l=o.getLineContent(s);if(l.length===0)return;if(a===1){if(/\s/.test(l[0]))return}else if(a===o.getLineMaxColumn(s)){if(/\s/.test(l[l.length-1]))return}else if(/\s/.test(l[a-2])&&/\s/.test(l[a-1]))return}}return t}}}var tm;(function(n){n.Empty={type:0};class e{constructor(i,r,o){this.trigger=i,this.position=r,this._cancellablePromise=o,this.type=1,this.actions=o.catch(s=>{if(Jc(s))return ahe;throw s})}cancel(){this._cancellablePromise.cancel()}}n.Triggered=e})(tm||(tm={}));const ahe=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1,hasAIFix:!1,allAIFixes:!1});class mVe extends ce{constructor(e,t,i,r,o,s){super(),this._editor=e,this._registry=t,this._markerService=i,this._progressService=o,this._configurationService=s,this._codeActionOracle=this._register(new Lr),this._state=tm.Empty,this._onDidChangeState=this._register(new ne),this.onDidChangeState=this._onDidChangeState.event,this._disposed=!1,this._supportedCodeActions=she.bindTo(r),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._register(this._editor.onDidChangeConfiguration(a=>{a.hasChanged(64)&&this._update()})),this._update()}dispose(){this._disposed||(this._disposed=!0,super.dispose(),this.setState(tm.Empty,!0))}_settingEnabledNearbyQuickfixes(){var e;const t=(e=this._editor)===null||e===void 0?void 0:e.getModel();return this._configurationService?this._configurationService.getValue("editor.codeActionWidget.includeNearbyQuickFixes",{resource:t==null?void 0:t.uri}):!1}_update(){if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(tm.Empty);const e=this._editor.getModel();if(e&&this._registry.has(e)&&!this._editor.getOption(90)){const t=this._registry.all(e).flatMap(i=>{var r;return(r=i.providedCodeActionKinds)!==null&&r!==void 0?r:[]});this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new pVe(this._editor,this._markerService,i=>{var r;if(!i){this.setState(tm.Empty);return}const o=i.selection.getStartPosition(),s=gr(async a=>{var l,c,d,u,h,f,g,_,y,m;if(this._settingEnabledNearbyQuickfixes()&&i.trigger.type===1&&(i.trigger.triggerAction===js.QuickFix||!((c=(l=i.trigger.filter)===null||l===void 0?void 0:l.include)===null||c===void 0)&&c.contains(mt.QuickFix))){const p=await e1(this._registry,e,i.selection,i.trigger,mh.None,a),v=[...p.allActions];if(a.isCancellationRequested)return ahe;const b=(d=p.validActions)===null||d===void 0?void 0:d.some(S=>S.action.kind?mt.QuickFix.contains(new mt(S.action.kind)):!1),C=this._markerService.read({resource:e.uri});if(b){for(const S of p.validActions)!((h=(u=S.action.command)===null||u===void 0?void 0:u.arguments)===null||h===void 0)&&h.some(x=>typeof x=="string"&&x.includes(YY))&&(S.action.diagnostics=[...C.filter(x=>x.relatedInformation)]);return{validActions:p.validActions,allActions:v,documentation:p.documentation,hasAutoFix:p.hasAutoFix,hasAIFix:p.hasAIFix,allAIFixes:p.allAIFixes,dispose:()=>{p.dispose()}}}else if(!b&&C.length>0){const S=i.selection.getPosition();let x=S,k=Number.MAX_VALUE;const D=[...p.validActions];for(const I of C){const N=I.endColumn,R=I.endLineNumber,O=I.startLineNumber;if(R===S.lineNumber||O===S.lineNumber){x=new re(R,N);const W={type:i.trigger.type,triggerAction:i.trigger.triggerAction,filter:{include:!((f=i.trigger.filter)===null||f===void 0)&&f.include?(g=i.trigger.filter)===null||g===void 0?void 0:g.include:mt.QuickFix},autoApply:i.trigger.autoApply,context:{notAvailableMessage:((_=i.trigger.context)===null||_===void 0?void 0:_.notAvailableMessage)||"",position:x}},K=new Ke(x.lineNumber,x.column,x.lineNumber,x.column),Q=await e1(this._registry,e,K,W,mh.None,a);if(Q.validActions.length!==0){for(const Y of Q.validActions)!((m=(y=Y.action.command)===null||y===void 0?void 0:y.arguments)===null||m===void 0)&&m.some(V=>typeof V=="string"&&V.includes(YY))&&(Y.action.diagnostics=[...C.filter(V=>V.relatedInformation)]);p.allActions.length===0&&v.push(...Q.allActions),Math.abs(S.column-N)<k?D.unshift(...Q.validActions):D.push(...Q.validActions)}k=Math.abs(S.column-N)}}const E=D.filter((I,N,R)=>R.findIndex(O=>O.action.title===I.action.title)===N);return E.sort((I,N)=>I.action.isPreferred&&!N.action.isPreferred?-1:!I.action.isPreferred&&N.action.isPreferred||I.action.isAI&&!N.action.isAI?1:!I.action.isAI&&N.action.isAI?-1:0),{validActions:E,allActions:v,documentation:p.documentation,hasAutoFix:p.hasAutoFix,hasAIFix:p.hasAIFix,allAIFixes:p.allAIFixes,dispose:()=>{p.dispose()}}}}return e1(this._registry,e,i.selection,i.trigger,mh.None,a)});i.trigger.type===1&&((r=this._progressService)===null||r===void 0||r.showWhile(s,250)),this.setState(new tm.Triggered(i.trigger,o,s))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:js.Default})}else this._supportedCodeActions.reset()}trigger(e){var t;(t=this._codeActionOracle.value)===null||t===void 0||t.trigger(e)}setState(e,t){e!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=e,!t&&!this._disposed&&this._onDidChangeState.fire(e))}}var _Ve=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Eu=function(n,e){return function(t,i){e(t,i,n)}},sw;const vVe="quickfix-edit-highlight";let qg=sw=class extends ce{static get(e){return e.getContribution(sw.ID)}constructor(e,t,i,r,o,s,a,l,c,d){super(),this._commandService=a,this._configurationService=l,this._actionWidgetService=c,this._instantiationService=d,this._activeCodeActions=this._register(new Lr),this._showDisabled=!1,this._disposed=!1,this._editor=e,this._model=this._register(new mVe(this._editor,o.codeActionProvider,t,i,s,l)),this._register(this._model.onDidChangeState(u=>this.update(u))),this._lightBulbWidget=new up(()=>{const u=this._editor.getContribution(a_.ID);return u&&this._register(u.onClick(h=>this.showCodeActionsFromLightbulb(h.actions,h))),u}),this._resolver=r.createInstance(uN),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){this._disposed=!0,super.dispose()}async showCodeActionsFromLightbulb(e,t){if(e.allAIFixes&&e.validActions.length===1){const i=e.validActions[0],r=i.action.command;r&&r.id==="inlineChat.start"&&r.arguments&&r.arguments.length>=1&&(r.arguments[0]={...r.arguments[0],autoSend:!1}),await this._applyCodeAction(i,!1,!1,Zv.FromAILightbulb);return}await this.showCodeActionList(e,t,{includeDisabledActions:!1,fromLightbulb:!0})}showCodeActions(e,t,i){return this.showCodeActionList(t,i,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(e,t,i,r){var o;if(!this._editor.hasModel())return;(o=zo.get(this._editor))===null||o===void 0||o.closeMessage();const s=this._editor.getPosition();this._trigger({type:1,triggerAction:t,filter:i,autoApply:r,context:{notAvailableMessage:e,position:s}})}_trigger(e){return this._model.trigger(e)}async _applyCodeAction(e,t,i,r){try{await this._instantiationService.invokeFunction(rVe,e,r,{preview:i,editor:this._editor})}finally{t&&this._trigger({type:2,triggerAction:js.QuickFix,filter:{}})}}async update(e){var t,i,r,o,s,a,l;if(e.type!==1){(t=this._lightBulbWidget.rawValue)===null||t===void 0||t.hide();return}let c;try{c=await e.actions}catch(d){St(d);return}if(!this._disposed)if((i=this._lightBulbWidget.value)===null||i===void 0||i.update(c,e.trigger,e.position),e.trigger.type===1){if(!((r=e.trigger.filter)===null||r===void 0)&&r.include){const u=this.tryGetValidActionToApply(e.trigger,c);if(u){try{(o=this._lightBulbWidget.value)===null||o===void 0||o.hide(),await this._applyCodeAction(u,!1,!1,Zv.FromCodeActions)}finally{c.dispose()}return}if(e.trigger.context){const h=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,c);if(h&&h.action.disabled){(s=zo.get(this._editor))===null||s===void 0||s.showMessage(h.action.disabled,e.trigger.context.position),c.dispose();return}}}const d=!!(!((a=e.trigger.filter)===null||a===void 0)&&a.include);if(e.trigger.context&&(!c.allActions.length||!d&&!c.validActions.length)){(l=zo.get(this._editor))===null||l===void 0||l.showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=c,c.dispose();return}this._activeCodeActions.value=c,this.showCodeActionList(c,this.toCoords(e.position),{includeDisabledActions:d,fromLightbulb:!1})}else this._actionWidgetService.isVisible?c.dispose():this._activeCodeActions.value=c}getInvalidActionThatWouldHaveBeenApplied(e,t){if(t.allActions.length&&(e.autoApply==="first"&&t.validActions.length===0||e.autoApply==="ifSingle"&&t.allActions.length===1))return t.allActions.find(({action:i})=>i.disabled)}tryGetValidActionToApply(e,t){if(t.validActions.length&&(e.autoApply==="first"&&t.validActions.length>0||e.autoApply==="ifSingle"&&t.validActions.length===1))return t.validActions[0]}async showCodeActionList(e,t,i){const r=this._editor.createDecorationsCollection(),o=this._editor.getDomNode();if(!o)return;const s=i.includeDisabledActions&&(this._showDisabled||e.validActions.length===0)?e.allActions:e.validActions;if(!s.length)return;const a=re.isIPosition(t)?this.toCoords(t):t,l={onSelect:async(c,d)=>{this._applyCodeAction(c,!0,!!d,Zv.FromCodeActions),this._actionWidgetService.hide(),r.clear()},onHide:()=>{var c;(c=this._editor)===null||c===void 0||c.focus(),r.clear()},onHover:async(c,d)=>{var u;if(!d.isCancellationRequested)return{canPreview:!!(!((u=c.action.edit)===null||u===void 0)&&u.edits.length)}},onFocus:c=>{var d,u;if(c&&c.action){const h=c.action.ranges,f=c.action.diagnostics;if(r.clear(),h&&h.length>0){const g=h.map(_=>({range:_,options:sw.DECORATION}));r.set(g)}else if(f&&f.length>0){const g=f.map(y=>({range:y,options:sw.DECORATION}));r.set(g);const _=f[0];if(_.startLineNumber&&_.startColumn){const y=(u=(d=this._editor.getModel())===null||d===void 0?void 0:d.getWordAtPosition({lineNumber:_.startLineNumber,column:_.startColumn}))===null||u===void 0?void 0:u.word;Ih(w("editingNewSelection","Context: {0} at line {1} and column {2}.",y,_.startLineNumber,_.startColumn))}}}else r.clear()}};this._actionWidgetService.show("codeActionWidget",!0,cVe(s,this._shouldShowHeaders(),this._resolver.getResolver()),l,a,o,this._getActionBarActions(e,t,i))}toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(e),i=Vn(this._editor.getDomNode()),r=i.left+t.left,o=i.top+t.top+t.height;return{x:r,y:o}}_shouldShowHeaders(){var e;const t=(e=this._editor)===null||e===void 0?void 0:e.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:t==null?void 0:t.uri})}_getActionBarActions(e,t,i){if(i.fromLightbulb)return[];const r=e.documentation.map(o=>{var s;return{id:o.id,label:o.title,tooltip:(s=o.tooltip)!==null&&s!==void 0?s:"",class:void 0,enabled:!0,run:()=>{var a;return this._commandService.executeCommand(o.id,...(a=o.arguments)!==null&&a!==void 0?a:[])}}});return i.includeDisabledActions&&e.validActions.length>0&&e.allActions.length!==e.validActions.length&&r.push(this._showDisabled?{id:"hideMoreActions",label:w("hideMoreActions","Hide Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(e,t,i))}:{id:"showMoreActions",label:w("showMoreActions","Show Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(e,t,i))}),r}};qg.ID="editor.contrib.codeActionController";qg.DECORATION=kt.register({description:"quickfix-highlight",className:vVe});qg=sw=_Ve([Eu(1,yu),Eu(2,_t),Eu(3,dt),Eu(4,qe),Eu(5,pp),Eu(6,fn),Eu(7,jt),Eu(8,V_),Eu(9,dt)],qg);cl((n,e)=>{((r,o)=>{o&&e.addRule(`.monaco-editor ${r} { background-color: ${o}; }`)})(".quickfix-edit-highlight",n.getColor($d));const i=n.getColor(zf);i&&e.addRule(`.monaco-editor .quickfix-edit-highlight { border: 1px ${Fc(n.type)?"dotted":"solid"} ${i}; box-sizing: border-box; }`)});function hL(n){return we.regex(she.keys()[0],new RegExp("(\\s|^)"+xa(n.value)+"\\b"))}const LH={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:w("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:w("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[w("args.schema.apply.first","Always apply the first returned code action."),w("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),w("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:w("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};function H_(n,e,t,i,r=js.Default){if(n.hasModel()){const o=qg.get(n);o==null||o.manualTriggerAtCurrentPosition(e,r,t,i)}}class bVe extends $e{constructor(){super({id:wH,label:w("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:we.and(j.writable,j.hasCodeActionsProvider),kbOpts:{kbExpr:j.textInputFocus,primary:2137,weight:100}})}run(e,t){return H_(t,w("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,js.QuickFix)}}class yVe extends kr{constructor(){super({id:Xue,precondition:we.and(j.writable,j.hasCodeActionsProvider),metadata:{description:"Trigger a code action",args:[{name:"args",schema:LH}]}})}runEditorCommand(e,t,i){const r=Fd.fromUser(i,{kind:mt.Empty,apply:"ifSingle"});return H_(t,typeof(i==null?void 0:i.kind)=="string"?r.preferred?w("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",i.kind):w("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",i.kind):r.preferred?w("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):w("editor.action.codeAction.noneMessage","No code actions available"),{include:r.kind,includeSourceActions:!0,onlyIncludePreferredActions:r.preferred},r.apply)}}class CVe extends $e{constructor(){super({id:Jue,label:w("refactor.label","Refactor..."),alias:"Refactor...",precondition:we.and(j.writable,j.hasCodeActionsProvider),kbOpts:{kbExpr:j.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:we.and(j.writable,hL(mt.Refactor))},metadata:{description:"Refactor...",args:[{name:"args",schema:LH}]}})}run(e,t,i){const r=Fd.fromUser(i,{kind:mt.Refactor,apply:"never"});return H_(t,typeof(i==null?void 0:i.kind)=="string"?r.preferred?w("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",i.kind):w("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",i.kind):r.preferred?w("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):w("editor.action.refactor.noneMessage","No refactorings available"),{include:mt.Refactor.contains(r.kind)?r.kind:mt.None,onlyIncludePreferredActions:r.preferred},r.apply,js.Refactor)}}class wVe extends $e{constructor(){super({id:ehe,label:w("source.label","Source Action..."),alias:"Source Action...",precondition:we.and(j.writable,j.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:we.and(j.writable,hL(mt.Source))},metadata:{description:"Source Action...",args:[{name:"args",schema:LH}]}})}run(e,t,i){const r=Fd.fromUser(i,{kind:mt.Source,apply:"never"});return H_(t,typeof(i==null?void 0:i.kind)=="string"?r.preferred?w("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",i.kind):w("editor.action.source.noneMessage.kind","No source actions for '{0}' available",i.kind):r.preferred?w("editor.action.source.noneMessage.preferred","No preferred source actions available"):w("editor.action.source.noneMessage","No source actions available"),{include:mt.Source.contains(r.kind)?r.kind:mt.None,includeSourceActions:!0,onlyIncludePreferredActions:r.preferred},r.apply,js.SourceAction)}}class SVe extends $e{constructor(){super({id:SH,label:w("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:we.and(j.writable,hL(mt.SourceOrganizeImports)),kbOpts:{kbExpr:j.textInputFocus,primary:1581,weight:100}})}run(e,t){return H_(t,w("editor.action.organize.noneMessage","No organize imports action available"),{include:mt.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",js.OrganizeImports)}}class xVe extends $e{constructor(){super({id:xH,label:w("fixAll.label","Fix All"),alias:"Fix All",precondition:we.and(j.writable,hL(mt.SourceFixAll))})}run(e,t){return H_(t,w("fixAll.noneMessage","No fix all action available"),{include:mt.SourceFixAll,includeSourceActions:!0},"ifSingle",js.FixAll)}}class LVe extends $e{constructor(){super({id:Que,label:w("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:we.and(j.writable,hL(mt.QuickFix)),kbOpts:{kbExpr:j.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(e,t){return H_(t,w("editor.action.autoFix.noneMessage","No auto fixes available"),{include:mt.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",js.AutoFix)}}li(qg.ID,qg,3);li(a_.ID,a_,4);Ee(bVe);Ee(CVe);Ee(wVe);Ee(SVe);Ee(LVe);Ee(xVe);We(new yVe);nn.as(id.Configuration).registerConfiguration({...dM,properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:w("showCodeActionHeaders","Enable/disable showing group headers in the Code Action menu."),default:!0}}});nn.as(id.Configuration).registerConfiguration({...dM,properties:{"editor.codeActionWidget.includeNearbyQuickFixes":{type:"boolean",scope:5,description:w("includeNearbyQuickFixes","Enable/disable showing nearest Quick Fix within a line when not currently on a diagnostic."),default:!0}}});class c8{constructor(){this.lenses=[],this._disposables=new xe}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(e,t){this._disposables.add(e);for(const i of e.lenses)this.lenses.push({symbol:i,provider:t})}}async function lhe(n,e,t){const i=n.ordered(e),r=new Map,o=new c8,s=i.map(async(a,l)=>{r.set(a,l);try{const c=await Promise.resolve(a.provideCodeLenses(e,t));c&&o.add(c,a)}catch(c){Hn(c)}});return await Promise.all(s),o.lenses=o.lenses.sort((a,l)=>a.symbol.range.startLineNumber<l.symbol.range.startLineNumber?-1:a.symbol.range.startLineNumber>l.symbol.range.startLineNumber?1:r.get(a.provider)<r.get(l.provider)?-1:r.get(a.provider)>r.get(l.provider)?1:a.symbol.range.startColumn<l.symbol.range.startColumn?-1:a.symbol.range.startColumn>l.symbol.range.startColumn?1:0),o}Gt.registerCommand("_executeCodeLensProvider",function(n,...e){let[t,i]=e;Ci(rt.isUri(t)),Ci(typeof i=="number"||!i);const{codeLensProvider:r}=n.get(qe),o=n.get(Ji).getModel(t);if(!o)throw Qa();const s=[],a=new xe;return lhe(r,o,Ht.None).then(l=>{a.add(l);const c=[];for(const d of l.lenses)i==null||d.symbol.command?s.push(d.symbol):i-- >0&&d.provider.resolveCodeLens&&c.push(Promise.resolve(d.provider.resolveCodeLens(o,d.symbol,Ht.None)).then(u=>s.push(u||d.symbol)));return Promise.all(c)}).then(()=>s).finally(()=>{setTimeout(()=>a.dispose(),100)})});var kVe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},DVe=function(n,e){return function(t,i){e(t,i,n)}};const che=zt("ICodeLensCache");class XY{constructor(e,t){this.lineCount=e,this.data=t}}let d8=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new hp(20,.75);const t="codelens/cache";jC(wi,()=>e.remove(t,1));const i="codelens/cache2",r=e.get(i,1,"{}");this._deserialize(r),Ve.once(e.onWillSaveState)(o=>{o.reason===SS.SHUTDOWN&&e.store(i,this._serialize(),1,1)})}put(e,t){const i=t.lenses.map(s=>{var a;return{range:s.symbol.range,command:s.symbol.command&&{id:"",title:(a=s.symbol.command)===null||a===void 0?void 0:a.title}}}),r=new c8;r.add({lenses:i,dispose:()=>{}},this._fakeProvider);const o=new XY(e.getLineCount(),r);this._cache.set(e.uri.toString(),o)}get(e){const t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){const e=Object.create(null);for(const[t,i]of this._cache){const r=new Set;for(const o of i.data.lenses)r.add(o.symbol.range.startLineNumber);e[t]={lineCount:i.lineCount,lines:[...r.values()]}}return JSON.stringify(e)}_deserialize(e){try{const t=JSON.parse(e);for(const i in t){const r=t[i],o=[];for(const a of r.lines)o.push({range:new B(a,1,a,11)});const s=new c8;s.add({lenses:o,dispose(){}},this._fakeProvider),this._cache.set(i,new XY(r.lineCount,s))}}catch{}}};d8=kVe([DVe(0,Yl)],d8);Yt(che,d8,1);class TVe{constructor(e,t,i){this.afterColumn=1073741824,this.afterLineNumber=e,this.heightInPx=t,this._onHeight=i,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){this._lastHeight===void 0?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class HS{constructor(e,t){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id=`codelens.widget-${HS._idPool++}`,this.updatePosition(t),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(e,t){this._commands.clear();const i=[];let r=!1;for(let o=0;o<e.length;o++){const s=e[o];if(s&&(r=!0,s.command)){const a=gg(s.command.title.trim());if(s.command.id){const l=`c${HS._idPool++}`;i.push(Te("a",{id:l,title:s.command.tooltip,role:"button"},...a)),this._commands.set(l,s.command)}else i.push(Te("span",{title:s.command.tooltip},...a));o+1<e.length&&i.push(Te("span",void 0,"|"))}}r?(Kr(this._domNode,...i),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):Kr(this._domNode,Te("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){const t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}}HS._idPool=0;class BO{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){const t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let i=0,r=t.length;i<r;i++)this._addDecorationsCallbacks[i](t[i])}}const QY=kt.register({collapseOnReplaceEdit:!0,description:"codelens"});class JY{constructor(e,t,i,r,o,s){this._isDisposed=!1,this._editor=t,this._data=e,this._decorationIds=[];let a;const l=[];this._data.forEach((c,d)=>{c.symbol.command&&l.push(c.symbol),i.addDecoration({range:c.symbol.range,options:QY},u=>this._decorationIds[d]=u),a?a=B.plusRange(a,c.symbol.range):a=B.lift(c.symbol.range)}),this._viewZone=new TVe(a.startLineNumber-1,o,s),this._viewZoneId=r.addZone(this._viewZone),l.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(l,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new HS(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t==null||t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((e,t)=>{const i=this._editor.getModel().getDecorationRange(e),r=this._data[t].symbol;return!!(i&&B.isEmpty(r.range)===i.isEmpty())})}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach((i,r)=>{t.addDecoration({range:i.symbol.range,options:QY},o=>this._decorationIds[r]=o)})}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){const i=e.getDecorationRange(this._decorationIds[t]);i&&(this._data[t].symbol.range=i)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){const i=e[t];if(i){const{symbol:r}=this._data[t];r.command=i.command||r.command}}}getCommand(e){var t;return(t=this._contentWidget)===null||t===void 0?void 0:t.getCommand(e)}getLineNumber(){const e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var EVe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},kC=function(n,e){return function(t,i){e(t,i,n)}};let Gb=class{constructor(e,t,i,r,o,s){this._editor=e,this._languageFeaturesService=t,this._commandService=r,this._notificationService=o,this._codeLensCache=s,this._disposables=new xe,this._localToDispose=new xe,this._lenses=[],this._oldCodeLensModels=new xe,this._provideCodeLensDebounce=i.for(t.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=i.for(t.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new ki(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(a=>{(a.hasChanged(50)||a.hasChanged(19)||a.hasChanged(18))&&this._updateLensStyle(),a.hasChanged(17)&&this._onModelChange()})),this._disposables.add(t.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(e=this._currentCodeLensModel)===null||e===void 0||e.dispose()}_getLayoutInfo(){const e=Math.max(1.3,this._editor.getOption(66)/this._editor.getOption(52));let t=this._editor.getOption(19);return(!t||t<5)&&(t=this._editor.getOption(52)*.9|0),{fontSize:t,codeLensHeight:t*e|0}}_updateLensStyle(){const{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),i=this._editor.getOption(18),r=this._editor.getOption(50),{style:o}=this._editor.getContainerDomNode();o.setProperty("--vscode-editorCodeLens-lineHeight",`${e}px`),o.setProperty("--vscode-editorCodeLens-fontSize",`${t}px`),o.setProperty("--vscode-editorCodeLens-fontFeatureSettings",r.fontFeatureSettings),i&&(o.setProperty("--vscode-editorCodeLens-fontFamily",i),o.setProperty("--vscode-editorCodeLens-fontFamilyDefault",ps.fontFamily)),this._editor.changeViewZones(s=>{for(const a of this._lenses)a.updateHeight(e,s)})}_localDispose(){var e,t,i;(e=this._getCodeLensModelPromise)===null||e===void 0||e.cancel(),this._getCodeLensModelPromise=void 0,(t=this._resolveCodeLensesPromise)===null||t===void 0||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(i=this._currentCodeLensModel)===null||i===void 0||i.dispose()}_onModelChange(){this._localDispose();const e=this._editor.getModel();if(!e||!this._editor.getOption(17)||e.isTooLargeForTokenization())return;const t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!this._languageFeaturesService.codeLensProvider.has(e)){t&&Rg(()=>{const r=this._codeLensCache.get(e);t===r&&(this._codeLensCache.delete(e),this._onModelChange())},30*1e3,this._localToDispose);return}for(const r of this._languageFeaturesService.codeLensProvider.all(e))if(typeof r.onDidChange=="function"){const o=r.onDidChange(()=>i.schedule());this._localToDispose.add(o)}const i=new ki(()=>{var r;const o=Date.now();(r=this._getCodeLensModelPromise)===null||r===void 0||r.cancel(),this._getCodeLensModelPromise=gr(s=>lhe(this._languageFeaturesService.codeLensProvider,e,s)),this._getCodeLensModelPromise.then(s=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=s,this._codeLensCache.put(e,s);const a=this._provideCodeLensDebounce.update(e,Date.now()-o);i.delay=a,this._renderCodeLensSymbols(s),this._resolveCodeLensesInViewportSoon()},St)},this._provideCodeLensDebounce.get(e));this._localToDispose.add(i),this._localToDispose.add(at(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{var r;this._editor.changeDecorations(o=>{this._editor.changeViewZones(s=>{const a=[];let l=-1;this._lenses.forEach(d=>{!d.isValid()||l===d.getLineNumber()?a.push(d):(d.update(s),l=d.getLineNumber())});const c=new BO;a.forEach(d=>{d.dispose(c,s),this._lenses.splice(this._lenses.indexOf(d),1)}),c.commit(o)})}),i.schedule(),this._resolveCodeLensesScheduler.cancel(),(r=this._resolveCodeLensesPromise)===null||r===void 0||r.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{i.schedule()})),this._localToDispose.add(this._editor.onDidBlurEditorText(()=>{i.cancel()})),this._localToDispose.add(this._editor.onDidScrollChange(r=>{r.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(at(()=>{if(this._editor.getModel()){const r=Xc.capture(this._editor);this._editor.changeDecorations(o=>{this._editor.changeViewZones(s=>{this._disposeAllLenses(o,s)})}),r.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(r=>{if(r.target.type!==9)return;let o=r.target.element;if((o==null?void 0:o.tagName)==="SPAN"&&(o=o.parentElement),(o==null?void 0:o.tagName)==="A")for(const s of this._lenses){const a=s.getCommand(o);if(a){this._commandService.executeCommand(a.id,...a.arguments||[]).catch(l=>this._notificationService.error(l));break}}})),i.schedule()}_disposeAllLenses(e,t){const i=new BO;for(const r of this._lenses)r.dispose(i,t);e&&i.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){if(!this._editor.hasModel())return;const t=this._editor.getModel().getLineCount(),i=[];let r;for(const a of e.lenses){const l=a.symbol.range.startLineNumber;l<1||l>t||(r&&r[r.length-1].symbol.range.startLineNumber===l?r.push(a):(r=[a],i.push(r)))}if(!i.length&&!this._lenses.length)return;const o=Xc.capture(this._editor),s=this._getLayoutInfo();this._editor.changeDecorations(a=>{this._editor.changeViewZones(l=>{const c=new BO;let d=0,u=0;for(;u<i.length&&d<this._lenses.length;){const h=i[u][0].symbol.range.startLineNumber,f=this._lenses[d].getLineNumber();f<h?(this._lenses[d].dispose(c,l),this._lenses.splice(d,1)):f===h?(this._lenses[d].updateCodeLensSymbols(i[u],c),u++,d++):(this._lenses.splice(d,0,new JY(i[u],this._editor,c,l,s.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),d++,u++)}for(;d<this._lenses.length;)this._lenses[d].dispose(c,l),this._lenses.splice(d,1);for(;u<i.length;)this._lenses.push(new JY(i[u],this._editor,c,l,s.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),u++;c.commit(a)})}),o.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var e;(e=this._resolveCodeLensesPromise)===null||e===void 0||e.cancel(),this._resolveCodeLensesPromise=void 0;const t=this._editor.getModel();if(!t)return;const i=[],r=[];if(this._lenses.forEach(a=>{const l=a.computeIfNecessary(t);l&&(i.push(l),r.push(a))}),i.length===0)return;const o=Date.now(),s=gr(a=>{const l=i.map((c,d)=>{const u=new Array(c.length),h=c.map((f,g)=>!f.symbol.command&&typeof f.provider.resolveCodeLens=="function"?Promise.resolve(f.provider.resolveCodeLens(t,f.symbol,a)).then(_=>{u[g]=_},Hn):(u[g]=f.symbol,Promise.resolve(void 0)));return Promise.all(h).then(()=>{!a.isCancellationRequested&&!r[d].isDisposed()&&r[d].updateCommands(u)})});return Promise.all(l)});this._resolveCodeLensesPromise=s,this._resolveCodeLensesPromise.then(()=>{const a=this._resolveCodeLensesDebounce.update(t,Date.now()-o);this._resolveCodeLensesScheduler.delay=a,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),s===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},a=>{St(a),s===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}async getModel(){var e;return await this._getCodeLensModelPromise,await this._resolveCodeLensesPromise,!((e=this._currentCodeLensModel)===null||e===void 0)&&e.isDisposed?void 0:this._currentCodeLensModel}};Gb.ID="css.editor.codeLens";Gb=EVe([kC(1,qe),kC(2,dl),kC(3,fn),kC(4,Rn),kC(5,che)],Gb);li(Gb.ID,Gb,1);Ee(class extends $e{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:j.hasCodeLensProvider,label:w("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}async run(e,t){if(!t.hasModel())return;const i=e.get(rd),r=e.get(fn),o=e.get(Rn),s=t.getSelection().positionLineNumber,a=t.getContribution(Gb.ID);if(!a)return;const l=await a.getModel();if(!l)return;const c=[];for(const h of l.lenses)h.symbol.command&&h.symbol.range.startLineNumber===s&&c.push({label:h.symbol.command.title,command:h.symbol.command});if(c.length===0)return;const d=await i.pick(c,{canPickMany:!1,placeHolder:w("placeHolder","Select a command")});if(!d)return;let u=d.command;if(l.isDisposed){const h=await a.getModel(),f=h==null?void 0:h.lenses.find(g=>{var _;return g.symbol.range.startLineNumber===s&&((_=g.symbol.command)===null||_===void 0?void 0:_.title)===u.title});if(!f||!f.symbol.command)return;u=f.symbol.command}try{await r.executeCommand(u.id,...u.arguments||[])}catch(h){o.error(h)}}});var IVe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},WO=function(n,e){return function(t,i){e(t,i,n)}};class kH{constructor(e,t){this._editorWorkerClient=new D6(e,!1,"editorWorkerService",t)}async provideDocumentColors(e,t){return this._editorWorkerClient.computeDefaultDocumentColors(e.uri)}provideColorPresentations(e,t,i){const r=t.range,o=t.color,s=o.alpha,a=new ue(new Xt(Math.round(255*o.red),Math.round(255*o.green),Math.round(255*o.blue),s)),l=s?ue.Format.CSS.formatRGB(a):ue.Format.CSS.formatRGBA(a),c=s?ue.Format.CSS.formatHSL(a):ue.Format.CSS.formatHSLA(a),d=s?ue.Format.CSS.formatHex(a):ue.Format.CSS.formatHexA(a),u=[];return u.push({label:l,textEdit:{range:r,text:l}}),u.push({label:c,textEdit:{range:r,text:c}}),u.push({label:d,textEdit:{range:r,text:d}}),u}}let u8=class extends ce{constructor(e,t,i){super(),this._register(i.colorProvider.register("*",new kH(e,t)))}};u8=IVe([WO(0,Ji),WO(1,Pi),WO(2,qe)],u8);oL(u8);async function dhe(n,e,t,i=!0){return DH(new NVe,n,e,t,i)}function uhe(n,e,t,i){return Promise.resolve(t.provideColorPresentations(n,e,i))}class NVe{constructor(){}async compute(e,t,i,r){const o=await e.provideDocumentColors(t,i);if(Array.isArray(o))for(const s of o)r.push({colorInfo:s,provider:e});return Array.isArray(o)}}class PVe{constructor(){}async compute(e,t,i,r){const o=await e.provideDocumentColors(t,i);if(Array.isArray(o))for(const s of o)r.push({range:s.range,color:[s.color.red,s.color.green,s.color.blue,s.color.alpha]});return Array.isArray(o)}}class MVe{constructor(e){this.colorInfo=e}async compute(e,t,i,r){const o=await e.provideColorPresentations(t,this.colorInfo,Ht.None);return Array.isArray(o)&&r.push(...o),Array.isArray(o)}}async function DH(n,e,t,i,r){let o=!1,s;const a=[],l=e.ordered(t);for(let c=l.length-1;c>=0;c--){const d=l[c];if(d instanceof kH)s=d;else try{await n.compute(d,t,i,a)&&(o=!0)}catch(u){Hn(u)}}return o?a:s&&r?(await n.compute(s,t,i,a),a):[]}function hhe(n,e){const{colorProvider:t}=n.get(qe),i=n.get(Ji).getModel(e);if(!i)throw Qa();const r=n.get(jt).getValue("editor.defaultColorDecorators",{resource:e});return{model:i,colorProviderRegistry:t,isDefaultColorDecoratorsEnabled:r}}Gt.registerCommand("_executeDocumentColorProvider",function(n,...e){const[t]=e;if(!(t instanceof rt))throw Qa();const{model:i,colorProviderRegistry:r,isDefaultColorDecoratorsEnabled:o}=hhe(n,t);return DH(new PVe,r,i,Ht.None,o)});Gt.registerCommand("_executeColorPresentationProvider",function(n,...e){const[t,i]=e,{uri:r,range:o}=i;if(!(r instanceof rt)||!Array.isArray(t)||t.length!==4||!B.isIRange(o))throw Qa();const{model:s,colorProviderRegistry:a,isDefaultColorDecoratorsEnabled:l}=hhe(n,r),[c,d,u,h]=t;return DH(new MVe({range:o,color:{red:c,green:d,blue:u,alpha:h}}),a,s,Ht.None,l)});var RVe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},VO=function(n,e){return function(t,i){e(t,i,n)}},h8;const fhe=Object.create({});let Kg=h8=class extends ce{constructor(e,t,i,r){super(),this._editor=e,this._configurationService=t,this._languageFeaturesService=i,this._localToDispose=this._register(new xe),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new Hx(this._editor),this._decoratorLimitReporter=new AVe,this._colorDecorationClassRefs=this._register(new xe),this._debounceInformation=r.for(i.colorProvider,"Document Colors",{min:h8.RECOMPUTE_TIME}),this._register(e.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(e.onDidChangeModelLanguage(()=>this.updateColors())),this._register(i.colorProvider.onDidChange(()=>this.updateColors())),this._register(e.onDidChangeConfiguration(o=>{const s=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(145);const a=s!==this._isColorDecoratorsEnabled||o.hasChanged(21),l=o.hasChanged(145);(a||l)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(145),this.updateColors()}isEnabled(){const e=this._editor.getModel();if(!e)return!1;const t=e.getLanguageId(),i=this._configurationService.getValue(t);if(i&&typeof i=="object"){const r=i.colorDecorators;if(r&&r.enable!==void 0&&!r.enable)return r.enable}return this._editor.getOption(20)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;const e=this._editor.getModel();!e||!this._languageFeaturesService.colorProvider.has(e)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new Kl,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(e)))})),this.beginCompute())}async beginCompute(){this._computePromise=gr(async e=>{const t=this._editor.getModel();if(!t)return[];const i=new ro(!1),r=await dhe(this._languageFeaturesService.colorProvider,t,e,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(t,i.elapsed()),r});try{const e=await this._computePromise;this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null}catch(e){St(e)}}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){const t=e.map(i=>({range:{startLineNumber:i.colorInfo.range.startLineNumber,startColumn:i.colorInfo.range.startColumn,endLineNumber:i.colorInfo.range.endLineNumber,endColumn:i.colorInfo.range.endColumn},options:kt.EMPTY}));this._editor.changeDecorations(i=>{this._decorationsIds=i.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach((r,o)=>this._colorDatas.set(r,e[o]))})}updateColorDecorators(e){this._colorDecorationClassRefs.clear();const t=[],i=this._editor.getOption(21);for(let o=0;o<e.length&&t.length<i;o++){const{red:s,green:a,blue:l,alpha:c}=e[o].colorInfo.color,d=new Xt(Math.round(s*255),Math.round(a*255),Math.round(l*255),c),u=`rgba(${d.r}, ${d.g}, ${d.b}, ${d.a})`,h=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:u}));t.push({range:{startLineNumber:e[o].colorInfo.range.startLineNumber,startColumn:e[o].colorInfo.range.startColumn,endLineNumber:e[o].colorInfo.range.endLineNumber,endColumn:e[o].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:Xse,inlineClassName:`${h.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:fhe}}})}const r=i<e.length?i:!1;this._decoratorLimitReporter.update(e.length,r),this._colorDecoratorIds.set(t)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(e){const t=this._editor.getModel();if(!t)return null;const i=t.getDecorationsInRange(B.fromPositions(e,e)).filter(r=>this._colorDatas.has(r.id));return i.length===0?null:this._colorDatas.get(i[0].id)}isColorDecoration(e){return this._colorDecoratorIds.has(e)}};Kg.ID="editor.contrib.colorDetector";Kg.RECOMPUTE_TIME=1e3;Kg=h8=RVe([VO(1,jt),VO(2,qe),VO(3,dl)],Kg);class AVe{constructor(){this._onDidChange=new ne,this._computed=0,this._limited=!1}update(e,t){(e!==this._computed||t!==this._limited)&&(this._computed=e,this._limited=t,this._onDidChange.fire())}}li(Kg.ID,Kg,1);class OVe{get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(e,t,i){this.presentationIndex=i,this._onColorFlushed=new ne,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new ne,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new ne,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){let i=-1;for(let r=0;r<this.colorPresentations.length;r++)if(t.toLowerCase()===this.colorPresentations[r].label){i=r;break}if(i===-1){const r=t.split("(")[0].toLowerCase();for(let o=0;o<this.colorPresentations.length;o++)if(this.colorPresentations[o].label.toLowerCase().startsWith(r)){i=o;break}}i!==-1&&i!==this.presentationIndex&&(this.presentationIndex=i,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}const fa=Te;class FVe extends ce{constructor(e,t,i,r=!1){super(),this.model=t,this.showingStandaloneColorPicker=r,this._closeButton=null,this._domNode=fa(".colorpicker-header"),Se(e,this._domNode),this._pickedColorNode=Se(this._domNode,fa(".picked-color")),Se(this._pickedColorNode,fa("span.codicon.codicon-color-mode")),this._pickedColorPresentation=Se(this._pickedColorNode,document.createElement("span")),this._pickedColorPresentation.classList.add("picked-color-presentation");const o=w("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this._pickedColorNode.setAttribute("title",o),this._originalColorNode=Se(this._domNode,fa(".original-color")),this._originalColorNode.style.backgroundColor=ue.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=i.getColorTheme().getColor(eI)||ue.white,this._register(i.onDidColorThemeChange(s=>{this.backgroundColor=s.getColor(eI)||ue.white})),this._register(ge(this._pickedColorNode,Ne.CLICK,()=>this.model.selectNextColorPresentation())),this._register(ge(this._originalColorNode,Ne.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this._register(t.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=ue.Format.CSS.format(t.color)||"",this._pickedColorNode.classList.toggle("light",t.color.rgba.a<.5?this.backgroundColor.isLighter():t.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new BVe(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(e){this._pickedColorNode.style.backgroundColor=ue.Format.CSS.format(e)||"",this._pickedColorNode.classList.toggle("light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorPresentation.textContent=this.model.presentation?this.model.presentation.label:""}}class BVe extends ce{constructor(e){super(),this._onClicked=this._register(new ne),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),Se(e,this._button);const t=document.createElement("div");t.classList.add("close-button-inner-div"),Se(this._button,t),Se(t,fa(".button"+lt.asCSSSelector(Dn("color-picker-close",Ae.close,w("closeIcon","Icon to close the color picker"))))).classList.add("close-icon"),this._register(ge(this._button,Ne.CLICK,()=>{this._onClicked.fire()}))}}class WVe extends ce{constructor(e,t,i,r=!1){super(),this.model=t,this.pixelRatio=i,this._insertButton=null,this._domNode=fa(".colorpicker-body"),Se(e,this._domNode),this._saturationBox=new VVe(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new HVe(this._domNode,this.model,r),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new zVe(this._domNode,this.model,r),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),r&&(this._insertButton=this._register(new jVe(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){const i=this.model.color.hsva;this.model.color=new ue(new Bd(i.h,e,t,i.a))}onDidOpacityChange(e){const t=this.model.color.hsva;this.model.color=new ue(new Bd(t.h,t.s,t.v,e))}onDidHueChange(e){const t=this.model.color.hsva,i=(1-e)*360;this.model.color=new ue(new Bd(i===360?0:i,t.s,t.v,t.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}class VVe extends ce{constructor(e,t,i){super(),this.model=t,this.pixelRatio=i,this._onDidChange=new ne,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new ne,this.onColorFlushed=this._onColorFlushed.event,this._domNode=fa(".saturation-wrap"),Se(e,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",Se(this._domNode,this._canvas),this.selection=fa(".saturation-selection"),Se(this._domNode,this.selection),this.layout(),this._register(ge(this._domNode,Ne.POINTER_DOWN,r=>this.onPointerDown(r))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(e){if(!e.target||!(e.target instanceof Element))return;this.monitor=this._register(new Sy);const t=Vn(this._domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.pointerId,e.buttons,r=>this.onDidChangePosition(r.pageX-t.left,r.pageY-t.top),()=>null);const i=ge(e.target.ownerDocument,Ne.POINTER_UP,()=>{this._onColorFlushed.fire(),i.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(e,t){const i=Math.max(0,Math.min(1,e/this.width)),r=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(i,r),this._onDidChange.fire({s:i,v:r})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();const e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){const e=this.model.color.hsva,t=new ue(new Bd(e.h,1,1,1)),i=this._canvas.getContext("2d"),r=i.createLinearGradient(0,0,this._canvas.width,0);r.addColorStop(0,"rgba(255, 255, 255, 1)"),r.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),r.addColorStop(1,"rgba(255, 255, 255, 0)");const o=i.createLinearGradient(0,0,0,this._canvas.height);o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(1,"rgba(0, 0, 0, 1)"),i.rect(0,0,this._canvas.width,this._canvas.height),i.fillStyle=ue.Format.CSS.format(t),i.fill(),i.fillStyle=r,i.fill(),i.fillStyle=o,i.fill()}paintSelection(e,t){this.selection.style.left=`${e*this.width}px`,this.selection.style.top=`${this.height-t*this.height}px`}onDidChangeColor(e){if(this.monitor&&this.monitor.isMonitoring())return;this.paint();const t=e.hsva;this.paintSelection(t.s,t.v)}}class ghe extends ce{constructor(e,t,i=!1){super(),this.model=t,this._onDidChange=new ne,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new ne,this.onColorFlushed=this._onColorFlushed.event,i?(this.domNode=Se(e,fa(".standalone-strip")),this.overlay=Se(this.domNode,fa(".standalone-overlay"))):(this.domNode=Se(e,fa(".strip")),this.overlay=Se(this.domNode,fa(".overlay"))),this.slider=Se(this.domNode,fa(".slider")),this.slider.style.top="0px",this._register(ge(this.domNode,Ne.POINTER_DOWN,r=>this.onPointerDown(r))),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const e=this.getValue(this.model.color);this.updateSliderPosition(e)}onDidChangeColor(e){const t=this.getValue(e);this.updateSliderPosition(t)}onPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=this._register(new Sy),i=Vn(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.pointerId,e.buttons,o=>this.onDidChangeTop(o.pageY-i.top),()=>null);const r=ge(e.target.ownerDocument,Ne.POINTER_UP,()=>{this._onColorFlushed.fire(),r.dispose(),t.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(e){const t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}updateSliderPosition(e){this.slider.style.top=`${(1-e)*this.height}px`}}class HVe extends ghe{constructor(e,t,i=!1){super(e,t,i),this.domNode.classList.add("opacity-strip"),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){super.onDidChangeColor(e);const{r:t,g:i,b:r}=e.rgba,o=new ue(new Xt(t,i,r,1)),s=new ue(new Xt(t,i,r,0));this.overlay.style.background=`linear-gradient(to bottom, ${o} 0%, ${s} 100%)`}getValue(e){return e.hsva.a}}class zVe extends ghe{constructor(e,t,i=!1){super(e,t,i),this.domNode.classList.add("hue-strip")}getValue(e){return 1-e.hsva.h/360}}class jVe extends ce{constructor(e){super(),this._onClicked=this._register(new ne),this.onClicked=this._onClicked.event,this._button=Se(e,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._register(ge(this._button,Ne.CLICK,()=>{this._onClicked.fire()}))}get button(){return this._button}}class UVe extends Na{constructor(e,t,i,r,o=!1){super(),this.model=t,this.pixelRatio=i,this._register(H1.onDidChange(()=>this.layout()));const s=fa(".colorpicker-widget");e.appendChild(s),this.header=this._register(new FVe(s,this.model,r,o)),this.body=this._register(new WVe(s,this.model,this.pixelRatio,o))}layout(){this.body.layout()}}var phe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},mhe=function(n,e){return function(t,i){e(t,i,n)}};class $Ve{constructor(e,t,i,r){this.owner=e,this.range=t,this.model=i,this.provider=r,this.forceShowAtRange=!0}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let hN=class{constructor(e,t){this._editor=e,this._themeService=t,this.hoverOrdinal=2}computeSync(e,t){return[]}computeAsync(e,t,i){return Fn.fromPromise(this._computeAsync(e,t,i))}async _computeAsync(e,t,i){if(!this._editor.hasModel())return[];const r=Kg.get(this._editor);if(!r)return[];for(const o of t){if(!r.isColorDecoration(o))continue;const s=r.getColorData(o.range.getStartPosition());if(s)return[await _he(this,this._editor.getModel(),s.colorInfo,s.provider)]}return[]}renderHoverParts(e,t){return vhe(this,this._editor,this._themeService,t,e)}};hN=phe([mhe(1,mr)],hN);class qVe{constructor(e,t,i,r){this.owner=e,this.range=t,this.model=i,this.provider=r}}let zS=class{constructor(e,t){this._editor=e,this._themeService=t,this._color=null}async createColorHover(e,t,i){if(!this._editor.hasModel()||!Kg.get(this._editor))return null;const o=await dhe(i,this._editor.getModel(),Ht.None);let s=null,a=null;for(const u of o){const h=u.colorInfo;B.containsRange(h.range,e.range)&&(s=h,a=u.provider)}const l=s??e,c=a??t,d=!!s;return{colorHover:await _he(this,this._editor.getModel(),l,c),foundInEditor:d}}async updateEditorModel(e){if(!this._editor.hasModel())return;const t=e.model;let i=new B(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn);this._color&&(await ET(this._editor.getModel(),t,this._color,i,e),i=bhe(this._editor,i,t))}renderHoverParts(e,t){return vhe(this,this._editor,this._themeService,t,e)}set color(e){this._color=e}get color(){return this._color}};zS=phe([mhe(1,mr)],zS);async function _he(n,e,t,i){const r=e.getValueInRange(t.range),{red:o,green:s,blue:a,alpha:l}=t.color,c=new Xt(Math.round(o*255),Math.round(s*255),Math.round(a*255),l),d=new ue(c),u=await uhe(e,t,i,Ht.None),h=new OVe(d,[],0);return h.colorPresentations=u||[],h.guessColorPresentation(d,r),n instanceof hN?new $Ve(n,B.lift(t.range),h,i):new qVe(n,B.lift(t.range),h,i)}function vhe(n,e,t,i,r){if(i.length===0||!e.hasModel())return ce.None;if(r.setMinimumDimensions){const h=e.getOption(66)+8;r.setMinimumDimensions(new oi(302,h))}const o=new xe,s=i[0],a=e.getModel(),l=s.model,c=o.add(new UVe(r.fragment,l,e.getOption(141),t,n instanceof zS));r.setColorPicker(c);let d=!1,u=new B(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn);if(n instanceof zS){const h=i[0].model.color;n.color=h,ET(a,l,h,u,s),o.add(l.onColorFlushed(f=>{n.color=f}))}else o.add(l.onColorFlushed(async h=>{await ET(a,l,h,u,s),d=!0,u=bhe(e,u,l)}));return o.add(l.onDidChangeColor(h=>{ET(a,l,h,u,s)})),o.add(e.onDidChangeModelContent(h=>{d?d=!1:(r.hide(),e.focus())})),o}function bhe(n,e,t){var i,r;const o=[],s=(i=t.presentation.textEdit)!==null&&i!==void 0?i:{range:e,text:t.presentation.label,forceMoveMarkers:!1};o.push(s),t.presentation.additionalTextEdits&&o.push(...t.presentation.additionalTextEdits);const a=B.lift(s.range),l=n.getModel()._setTrackedRange(null,a,3);return n.executeEdits("colorpicker",o),n.pushUndoStop(),(r=n.getModel()._getTrackedRange(l))!==null&&r!==void 0?r:a}async function ET(n,e,t,i,r){const o=await uhe(n,{range:i,color:{red:t.rgba.r/255,green:t.rgba.g/255,blue:t.rgba.b/255,alpha:t.rgba.a}},r.provider,Ht.None);e.colorPresentations=o||[]}function f8(n,e){return!!n[e]}class HO{constructor(e,t){this.target=e.target,this.isLeftClick=e.event.leftButton,this.isMiddleClick=e.event.middleButton,this.isRightClick=e.event.rightButton,this.hasTriggerModifier=f8(e.event,t.triggerModifier),this.hasSideBySideModifier=f8(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=e.event.detail<=1}}class eX{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=f8(e,t.triggerModifier)}}class rD{constructor(e,t,i,r){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=i,this.triggerSideBySideModifier=r}equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}function tX(n){return n==="altKey"?qt?new rD(57,"metaKey",6,"altKey"):new rD(5,"ctrlKey",6,"altKey"):qt?new rD(6,"altKey",57,"metaKey"):new rD(6,"altKey",5,"ctrlKey")}class $M extends ce{constructor(e,t){var i;super(),this._onMouseMoveOrRelevantKeyDown=this._register(new ne),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new ne),this.onExecute=this._onExecute.event,this._onCancel=this._register(new ne),this.onCancel=this._onCancel.event,this._editor=e,this._extractLineNumberFromMouseEvent=(i=t==null?void 0:t.extractLineNumberFromMouseEvent)!==null&&i!==void 0?i:r=>r.target.position?r.target.position.lineNumber:0,this._opts=tX(this._editor.getOption(77)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(r=>{if(r.hasChanged(77)){const o=tX(this._editor.getOption(77));if(this._opts.equals(o))return;this._opts=o,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(r=>this._onEditorMouseMove(new HO(r,this._opts)))),this._register(this._editor.onMouseDown(r=>this._onEditorMouseDown(new HO(r,this._opts)))),this._register(this._editor.onMouseUp(r=>this._onEditorMouseUp(new HO(r,this._opts)))),this._register(this._editor.onKeyDown(r=>this._onEditorKeyDown(new eX(r,this._opts)))),this._register(this._editor.onKeyUp(r=>this._onEditorKeyUp(new eX(r,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(r=>this._onDidChangeCursorSelection(r))),this._register(this._editor.onDidChangeModel(r=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(r=>{(r.scrollTopChanged||r.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=this._extractLineNumberFromMouseEvent(e)}_onEditorMouseUp(e){const t=this._extractLineNumberFromMouseEvent(e);this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}var KVe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Iu=function(n,e){return function(t,i){e(t,i,n)}};let Gg=class extends Ab{constructor(e,t,i,r,o,s,a,l,c,d,u,h,f){super(e,{...r.getRawOptions(),overflowWidgetsDomNode:r.getOverflowWidgetsDomNode()},i,o,s,a,l,c,d,u,h,f),this._parentEditor=r,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(r.onDidChangeConfiguration(g=>this._onParentConfigurationChanged(g)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){pP(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};Gg=KVe([Iu(4,dt),Iu(5,ai),Iu(6,fn),Iu(7,_t),Iu(8,mr),Iu(9,Rn),Iu(10,Gl),Iu(11,Pi),Iu(12,qe)],Gg);const iX=new ue(new Xt(0,122,204)),GVe={showArrow:!0,showFrame:!0,className:"",frameColor:iX,arrowColor:iX,keepEditorSelection:!1},ZVe="vs.editor.contrib.zoneWidget";class YVe{constructor(e,t,i,r,o,s,a,l){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=i,this.heightInLines=r,this.showInHiddenAreas=a,this.ordinal=l,this._onDomNodeTop=o,this._onComputedHeight=s}onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}}class XVe{constructor(e,t){this._id=e,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class qM{constructor(e){this._editor=e,this._ruleName=qM._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),RF(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){RF(this._ruleName),jE(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(e){e.column===1&&(e={lineNumber:e.lineNumber,column:2}),this._decorations.set([{range:B.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}qM._IdGenerator=new LV(".arrow-decoration-");class QVe{constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new xe,this.container=null,this._isShowing=!1,this.editor=e,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=Vu(t),pP(this.options,GVe,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(i=>{const r=this._getWidth(i);this.domNode.style.width=r+"px",this.domNode.style.left=this._getLeft(i)+"px",this._onWidth(r)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new qM(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){const e=this.options.arrowColor.toString();this._arrow.color=e}}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return e.minimap.minimapWidth>0&&e.minimap.minimapLeft===0?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){var t;if(this.domNode.style.height=`${e}px`,this.container){const i=e-this._decoratingElementsHeight();this.container.style.height=`${i}px`;const r=this.editor.getLayoutInfo();this._doLayout(i,this._getWidth(r))}(t=this._resizeSash)===null||t===void 0||t.layout()}get position(){const e=this._positionMarkerId.getRange(0);if(e)return e.getStartPosition()}show(e,t){const i=B.isIRange(e)?B.lift(e):B.fromPositions(e);this._isShowing=!0,this._showImpl(i,t),this._isShowing=!1,this._positionMarkerId.set([{range:i,options:kt.EMPTY}])}hide(){var e;this._viewZone&&(this.editor.changeViewZones(t=>{this._viewZone&&t.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(e=this._arrow)===null||e===void 0||e.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){const e=this.editor.getOption(66);let t=0;if(this.options.showArrow){const i=Math.round(e/3);t+=2*i}if(this.options.showFrame){const i=Math.round(e/9);t+=2*i}return t}_showImpl(e,t){const i=e.getStartPosition(),r=this.editor.getLayoutInfo(),o=this._getWidth(r);this.domNode.style.width=`${o}px`,this.domNode.style.left=this._getLeft(r)+"px";const s=document.createElement("div");s.style.overflow="hidden";const a=this.editor.getOption(66);if(!this.options.allowUnlimitedHeight){const h=Math.max(12,this.editor.getLayoutInfo().height/a*.8);t=Math.min(t,h)}let l=0,c=0;if(this._arrow&&this.options.showArrow&&(l=Math.round(a/3),this._arrow.height=l,this._arrow.show(i)),this.options.showFrame&&(c=Math.round(a/9)),this.editor.changeViewZones(h=>{this._viewZone&&h.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new YVe(s,i.lineNumber,i.column,t,f=>this._onViewZoneTop(f),f=>this._onViewZoneHeight(f),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=h.addZone(this._viewZone),this._overlayWidget=new XVe(ZVe+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const h=this.options.frameWidth?this.options.frameWidth:c;this.container.style.borderTopWidth=h+"px",this.container.style.borderBottomWidth=h+"px"}const d=t*a-this._decoratingElementsHeight();this.container&&(this.container.style.top=l+"px",this.container.style.height=d+"px",this.container.style.overflow="hidden"),this._doLayout(d,o),this.options.keepEditorSelection||this.editor.setSelection(e);const u=this.editor.getModel();if(u){const h=u.validateRange(new B(e.startLineNumber,1,e.endLineNumber+1,1));this.revealRange(h,h.startLineNumber===u.getLineCount())}}revealRange(e,t){t?this.editor.revealLineNearTop(e.endLineNumber,0):this.editor.revealRange(e,0)}setCssClass(e,t){this.container&&(t&&this.container.classList.remove(t),this.container.classList.add(e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new Yr(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let e;this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{e=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{if(e){const i=(t.currentY-e.startY)/this.editor.getOption(66),r=i<0?Math.ceil(i):Math.floor(i),o=e.heightInLines+r;o>5&&o<35&&this._relayout(o)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}var yhe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Che=function(n,e){return function(t,i){e(t,i,n)}};const whe=zt("IPeekViewService");Yt(whe,class{constructor(){this._widgets=new Map}addExclusiveWidget(n,e){const t=this._widgets.get(n);t&&(t.listener.dispose(),t.widget.dispose());const i=()=>{const r=this._widgets.get(n);r&&r.widget===e&&(r.listener.dispose(),this._widgets.delete(n))};this._widgets.set(n,{widget:e,listener:e.onDidClose(i)})}},1);var bs;(function(n){n.inPeekEditor=new je("inReferenceSearchEditor",!0,w("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),n.notInPeekEditor=n.inPeekEditor.toNegated()})(bs||(bs={}));let jS=class{constructor(e,t){e instanceof Gg&&bs.inPeekEditor.bindTo(t)}dispose(){}};jS.ID="editor.contrib.referenceController";jS=yhe([Che(1,_t)],jS);li(jS.ID,jS,0);function JVe(n){const e=n.get(ai).getFocusedCodeEditor();return e instanceof Gg?e.getParentEditor():e}const eHe={headerBackgroundColor:ue.white,primaryHeadingColor:ue.fromHex("#333333"),secondaryHeadingColor:ue.fromHex("#6c6c6cb3")};let fN=class extends QVe{constructor(e,t,i){super(e,t),this.instantiationService=i,this._onDidClose=new ne,this.onDidClose=this._onDidClose.event,pP(this.options,eHe,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){const t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();const e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=Te(".head"),this._bodyElement=Te(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){this._titleElement=Te(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),kn(this._titleElement,"click",o=>this._onTitleClick(o))),Se(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=Te("span.filename"),this._secondaryHeading=Te("span.dirname"),this._metaHeading=Te("span.meta"),Se(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const i=Te(".peekview-actions");Se(this._headElement,i);const r=this._getActionBarOptions();this._actionbarWidget=new sl(i,r),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new Fs("peekview.close",w("label.close","Close"),lt.asClassName(Ae.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:HFe.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:$r(this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,Ps(this._metaHeading)):Mo(this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0){this.dispose();return}const i=Math.ceil(this.editor.getOption(66)*1.2),r=Math.round(e-(i+2));this._doLayoutHead(i,t),this._doLayoutBody(r,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=`${e}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=`${e}px`)}};fN=yhe([Che(2,dt)],fN);const tHe=U("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:ue.black,hcLight:ue.white},w("peekViewTitleBackground","Background color of the peek view title area.")),She=U("peekViewTitleLabel.foreground",{dark:ue.white,light:ue.black,hcDark:ue.white,hcLight:Rl},w("peekViewTitleForeground","Color of the peek view title.")),xhe=U("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},w("peekViewTitleInfoForeground","Color of the peek view title info.")),iHe=U("peekView.border",{dark:gs,light:gs,hcDark:Ut,hcLight:Ut},w("peekViewBorder","Color of the peek view borders and arrow.")),nHe=U("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:ue.black,hcLight:ue.white},w("peekViewResultsBackground","Background color of the peek view result list."));U("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:ue.white,hcLight:Rl},w("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list."));U("peekViewResult.fileForeground",{dark:ue.white,light:"#1E1E1E",hcDark:ue.white,hcLight:Rl},w("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list."));U("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},w("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list."));U("peekViewResult.selectionForeground",{dark:ue.white,light:"#6C6C6C",hcDark:ue.white,hcLight:Rl},w("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list."));const Zf=U("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:ue.black,hcLight:ue.white},w("peekViewEditorBackground","Background color of the peek view editor."));U("peekViewEditorGutter.background",{dark:Zf,light:Zf,hcDark:Zf,hcLight:Zf},w("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor."));U("peekViewEditorStickyScroll.background",{dark:Zf,light:Zf,hcDark:Zf,hcLight:Zf},w("peekViewEditorStickScrollBackground","Background color of sticky scroll in the peek view editor."));U("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},w("peekViewResultsMatchHighlight","Match highlight color in the peek view result list."));U("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},w("peekViewEditorMatchHighlight","Match highlight color in the peek view editor."));U("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:Hi,hcLight:Hi},w("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));class Zg{constructor(e,t,i,r){this.isProviderFirst=e,this.parent=t,this.link=i,this._rangeCallback=r,this.id=A3.nextId()}get uri(){return this.link.uri}get range(){var e,t;return(t=(e=this._range)!==null&&e!==void 0?e:this.link.targetSelectionRange)!==null&&t!==void 0?t:this.link.range}set range(e){this._range=e,this._rangeCallback(this)}get ariaMessage(){var e;const t=(e=this.parent.getPreview(this))===null||e===void 0?void 0:e.preview(this.range);return t?w({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"{0} in {1} on line {2} at column {3}",t.value,ol(this.uri),this.range.startLineNumber,this.range.startColumn):w("aria.oneReference","in {0} on line {1} at column {2}",ol(this.uri),this.range.startLineNumber,this.range.startColumn)}}class rHe{constructor(e){this._modelReference=e}dispose(){this._modelReference.dispose()}preview(e,t=8){const i=this._modelReference.object.textEditorModel;if(!i)return;const{startLineNumber:r,startColumn:o,endLineNumber:s,endColumn:a}=e,l=i.getWordUntilPosition({lineNumber:r,column:o-t}),c=new B(r,l.startColumn,r,o),d=new B(s,a,s,1073741824),u=i.getValueInRange(c).replace(/^\s+/,""),h=i.getValueInRange(e),f=i.getValueInRange(d).replace(/\s+$/,"");return{value:u+h+f,highlight:{start:u.length,end:u.length+h.length}}}}class US{constructor(e,t){this.parent=e,this.uri=t,this.children=[],this._previews=new Ln}dispose(){vi(this._previews.values()),this._previews.clear()}getPreview(e){return this._previews.get(e.uri)}get ariaMessage(){const e=this.children.length;return e===1?w("aria.fileReferences.1","1 symbol in {0}, full path {1}",ol(this.uri),this.uri.fsPath):w("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,ol(this.uri),this.uri.fsPath)}async resolve(e){if(this._previews.size!==0)return this;for(const t of this.children)if(!this._previews.has(t.uri))try{const i=await e.createModelReference(t.uri);this._previews.set(t.uri,new rHe(i))}catch(i){St(i)}return this}}class Ws{constructor(e,t){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new ne,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;const[i]=e;e.sort(Ws._compareReferences);let r;for(const o of e)if((!r||!zi.isEqual(r.uri,o.uri,!0))&&(r=new US(this,o.uri),this.groups.push(r)),r.children.length===0||Ws._compareReferences(o,r.children[r.children.length-1])!==0){const s=new Zg(i===o,r,o,a=>this._onDidChangeReferenceRange.fire(a));this.references.push(s),r.children.push(s)}}dispose(){vi(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new Ws(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?w("aria.result.0","No results found"):this.references.length===1?w("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?w("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):w("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(e,t){const{parent:i}=e;let r=i.children.indexOf(e);const o=i.children.length,s=i.parent.groups.length;return s===1||t&&r+1<o||!t&&r>0?(t?r=(r+1)%o:r=(r+o-1)%o,i.children[r]):(r=i.parent.groups.indexOf(i),t?(r=(r+1)%s,i.parent.groups[r].children[0]):(r=(r+s-1)%s,i.parent.groups[r].children[i.parent.groups[r].children.length-1]))}nearestReference(e,t){const i=this.references.map((r,o)=>({idx:o,prefixLen:jm(r.uri.toString(),e.toString()),offsetDist:Math.abs(r.range.startLineNumber-t.lineNumber)*100+Math.abs(r.range.startColumn-t.column)})).sort((r,o)=>r.prefixLen>o.prefixLen?-1:r.prefixLen<o.prefixLen?1:r.offsetDist<o.offsetDist?-1:r.offsetDist>o.offsetDist?1:0)[0];if(i)return this.references[i.idx]}referenceAt(e,t){for(const i of this.references)if(i.uri.toString()===e.toString()&&B.containsPosition(i.range,t))return i}firstReference(){for(const e of this.references)if(e.isProviderFirst)return e;return this.references[0]}static _compareReferences(e,t){return zi.compare(e.uri,t.uri)||B.compareRangesUsingStarts(e.range,t.range)}}var KM=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},GM=function(n,e){return function(t,i){e(t,i,n)}},g8;let p8=class{constructor(e){this._resolverService=e}hasChildren(e){return e instanceof Ws||e instanceof US}getChildren(e){if(e instanceof Ws)return e.groups;if(e instanceof US)return e.resolve(this._resolverService).then(t=>t.children);throw new Error("bad tree")}};p8=KM([GM(0,Cs)],p8);class oHe{getHeight(){return 23}getTemplateId(e){return e instanceof US?$S.id:fL.id}}let m8=class{constructor(e){this._keybindingService=e}getKeyboardNavigationLabel(e){var t;if(e instanceof Zg){const i=(t=e.parent.getPreview(e))===null||t===void 0?void 0:t.preview(e.range);if(i)return i.value}return ol(e.uri)}};m8=KM([GM(0,xi)],m8);class sHe{getId(e){return e instanceof Zg?e.id:e.uri}}let _8=class extends ce{constructor(e,t){super(),this._labelService=t;const i=document.createElement("div");i.classList.add("reference-file"),this.file=this._register(new qI(i,{supportHighlights:!0})),this.badge=new _9(Se(i,Te(".count")),{},nde),e.appendChild(i)}set(e,t){const i=iM(e.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(e.uri),this._labelService.getUriLabel(i,{relative:!0}),{title:this._labelService.getUriLabel(e.uri),matches:t});const r=e.children.length;this.badge.setCount(r),r>1?this.badge.setTitleFormat(w("referencesCount","{0} references",r)):this.badge.setTitleFormat(w("referenceCount","{0} reference",r))}};_8=KM([GM(1,Fb)],_8);let $S=g8=class{constructor(e){this._instantiationService=e,this.templateId=g8.id}renderTemplate(e){return this._instantiationService.createInstance(_8,e)}renderElement(e,t,i){i.set(e.element,Yx(e.filterData))}disposeTemplate(e){e.dispose()}};$S.id="FileReferencesRenderer";$S=g8=KM([GM(0,dt)],$S);class aHe{constructor(e){this.label=new _g(e)}set(e,t){var i;const r=(i=e.parent.getPreview(e))===null||i===void 0?void 0:i.preview(e.range);if(!r||!r.value)this.label.set(`${ol(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`);else{const{value:o,highlight:s}=r;t&&!Bc.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(o,Yx(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(o,[s]))}}}class fL{constructor(){this.templateId=fL.id}renderTemplate(e){return new aHe(e)}renderElement(e,t,i){i.set(e.element,e.filterData)}disposeTemplate(){}}fL.id="OneReferenceRenderer";class lHe{getWidgetAriaLabel(){return w("treeAriaLabel","References")}getAriaLabel(e){return e.ariaMessage}}var cHe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Nu=function(n,e){return function(t,i){e(t,i,n)}};class ZM{constructor(e,t){this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new xe,this._callOnModelChange=new xe,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const e=this._editor.getModel();if(e){for(const t of this._model.references)if(t.uri.toString()===e.uri.toString()){this._addDecorations(t.parent);return}}}_addDecorations(e){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const t=[],i=[];for(let r=0,o=e.children.length;r<o;r++){const s=e.children[r];this._decorationIgnoreSet.has(s.id)||s.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:s.range,options:ZM.DecorationOptions}),i.push(r))}this._editor.changeDecorations(r=>{const o=r.deltaDecorations([],t);for(let s=0;s<o.length;s++)this._decorations.set(o[s],e.children[i[s]])})}_onDecorationChanged(){const e=[],t=this._editor.getModel();if(t){for(const[i,r]of this._decorations){const o=t.getDecorationRange(i);if(!o)continue;let s=!1;if(!B.equalsRange(o,r.range)){if(B.spansMultipleLines(o))s=!0;else{const a=r.range.endColumn-r.range.startColumn,l=o.endColumn-o.startColumn;a!==l&&(s=!0)}s?(this._decorationIgnoreSet.add(r.id),e.push(i)):r.range=o}}for(let i=0,r=e.length;i<r;i++)this._decorations.delete(e[i]);this._editor.removeDecorations(e)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}ZM.DecorationOptions=kt.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class dHe{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(e){let t,i;try{const r=JSON.parse(e);t=r.ratio,i=r.heightInLines}catch{}return{ratio:t||.7,heightInLines:i||18}}}class uHe extends h9{}let v8=class extends fN{constructor(e,t,i,r,o,s,a,l,c,d,u,h){super(e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},s),this._defaultTreeKeyboardSupport=t,this.layoutData=i,this._textModelResolverService=o,this._instantiationService=s,this._peekViewService=a,this._uriLabel=l,this._undoRedoService=c,this._keybindingService=d,this._languageService=u,this._languageConfigurationService=h,this._disposeOnNewModel=new xe,this._callOnDispose=new xe,this._onDidSelectReference=new ne,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new oi(0,0),this._applyTheme(r.getColorTheme()),this._callOnDispose.add(r.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(e,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),vi(this._preview),vi(this._previewNotAvailableMessage),vi(this._tree),vi(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(e){const t=e.getColor(iHe)||ue.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(tHe)||ue.transparent,primaryHeadingColor:e.getColor(She),secondaryHeadingColor:e.getColor(xhe)})}show(e){super.show(e,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(e){this.setCssClass("reference-zone-widget"),this._messageContainer=Se(e,Te("div.messages")),Mo(this._messageContainer),this._splitView=new ade(e,{orientation:1}),this._previewContainer=Se(e,Te("div.preview.inline"));const t={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!0},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(Gg,this._previewContainer,t,{},this.editor),Mo(this._previewContainer),this._previewNotAvailableMessage=new cu(w("missingPreviewMessage","no preview available"),Sa,cu.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=Se(e,Te("div.ref-tree.inline"));const i={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new lHe,keyboardNavigationLabelProvider:this._instantiationService.createInstance(m8),identityProvider:new sHe,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:nHe}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(kn(this._treeContainer,"keydown",o=>{o.equals(9)&&(this._keybindingService.dispatchEvent(o,o.target),o.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(uHe,"ReferencesWidget",this._treeContainer,new oHe,[this._instantiationService.createInstance($S),this._instantiationService.createInstance(fL)],this._instantiationService.createInstance(p8),i),this._splitView.addView({onDidChange:Ve.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:o=>{this._preview.layout({height:this._dim.height,width:o})}},VI.Distribute),this._splitView.addView({onDidChange:Ve.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:o=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${o}px`,this._tree.layout(this._dim.height,o)}},VI.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const r=(o,s)=>{o instanceof Zg&&(s==="show"&&this._revealReference(o,!1),this._onDidSelectReference.fire({element:o,kind:s,source:"tree"}))};this._tree.onDidOpen(o=>{o.sideBySide?r(o.element,"side"):o.editorOptions.pinned?r(o.element,"goto"):r(o.element,"show")}),Mo(this._treeContainer)}_onWidth(e){this._dim&&this._doLayoutBody(this._dim.height,e)}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._dim=new oi(t,e),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}setSelection(e){return this._revealReference(e,!0).then(()=>{this._model&&(this._tree.setSelection([e]),this._tree.setFocus([e]))})}setModel(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=w("noResults","No results"),Ps(this._messageContainer),Promise.resolve(void 0)):(Mo(this._messageContainer),this._decorationsManager=new ZM(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(e=>this._tree.rerender(e))),this._disposeOnNewModel.add(this._preview.onMouseDown(e=>{const{event:t,target:i}=e;if(t.detail!==2)return;const r=this._getFocusedReference();r&&this._onDidSelectReference.fire({element:{uri:r.uri,range:i.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),Ps(this._treeContainer),Ps(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[e]=this._tree.getFocus();if(e instanceof Zg)return e;if(e instanceof US&&e.children.length>0)return e.children[0]}async revealReference(e){await this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})}async _revealReference(e,t){if(this._revealedReference===e)return;this._revealedReference=e,e.uri.scheme!==Tt.inMemory?this.setTitle(bRe(e.uri),this._uriLabel.getUriLabel(iM(e.uri))):this.setTitle(w("peekView.alternateTitle","References"));const i=this._textModelResolverService.createModelReference(e.uri);this._tree.getInput()===e.parent?this._tree.reveal(e):(t&&this._tree.reveal(e.parent),await this._tree.expand(e.parent),this._tree.reveal(e));const r=await i;if(!this._model){r.dispose();return}vi(this._previewModelReference);const o=r.object;if(o){const s=this._preview.getModel()===o.textEditorModel?0:1,a=B.lift(e.range).collapseToStart();this._previewModelReference=r,this._preview.setModel(o.textEditorModel),this._preview.setSelection(a),this._preview.revealRangeInCenter(a,s)}else this._preview.setModel(this._previewNotAvailableMessage),r.dispose()}};v8=cHe([Nu(3,mr),Nu(4,Cs),Nu(5,dt),Nu(6,whe),Nu(7,Fb),Nu(8,nM),Nu(9,xi),Nu(10,Zi),Nu(11,Pi)],v8);var hHe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},p0=function(n,e){return function(t,i){e(t,i,n)}},IT;const z_=new je("referenceSearchVisible",!1,w("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let Yg=IT=class{static get(e){return e.getContribution(IT.ID)}constructor(e,t,i,r,o,s,a,l){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=r,this._notificationService=o,this._instantiationService=s,this._storageService=a,this._configurationService=l,this._disposables=new xe,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=z_.bindTo(i)}dispose(){var e,t;this._referenceSearchVisible.reset(),this._disposables.dispose(),(e=this._widget)===null||e===void 0||e.dispose(),(t=this._model)===null||t===void 0||t.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,t,i){let r;if(this._widget&&(r=this._widget.position),this.closeWidget(),r&&e.containsPosition(r))return;this._peekMode=i,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const o="peekViewLayout",s=dHe.fromJSON(this._storageService.get(o,0,"{}"));this._widget=this._instantiationService.createInstance(v8,this._editor,this._defaultTreeKeyboardSupport,s),this._widget.setTitle(w("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(()=>{t.cancel(),this._widget&&(this._storageService.store(o,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(l=>{const{element:c,kind:d}=l;if(c)switch(d){case"open":(l.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(c,!1,!1);break;case"side":this.openReference(c,!0,!1);break;case"goto":i?this._gotoReference(c,!0):this.openReference(c,!1,!0);break}}));const a=++this._requestIdPool;t.then(l=>{var c;if(a!==this._requestIdPool||!this._widget){l.dispose();return}return(c=this._model)===null||c===void 0||c.dispose(),this._model=l,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(w("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));const d=this._editor.getModel().uri,u=new re(e.startLineNumber,e.startColumn),h=this._model.nearestReference(d,u);if(h)return this._widget.setSelection(h).then(()=>{this._widget&&this._editor.getOption(86)==="editor"&&this._widget.focusOnPreviewEditor()})}})},l=>{this._notificationService.error(l)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}async goToNextOrPreviousReference(e){if(!this._editor.hasModel()||!this._model||!this._widget)return;const t=this._widget.position;if(!t)return;const i=this._model.nearestReference(this._editor.getModel().uri,t);if(!i)return;const r=this._model.nextOrPreviousReference(i,e),o=this._editor.hasTextFocus(),s=this._widget.isPreviewEditorFocused();await this._widget.setSelection(r),await this._gotoReference(r,!1),o?this._editor.focus():this._widget&&s&&this._widget.focusOnPreviewEditor()}async revealReference(e){!this._editor.hasModel()||!this._model||!this._widget||await this._widget.revealReference(e)}closeWidget(e=!0){var t,i;(t=this._widget)===null||t===void 0||t.dispose(),(i=this._model)===null||i===void 0||i.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(e,t){var i;(i=this._widget)===null||i===void 0||i.hide(),this._ignoreModelChangeEvent=!0;const r=B.lift(e.range).collapseToStart();return this._editorService.openCodeEditor({resource:e.uri,options:{selection:r,selectionSource:"code.jump",pinned:t}},this._editor).then(o=>{var s;if(this._ignoreModelChangeEvent=!1,!o||!this._widget){this.closeWidget();return}if(this._editor===o)this._widget.show(r),this._widget.focusOnReferenceTree();else{const a=IT.get(o),l=this._model.clone();this.closeWidget(),o.focus(),a==null||a.toggleWidget(r,gr(c=>Promise.resolve(l)),(s=this._peekMode)!==null&&s!==void 0?s:!1)}},o=>{this._ignoreModelChangeEvent=!1,St(o)})}openReference(e,t,i){t||this.closeWidget();const{uri:r,range:o}=e;this._editorService.openCodeEditor({resource:r,options:{selection:o,selectionSource:"code.jump",pinned:i}},this._editor,t)}};Yg.ID="editor.contrib.referencesController";Yg=IT=hHe([p0(2,_t),p0(3,ai),p0(4,Rn),p0(5,dt),p0(6,Yl),p0(7,jt)],Yg);function j_(n,e){const t=JVe(n);if(!t)return;const i=Yg.get(t);i&&e(i)}vs.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:Yn(2089,60),when:we.or(z_,bs.inPeekEditor),handler(n){j_(n,e=>{e.changeFocusBetweenPreviewAndReferences()})}});vs.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:we.or(z_,bs.inPeekEditor),handler(n){j_(n,e=>{e.goToNextOrPreviousReference(!0)})}});vs.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:we.or(z_,bs.inPeekEditor),handler(n){j_(n,e=>{e.goToNextOrPreviousReference(!1)})}});Gt.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference");Gt.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference");Gt.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch");Gt.registerCommand("closeReferenceSearch",n=>j_(n,e=>e.closeWidget()));vs.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:we.and(bs.inPeekEditor,we.not("config.editor.stablePeek"))});vs.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:we.and(z_,we.not("config.editor.stablePeek"))});vs.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:we.and(z_,xde,qV.negate(),KV.negate()),handler(n){var e;const i=(e=n.get(hl).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof Zg&&j_(n,r=>r.revealReference(i[0]))}});vs.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:we.and(z_,xde,qV.negate(),KV.negate()),handler(n){var e;const i=(e=n.get(hl).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof Zg&&j_(n,r=>r.openReference(i[0],!0,!0))}});Gt.registerCommand("openReference",n=>{var e;const i=(e=n.get(hl).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(i)&&i[0]instanceof Zg&&j_(n,r=>r.openReference(i[0],!1,!0))});var Lhe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},aw=function(n,e){return function(t,i){e(t,i,n)}};const TH=new je("hasSymbols",!1,w("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),YM=zt("ISymbolNavigationService");let b8=class{constructor(e,t,i,r){this._editorService=t,this._notificationService=i,this._keybindingService=r,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=TH.bindTo(e)}reset(){var e,t;this._ctxHasSymbols.reset(),(e=this._currentState)===null||e===void 0||e.dispose(),(t=this._currentMessage)===null||t===void 0||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(e){const t=e.parent.parent;if(t.references.length<=1){this.reset();return}this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();const i=new y8(this._editorService),r=i.onDidChange(o=>{if(this._ignoreEditorChange)return;const s=this._editorService.getActiveCodeEditor();if(!s)return;const a=s.getModel(),l=s.getPosition();if(!a||!l)return;let c=!1,d=!1;for(const u of t.references)if(X6(u.uri,a.uri))c=!0,d=d||B.containsPosition(u.range,l);else if(c)break;(!c||!d)&&this.reset()});this._currentState=Wl(i,r)}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:B.collapseToStart(t.range),selectionRevealType:3}},e).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var e;(e=this._currentMessage)===null||e===void 0||e.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),i=t?w("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,t.getLabel()):w("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(i)}};b8=Lhe([aw(0,_t),aw(1,ai),aw(2,Rn),aw(3,xi)],b8);Yt(YM,b8,1);We(new class extends kr{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:TH,kbOpts:{weight:100,primary:70}})}runEditorCommand(n,e){return n.get(YM).revealNext(e)}});vs.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:TH,primary:9,handler(n){n.get(YM).reset()}});let y8=class{constructor(e){this._listener=new Map,this._disposables=new xe,this._onDidChange=new ne,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),vi(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,Wl(e.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:e})),e.onDidChangeModelContent(t=>this._onDidChange.fire({editor:e}))))}_onDidRemoveEditor(e){var t;(t=this._listener.get(e))===null||t===void 0||t.dispose(),this._listener.delete(e)}};y8=Lhe([aw(0,ai)],y8);async function gL(n,e,t,i){const o=t.ordered(n).map(a=>Promise.resolve(i(a,n,e)).then(void 0,l=>{Hn(l)})),s=await Promise.all(o);return zc(s.flat())}function XM(n,e,t,i){return gL(e,t,n,(r,o,s)=>r.provideDefinition(o,s,i))}function khe(n,e,t,i){return gL(e,t,n,(r,o,s)=>r.provideDeclaration(o,s,i))}function Dhe(n,e,t,i){return gL(e,t,n,(r,o,s)=>r.provideImplementation(o,s,i))}function The(n,e,t,i){return gL(e,t,n,(r,o,s)=>r.provideTypeDefinition(o,s,i))}function QM(n,e,t,i,r){return gL(e,t,n,async(o,s,a)=>{const l=await o.provideReferences(s,a,{includeDeclaration:!0},r);if(!i||!l||l.length!==2)return l;const c=await o.provideReferences(s,a,{includeDeclaration:!1},r);return c&&c.length===1?c:l})}async function pL(n){const e=await n(),t=new Ws(e,""),i=t.references.map(r=>r.link);return t.dispose(),i}vu("_executeDefinitionProvider",(n,e,t)=>{const i=n.get(qe),r=XM(i.definitionProvider,e,t,Ht.None);return pL(()=>r)});vu("_executeTypeDefinitionProvider",(n,e,t)=>{const i=n.get(qe),r=The(i.typeDefinitionProvider,e,t,Ht.None);return pL(()=>r)});vu("_executeDeclarationProvider",(n,e,t)=>{const i=n.get(qe),r=khe(i.declarationProvider,e,t,Ht.None);return pL(()=>r)});vu("_executeReferenceProvider",(n,e,t)=>{const i=n.get(qe),r=QM(i.referenceProvider,e,t,!1,Ht.None);return pL(()=>r)});vu("_executeImplementationProvider",(n,e,t)=>{const i=n.get(qe),r=Dhe(i.implementationProvider,e,t,Ht.None);return pL(()=>r)});var DC,TC,EC,oD,sD,aD,lD,cD;Rr.appendMenuItem(H.EditorContext,{submenu:H.EditorContextPeek,title:w("peek.submenu","Peek"),group:"navigation",order:100});class Zb{static is(e){return!e||typeof e!="object"?!1:!!(e instanceof Zb||re.isIPosition(e.position)&&e.model)}constructor(e,t){this.model=e,this.position=t}}class Co extends td{static all(){return Co._allSymbolNavigationCommands.values()}static _patchConfig(e){const t={...e,f1:!0};if(t.menu)for(const i of Kt.wrap(t.menu))(i.id===H.EditorContext||i.id===H.EditorContextPeek)&&(i.when=we.and(e.precondition,i.when));return t}constructor(e,t){super(Co._patchConfig(t)),this.configuration=e,Co._allSymbolNavigationCommands.set(t.id,this)}runEditorCommand(e,t,i,r){if(!t.hasModel())return Promise.resolve(void 0);const o=e.get(Rn),s=e.get(ai),a=e.get(pp),l=e.get(YM),c=e.get(qe),d=e.get(dt),u=t.getModel(),h=t.getPosition(),f=Zb.is(i)?i:new Zb(u,h),g=new $g(t,5),_=TP(this._getLocationModel(c,f.model,f.position,g.token),g.token).then(async y=>{var m;if(!y||g.token.isCancellationRequested)return;zs(y.ariaMessage);let p;if(y.referenceAt(u.uri,h)){const b=this._getAlternativeCommand(t);!Co._activeAlternativeCommands.has(b)&&Co._allSymbolNavigationCommands.has(b)&&(p=Co._allSymbolNavigationCommands.get(b))}const v=y.references.length;if(v===0){if(!this.configuration.muteMessage){const b=u.getWordAtPosition(h);(m=zo.get(t))===null||m===void 0||m.showMessage(this._getNoResultFoundMessage(b),h)}}else if(v===1&&p)Co._activeAlternativeCommands.add(this.desc.id),d.invokeFunction(b=>p.runEditorCommand(b,t,i,r).finally(()=>{Co._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(s,l,t,y,r)},y=>{o.error(y)}).finally(()=>{g.dispose()});return a.showWhile(_,250),_}async _onResult(e,t,i,r,o){const s=this._getGoToPreference(i);if(!(i instanceof Gg)&&(this.configuration.openInPeek||s==="peek"&&r.references.length>1))this._openInPeek(i,r,o);else{const a=r.firstReference(),l=r.references.length>1&&s==="gotoAndPeek",c=await this._openReference(i,e,a,this.configuration.openToSide,!l);l&&c?this._openInPeek(c,r,o):r.dispose(),s==="goto"&&t.put(a)}}async _openReference(e,t,i,r,o){let s;if(RLe(i)&&(s=i.targetSelectionRange),s||(s=i.range),!s)return;const a=await t.openCodeEditor({resource:i.uri,options:{selection:B.collapseToStart(s),selectionRevealType:3,selectionSource:"code.jump"}},e,r);if(a){if(o){const l=a.getModel(),c=a.createDecorationsCollection([{range:s,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{a.getModel()===l&&c.clear()},350)}return a}}_openInPeek(e,t,i){const r=Yg.get(e);r&&e.hasModel()?r.toggleWidget(i??e.getSelection(),gr(o=>Promise.resolve(t)),this.configuration.openInPeek):t.dispose()}}Co._allSymbolNavigationCommands=new Map;Co._activeAlternativeCommands=new Set;class mL extends Co{async _getLocationModel(e,t,i,r){return new Ws(await XM(e.definitionProvider,t,i,r),w("def.title","Definitions"))}_getNoResultFoundMessage(e){return e&&e.word?w("noResultWord","No definition found for '{0}'",e.word):w("generic.noResults","No definition found")}_getAlternativeCommand(e){return e.getOption(58).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(58).multipleDefinitions}}ji((DC=class extends mL{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:DC.id,title:{value:w("actions.goToDecl.label","Go to Definition"),original:"Go to Definition",mnemonicTitle:w({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},precondition:we.and(j.hasDefinitionProvider,j.isInWalkThroughSnippet.toNegated()),keybinding:[{when:j.editorTextFocus,primary:70,weight:100},{when:we.and(j.editorTextFocus,yde),primary:2118,weight:100}],menu:[{id:H.EditorContext,group:"navigation",order:1.1},{id:H.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),Gt.registerCommandAlias("editor.action.goToDeclaration",DC.id)}},DC.id="editor.action.revealDefinition",DC));ji((TC=class extends mL{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:TC.id,title:{value:w("actions.goToDeclToSide.label","Open Definition to the Side"),original:"Open Definition to the Side"},precondition:we.and(j.hasDefinitionProvider,j.isInWalkThroughSnippet.toNegated()),keybinding:[{when:j.editorTextFocus,primary:Yn(2089,70),weight:100},{when:we.and(j.editorTextFocus,yde),primary:Yn(2089,2118),weight:100}]}),Gt.registerCommandAlias("editor.action.openDeclarationToTheSide",TC.id)}},TC.id="editor.action.revealDefinitionAside",TC));ji((EC=class extends mL{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:EC.id,title:{value:w("actions.previewDecl.label","Peek Definition"),original:"Peek Definition"},precondition:we.and(j.hasDefinitionProvider,bs.notInPeekEditor,j.isInWalkThroughSnippet.toNegated()),keybinding:{when:j.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:H.EditorContextPeek,group:"peek",order:2}}),Gt.registerCommandAlias("editor.action.previewDeclaration",EC.id)}},EC.id="editor.action.peekDefinition",EC));class Ehe extends Co{async _getLocationModel(e,t,i,r){return new Ws(await khe(e.declarationProvider,t,i,r),w("decl.title","Declarations"))}_getNoResultFoundMessage(e){return e&&e.word?w("decl.noResultWord","No declaration found for '{0}'",e.word):w("decl.generic.noResults","No declaration found")}_getAlternativeCommand(e){return e.getOption(58).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(58).multipleDeclarations}}ji((oD=class extends Ehe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:oD.id,title:{value:w("actions.goToDeclaration.label","Go to Declaration"),original:"Go to Declaration",mnemonicTitle:w({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},precondition:we.and(j.hasDeclarationProvider,j.isInWalkThroughSnippet.toNegated()),menu:[{id:H.EditorContext,group:"navigation",order:1.3},{id:H.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(e){return e&&e.word?w("decl.noResultWord","No declaration found for '{0}'",e.word):w("decl.generic.noResults","No declaration found")}},oD.id="editor.action.revealDeclaration",oD));ji(class extends Ehe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:{value:w("actions.peekDecl.label","Peek Declaration"),original:"Peek Declaration"},precondition:we.and(j.hasDeclarationProvider,bs.notInPeekEditor,j.isInWalkThroughSnippet.toNegated()),menu:{id:H.EditorContextPeek,group:"peek",order:3}})}});class Ihe extends Co{async _getLocationModel(e,t,i,r){return new Ws(await The(e.typeDefinitionProvider,t,i,r),w("typedef.title","Type Definitions"))}_getNoResultFoundMessage(e){return e&&e.word?w("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):w("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(e){return e.getOption(58).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(58).multipleTypeDefinitions}}ji((sD=class extends Ihe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:sD.ID,title:{value:w("actions.goToTypeDefinition.label","Go to Type Definition"),original:"Go to Type Definition",mnemonicTitle:w({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},precondition:we.and(j.hasTypeDefinitionProvider,j.isInWalkThroughSnippet.toNegated()),keybinding:{when:j.editorTextFocus,primary:0,weight:100},menu:[{id:H.EditorContext,group:"navigation",order:1.4},{id:H.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}},sD.ID="editor.action.goToTypeDefinition",sD));ji((aD=class extends Ihe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:aD.ID,title:{value:w("actions.peekTypeDefinition.label","Peek Type Definition"),original:"Peek Type Definition"},precondition:we.and(j.hasTypeDefinitionProvider,bs.notInPeekEditor,j.isInWalkThroughSnippet.toNegated()),menu:{id:H.EditorContextPeek,group:"peek",order:4}})}},aD.ID="editor.action.peekTypeDefinition",aD));class Nhe extends Co{async _getLocationModel(e,t,i,r){return new Ws(await Dhe(e.implementationProvider,t,i,r),w("impl.title","Implementations"))}_getNoResultFoundMessage(e){return e&&e.word?w("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):w("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(e){return e.getOption(58).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(58).multipleImplementations}}ji((lD=class extends Nhe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:lD.ID,title:{value:w("actions.goToImplementation.label","Go to Implementations"),original:"Go to Implementations",mnemonicTitle:w({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},precondition:we.and(j.hasImplementationProvider,j.isInWalkThroughSnippet.toNegated()),keybinding:{when:j.editorTextFocus,primary:2118,weight:100},menu:[{id:H.EditorContext,group:"navigation",order:1.45},{id:H.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}},lD.ID="editor.action.goToImplementation",lD));ji((cD=class extends Nhe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:cD.ID,title:{value:w("actions.peekImplementation.label","Peek Implementations"),original:"Peek Implementations"},precondition:we.and(j.hasImplementationProvider,bs.notInPeekEditor,j.isInWalkThroughSnippet.toNegated()),keybinding:{when:j.editorTextFocus,primary:3142,weight:100},menu:{id:H.EditorContextPeek,group:"peek",order:5}})}},cD.ID="editor.action.peekImplementation",cD));class Phe extends Co{_getNoResultFoundMessage(e){return e?w("references.no","No references found for '{0}'",e.word):w("references.noGeneric","No references found")}_getAlternativeCommand(e){return e.getOption(58).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(58).multipleReferences}}ji(class extends Phe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{value:w("goToReferences.label","Go to References"),original:"Go to References",mnemonicTitle:w({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},precondition:we.and(j.hasReferenceProvider,bs.notInPeekEditor,j.isInWalkThroughSnippet.toNegated()),keybinding:{when:j.editorTextFocus,primary:1094,weight:100},menu:[{id:H.EditorContext,group:"navigation",order:1.45},{id:H.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}async _getLocationModel(e,t,i,r){return new Ws(await QM(e.referenceProvider,t,i,!0,r),w("ref.title","References"))}});ji(class extends Phe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:{value:w("references.action.label","Peek References"),original:"Peek References"},precondition:we.and(j.hasReferenceProvider,bs.notInPeekEditor,j.isInWalkThroughSnippet.toNegated()),menu:{id:H.EditorContextPeek,group:"peek",order:6}})}async _getLocationModel(e,t,i,r){return new Ws(await QM(e.referenceProvider,t,i,!1,r),w("ref.title","References"))}});class fHe extends Co{constructor(e,t,i){super(e,{id:"editor.action.goToLocation",title:{value:w("label.generic","Go to Any Symbol"),original:"Go to Any Symbol"},precondition:we.and(bs.notInPeekEditor,j.isInWalkThroughSnippet.toNegated())}),this._references=t,this._gotoMultipleBehaviour=i}async _getLocationModel(e,t,i,r){return new Ws(this._references,w("generic.title","Locations"))}_getNoResultFoundMessage(e){return e&&w("generic.noResult","No results for '{0}'",e.word)||""}_getGoToPreference(e){var t;return(t=this._gotoMultipleBehaviour)!==null&&t!==void 0?t:e.getOption(58).multipleReferences}_getAlternativeCommand(){return""}}Gt.registerCommand({id:"editor.action.goToLocations",metadata:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:rt},{name:"position",description:"The position at which to start",constraint:re.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:async(n,e,t,i,r,o,s)=>{Ci(rt.isUri(e)),Ci(re.isIPosition(t)),Ci(Array.isArray(i)),Ci(typeof r>"u"||typeof r=="string"),Ci(typeof s>"u"||typeof s=="boolean");const a=n.get(ai),l=await a.openCodeEditor({resource:e},a.getFocusedCodeEditor());if(gu(l))return l.setPosition(t),l.revealPositionInCenterIfOutsideViewport(t,0),l.invokeWithinContext(c=>{const d=new class extends fHe{_getNoResultFoundMessage(u){return o||super._getNoResultFoundMessage(u)}}({muteMessage:!o,openInPeek:!!s,openToSide:!1},i,r);c.get(dt).invokeFunction(d.run.bind(d),l)})}});Gt.registerCommand({id:"editor.action.peekLocations",metadata:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:rt},{name:"position",description:"The position at which to start",constraint:re.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"}]},handler:async(n,e,t,i,r)=>{n.get(fn).executeCommand("editor.action.goToLocations",e,t,i,r,void 0,!0)}});Gt.registerCommand({id:"editor.action.findReferences",handler:(n,e,t)=>{Ci(rt.isUri(e)),Ci(re.isIPosition(t));const i=n.get(qe),r=n.get(ai);return r.openCodeEditor({resource:e},r.getFocusedCodeEditor()).then(o=>{if(!gu(o)||!o.hasModel())return;const s=Yg.get(o);if(!s)return;const a=gr(c=>QM(i.referenceProvider,o.getModel(),re.lift(t),!1,c).then(d=>new Ws(d,w("ref.title","References")))),l=new B(t.lineNumber,t.column,t.lineNumber,t.column);return Promise.resolve(s.toggleWidget(l,a,!1))})}});Gt.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");var gHe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},zO=function(n,e){return function(t,i){e(t,i,n)}},lw;let d_=lw=class{constructor(e,t,i,r){this.textModelResolverService=t,this.languageService=i,this.languageFeaturesService=r,this.toUnhook=new xe,this.toUnhookForKeyboard=new xe,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e,this.linkDecorations=this.editor.createDecorationsCollection();const o=new $M(e);this.toUnhook.add(o),this.toUnhook.add(o.onMouseMoveOrRelevantKeyDown(([s,a])=>{this.startFindDefinitionFromMouse(s,a??void 0)})),this.toUnhook.add(o.onExecute(s=>{this.isEnabled(s)&&this.gotoDefinition(s.target.position,s.hasSideBySideModifier).catch(a=>{St(a)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(o.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(e){return e.getContribution(lw.ID)}async startFindDefinitionFromCursor(e){await this.startFindDefinition(e),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(t=>{t&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))}startFindDefinitionFromMouse(e,t){if(e.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,t)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const i=e.target.position;this.startFindDefinition(i)}async startFindDefinition(e){var t;this.toUnhookForKeyboard.clear();const i=e?(t=this.editor.getModel())===null||t===void 0?void 0:t.getWordAtPosition(e):null;if(!i){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===i.startColumn&&this.currentWordAtPosition.endColumn===i.endColumn&&this.currentWordAtPosition.word===i.word)return;this.currentWordAtPosition=i;const r=new aue(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=gr(a=>this.findDefinition(e,a));let o;try{o=await this.previousPromise}catch(a){St(a);return}if(!o||!o.length||!r.validate(this.editor)){this.removeLinkDecorations();return}const s=o[0].originSelectionRange?B.lift(o[0].originSelectionRange):new B(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn);if(o.length>1){let a=s;for(const{originSelectionRange:l}of o)l&&(a=B.plusRange(a,l));this.addDecoration(a,new eo().appendText(w("multipleResults","Click to show {0} definitions.",o.length)))}else{const a=o[0];if(!a.uri)return;this.textModelResolverService.createModelReference(a.uri).then(l=>{if(!l.object||!l.object.textEditorModel){l.dispose();return}const{object:{textEditorModel:c}}=l,{startLineNumber:d}=a.range;if(d<1||d>c.getLineCount()){l.dispose();return}const u=this.getPreviewValue(c,d,a),h=this.languageService.guessLanguageIdByFilepathOrFirstLine(c.uri);this.addDecoration(s,u?new eo().appendCodeblock(h||"",u):void 0),l.dispose()})}}getPreviewValue(e,t,i){let r=i.range;return r.endLineNumber-r.startLineNumber>=lw.MAX_SOURCE_PREVIEW_LINES&&(r=this.getPreviewRangeBasedOnIndentation(e,t)),this.stripIndentationFromPreviewRange(e,t,r)}stripIndentationFromPreviewRange(e,t,i){let o=e.getLineFirstNonWhitespaceColumn(t);for(let a=t+1;a<i.endLineNumber;a++){const l=e.getLineFirstNonWhitespaceColumn(a);o=Math.min(o,l)}return e.getValueInRange(i).replace(new RegExp(`^\\s{${o-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(e,t){const i=e.getLineFirstNonWhitespaceColumn(t),r=Math.min(e.getLineCount(),t+lw.MAX_SOURCE_PREVIEW_LINES);let o=t+1;for(;o<r;o++){const s=e.getLineFirstNonWhitespaceColumn(o);if(i===s)break}return new B(t,1,o+1,1)}addDecoration(e,t){const i={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations.set([i])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(e,t){var i;return this.editor.hasModel()&&e.isLeftClick&&e.isNoneOrSingleMouseDown&&e.target.type===6&&!(((i=e.target.detail.injectedText)===null||i===void 0?void 0:i.options)instanceof jg)&&(e.hasTriggerModifier||(t?t.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(e,t){const i=this.editor.getModel();return i?XM(this.languageFeaturesService.definitionProvider,i,e,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext(i=>{const r=!t&&this.editor.getOption(87)&&!this.isInPeekEditor(i);return new mL({openToSide:t,openInPeek:r,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(i)})}isInPeekEditor(e){const t=e.get(_t);return bs.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};d_.ID="editor.contrib.gotodefinitionatposition";d_.MAX_SOURCE_PREVIEW_LINES=8;d_=lw=gHe([zO(1,Cs),zO(2,Zi),zO(3,qe)],d_);li(d_.ID,d_,2);let pHe=class{constructor(e,t,i){this.value=e,this.isComplete=t,this.hasLoadingMessage=i}};class Mhe extends ce{constructor(e,t){super(),this._editor=e,this._computer=t,this._onResult=this._register(new ne),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new ki(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new ki(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new ki(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(60).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(e,t=!0){this._state=e,t&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=Kke(e=>this._computer.computeAsync(e)),(async()=>{try{for await(const e of this._asyncIterable)e&&(this._result.push(e),this._fireResult());this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(e){St(e)}})()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const e=this._state===0,t=this._state===4;this._onResult.fire(new pHe(this._result.slice(0),e,t))}start(e){if(e===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}class jO{constructor(e,t,i,r){this.priority=e,this.range=t,this.initialMousePosX=i,this.initialMousePosY=r,this.type=1}equals(e){return e.type===1&&this.range.equalsRange(e.range)}canAdoptVisibleHover(e,t){return e.type===1&&t.lineNumber===this.range.startLineNumber}}class NT{constructor(e,t,i,r,o,s){this.priority=e,this.owner=t,this.range=i,this.initialMousePosX=r,this.initialMousePosY=o,this.supportsMarkerHover=s,this.type=2}equals(e){return e.type===2&&this.owner===e.owner}canAdoptVisibleHover(e,t){return e.type===2&&this.owner===e.owner}}const U_=new class{constructor(){this._participants=[]}register(e){this._participants.push(e)}getAll(){return this._participants}};class EH{constructor(){this._onDidWillResize=new ne,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new ne,this.onDidResize=this._onDidResize.event,this._sashListener=new xe,this._size=new oi(0,0),this._minSize=new oi(0,0),this._maxSize=new oi(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new Yr(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new Yr(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new Yr(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:BI.North}),this._southSash=new Yr(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:BI.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let e,t=0,i=0;this._sashListener.add(Ve.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{e===void 0&&(this._onDidWillResize.fire(),e=this._size,t=0,i=0)})),this._sashListener.add(Ve.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{e!==void 0&&(e=void 0,t=0,i=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(r=>{e&&(i=r.currentX-r.startX,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(r=>{e&&(i=-(r.currentX-r.startX),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(r=>{e&&(t=-(r.currentY-r.startY),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(r=>{e&&(t=r.currentY-r.startY,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(Ve.any(this._eastSash.onDidReset,this._westSash.onDidReset)(r=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(Ve.any(this._northSash.onDidReset,this._southSash.onDidReset)(r=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,i,r){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=i?3:0,this._westSash.state=r?3:0}layout(e=this.size.height,t=this.size.width){const{height:i,width:r}=this._minSize,{height:o,width:s}=this._maxSize;e=Math.max(i,Math.min(o,e)),t=Math.max(r,Math.min(s,t));const a=new oi(t,e);oi.equals(a,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=a,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}}const mHe=30,_He=24;class vHe extends ce{constructor(e,t=new oi(10,10)){super(),this._editor=e,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new EH),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=oi.lift(t),this._resizableNode.layout(t.height,t.width),this._resizableNode.enableSashes(!0,!0,!0,!0),this._register(this._resizableNode.onDidResize(i=>{this._resize(new oi(i.dimension.width,i.dimension.height)),i.done&&(this._isResizing=!1)})),this._register(this._resizableNode.onDidWillResize(()=>{this._isResizing=!0}))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){var e;return!((e=this._contentPosition)===null||e===void 0)&&e.position?re.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove(e){const t=this._editor.getDomNode(),i=this._editor.getScrolledVisiblePosition(e);return!t||!i?void 0:Vn(t).top+i.top-mHe}_availableVerticalSpaceBelow(e){const t=this._editor.getDomNode(),i=this._editor.getScrolledVisiblePosition(e);if(!t||!i)return;const r=Vn(t),o=Ag(t.ownerDocument.body),s=r.top+i.top+i.height;return o.height-s-_He}_findPositionPreference(e,t){var i,r;const o=Math.min((i=this._availableVerticalSpaceBelow(t))!==null&&i!==void 0?i:1/0,e),s=Math.min((r=this._availableVerticalSpaceAbove(t))!==null&&r!==void 0?r:1/0,e),a=Math.min(Math.max(s,o),e),l=Math.min(e,a);let c;return this._editor.getOption(60).above?c=l<=s?1:2:c=l<=o?2:1,c===1?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),c}_resize(e){this._resizableNode.layout(e.height,e.width)}}var IH=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},mm=function(n,e){return function(t,i){e(t,i,n)}},PT,bd;const nX=Te;let gN=PT=class extends ce{constructor(e,t,i){super(),this._editor=e,this._instantiationService=t,this._keybindingService=i,this._currentResult=null,this._widget=this._register(this._instantiationService.createInstance(yg,this._editor)),this._participants=[];for(const r of U_.getAll())this._participants.push(this._instantiationService.createInstance(r,this._editor));this._participants.sort((r,o)=>r.hoverOrdinal-o.hoverOrdinal),this._computer=new mN(this._editor,this._participants),this._hoverOperation=this._register(new Mhe(this._editor,this._computer)),this._register(this._hoverOperation.onResult(r=>{if(!this._computer.anchor)return;const o=r.hasLoadingMessage?this._addLoadingMessage(r.value):r.value;this._withResult(new Rhe(this._computer.anchor,o,r.isComplete))})),this._register(kn(this._widget.getDomNode(),"keydown",r=>{r.equals(9)&&this.hide()})),this._register(ln.onDidChange(()=>{this._widget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)}))}_startShowingOrUpdateHover(e,t,i,r,o){return!this._widget.position||!this._currentResult?e?(this._startHoverOperationIfNecessary(e,t,i,r,!1),!0):!1:this._editor.getOption(60).sticky&&o&&this._widget.isMouseGettingCloser(o.event.posx,o.event.posy)?(e&&this._startHoverOperationIfNecessary(e,t,i,r,!0),!0):e?e&&this._currentResult.anchor.equals(e)?!0:e.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(e)),this._startHoverOperationIfNecessary(e,t,i,r,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(e,t,i,r,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(e,t,i,r,o){this._computer.anchor&&this._computer.anchor.equals(e)||(this._hoverOperation.cancel(),this._computer.anchor=e,this._computer.shouldFocus=r,this._computer.source=i,this._computer.insistOnKeepingHoverVisible=o,this._hoverOperation.start(t))}_setCurrentResult(e){this._currentResult!==e&&(e&&e.messages.length===0&&(e=null),this._currentResult=e,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}_addLoadingMessage(e){if(this._computer.anchor){for(const t of this._participants)if(t.createLoadingMessage){const i=t.createLoadingMessage(this._computer.anchor);if(i)return e.slice(0).concat([i])}}return e}_withResult(e){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!e.isComplete||this._computer.insistOnKeepingHoverVisible&&e.messages.length===0)||this._setCurrentResult(e)}_renderMessages(e,t){const{showAtPosition:i,showAtSecondaryPosition:r,highlightRange:o}=PT.computeHoverRanges(this._editor,e.range,t),s=new xe,a=s.add(new pN(this._keybindingService)),l=document.createDocumentFragment();let c=null;const d={fragment:l,statusBar:a,setColorPicker:h=>c=h,onContentsChanged:()=>this._widget.onContentsChanged(),setMinimumDimensions:h=>this._widget.setMinimumDimensions(h),hide:()=>this.hide()};for(const h of this._participants){const f=t.filter(g=>g.owner===h);f.length>0&&s.add(h.renderHoverParts(d,f))}const u=t.some(h=>h.isBeforeContent);if(a.hasContent&&l.appendChild(a.hoverElement),l.hasChildNodes()){if(o){const h=this._editor.createDecorationsCollection();h.set([{range:o,options:PT._DECORATION_OPTIONS}]),s.add(at(()=>{h.clear()}))}this._widget.showAt(l,new yHe(e.initialMousePosX,e.initialMousePosY,c,i,r,this._editor.getOption(60).above,this._computer.shouldFocus,this._computer.source,u,s))}else s.dispose()}static computeHoverRanges(e,t,i){let r=1;if(e.hasModel()){const u=e._getViewModel(),h=u.coordinatesConverter,f=h.convertModelRangeToViewRange(t),g=new re(f.startLineNumber,u.getLineMinColumn(f.startLineNumber));r=h.convertViewPositionToModelPosition(g).column}const o=t.startLineNumber;let s=t.startColumn,a=i[0].range,l=null;for(const u of i)a=B.plusRange(a,u.range),u.range.startLineNumber===o&&u.range.endLineNumber===o&&(s=Math.max(Math.min(s,u.range.startColumn),r)),u.forceShowAtRange&&(l=u.range);const c=l?l.getStartPosition():new re(o,t.startColumn),d=l?l.getStartPosition():new re(o,s);return{showAtPosition:c,showAtSecondaryPosition:d,highlightRange:a}}showsOrWillShow(e){if(this._widget.isResizing)return!0;const t=[];for(const r of this._participants)if(r.suggestHoverAnchor){const o=r.suggestHoverAnchor(e);o&&t.push(o)}const i=e.target;if(i.type===6&&t.push(new jO(0,i.range,e.event.posx,e.event.posy)),i.type===7){const r=this._editor.getOption(50).typicalHalfwidthCharacterWidth/2;!i.detail.isAfterLines&&typeof i.detail.horizontalDistanceToText=="number"&&i.detail.horizontalDistanceToText<r&&t.push(new jO(0,i.range,e.event.posx,e.event.posy))}return t.length===0?this._startShowingOrUpdateHover(null,0,0,!1,e):(t.sort((r,o)=>o.priority-r.priority),this._startShowingOrUpdateHover(t[0],0,0,!1,e))}startShowingAtRange(e,t,i,r){this._startShowingOrUpdateHover(new jO(0,e,void 0,void 0),t,i,r,null)}containsNode(e){return e?this._widget.getDomNode().contains(e):!1}focus(){this._widget.focus()}scrollUp(){this._widget.scrollUp()}scrollDown(){this._widget.scrollDown()}scrollLeft(){this._widget.scrollLeft()}scrollRight(){this._widget.scrollRight()}pageUp(){this._widget.pageUp()}pageDown(){this._widget.pageDown()}goToTop(){this._widget.goToTop()}goToBottom(){this._widget.goToBottom()}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}get isColorPickerVisible(){return this._widget.isColorPickerVisible}get isVisibleFromKeyboard(){return this._widget.isVisibleFromKeyboard}get isVisible(){return this._widget.isVisible}get isFocused(){return this._widget.isFocused}get isResizing(){return this._widget.isResizing}get widget(){return this._widget}};gN._DECORATION_OPTIONS=kt.register({description:"content-hover-highlight",className:"hoverHighlight"});gN=PT=IH([mm(1,dt),mm(2,xi)],gN);class Rhe{constructor(e,t,i){this.anchor=e,this.messages=t,this.isComplete=i}filter(e){const t=this.messages.filter(i=>i.isValidForHoverAnchor(e));return t.length===this.messages.length?this:new bHe(this,this.anchor,t,this.isComplete)}}class bHe extends Rhe{constructor(e,t,i,r){super(t,i,r),this.original=e}filter(e){return this.original.filter(e)}}class yHe{constructor(e,t,i,r,o,s,a,l,c,d){this.initialMousePosX=e,this.initialMousePosY=t,this.colorPicker=i,this.showAtPosition=r,this.showAtSecondaryPosition=o,this.preferAbove=s,this.stoleFocus=a,this.source=l,this.isBeforeContent=c,this.disposables=d,this.closestMouseDistance=void 0}}const rX=30,UO=10,CHe=6;let yg=bd=class extends vHe{get isColorPickerVisible(){var e;return!!(!((e=this._visibleData)===null||e===void 0)&&e.colorPicker)}get isVisibleFromKeyboard(){var e;return((e=this._visibleData)===null||e===void 0?void 0:e.source)===1}get isVisible(){var e;return(e=this._hoverVisibleKey.get())!==null&&e!==void 0?e:!1}get isFocused(){var e;return(e=this._hoverFocusedKey.get())!==null&&e!==void 0?e:!1}constructor(e,t,i,r,o){const s=e.getOption(66)+8,a=150,l=new oi(a,s);super(e,l),this._configurationService=i,this._accessibilityService=r,this._keybindingService=o,this._hover=this._register(new mV),this._minimumSize=l,this._hoverVisibleKey=j.hoverVisible.bindTo(t),this._hoverFocusedKey=j.hoverFocused.bindTo(t),Se(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange(()=>{this.isVisible&&this._updateMaxDimensions()})),this._register(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(50)&&this._updateFont()}));const c=this._register($c(this._resizableNode.domNode));this._register(c.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(c.onDidBlur(()=>{this._hoverFocusedKey.set(!1)})),this._setHoverData(void 0),this._editor.addContentWidget(this)}dispose(){var e;super.dispose(),(e=this._visibleData)===null||e===void 0||e.disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return bd.ID}static _applyDimensions(e,t,i){const r=typeof t=="number"?`${t}px`:t,o=typeof i=="number"?`${i}px`:i;e.style.width=r,e.style.height=o}_setContentsDomNodeDimensions(e,t){const i=this._hover.contentsDomNode;return bd._applyDimensions(i,e,t)}_setContainerDomNodeDimensions(e,t){const i=this._hover.containerDomNode;return bd._applyDimensions(i,e,t)}_setHoverWidgetDimensions(e,t){this._setContentsDomNodeDimensions(e,t),this._setContainerDomNodeDimensions(e,t),this._layoutContentWidget()}static _applyMaxDimensions(e,t,i){const r=typeof t=="number"?`${t}px`:t,o=typeof i=="number"?`${i}px`:i;e.style.maxWidth=r,e.style.maxHeight=o}_setHoverWidgetMaxDimensions(e,t){bd._applyMaxDimensions(this._hover.contentsDomNode,e,t),bd._applyMaxDimensions(this._hover.containerDomNode,e,t),this._hover.containerDomNode.style.setProperty("--vscode-hover-maxWidth",typeof e=="number"?`${e}px`:e),this._layoutContentWidget()}_hasHorizontalScrollbar(){const e=this._hover.scrollbar.getScrollDimensions();return e.scrollWidth>e.width}_adjustContentsBottomPadding(){const e=this._hover.contentsDomNode,t=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;e.style.paddingBottom!==t&&(e.style.paddingBottom=t)}_setAdjustedHoverWidgetDimensions(e){this._setHoverWidgetMaxDimensions("none","none");const t=e.width,i=e.height;this._setHoverWidgetDimensions(t,i),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._setContentsDomNodeDimensions(t,i-UO))}_updateResizableNodeMaxDimensions(){var e,t;const i=(e=this._findMaximumRenderingWidth())!==null&&e!==void 0?e:1/0,r=(t=this._findMaximumRenderingHeight())!==null&&t!==void 0?t:1/0;this._resizableNode.maxSize=new oi(i,r),this._setHoverWidgetMaxDimensions(i,r)}_resize(e){var t,i;bd._lastDimensions=new oi(e.width,e.height),this._setAdjustedHoverWidgetDimensions(e),this._resizableNode.layout(e.height,e.width),this._updateResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),(i=(t=this._visibleData)===null||t===void 0?void 0:t.colorPicker)===null||i===void 0||i.layout()}_findAvailableSpaceVertically(){var e;const t=(e=this._visibleData)===null||e===void 0?void 0:e.showAtPosition;if(t)return this._positionPreference===1?this._availableVerticalSpaceAbove(t):this._availableVerticalSpaceBelow(t)}_findMaximumRenderingHeight(){const e=this._findAvailableSpaceVertically();if(!e)return;let t=CHe;return Array.from(this._hover.contentsDomNode.children).forEach(i=>{t+=i.clientHeight}),this._hasHorizontalScrollbar()&&(t+=UO),Math.min(e,t)}_isHoverTextOverflowing(){this._hover.containerDomNode.style.setProperty("--vscode-hover-whiteSpace","nowrap"),this._hover.containerDomNode.style.setProperty("--vscode-hover-sourceWhiteSpace","nowrap");const e=Array.from(this._hover.contentsDomNode.children).some(t=>t.scrollWidth>t.clientWidth);return this._hover.containerDomNode.style.removeProperty("--vscode-hover-whiteSpace"),this._hover.containerDomNode.style.removeProperty("--vscode-hover-sourceWhiteSpace"),e}_findMaximumRenderingWidth(){if(!this._editor||!this._editor.hasModel())return;const e=this._isHoverTextOverflowing(),t=typeof this._contentWidth>"u"?0:this._contentWidth-2;return e||this._hover.containerDomNode.clientWidth<t?Ag(this._hover.containerDomNode.ownerDocument.body).width-14:this._hover.containerDomNode.clientWidth+2}isMouseGettingCloser(e,t){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX>"u"||typeof this._visibleData.initialMousePosY>"u")return this._visibleData.initialMousePosX=e,this._visibleData.initialMousePosY=t,!1;const i=Vn(this.getDomNode());typeof this._visibleData.closestMouseDistance>"u"&&(this._visibleData.closestMouseDistance=oX(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,i.left,i.top,i.width,i.height));const r=oX(e,t,i.left,i.top,i.width,i.height);return r>this._visibleData.closestMouseDistance+4?!1:(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,r),!0)}_setHoverData(e){var t;(t=this._visibleData)===null||t===void 0||t.disposables.dispose(),this._visibleData=e,this._hoverVisibleKey.set(!!e),this._hover.containerDomNode.classList.toggle("hidden",!e)}_updateFont(){const{fontSize:e,lineHeight:t}=this._editor.getOption(50),i=this._hover.contentsDomNode;i.style.fontSize=`${e}px`,i.style.lineHeight=`${t/e}`,Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(o=>this._editor.applyFontInfo(o))}_updateContent(e){const t=this._hover.contentsDomNode;t.style.paddingBottom="",t.textContent="",t.appendChild(e)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateMaxDimensions(){const e=Math.max(this._editor.getLayoutInfo().height/4,250,bd._lastDimensions.height),t=Math.max(this._editor.getLayoutInfo().width*.66,500,bd._lastDimensions.width);this._setHoverWidgetMaxDimensions(t,e)}_render(e,t){this._setHoverData(t),this._updateFont(),this._updateContent(e),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){var e;return this._visibleData?{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,positionAffinity:this._visibleData.isBeforeContent?3:void 0,preference:[(e=this._positionPreference)!==null&&e!==void 0?e:1]}:null}showAt(e,t){var i,r,o,s;if(!this._editor||!this._editor.hasModel())return;this._render(e,t);const a=am(this._hover.containerDomNode),l=t.showAtPosition;this._positionPreference=(i=this._findPositionPreference(a,l))!==null&&i!==void 0?i:1,this.onContentsChanged(),t.stoleFocus&&this._hover.containerDomNode.focus(),(r=t.colorPicker)===null||r===void 0||r.layout();const d=this._hover.containerDomNode.ownerDocument.activeElement===this._hover.containerDomNode&&Nce(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(s=(o=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||o===void 0?void 0:o.getAriaLabel())!==null&&s!==void 0?s:"");d&&(this._hover.contentsDomNode.ariaLabel=this._hover.contentsDomNode.textContent+", "+d)}hide(){if(!this._visibleData)return;const e=this._visibleData.stoleFocus||this._hoverFocusedKey.get();this._setHoverData(void 0),this._resizableNode.maxSize=new oi(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),e&&this._editor.focus()}_removeConstraintsRenderNormally(){const e=this._editor.getLayoutInfo();this._resizableNode.layout(e.height,e.width),this._setHoverWidgetDimensions("auto","auto")}_adjustHoverHeightForScrollbar(e){var t;const i=this._hover.containerDomNode,r=this._hover.contentsDomNode,o=(t=this._findMaximumRenderingHeight())!==null&&t!==void 0?t:1/0;this._setContainerDomNodeDimensions(os(i),Math.min(o,e)),this._setContentsDomNodeDimensions(os(r),Math.min(o,e-UO))}setMinimumDimensions(e){this._minimumSize=new oi(Math.max(this._minimumSize.width,e.width),Math.max(this._minimumSize.height,e.height)),this._updateMinimumWidth()}_updateMinimumWidth(){const e=typeof this._contentWidth>"u"?this._minimumSize.width:Math.min(this._contentWidth,this._minimumSize.width);this._resizableNode.minSize=new oi(e,this._minimumSize.height)}onContentsChanged(){var e;this._removeConstraintsRenderNormally();const t=this._hover.containerDomNode;let i=am(t),r=os(t);if(this._resizableNode.layout(i,r),this._setHoverWidgetDimensions(r,i),i=am(t),r=os(t),this._contentWidth=r,this._updateMinimumWidth(),this._resizableNode.layout(i,r),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._adjustHoverHeightForScrollbar(i)),!((e=this._visibleData)===null||e===void 0)&&e.showAtPosition){const o=am(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(o,this._visibleData.showAtPosition)}this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:e-t.lineHeight})}scrollDown(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:e+t.lineHeight})}scrollLeft(){const e=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:e-rX})}scrollRight(){const e=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:e+rX})}pageUp(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:e-t})}pageDown(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:e+t})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}};yg.ID="editor.contrib.resizableContentHoverWidget";yg._lastDimensions=new oi(0,0);yg=bd=IH([mm(1,_t),mm(2,jt),mm(3,Gl),mm(4,xi)],yg);let pN=class extends ce{get hasContent(){return this._hasContent}constructor(e){super(),this._keybindingService=e,this._hasContent=!1,this.hoverElement=nX("div.hover-row.status-bar"),this.actionsElement=Se(this.hoverElement,nX("div.actions"))}addAction(e){const t=this._keybindingService.lookupKeybinding(e.commandId),i=t?t.getLabel():null;return this._hasContent=!0,this._register(sM.render(this.actionsElement,e,i))}append(e){const t=Se(this.actionsElement,e);return this._hasContent=!0,t}};pN=IH([mm(0,xi)],pN);class mN{get anchor(){return this._anchor}set anchor(e){this._anchor=e}get shouldFocus(){return this._shouldFocus}set shouldFocus(e){this._shouldFocus=e}get source(){return this._source}set source(e){this._source=e}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(e){this._insistOnKeepingHoverVisible=e}constructor(e,t){this._editor=e,this._participants=t,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(e,t){if(t.type!==1&&!t.supportsMarkerHover)return[];const i=e.getModel(),r=t.range.startLineNumber;if(r>i.getLineCount())return[];const o=i.getLineMaxColumn(r);return e.getLineDecorations(r).filter(s=>{if(s.options.isWholeLine)return!0;const a=s.range.startLineNumber===r?s.range.startColumn:1,l=s.range.endLineNumber===r?s.range.endColumn:o;if(s.options.showIfCollapsed){if(a>t.range.startColumn+1||t.range.endColumn-1>l)return!1}else if(a>t.range.startColumn||t.range.endColumn>l)return!1;return!0})}computeAsync(e){const t=this._anchor;if(!this._editor.hasModel()||!t)return Fn.EMPTY;const i=mN._getLineDecorations(this._editor,t);return Fn.merge(this._participants.map(r=>r.computeAsync?r.computeAsync(t,i,e):Fn.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const e=mN._getLineDecorations(this._editor,this._anchor);let t=[];for(const i of this._participants)t=t.concat(i.computeSync(this._anchor,e));return zc(t)}}function oX(n,e,t,i,r,o){const s=t+r/2,a=i+o/2,l=Math.max(Math.abs(n-s)-r/2,0),c=Math.max(Math.abs(e-a)-o/2,0);return Math.sqrt(l*l+c*c)}const sX=Te;class Yv extends ce{constructor(e,t,i){super(),this._renderDisposeables=this._register(new xe),this._editor=e,this._isVisible=!1,this._messages=[],this._hover=this._register(new mV),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new du({editor:this._editor},t,i)),this._computer=new wHe(this._editor),this._hoverOperation=this._register(new Mhe(this._editor,this._computer)),this._register(this._hoverOperation.onResult(r=>{this._withResult(r.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(50)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Yv.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(e,t){this._computer.lineNumber===e&&this._computer.lane===t||(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._computer.lane=t,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(e,t){this._renderDisposeables.clear();const i=document.createDocumentFragment();for(const r of t){const o=sX("div.hover-row.markdown-hover"),s=Se(o,sX("div.hover-contents")),a=this._renderDisposeables.add(this._markdownRenderer.render(r.value));s.appendChild(a.element),i.appendChild(o)}this._updateContents(i),this._showAt(e)}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}_showAt(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const t=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(e),r=this._editor.getScrollTop(),o=this._editor.getOption(66),s=this._hover.containerDomNode.clientHeight,a=i-r-(s-o)/2,l=t.glyphMarginLeft+t.glyphMarginWidth+(this._computer.lane==="lineNo"?t.lineNumbersWidth:0);this._hover.containerDomNode.style.left=`${l}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(a),0)}px`}}Yv.ID="editor.contrib.modesGlyphHoverWidget";class wHe{get lineNumber(){return this._lineNumber}set lineNumber(e){this._lineNumber=e}get lane(){return this._laneOrLine}set lane(e){this._laneOrLine=e}constructor(e){this._editor=e,this._lineNumber=-1,this._laneOrLine=au.Center}computeSync(){var e,t;const i=a=>({value:a}),r=this._editor.getLineDecorations(this._lineNumber),o=[],s=this._laneOrLine==="lineNo";if(!r)return o;for(const a of r){const l=(t=(e=a.options.glyphMargin)===null||e===void 0?void 0:e.position)!==null&&t!==void 0?t:au.Center;if(!s&&l!==this._laneOrLine)continue;const c=s?a.options.lineNumberHoverMessage:a.options.glyphMarginHoverMessage;!c||Ob(c)||o.push(...WW(c).map(i))}return o}}class SHe{constructor(e,t,i){this.provider=e,this.hover=t,this.ordinal=i}}async function xHe(n,e,t,i,r){try{const o=await Promise.resolve(n.provideHover(t,i,r));if(o&&kHe(o))return new SHe(n,o,e)}catch(o){Hn(o)}}function NH(n,e,t,i){const o=n.ordered(e).map((s,a)=>xHe(s,a,e,t,i));return Fn.fromPromises(o).coalesce()}function LHe(n,e,t,i){return NH(n,e,t,i).map(r=>r.hover).toPromise()}vu("_executeHoverProvider",(n,e,t)=>{const i=n.get(qe);return LHe(i.hoverProvider,e,t,Ht.None)});function kHe(n){const e=typeof n.range<"u",t=typeof n.contents<"u"&&n.contents&&n.contents.length>0;return e&&t}var DHe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},dD=function(n,e){return function(t,i){e(t,i,n)}};const aX=Te;class xc{constructor(e,t,i,r,o){this.owner=e,this.range=t,this.contents=i,this.isBeforeContent=r,this.ordinal=o}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let _N=class{constructor(e,t,i,r,o){this._editor=e,this._languageService=t,this._openerService=i,this._configurationService=r,this._languageFeaturesService=o,this.hoverOrdinal=3}createLoadingMessage(e){return new xc(this,e.range,[new eo().appendText(w("modesContentHover.loading","Loading..."))],!1,2e3)}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const i=this._editor.getModel(),r=e.range.startLineNumber,o=i.getLineMaxColumn(r),s=[];let a=1e3;const l=i.getLineLength(r),c=i.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),d=this._editor.getOption(116),u=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:c});let h=!1;d>=0&&l>d&&e.range.startColumn>=d&&(h=!0,s.push(new xc(this,e.range,[{value:w("stopped rendering","Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,a++))),!h&&typeof u=="number"&&l>=u&&s.push(new xc(this,e.range,[{value:w("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,a++));let f=!1;for(const g of t){const _=g.range.startLineNumber===r?g.range.startColumn:1,y=g.range.endLineNumber===r?g.range.endColumn:o,m=g.options.hoverMessage;if(!m||Ob(m))continue;g.options.beforeContentClassName&&(f=!0);const p=new B(e.range.startLineNumber,_,e.range.startLineNumber,y);s.push(new xc(this,p,WW(m),f,a++))}return s}computeAsync(e,t,i){if(!this._editor.hasModel()||e.type!==1)return Fn.EMPTY;const r=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(r))return Fn.EMPTY;const o=new re(e.range.startLineNumber,e.range.startColumn);return NH(this._languageFeaturesService.hoverProvider,r,o,i).filter(s=>!Ob(s.hover.contents)).map(s=>{const a=s.hover.range?B.lift(s.hover.range):e.range;return new xc(this,a,s.hover.contents,!1,s.ordinal)})}renderHoverParts(e,t){return Ahe(e,t,this._editor,this._languageService,this._openerService)}};_N=DHe([dD(1,Zi),dD(2,ws),dD(3,jt),dD(4,qe)],_N);function Ahe(n,e,t,i,r){e.sort((s,a)=>s.ordinal-a.ordinal);const o=new xe;for(const s of e)for(const a of s.contents){if(Ob(a))continue;const l=aX("div.hover-row.markdown-hover"),c=Se(l,aX("div.hover-contents")),d=o.add(new du({editor:t},i,r));o.add(d.onDidRenderAsync(()=>{c.className="hover-contents code-hover-contents",n.onContentsChanged()}));const u=o.add(d.render(a));c.appendChild(u.element),n.fragment.appendChild(l)}return o}var Ohe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},vN=function(n,e){return function(t,i){e(t,i,n)}};class lX{constructor(e,t,i){this.marker=e,this.index=t,this.total=i}}let C8=class{constructor(e,t,i){this._markerService=t,this._configService=i,this._onDidChange=new ne,this.onDidChange=this._onDidChange.event,this._dispoables=new xe,this._markers=[],this._nextIdx=-1,rt.isUri(e)?this._resourceFilter=a=>a.toString()===e.toString():e&&(this._resourceFilter=e);const r=this._configService.getValue("problems.sortOrder"),o=(a,l)=>{let c=V1(a.resource.toString(),l.resource.toString());return c===0&&(r==="position"?c=B.compareRangesUsingStarts(a,l)||hn.compare(a.severity,l.severity):c=hn.compare(a.severity,l.severity)||B.compareRangesUsingStarts(a,l)),c},s=()=>{this._markers=this._markerService.read({resource:rt.isUri(e)?e:void 0,severities:hn.Error|hn.Warning|hn.Info}),typeof e=="function"&&(this._markers=this._markers.filter(a=>this._resourceFilter(a.resource))),this._markers.sort(o)};s(),this._dispoables.add(t.onMarkerChanged(a=>{(!this._resourceFilter||a.some(l=>this._resourceFilter(l)))&&(s(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e?!0:!this._resourceFilter||!e?!1:this._resourceFilter(e)}get selected(){const e=this._markers[this._nextIdx];return e&&new lX(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,i){let r=!1,o=this._markers.findIndex(s=>s.resource.toString()===e.uri.toString());o<0&&(o=M1(this._markers,{resource:e.uri},(s,a)=>V1(s.resource.toString(),a.resource.toString())),o<0&&(o=~o));for(let s=o;s<this._markers.length;s++){let a=B.lift(this._markers[s]);if(a.isEmpty()){const l=e.getWordAtPosition(a.getStartPosition());l&&(a=new B(a.startLineNumber,l.startColumn,a.startLineNumber,l.endColumn))}if(t&&(a.containsPosition(t)||t.isBeforeOrEqual(a.getStartPosition()))){this._nextIdx=s,r=!0;break}if(this._markers[s].resource.toString()!==e.uri.toString())break}r||(this._nextIdx=i?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,i){if(this._markers.length===0)return!1;const r=this._nextIdx;return this._nextIdx===-1?this._initIdx(t,i,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),r!==this._nextIdx}find(e,t){let i=this._markers.findIndex(r=>r.resource.toString()===e.toString());if(!(i<0)){for(;i<this._markers.length;i++)if(B.containsPosition(this._markers[i],t))return new lX(this._markers[i],i+1,this._markers.length)}}};C8=Ohe([vN(1,yu),vN(2,jt)],C8);const Fhe=zt("IMarkerNavigationService");let w8=class{constructor(e,t){this._markerService=e,this._configService=t,this._provider=new Fo}getMarkerList(e){for(const t of this._provider){const i=t.getMarkerList(e);if(i)return i}return new C8(e,this._markerService,this._configService)}};w8=Ohe([vN(0,yu),vN(1,jt)],w8);Yt(Fhe,w8,1);var S8;(function(n){function e(t){switch(t){case Sn.Ignore:return"severity-ignore "+lt.asClassName(Ae.info);case Sn.Info:return lt.asClassName(Ae.info);case Sn.Warning:return lt.asClassName(Ae.warning);case Sn.Error:return lt.asClassName(Ae.error);default:return""}}n.className=e})(S8||(S8={}));var THe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},m0=function(n,e){return function(t,i){e(t,i,n)}},x8;class EHe{constructor(e,t,i,r,o){this._openerService=r,this._labelService=o,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new xe,this._editor=t;const s=document.createElement("div");s.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),s.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),s.appendChild(this._relatedBlock),this._disposables.add(kn(this._relatedBlock,"click",a=>{a.preventDefault();const l=this._relatedDiagnostics.get(a.target);l&&i(l)})),this._scrollable=new Lle(s,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(a=>{s.style.left=`-${a.scrollLeft}px`,s.style.top=`-${a.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){vi(this._disposables)}update(e){const{source:t,message:i,relatedInformation:r,code:o}=e;let s=((t==null?void 0:t.length)||0)+2;o&&(typeof o=="string"?s+=o.length:s+=o.value.length);const a=su(i);this._lines=a.length,this._longestLineLength=0;for(const h of a)this._longestLineLength=Math.max(h.length+s,this._longestLineLength);$r(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let l=this._messageBlock;for(const h of a)l=document.createElement("div"),l.innerText=h,h===""&&(l.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(l);if(t||o){const h=document.createElement("span");if(h.classList.add("details"),l.appendChild(h),t){const f=document.createElement("span");f.innerText=t,f.classList.add("source"),h.appendChild(f)}if(o)if(typeof o=="string"){const f=document.createElement("span");f.innerText=`(${o})`,f.classList.add("code"),h.appendChild(f)}else{this._codeLink=Te("a.code-link"),this._codeLink.setAttribute("href",`${o.target.toString()}`),this._codeLink.onclick=g=>{this._openerService.open(o.target,{allowCommands:!0}),g.preventDefault(),g.stopPropagation()};const f=Se(this._codeLink,Te("span"));f.innerText=o.value,h.appendChild(this._codeLink)}}if($r(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),io(r)){const h=this._relatedBlock.appendChild(document.createElement("div"));h.style.paddingTop=`${Math.floor(this._editor.getOption(66)*.66)}px`,this._lines+=1;for(const f of r){const g=document.createElement("div"),_=document.createElement("a");_.classList.add("filename"),_.innerText=`${this._labelService.getUriBasenameLabel(f.resource)}(${f.startLineNumber}, ${f.startColumn}): `,_.title=this._labelService.getUriLabel(f.resource),this._relatedDiagnostics.set(_,f);const y=document.createElement("span");y.innerText=f.message,g.appendChild(_),g.appendChild(y),this._lines+=1,h.appendChild(g)}}const c=this._editor.getOption(50),d=Math.ceil(c.typicalFullwidthCharacterWidth*this._longestLineLength*.75),u=c.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:d,scrollHeight:u})}layout(e,t){this._scrollable.getDomNode().style.height=`${e}px`,this._scrollable.getDomNode().style.width=`${t}px`,this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case hn.Error:t=w("Error","Error");break;case hn.Warning:t=w("Warning","Warning");break;case hn.Info:t=w("Info","Info");break;case hn.Hint:t=w("Hint","Hint");break}let i=w("marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn);const r=this._editor.getModel();return r&&e.startLineNumber<=r.getLineCount()&&e.startLineNumber>=1&&(i=`${r.getLineContent(e.startLineNumber)}, ${i}`),i}}let Yb=x8=class extends fN{constructor(e,t,i,r,o,s,a){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},o),this._themeService=t,this._openerService=i,this._menuService=r,this._contextKeyService=s,this._labelService=a,this._callOnDispose=new xe,this._onDidSelectRelatedInformation=new ne,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=hn.Warning,this._backgroundColor=ue.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor(MHe);let t=L8,i=IHe;this._severity===hn.Warning?(t=MT,i=NHe):this._severity===hn.Info&&(t=k8,i=PHe);const r=e.getColor(t),o=e.getColor(i);this.style({arrowColor:r,frameColor:r,headerBackgroundColor:o,primaryHeadingColor:e.getColor(She),secondaryHeadingColor:e.getColor(xhe)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(e){super._fillHead(e),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(r=>this.editor.focus()));const t=[],i=this._menuService.createMenu(x8.TitleMenu,this._contextKeyService);NV(i,void 0,t),this._actionbarWidget.push(t,{label:!1,icon:!0,index:0}),i.dispose()}_fillTitleIcon(e){this._icon=Se(e,Te(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new EHe(this._container,this.editor,t=>this._onDidSelectRelatedInformation.fire(t),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,t,i){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());const r=B.lift(e),o=this.editor.getPosition(),s=o&&r.containsPosition(o)?o:r.getStartPosition();super.show(s,this.computeRequiredHeight());const a=this.editor.getModel();if(a){const l=i>1?w("problems","{0} of {1} problems",t,i):w("change","{0} of {1} problem",t,i);this.setTitle(ol(a.uri),l)}this._icon.className=`codicon ${S8.className(hn.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(s,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=`${e}px`}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};Yb.TitleMenu=new H("gotoErrorTitleMenu");Yb=x8=THe([m0(1,mr),m0(2,ws),m0(3,ed),m0(4,dt),m0(5,_t),m0(6,Fb)],Yb);const cX=nS(zd,eNe),dX=nS(wo,tS),uX=nS(gs,iS),L8=U("editorMarkerNavigationError.background",{dark:cX,light:cX,hcDark:Ut,hcLight:Ut},w("editorMarkerNavigationError","Editor marker navigation widget error color.")),IHe=U("editorMarkerNavigationError.headerBackground",{dark:Je(L8,.1),light:Je(L8,.1),hcDark:null,hcLight:null},w("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),MT=U("editorMarkerNavigationWarning.background",{dark:dX,light:dX,hcDark:Ut,hcLight:Ut},w("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),NHe=U("editorMarkerNavigationWarning.headerBackground",{dark:Je(MT,.1),light:Je(MT,.1),hcDark:"#0C141F",hcLight:Je(MT,.2)},w("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),k8=U("editorMarkerNavigationInfo.background",{dark:uX,light:uX,hcDark:Ut,hcLight:Ut},w("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),PHe=U("editorMarkerNavigationInfo.headerBackground",{dark:Je(k8,.1),light:Je(k8,.1),hcDark:null,hcLight:null},w("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),MHe=U("editorMarkerNavigation.background",{dark:hr,light:hr,hcDark:hr,hcLight:hr},w("editorMarkerNavigationBackground","Editor marker navigation widget background."));var RHe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},uD=function(n,e){return function(t,i){e(t,i,n)}},cw;let Xg=cw=class{static get(e){return e.getContribution(cw.ID)}constructor(e,t,i,r,o){this._markerNavigationService=t,this._contextKeyService=i,this._editorService=r,this._instantiationService=o,this._sessionDispoables=new xe,this._editor=e,this._widgetVisible=Bhe.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(Yb,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(i=>{var r,o,s;(!(!((r=this._model)===null||r===void 0)&&r.selected)||!B.containsPosition((o=this._model)===null||o===void 0?void 0:o.selected.marker,i.position))&&((s=this._model)===null||s===void 0||s.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const i=this._model.find(this._editor.getModel().uri,this._widget.position);i?this._widget.updateMarker(i.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(i=>{this._editorService.openCodeEditor({resource:i.resource,options:{pinned:!0,revealIfOpened:!0,selection:B.lift(i).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){const t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new re(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}async nagivate(e,t){var i,r;if(this._editor.hasModel()){const o=this._getOrCreateModel(t?void 0:this._editor.getModel().uri);if(o.move(e,this._editor.getModel(),this._editor.getPosition()),!o.selected)return;if(o.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const s=await this._editorService.openCodeEditor({resource:o.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:o.selected.marker}},this._editor);s&&((i=cw.get(s))===null||i===void 0||i.close(),(r=cw.get(s))===null||r===void 0||r.nagivate(e,t))}else this._widget.showAtMarker(o.selected.marker,o.selected.index,o.selected.total)}}};Xg.ID="editor.contrib.markerController";Xg=cw=RHe([uD(1,Fhe),uD(2,_t),uD(3,ai),uD(4,dt)],Xg);class JM extends $e{constructor(e,t,i){super(i),this._next=e,this._multiFile=t}async run(e,t){var i;t.hasModel()&&((i=Xg.get(t))===null||i===void 0||i.nagivate(this._next,this._multiFile))}}class Cg extends JM{constructor(){super(!0,!1,{id:Cg.ID,label:Cg.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:j.focus,primary:578,weight:100},menuOpts:{menuId:Yb.TitleMenu,title:Cg.LABEL,icon:Dn("marker-navigation-next",Ae.arrowDown,w("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}Cg.ID="editor.action.marker.next";Cg.LABEL=w("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class Em extends JM{constructor(){super(!1,!1,{id:Em.ID,label:Em.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:j.focus,primary:1602,weight:100},menuOpts:{menuId:Yb.TitleMenu,title:Em.LABEL,icon:Dn("marker-navigation-previous",Ae.arrowUp,w("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}Em.ID="editor.action.marker.prev";Em.LABEL=w("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");class AHe extends JM{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:w("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:j.focus,primary:66,weight:100},menuOpts:{menuId:H.MenubarGoMenu,title:w({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}class OHe extends JM{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:w("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:j.focus,primary:1090,weight:100},menuOpts:{menuId:H.MenubarGoMenu,title:w({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}}li(Xg.ID,Xg,4);Ee(Cg);Ee(Em);Ee(AHe);Ee(OHe);const Bhe=new je("markersNavigationVisible",!1),FHe=kr.bindToContribution(Xg.get);We(new FHe({id:"closeMarkersNavigation",precondition:Bhe,handler:n=>n.close(),kbOpts:{weight:150,kbExpr:j.focus,primary:9,secondary:[1033]}}));var BHe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},$O=function(n,e){return function(t,i){e(t,i,n)}};const _l=Te;class WHe{constructor(e,t,i){this.owner=e,this.range=t,this.marker=i}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}const hX={type:1,filter:{include:mt.QuickFix},triggerAction:js.QuickFixHover};let D8=class{constructor(e,t,i,r){this._editor=e,this._markerDecorationsService=t,this._openerService=i,this._languageFeaturesService=r,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1&&!e.supportsMarkerHover)return[];const i=this._editor.getModel(),r=e.range.startLineNumber,o=i.getLineMaxColumn(r),s=[];for(const a of t){const l=a.range.startLineNumber===r?a.range.startColumn:1,c=a.range.endLineNumber===r?a.range.endColumn:o,d=this._markerDecorationsService.getMarker(i.uri,a);if(!d)continue;const u=new B(e.range.startLineNumber,l,e.range.startLineNumber,c);s.push(new WHe(this,u,d))}return s}renderHoverParts(e,t){if(!t.length)return ce.None;const i=new xe;t.forEach(o=>e.fragment.appendChild(this.renderMarkerHover(o,i)));const r=t.length===1?t[0]:t.sort((o,s)=>hn.compare(o.marker.severity,s.marker.severity))[0];return this.renderMarkerStatusbar(e,r,i),i}renderMarkerHover(e,t){const i=_l("div.hover-row"),r=Se(i,_l("div.marker.hover-contents")),{source:o,message:s,code:a,relatedInformation:l}=e.marker;this._editor.applyFontInfo(r);const c=Se(r,_l("span"));if(c.style.whiteSpace="pre-wrap",c.innerText=s,o||a)if(a&&typeof a!="string"){const d=_l("span");if(o){const g=Se(d,_l("span"));g.innerText=o}const u=Se(d,_l("a.code-link"));u.setAttribute("href",a.target.toString()),t.add(ge(u,"click",g=>{this._openerService.open(a.target,{allowCommands:!0}),g.preventDefault(),g.stopPropagation()}));const h=Se(u,_l("span"));h.innerText=a.value;const f=Se(r,d);f.style.opacity="0.6",f.style.paddingLeft="6px"}else{const d=Se(r,_l("span"));d.style.opacity="0.6",d.style.paddingLeft="6px",d.innerText=o&&a?`${o}(${a})`:o||`(${a})`}if(io(l))for(const{message:d,resource:u,startLineNumber:h,startColumn:f}of l){const g=Se(r,_l("div"));g.style.marginTop="8px";const _=Se(g,_l("a"));_.innerText=`${ol(u)}(${h}, ${f}): `,_.style.cursor="pointer",t.add(ge(_,"click",m=>{m.stopPropagation(),m.preventDefault(),this._openerService&&this._openerService.open(u,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:h,startColumn:f}}}).catch(St)}));const y=Se(g,_l("span"));y.innerText=d,this._editor.applyFontInfo(y)}return i}renderMarkerStatusbar(e,t,i){if((t.marker.severity===hn.Error||t.marker.severity===hn.Warning||t.marker.severity===hn.Info)&&e.statusBar.addAction({label:w("view problem","View Problem"),commandId:Cg.ID,run:()=>{var r;e.hide(),(r=Xg.get(this._editor))===null||r===void 0||r.showAtMarker(t.marker),this._editor.focus()}}),!this._editor.getOption(90)){const r=e.statusBar.append(_l("div"));this.recentMarkerCodeActionsInfo&&(OI.makeKey(this.recentMarkerCodeActionsInfo.marker)===OI.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(r.textContent=w("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const o=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?ce.None:Rg(()=>r.textContent=w("checkingForQuickFixes","Checking for quick fixes..."),200,i);r.textContent||(r.textContent="");const s=this.getCodeActions(t.marker);i.add(at(()=>s.cancel())),s.then(a=>{if(o.dispose(),this.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:a.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){a.dispose(),r.textContent=w("noQuickFixes","No quick fixes available");return}r.style.display="none";let l=!1;i.add(at(()=>{l||a.dispose()})),e.statusBar.addAction({label:w("quick fixes","Quick Fix..."),commandId:wH,run:c=>{l=!0;const d=qg.get(this._editor),u=Vn(c);e.hide(),d==null||d.showCodeActions(hX,a,{x:u.left,y:u.top,width:u.width,height:u.height})}})},St)}}getCodeActions(e){return gr(t=>e1(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new B(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),hX,mh.None,t))}};D8=BHe([$O(1,P6),$O(2,ws),$O(3,qe)],D8);const Whe="editor.action.inlineSuggest.commit",Vhe="editor.action.inlineSuggest.showPrevious",Hhe="editor.action.inlineSuggest.showNext";var PH=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Lc=function(n,e){return function(t,i){e(t,i,n)}},RT;let T8=class extends ce{constructor(e,t,i){super(),this.editor=e,this.model=t,this.instantiationService=i,this.alwaysShowToolbar=dn(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).showToolbar==="always"),this.sessionPosition=void 0,this.position=It(this,r=>{var o,s,a;const l=(o=this.model.read(r))===null||o===void 0?void 0:o.ghostText.read(r);if(!this.alwaysShowToolbar.read(r)||!l||l.parts.length===0)return this.sessionPosition=void 0,null;const c=l.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==l.lineNumber&&(this.sessionPosition=void 0);const d=new re(l.lineNumber,Math.min(c,(a=(s=this.sessionPosition)===null||s===void 0?void 0:s.column)!==null&&a!==void 0?a:Number.MAX_SAFE_INTEGER));return this.sessionPosition=d,d}),this._register(Cu((r,o)=>{const s=this.model.read(r);if(!s||!this.alwaysShowToolbar.read(r))return;const a=o.add(this.instantiationService.createInstance(Qg,this.editor,!0,this.position,s.selectedInlineCompletionIndex,s.inlineCompletionsCount,s.selectedInlineCompletion.map(l=>{var c;return(c=l==null?void 0:l.inlineCompletion.source.inlineCompletions.commands)!==null&&c!==void 0?c:[]})));e.addContentWidget(a),o.add(at(()=>e.removeContentWidget(a))),o.add(hi(l=>{this.position.read(l)&&s.lastTriggerKind.read(l)!==fh.Explicit&&s.triggerExplicitly()}))}))}};T8=PH([Lc(2,dt)],T8);const VHe=Dn("inline-suggestion-hints-next",Ae.chevronRight,w("parameterHintsNextIcon","Icon for show next parameter hint.")),HHe=Dn("inline-suggestion-hints-previous",Ae.chevronLeft,w("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let Qg=RT=class extends ce{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(e,t,i){const r=new Fs(e,t,i,!0,()=>this._commandService.executeCommand(e)),o=this.keybindingService.lookupKeybinding(e,this._contextKeyService);let s=t;return o&&(s=w({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",t,o.getLabel())),r.tooltip=s,r}constructor(e,t,i,r,o,s,a,l,c,d,u){super(),this.editor=e,this.withBorder=t,this._position=i,this._currentSuggestionIdx=r,this._suggestionCount=o,this._extraCommands=s,this._commandService=a,this.keybindingService=c,this._contextKeyService=d,this._menuService=u,this.id=`InlineSuggestionHintsContentWidget${RT.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=Ri("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[Ri("div@toolBar")]),this.previousAction=this.createCommandAction(Vhe,w("previous","Previous"),lt.asClassName(HHe)),this.availableSuggestionCountAction=new Fs("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(Hhe,w("next","Next"),lt.asClassName(VHe)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(H.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new ki(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new ki(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.lastCommands=[],this.toolBar=this._register(l.createInstance(E8,this.nodes.toolBar,H.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:h=>h.startsWith("primary")},actionViewItemProvider:(h,f)=>{if(h instanceof Ul)return l.createInstance(jHe,h,void 0);if(h===this.availableSuggestionCountAction){const g=new zHe(void 0,h,{label:!0,icon:!1});return g.setClass("availableSuggestionCount"),g}},telemetrySource:"InlineSuggestionToolbar"})),this.toolBar.setPrependedPrimaryActions([this.previousAction,this.availableSuggestionCountAction,this.nextAction]),this._register(this.toolBar.onDidChangeDropdownVisibility(h=>{RT._dropDownVisible=h})),this._register(hi(h=>{this._position.read(h),this.editor.layoutContentWidget(this)})),this._register(hi(h=>{const f=this._suggestionCount.read(h),g=this._currentSuggestionIdx.read(h);f!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${g+1}/${f}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),f!==void 0&&f>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register(hi(h=>{const f=this._extraCommands.read(h);if(vn(this.lastCommands,f))return;this.lastCommands=f;const g=f.map(_=>({class:void 0,id:_.id,enabled:!0,tooltip:_.tooltip||"",label:_.title,run:y=>this._commandService.executeCommand(_.id)}));for(const[_,y]of this.inlineCompletionsActionsMenus.getActions())for(const m of y)m instanceof Ul&&g.push(m);g.length>0&&g.unshift(new rr),this.toolBar.setAdditionalSecondaryActions(g)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};Qg._dropDownVisible=!1;Qg.id=0;Qg=RT=PH([Lc(6,fn),Lc(7,dt),Lc(8,xi),Lc(9,_t),Lc(10,ed)],Qg);class zHe extends Vb{constructor(){super(...arguments),this._className=void 0}setClass(e){this._className=e}render(e){super.render(e),this._className&&e.classList.add(this._className)}updateTooltip(){}}let jHe=class extends Jm{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();if(this.label){const t=Ri("div.keybinding").root;new iL(t,ma,{disableTitle:!0,...p9e}).set(e),this.label.textContent=this._action.label,this.label.appendChild(t),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}updateTooltip(){}},E8=class extends oN{constructor(e,t,i,r,o,s,a,l){super(e,{resetMenu:t,...i},r,o,s,a,l),this.menuId=t,this.options2=i,this.menuService=r,this.contextKeyService=o,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var e,t,i,r,o,s,a;const l=[],c=[];NV(this.menu,(e=this.options2)===null||e===void 0?void 0:e.menuOptions,{primary:l,secondary:c},(i=(t=this.options2)===null||t===void 0?void 0:t.toolbarOptions)===null||i===void 0?void 0:i.primaryGroup,(o=(r=this.options2)===null||r===void 0?void 0:r.toolbarOptions)===null||o===void 0?void 0:o.shouldInlineSubmenu,(a=(s=this.options2)===null||s===void 0?void 0:s.toolbarOptions)===null||a===void 0?void 0:a.useSeparatorsInPrimaryActions),c.push(...this.additionalActions),l.unshift(...this.prependedPrimaryActions),this.setActions(l,c)}setPrependedPrimaryActions(e){vn(this.prependedPrimaryActions,e,(t,i)=>t===i)||(this.prependedPrimaryActions=e,this.updateToolbar())}setAdditionalSecondaryActions(e){vn(this.additionalActions,e,(t,i)=>t===i)||(this.additionalActions=e,this.updateToolbar())}};E8=PH([Lc(3,ed),Lc(4,_t),Lc(5,Pa),Lc(6,xi),Lc(7,qs)],E8);var UHe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},hD=function(n,e){return function(t,i){e(t,i,n)}},I8;const $He=!1;let ys=I8=class extends ce{constructor(e,t,i,r,o){super(),this._editor=e,this._instantiationService=t,this._openerService=i,this._languageService=r,this._keybindingService=o,this._listenersStore=new xe,this._hoverState={mouseDown:!1,contentHoverFocused:!1,activatedByDecoratorClick:!1},this._reactToEditorMouseMoveRunner=this._register(new ki(()=>this._reactToEditorMouseMove(this._mouseMoveEvent),0)),this._hookListeners(),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(60)&&(this._unhookListeners(),this._hookListeners())}))}static get(e){return e.getContribution(I8.ID)}_hookListeners(){const e=this._editor.getOption(60);this._hoverSettings={enabled:e.enabled,sticky:e.sticky,hidingDelay:e.delay},e.enabled?(this._listenersStore.add(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._listenersStore.add(this._editor.onMouseUp(()=>this._onEditorMouseUp())),this._listenersStore.add(this._editor.onMouseMove(t=>this._onEditorMouseMove(t))),this._listenersStore.add(this._editor.onKeyDown(t=>this._onKeyDown(t)))):(this._listenersStore.add(this._editor.onMouseMove(t=>this._onEditorMouseMove(t))),this._listenersStore.add(this._editor.onKeyDown(t=>this._onKeyDown(t)))),this._listenersStore.add(this._editor.onMouseLeave(t=>this._onEditorMouseLeave(t))),this._listenersStore.add(this._editor.onDidChangeModel(()=>{this._cancelScheduler(),this._hideWidgets()})),this._listenersStore.add(this._editor.onDidChangeModelContent(()=>this._cancelScheduler())),this._listenersStore.add(this._editor.onDidScrollChange(t=>this._onEditorScrollChanged(t)))}_unhookListeners(){this._listenersStore.clear()}_cancelScheduler(){this._mouseMoveEvent=void 0,this._reactToEditorMouseMoveRunner.cancel()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){var t;this._hoverState.mouseDown=!0;const i=e.target;if(i.type===9&&i.detail===yg.ID){this._hoverState.contentHoverFocused=!0;return}i.type===12&&i.detail===Yv.ID||(i.type!==12&&(this._hoverState.contentHoverFocused=!1),!(!((t=this._contentWidget)===null||t===void 0)&&t.widget.isResizing)&&this._hideWidgets())}_onEditorMouseUp(){this._hoverState.mouseDown=!1}_onEditorMouseLeave(e){var t,i;this._cancelScheduler();const r=e.event.browserEvent.relatedTarget;!((t=this._contentWidget)===null||t===void 0)&&t.widget.isResizing||!((i=this._contentWidget)===null||i===void 0)&&i.containsNode(r)||this._hideWidgets()}_isMouseOverWidget(e){var t,i,r,o,s;const a=e.target,l=this._hoverSettings.sticky;return!!(l&&a.type===9&&a.detail===yg.ID||l&&(!((t=this._contentWidget)===null||t===void 0)&&t.containsNode((i=e.event.browserEvent.view)===null||i===void 0?void 0:i.document.activeElement))&&!(!((o=(r=e.event.browserEvent.view)===null||r===void 0?void 0:r.getSelection())===null||o===void 0)&&o.isCollapsed)||!l&&a.type===9&&a.detail===yg.ID&&(!((s=this._contentWidget)===null||s===void 0)&&s.isColorPickerVisible)||l&&a.type===12&&a.detail===Yv.ID)}_onEditorMouseMove(e){var t,i,r,o;if(this._mouseMoveEvent=e,!((t=this._contentWidget)===null||t===void 0)&&t.isFocused||!((i=this._contentWidget)===null||i===void 0)&&i.isResizing||this._hoverState.mouseDown&&this._hoverState.contentHoverFocused)return;const s=this._hoverSettings.sticky;if(s&&(!((r=this._contentWidget)===null||r===void 0)&&r.isVisibleFromKeyboard))return;if(this._isMouseOverWidget(e)){this._reactToEditorMouseMoveRunner.cancel();return}const l=this._hoverSettings.hidingDelay;if(!((o=this._contentWidget)===null||o===void 0)&&o.isVisible&&s&&l>0){this._reactToEditorMouseMoveRunner.isScheduled()||this._reactToEditorMouseMoveRunner.schedule(l);return}this._reactToEditorMouseMove(e)}_reactToEditorMouseMove(e){var t,i,r,o;if(!e)return;const s=e.target,a=(t=s.element)===null||t===void 0?void 0:t.classList.contains("colorpicker-color-decoration"),l=this._editor.getOption(146),c=this._hoverSettings.enabled,d=this._hoverState.activatedByDecoratorClick;if(a&&(l==="click"&&!d||l==="hover"&&!c&&!$He||l==="clickAndHover"&&!c&&!d)||!a&&!c&&!d){this._hideWidgets();return}if(this._getOrCreateContentWidget().showsOrWillShow(e)){(i=this._glyphWidget)===null||i===void 0||i.hide();return}if(s.type===2&&s.position&&s.detail.glyphMarginLane){(r=this._contentWidget)===null||r===void 0||r.hide(),this._getOrCreateGlyphWidget().startShowingAt(s.position.lineNumber,s.detail.glyphMarginLane);return}if(s.type===3&&s.position){(o=this._contentWidget)===null||o===void 0||o.hide(),this._getOrCreateGlyphWidget().startShowingAt(s.position.lineNumber,"lineNo");return}this._hideWidgets()}_onKeyDown(e){var t;if(!this._editor.hasModel())return;const i=this._keybindingService.softDispatch(e,this._editor.getDomNode()),r=i.kind===1||i.kind===2&&i.commandId==="editor.action.showHover"&&((t=this._contentWidget)===null||t===void 0?void 0:t.isVisible);e.keyCode===5||e.keyCode===6||e.keyCode===57||e.keyCode===4||r||this._hideWidgets()}_hideWidgets(){var e,t,i;this._hoverState.mouseDown&&this._hoverState.contentHoverFocused&&(!((e=this._contentWidget)===null||e===void 0)&&e.isColorPickerVisible)||Qg.dropDownVisible||(this._hoverState.activatedByDecoratorClick=!1,this._hoverState.contentHoverFocused=!1,(t=this._glyphWidget)===null||t===void 0||t.hide(),(i=this._contentWidget)===null||i===void 0||i.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(gN,this._editor)),this._contentWidget}_getOrCreateGlyphWidget(){return this._glyphWidget||(this._glyphWidget=new Yv(this._editor,this._languageService,this._openerService)),this._glyphWidget}showContentHover(e,t,i,r,o=!1){this._hoverState.activatedByDecoratorClick=o,this._getOrCreateContentWidget().startShowingAtRange(e,t,i,r)}focus(){var e;(e=this._contentWidget)===null||e===void 0||e.focus()}scrollUp(){var e;(e=this._contentWidget)===null||e===void 0||e.scrollUp()}scrollDown(){var e;(e=this._contentWidget)===null||e===void 0||e.scrollDown()}scrollLeft(){var e;(e=this._contentWidget)===null||e===void 0||e.scrollLeft()}scrollRight(){var e;(e=this._contentWidget)===null||e===void 0||e.scrollRight()}pageUp(){var e;(e=this._contentWidget)===null||e===void 0||e.pageUp()}pageDown(){var e;(e=this._contentWidget)===null||e===void 0||e.pageDown()}goToTop(){var e;(e=this._contentWidget)===null||e===void 0||e.goToTop()}goToBottom(){var e;(e=this._contentWidget)===null||e===void 0||e.goToBottom()}get isColorPickerVisible(){var e;return(e=this._contentWidget)===null||e===void 0?void 0:e.isColorPickerVisible}get isHoverVisible(){var e;return(e=this._contentWidget)===null||e===void 0?void 0:e.isVisible}dispose(){var e,t;super.dispose(),this._unhookListeners(),this._listenersStore.dispose(),(e=this._glyphWidget)===null||e===void 0||e.dispose(),(t=this._contentWidget)===null||t===void 0||t.dispose()}};ys.ID="editor.contrib.hover";ys=I8=UHe([hD(1,dt),hD(2,ws),hD(3,Zi),hD(4,xi)],ys);var cc;(function(n){n.NoAutoFocus="noAutoFocus",n.FocusIfVisible="focusIfVisible",n.AutoFocusImmediately="autoFocusImmediately"})(cc||(cc={}));class qHe extends $e{constructor(){super({id:"editor.action.showHover",label:w({key:"showOrFocusHover",comment:["Label for action that will trigger the showing/focusing of a hover in the editor.","If the hover is not visible, it will show the hover.","This allows for users to show the hover without using the mouse."]},"Show or Focus Hover"),metadata:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if and when the hover should take focus upon being triggered by this action.",enum:[cc.NoAutoFocus,cc.FocusIfVisible,cc.AutoFocusImmediately],enumDescriptions:[w("showOrFocusHover.focus.noAutoFocus","The hover will not automatically take focus."),w("showOrFocusHover.focus.focusIfVisible","The hover will take focus only if it is already visible."),w("showOrFocusHover.focus.autoFocusImmediately","The hover will automatically take focus when it appears.")],default:cc.FocusIfVisible}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:j.editorTextFocus,primary:Yn(2089,2087),weight:100}})}run(e,t,i){if(!t.hasModel())return;const r=ys.get(t);if(!r)return;const o=i==null?void 0:i.focus;let s=cc.FocusIfVisible;Object.values(cc).includes(o)?s=o:typeof o=="boolean"&&o&&(s=cc.AutoFocusImmediately);const a=c=>{const d=t.getPosition(),u=new B(d.lineNumber,d.column,d.lineNumber,d.column);r.showContentHover(u,1,1,c)},l=t.getOption(2)===2;r.isHoverVisible?s!==cc.NoAutoFocus?r.focus():a(l):a(l||s===cc.AutoFocusImmediately)}}class KHe extends $e{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:w({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(e,t){const i=ys.get(t);if(!i)return;const r=t.getPosition();if(!r)return;const o=new B(r.lineNumber,r.column,r.lineNumber,r.column),s=d_.get(t);if(!s)return;s.startFindDefinitionFromCursor(r).then(()=>{i.showContentHover(o,1,1,!0)})}}class GHe extends $e{constructor(){super({id:"editor.action.scrollUpHover",label:w({key:"scrollUpHover",comment:["Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Up Hover"),alias:"Scroll Up Hover",precondition:j.hoverFocused,kbOpts:{kbExpr:j.hoverFocused,primary:16,weight:100}})}run(e,t){const i=ys.get(t);i&&i.scrollUp()}}class ZHe extends $e{constructor(){super({id:"editor.action.scrollDownHover",label:w({key:"scrollDownHover",comment:["Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Down Hover"),alias:"Scroll Down Hover",precondition:j.hoverFocused,kbOpts:{kbExpr:j.hoverFocused,primary:18,weight:100}})}run(e,t){const i=ys.get(t);i&&i.scrollDown()}}class YHe extends $e{constructor(){super({id:"editor.action.scrollLeftHover",label:w({key:"scrollLeftHover",comment:["Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused."]},"Scroll Left Hover"),alias:"Scroll Left Hover",precondition:j.hoverFocused,kbOpts:{kbExpr:j.hoverFocused,primary:15,weight:100}})}run(e,t){const i=ys.get(t);i&&i.scrollLeft()}}class XHe extends $e{constructor(){super({id:"editor.action.scrollRightHover",label:w({key:"scrollRightHover",comment:["Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused."]},"Scroll Right Hover"),alias:"Scroll Right Hover",precondition:j.hoverFocused,kbOpts:{kbExpr:j.hoverFocused,primary:17,weight:100}})}run(e,t){const i=ys.get(t);i&&i.scrollRight()}}class QHe extends $e{constructor(){super({id:"editor.action.pageUpHover",label:w({key:"pageUpHover",comment:["Action that allows to page up in the hover widget with the page up command when the hover widget is focused."]},"Page Up Hover"),alias:"Page Up Hover",precondition:j.hoverFocused,kbOpts:{kbExpr:j.hoverFocused,primary:11,secondary:[528],weight:100}})}run(e,t){const i=ys.get(t);i&&i.pageUp()}}class JHe extends $e{constructor(){super({id:"editor.action.pageDownHover",label:w({key:"pageDownHover",comment:["Action that allows to page down in the hover widget with the page down command when the hover widget is focused."]},"Page Down Hover"),alias:"Page Down Hover",precondition:j.hoverFocused,kbOpts:{kbExpr:j.hoverFocused,primary:12,secondary:[530],weight:100}})}run(e,t){const i=ys.get(t);i&&i.pageDown()}}class eze extends $e{constructor(){super({id:"editor.action.goToTopHover",label:w({key:"goToTopHover",comment:["Action that allows to go to the top of the hover widget with the home command when the hover widget is focused."]},"Go To Top Hover"),alias:"Go To Bottom Hover",precondition:j.hoverFocused,kbOpts:{kbExpr:j.hoverFocused,primary:14,secondary:[2064],weight:100}})}run(e,t){const i=ys.get(t);i&&i.goToTop()}}class tze extends $e{constructor(){super({id:"editor.action.goToBottomHover",label:w({key:"goToBottomHover",comment:["Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused."]},"Go To Bottom Hover"),alias:"Go To Bottom Hover",precondition:j.hoverFocused,kbOpts:{kbExpr:j.hoverFocused,primary:13,secondary:[2066],weight:100}})}run(e,t){const i=ys.get(t);i&&i.goToBottom()}}li(ys.ID,ys,2);Ee(qHe);Ee(KHe);Ee(GHe);Ee(ZHe);Ee(YHe);Ee(XHe);Ee(QHe);Ee(JHe);Ee(eze);Ee(tze);U_.register(_N);U_.register(D8);cl((n,e)=>{const t=n.getColor(gle);t&&(e.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${t.transparent(.5)}; }`))});class N8 extends ce{constructor(e){super(),this._editor=e,this._register(e.onMouseDown(t=>this.onMouseDown(t)))}dispose(){super.dispose()}onMouseDown(e){const t=this._editor.getOption(146);if(t!=="click"&&t!=="clickAndHover")return;const i=e.target;if(i.type!==6||!i.detail.injectedText||i.detail.injectedText.options.attachedData!==fhe||!i.range)return;const r=this._editor.getContribution(ys.ID);if(r&&!r.isColorPickerVisible){const o=new B(i.range.startLineNumber,i.range.startColumn+1,i.range.endLineNumber,i.range.endColumn+1);r.showContentHover(o,1,0,!1,!0)}}}N8.ID="editor.contrib.colorContribution";li(N8.ID,N8,2);U_.register(hN);var zhe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Cc=function(n,e){return function(t,i){e(t,i,n)}},P8,M8;let Jg=P8=class extends ce{constructor(e,t,i,r,o,s,a){super(),this._editor=e,this._modelService=i,this._keybindingService=r,this._instantiationService=o,this._languageFeatureService=s,this._languageConfigurationService=a,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=j.standaloneColorPickerVisible.bindTo(t),this._standaloneColorPickerFocused=j.standaloneColorPickerFocused.bindTo(t)}showOrFocus(){var e;this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||(e=this._standaloneColorPickerWidget)===null||e===void 0||e.focus():this._standaloneColorPickerWidget=new bN(this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused,this._instantiationService,this._modelService,this._keybindingService,this._languageFeatureService,this._languageConfigurationService))}hide(){var e;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),(e=this._standaloneColorPickerWidget)===null||e===void 0||e.hide(),this._editor.focus()}insertColor(){var e;(e=this._standaloneColorPickerWidget)===null||e===void 0||e.updateEditor(),this.hide()}static get(e){return e.getContribution(P8.ID)}};Jg.ID="editor.contrib.standaloneColorPickerController";Jg=P8=zhe([Cc(1,_t),Cc(2,Ji),Cc(3,xi),Cc(4,dt),Cc(5,qe),Cc(6,Pi)],Jg);li(Jg.ID,Jg,1);const fX=8,ize=22;let bN=M8=class extends ce{constructor(e,t,i,r,o,s,a,l){var c;super(),this._editor=e,this._standaloneColorPickerVisible=t,this._standaloneColorPickerFocused=i,this._modelService=o,this._keybindingService=s,this._languageFeaturesService=a,this._languageConfigurationService=l,this.allowEditorOverflow=!0,this._position=void 0,this._body=document.createElement("div"),this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new ne),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=r.createInstance(zS,this._editor),this._position=(c=this._editor._getViewModel())===null||c===void 0?void 0:c.getPrimaryCursorState().modelState.position;const d=this._editor.getSelection(),u=d?{startLineNumber:d.startLineNumber,startColumn:d.startColumn,endLineNumber:d.endLineNumber,endColumn:d.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},h=this._register($c(this._body));this._register(h.onDidBlur(f=>{this.hide()})),this._register(h.onDidFocus(f=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(f=>{var g;const _=(g=f.target.element)===null||g===void 0?void 0:g.classList;_&&_.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(f=>{this._render(f.value,f.foundInEditor)})),this._start(u),this._body.style.zIndex="50",this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return M8.ID}getDomNode(){return this._body}getPosition(){if(!this._position)return null;const e=this._editor.getOption(60).above;return{position:this._position,secondaryPosition:this._position,preference:e?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this._body.focus()}async _start(e){const t=await this._computeAsync(e);t&&this._onResult.fire(new nze(t.result,t.foundInEditor))}async _computeAsync(e){if(!this._editor.hasModel())return null;const t={range:e,color:{red:0,green:0,blue:0,alpha:1}},i=await this._standaloneColorPickerParticipant.createColorHover(t,new kH(this._modelService,this._languageConfigurationService),this._languageFeaturesService.colorProvider);return i?{result:i.colorHover,foundInEditor:i.foundInEditor}:null}_render(e,t){const i=document.createDocumentFragment(),r=this._register(new pN(this._keybindingService));let o;const s={fragment:i,statusBar:r,setColorPicker:_=>o=_,onContentsChanged:()=>{},hide:()=>this.hide()};if(this._colorHover=e,this._register(this._standaloneColorPickerParticipant.renderHoverParts(s,[e])),o===void 0)return;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px",this._body.tabIndex=0,this._body.appendChild(i),o.layout();const a=o.body,l=a.saturationBox.domNode.clientWidth,c=a.domNode.clientWidth-l-ize-fX,d=o.body.enterButton;d==null||d.onClicked(()=>{this.updateEditor(),this.hide()});const u=o.header,h=u.pickedColorNode;h.style.width=l+fX+"px";const f=u.originalColorNode;f.style.width=c+"px";const g=o.header.closeButton;g==null||g.onClicked(()=>{this.hide()}),t&&(d&&(d.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(e.range)),this._editor.layoutContentWidget(this)}};bN.ID="editor.contrib.standaloneColorPickerWidget";bN=M8=zhe([Cc(3,dt),Cc(4,Ji),Cc(5,xi),Cc(6,qe),Cc(7,Pi)],bN);class nze{constructor(e,t){this.value=e,this.foundInEditor=t}}class rze extends td{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:{value:w("showOrFocusStandaloneColorPicker","Show or Focus Standalone Color Picker"),mnemonicTitle:w({key:"mishowOrFocusStandaloneColorPicker",comment:["&& denotes a mnemonic"]},"&&Show or Focus Standalone Color Picker"),original:"Show or Focus Standalone Color Picker"},precondition:void 0,menu:[{id:H.CommandPalette}]})}runEditorCommand(e,t){var i;(i=Jg.get(t))===null||i===void 0||i.showOrFocus()}}class oze extends $e{constructor(){super({id:"editor.action.hideColorPicker",label:w({key:"hideColorPicker",comment:["Action that hides the color picker"]},"Hide the Color Picker"),alias:"Hide the Color Picker",precondition:j.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100}})}run(e,t){var i;(i=Jg.get(t))===null||i===void 0||i.hide()}}class sze extends $e{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:w({key:"insertColorWithStandaloneColorPicker",comment:["Action that inserts color with standalone color picker"]},"Insert Color with Standalone Color Picker"),alias:"Insert Color with Standalone Color Picker",precondition:j.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100}})}run(e,t){var i;(i=Jg.get(t))===null||i===void 0||i.insertColor()}}Ee(oze);Ee(sze);ji(rze);class Yf{constructor(e,t,i){this.languageConfigurationService=i,this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,i){if(i<0)return!1;const r=t.length,o=e.length;if(i+r>o)return!1;for(let s=0;s<r;s++){const a=e.charCodeAt(i+s),l=t.charCodeAt(s);if(a!==l&&!(a>=65&&a<=90&&a+32===l)&&!(l>=65&&l<=90&&l+32===a))return!1}return!0}_createOperationsForBlockComment(e,t,i,r,o,s){const a=e.startLineNumber,l=e.startColumn,c=e.endLineNumber,d=e.endColumn,u=o.getLineContent(a),h=o.getLineContent(c);let f=u.lastIndexOf(t,l-1+t.length),g=h.indexOf(i,d-1-i.length);if(f!==-1&&g!==-1)if(a===c)u.substring(f+t.length,g).indexOf(i)>=0&&(f=-1,g=-1);else{const y=u.substring(f+t.length),m=h.substring(0,g);(y.indexOf(i)>=0||m.indexOf(i)>=0)&&(f=-1,g=-1)}let _;f!==-1&&g!==-1?(r&&f+t.length<u.length&&u.charCodeAt(f+t.length)===32&&(t=t+" "),r&&g>0&&h.charCodeAt(g-1)===32&&(i=" "+i,g-=1),_=Yf._createRemoveBlockCommentOperations(new B(a,f+t.length+1,c,g+1),t,i)):(_=Yf._createAddBlockCommentOperations(e,t,i,this._insertSpace),this._usedEndToken=_.length===1?i:null);for(const y of _)s.addTrackedEditOperation(y.range,y.text)}static _createRemoveBlockCommentOperations(e,t,i){const r=[];return B.isEmpty(e)?r.push(Qi.delete(new B(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+i.length))):(r.push(Qi.delete(new B(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),r.push(Qi.delete(new B(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+i.length)))),r}static _createAddBlockCommentOperations(e,t,i,r){const o=[];return B.isEmpty(e)?o.push(Qi.replace(new B(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+i)):(o.push(Qi.insert(new re(e.startLineNumber,e.startColumn),t+(r?" ":""))),o.push(Qi.insert(new re(e.endLineNumber,e.endColumn),(r?" ":"")+i))),o}getEditOperations(e,t){const i=this._selection.startLineNumber,r=this._selection.startColumn;e.tokenization.tokenizeIfCheap(i);const o=e.getLanguageIdAtPosition(i,r),s=this.languageConfigurationService.getLanguageConfiguration(o).comments;!s||!s.blockCommentStartToken||!s.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,s.blockCommentStartToken,s.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){const i=t.getInverseEditOperations();if(i.length===2){const r=i[0],o=i[1];return new Ke(r.range.endLineNumber,r.range.endColumn,o.range.startLineNumber,o.range.startColumn)}else{const r=i[0].range,o=this._usedEndToken?-this._usedEndToken.length-1:0;return new Ke(r.endLineNumber,r.endColumn+o,r.endLineNumber,r.endColumn+o)}}}class Bu{constructor(e,t,i,r,o,s,a){this.languageConfigurationService=e,this._selection=t,this._tabSize=i,this._type=r,this._insertSpace=o,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=s,this._ignoreFirstLine=a||!1}static _gatherPreflightCommentStrings(e,t,i,r){e.tokenization.tokenizeIfCheap(t);const o=e.getLanguageIdAtPosition(t,1),s=r.getLanguageConfiguration(o).comments,a=s?s.lineCommentToken:null;if(!a)return null;const l=[];for(let c=0,d=i-t+1;c<d;c++)l[c]={ignore:!1,commentStr:a,commentStrOffset:0,commentStrLength:a.length};return l}static _analyzeLines(e,t,i,r,o,s,a,l){let c=!0,d;e===0?d=!0:e===1?d=!1:d=!0;for(let u=0,h=r.length;u<h;u++){const f=r[u],g=o+u;if(g===o&&a){f.ignore=!0;continue}const _=i.getLineContent(g),y=xo(_);if(y===-1){f.ignore=s,f.commentStrOffset=_.length;continue}if(c=!1,f.ignore=!1,f.commentStrOffset=y,d&&!Yf._haystackHasNeedleAtOffset(_,f.commentStr,y)&&(e===0?d=!1:e===1||(f.ignore=!0)),d&&t){const m=y+f.commentStrLength;m<_.length&&_.charCodeAt(m)===32&&(f.commentStrLength+=1)}}if(e===0&&c){d=!1;for(let u=0,h=r.length;u<h;u++)r[u].ignore=!1}return{supported:!0,shouldRemoveComments:d,lines:r}}static _gatherPreflightData(e,t,i,r,o,s,a,l){const c=Bu._gatherPreflightCommentStrings(i,r,o,l);return c===null?{supported:!1}:Bu._analyzeLines(e,t,i,c,r,s,a,l)}_executeLineComments(e,t,i,r){let o;i.shouldRemoveComments?o=Bu._createRemoveLineCommentsOperations(i.lines,r.startLineNumber):(Bu._normalizeInsertionPoint(e,i.lines,r.startLineNumber,this._tabSize),o=this._createAddLineCommentsOperations(i.lines,r.startLineNumber));const s=new re(r.positionLineNumber,r.positionColumn);for(let a=0,l=o.length;a<l;a++)t.addEditOperation(o[a].range,o[a].text),B.isEmpty(o[a].range)&&B.getStartPosition(o[a].range).equals(s)&&e.getLineContent(s.lineNumber).length+1===s.column&&(this._deltaColumn=(o[a].text||"").length);this._selectionId=t.trackSelection(r)}_attemptRemoveBlockComment(e,t,i,r){let o=t.startLineNumber,s=t.endLineNumber;const a=r.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn);let l=e.getLineContent(o).lastIndexOf(i,a-1),c=e.getLineContent(s).indexOf(r,t.endColumn-1-i.length);return l!==-1&&c===-1&&(c=e.getLineContent(o).indexOf(r,l+i.length),s=o),l===-1&&c!==-1&&(l=e.getLineContent(s).lastIndexOf(i,c),o=s),t.isEmpty()&&(l===-1||c===-1)&&(l=e.getLineContent(o).indexOf(i),l!==-1&&(c=e.getLineContent(o).indexOf(r,l+i.length))),l!==-1&&e.getLineContent(o).charCodeAt(l+i.length)===32&&(i+=" "),c!==-1&&e.getLineContent(s).charCodeAt(c-1)===32&&(r=" "+r,c-=1),l!==-1&&c!==-1?Yf._createRemoveBlockCommentOperations(new B(o,l+i.length+1,s,c+1),i,r):null}_executeBlockComment(e,t,i){e.tokenization.tokenizeIfCheap(i.startLineNumber);const r=e.getLanguageIdAtPosition(i.startLineNumber,1),o=this.languageConfigurationService.getLanguageConfiguration(r).comments;if(!o||!o.blockCommentStartToken||!o.blockCommentEndToken)return;const s=o.blockCommentStartToken,a=o.blockCommentEndToken;let l=this._attemptRemoveBlockComment(e,i,s,a);if(!l){if(i.isEmpty()){const c=e.getLineContent(i.startLineNumber);let d=xo(c);d===-1&&(d=c.length),l=Yf._createAddBlockCommentOperations(new B(i.startLineNumber,d+1,i.startLineNumber,c.length+1),s,a,this._insertSpace)}else l=Yf._createAddBlockCommentOperations(new B(i.startLineNumber,e.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),s,a,this._insertSpace);l.length===1&&(this._deltaColumn=s.length+1)}this._selectionId=t.trackSelection(i);for(const c of l)t.addEditOperation(c.range,c.text)}getEditOperations(e,t){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine){t.addEditOperation(new B(i.startLineNumber,e.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===e.getLineCount()?"":`
`),this._selectionId=t.trackSelection(i);return}i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));const r=Bu._gatherPreflightData(this._type,this._insertSpace,e,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return r.supported?this._executeLineComments(e,t,r,i):this._executeBlockComment(e,t,i)}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new Ke(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){const i=[];for(let r=0,o=e.length;r<o;r++){const s=e[r];s.ignore||i.push(Qi.delete(new B(t+r,s.commentStrOffset+1,t+r,s.commentStrOffset+s.commentStrLength+1)))}return i}_createAddLineCommentsOperations(e,t){const i=[],r=this._insertSpace?" ":"";for(let o=0,s=e.length;o<s;o++){const a=e[o];a.ignore||i.push(Qi.insert(new re(t+o,a.commentStrOffset+1),a.commentStr+r))}return i}static nextVisibleColumn(e,t,i,r){return i?e+(t-e%t):e+r}static _normalizeInsertionPoint(e,t,i,r){let o=1073741824,s,a;for(let l=0,c=t.length;l<c;l++){if(t[l].ignore)continue;const d=e.getLineContent(i+l);let u=0;for(let h=0,f=t[l].commentStrOffset;u<o&&h<f;h++)u=Bu.nextVisibleColumn(u,r,d.charCodeAt(h)===9,1);u<o&&(o=u)}o=Math.floor(o/r)*r;for(let l=0,c=t.length;l<c;l++){if(t[l].ignore)continue;const d=e.getLineContent(i+l);let u=0;for(s=0,a=t[l].commentStrOffset;u<o&&s<a;s++)u=Bu.nextVisibleColumn(u,r,d.charCodeAt(s)===9,1);u>o?t[l].commentStrOffset=s-1:t[l].commentStrOffset=s}}}class MH extends $e{constructor(e,t){super(t),this._type=e}run(e,t){const i=e.get(Pi);if(!t.hasModel())return;const r=t.getModel(),o=[],s=r.getOptions(),a=t.getOption(23),l=t.getSelections().map((d,u)=>({selection:d,index:u,ignoreFirstLine:!1}));l.sort((d,u)=>B.compareRangesUsingStarts(d.selection,u.selection));let c=l[0];for(let d=1;d<l.length;d++){const u=l[d];c.selection.endLineNumber===u.selection.startLineNumber&&(c.index<u.index?u.ignoreFirstLine=!0:(c.ignoreFirstLine=!0,c=u))}for(const d of l)o.push(new Bu(i,d.selection,s.tabSize,this._type,a.insertSpace,a.ignoreEmptyLines,d.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class aze extends MH{constructor(){super(0,{id:"editor.action.commentLine",label:w("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:j.writable,kbOpts:{kbExpr:j.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:H.MenubarEditMenu,group:"5_insert",title:w({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}class lze extends MH{constructor(){super(1,{id:"editor.action.addCommentLine",label:w("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:j.writable,kbOpts:{kbExpr:j.editorTextFocus,primary:Yn(2089,2081),weight:100}})}}class cze extends MH{constructor(){super(2,{id:"editor.action.removeCommentLine",label:w("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:j.writable,kbOpts:{kbExpr:j.editorTextFocus,primary:Yn(2089,2099),weight:100}})}}class dze extends $e{constructor(){super({id:"editor.action.blockComment",label:w("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:j.writable,kbOpts:{kbExpr:j.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:H.MenubarEditMenu,group:"5_insert",title:w({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(e,t){const i=e.get(Pi);if(!t.hasModel())return;const r=t.getOption(23),o=[],s=t.getSelections();for(const a of s)o.push(new Yf(a,r.insertSpace,i));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}Ee(aze);Ee(lze);Ee(cze);Ee(dze);var uze=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Ap=function(n,e){return function(t,i){e(t,i,n)}},R8;let Xb=R8=class{static get(e){return e.getContribution(R8.ID)}constructor(e,t,i,r,o,s,a,l){this._contextMenuService=t,this._contextViewService=i,this._contextKeyService=r,this._keybindingService=o,this._menuService=s,this._configurationService=a,this._workspaceContextService=l,this._toDispose=new xe,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu(c=>this._onContextMenu(c))),this._toDispose.add(this._editor.onMouseWheel(c=>{if(this._contextMenuIsBeingShownCount>0){const d=this._contextViewService.getContextViewElement(),u=c.srcElement;u.shadowRoot&&Gm(d)===u.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(c=>{this._editor.getOption(24)&&c.keyCode===58&&(c.preventDefault(),c.stopPropagation(),this.showContextMenu())}))}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(24)){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);return}if(e.target.type===12||e.target.type===6&&e.target.detail.injectedText)return;if(e.event.preventDefault(),e.event.stopPropagation(),e.target.type===11)return this._showScrollbarContextMenu(e.event);if(e.target.type!==6&&e.target.type!==7&&e.target.type!==1)return;if(this._editor.focus(),e.target.position){let i=!1;for(const r of this._editor.getSelections())if(r.containsPosition(e.target.position)){i=!0;break}i||this._editor.setPosition(e.target.position)}let t=null;e.target.type!==1&&(t=e.event),this.showContextMenu(t)}showContextMenu(e){if(!this._editor.getOption(24)||!this._editor.hasModel())return;const t=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?H.SimpleEditorContext:H.EditorContext);t.length>0&&this._doShowContextMenu(t,e)}_getMenuActions(e,t){const i=[],r=this._menuService.createMenu(t,this._contextKeyService),o=r.getActions({arg:e.uri});r.dispose();for(const s of o){const[,a]=s;let l=0;for(const c of a)if(c instanceof j1){const d=this._getMenuActions(e,c.item.submenu);d.length>0&&(i.push(new yb(c.id,c.label,d)),l++)}else i.push(c),l++;l&&i.push(new rr)}return i.length&&i.pop(),i}_doShowContextMenu(e,t=null){if(!this._editor.hasModel())return;const i=this._editor.getOption(60);this._editor.updateOptions({hover:{enabled:!1}});let r=t;if(!r){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const s=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),a=Vn(this._editor.getDomNode()),l=a.left+s.left,c=a.top+s.top+s.height;r={x:l,y:c}}const o=this._editor.getOption(126)&&!jc;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:o?this._editor.getDomNode():void 0,getAnchor:()=>r,getActions:()=>e,getActionViewItem:s=>{const a=this._keybindingFor(s);if(a)return new Vb(s,s,{label:!0,keybinding:a.getLabel(),isMenu:!0});const l=s;return typeof l.getActionViewItem=="function"?l.getActionViewItem():new Vb(s,s,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:s=>this._keybindingFor(s),onHide:s=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:i})}})}_showScrollbarContextMenu(e){if(!this._editor.hasModel()||V4e(this._workspaceContextService.getWorkspace()))return;const t=this._editor.getOption(72);let i=0;const r=c=>({id:`menu-action-${++i}`,label:c.label,tooltip:"",class:void 0,enabled:typeof c.enabled>"u"?!0:c.enabled,checked:c.checked,run:c.run}),o=(c,d)=>new yb(`menu-action-${++i}`,c,d,void 0),s=(c,d,u,h,f)=>{if(!d)return r({label:c,enabled:d,run:()=>{}});const g=y=>()=>{this._configurationService.updateValue(u,y)},_=[];for(const y of f)_.push(r({label:y.label,checked:h===y.value,run:g(y.value)}));return o(c,_)},a=[];a.push(r({label:w("context.minimap.minimap","Minimap"),checked:t.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!t.enabled)}})),a.push(new rr),a.push(r({label:w("context.minimap.renderCharacters","Render Characters"),enabled:t.enabled,checked:t.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!t.renderCharacters)}})),a.push(s(w("context.minimap.size","Vertical size"),t.enabled,"editor.minimap.size",t.size,[{label:w("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:w("context.minimap.size.fill","Fill"),value:"fill"},{label:w("context.minimap.size.fit","Fit"),value:"fit"}])),a.push(s(w("context.minimap.slider","Slider"),t.enabled,"editor.minimap.showSlider",t.showSlider,[{label:w("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:w("context.minimap.slider.always","Always"),value:"always"}]));const l=this._editor.getOption(126)&&!jc;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:l?this._editor.getDomNode():void 0,getAnchor:()=>e,getActions:()=>a,onHide:c=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};Xb.ID="editor.contrib.contextmenu";Xb=R8=uze([Ap(1,Pa),Ap(2,bu),Ap(3,_t),Ap(4,xi),Ap(5,ed),Ap(6,jt),Ap(7,Qm)],Xb);class hze extends $e{constructor(){super({id:"editor.action.showContextMenu",label:w("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:j.textInputFocus,primary:1092,weight:100}})}run(e,t){var i;(i=Xb.get(t))===null||i===void 0||i.showContextMenu()}}li(Xb.ID,Xb,2);Ee(hze);class qO{constructor(e){this.selections=e}equals(e){const t=this.selections.length,i=e.selections.length;if(t!==i)return!1;for(let r=0;r<t;r++)if(!this.selections[r].equalsSelection(e.selections[r]))return!1;return!0}}class KO{constructor(e,t,i){this.cursorState=e,this.scrollTop=t,this.scrollLeft=i}}class u_ extends ce{static get(e){return e.getContribution(u_.ID)}constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeModelContent(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeCursorSelection(t=>{if(this._isCursorUndoRedo||!t.oldSelections||t.oldModelVersionId!==t.modelVersionId)return;const i=new qO(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(i)||(this._undoStack.push(new KO(i,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new KO(new qO(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new KO(new qO(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}u_.ID="editor.contrib.cursorUndoRedoController";class fze extends $e{constructor(){super({id:"cursorUndo",label:w("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:j.textInputFocus,primary:2099,weight:100}})}run(e,t,i){var r;(r=u_.get(t))===null||r===void 0||r.cursorUndo()}}class gze extends $e{constructor(){super({id:"cursorRedo",label:w("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(e,t,i){var r;(r=u_.get(t))===null||r===void 0||r.cursorRedo()}}li(u_.ID,u_,0);Ee(fze);Ee(gze);class pze{constructor(e,t,i){this.selection=e,this.targetPosition=t,this.copy=i,this.targetSelection=null}getEditOperations(e,t){const i=e.getValueInRange(this.selection);if(this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new B(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new Ke(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new Ke(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new Ke(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new Ke(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new Ke(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(e,t){return this.targetSelection}}function _0(n){return qt?n.altKey:n.ctrlKey}class _h extends ce{constructor(e){super(),this._editor=e,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(t))),this._register(this._editor.onMouseDrag(t=>this._onEditorMouseDrag(t))),this._register(this._editor.onMouseDrop(t=>this._onEditorMouseDrop(t))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(t=>this.onEditorKeyDown(t))),this._register(this._editor.onKeyUp(t=>this.onEditorKeyUp(t))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){!this._editor.getOption(35)||this._editor.getOption(22)||(_0(e)&&(this._modifierPressed=!0),this._mouseDown&&_0(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){!this._editor.getOption(35)||this._editor.getOption(22)||(_0(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===_h.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){const t=e.target;if(this._dragSelection===null){const r=(this._editor.getSelections()||[]).filter(o=>t.position&&o.containsPosition(t.position));if(r.length===1)this._dragSelection=r[0];else return}_0(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){const t=new re(e.target.position.lineNumber,e.target.position.column);if(this._dragSelection===null){let i=null;if(e.event.shiftKey){const r=this._editor.getSelection();if(r){const{selectionStartLineNumber:o,selectionStartColumn:s}=r;i=[new Ke(o,s,t.lineNumber,t.column)]}}else i=(this._editor.getSelections()||[]).map(r=>r.containsPosition(t)?new Ke(t.lineNumber,t.column,t.lineNumber,t.column):r);this._editor.setSelections(i||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(_0(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(_h.ID,new pze(this._dragSelection,t,_0(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){this._dndDecorationIds.set([{range:new B(e.lineNumber,e.column,e.lineNumber,e.column),options:_h._DECORATION_OPTIONS}]),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(e){return e.type===6||e.type===7}_hitMargin(e){return e.type===2||e.type===3||e.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}_h.ID="editor.contrib.dragAndDrop";_h.TRIGGER_KEY_VALUE=qt?6:5;_h._DECORATION_OPTIONS=kt.register({description:"dnd-target",className:"dnd-target"});li(_h.ID,_h,2);var RH=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},qS=function(n,e){return function(t,i){e(t,i,n)}};const e2=w("builtIn","Built-in");class AH{async provideDocumentPasteEdits(e,t,i,r,o){const s=await this.getEdit(i,o);return s?{insertText:s.insertText,label:s.label,detail:s.detail,handledMimeType:s.handledMimeType,yieldTo:s.yieldTo}:void 0}async provideDocumentOnDropEdits(e,t,i,r){const o=await this.getEdit(i,r);return o?{insertText:o.insertText,label:o.label,handledMimeType:o.handledMimeType,yieldTo:o.yieldTo}:void 0}}class jhe extends AH{constructor(){super(...arguments),this.id="text",this.dropMimeTypes=[pn.text],this.pasteMimeTypes=[pn.text]}async getEdit(e,t){const i=e.get(pn.text);if(!i||e.has(pn.uriList))return;const r=await i.asString();return{handledMimeType:pn.text,label:w("text.label","Insert Plain Text"),detail:e2,insertText:r}}}class Uhe extends AH{constructor(){super(...arguments),this.id="uri",this.dropMimeTypes=[pn.uriList],this.pasteMimeTypes=[pn.uriList]}async getEdit(e,t){const i=await $he(e);if(!i.length||t.isCancellationRequested)return;let r=0;const o=i.map(({uri:a,originalText:l})=>a.scheme===Tt.file?a.fsPath:(r++,l)).join(" ");let s;return r>0?s=i.length>1?w("defaultDropProvider.uriList.uris","Insert Uris"):w("defaultDropProvider.uriList.uri","Insert Uri"):s=i.length>1?w("defaultDropProvider.uriList.paths","Insert Paths"):w("defaultDropProvider.uriList.path","Insert Path"),{handledMimeType:pn.uriList,insertText:o,label:s,detail:e2}}}let yN=class extends AH{constructor(e){super(),this._workspaceContextService=e,this.id="relativePath",this.dropMimeTypes=[pn.uriList],this.pasteMimeTypes=[pn.uriList]}async getEdit(e,t){const i=await $he(e);if(!i.length||t.isCancellationRequested)return;const r=zc(i.map(({uri:o})=>{const s=this._workspaceContextService.getWorkspaceFolder(o);return s?SRe(s.uri,o):void 0}));if(r.length)return{handledMimeType:pn.uriList,insertText:r.join(" "),label:i.length>1?w("defaultDropProvider.uriList.relativePaths","Insert Relative Paths"):w("defaultDropProvider.uriList.relativePath","Insert Relative Path"),detail:e2}}};yN=RH([qS(0,Qm)],yN);class mze{constructor(){this.id="html",this.pasteMimeTypes=["text/html"],this._yieldTo=[{mimeType:pn.text}]}async provideDocumentPasteEdits(e,t,i,r,o){if(r.trigger!=="explicit"&&r.only!==this.id)return;const s=i.get("text/html"),a=await(s==null?void 0:s.asString());if(!(!a||o.isCancellationRequested))return{insertText:a,yieldTo:this._yieldTo,label:w("pasteHtmlLabel","Insert HTML"),detail:e2}}}async function $he(n){const e=n.get(pn.uriList);if(!e)return[];const t=await e.asString(),i=[];for(const r of jM.parse(t))try{i.push({uri:rt.parse(r),originalText:r})}catch{}return i}let A8=class extends ce{constructor(e,t){super(),this._register(e.documentOnDropEditProvider.register("*",new jhe)),this._register(e.documentOnDropEditProvider.register("*",new Uhe)),this._register(e.documentOnDropEditProvider.register("*",new yN(t)))}};A8=RH([qS(0,qe),qS(1,Qm)],A8);let O8=class extends ce{constructor(e,t){super(),this._register(e.documentPasteEditProvider.register("*",new jhe)),this._register(e.documentPasteEditProvider.register("*",new Uhe)),this._register(e.documentPasteEditProvider.register("*",new yN(t))),this._register(e.documentPasteEditProvider.register("*",new mze))}};O8=RH([qS(0,qe),qS(1,Qm)],O8);li(Ph.ID,Ph,0);oL(O8);We(new class extends kr{constructor(){super({id:que,precondition:Kue,kbOpts:{weight:100,primary:2137}})}runEditorCommand(n,e,t){var i;return(i=Ph.get(e))===null||i===void 0?void 0:i.changePasteType()}});Ee(class extends $e{constructor(){super({id:"editor.action.pasteAs",label:w("pasteAs","Paste As..."),alias:"Paste As...",precondition:j.writable,metadata:{description:"Paste as",args:[{name:"args",schema:{type:"object",properties:{id:{type:"string",description:w("pasteAs.id","The id of the paste edit to try applying. If not provided, the editor will show a picker.")}}}}]}})}run(n,e,t){var i;const r=typeof(t==null?void 0:t.id)=="string"?t.id:void 0;return(i=Ph.get(e))===null||i===void 0?void 0:i.pasteAs(r)}});Ee(class extends $e{constructor(){super({id:"editor.action.pasteAsText",label:w("pasteAsText","Paste as Text"),alias:"Paste as Text",precondition:j.writable})}run(n,e,t){var i;return(i=Ph.get(e))===null||i===void 0?void 0:i.pasteAs("text")}});class _ze{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(e){if(e&&this._dragOperations.has(e)){const t=this._dragOperations.get(e);return this._dragOperations.delete(e),t}}}class gX{constructor(e){this.identifier=e}}const qhe=zt("treeViewsDndService");Yt(qhe,_ze,1);var vze=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},fD=function(n,e){return function(t,i){e(t,i,n)}},F8;const Khe="editor.experimental.dropIntoEditor.defaultProvider",Ghe="editor.changeDropType",Zhe=new je("dropWidgetVisible",!1,w("dropWidgetVisible","Whether the drop widget is showing"));let Qb=F8=class extends ce{static get(e){return e.getContribution(F8.ID)}constructor(e,t,i,r,o){super(),this._configService=i,this._languageFeaturesService=r,this._treeViewsDragAndDropService=o,this.treeItemsTransfer=WS.getInstance(),this._dropProgressManager=this._register(t.createInstance(lN,"dropIntoEditor",e)),this._postDropWidgetManager=this._register(t.createInstance(dN,"dropIntoEditor",e,Zhe,{id:Ghe,label:w("postDropWidgetTitle","Show drop options...")})),this._register(e.onDropIntoEditor(s=>this.onDropIntoEditor(e,s.position,s.event)))}changeDropType(){this._postDropWidgetManager.tryShowSelector()}async onDropIntoEditor(e,t,i){var r;if(!i.dataTransfer||!e.hasModel())return;(r=this._currentOperation)===null||r===void 0||r.cancel(),e.focus(),e.setPosition(t);const o=gr(async s=>{const a=new $g(e,1,void 0,s);try{const l=await this.extractDataTransferData(i);if(l.size===0||a.token.isCancellationRequested)return;const c=e.getModel();if(!c)return;const d=this._languageFeaturesService.documentOnDropEditProvider.ordered(c).filter(h=>h.dropMimeTypes?h.dropMimeTypes.some(f=>l.matches(f)):!0),u=await this.getDropEdits(d,c,t,l,a);if(a.token.isCancellationRequested)return;if(u.length){const h=this.getInitialActiveEditIndex(c,u),f=e.getOption(36).showDropSelector==="afterDrop";await this._postDropWidgetManager.applyEditAndShowIfNeeded([B.fromPositions(t)],{activeEditIndex:h,allEdits:u},f,s)}}finally{a.dispose(),this._currentOperation===o&&(this._currentOperation=void 0)}});this._dropProgressManager.showWhile(t,w("dropIntoEditorProgress","Running drop handlers. Click to cancel"),o),this._currentOperation=o}async getDropEdits(e,t,i,r,o){const s=await TP(Promise.all(e.map(async l=>{try{const c=await l.provideDocumentOnDropEdits(t,i,r,o.token);if(c)return{...c,providerId:l.id}}catch(c){console.error(c)}})),o.token),a=zc(s??[]);return Uue(a)}getInitialActiveEditIndex(e,t){const i=this._configService.getValue(Khe,{resource:e.uri});for(const[r,o]of Object.entries(i)){const s=t.findIndex(a=>o===a.providerId&&a.handledMimeType&&Bue(r,[a.handledMimeType]));if(s>=0)return s}return 0}async extractDataTransferData(e){if(!e.dataTransfer)return new Fue;const t=Hue(e.dataTransfer);if(this.treeItemsTransfer.hasData(gX.prototype)){const i=this.treeItemsTransfer.getData(gX.prototype);if(Array.isArray(i))for(const r of i){const o=await this._treeViewsDragAndDropService.removeDragOperationTransfer(r.identifier);if(o)for(const[s,a]of o)t.replace(s,a)}}return t}};Qb.ID="editor.contrib.dropIntoEditorController";Qb=F8=vze([fD(1,dt),fD(2,jt),fD(3,qe),fD(4,qhe)],Qb);li(Qb.ID,Qb,2);We(new class extends kr{constructor(){super({id:Ghe,precondition:Zhe,kbOpts:{weight:100,primary:2137}})}runEditorCommand(n,e,t){var i;(i=Qb.get(e))===null||i===void 0||i.changeDropType()}});oL(A8);nn.as(id.Configuration).registerConfiguration({...dM,properties:{[Khe]:{type:"object",scope:5,description:w("defaultProviderDescription","Configures the default drop provider to use for content of a given mime type."),default:{},additionalProperties:{type:"string"}}}});class vo{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const e=this._findScopeDecorationIds.map(t=>this._editor.getModel().getDecorationRange(t)).filter(t=>!!t);if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){const t=this._decorations.indexOf(e);return t>=0?t+1:1}getDecorationRangeAt(e){const t=e<this._decorations.length?this._decorations[e]:null;return t?this._editor.getModel().getDecorationRange(t):null}getCurrentMatchesPosition(e){const t=this._editor.getModel().getDecorationsInRange(e);for(const i of t){const r=i.options;if(r===vo._FIND_MATCH_DECORATION||r===vo._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(i.id)}return 0}setCurrentFindMatch(e){let t=null,i=0;if(e)for(let r=0,o=this._decorations.length;r<o;r++){const s=this._editor.getModel().getDecorationRange(this._decorations[r]);if(e.equalsRange(s)){t=this._decorations[r],i=r+1;break}}return(this._highlightedDecorationId!==null||t!==null)&&this._editor.changeDecorations(r=>{if(this._highlightedDecorationId!==null&&(r.changeDecorationOptions(this._highlightedDecorationId,vo._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),t!==null&&(this._highlightedDecorationId=t,r.changeDecorationOptions(this._highlightedDecorationId,vo._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(r.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),t!==null){let o=this._editor.getModel().getDecorationRange(t);if(o.startLineNumber!==o.endLineNumber&&o.endColumn===1){const s=o.endLineNumber-1,a=this._editor.getModel().getLineMaxColumn(s);o=new B(o.startLineNumber,o.startColumn,s,a)}this._rangeHighlightDecorationId=r.addDecoration(o,vo._RANGE_HIGHLIGHT_DECORATION)}}),i}set(e,t){this._editor.changeDecorations(i=>{let r=vo._FIND_MATCH_DECORATION;const o=[];if(e.length>1e3){r=vo._FIND_MATCH_NO_OVERVIEW_DECORATION;const a=this._editor.getModel().getLineCount(),c=this._editor.getLayoutInfo().height/a,d=Math.max(2,Math.ceil(3/c));let u=e[0].range.startLineNumber,h=e[0].range.endLineNumber;for(let f=1,g=e.length;f<g;f++){const _=e[f].range;h+d>=_.startLineNumber?_.endLineNumber>h&&(h=_.endLineNumber):(o.push({range:new B(u,1,h,1),options:vo._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),u=_.startLineNumber,h=_.endLineNumber)}o.push({range:new B(u,1,h,1),options:vo._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const s=new Array(e.length);for(let a=0,l=e.length;a<l;a++)s[a]={range:e[a].range,options:r};this._decorations=i.deltaDecorations(this._decorations,s),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,o),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(a=>i.removeDecoration(a)),this._findScopeDecorationIds=[]),t!=null&&t.length&&(this._findScopeDecorationIds=t.map(a=>i.addDecoration(a,vo._FIND_SCOPE_DECORATION)))})}matchBeforePosition(e){if(this._decorations.length===0)return null;for(let t=this._decorations.length-1;t>=0;t--){const i=this._decorations[t],r=this._editor.getModel().getDecorationRange(i);if(!(!r||r.endLineNumber>e.lineNumber)){if(r.endLineNumber<e.lineNumber)return r;if(!(r.endColumn>e.column))return r}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(this._decorations.length===0)return null;for(let t=0,i=this._decorations.length;t<i;t++){const r=this._decorations[t],o=this._editor.getModel().getDecorationRange(r);if(!(!o||o.startLineNumber<e.lineNumber)){if(o.startLineNumber>e.lineNumber)return o;if(!(o.startColumn<e.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}}vo._CURRENT_FIND_MATCH_DECORATION=kt.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:cn(B6),position:ka.Center},minimap:{color:cn(rv),position:Bs.Inline}});vo._FIND_MATCH_DECORATION=kt.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:cn(B6),position:ka.Center},minimap:{color:cn(rv),position:Bs.Inline}});vo._FIND_MATCH_NO_OVERVIEW_DECORATION=kt.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0});vo._FIND_MATCH_ONLY_OVERVIEW_DECORATION=kt.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:cn(B6),position:ka.Center}});vo._RANGE_HIGHLIGHT_DECORATION=kt.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0});vo._FIND_SCOPE_DECORATION=kt.register({description:"find-scope",className:"findScope",isWholeLine:!0});class bze{constructor(e,t,i){this._editorSelection=e,this._ranges=t,this._replaceStrings=i,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){const i=[];for(let s=0;s<this._ranges.length;s++)i.push({range:this._ranges[s],text:this._replaceStrings[s]});i.sort((s,a)=>B.compareRangesUsingStarts(s.range,a.range));const r=[];let o=i[0];for(let s=1;s<i.length;s++)o.range.endLineNumber===i[s].range.startLineNumber&&o.range.endColumn===i[s].range.startColumn?(o.range=o.range.plusRange(i[s].range),o.text=o.text+i[s].text):(r.push(o),o=i[s]);r.push(o);for(const s of r)t.addEditOperation(s.range,s.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}function Yhe(n,e){if(n&&n[0]!==""){const t=pX(n,e,"-"),i=pX(n,e,"_");return t&&!i?mX(n,e,"-"):!t&&i?mX(n,e,"_"):n[0].toUpperCase()===n[0]?e.toUpperCase():n[0].toLowerCase()===n[0]?e.toLowerCase():XLe(n[0][0])&&e.length>0?e[0].toUpperCase()+e.substr(1):n[0][0].toUpperCase()!==n[0][0]&&e.length>0?e[0].toLowerCase()+e.substr(1):e}else return e}function pX(n,e,t){return n[0].indexOf(t)!==-1&&e.indexOf(t)!==-1&&n[0].split(t).length===e.split(t).length}function mX(n,e,t){const i=e.split(t),r=n[0].split(t);let o="";return i.forEach((s,a)=>{o+=Yhe([r[a]],s)+t}),o.slice(0,-1)}class _X{constructor(e){this.staticValue=e,this.kind=0}}class yze{constructor(e){this.pieces=e,this.kind=1}}class Jb{static fromStaticValue(e){return new Jb([Im.staticValue(e)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(e){!e||e.length===0?this._state=new _X(""):e.length===1&&e[0].staticValue!==null?this._state=new _X(e[0].staticValue):this._state=new yze(e)}buildReplaceString(e,t){if(this._state.kind===0)return t?Yhe(e,this._state.staticValue):this._state.staticValue;let i="";for(let r=0,o=this._state.pieces.length;r<o;r++){const s=this._state.pieces[r];if(s.staticValue!==null){i+=s.staticValue;continue}let a=Jb._substitute(s.matchIndex,e);if(s.caseOps!==null&&s.caseOps.length>0){const l=[],c=s.caseOps.length;let d=0;for(let u=0,h=a.length;u<h;u++){if(d>=c){l.push(a.slice(u));break}switch(s.caseOps[d]){case"U":l.push(a[u].toUpperCase());break;case"u":l.push(a[u].toUpperCase()),d++;break;case"L":l.push(a[u].toLowerCase());break;case"l":l.push(a[u].toLowerCase()),d++;break;default:l.push(a[u])}}a=l.join("")}i+=a}return i}static _substitute(e,t){if(t===null)return"";if(e===0)return t[0];let i="";for(;e>0;){if(e<t.length)return(t[e]||"")+i;i=String(e%10)+i,e=Math.floor(e/10)}return"$"+i}}class Im{static staticValue(e){return new Im(e,-1,null)}static caseOps(e,t){return new Im(null,e,t)}constructor(e,t,i){this.staticValue=e,this.matchIndex=t,!i||i.length===0?this.caseOps=null:this.caseOps=i.slice(0)}}class Cze{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){e.length!==0&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,i){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=Im.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=Im.caseOps(e,i),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=Im.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new Jb(this._result)}}function wze(n){if(!n||n.length===0)return new Jb(null);const e=[],t=new Cze(n);for(let i=0,r=n.length;i<r;i++){const o=n.charCodeAt(i);if(o===92){if(i++,i>=r)break;const s=n.charCodeAt(i);switch(s){case 92:t.emitUnchanged(i-1),t.emitStatic("\\",i+1);break;case 110:t.emitUnchanged(i-1),t.emitStatic(`
`,i+1);break;case 116:t.emitUnchanged(i-1),t.emitStatic("	",i+1);break;case 117:case 85:case 108:case 76:t.emitUnchanged(i-1),t.emitStatic("",i+1),e.push(String.fromCharCode(s));break}continue}if(o===36){if(i++,i>=r)break;const s=n.charCodeAt(i);if(s===36){t.emitUnchanged(i-1),t.emitStatic("$",i+1);continue}if(s===48||s===38){t.emitUnchanged(i-1),t.emitMatchIndex(0,i+1,e),e.length=0;continue}if(49<=s&&s<=57){let a=s-48;if(i+1<r){const l=n.charCodeAt(i+1);if(48<=l&&l<=57){i++,a=a*10+(l-48),t.emitUnchanged(i-2),t.emitMatchIndex(a,i+1,e),e.length=0;continue}}t.emitUnchanged(i-1),t.emitMatchIndex(a,i+1,e),e.length=0;continue}}}return t.finalize()}const Hh=new je("findWidgetVisible",!1);Hh.toNegated();const t2=new je("findInputFocussed",!1),OH=new je("replaceInputFocussed",!1),gD={primary:545,mac:{primary:2593}},pD={primary:565,mac:{primary:2613}},mD={primary:560,mac:{primary:2608}},_D={primary:554,mac:{primary:2602}},vD={primary:558,mac:{primary:2606}},Mi={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},Xf=19999,Sze=240;class t1{constructor(e,t){this._toDispose=new xe,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new Kl,this._decorations=new vo(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new ki(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(i=>{(i.reason===3||i.reason===5||i.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(i=>{this._ignoreModelContentChanged||(i.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(i=>this._onStateChanged(i))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,vi(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){this._isDisposed||this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)},Sze)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let i=null;typeof t<"u"?t!==null&&(Array.isArray(t)?i=t:i=[t]):i=this._decorations.getFindScopes(),i!==null&&(i=i.map(a=>{if(a.startLineNumber!==a.endLineNumber){let l=a.endLineNumber;return a.endColumn===1&&(l=l-1),new B(a.startLineNumber,1,l,this._editor.getModel().getLineMaxColumn(l))}return a}));const r=this._findMatches(i,!1,Xf);this._decorations.set(r,i);const o=this._editor.getSelection();let s=this._decorations.getCurrentMatchesPosition(o);if(s===0&&r.length>0){const a=Z1(r.map(l=>l.range),l=>B.compareRangesUsingStarts(l,o)>=0);s=a>0?a-1+1:s}this._state.changeMatchInfo(s,this._decorations.getCount(),void 0),e&&this._editor.getOption(41).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){const t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){const t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:i,column:r}=e;const o=this._editor.getModel();return t||r===1?(i===1?i=o.getLineCount():i--,r=o.getLineMaxColumn(i)):r--,new re(i,r)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){const d=this._decorations.matchAfterPosition(e);d&&this._setCurrentFindMatch(d);return}if(this._decorations.getCount()<Xf){let d=this._decorations.matchBeforePosition(e);d&&d.isEmpty()&&d.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),d=this._decorations.matchBeforePosition(e)),d&&this._setCurrentFindMatch(d);return}if(this._cannotFind())return;const i=this._decorations.getFindScope(),r=t1._getSearchRange(this._editor.getModel(),i);r.getEndPosition().isBefore(e)&&(e=r.getEndPosition()),e.isBefore(r.getStartPosition())&&(e=r.getEndPosition());const{lineNumber:o,column:s}=e,a=this._editor.getModel();let l=new re(o,s),c=a.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,!1);if(c&&c.range.isEmpty()&&c.range.getStartPosition().equals(l)&&(l=this._prevSearchPosition(l),c=a.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,!1)),!!c){if(!t&&!r.containsRange(c.range))return this._moveToPrevMatch(c.range.getStartPosition(),!0);this._setCurrentFindMatch(c.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){const t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:i,column:r}=e;const o=this._editor.getModel();return t||r===o.getLineMaxColumn(i)?(i===o.getLineCount()?i=1:i++,r=1):r++,new re(i,r)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){const i=this._decorations.matchBeforePosition(e);i&&this._setCurrentFindMatch(i);return}if(this._decorations.getCount()<Xf){let i=this._decorations.matchAfterPosition(e);i&&i.isEmpty()&&i.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),i=this._decorations.matchAfterPosition(e)),i&&this._setCurrentFindMatch(i);return}const t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,i,r=!1){if(this._cannotFind())return null;const o=this._decorations.getFindScope(),s=t1._getSearchRange(this._editor.getModel(),o);s.getEndPosition().isBefore(e)&&(e=s.getStartPosition()),e.isBefore(s.getStartPosition())&&(e=s.getStartPosition());const{lineNumber:a,column:l}=e,c=this._editor.getModel();let d=new re(a,l),u=c.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,t);return i&&u&&u.range.isEmpty()&&u.range.getStartPosition().equals(d)&&(d=this._nextSearchPosition(d),u=c.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,t)),u?!r&&!s.containsRange(u.range)?this._getNextMatch(u.range.getEndPosition(),t,i,!0):u:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(e){const t=this._decorations.getDecorationRangeAt(e);t&&this._setCurrentFindMatch(t)}moveToMatch(e){this._moveToMatch(e)}_getReplacePattern(){return this._state.isRegex?wze(this._state.replaceString):Jb.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const e=this._getReplacePattern(),t=this._editor.getSelection(),i=this._getNextMatch(t.getStartPosition(),!0,!1);if(i)if(t.equalsRange(i.range)){const r=e.buildReplaceString(i.matches,this._state.preserveCase),o=new Wr(t,r);this._executeEditorCommand("replace",o),this._decorations.setStartPosition(new re(t.startLineNumber,t.startColumn+r.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}_findMatches(e,t,i){const r=(e||[null]).map(o=>t1._getSearchRange(this._editor.getModel(),o));return this._editor.getModel().findMatches(this._state.searchString,r,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null,t,i)}replaceAll(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();e===null&&this._state.matchesCount>=Xf?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){const t=new zp(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(129):null).parseSearchRequest();if(!t)return;let i=t.regex;if(!i.multiline){let u="mu";i.ignoreCase&&(u+="i"),i.global&&(u+="g"),i=new RegExp(i.source,u)}const r=this._editor.getModel(),o=r.getValue(1),s=r.getFullModelRange(),a=this._getReplacePattern();let l;const c=this._state.preserveCase;a.hasReplacementPatterns||c?l=o.replace(i,function(){return a.buildReplaceString(arguments,c)}):l=o.replace(i,a.buildReplaceString(null,c));const d=new $6(s,l,this._editor.getSelection());this._executeEditorCommand("replaceAll",d)}_regularReplaceAll(e){const t=this._getReplacePattern(),i=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),r=[];for(let s=0,a=i.length;s<a;s++)r[s]=t.buildReplaceString(i[s].matches,this._state.preserveCase);const o=new bze(this._editor.getSelection(),i.map(s=>s.range),r);this._executeEditorCommand("replaceAll",o)}selectAllMatches(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();let i=this._findMatches(e,!1,1073741824).map(o=>new Ke(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn));const r=this._editor.getSelection();for(let o=0,s=i.length;o<s;o++)if(i[o].equalsRange(r)){i=[r].concat(i.slice(0,o)).concat(i.slice(o+1));break}this._editor.setSelections(i)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}class i2 extends Na{constructor(e,t,i){super(),this._hideSoon=this._register(new ki(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const r={inputActiveOptionBorder:Ue(A6),inputActiveOptionForeground:Ue(O6),inputActiveOptionBackground:Ue(lm)};this.caseSensitive=this._register(new lde({appendTitle:this._keybindingLabelFor(Mi.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,...r})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new cde({appendTitle:this._keybindingLabelFor(Mi.ToggleWholeWordCommand),isChecked:this._state.wholeWord,...r})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new dde({appendTitle:this._keybindingLabelFor(Mi.ToggleRegexCommand),isChecked:this._state.isRegex,...r})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(o=>{let s=!1;o.isRegex&&(this.regex.checked=this._state.isRegex,s=!0),o.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,s=!0),o.matchCase&&(this.caseSensitive.checked=this._state.matchCase,s=!0),!this._state.isRevealed&&s&&this._revealTemporarily()})),this._register(ge(this._domNode,Ne.MOUSE_LEAVE,o=>this._onMouseLeave())),this._register(ge(this._domNode,"mouseover",o=>this._onMouseOver()))}_keybindingLabelFor(e){const t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return i2.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}i2.ID="editor.contrib.findOptionsWidget";function bD(n,e){return n===1?!0:n===2?!1:e}class xze extends ce{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return bD(this._isRegexOverride,this._isRegex)}get wholeWord(){return bD(this._wholeWordOverride,this._wholeWord)}get matchCase(){return bD(this._matchCaseOverride,this._matchCase)}get preserveCase(){return bD(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new ne),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(e,t,i){const r={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let o=!1;t===0&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,r.matchesPosition=!0,o=!0),this._matchesCount!==t&&(this._matchesCount=t,r.matchesCount=!0,o=!0),typeof i<"u"&&(B.equalsRange(this._currentMatch,i)||(this._currentMatch=i,r.currentMatch=!0,o=!0)),o&&this._onFindReplaceStateChange.fire(r)}change(e,t,i=!0){var r;const o={moveCursor:t,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let s=!1;const a=this.isRegex,l=this.wholeWord,c=this.matchCase,d=this.preserveCase;typeof e.searchString<"u"&&this._searchString!==e.searchString&&(this._searchString=e.searchString,o.searchString=!0,s=!0),typeof e.replaceString<"u"&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,o.replaceString=!0,s=!0),typeof e.isRevealed<"u"&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,o.isRevealed=!0,s=!0),typeof e.isReplaceRevealed<"u"&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,o.isReplaceRevealed=!0,s=!0),typeof e.isRegex<"u"&&(this._isRegex=e.isRegex),typeof e.wholeWord<"u"&&(this._wholeWord=e.wholeWord),typeof e.matchCase<"u"&&(this._matchCase=e.matchCase),typeof e.preserveCase<"u"&&(this._preserveCase=e.preserveCase),typeof e.searchScope<"u"&&(!((r=e.searchScope)===null||r===void 0)&&r.every(u=>{var h;return(h=this._searchScope)===null||h===void 0?void 0:h.some(f=>!B.equalsRange(f,u))})||(this._searchScope=e.searchScope,o.searchScope=!0,s=!0)),typeof e.loop<"u"&&this._loop!==e.loop&&(this._loop=e.loop,o.loop=!0,s=!0),typeof e.isSearching<"u"&&this._isSearching!==e.isSearching&&(this._isSearching=e.isSearching,o.isSearching=!0,s=!0),typeof e.filters<"u"&&(this._filters?this._filters.update(e.filters):this._filters=e.filters,o.filters=!0,s=!0),this._isRegexOverride=typeof e.isRegexOverride<"u"?e.isRegexOverride:0,this._wholeWordOverride=typeof e.wholeWordOverride<"u"?e.wholeWordOverride:0,this._matchCaseOverride=typeof e.matchCaseOverride<"u"?e.matchCaseOverride:0,this._preserveCaseOverride=typeof e.preserveCaseOverride<"u"?e.preserveCaseOverride:0,a!==this.isRegex&&(s=!0,o.isRegex=!0),l!==this.wholeWord&&(s=!0,o.wholeWord=!0),c!==this.matchCase&&(s=!0,o.matchCase=!0),d!==this.preserveCase&&(s=!0,o.preserveCase=!0),s&&this._onFindReplaceStateChange.fire(o)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=Xf}}const Lze=w("defaultLabel","input"),kze=w("label.preserveCaseToggle","Preserve Case");class Dze extends Ty{constructor(e){super({icon:Ae.preserveCase,title:kze+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Tze extends Na{constructor(e,t,i,r){super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new ne),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new ne),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new ne),this._onInput=this._register(new ne),this._onKeyUp=this._register(new ne),this._onPreserveCaseKeyDown=this._register(new ne),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=r.placeholder||"",this.validation=r.validation,this.label=r.label||Lze;const o=r.appendPreserveCaseLabel||"",s=r.history||[],a=!!r.flexibleHeight,l=!!r.flexibleWidth,c=r.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new ude(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:s,showHistoryHint:r.showHistoryHint,flexibleHeight:a,flexibleWidth:l,flexibleMaxHeight:c,inputBoxStyles:r.inputBoxStyles})),this.preserveCase=this._register(new Dze({appendTitle:o,isChecked:!1,...r.toggleStyles})),this._register(this.preserveCase.onChange(h=>{this._onDidOptionChange.fire(h),!h&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(h=>{this._onPreserveCaseKeyDown.fire(h)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const d=[this.preserveCase.domNode];this.onkeydown(this.domNode,h=>{if(h.equals(15)||h.equals(17)||h.equals(9)){const f=d.indexOf(this.domNode.ownerDocument.activeElement);if(f>=0){let g=-1;h.equals(17)?g=(f+1)%d.length:h.equals(15)&&(f===0?g=d.length-1:g=f-1),h.equals(9)?(d[f].blur(),this.inputBox.focus()):g>=0&&d[g].focus(),Mt.stop(h,!0)}}});const u=document.createElement("div");u.className="controls",u.style.display=this._showOptionButtons?"block":"none",u.appendChild(this.preserveCase.domNode),this.domNode.appendChild(u),e==null||e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,h=>this._onKeyDown.fire(h)),this.onkeyup(this.inputBox.inputElement,h=>this._onKeyUp.fire(h)),this.oninput(this.inputBox.inputElement,h=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,h=>this._onMouseDown.fire(h))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){var e;(e=this.inputBox)===null||e===void 0||e.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=e+"px"}dispose(){super.dispose()}}var Xhe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Qhe=function(n,e){return function(t,i){e(t,i,n)}};const FH=new je("suggestWidgetVisible",!1,w("suggestWidgetVisible","Whether suggestion are visible")),BH="historyNavigationWidgetFocus",Jhe="historyNavigationForwardsEnabled",efe="historyNavigationBackwardsEnabled";let vh;const yD=[];function tfe(n,e){if(yD.includes(e))throw new Error("Cannot register the same widget multiple times");yD.push(e);const t=new xe,i=new je(BH,!1).bindTo(n),r=new je(Jhe,!0).bindTo(n),o=new je(efe,!0).bindTo(n),s=()=>{i.set(!0),vh=e},a=()=>{i.set(!1),vh===e&&(vh=void 0)};return AP(e.element)&&s(),t.add(e.onDidFocus(()=>s())),t.add(e.onDidBlur(()=>a())),t.add(at(()=>{yD.splice(yD.indexOf(e),1),a()})),{historyNavigationForwardsEnablement:r,historyNavigationBackwardsEnablement:o,dispose(){t.dispose()}}}let B8=class extends hde{constructor(e,t,i,r){super(e,t,i);const o=this._register(r.createScoped(this.inputBox.element));this._register(tfe(o,this.inputBox))}};B8=Xhe([Qhe(3,_t)],B8);let W8=class extends Tze{constructor(e,t,i,r,o=!1){super(e,t,o,i);const s=this._register(r.createScoped(this.inputBox.element));this._register(tfe(s,this.inputBox))}};W8=Xhe([Qhe(3,_t)],W8);vs.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:we.and(we.has(BH),we.equals(efe,!0),we.not("isComposing"),FH.isEqualTo(!1)),primary:16,secondary:[528],handler:n=>{vh==null||vh.showPreviousValue()}});vs.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:we.and(we.has(BH),we.equals(Jhe,!0),we.not("isComposing"),FH.isEqualTo(!1)),primary:18,secondary:[530],handler:n=>{vh==null||vh.showNextValue()}});function vX(n){var e,t;return((e=n.lookupKeybinding("history.showPrevious"))===null||e===void 0?void 0:e.getElectronAccelerator())==="Up"&&((t=n.lookupKeybinding("history.showNext"))===null||t===void 0?void 0:t.getElectronAccelerator())==="Down"}const Eze=Dn("find-selection",Ae.selection,w("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),bX=Dn("find-collapsed",Ae.chevronRight,w("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),yX=Dn("find-expanded",Ae.chevronDown,w("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),Ize=Dn("find-replace",Ae.replace,w("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Nze=Dn("find-replace-all",Ae.replaceAll,w("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),Pze=Dn("find-previous-match",Ae.arrowUp,w("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),Mze=Dn("find-next-match",Ae.arrowDown,w("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),Rze=w("label.findDialog","Find / Replace"),Aze=w("label.find","Find"),Oze=w("placeholder.find","Find"),Fze=w("label.previousMatchButton","Previous Match"),Bze=w("label.nextMatchButton","Next Match"),Wze=w("label.toggleSelectionFind","Find in Selection"),Vze=w("label.closeButton","Close"),Hze=w("label.replace","Replace"),zze=w("placeholder.replace","Replace"),jze=w("label.replaceButton","Replace"),Uze=w("label.replaceAllButton","Replace All"),$ze=w("label.toggleReplaceButton","Toggle Replace"),qze=w("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",Xf),Kze=w("label.matchesLocation","{0} of {1}"),CX=w("label.noResults","No results"),pd=419,Gze=275,Zze=Gze-54;let IC=69;const Yze=33,wX="ctrlEnterReplaceAll.windows.donotask",SX=qt?256:2048;class GO{constructor(e){this.afterLineNumber=e,this.heightInPx=Yze,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function xX(n,e,t){const i=!!e.match(/\n/);if(t&&i&&t.selectionStart>0){n.stopPropagation();return}}function LX(n,e,t){const i=!!e.match(/\n/);if(t&&i&&t.selectionEnd<t.value.length){n.stopPropagation();return}}class n2 extends Na{constructor(e,t,i,r,o,s,a,l,c){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=i,this._contextViewProvider=r,this._keybindingService=o,this._contextKeyService=s,this._storageService=l,this._notificationService=c,this._ctrlEnterReplaceAllWarningPrompted=!!l.getBoolean(wX,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new $l(500),this._register(at(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(d=>this._onStateChanged(d))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(d=>{if(d.hasChanged(90)&&(this._codeEditor.getOption(90)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),d.hasChanged(143)&&this._tryUpdateWidgetWidth(),d.hasChanged(2)&&this.updateAccessibilitySupport(),d.hasChanged(41)){const u=this._codeEditor.getOption(41).loop;this._state.change({loop:u},!1);const h=this._codeEditor.getOption(41).addExtraSpaceOnTop;h&&!this._viewZone&&(this._viewZone=new GO(0),this._showViewZone()),!h&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(async()=>{if(this._isVisible){const d=await this._controller.getGlobalBufferTerm();d&&d!==this._state.searchString&&(this._state.change({searchString:d},!1),this._findInput.select())}})),this._findInputFocused=t2.bindTo(s),this._findFocusTracker=this._register($c(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=OH.bindTo(s),this._replaceFocusTracker=this._register($c(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(41).addExtraSpaceOnTop&&(this._viewZone=new GO(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(d=>{if(d.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return n2.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(90)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=os(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){const t=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",t),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,St)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=IC+"px",this._state.matchesCount>=Xf?this._matchesCount.title=qze:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let e;if(this._state.matchesCount>0){let t=String(this._state.matchesCount);this._state.matchesCount>=Xf&&(t+="+");let i=String(this._state.matchesPosition);i==="0"&&(i="?"),e=zm(Kze,i,t)}else e=CX;this._matchesCount.appendChild(document.createTextNode(e)),zs(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),IC=Math.max(IC,this._matchesCount.clientWidth)}_getAriaLabel(e,t,i){if(e===CX)return i===""?w("ariaSearchNoResultEmpty","{0} found",e):w("ariaSearchNoResult","{0} found for '{1}'",e,i);if(t){const r=w("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,i,t.startLineNumber+":"+t.startColumn),o=this._codeEditor.getModel();return o&&t.startLineNumber<=o.getLineCount()&&t.startLineNumber>=1?`${o.getLineContent(t.startLineNumber)}, ${r}`:r}return w("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,i)}_updateToggleSelectionFindButton(){const e=this._codeEditor.getSelection(),t=e?e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn:!1,i=this._toggleSelectionFind.checked;this._isVisible&&(i||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const i=!this._codeEditor.getOption(90);this._toggleReplaceBtn.setEnabled(this._isVisible&&i)}_reveal(){if(this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(41).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const i=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=i;break}}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(41).seedSearchStringFromSelection&&e){const i=this._codeEditor.getDomNode();if(i){const r=Vn(i),o=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),s=r.left+(o?o.left:0),a=o?o.top:0;if(this._viewZone&&a<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);const l=Cae(this._domNode).left;s>l&&(t=!1);const c=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());r.left+(c?c.left:0)>l&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._revealTimeouts.forEach(t=>{clearTimeout(t)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(41).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const i=this._viewZone;this._viewZoneId!==void 0||!i||this._codeEditor.changeViewZones(r=>{i.heightInPx=this._getHeight(),this._viewZoneId=r.addZone(i),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+i.heightInPx)})}_showViewZone(e=!0){if(!this._isVisible||!this._codeEditor.getOption(41).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new GO(0));const i=this._viewZone;this._codeEditor.changeViewZones(r=>{if(this._viewZoneId!==void 0){const o=this._getHeight();if(o===i.heightInPx)return;const s=o-i.heightInPx;i.heightInPx=o,r.layoutZone(this._viewZoneId),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+s);return}else{let o=this._getHeight();if(o-=this._codeEditor.getOption(83).top,o<=0)return;i.heightInPx=o,this._viewZoneId=r.addZone(i),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+o)}})}_removeViewZone(){this._codeEditor.changeViewZones(e=>{this._viewZoneId!==void 0&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!this._domNode.isConnected)return;const e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const i=e.width,r=e.minimap.minimapWidth;let o=!1,s=!1,a=!1;if(this._resized&&os(this._domNode)>pd){this._domNode.style.maxWidth=`${i-28-r-15}px`,this._replaceInput.width=os(this._findInput.domNode);return}if(pd+28+r>=i&&(s=!0),pd+28+r-IC>=i&&(a=!0),pd+28+r-IC>=i+50&&(o=!0),this._domNode.classList.toggle("collapsed-find-widget",o),this._domNode.classList.toggle("narrow-find-widget",a),this._domNode.classList.toggle("reduced-find-widget",s),!a&&!o&&(this._domNode.style.maxWidth=`${i-28-r-15}px`),this._findInput.layout({collapsedFindWidget:o,narrowFindWidget:a,reducedFindWidget:s}),this._resized){const l=this._findInput.inputBox.element.clientWidth;l>0&&(this._replaceInput.width=l)}else this._isReplaceVisible&&(this._replaceInput.width=os(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){const e=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===e?!1:(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const e=this._codeEditor.getSelections();e.map(t=>{t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1)));const i=this._state.currentMatch;return t.startLineNumber!==t.endLineNumber&&!B.equalsRange(t,i)?t:null}).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){if(e.equals(SX|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return xX(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(e.equals(18))return LX(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(e){if(e.equals(SX|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{no&&Mc&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(w("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(wX,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(1026)){this._findInput.focus(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return xX(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(e.equals(18))return LX(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){const t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new B8(null,this._contextViewProvider,{width:Zze,label:Aze,placeholder:Oze,appendCaseSensitiveLabel:this._keybindingLabelFor(Mi.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(Mi.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(Mi.ToggleRegexCommand),validation:l=>{if(l.length===0||!this._findInput.getRegex())return null;try{return new RegExp(l,"gu"),null}catch(c){return{content:c.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>vX(this._keybindingService),inputBoxStyles:PI,toggleStyles:NI},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(l=>this._onFindInputKeyDown(l))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(l=>{l.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),l.preventDefault())})),this._register(this._findInput.onRegexKeyDown(l=>{l.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),l.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(l=>{this._tryUpdateHeight()&&this._showViewZone()})),Uo&&this._register(this._findInput.onMouseDown(l=>this._onFindInputMouseDown(l))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new v0({label:Fze+this._keybindingLabelFor(Mi.PreviousMatchFindAction),icon:Pze,onTrigger:()=>{Ff(this._codeEditor.getAction(Mi.PreviousMatchFindAction)).run().then(void 0,St)}})),this._nextBtn=this._register(new v0({label:Bze+this._keybindingLabelFor(Mi.NextMatchFindAction),icon:Mze,onTrigger:()=>{Ff(this._codeEditor.getAction(Mi.NextMatchFindAction)).run().then(void 0,St)}}));const i=document.createElement("div");i.className="find-part",i.appendChild(this._findInput.domNode);const r=document.createElement("div");r.className="find-actions",i.appendChild(r),r.appendChild(this._matchesCount),r.appendChild(this._prevBtn.domNode),r.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new Ty({icon:Eze,title:Wze+this._keybindingLabelFor(Mi.ToggleSearchScopeCommand),isChecked:!1,inputActiveOptionBackground:Ue(lm),inputActiveOptionBorder:Ue(A6),inputActiveOptionForeground:Ue(O6)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const l=this._codeEditor.getSelections();l.map(c=>(c.endColumn===1&&c.endLineNumber>c.startLineNumber&&(c=c.setEndPosition(c.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(c.endLineNumber-1))),c.isEmpty()?null:c)).filter(c=>!!c),l.length&&this._state.change({searchScope:l},!0)}}else this._state.change({searchScope:null},!0)})),r.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new v0({label:Vze+this._keybindingLabelFor(Mi.CloseFindWidgetCommand),icon:Fde,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:l=>{l.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),l.preventDefault())}})),this._replaceInput=this._register(new W8(null,void 0,{label:Hze,placeholder:zze,appendPreserveCaseLabel:this._keybindingLabelFor(Mi.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>vX(this._keybindingService),inputBoxStyles:PI,toggleStyles:NI},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(l=>this._onReplaceInputKeyDown(l))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(l=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(l=>{l.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),l.preventDefault())})),this._replaceBtn=this._register(new v0({label:jze+this._keybindingLabelFor(Mi.ReplaceOneAction),icon:Ize,onTrigger:()=>{this._controller.replace()},onKeyDown:l=>{l.equals(1026)&&(this._closeBtn.focus(),l.preventDefault())}})),this._replaceAllBtn=this._register(new v0({label:Uze+this._keybindingLabelFor(Mi.ReplaceAllAction),icon:Nze,onTrigger:()=>{this._controller.replaceAll()}}));const o=document.createElement("div");o.className="replace-part",o.appendChild(this._replaceInput.domNode);const s=document.createElement("div");s.className="replace-actions",o.appendChild(s),s.appendChild(this._replaceBtn.domNode),s.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new v0({label:$ze,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=os(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=Rze,this._domNode.role="dialog",this._domNode.style.width=`${pd}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(i),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(o),this._resizeSash=new Yr(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let a=pd;this._register(this._resizeSash.onDidStart(()=>{a=os(this._domNode)})),this._register(this._resizeSash.onDidChange(l=>{this._resized=!0;const c=a+l.startX-l.currentX;if(c<pd)return;const d=parseFloat(RP(this._domNode).maxWidth)||0;c>d||(this._domNode.style.width=`${c}px`,this._isReplaceVisible&&(this._replaceInput.width=os(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const l=os(this._domNode);if(l<pd)return;let c=pd;if(!this._resized||l===pd){const d=this._codeEditor.getLayoutInfo();c=d.width-28-d.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${c}px`,this._isReplaceVisible&&(this._replaceInput.width=os(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(e!==2)}}n2.ID="editor.contrib.findWidget";class v0 extends Na{constructor(e){super(),this._opts=e;let t="button";this._opts.className&&(t=t+" "+this._opts.className),this._opts.icon&&(t=t+" "+lt.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,i=>{this._opts.onTrigger(),i.preventDefault()}),this.onkeydown(this._domNode,i=>{var r,o;if(i.equals(10)||i.equals(3)){this._opts.onTrigger(),i.preventDefault();return}(o=(r=this._opts).onKeyDown)===null||o===void 0||o.call(r,i)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...lt.asClassNameArray(bX)),this._domNode.classList.add(...lt.asClassNameArray(yX))):(this._domNode.classList.remove(...lt.asClassNameArray(yX)),this._domNode.classList.add(...lt.asClassNameArray(bX)))}}cl((n,e)=>{const t=(_,y)=>{y&&e.addRule(`.monaco-editor ${_} { background-color: ${y}; }`)};t(".findMatch",n.getColor($d)),t(".currentFindMatch",n.getColor(uNe)),t(".findScope",n.getColor(hNe));const i=n.getColor(mn);t(".find-widget",i);const r=n.getColor(Vd);r&&e.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${r}; }`);const o=n.getColor(R6);o&&e.addRule(`.monaco-editor .find-widget { border-left: 1px solid ${o}; border-right: 1px solid ${o}; border-bottom: 1px solid ${o}; }`);const s=n.getColor(zf);s&&e.addRule(`.monaco-editor .findMatch { border: 1px ${Fc(n.type)?"dotted":"solid"} ${s}; box-sizing: border-box; }`);const a=n.getColor(fNe);a&&e.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${a}; padding: 1px; box-sizing: border-box; }`);const l=n.getColor(gNe);l&&e.addRule(`.monaco-editor .findScope { border: 1px ${Fc(n.type)?"dashed":"solid"} ${l}; }`);const c=n.getColor(Ut);c&&e.addRule(`.monaco-editor .find-widget { border: 1px solid ${c}; }`);const d=n.getColor(jd);d&&e.addRule(`.monaco-editor .find-widget { color: ${d}; }`);const u=n.getColor(AIe);u&&e.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${u}; }`);const h=n.getColor(iNe);if(h)e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${h}; }`);else{const _=n.getColor(Ud);_&&e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${_}; }`)}const f=n.getColor(JF);f&&e.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${f} !important;
		}
	`);const g=n.getColor(_a);g&&e.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${g}; }`)});var ife=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},mc=function(n,e){return function(t,i){e(t,i,n)}},V8;const Xze=524288;function H8(n,e="single",t=!1){if(!n.hasModel())return null;const i=n.getSelection();if(e==="single"&&i.startLineNumber===i.endLineNumber||e==="multiple"){if(i.isEmpty()){const r=n.getConfiguredWordAtPosition(i.getStartPosition());if(r&&t===!1)return r.word}else if(n.getModel().getValueLengthInRange(i)<Xze)return n.getModel().getValueInRange(i)}return null}let qo=V8=class extends ce{get editor(){return this._editor}static get(e){return e.getContribution(V8.ID)}constructor(e,t,i,r,o){super(),this._editor=e,this._findWidgetVisible=Hh.bindTo(t),this._contextKeyService=t,this._storageService=i,this._clipboardService=r,this._notificationService=o,this._updateHistoryDelayer=new $l(500),this._state=this._register(new xze),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(s=>this._onStateChanged(s))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const s=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),s&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(41).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!t2.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const e=this._editor.getSelections();e.map(t=>(t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._editor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()?null:t)).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=xa(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}async _start(e,t){if(this.disposeModel(),!this._editor.hasModel())return;const i={...t,isRevealed:!0};if(e.seedSearchStringFromSelection==="single"){const r=H8(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);r&&(this._state.isRegex?i.searchString=xa(r):i.searchString=r)}else if(e.seedSearchStringFromSelection==="multiple"&&!e.updateSearchScope){const r=H8(this._editor,e.seedSearchStringFromSelection);r&&(i.searchString=r)}if(!i.searchString&&e.seedSearchStringFromGlobalClipboard){const r=await this.getGlobalBufferTerm();if(!this._editor.hasModel())return;r&&(i.searchString=r)}if(e.forceRevealReplace||i.isReplaceRevealed?i.isReplaceRevealed=!0:this._findWidgetVisible.get()||(i.isReplaceRevealed=!1),e.updateSearchScope){const r=this._editor.getSelections();r.some(o=>!o.isEmpty())&&(i.searchScope=r)}i.loop=e.loop,this._state.change(i,!1),this._model||(this._model=new t1(this._editor,this._state))}start(e,t){return this._start(e,t)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}goToMatch(e){return this._model?(this._model.moveToMatch(e),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){var e;return this._model?!((e=this._editor.getModel())===null||e===void 0)&&e.isTooLargeForHeapOperation()?(this._notificationService.warn(w("too.large.for.replaceall","The file is too large to perform a replace all operation.")),!1):(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}async getGlobalBufferTerm(){return this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""}setGlobalBufferTerm(e){this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};qo.ID="editor.contrib.findController";qo=V8=ife([mc(1,_t),mc(2,Yl),mc(3,Vh),mc(4,Rn)],qo);let z8=class extends qo{constructor(e,t,i,r,o,s,a,l){super(e,i,a,l,s),this._contextViewService=t,this._keybindingService=r,this._themeService=o,this._widget=null,this._findOptionsWidget=null}async _start(e,t){this._widget||this._createFindWidget();const i=this._editor.getSelection();let r=!1;switch(this._editor.getOption(41).autoFindInSelection){case"always":r=!0;break;case"never":r=!1;break;case"multiline":{r=!!i&&i.startLineNumber!==i.endLineNumber;break}}e.updateSearchScope=e.updateSearchScope||r,await super._start(e,t),this._widget&&(e.shouldFocus===2?this._widget.focusReplaceInput():e.shouldFocus===1&&this._widget.focusFindInput())}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new n2(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new i2(this._editor,this._state,this._keybindingService))}};z8=ife([mc(1,bu),mc(2,_t),mc(3,xi),mc(4,mr),mc(5,Rn),mc(6,Yl),mc(7,Vh)],z8);const Qze=Nae(new Iae({id:Mi.StartFindAction,label:w("startFindAction","Find"),alias:"Find",precondition:we.or(j.focus,we.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:H.MenubarEditMenu,group:"3_find",title:w({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));Qze.addImplementation(0,(n,e,t)=>{const i=qo.get(e);return i?i.start({forceRevealReplace:!1,seedSearchStringFromSelection:e.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(41).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(41).loop}):!1});const Jze={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},isRegex:{type:"boolean"},matchWholeWord:{type:"boolean"},isCaseSensitive:{type:"boolean"},preserveCase:{type:"boolean"},findInSelection:{type:"boolean"}}}}]};class eje extends $e{constructor(){super({id:Mi.StartFindWithArgs,label:w("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},metadata:Jze})}async run(e,t,i){const r=qo.get(t);if(r){const o=i?{searchString:i.searchString,replaceString:i.replaceString,isReplaceRevealed:i.replaceString!==void 0,isRegex:i.isRegex,wholeWord:i.matchWholeWord,matchCase:i.isCaseSensitive,preserveCase:i.preserveCase}:{};await r.start({forceRevealReplace:!1,seedSearchStringFromSelection:r.getState().searchString.length===0&&t.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(i==null?void 0:i.findInSelection)||!1,loop:t.getOption(41).loop},o),r.setGlobalBufferTerm(r.getState().searchString)}}}class tje extends $e{constructor(){super({id:Mi.StartFindWithSelection,label:w("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}async run(e,t){const i=qo.get(t);i&&(await i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(41).loop}),i.setGlobalBufferTerm(i.getState().searchString))}}class nfe extends $e{async run(e,t){const i=qo.get(t);i&&!this._run(i)&&(await i.start({forceRevealReplace:!1,seedSearchStringFromSelection:i.getState().searchString.length===0&&t.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(41).loop}),this._run(i))}}class ije extends nfe{constructor(){super({id:Mi.NextMatchFindAction,label:w("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:j.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:we.and(j.focus,t2),primary:3,weight:100}]})}_run(e){return e.moveToNextMatch()?(e.editor.pushUndoStop(),!0):!1}}class nje extends nfe{constructor(){super({id:Mi.PreviousMatchFindAction,label:w("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:j.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:we.and(j.focus,t2),primary:1027,weight:100}]})}_run(e){return e.moveToPrevMatch()}}class rje extends $e{constructor(){super({id:Mi.GoToMatchFindAction,label:w("findMatchAction.goToMatch","Go to Match..."),alias:"Go to Match...",precondition:Hh}),this._highlightDecorations=[]}run(e,t,i){const r=qo.get(t);if(!r)return;const o=r.getState().matchesCount;if(o<1){e.get(Rn).notify({severity:rM.Warning,message:w("findMatchAction.noResults","No matches. Try searching for something else.")});return}const a=e.get(rd).createInputBox();a.placeholder=w("findMatchAction.inputPlaceHolder","Type a number to go to a specific match (between 1 and {0})",o);const l=d=>{const u=parseInt(d);if(isNaN(u))return;const h=r.getState().matchesCount;if(u>0&&u<=h)return u-1;if(u<0&&u>=-h)return h+u},c=d=>{const u=l(d);if(typeof u=="number"){a.validationMessage=void 0,r.goToMatch(u);const h=r.getState().currentMatch;h&&this.addDecorations(t,h)}else a.validationMessage=w("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",r.getState().matchesCount),this.clearDecorations(t)};a.onDidChangeValue(d=>{c(d)}),a.onDidAccept(()=>{const d=l(a.value);typeof d=="number"?(r.goToMatch(d),a.hide()):a.validationMessage=w("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",r.getState().matchesCount)}),a.onDidHide(()=>{this.clearDecorations(t),a.dispose()}),a.show()}clearDecorations(e){e.changeDecorations(t=>{this._highlightDecorations=t.deltaDecorations(this._highlightDecorations,[])})}addDecorations(e,t){e.changeDecorations(i=>{this._highlightDecorations=i.deltaDecorations(this._highlightDecorations,[{range:t,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:cn(Ile),position:ka.Full}}}])})}}class rfe extends $e{async run(e,t){const i=qo.get(t);if(!i)return;const r=H8(t,"single",!1);r&&i.setSearchString(r),this._run(i)||(await i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(41).loop}),this._run(i))}}class oje extends rfe{constructor(){super({id:Mi.NextSelectionMatchFindAction,label:w("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:j.focus,primary:2109,weight:100}})}_run(e){return e.moveToNextMatch()}}class sje extends rfe{constructor(){super({id:Mi.PreviousSelectionMatchFindAction,label:w("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:j.focus,primary:3133,weight:100}})}_run(e){return e.moveToPrevMatch()}}const aje=Nae(new Iae({id:Mi.StartFindReplaceAction,label:w("startReplace","Replace"),alias:"Replace",precondition:we.or(j.focus,we.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:H.MenubarEditMenu,group:"3_find",title:w({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));aje.addImplementation(0,(n,e,t)=>{if(!e.hasModel()||e.getOption(90))return!1;const i=qo.get(e);if(!i)return!1;const r=e.getSelection(),o=i.isFindInputFocused(),s=!r.isEmpty()&&r.startLineNumber===r.endLineNumber&&e.getOption(41).seedSearchStringFromSelection!=="never"&&!o,a=o||s?2:1;return i.start({forceRevealReplace:!0,seedSearchStringFromSelection:s?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(41).seedSearchStringFromSelection!=="never",shouldFocus:a,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(41).loop})});li(qo.ID,z8,0);Ee(eje);Ee(tje);Ee(ije);Ee(nje);Ee(rje);Ee(oje);Ee(sje);const od=kr.bindToContribution(qo.get);We(new od({id:Mi.CloseFindWidgetCommand,precondition:Hh,handler:n=>n.closeFindWidget(),kbOpts:{weight:105,kbExpr:we.and(j.focus,we.not("isComposing")),primary:9,secondary:[1033]}}));We(new od({id:Mi.ToggleCaseSensitiveCommand,precondition:void 0,handler:n=>n.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:j.focus,primary:gD.primary,mac:gD.mac,win:gD.win,linux:gD.linux}}));We(new od({id:Mi.ToggleWholeWordCommand,precondition:void 0,handler:n=>n.toggleWholeWords(),kbOpts:{weight:105,kbExpr:j.focus,primary:pD.primary,mac:pD.mac,win:pD.win,linux:pD.linux}}));We(new od({id:Mi.ToggleRegexCommand,precondition:void 0,handler:n=>n.toggleRegex(),kbOpts:{weight:105,kbExpr:j.focus,primary:mD.primary,mac:mD.mac,win:mD.win,linux:mD.linux}}));We(new od({id:Mi.ToggleSearchScopeCommand,precondition:void 0,handler:n=>n.toggleSearchScope(),kbOpts:{weight:105,kbExpr:j.focus,primary:_D.primary,mac:_D.mac,win:_D.win,linux:_D.linux}}));We(new od({id:Mi.TogglePreserveCaseCommand,precondition:void 0,handler:n=>n.togglePreserveCase(),kbOpts:{weight:105,kbExpr:j.focus,primary:vD.primary,mac:vD.mac,win:vD.win,linux:vD.linux}}));We(new od({id:Mi.ReplaceOneAction,precondition:Hh,handler:n=>n.replace(),kbOpts:{weight:105,kbExpr:j.focus,primary:3094}}));We(new od({id:Mi.ReplaceOneAction,precondition:Hh,handler:n=>n.replace(),kbOpts:{weight:105,kbExpr:we.and(j.focus,OH),primary:3}}));We(new od({id:Mi.ReplaceAllAction,precondition:Hh,handler:n=>n.replaceAll(),kbOpts:{weight:105,kbExpr:j.focus,primary:2563}}));We(new od({id:Mi.ReplaceAllAction,precondition:Hh,handler:n=>n.replaceAll(),kbOpts:{weight:105,kbExpr:we.and(j.focus,OH),primary:void 0,mac:{primary:2051}}}));We(new od({id:Mi.SelectAllMatchesAction,precondition:Hh,handler:n=>n.selectAllMatches(),kbOpts:{weight:105,kbExpr:j.focus,primary:515}}));const lje={0:" ",1:"u",2:"r"},kX=65535,_c=16777215,DX=4278190080;class ZO{constructor(e){const t=Math.ceil(e/32);this._states=new Uint32Array(t)}get(e){const t=e/32|0,i=e%32;return(this._states[t]&1<<i)!==0}set(e,t){const i=e/32|0,r=e%32,o=this._states[i];t?this._states[i]=o|1<<r:this._states[i]=o&~(1<<r)}}class aa{constructor(e,t,i){if(e.length!==t.length||e.length>kX)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new ZO(e.length),this._userDefinedStates=new ZO(e.length),this._recoveredStates=new ZO(e.length),this._types=i,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const e=[],t=(i,r)=>{const o=e[e.length-1];return this.getStartLineNumber(o)<=i&&this.getEndLineNumber(o)>=r};for(let i=0,r=this._startIndexes.length;i<r;i++){const o=this._startIndexes[i],s=this._endIndexes[i];if(o>_c||s>_c)throw new Error("startLineNumber or endLineNumber must not exceed "+_c);for(;e.length>0&&!t(o,s);)e.pop();const a=e.length>0?e[e.length-1]:-1;e.push(i),this._startIndexes[i]=o+((a&255)<<24),this._endIndexes[i]=s+((a&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return this._startIndexes[e]&_c}getEndLineNumber(e){return this._endIndexes[e]&_c}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){return this._collapseStates.get(e)}setCollapsed(e,t){this._collapseStates.set(e,t)}isUserDefined(e){return this._userDefinedStates.get(e)}setUserDefined(e,t){return this._userDefinedStates.set(e,t)}isRecovered(e){return this._recoveredStates.get(e)}setRecovered(e,t){return this._recoveredStates.set(e,t)}getSource(e){return this.isUserDefined(e)?1:this.isRecovered(e)?2:0}setSource(e,t){t===1?(this.setUserDefined(e,!0),this.setRecovered(e,!1)):t===2?(this.setUserDefined(e,!1),this.setRecovered(e,!0)):(this.setUserDefined(e,!1),this.setRecovered(e,!1))}setCollapsedAllOfType(e,t){let i=!1;if(this._types)for(let r=0;r<this._types.length;r++)this._types[r]===e&&(this.setCollapsed(r,t),i=!0);return i}toRegion(e){return new cje(this,e)}getParentIndex(e){this.ensureParentIndices();const t=((this._startIndexes[e]&DX)>>>24)+((this._endIndexes[e]&DX)>>>16);return t===kX?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,i=this._startIndexes.length;if(i===0)return-1;for(;t<i;){const r=Math.floor((t+i)/2);e<this.getStartLineNumber(r)?i=r:t=r+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);t!==-1;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}toString(){const e=[];for(let t=0;t<this.length;t++)e[t]=`[${lje[this.getSource(t)]}${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}toFoldRange(e){return{startLineNumber:this._startIndexes[e]&_c,endLineNumber:this._endIndexes[e]&_c,type:this._types?this._types[e]:void 0,isCollapsed:this.isCollapsed(e),source:this.getSource(e)}}static fromFoldRanges(e){const t=e.length,i=new Uint32Array(t),r=new Uint32Array(t);let o=[],s=!1;for(let l=0;l<t;l++){const c=e[l];i[l]=c.startLineNumber,r[l]=c.endLineNumber,o.push(c.type),c.type&&(s=!0)}s||(o=void 0);const a=new aa(i,r,o);for(let l=0;l<t;l++)e[l].isCollapsed&&a.setCollapsed(l,!0),a.setSource(l,e[l].source);return a}static sanitizeAndMerge(e,t,i){i=i??Number.MAX_VALUE;const r=(_,y)=>Array.isArray(_)?m=>m<y?_[m]:void 0:m=>m<y?_.toFoldRange(m):void 0,o=r(e,e.length),s=r(t,t.length);let a=0,l=0,c=o(0),d=s(0);const u=[];let h,f=0;const g=[];for(;c||d;){let _;if(d&&(!c||c.startLineNumber>=d.startLineNumber))c&&c.startLineNumber===d.startLineNumber?(d.source===1?_=d:(_=c,_.isCollapsed=d.isCollapsed&&c.endLineNumber===d.endLineNumber,_.source=0),c=o(++a)):(_=d,d.isCollapsed&&d.source===0&&(_.source=2)),d=s(++l);else{let y=l,m=d;for(;;){if(!m||m.startLineNumber>c.endLineNumber){_=c;break}if(m.source===1&&m.endLineNumber>c.endLineNumber)break;m=s(++y)}c=o(++a)}if(_){for(;h&&h.endLineNumber<_.startLineNumber;)h=u.pop();_.endLineNumber>_.startLineNumber&&_.startLineNumber>f&&_.endLineNumber<=i&&(!h||h.endLineNumber>=_.endLineNumber)&&(g.push(_),f=_.startLineNumber,h&&u.push(h),h=_)}}return g}}class cje{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}class dje{get regions(){return this._regions}get textModel(){return this._textModel}constructor(e,t){this._updateEventEmitter=new ne,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new aa(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(e){if(!e.length)return;e=e.sort((i,r)=>i.regionIndex-r.regionIndex);const t={};this._decorationProvider.changeDecorations(i=>{let r=0,o=-1,s=-1;const a=l=>{for(;r<l;){const c=this._regions.getEndLineNumber(r),d=this._regions.isCollapsed(r);if(c<=o){const u=this.regions.getSource(r)!==0;i.changeDecorationOptions(this._editorDecorationIds[r],this._decorationProvider.getDecorationOption(d,c<=s,u))}d&&c>s&&(s=c),r++}};for(const l of e){const c=l.regionIndex,d=this._editorDecorationIds[c];if(d&&!t[d]){t[d]=!0,a(c);const u=!this._regions.isCollapsed(c);this._regions.setCollapsed(c,u),o=Math.max(o,this._regions.getEndLineNumber(c))}}a(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}removeManualRanges(e){const t=new Array,i=r=>{for(const o of e)if(!(o.startLineNumber>r.endLineNumber||r.startLineNumber>o.endLineNumber))return!0;return!1};for(let r=0;r<this._regions.length;r++){const o=this._regions.toFoldRange(r);(o.source===0||!i(o))&&t.push(o)}this.updatePost(aa.fromFoldRanges(t))}update(e,t=[]){const i=this._currentFoldedOrManualRanges(t),r=aa.sanitizeAndMerge(e,i,this._textModel.getLineCount());this.updatePost(aa.fromFoldRanges(r))}updatePost(e){const t=[];let i=-1;for(let r=0,o=e.length;r<o;r++){const s=e.getStartLineNumber(r),a=e.getEndLineNumber(r),l=e.isCollapsed(r),c=e.getSource(r)!==0,d={startLineNumber:s,startColumn:this._textModel.getLineMaxColumn(s),endLineNumber:a,endColumn:this._textModel.getLineMaxColumn(a)+1};t.push({range:d,options:this._decorationProvider.getDecorationOption(l,a<=i,c)}),l&&a>i&&(i=a)}this._decorationProvider.changeDecorations(r=>this._editorDecorationIds=r.deltaDecorations(this._editorDecorationIds,t)),this._regions=e,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(e=[]){const t=(r,o)=>{for(const s of e)if(r<s&&s<=o)return!0;return!1},i=[];for(let r=0,o=this._regions.length;r<o;r++){let s=this.regions.isCollapsed(r);const a=this.regions.getSource(r);if(s||a!==0){const l=this._regions.toFoldRange(r),c=this._textModel.getDecorationRange(this._editorDecorationIds[r]);c&&(s&&t(c.startLineNumber,c.endLineNumber)&&(s=!1),i.push({startLineNumber:c.startLineNumber,endLineNumber:c.endLineNumber,type:l.type,isCollapsed:s,source:a}))}}return i}getMemento(){const e=this._currentFoldedOrManualRanges(),t=[],i=this._textModel.getLineCount();for(let r=0,o=e.length;r<o;r++){const s=e[r];if(s.startLineNumber>=s.endLineNumber||s.startLineNumber<1||s.endLineNumber>i)continue;const a=this._getLinesChecksum(s.startLineNumber+1,s.endLineNumber);t.push({startLineNumber:s.startLineNumber,endLineNumber:s.endLineNumber,isCollapsed:s.isCollapsed,source:s.source,checksum:a})}return t.length>0?t:void 0}applyMemento(e){var t,i;if(!Array.isArray(e))return;const r=[],o=this._textModel.getLineCount();for(const a of e){if(a.startLineNumber>=a.endLineNumber||a.startLineNumber<1||a.endLineNumber>o)continue;const l=this._getLinesChecksum(a.startLineNumber+1,a.endLineNumber);(!a.checksum||l===a.checksum)&&r.push({startLineNumber:a.startLineNumber,endLineNumber:a.endLineNumber,type:void 0,isCollapsed:(t=a.isCollapsed)!==null&&t!==void 0?t:!0,source:(i=a.source)!==null&&i!==void 0?i:0})}const s=aa.sanitizeAndMerge(this._regions,r,o);this.updatePost(aa.fromFoldRanges(s))}_getLinesChecksum(e,t){return IP(this._textModel.getLineContent(e)+this._textModel.getLineContent(t))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(e,t){const i=[];if(this._regions){let r=this._regions.findRange(e),o=1;for(;r>=0;){const s=this._regions.toRegion(r);(!t||t(s,o))&&i.push(s),o++,r=s.parentIndex}}return i}getRegionAtLine(e){if(this._regions){const t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){const i=[],r=e?e.regionIndex+1:0,o=e?e.endLineNumber:Number.MAX_VALUE;if(t&&t.length===2){const s=[];for(let a=r,l=this._regions.length;a<l;a++){const c=this._regions.toRegion(a);if(this._regions.getStartLineNumber(a)<o){for(;s.length>0&&!c.containedBy(s[s.length-1]);)s.pop();s.push(c),t(c,s.length)&&i.push(c)}else break}}else for(let s=r,a=this._regions.length;s<a;s++){const l=this._regions.toRegion(s);if(this._regions.getStartLineNumber(s)<o)(!t||t(l))&&i.push(l);else break}return i}}function ofe(n,e,t){const i=[];for(const r of t){const o=n.getRegionAtLine(r);if(o){const s=!o.isCollapsed;if(i.push(o),e>1){const a=n.getRegionsInside(o,(l,c)=>l.isCollapsed!==s&&c<e);i.push(...a)}}}n.toggleCollapseState(i)}function Ay(n,e,t=Number.MAX_VALUE,i){const r=[];if(i&&i.length>0)for(const o of i){const s=n.getRegionAtLine(o);if(s&&(s.isCollapsed!==e&&r.push(s),t>1)){const a=n.getRegionsInside(s,(l,c)=>l.isCollapsed!==e&&c<t);r.push(...a)}}else{const o=n.getRegionsInside(null,(s,a)=>s.isCollapsed!==e&&a<t);r.push(...o)}n.toggleCollapseState(r)}function sfe(n,e,t,i){const r=[];for(const o of i){const s=n.getAllRegionsAtLine(o,(a,l)=>a.isCollapsed!==e&&l<=t);r.push(...s)}n.toggleCollapseState(r)}function uje(n,e,t){const i=[];for(const r of t){const o=n.getAllRegionsAtLine(r,s=>s.isCollapsed!==e);o.length>0&&i.push(o[0])}n.toggleCollapseState(i)}function hje(n,e,t,i){const r=(s,a)=>a===e&&s.isCollapsed!==t&&!i.some(l=>s.containsLine(l)),o=n.getRegionsInside(null,r);n.toggleCollapseState(o)}function afe(n,e,t){const i=[];for(const s of t){const a=n.getAllRegionsAtLine(s,void 0);a.length>0&&i.push(a[0])}const r=s=>i.every(a=>!a.containedBy(s)&&!s.containedBy(a))&&s.isCollapsed!==e,o=n.getRegionsInside(null,r);n.toggleCollapseState(o)}function WH(n,e,t){const i=n.textModel,r=n.regions,o=[];for(let s=r.length-1;s>=0;s--)if(t!==r.isCollapsed(s)){const a=r.getStartLineNumber(s);e.test(i.getLineContent(a))&&o.push(r.toRegion(s))}n.toggleCollapseState(o)}function VH(n,e,t){const i=n.regions,r=[];for(let o=i.length-1;o>=0;o--)t!==i.isCollapsed(o)&&e===i.getType(o)&&r.push(i.toRegion(o));n.toggleCollapseState(r)}function fje(n,e){let t=null;const i=e.getRegionAtLine(n);if(i!==null&&(t=i.startLineNumber,n===t)){const r=i.parentIndex;r!==-1?t=e.regions.getStartLineNumber(r):t=null}return t}function gje(n,e){let t=e.getRegionAtLine(n);if(t!==null&&t.startLineNumber===n){if(n!==t.startLineNumber)return t.startLineNumber;{const i=t.parentIndex;let r=0;for(i!==-1&&(r=e.regions.getStartLineNumber(t.parentIndex));t!==null;)if(t.regionIndex>0){if(t=e.regions.toRegion(t.regionIndex-1),t.startLineNumber<=r)return null;if(t.parentIndex===i)return t.startLineNumber}else return null}}else if(e.regions.length>0)for(t=e.regions.toRegion(e.regions.length-1);t!==null;){if(t.startLineNumber<n)return t.startLineNumber;t.regionIndex>0?t=e.regions.toRegion(t.regionIndex-1):t=null}return null}function pje(n,e){let t=e.getRegionAtLine(n);if(t!==null&&t.startLineNumber===n){const i=t.parentIndex;let r=0;if(i!==-1)r=e.regions.getEndLineNumber(t.parentIndex);else{if(e.regions.length===0)return null;r=e.regions.getEndLineNumber(e.regions.length-1)}for(;t!==null;)if(t.regionIndex<e.regions.length){if(t=e.regions.toRegion(t.regionIndex+1),t.startLineNumber>=r)return null;if(t.parentIndex===i)return t.startLineNumber}else return null}else if(e.regions.length>0)for(t=e.regions.toRegion(0);t!==null;){if(t.startLineNumber>n)return t.startLineNumber;t.regionIndex<e.regions.length?t=e.regions.toRegion(t.regionIndex+1):t=null}return null}class mje{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(e){this._updateEventEmitter=new ne,this._hasLineChanges=!1,this._foldingModel=e,this._foldingModelListener=e.onDidChange(t=>this.updateHiddenRanges()),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(e){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=e.changes.some(t=>t.range.endLineNumber!==t.range.startLineNumber||Vg(t.text)[0]!==0))}updateHiddenRanges(){let e=!1;const t=[];let i=0,r=0,o=Number.MAX_VALUE,s=-1;const a=this._foldingModel.regions;for(;i<a.length;i++){if(!a.isCollapsed(i))continue;const l=a.getStartLineNumber(i)+1,c=a.getEndLineNumber(i);o<=l&&c<=s||(!e&&r<this._hiddenRanges.length&&this._hiddenRanges[r].startLineNumber===l&&this._hiddenRanges[r].endLineNumber===c?(t.push(this._hiddenRanges[r]),r++):(e=!0,t.push(new B(l,1,c,1))),o=l,s=c)}(this._hasLineChanges||e||r<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyHiddenRanges(e){this._hiddenRanges=e,this._hasLineChanges=!1,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return TX(this._hiddenRanges,e)!==null}adjustSelections(e){let t=!1;const i=this._foldingModel.textModel;let r=null;const o=s=>((!r||!_je(s,r))&&(r=TX(this._hiddenRanges,s)),r?r.startLineNumber-1:null);for(let s=0,a=e.length;s<a;s++){let l=e[s];const c=o(l.startLineNumber);c&&(l=l.setStartPosition(c,i.getLineMaxColumn(c)),t=!0);const d=o(l.endLineNumber);d&&(l=l.setEndPosition(d,i.getLineMaxColumn(d)),t=!0),e[s]=l}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function _je(n,e){return n>=e.startLineNumber&&n<=e.endLineNumber}function TX(n,e){const t=Z1(n,i=>e<i.startLineNumber)-1;return t>=0&&n[t].endLineNumber>=e?n[t]:null}const vje=5e3,bje="indent";class HH{constructor(e,t,i){this.editorModel=e,this.languageConfigurationService=t,this.foldingRangesLimit=i,this.id=bje}dispose(){}compute(e){const t=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,i=t&&!!t.offSide,r=t&&t.markers;return Promise.resolve(wje(this.editorModel,i,r,this.foldingRangesLimit))}}let yje=class{constructor(e){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}insertFirst(e,t,i){if(e>_c||t>_c)return;const r=this._length;this._startIndexes[r]=e,this._endIndexes[r]=t,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(e){const t=this._foldingRangesLimit.limit;if(this._length<=t){this._foldingRangesLimit.update(this._length,!1);const i=new Uint32Array(this._length),r=new Uint32Array(this._length);for(let o=this._length-1,s=0;o>=0;o--,s++)i[s]=this._startIndexes[o],r[s]=this._endIndexes[o];return new aa(i,r)}else{this._foldingRangesLimit.update(this._length,t);let i=0,r=this._indentOccurrences.length;for(let l=0;l<this._indentOccurrences.length;l++){const c=this._indentOccurrences[l];if(c){if(c+i>t){r=l;break}i+=c}}const o=e.getOptions().tabSize,s=new Uint32Array(t),a=new Uint32Array(t);for(let l=this._length-1,c=0;l>=0;l--){const d=this._startIndexes[l],u=e.getLineContent(d),h=eM(u,o);(h<r||h===r&&i++<t)&&(s[c]=d,a[c]=this._endIndexes[l],c++)}return new aa(s,a)}}};const Cje={limit:vje,update:()=>{}};function wje(n,e,t,i=Cje){const r=n.getOptions().tabSize,o=new yje(i);let s;t&&(s=new RegExp(`(${t.start.source})|(?:${t.end.source})`));const a=[],l=n.getLineCount()+1;a.push({indent:-1,endAbove:l,line:l});for(let c=n.getLineCount();c>0;c--){const d=n.getLineContent(c),u=eM(d,r);let h=a[a.length-1];if(u===-1){e&&(h.endAbove=c);continue}let f;if(s&&(f=d.match(s)))if(f[1]){let g=a.length-1;for(;g>0&&a[g].indent!==-2;)g--;if(g>0){a.length=g+1,h=a[g],o.insertFirst(c,h.line,u),h.line=c,h.indent=u,h.endAbove=c;continue}}else{a.push({indent:-2,endAbove:c,line:c});continue}if(h.indent>u){do a.pop(),h=a[a.length-1];while(h.indent>u);const g=h.endAbove-1;g-c>=1&&o.insertFirst(c,g,u)}h.indent===u?h.endAbove=c:a.push({indent:u,endAbove:c,line:c})}return o.toIndentRanges(n)}const Sje=U("editor.foldBackground",{light:Je(Hf,.3),dark:Je(Hf,.3),hcDark:null,hcLight:null},w("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);U("editorGutter.foldingControlForeground",{dark:Wd,light:Wd,hcDark:Wd,hcLight:Wd},w("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));const r2=Dn("folding-expanded",Ae.chevronDown,w("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),o2=Dn("folding-collapsed",Ae.chevronRight,w("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),lfe=Dn("folding-manual-collapsed",o2,w("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),cfe=Dn("folding-manual-expanded",r2,w("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),zH={color:cn(Sje),position:Bs.Inline},Oy=w("linesCollapsed","Click to expand the range."),s2=w("linesExpanded","Click to collapse the range.");class On{constructor(e){this.editor=e,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(e,t,i){return t?On.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?e?this.showFoldingHighlights?On.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:On.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:On.NO_CONTROLS_EXPANDED_RANGE_DECORATION:e?i?this.showFoldingHighlights?On.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:On.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?On.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:On.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?i?On.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:On.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:i?On.MANUALLY_EXPANDED_VISUAL_DECORATION:On.EXPANDED_VISUAL_DECORATION}changeDecorations(e){return this.editor.changeDecorations(e)}removeDecorations(e){this.editor.removeDecorations(e)}}On.COLLAPSED_VISUAL_DECORATION=kt.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:Oy,firstLineDecorationClassName:lt.asClassName(o2)});On.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=kt.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:zH,isWholeLine:!0,linesDecorationsTooltip:Oy,firstLineDecorationClassName:lt.asClassName(o2)});On.MANUALLY_COLLAPSED_VISUAL_DECORATION=kt.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:Oy,firstLineDecorationClassName:lt.asClassName(lfe)});On.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=kt.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:zH,isWholeLine:!0,linesDecorationsTooltip:Oy,firstLineDecorationClassName:lt.asClassName(lfe)});On.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=kt.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:Oy});On.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=kt.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:zH,isWholeLine:!0,linesDecorationsTooltip:Oy});On.EXPANDED_VISUAL_DECORATION=kt.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+lt.asClassName(r2),linesDecorationsTooltip:s2});On.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=kt.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:lt.asClassName(r2),linesDecorationsTooltip:s2});On.MANUALLY_EXPANDED_VISUAL_DECORATION=kt.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+lt.asClassName(cfe),linesDecorationsTooltip:s2});On.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=kt.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:lt.asClassName(cfe),linesDecorationsTooltip:s2});On.NO_CONTROLS_EXPANDED_RANGE_DECORATION=kt.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0});On.HIDDEN_RANGE_DECORATION=kt.register({description:"folding-hidden-range-decoration",stickiness:1});const xje={},Lje="syntax";class jH{constructor(e,t,i,r,o){this.editorModel=e,this.providers=t,this.handleFoldingRangesChange=i,this.foldingRangesLimit=r,this.fallbackRangeProvider=o,this.id=Lje,this.disposables=new xe,o&&this.disposables.add(o);for(const s of t)typeof s.onDidChange=="function"&&this.disposables.add(s.onDidChange(i))}compute(e){return kje(this.providers,this.editorModel,e).then(t=>{var i,r;return t?Tje(t,this.foldingRangesLimit):(r=(i=this.fallbackRangeProvider)===null||i===void 0?void 0:i.compute(e))!==null&&r!==void 0?r:null})}dispose(){this.disposables.dispose()}}function kje(n,e,t){let i=null;const r=n.map((o,s)=>Promise.resolve(o.provideFoldingRanges(e,xje,t)).then(a=>{if(!t.isCancellationRequested&&Array.isArray(a)){Array.isArray(i)||(i=[]);const l=e.getLineCount();for(const c of a)c.start>0&&c.end>c.start&&c.end<=l&&i.push({start:c.start,end:c.end,rank:s,kind:c.kind})}},Hn));return Promise.all(r).then(o=>i)}class Dje{constructor(e){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,i,r){if(e>_c||t>_c)return;const o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._nestingLevels[o]=r,this._types[o]=i,this._length++,r<30&&(this._nestingLevelCounts[r]=(this._nestingLevelCounts[r]||0)+1)}toIndentRanges(){const e=this._foldingRangesLimit.limit;if(this._length<=e){this._foldingRangesLimit.update(this._length,!1);const t=new Uint32Array(this._length),i=new Uint32Array(this._length);for(let r=0;r<this._length;r++)t[r]=this._startIndexes[r],i[r]=this._endIndexes[r];return new aa(t,i,this._types)}else{this._foldingRangesLimit.update(this._length,e);let t=0,i=this._nestingLevelCounts.length;for(let a=0;a<this._nestingLevelCounts.length;a++){const l=this._nestingLevelCounts[a];if(l){if(l+t>e){i=a;break}t+=l}}const r=new Uint32Array(e),o=new Uint32Array(e),s=[];for(let a=0,l=0;a<this._length;a++){const c=this._nestingLevels[a];(c<i||c===i&&t++<e)&&(r[l]=this._startIndexes[a],o[l]=this._endIndexes[a],s[l]=this._types[a],l++)}return new aa(r,o,s)}}}function Tje(n,e){const t=n.sort((s,a)=>{let l=s.start-a.start;return l===0&&(l=s.rank-a.rank),l}),i=new Dje(e);let r;const o=[];for(const s of t)if(!r)r=s,i.add(s.start,s.end,s.kind&&s.kind.value,o.length);else if(s.start>r.start)if(s.end<=r.end)o.push(r),r=s,i.add(s.start,s.end,s.kind&&s.kind.value,o.length);else{if(s.start>r.end){do r=o.pop();while(r&&s.start>r.end);r&&o.push(r),r=s}i.add(s.start,s.end,s.kind&&s.kind.value,o.length)}return i.toIndentRanges()}var Eje=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},NC=function(n,e){return function(t,i){e(t,i,n)}},T0;const lo=new je("foldingEnabled",!1);let pu=T0=class extends ce{static get(e){return e.getContribution(T0.ID)}static getFoldingRangeProviders(e,t){var i,r;const o=e.foldingRangeProvider.ordered(t);return(r=(i=T0._foldingRangeSelector)===null||i===void 0?void 0:i.call(T0,o,t))!==null&&r!==void 0?r:o}constructor(e,t,i,r,o,s){super(),this.contextKeyService=t,this.languageConfigurationService=i,this.languageFeaturesService=s,this.localToDispose=this._register(new xe),this.editor=e,this._foldingLimitReporter=new dfe(e);const a=this.editor.getOptions();this._isEnabled=a.get(43),this._useFoldingProviders=a.get(44)!=="indentation",this._unfoldOnClickAfterEndOfLine=a.get(48),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=a.get(46),this.updateDebounceInfo=o.for(s.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new On(e),this.foldingDecorationProvider.showFoldingControls=a.get(109),this.foldingDecorationProvider.showFoldingHighlights=a.get(45),this.foldingEnabled=lo.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(l=>{if(l.hasChanged(43)&&(this._isEnabled=this.editor.getOptions().get(43),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),l.hasChanged(47)&&this.onModelChanged(),l.hasChanged(109)||l.hasChanged(45)){const c=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=c.get(109),this.foldingDecorationProvider.showFoldingHighlights=c.get(45),this.triggerFoldingModelChanged()}l.hasChanged(44)&&(this._useFoldingProviders=this.editor.getOptions().get(44)!=="indentation",this.onFoldingStrategyChanged()),l.hasChanged(48)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(48)),l.hasChanged(46)&&(this._foldingImportsByDefault=this.editor.getOptions().get(46))})),this.onModelChanged()}saveViewState(){const e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){const t=this.foldingModel.getMemento(),i=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:i,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){const t=this.editor.getModel();if(!(!t||!this._isEnabled||t.isTooLargeForTokenization()||!this.hiddenRangeModel)&&e&&(this._currentModelHasFoldedImports=!!e.foldedImports,e.collapsedRegions&&e.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(e.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const e=this.editor.getModel();!this._isEnabled||!e||e.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new dje(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new mje(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(t=>this.onHiddenRangesChanges(t))),this.updateScheduler=new $l(this.updateDebounceInfo.get(e)),this.cursorChangedScheduler=new ki(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(t=>this.onDidChangeModelContent(t))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(t=>this.onEditorMouseDown(t))),this.localToDispose.add(this.editor.onMouseUp(t=>this.onEditorMouseUp(t))),this.localToDispose.add({dispose:()=>{var t,i;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),(t=this.updateScheduler)===null||t===void 0||t.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(i=this.rangeProvider)===null||i===void 0||i.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var e;(e=this.rangeProvider)===null||e===void 0||e.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;const t=new HH(e,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=t,this._useFoldingProviders&&this.foldingModel){const i=T0.getFoldingRangeProviders(this.languageFeaturesService,e);i.length>0&&(this.rangeProvider=new jH(e,i,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,t))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(e){var t;(t=this.hiddenRangeModel)===null||t===void 0||t.notifyChangeModelContent(e),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const e=this.foldingModel;if(!e)return null;const t=new ro,i=this.getRangeProvider(e.textModel),r=this.foldingRegionPromise=gr(o=>i.compute(o));return r.then(o=>{if(o&&r===this.foldingRegionPromise){let s;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const d=o.setCollapsedAllOfType(Bo.Imports.value,!0);d&&(s=Xc.capture(this.editor),this._currentModelHasFoldedImports=d)}const a=this.editor.getSelections(),l=a?a.map(d=>d.startLineNumber):[];e.update(o,l),s==null||s.restore(this.editor);const c=this.updateDebounceInfo.update(e.textModel,t.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=c)}return e})}).then(void 0,e=>(St(e),null)))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){const t=this.editor.getSelections();t&&this.hiddenRangeModel.adjustSelections(t)&&this.editor.setSelections(t)}this.editor.setHiddenAreas(e,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const e=this.getFoldingModel();e&&e.then(t=>{if(t){const i=this.editor.getSelections();if(i&&i.length>0){const r=[];for(const o of i){const s=o.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(s)&&r.push(...t.getAllRegionsAtLine(s,a=>a.isCollapsed&&s>a.startLineNumber))}r.length&&(t.toggleCollapseState(r),this.reveal(i[0].getPosition()))}}}).then(void 0,St)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range||!e.event.leftButton&&!e.event.middleButton)return;const t=e.target.range;let i=!1;switch(e.target.type){case 4:{const r=e.target.detail,o=e.target.element.offsetLeft;if(r.offsetX-o<4)return;i=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!e.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const r=this.editor.getModel();if(r&&t.startColumn===r.getLineMaxColumn(t.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:i}}onEditorMouseUp(e){const t=this.foldingModel;if(!t||!this.mouseDownInfo||!e.target)return;const i=this.mouseDownInfo.lineNumber,r=this.mouseDownInfo.iconClicked,o=e.target.range;if(!o||o.startLineNumber!==i)return;if(r){if(e.target.type!==4)return}else{const a=this.editor.getModel();if(!a||o.startColumn!==a.getLineMaxColumn(i))return}const s=t.getRegionAtLine(i);if(s&&s.startLineNumber===i){const a=s.isCollapsed;if(r||a){const l=e.event.altKey;let c=[];if(l){const d=h=>!h.containedBy(s)&&!s.containedBy(h),u=t.getRegionsInside(null,d);for(const h of u)h.isCollapsed&&c.push(h);c.length===0&&(c=u)}else{const d=e.event.middleButton||e.event.shiftKey;if(d)for(const u of t.getRegionsInside(s))u.isCollapsed===a&&c.push(u);(a||!d||c.length===0)&&c.push(s)}t.toggleCollapseState(c),this.reveal({lineNumber:i,column:1})}}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}};pu.ID="editor.contrib.folding";pu=T0=Eje([NC(1,_t),NC(2,Pi),NC(3,Rn),NC(4,dl),NC(5,qe)],pu);class dfe{constructor(e){this.editor=e,this._onDidChange=new ne,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(47)}update(e,t){(e!==this._computed||t!==this._limited)&&(this._computed=e,this._limited=t,this._onDidChange.fire())}}class ko extends $e{runEditorCommand(e,t,i){const r=e.get(Pi),o=pu.get(t);if(!o)return;const s=o.getFoldingModel();if(s)return this.reportTelemetry(e,t),s.then(a=>{if(a){this.invoke(o,a,t,i,r);const l=t.getSelection();l&&o.reveal(l.getStartPosition())}})}getSelectedLines(e){const t=e.getSelections();return t?t.map(i=>i.startLineNumber):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map(i=>i+1):this.getSelectedLines(t)}run(e,t){}}function ufe(n){if(!Ms(n)){if(!Oo(n))return!1;const e=n;if(!Ms(e.levels)&&!Ig(e.levels)||!Ms(e.direction)&&!Ho(e.direction)||!Ms(e.selectionLines)&&(!Array.isArray(e.selectionLines)||!e.selectionLines.every(Ig)))return!1}return!0}class Ije extends ko{constructor(){super({id:"editor.unfold",label:w("unfoldAction.label","Unfold"),alias:"Unfold",precondition:lo,kbOpts:{kbExpr:j.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},metadata:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:ufe,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,r){const o=r&&r.levels||1,s=this.getLineNumbers(r,i);r&&r.direction==="up"?sfe(t,!1,o,s):Ay(t,!1,o,s)}}class Nje extends ko{constructor(){super({id:"editor.unfoldRecursively",label:w("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:lo,kbOpts:{kbExpr:j.editorTextFocus,primary:Yn(2089,2142),weight:100}})}invoke(e,t,i,r){Ay(t,!1,Number.MAX_VALUE,this.getSelectedLines(i))}}class Pje extends ko{constructor(){super({id:"editor.fold",label:w("foldAction.label","Fold"),alias:"Fold",precondition:lo,kbOpts:{kbExpr:j.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},metadata:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:ufe,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,r){const o=this.getLineNumbers(r,i),s=r&&r.levels,a=r&&r.direction;typeof s!="number"&&typeof a!="string"?uje(t,!0,o):a==="up"?sfe(t,!0,s||1,o):Ay(t,!0,s||1,o)}}class Mje extends ko{constructor(){super({id:"editor.toggleFold",label:w("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:lo,kbOpts:{kbExpr:j.editorTextFocus,primary:Yn(2089,2090),weight:100}})}invoke(e,t,i){const r=this.getSelectedLines(i);ofe(t,1,r)}}class Rje extends ko{constructor(){super({id:"editor.foldRecursively",label:w("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:lo,kbOpts:{kbExpr:j.editorTextFocus,primary:Yn(2089,2140),weight:100}})}invoke(e,t,i){const r=this.getSelectedLines(i);Ay(t,!0,Number.MAX_VALUE,r)}}class Aje extends ko{constructor(){super({id:"editor.foldAllBlockComments",label:w("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:lo,kbOpts:{kbExpr:j.editorTextFocus,primary:Yn(2089,2138),weight:100}})}invoke(e,t,i,r,o){if(t.regions.hasTypes())VH(t,Bo.Comment.value,!0);else{const s=i.getModel();if(!s)return;const a=o.getLanguageConfiguration(s.getLanguageId()).comments;if(a&&a.blockCommentStartToken){const l=new RegExp("^\\s*"+xa(a.blockCommentStartToken));WH(t,l,!0)}}}}class Oje extends ko{constructor(){super({id:"editor.foldAllMarkerRegions",label:w("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:lo,kbOpts:{kbExpr:j.editorTextFocus,primary:Yn(2089,2077),weight:100}})}invoke(e,t,i,r,o){if(t.regions.hasTypes())VH(t,Bo.Region.value,!0);else{const s=i.getModel();if(!s)return;const a=o.getLanguageConfiguration(s.getLanguageId()).foldingRules;if(a&&a.markers&&a.markers.start){const l=new RegExp(a.markers.start);WH(t,l,!0)}}}}class Fje extends ko{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:w("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:lo,kbOpts:{kbExpr:j.editorTextFocus,primary:Yn(2089,2078),weight:100}})}invoke(e,t,i,r,o){if(t.regions.hasTypes())VH(t,Bo.Region.value,!1);else{const s=i.getModel();if(!s)return;const a=o.getLanguageConfiguration(s.getLanguageId()).foldingRules;if(a&&a.markers&&a.markers.start){const l=new RegExp(a.markers.start);WH(t,l,!1)}}}}class Bje extends ko{constructor(){super({id:"editor.foldAllExcept",label:w("foldAllExcept.label","Fold All Except Selected"),alias:"Fold All Except Selected",precondition:lo,kbOpts:{kbExpr:j.editorTextFocus,primary:Yn(2089,2136),weight:100}})}invoke(e,t,i){const r=this.getSelectedLines(i);afe(t,!0,r)}}class Wje extends ko{constructor(){super({id:"editor.unfoldAllExcept",label:w("unfoldAllExcept.label","Unfold All Except Selected"),alias:"Unfold All Except Selected",precondition:lo,kbOpts:{kbExpr:j.editorTextFocus,primary:Yn(2089,2134),weight:100}})}invoke(e,t,i){const r=this.getSelectedLines(i);afe(t,!1,r)}}class Vje extends ko{constructor(){super({id:"editor.foldAll",label:w("foldAllAction.label","Fold All"),alias:"Fold All",precondition:lo,kbOpts:{kbExpr:j.editorTextFocus,primary:Yn(2089,2069),weight:100}})}invoke(e,t,i){Ay(t,!0)}}class Hje extends ko{constructor(){super({id:"editor.unfoldAll",label:w("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:lo,kbOpts:{kbExpr:j.editorTextFocus,primary:Yn(2089,2088),weight:100}})}invoke(e,t,i){Ay(t,!1)}}class h_ extends ko{getFoldingLevel(){return parseInt(this.id.substr(h_.ID_PREFIX.length))}invoke(e,t,i){hje(t,this.getFoldingLevel(),!0,this.getSelectedLines(i))}}h_.ID_PREFIX="editor.foldLevel";h_.ID=n=>h_.ID_PREFIX+n;class zje extends ko{constructor(){super({id:"editor.gotoParentFold",label:w("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:lo,kbOpts:{kbExpr:j.editorTextFocus,weight:100}})}invoke(e,t,i){const r=this.getSelectedLines(i);if(r.length>0){const o=fje(r[0],t);o!==null&&i.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}}class jje extends ko{constructor(){super({id:"editor.gotoPreviousFold",label:w("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:lo,kbOpts:{kbExpr:j.editorTextFocus,weight:100}})}invoke(e,t,i){const r=this.getSelectedLines(i);if(r.length>0){const o=gje(r[0],t);o!==null&&i.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}}class Uje extends ko{constructor(){super({id:"editor.gotoNextFold",label:w("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:lo,kbOpts:{kbExpr:j.editorTextFocus,weight:100}})}invoke(e,t,i){const r=this.getSelectedLines(i);if(r.length>0){const o=pje(r[0],t);o!==null&&i.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}}class $je extends ko{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:w("createManualFoldRange.label","Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:lo,kbOpts:{kbExpr:j.editorTextFocus,primary:Yn(2089,2135),weight:100}})}invoke(e,t,i){var r;const o=[],s=i.getSelections();if(s){for(const a of s){let l=a.endLineNumber;a.endColumn===1&&--l,l>a.startLineNumber&&(o.push({startLineNumber:a.startLineNumber,endLineNumber:l,type:void 0,isCollapsed:!0,source:1}),i.setSelection({startLineNumber:a.startLineNumber,startColumn:1,endLineNumber:a.startLineNumber,endColumn:1}))}if(o.length>0){o.sort((l,c)=>l.startLineNumber-c.startLineNumber);const a=aa.sanitizeAndMerge(t.regions,o,(r=i.getModel())===null||r===void 0?void 0:r.getLineCount());t.updatePost(aa.fromFoldRanges(a))}}}}class qje extends ko{constructor(){super({id:"editor.removeManualFoldingRanges",label:w("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:lo,kbOpts:{kbExpr:j.editorTextFocus,primary:Yn(2089,2137),weight:100}})}invoke(e,t,i){const r=i.getSelections();if(r){const o=[];for(const s of r){const{startLineNumber:a,endLineNumber:l}=s;o.push(l>=a?{startLineNumber:a,endLineNumber:l}:{endLineNumber:l,startLineNumber:a})}t.removeManualRanges(o),e.triggerFoldingModelChanged()}}}li(pu.ID,pu,0);Ee(Ije);Ee(Nje);Ee(Pje);Ee(Rje);Ee(Vje);Ee(Hje);Ee(Aje);Ee(Oje);Ee(Fje);Ee(Bje);Ee(Wje);Ee(Mje);Ee(zje);Ee(jje);Ee(Uje);Ee($je);Ee(qje);for(let n=1;n<=7;n++)KDe(new h_({id:h_.ID(n),label:w("foldLevelAction.label","Fold Level {0}",n),alias:`Fold Level ${n}`,precondition:lo,kbOpts:{kbExpr:j.editorTextFocus,primary:Yn(2089,2048|21+n),weight:100}}));Gt.registerCommand("_executeFoldingRangeProvider",async function(n,...e){const[t]=e;if(!(t instanceof rt))throw Qa();const i=n.get(qe),r=n.get(Ji).getModel(t);if(!r)throw Qa();const o=n.get(jt);if(!o.getValue("editor.folding",{resource:t}))return[];const s=n.get(Pi),a=o.getValue("editor.foldingStrategy",{resource:t}),l={get limit(){return o.getValue("editor.foldingMaximumRegions",{resource:t})},update:(f,g)=>{}},c=new HH(r,s,l);let d=c;if(a!=="indentation"){const f=pu.getFoldingRangeProviders(i,r);f.length&&(d=new jH(r,f,()=>{},l,c))}const u=await d.compute(Ht.None),h=[];try{if(u)for(let f=0;f<u.length;f++){const g=u.getType(f);h.push({start:u.getStartLineNumber(f),end:u.getEndLineNumber(f),kind:g?Bo.fromValue(g):void 0})}return h}finally{d.dispose()}});class Kje extends $e{constructor(){super({id:"editor.action.fontZoomIn",label:w("EditorFontZoomIn.label","Increase Editor Font Size"),alias:"Increase Editor Font Size",precondition:void 0})}run(e,t){za.setZoomLevel(za.getZoomLevel()+1)}}class Gje extends $e{constructor(){super({id:"editor.action.fontZoomOut",label:w("EditorFontZoomOut.label","Decrease Editor Font Size"),alias:"Decrease Editor Font Size",precondition:void 0})}run(e,t){za.setZoomLevel(za.getZoomLevel()-1)}}class Zje extends $e{constructor(){super({id:"editor.action.fontZoomReset",label:w("EditorFontZoomReset.label","Reset Editor Font Size"),alias:"Reset Editor Font Size",precondition:void 0})}run(e,t){za.setZoomLevel(0)}}Ee(Kje);Ee(Gje);Ee(Zje);var hfe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},i1=function(n,e){return function(t,i){e(t,i,n)}};let KS=class{constructor(e,t,i,r){this._editor=e,this._languageFeaturesService=t,this._workerService=i,this._audioCueService=r,this._disposables=new xe,this._sessionDisposables=new xe,this._disposables.add(t.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(o=>{o.hasChanged(56)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(56)||!this._editor.hasModel())return;const e=this._editor.getModel(),[t]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;const i=new GE;for(const r of t.autoFormatTriggerCharacters)i.add(r.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(r=>{const o=r.charCodeAt(r.length-1);i.has(o)&&this._trigger(String.fromCharCode(o))}))}_trigger(e){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const t=this._editor.getModel(),i=this._editor.getPosition(),r=new Pn,o=this._editor.onDidChangeModelContent(s=>{if(s.isFlush){r.cancel(),o.dispose();return}for(let a=0,l=s.changes.length;a<l;a++)if(s.changes[a].range.endLineNumber<=i.lineNumber){r.cancel(),o.dispose();return}});uue(this._workerService,this._languageFeaturesService,t,i,e,t.getFormattingOptions(),r.token).then(s=>{r.token.isCancellationRequested||io(s)&&(this._audioCueService.playAudioCue(Pt.format,{userGesture:!1}),qb.execute(this._editor,s,!0))}).finally(()=>{o.dispose()})}};KS.ID="editor.contrib.autoFormat";KS=hfe([i1(1,qe),i1(2,Xl),i1(3,mp)],KS);let GS=class{constructor(e,t,i){this.editor=e,this._languageFeaturesService=t,this._instantiationService=i,this._callOnDispose=new xe,this._callOnModel=new xe,this._callOnDispose.add(e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(t.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(55)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:e})=>this._trigger(e)))}_trigger(e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(due,this.editor,e,2,mh.None,Ht.None,!1).catch(St))}};GS.ID="editor.contrib.formatOnPaste";GS=hfe([i1(1,qe),i1(2,dt)],GS);class Yje extends $e{constructor(){super({id:"editor.action.formatDocument",label:w("formatDocument.label","Format Document"),alias:"Format Document",precondition:we.and(j.notInCompositeEditor,j.writable,j.hasDocumentFormattingProvider),kbOpts:{kbExpr:j.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}async run(e,t){if(t.hasModel()){const i=e.get(dt);await e.get(pp).showWhile(i.invokeFunction(_We,t,1,mh.None,Ht.None,!0),250)}}}class Xje extends $e{constructor(){super({id:"editor.action.formatSelection",label:w("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:we.and(j.writable,j.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:j.editorTextFocus,primary:Yn(2089,2084),weight:100},contextMenuOpts:{when:j.hasNonEmptySelection,group:"1_modification",order:1.31}})}async run(e,t){if(!t.hasModel())return;const i=e.get(dt),r=t.getModel(),o=t.getSelections().map(a=>a.isEmpty()?new B(a.startLineNumber,1,a.startLineNumber,r.getLineMaxColumn(a.startLineNumber)):a);await e.get(pp).showWhile(i.invokeFunction(due,t,o,1,mh.None,Ht.None,!0),250)}}li(KS.ID,KS,2);li(GS.ID,GS,2);Ee(Yje);Ee(Xje);Gt.registerCommand("editor.action.format",async n=>{const e=n.get(ai).getFocusedCodeEditor();if(!e||!e.hasModel())return;const t=n.get(fn);e.getSelection().isEmpty()?await t.executeCommand("editor.action.formatDocument"):await t.executeCommand("editor.action.formatSelection")});var Qje=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},YO=function(n,e){return function(t,i){e(t,i,n)}};class fv{remove(){var e;(e=this.parent)===null||e===void 0||e.children.delete(this.id)}static findId(e,t){let i;typeof e=="string"?i=`${t.id}/${e}`:(i=`${t.id}/${e.name}`,t.children.get(i)!==void 0&&(i=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let r=i;for(let o=0;t.children.get(r)!==void 0;o++)r=`${i}_${o}`;return r}static empty(e){return e.children.size===0}}class j8 extends fv{constructor(e,t,i){super(),this.id=e,this.parent=t,this.symbol=i,this.children=new Map}}class ffe extends fv{constructor(e,t,i,r){super(),this.id=e,this.parent=t,this.label=i,this.order=r,this.children=new Map}}class Uu extends fv{static create(e,t,i){const r=new Pn(i),o=new Uu(t.uri),s=e.ordered(t),a=s.map((c,d)=>{var u;const h=fv.findId(`provider_${d}`,o),f=new ffe(h,o,(u=c.displayName)!==null&&u!==void 0?u:"Unknown Outline Provider",d);return Promise.resolve(c.provideDocumentSymbols(t,r.token)).then(g=>{for(const _ of g||[])Uu._makeOutlineElement(_,f);return f},g=>(Hn(g),f)).then(g=>{fv.empty(g)?g.remove():o._groups.set(h,g)})}),l=e.onDidChange(()=>{const c=e.ordered(t);vn(c,s)||r.cancel()});return Promise.all(a).then(()=>r.token.isCancellationRequested&&!i.isCancellationRequested?Uu.create(e,t,i):o._compact()).finally(()=>{r.dispose(),l.dispose(),r.dispose()})}static _makeOutlineElement(e,t){const i=fv.findId(e,t),r=new j8(i,t,e);if(e.children)for(const o of e.children)Uu._makeOutlineElement(o,r);t.children.set(r.id,r)}constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let e=0;for(const[t,i]of this._groups)i.children.size===0?this._groups.delete(t):e+=1;if(e!==1)this.children=this._groups;else{const t=Kt.first(this._groups.values());for(const[,i]of t.children)i.parent=this,this.children.set(i.id,i)}return this}getTopLevelSymbols(){const e=[];for(const t of this.children.values())t instanceof j8?e.push(t.symbol):e.push(...Kt.map(t.children.values(),i=>i.symbol));return e.sort((t,i)=>B.compareRangesUsingStarts(t.range,i.range))}asListOfDocumentSymbols(){const e=this.getTopLevelSymbols(),t=[];return Uu._flattenDocumentSymbols(t,e,""),t.sort((i,r)=>re.compare(B.getStartPosition(i.range),B.getStartPosition(r.range))||re.compare(B.getEndPosition(r.range),B.getEndPosition(i.range)))}static _flattenDocumentSymbols(e,t,i){for(const r of t)e.push({kind:r.kind,tags:r.tags,name:r.name,detail:r.detail,containerName:r.containerName||i,range:r.range,selectionRange:r.selectionRange,children:void 0}),r.children&&Uu._flattenDocumentSymbols(e,r.children,r.name)}}const _L=zt("IOutlineModelService");let U8=class{constructor(e,t,i){this._languageFeaturesService=e,this._disposables=new xe,this._cache=new hp(10,.7),this._debounceInformation=t.for(e.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(i.onModelRemoved(r=>{this._cache.delete(r.id)}))}dispose(){this._disposables.dispose()}async getOrCreate(e,t){const i=this._languageFeaturesService.documentSymbolProvider,r=i.ordered(e);let o=this._cache.get(e.id);if(!o||o.versionId!==e.getVersionId()||!vn(o.provider,r)){const a=new Pn;o={versionId:e.getVersionId(),provider:r,promiseCnt:0,source:a,promise:Uu.create(i,e,a.token),model:void 0},this._cache.set(e.id,o);const l=Date.now();o.promise.then(c=>{o.model=c,this._debounceInformation.update(e,Date.now()-l)}).catch(c=>{this._cache.delete(e.id)})}if(o.model)return o.model;o.promiseCnt+=1;const s=t.onCancellationRequested(()=>{--o.promiseCnt===0&&(o.source.cancel(),this._cache.delete(e.id))});try{return await o.promise}finally{s.dispose()}}};U8=Qje([YO(0,qe),YO(1,dl),YO(2,Ji)],U8);Yt(_L,U8,1);Gt.registerCommand("_executeDocumentSymbolProvider",async function(n,...e){const[t]=e;Ci(rt.isUri(t));const i=n.get(_L),o=await n.get(Cs).createModelReference(t);try{return(await i.getOrCreate(o.object.textEditorModel,Ht.None)).getTopLevelSymbols()}finally{o.dispose()}});class xr extends ce{constructor(e,t){super(),this.contextKeyService=e,this.model=t,this.inlineCompletionVisible=xr.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=xr.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=xr.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=xr.suppressSuggestions.bindTo(this.contextKeyService),this._register(hi(i=>{const r=this.model.read(i),o=r==null?void 0:r.state.read(i),s=!!(o!=null&&o.inlineCompletion)&&(o==null?void 0:o.ghostText)!==void 0&&!(o!=null&&o.ghostText.isEmpty());this.inlineCompletionVisible.set(s),o!=null&&o.ghostText&&(o!=null&&o.inlineCompletion)&&this.suppressSuggestions.set(o.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register(hi(i=>{const r=this.model.read(i);let o=!1,s=!0;const a=r==null?void 0:r.ghostText.read(i);if(r!=null&&r.selectedSuggestItem&&a&&a.parts.length>0){const{column:l,lines:c}=a.parts[0],d=c[0],u=r.textModel.getLineIndentColumn(a.lineNumber);if(l<=u){let f=xo(d);f===-1&&(f=d.length-1),o=f>0;const g=r.textModel.getOptions().tabSize;s=ir.visibleColumnFromColumn(d,f+1,g)<g}}this.inlineCompletionSuggestsIndentation.set(o),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(s)}))}}xr.inlineSuggestionVisible=new je("inlineSuggestionVisible",!1,w("inlineSuggestionVisible","Whether an inline suggestion is visible"));xr.inlineSuggestionHasIndentation=new je("inlineSuggestionHasIndentation",!1,w("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace"));xr.inlineSuggestionHasIndentationLessThanTabSize=new je("inlineSuggestionHasIndentationLessThanTabSize",!0,w("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab"));xr.suppressSuggestions=new je("inlineSuggestionSuppressSuggestions",void 0,w("suppressSuggestions","Whether suggestions should be suppressed for the current suggestion"));function Jje(n,e){const t=new eUe(n),i=e.map(r=>{const o=B.lift(r.range);return{startOffset:t.getOffset(o.getStartPosition()),endOffset:t.getOffset(o.getEndPosition()),text:r.text}});i.sort((r,o)=>o.startOffset-r.startOffset);for(const r of i)n=n.substring(0,r.startOffset)+r.text+n.substring(r.endOffset);return n}class eUe{constructor(e){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)e.charAt(t)===`
`&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}}const tUe=[];function iUe(){return tUe}class nUe{constructor(e,t){if(this.startColumn=e,this.endColumnExclusive=t,e>t)throw new Xi(`startColumn ${e} cannot be after endColumnExclusive ${t}`)}toRange(e){return new B(e,this.startColumn,e,this.endColumnExclusive)}equals(e){return this.startColumn===e.startColumn&&this.endColumnExclusive===e.endColumnExclusive}}function rUe(n,e){const t=new xe,i=n.createDecorationsCollection();return t.add(EM({debugName:()=>`Apply decorations from ${e.debugName}`},r=>{const o=e.read(r);i.set(o)})),t.add({dispose:()=>{i.clear()}}),t}function $8(n,e){return new re(n.lineNumber+e.lineNumber-1,e.lineNumber===1?n.column+e.column-1:e.column)}function q8(n){let e=1,t=1;for(const i of n)i===`
`?(e++,t=1):t++;return new re(e,t)}class CN{constructor(e,t){this.lineNumber=e,this.parts=t}equals(e){return this.lineNumber===e.lineNumber&&this.parts.length===e.parts.length&&this.parts.every((t,i)=>t.equals(e.parts[i]))}renderForScreenReader(e){if(this.parts.length===0)return"";const t=this.parts[this.parts.length-1],i=e.substr(0,t.column-1);return Jje(i,this.parts.map(o=>({range:{startLineNumber:1,endLineNumber:1,startColumn:o.column,endColumn:o.column},text:o.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(e=>e.lines.length===0)}get lineCount(){return 1+this.parts.reduce((e,t)=>e+t.lines.length-1,0)}}class K8{constructor(e,t,i){this.column=e,this.lines=t,this.preview=i}equals(e){return this.column===e.column&&this.lines.length===e.lines.length&&this.lines.every((t,i)=>t===e.lines[i])}}class G8{constructor(e,t,i,r=0){this.lineNumber=e,this.columnRange=t,this.newLines=i,this.additionalReservedLineCount=r,this.parts=[new K8(this.columnRange.endColumnExclusive,this.newLines,!1)]}renderForScreenReader(e){return this.newLines.join(`
`)}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every(e=>e.lines.length===0)}equals(e){return this.lineNumber===e.lineNumber&&this.columnRange.equals(e.columnRange)&&this.newLines.length===e.newLines.length&&this.newLines.every((t,i)=>t===e.newLines[i])&&this.additionalReservedLineCount===e.additionalReservedLineCount}}function EX(n,e){return n===e?!0:!n||!e?!1:n instanceof CN&&e instanceof CN||n instanceof G8&&e instanceof G8?n.equals(e):!1}var oUe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},sUe=function(n,e){return function(t,i){e(t,i,n)}};const IX="ghost-text";let Z8=class extends ce{constructor(e,t,i){super(),this.editor=e,this.model=t,this.languageService=i,this.isDisposed=si(this,!1),this.currentTextModel=dn(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=It(this,r=>{if(this.isDisposed.read(r))return;const o=this.currentTextModel.read(r);if(o!==this.model.targetTextModel.read(r))return;const s=this.model.ghostText.read(r);if(!s)return;const a=s instanceof G8?s.columnRange:void 0,l=[],c=[];function d(_,y){if(c.length>0){const m=c[c.length-1];y&&m.decorations.push(new As(m.content.length+1,m.content.length+1+_[0].length,y,0)),m.content+=_[0],_=_.slice(1)}for(const m of _)c.push({content:m,decorations:y?[new As(1,m.length+1,y,0)]:[]})}const u=o.getLineContent(s.lineNumber);let h,f=0;for(const _ of s.parts){let y=_.lines;h===void 0?(l.push({column:_.column,text:y[0],preview:_.preview}),y=y.slice(1)):d([u.substring(f,_.column-1)],void 0),y.length>0&&(d(y,IX),h===void 0&&_.column<=u.length&&(h=_.column)),f=_.column-1}h!==void 0&&d([u.substring(f)],void 0);const g=h!==void 0?new nUe(h,u.length+1):void 0;return{replacedRange:a,inlineTexts:l,additionalLines:c,hiddenRange:g,lineNumber:s.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(r),targetTextModel:o}}),this.decorations=It(this,r=>{const o=this.uiState.read(r);if(!o)return[];const s=[];o.replacedRange&&s.push({range:o.replacedRange.toRange(o.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),o.hiddenRange&&s.push({range:o.hiddenRange.toRange(o.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(const a of o.inlineTexts)s.push({range:B.fromPositions(new re(o.lineNumber,a.column)),options:{description:IX,after:{content:a.text,inlineClassName:a.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:Tc.Left},showIfCollapsed:!0}});return s}),this.additionalLinesWidget=this._register(new aUe(this.editor,this.languageService.languageIdCodec,It(r=>{const o=this.uiState.read(r);return o?{lineNumber:o.lineNumber,additionalLines:o.additionalLines,minReservedLineCount:o.additionalReservedLineCount,targetTextModel:o.targetTextModel}:void 0}))),this._register(at(()=>{this.isDisposed.set(!0,void 0)})),this._register(rUe(this.editor,this.decorations))}ownsViewZone(e){return this.additionalLinesWidget.viewZoneId===e}};Z8=oUe([sUe(2,Zi)],Z8);class aUe extends ce{get viewZoneId(){return this._viewZoneId}constructor(e,t,i){super(),this.editor=e,this.languageIdCodec=t,this.lines=i,this._viewZoneId=void 0,this.editorOptionsChanged=ha("editorOptionChanged",Ve.filter(this.editor.onDidChangeConfiguration,r=>r.hasChanged(33)||r.hasChanged(116)||r.hasChanged(98)||r.hasChanged(93)||r.hasChanged(51)||r.hasChanged(50)||r.hasChanged(66))),this._register(hi(r=>{const o=this.lines.read(r);this.editorOptionsChanged.read(r),o?this.updateLines(o.lineNumber,o.additionalLines,o.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones(e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(e,t,i){const r=this.editor.getModel();if(!r)return;const{tabSize:o}=r.getOptions();this.editor.changeViewZones(s=>{this._viewZoneId&&(s.removeZone(this._viewZoneId),this._viewZoneId=void 0);const a=Math.max(t.length,i);if(a>0){const l=document.createElement("div");lUe(l,o,t,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=s.addZone({afterLineNumber:e,heightInLines:a,domNode:l,afterColumnAffinity:1})}})}}function lUe(n,e,t,i,r){const o=i.get(33),s=i.get(116),a="none",l=i.get(93),c=i.get(51),d=i.get(50),u=i.get(66),h=new Cy(1e4);h.appendString('<div class="suggest-preview-text">');for(let _=0,y=t.length;_<y;_++){const m=t[_],p=m.content;h.appendString('<div class="view-line'),h.appendString('" style="top:'),h.appendString(String(_*u)),h.appendString('px;width:1000000px;">');const v=Ax(p),b=bb(p),C=ur.createEmpty(p,r);Wx(new fp(d.isMonospace&&!o,d.canUseHalfwidthRightwardsArrow,p,!1,v,b,0,C,m.decorations,e,0,d.spaceWidth,d.middotWidth,d.wsmiddotWidth,s,a,l,c!==da.OFF,null),h),h.appendString("</div>")}h.appendString("</div>"),Ur(n,d);const f=h.build(),g=NX?NX.createHTML(f):f;n.innerHTML=g}const NX=Fh("editorGhostText",{createHTML:n=>n});function cUe(n,e){const t=new Yle,i=new Qle(t,c=>e.getLanguageConfiguration(c)),r=new Xle(new dUe([n]),i),o=c3(r,[],void 0,!0);let s="";const a=n.getLineContent();function l(c,d){if(c.kind===2)if(l(c.openingBracket,d),d=un(d,c.openingBracket.length),c.child&&(l(c.child,d),d=un(d,c.child.length)),c.closingBracket)l(c.closingBracket,d),d=un(d,c.closingBracket.length);else{const h=i.getSingleLanguageBracketTokens(c.openingBracket.languageId).findClosingTokenText(c.openingBracket.bracketIds);s+=h}else if(c.kind!==3){if(c.kind===0||c.kind===1)s+=a.substring(d,un(d,c.length));else if(c.kind===4)for(const u of c.children)l(u,d),d=un(d,u.length)}}return l(o,Wo),s}class dUe{constructor(e){this.lines=e,this.tokenization={getLineTokens:t=>this.lines[t-1]}}getLineCount(){return this.lines.length}getLineLength(e){return this.lines[e-1].getLineContent().length}}async function uUe(n,e,t,i,r=Ht.None,o){const s=gUe(e,t),a=n.all(t),l=new x6;for(const m of a)m.groupId&&l.add(m.groupId,m);function c(m){if(!m.yieldsToGroupIds)return[];const p=[];for(const v of m.yieldsToGroupIds||[]){const b=l.get(v);for(const C of b)p.push(C)}return p}const d=new Map,u=new Set;function h(m,p){if(p=[...p,m],u.has(m))return p;u.add(m);try{const v=c(m);for(const b of v){const C=h(b,p);if(C)return C}}finally{u.delete(m)}}function f(m){const p=d.get(m);if(p)return p;const v=h(m,[]);v&&Hn(new Error(`Inline completions: cyclic yield-to dependency detected. Path: ${v.map(C=>C.toString?C.toString():""+C).join(" -> ")}`));const b=new EP;return d.set(m,b.p),(async()=>{if(!v){const C=c(m);for(const S of C){const x=await f(S);if(x&&x.items.length>0)return}}try{return await m.provideInlineCompletions(t,e,i,r)}catch(C){Hn(C);return}})().then(C=>b.complete(C),C=>b.error(C)),b.p}const g=await Promise.all(a.map(async m=>({provider:m,completions:await f(m)}))),_=new Map,y=[];for(const m of g){const p=m.completions;if(!p)continue;const v=new fUe(p,m.provider);y.push(v);for(const b of p.items){const C=wN.from(b,v,s,t,o);_.set(C.hash(),C)}}return new hUe(Array.from(_.values()),new Set(_.keys()),y)}class hUe{constructor(e,t,i){this.completions=e,this.hashs=t,this.providerResults=i}has(e){return this.hashs.has(e.hash())}dispose(){for(const e of this.providerResults)e.removeRef()}}class fUe{constructor(e,t){this.inlineCompletions=e,this.provider=t,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}}class wN{static from(e,t,i,r,o){let s,a,l=e.range?B.lift(e.range):i;if(typeof e.insertText=="string"){if(s=e.insertText,o&&e.completeBracketPairs){s=PX(s,l.getStartPosition(),r,o);const c=s.length-e.insertText.length;c!==0&&(l=new B(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn+c))}a=void 0}else if("snippet"in e.insertText){const c=e.insertText.snippet.length;if(o&&e.completeBracketPairs){e.insertText.snippet=PX(e.insertText.snippet,l.getStartPosition(),r,o);const u=e.insertText.snippet.length-c;u!==0&&(l=new B(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn+u))}const d=new o_().parse(e.insertText.snippet);d.children.length===1&&d.children[0]instanceof Ao?(s=d.children[0].value,a=void 0):(s=d.toString(),a={snippet:e.insertText.snippet,range:l})}else DP(e.insertText);return new wN(s,e.command,l,s,a,e.additionalTextEdits||iUe(),e,t)}constructor(e,t,i,r,o,s,a,l){this.filterText=e,this.command=t,this.range=i,this.insertText=r,this.snippetInfo=o,this.additionalTextEdits=s,this.sourceInlineCompletion=a,this.source=l,e=e.replace(/\r\n|\r/g,`
`),r=e.replace(/\r\n|\r/g,`
`)}withRange(e){return new wN(this.filterText,this.command,e,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}}function gUe(n,e){const t=e.getWordAtPosition(n),i=e.getLineMaxColumn(n.lineNumber);return t?new B(n.lineNumber,t.startColumn,n.lineNumber,i):B.fromPositions(n,n.with(void 0,i))}function PX(n,e,t,i){const o=t.getLineContent(e.lineNumber).substring(0,e.column-1)+n,s=t.tokenization.tokenizeLineWithEdit(e,o.length-(e.column-1),n),a=s==null?void 0:s.sliceAndInflate(e.column-1,o.length,0);return a?cUe(a,i):n}class ey{constructor(e,t){this.range=e,this.text=t}removeCommonPrefix(e,t){const i=t?this.range.intersectRanges(t):this.range;if(!i)return this;const r=e.getValueInRange(i,1),o=jm(r,this.text),s=$8(this.range.getStartPosition(),q8(r.substring(0,o))),a=this.text.substring(o),l=B.fromPositions(s,this.range.getEndPosition());return new ey(l,a)}augments(e){return this.text.startsWith(e.text)&&pUe(this.range,e.range)}computeGhostText(e,t,i,r=0){let o=this.removeCommonPrefix(e);if(o.range.endLineNumber!==o.range.startLineNumber)return;const s=e.getLineContent(o.range.startLineNumber),a=Ti(s).length;if(o.range.startColumn-1<=a){const g=Ti(o.text).length,_=s.substring(o.range.startColumn-1,a),[y,m]=[o.range.getStartPosition(),o.range.getEndPosition()],p=y.column+_.length<=m.column?y.delta(0,_.length):m,v=B.fromPositions(p,m),b=o.text.startsWith(_)?o.text.substring(_.length):o.text.substring(g);o=new ey(v,b)}const c=e.getValueInRange(o.range),d=mUe(c,o.text);if(!d)return;const u=o.range.startLineNumber,h=new Array;if(t==="prefix"){const g=d.filter(_=>_.originalLength===0);if(g.length>1||g.length===1&&g[0].originalStart!==c.length)return}const f=o.text.length-r;for(const g of d){const _=o.range.startColumn+g.originalStart+g.originalLength;if(t==="subwordSmart"&&i&&i.lineNumber===o.range.startLineNumber&&_<i.column||g.originalLength>0)return;if(g.modifiedLength===0)continue;const y=g.modifiedStart+g.modifiedLength,m=Math.max(g.modifiedStart,Math.min(y,f)),p=o.text.substring(g.modifiedStart,m),v=o.text.substring(m,Math.max(g.modifiedStart,y));if(p.length>0){const b=su(p);h.push(new K8(_,b,!1))}if(v.length>0){const b=su(v);h.push(new K8(_,b,!0))}}return new CN(u,h)}}function pUe(n,e){return e.getStartPosition().equals(n.getStartPosition())&&e.getEndPosition().isBeforeOrEqual(n.getEndPosition())}let md;function mUe(n,e){if((md==null?void 0:md.originalValue)===n&&(md==null?void 0:md.newValue)===e)return md==null?void 0:md.changes;{let t=RX(n,e,!0);if(t){const i=MX(t);if(i>0){const r=RX(n,e,!1);r&&MX(r)<i&&(t=r)}}return md={originalValue:n,newValue:e,changes:t},t}}function MX(n){let e=0;for(const t of n)e+=t.originalLength;return e}function RX(n,e,t){if(n.length>5e3||e.length>5e3)return;function i(c){let d=0;for(let u=0,h=c.length;u<h;u++){const f=c.charCodeAt(u);f>d&&(d=f)}return d}const r=Math.max(i(n),i(e));function o(c){if(c<0)throw new Error("unexpected");return r+c+1}function s(c){let d=0,u=0;const h=new Int32Array(c.length);for(let f=0,g=c.length;f<g;f++)if(t&&c[f]==="("){const _=u*100+d;h[f]=o(2*_),d++}else if(t&&c[f]===")"){d=Math.max(d-1,0);const _=u*100+d;h[f]=o(2*_+1),d===0&&u++}else h[f]=c.charCodeAt(f);return h}const a=s(n),l=s(e);return new Id({getElements:()=>a},{getElements:()=>l}).ComputeDiff(!1).changes}var _Ue=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},AX=function(n,e){return function(t,i){e(t,i,n)}};let Y8=class extends ce{constructor(e,t,i,r,o){super(),this.textModel=e,this.versionId=t,this._debounceValue=i,this.languageFeaturesService=r,this.languageConfigurationService=o,this._updateOperation=this._register(new Lr),this.inlineCompletions=QI("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=QI("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(e,t,i){var r,o;const s=new bUe(e,t,this.textModel.getVersionId()),a=t.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(!((r=this._updateOperation.value)===null||r===void 0)&&r.request.satisfies(s))return this._updateOperation.value.promise;if(!((o=a.get())===null||o===void 0)&&o.request.satisfies(s))return Promise.resolve(!0);const l=!!this._updateOperation.value;this._updateOperation.clear();const c=new Pn,d=(async()=>{if((l||t.triggerKind===fh.Automatic)&&await vUe(this._debounceValue.get(this.textModel)),c.token.isCancellationRequested||this.textModel.getVersionId()!==s.versionId)return!1;const f=new Date,g=await uUe(this.languageFeaturesService.inlineCompletionsProvider,e,this.textModel,t,c.token,this.languageConfigurationService);if(c.token.isCancellationRequested||this.textModel.getVersionId()!==s.versionId)return!1;const _=new Date;this._debounceValue.update(this.textModel,_.getTime()-f.getTime());const y=new wUe(g,s,this.textModel,this.versionId);if(i){const m=i.toInlineCompletion(void 0);i.canBeReused(this.textModel,e)&&!g.has(m)&&y.prepend(i.inlineCompletion,m.range,!0)}return this._updateOperation.clear(),Vi(m=>{a.set(y,m)}),!0})(),u=new CUe(s,c,d);return this._updateOperation.value=u,d}clear(e){this._updateOperation.clear(),this.inlineCompletions.set(void 0,e),this.suggestWidgetInlineCompletions.set(void 0,e)}clearSuggestWidgetInlineCompletions(e){var t;!((t=this._updateOperation.value)===null||t===void 0)&&t.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,e)}cancelUpdate(){this._updateOperation.clear()}};Y8=_Ue([AX(3,qe),AX(4,Pi)],Y8);function vUe(n,e){return new Promise(t=>{let i;const r=setTimeout(()=>{i&&i.dispose(),t()},n);e&&(i=e.onCancellationRequested(()=>{clearTimeout(r),i&&i.dispose(),t()}))})}class bUe{constructor(e,t,i){this.position=e,this.context=t,this.versionId=i}satisfies(e){return this.position.equals(e.position)&&yUe(this.context.selectedSuggestionInfo,e.context.selectedSuggestionInfo,(t,i)=>t.equals(i))&&(e.context.triggerKind===fh.Automatic||this.context.triggerKind===fh.Explicit)&&this.versionId===e.versionId}}function yUe(n,e,t){return!n||!e?n===e:t(n,e)}class CUe{constructor(e,t,i){this.request=e,this.cancellationTokenSource=t,this.promise=i}dispose(){this.cancellationTokenSource.cancel()}}class wUe{get inlineCompletions(){return this._inlineCompletions}constructor(e,t,i,r){this.inlineCompletionProviderResult=e,this.request=t,this.textModel=i,this.versionId=r,this._refCount=1,this._prependedInlineCompletionItems=[],this._rangeVersionIdValue=0,this._rangeVersionId=It(this,s=>{this.versionId.read(s);let a=!1;for(const l of this._inlineCompletions)a=a||l._updateRange(this.textModel);return a&&this._rangeVersionIdValue++,this._rangeVersionIdValue});const o=i.deltaDecorations([],e.completions.map(s=>({range:s.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=e.completions.map((s,a)=>new OX(s,o[a],this._rangeVersionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,this._refCount===0){setTimeout(()=>{this.textModel.isDisposed()||this.textModel.deltaDecorations(this._inlineCompletions.map(e=>e.decorationId),[])},0),this.inlineCompletionProviderResult.dispose();for(const e of this._prependedInlineCompletionItems)e.source.removeRef()}}prepend(e,t,i){i&&e.source.addRef();const r=this.textModel.deltaDecorations([],[{range:t,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new OX(e,r,this._rangeVersionId,t)),this._prependedInlineCompletionItems.push(e)}}class OX{get forwardStable(){var e;return(e=this.inlineCompletion.source.inlineCompletions.enableForwardStability)!==null&&e!==void 0?e:!1}constructor(e,t,i,r){this.inlineCompletion=e,this.decorationId=t,this.rangeVersion=i,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._isValid=!0,this._updatedRange=r??e.range}toInlineCompletion(e){return this.inlineCompletion.withRange(this._getUpdatedRange(e))}toSingleTextEdit(e){return new ey(this._getUpdatedRange(e),this.inlineCompletion.insertText)}isVisible(e,t,i){const r=this._toFilterTextReplacement(i).removeCommonPrefix(e);if(!this._isValid||!this.inlineCompletion.range.getStartPosition().equals(this._getUpdatedRange(i).getStartPosition())||t.lineNumber!==r.range.startLineNumber)return!1;const o=e.getValueInRange(r.range,1),s=r.text,a=Math.max(0,t.column-r.range.startColumn);let l=s.substring(0,a),c=s.substring(a),d=o.substring(0,a),u=o.substring(a);const h=e.getLineIndentColumn(r.range.startLineNumber);return r.range.startColumn<=h&&(d=d.trimStart(),d.length===0&&(u=u.trimStart()),l=l.trimStart(),l.length===0&&(c=c.trimStart())),l.startsWith(d)&&!!Ace(u,c)}canBeReused(e,t){return this._isValid&&this._getUpdatedRange(void 0).containsPosition(t)&&this.isVisible(e,t,void 0)&&!this._isSmallerThanOriginal(void 0)}_toFilterTextReplacement(e){return new ey(this._getUpdatedRange(e),this.inlineCompletion.filterText)}_isSmallerThanOriginal(e){return FX(this._getUpdatedRange(e)).isBefore(FX(this.inlineCompletion.range))}_getUpdatedRange(e){return this.rangeVersion.read(e),this._updatedRange}_updateRange(e){const t=e.getDecorationRange(this.decorationId);return t?this._updatedRange.equalsRange(t)?!1:(this._updatedRange=t,!0):(this._isValid=!1,!0)}}function FX(n){return n.startLineNumber===n.endLineNumber?new re(1,1+n.endColumn-n.startColumn):new re(1+n.endLineNumber-n.startLineNumber,n.endColumn)}const Nt={Visible:FH,HasFocusedSuggestion:new je("suggestWidgetHasFocusedSuggestion",!1,w("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new je("suggestWidgetDetailsVisible",!1,w("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new je("suggestWidgetMultipleSuggestions",!1,w("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new je("suggestionMakesTextEdit",!0,w("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new je("acceptSuggestionOnEnter",!0,w("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new je("suggestionHasInsertAndReplaceRange",!1,w("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new je("suggestionInsertMode",void 0,{type:"string",description:w("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new je("suggestionCanResolve",!1,w("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},wg=new H("suggestWidgetStatusBar");class SUe{constructor(e,t,i,r){var o;this.position=e,this.completion=t,this.container=i,this.provider=r,this.isInvalid=!1,this.score=Bc.Default,this.distance=0,this.textLabel=typeof t.label=="string"?t.label:(o=t.label)===null||o===void 0?void 0:o.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),this.extensionId=t.extensionId,B.isIRange(t.range)?(this.editStart=new re(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new re(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new re(t.range.endLineNumber,t.range.endColumn),this.isInvalid=this.isInvalid||B.spansMultipleLines(t.range)||t.range.startLineNumber!==e.lineNumber):(this.editStart=new re(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new re(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new re(t.range.replace.endLineNumber,t.range.replace.endColumn),this.isInvalid=this.isInvalid||B.spansMultipleLines(t.range.insert)||B.spansMultipleLines(t.range.replace)||t.range.insert.startLineNumber!==e.lineNumber||t.range.replace.startLineNumber!==e.lineNumber||t.range.insert.startColumn!==t.range.replace.startColumn),typeof r.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}async resolve(e){if(!this._resolveCache){const t=e.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),i=new ro(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then(r=>{Object.assign(this.completion,r),this._resolveDuration=i.elapsed()},r=>{Jc(r)&&(this._resolveCache=void 0,this._resolveDuration=void 0)}).finally(()=>{t.dispose()})}return this._resolveCache}}class ZS{constructor(e=2,t=new Set,i=new Set,r=new Map,o=!0){this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=i,this.providerItemsToReuse=r,this.showDeprecated=o}}ZS.default=new ZS;let xUe;function LUe(){return xUe}class kUe{constructor(e,t,i,r){this.items=e,this.needsClipboard=t,this.durations=i,this.disposable=r}}async function UH(n,e,t,i=ZS.default,r={triggerKind:0},o=Ht.None){const s=new ro;t=t.clone();const a=e.getWordAtPosition(t),l=a?new B(t.lineNumber,a.startColumn,t.lineNumber,a.endColumn):B.fromPositions(t),c={replace:l,insert:l.setEndPosition(t.lineNumber,t.column)},d=[],u=new xe,h=[];let f=!1;const g=(y,m,p)=>{var v,b,C;let S=!1;if(!m)return S;for(const x of m.suggestions)if(!i.kindFilter.has(x.kind)){if(!i.showDeprecated&&(!((v=x==null?void 0:x.tags)===null||v===void 0)&&v.includes(1)))continue;x.range||(x.range=c),x.sortText||(x.sortText=typeof x.label=="string"?x.label:x.label.label),!f&&x.insertTextRules&&x.insertTextRules&4&&(f=o_.guessNeedsClipboard(x.insertText)),d.push(new SUe(t,x,m,y)),S=!0}return qW(m)&&u.add(m),h.push({providerName:(b=y._debugDisplayName)!==null&&b!==void 0?b:"unknown_provider",elapsedProvider:(C=m.duration)!==null&&C!==void 0?C:-1,elapsedOverall:p.elapsed()}),S},_=(async()=>{})();for(const y of n.orderedGroups(e)){let m=!1;if(await Promise.all(y.map(async p=>{if(i.providerItemsToReuse.has(p)){const v=i.providerItemsToReuse.get(p);v.forEach(b=>d.push(b)),m=m||v.length>0;return}if(!(i.providerFilter.size>0&&!i.providerFilter.has(p)))try{const v=new ro,b=await p.provideCompletionItems(e,t,r,o);m=g(p,b,v)||m}catch(v){Hn(v)}})),m||o.isCancellationRequested)break}return await _,o.isCancellationRequested?(u.dispose(),Promise.reject(new cp)):new kUe(d.sort(EUe(i.snippetSortOrder)),f,{entries:h,elapsed:s.elapsed()},u)}function $H(n,e){if(n.sortTextLow&&e.sortTextLow){if(n.sortTextLow<e.sortTextLow)return-1;if(n.sortTextLow>e.sortTextLow)return 1}return n.textLabel<e.textLabel?-1:n.textLabel>e.textLabel?1:n.completion.kind-e.completion.kind}function DUe(n,e){if(n.completion.kind!==e.completion.kind){if(n.completion.kind===27)return-1;if(e.completion.kind===27)return 1}return $H(n,e)}function TUe(n,e){if(n.completion.kind!==e.completion.kind){if(n.completion.kind===27)return 1;if(e.completion.kind===27)return-1}return $H(n,e)}const a2=new Map;a2.set(0,DUe);a2.set(2,TUe);a2.set(1,$H);function EUe(n){return a2.get(n)}Gt.registerCommand("_executeCompletionItemProvider",async(n,...e)=>{const[t,i,r,o]=e;Ci(rt.isUri(t)),Ci(re.isIPosition(i)),Ci(typeof r=="string"||!r),Ci(typeof o=="number"||!o);const{completionProvider:s}=n.get(qe),a=await n.get(Cs).createModelReference(t);try{const l={incomplete:!1,suggestions:[]},c=[],d=a.object.textEditorModel.validatePosition(i),u=await UH(s,a.object.textEditorModel,d,void 0,{triggerCharacter:r??void 0,triggerKind:r?1:0});for(const h of u.items)c.length<(o??0)&&c.push(h.resolve(Ht.None)),l.incomplete=l.incomplete||h.container.incomplete,l.suggestions.push(h.completion);try{return await Promise.all(c),l}finally{setTimeout(()=>u.disposable.dispose(),100)}}finally{a.dispose()}});function IUe(n,e){var t;(t=n.getContribution("editor.contrib.suggestController"))===null||t===void 0||t.triggerSuggest(new Set().add(e),void 0,!0)}class gv{static isAllOff(e){return e.other==="off"&&e.comments==="off"&&e.strings==="off"}static isAllOn(e){return e.other==="on"&&e.comments==="on"&&e.strings==="on"}static valueFor(e,t){switch(t){case 1:return e.comments;case 2:return e.strings;default:return e.other}}}function BX(n,e=no){return _Re(n,e)?n.charAt(0).toUpperCase()+n.slice(1):n}var NUe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},PUe=function(n,e){return function(t,i){e(t,i,n)}};class WX{constructor(e){this._delegates=e}resolve(e){for(const t of this._delegates){const i=t.resolve(e);if(i!==void 0)return i}}}class VX{constructor(e,t,i,r){this._model=e,this._selection=t,this._selectionIdx=i,this._overtypingCapturer=r}resolve(e){const{name:t}=e;if(t==="SELECTION"||t==="TM_SELECTED_TEXT"){let i=this._model.getValueInRange(this._selection)||void 0,r=this._selection.startLineNumber!==this._selection.endLineNumber;if(!i&&this._overtypingCapturer){const o=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);o&&(i=o.value,r=o.multiline)}if(i&&r&&e.snippet){const o=this._model.getLineContent(this._selection.startLineNumber),s=Ti(o,0,this._selection.startColumn-1);let a=s;e.snippet.walk(c=>c===e?!1:(c instanceof Ao&&(a=Ti(su(c.value).pop())),!0));const l=jm(a,s);i=i.replace(/(\r\n|\r|\n)(.*)/g,(c,d,u)=>`${d}${a.substr(l)}${u}`)}return i}else{if(t==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(t==="TM_CURRENT_WORD"){const i=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return i&&i.word||void 0}else{if(t==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(t==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(t==="CURSOR_INDEX")return String(this._selectionIdx);if(t==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}class HX{constructor(e,t){this._labelService=e,this._model=t}resolve(e){const{name:t}=e;if(t==="TM_FILENAME")return cg(this._model.uri.fsPath);if(t==="TM_FILENAME_BASE"){const i=cg(this._model.uri.fsPath),r=i.lastIndexOf(".");return r<=0?i:i.slice(0,r)}else{if(t==="TM_DIRECTORY")return Fse(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(iM(this._model.uri));if(t==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(t==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}class zX{constructor(e,t,i,r){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=i,this._spread=r}resolve(e){if(e.name!=="CLIPBOARD")return;const t=this._readClipboardText();if(t){if(this._spread){const i=t.split(/\r\n|\n|\r/).filter(r=>!Use(r));if(i.length===this._selectionCount)return i[this._selectionIdx]}return t}}}let SN=class{constructor(e,t,i){this._model=e,this._selection=t,this._languageConfigurationService=i}resolve(e){const{name:t}=e,i=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),r=this._languageConfigurationService.getLanguageConfiguration(i).comments;if(r){if(t==="LINE_COMMENT")return r.lineCommentToken||void 0;if(t==="BLOCK_COMMENT_START")return r.blockCommentStartToken||void 0;if(t==="BLOCK_COMMENT_END")return r.blockCommentEndToken||void 0}}};SN=NUe([PUe(2,Pi)],SN);class Ec{constructor(){this._date=new Date}resolve(e){const{name:t}=e;if(t==="CURRENT_YEAR")return String(this._date.getFullYear());if(t==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(t==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(t==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(t==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(t==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(t==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(t==="CURRENT_DAY_NAME")return Ec.dayNames[this._date.getDay()];if(t==="CURRENT_DAY_NAME_SHORT")return Ec.dayNamesShort[this._date.getDay()];if(t==="CURRENT_MONTH_NAME")return Ec.monthNames[this._date.getMonth()];if(t==="CURRENT_MONTH_NAME_SHORT")return Ec.monthNamesShort[this._date.getMonth()];if(t==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(t==="CURRENT_TIMEZONE_OFFSET"){const i=this._date.getTimezoneOffset(),r=i>0?"-":"+",o=Math.trunc(Math.abs(i/60)),s=o<10?"0"+o:o,a=Math.abs(i)-o*60,l=a<10?"0"+a:a;return r+s+":"+l}}}Ec.dayNames=[w("Sunday","Sunday"),w("Monday","Monday"),w("Tuesday","Tuesday"),w("Wednesday","Wednesday"),w("Thursday","Thursday"),w("Friday","Friday"),w("Saturday","Saturday")];Ec.dayNamesShort=[w("SundayShort","Sun"),w("MondayShort","Mon"),w("TuesdayShort","Tue"),w("WednesdayShort","Wed"),w("ThursdayShort","Thu"),w("FridayShort","Fri"),w("SaturdayShort","Sat")];Ec.monthNames=[w("January","January"),w("February","February"),w("March","March"),w("April","April"),w("May","May"),w("June","June"),w("July","July"),w("August","August"),w("September","September"),w("October","October"),w("November","November"),w("December","December")];Ec.monthNamesShort=[w("JanuaryShort","Jan"),w("FebruaryShort","Feb"),w("MarchShort","Mar"),w("AprilShort","Apr"),w("MayShort","May"),w("JuneShort","Jun"),w("JulyShort","Jul"),w("AugustShort","Aug"),w("SeptemberShort","Sep"),w("OctoberShort","Oct"),w("NovemberShort","Nov"),w("DecemberShort","Dec")];class jX{constructor(e){this._workspaceService=e}resolve(e){if(!this._workspaceService)return;const t=F4e(this._workspaceService.getWorkspace());if(!R4e(t)){if(e.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(t);if(e.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(t)}}_resolveWorkspaceName(e){if(j3(e))return cg(e.uri.path);let t=cg(e.configPath.path);return t.endsWith(U3)&&(t=t.substr(0,t.length-U3.length-1)),t}_resoveWorkspacePath(e){if(j3(e))return BX(e.uri.fsPath);const t=cg(e.configPath.path);let i=e.configPath.fsPath;return i.endsWith(t)&&(i=i.substr(0,i.length-t.length-1)),i?BX(i):"/"}}class UX{resolve(e){const{name:t}=e;if(t==="RANDOM")return Math.random().toString().slice(-6);if(t==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(t==="UUID")return zM()}}var MUe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},RUe=function(n,e){return function(t,i){e(t,i,n)}},sc;class Wa{constructor(e,t,i){this._editor=e,this._snippet=t,this._snippetLineLeadingWhitespace=i,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=cq(t.placeholders,Ha.compareByIndex),this._placeholderGroupsIdx=-1}initialize(e){this._offset=e.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const e=this._editor.getModel();this._editor.changeDecorations(t=>{for(const i of this._snippet.placeholders){const r=this._snippet.offset(i),o=this._snippet.fullLen(i),s=B.fromPositions(e.getPositionAt(this._offset+r),e.getPositionAt(this._offset+r+o)),a=i.isFinalTabstop?Wa._decor.inactiveFinal:Wa._decor.inactive,l=t.addDecoration(s,a);this._placeholderDecorations.set(i,l)}})}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const r=[];for(const o of this._placeholderGroups[this._placeholderGroupsIdx])if(o.transform){const s=this._placeholderDecorations.get(o),a=this._editor.getModel().getDecorationRange(s),l=this._editor.getModel().getValueInRange(a),c=o.transform.resolve(l).split(/\r\n|\r|\n/);for(let d=1;d<c.length;d++)c[d]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+c[d]);r.push(Qi.replace(a,c.join(this._editor.getModel().getEOL())))}r.length>0&&this._editor.executeEdits("snippet.placeholderTransform",r)}let t=!1;e===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,t=!0):e===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,t=!0);const i=this._editor.getModel().changeDecorations(r=>{const o=new Set,s=[];for(const a of this._placeholderGroups[this._placeholderGroupsIdx]){const l=this._placeholderDecorations.get(a),c=this._editor.getModel().getDecorationRange(l);s.push(new Ke(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn)),t=t&&this._hasPlaceholderBeenCollapsed(a),r.changeDecorationOptions(l,a.isFinalTabstop?Wa._decor.activeFinal:Wa._decor.active),o.add(a);for(const d of this._snippet.enclosingPlaceholders(a)){const u=this._placeholderDecorations.get(d);r.changeDecorationOptions(u,d.isFinalTabstop?Wa._decor.activeFinal:Wa._decor.active),o.add(d)}}for(const[a,l]of this._placeholderDecorations)o.has(a)||r.changeDecorationOptions(l,a.isFinalTabstop?Wa._decor.inactiveFinal:Wa._decor.inactive);return s});return t?this.move(e):i??[]}_hasPlaceholderBeenCollapsed(e){let t=e;for(;t;){if(t instanceof Ha){const i=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(i).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[e]=this._snippet.placeholders;if(e.isFinalTabstop&&this._snippet.rightMostDescendant===e)return!0}return!1}computePossibleSelections(){const e=new Map;for(const t of this._placeholderGroups){let i;for(const r of t){if(r.isFinalTabstop)break;i||(i=[],e.set(r.index,i));const o=this._placeholderDecorations.get(r),s=this._editor.getModel().getDecorationRange(o);if(!s){e.delete(r.index);break}i.push(s)}}return e}get activeChoice(){if(!this._placeholderDecorations)return;const e=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(e!=null&&e.choice))return;const t=this._placeholderDecorations.get(e);if(!t)return;const i=this._editor.getModel().getDecorationRange(t);if(i)return{range:i,choice:e.choice}}get hasChoice(){let e=!1;return this._snippet.walk(t=>(e=t instanceof Ry,!e)),e}merge(e){const t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(i=>{for(const r of this._placeholderGroups[this._placeholderGroupsIdx]){const o=e.shift();console.assert(o._offset!==-1),console.assert(!o._placeholderDecorations);const s=o._snippet.placeholderInfo.last.index;for(const l of o._snippet.placeholderInfo.all)l.isFinalTabstop?l.index=r.index+(s+1)/this._nestingLevel:l.index=r.index+l.index/this._nestingLevel;this._snippet.replace(r,o._snippet.children);const a=this._placeholderDecorations.get(r);i.removeDecoration(a),this._placeholderDecorations.delete(r);for(const l of o._snippet.placeholders){const c=o._snippet.offset(l),d=o._snippet.fullLen(l),u=B.fromPositions(t.getPositionAt(o._offset+c),t.getPositionAt(o._offset+c+d)),h=i.addDecoration(u,Wa._decor.inactive);this._placeholderDecorations.set(l,h)}}this._placeholderGroups=cq(this._snippet.placeholders,Ha.compareByIndex)})}}Wa._decor={active:kt.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:kt.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:kt.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:kt.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const $X={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let xN=sc=class{static adjustWhitespace(e,t,i,r,o){const s=e.getLineContent(t.lineNumber),a=Ti(s,0,t.column-1);let l;return r.walk(c=>{if(!(c instanceof Ao)||c.parent instanceof Ry||o&&!o.has(c))return!0;const d=c.value.split(/\r\n|\r|\n/);if(i){const h=r.offset(c);if(h===0)d[0]=e.normalizeIndentation(d[0]);else{l=l??r.toString();const f=l.charCodeAt(h-1);(f===10||f===13)&&(d[0]=e.normalizeIndentation(a+d[0]))}for(let f=1;f<d.length;f++)d[f]=e.normalizeIndentation(a+d[f])}const u=d.join(e.getEOL());return u!==c.value&&(c.parent.replace(c,[new Ao(u)]),l=void 0),!0}),a}static adjustSelection(e,t,i,r){if(i!==0||r!==0){const{positionLineNumber:o,positionColumn:s}=t,a=s-i,l=s+r,c=e.validateRange({startLineNumber:o,startColumn:a,endLineNumber:o,endColumn:l});t=Ke.createWithDirection(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn,t.getDirection())}return t}static createEditsAndSnippetsFromSelections(e,t,i,r,o,s,a,l,c){const d=[],u=[];if(!e.hasModel())return{edits:d,snippets:u};const h=e.getModel(),f=e.invokeWithinContext(b=>b.get(Qm)),g=e.invokeWithinContext(b=>new HX(b.get(Fb),h)),_=()=>a,y=h.getValueInRange(sc.adjustSelection(h,e.getSelection(),i,0)),m=h.getValueInRange(sc.adjustSelection(h,e.getSelection(),0,r)),p=h.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber),v=e.getSelections().map((b,C)=>({selection:b,idx:C})).sort((b,C)=>B.compareRangesUsingStarts(b.selection,C.selection));for(const{selection:b,idx:C}of v){let S=sc.adjustSelection(h,b,i,0),x=sc.adjustSelection(h,b,0,r);y!==h.getValueInRange(S)&&(S=b),m!==h.getValueInRange(x)&&(x=b);const k=b.setStartPosition(S.startLineNumber,S.startColumn).setEndPosition(x.endLineNumber,x.endColumn),D=new o_().parse(t,!0,o),E=k.getStartPosition(),I=sc.adjustWhitespace(h,E,s||C>0&&p!==h.getLineFirstNonWhitespaceColumn(b.positionLineNumber),D);D.resolveVariables(new WX([g,new zX(_,C,v.length,e.getOption(78)==="spread"),new VX(h,b,C,l),new SN(h,b,c),new Ec,new jX(f),new UX])),d[C]=Qi.replace(k,D.toString()),d[C].identifier={major:C,minor:0},d[C]._isTracked=!0,u[C]=new Wa(e,D,I)}return{edits:d,snippets:u}}static createEditsAndSnippetsFromEdits(e,t,i,r,o,s,a){if(!e.hasModel()||t.length===0)return{edits:[],snippets:[]};const l=[],c=e.getModel(),d=new o_,u=new dL,h=new WX([e.invokeWithinContext(g=>new HX(g.get(Fb),c)),new zX(()=>o,0,e.getSelections().length,e.getOption(78)==="spread"),new VX(c,e.getSelection(),0,s),new SN(c,e.getSelection(),a),new Ec,new jX(e.invokeWithinContext(g=>g.get(Qm))),new UX]);t=t.sort((g,_)=>B.compareRangesUsingStarts(g.range,_.range));let f=0;for(let g=0;g<t.length;g++){const{range:_,template:y}=t[g];if(g>0){const C=t[g-1].range,S=B.fromPositions(C.getEndPosition(),_.getStartPosition()),x=new Ao(c.getValueInRange(S));u.appendChild(x),f+=x.value.length}const m=d.parseFragment(y,u);sc.adjustWhitespace(c,_.getStartPosition(),!0,u,new Set(m)),u.resolveVariables(h);const p=u.toString(),v=p.slice(f);f=p.length;const b=Qi.replace(_,v);b.identifier={major:g,minor:0},b._isTracked=!0,l.push(b)}return d.ensureFinalTabstop(u,i,!0),{edits:l,snippets:[new Wa(e,u,"")]}}constructor(e,t,i=$X,r){this._editor=e,this._template=t,this._options=i,this._languageConfigurationService=r,this._templateMerges=[],this._snippets=[]}dispose(){vi(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:e,snippets:t}=typeof this._template=="string"?sc.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):sc.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=t,this._editor.executeEdits("snippet",e,i=>{const r=i.filter(o=>!!o.identifier);for(let o=0;o<t.length;o++)t[o].initialize(r[o].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):r.map(o=>Ke.fromPositions(o.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(e,t=$X){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);const{edits:i,snippets:r}=sc.createEditsAndSnippetsFromSelections(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",i,o=>{const s=o.filter(l=>!!l.identifier);for(let l=0;l<r.length;l++)r[l].initialize(s[l].textChange);const a=r[0].isTrivialSnippet;if(!a){for(const l of this._snippets)l.merge(r);console.assert(r.length===0)}return this._snippets[0].hasPlaceholder&&!a?this._move(void 0):s.map(l=>Ke.fromPositions(l.range.getEndPosition()))})}next(){const e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){const e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){const t=[];for(const i of this._snippets){const r=i.move(e);t.push(...r)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;const t=new Map;for(const i of this._snippets){const r=i.computePossibleSelections();if(t.size===0)for(const[o,s]of r){s.sort(B.compareRangesUsingStarts);for(const a of e)if(s[0].containsRange(a)){t.set(o,[]);break}}if(t.size===0)return!1;t.forEach((o,s)=>{o.push(...r.get(s))})}e.sort(B.compareRangesUsingStarts);for(const[i,r]of t){if(r.length!==e.length){t.delete(i);continue}r.sort(B.compareRangesUsingStarts);for(let o=0;o<r.length;o++)if(!r[o].containsRange(e[o])){t.delete(i);continue}}return t.size>0}};xN=sc=MUe([RUe(3,Pi)],xN);var AUe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},CD=function(n,e){return function(t,i){e(t,i,n)}},E0;const qX={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let Or=E0=class{static get(e){return e.getContribution(E0.ID)}constructor(e,t,i,r,o){this._editor=e,this._logService=t,this._languageFeaturesService=i,this._languageConfigurationService=o,this._snippetListener=new xe,this._modelVersionId=-1,this._inSnippet=E0.InSnippetMode.bindTo(r),this._hasNextTabstop=E0.HasNextTabstop.bindTo(r),this._hasPrevTabstop=E0.HasPrevTabstop.bindTo(r)}dispose(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(e=this._session)===null||e===void 0||e.dispose(),this._snippetListener.dispose()}insert(e,t){try{this._doInsert(e,typeof t>"u"?qX:{...qX,...t})}catch(i){this.cancel(),this._logService.error(i),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){var i;if(this._editor.hasModel()){if(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof e!="string"&&this.cancel(),this._session?(Ci(typeof e=="string"),this._session.merge(e,t)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new xN(this._editor,e,t,this._languageConfigurationService),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),!((i=this._session)===null||i===void 0)&&i.hasChoice){const r={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(d,u)=>{if(!this._session||d!==this._editor.getModel()||!re.equals(this._editor.getPosition(),u))return;const{activeChoice:h}=this._session;if(!h||h.choice.options.length===0)return;const f=d.getValueInRange(h.range),g=!!h.choice.options.find(y=>y.value===f),_=[];for(let y=0;y<h.choice.options.length;y++){const m=h.choice.options[y];_.push({kind:13,label:m.value,insertText:m.value,sortText:"a".repeat(y+1),range:h.range,filterText:g?`${f}_${m.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:w("next","Go to next placeholder...")}})}return{suggestions:_}}},o=this._editor.getModel();let s,a=!1;const l=()=>{s==null||s.dispose(),a=!1},c=()=>{a||(s=this._languageFeaturesService.completionProvider.register({language:o.getLanguageId(),pattern:o.uri.fsPath,scheme:o.uri.scheme,exclusive:!0},r),this._snippetListener.add(s),a=!0)};this._choiceCompletions={provider:r,enable:c,disable:l}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(r=>r.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){var e;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:t}=this._session;if(!t||!this._choiceCompletions){(e=this._choiceCompletions)===null||e===void 0||e.disable(),this._currentChoice=void 0;return}this._currentChoice!==t.choice&&(this._currentChoice=t.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{IUe(this._editor,this._choiceCompletions.provider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(e=!1){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(t=this._session)===null||t===void 0||t.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){var e;(e=this._session)===null||e===void 0||e.prev(),this._updateState()}next(){var e;(e=this._session)===null||e===void 0||e.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};Or.ID="snippetController2";Or.InSnippetMode=new je("inSnippetMode",!1,w("inSnippetMode","Whether the editor in current in snippet mode"));Or.HasNextTabstop=new je("hasNextTabstop",!1,w("hasNextTabstop","Whether there is a next tab stop when in snippet mode"));Or.HasPrevTabstop=new je("hasPrevTabstop",!1,w("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode"));Or=E0=AUe([CD(1,Ks),CD(2,qe),CD(3,_t),CD(4,Pi)],Or);li(Or.ID,Or,4);const l2=kr.bindToContribution(Or.get);We(new l2({id:"jumpToNextSnippetPlaceholder",precondition:we.and(Or.InSnippetMode,Or.HasNextTabstop),handler:n=>n.next(),kbOpts:{weight:130,kbExpr:j.editorTextFocus,primary:2}}));We(new l2({id:"jumpToPrevSnippetPlaceholder",precondition:we.and(Or.InSnippetMode,Or.HasPrevTabstop),handler:n=>n.prev(),kbOpts:{weight:130,kbExpr:j.editorTextFocus,primary:1026}}));We(new l2({id:"leaveSnippet",precondition:Or.InSnippetMode,handler:n=>n.cancel(!0),kbOpts:{weight:130,kbExpr:j.editorTextFocus,primary:9,secondary:[1033]}}));We(new l2({id:"acceptSnippet",precondition:Or.InSnippetMode,handler:n=>n.finish()}));var OUe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},XO=function(n,e){return function(t,i){e(t,i,n)}},ia;(function(n){n[n.Undo=0]="Undo",n[n.Redo=1]="Redo",n[n.AcceptWord=2]="AcceptWord",n[n.Other=3]="Other"})(ia||(ia={}));let X8=class extends ce{get isAcceptingPartially(){return this._isAcceptingPartially}constructor(e,t,i,r,o,s,a,l,c,d,u,h){super(),this.textModel=e,this.selectedSuggestItem=t,this.cursorPosition=i,this.textModelVersionId=r,this._debounceValue=o,this._suggestPreviewEnabled=s,this._suggestPreviewMode=a,this._inlineSuggestMode=l,this._enabled=c,this._instantiationService=d,this._commandService=u,this._languageConfigurationService=h,this._source=this._register(this._instantiationService.createInstance(Y8,this.textModel,this.textModelVersionId,this._debounceValue)),this._isActive=si(this,!1),this._forceUpdateSignal=nH("forceUpdate"),this._selectedInlineCompletionId=si(this,void 0),this._isAcceptingPartially=!1,this._preserveCurrentCompletionReasons=new Set([ia.Redo,ia.Undo,ia.AcceptWord]),this._fetchInlineCompletions=W8e({owner:this,createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:fh.Automatic}),handleChange:(g,_)=>(g.didChange(this.textModelVersionId)&&this._preserveCurrentCompletionReasons.has(g.change)?_.preserveCurrentCompletion=!0:g.didChange(this._forceUpdateSignal)&&(_.inlineCompletionTriggerKind=g.change),!0)},(g,_)=>{if(this._forceUpdateSignal.read(g),!(this._enabled.read(g)&&this.selectedSuggestItem.read(g)||this._isActive.read(g))){this._source.cancelUpdate();return}this.textModelVersionId.read(g);const m=this.selectedInlineCompletion.get(),p=_.preserveCurrentCompletion||m!=null&&m.forwardStable?m:void 0,v=this._source.suggestWidgetInlineCompletions.get(),b=this.selectedSuggestItem.read(g);if(v&&!b){const x=this._source.inlineCompletions.get();Vi(k=>{(!x||v.request.versionId>x.request.versionId)&&this._source.inlineCompletions.set(v.clone(),k),this._source.clearSuggestWidgetInlineCompletions(k)})}const C=this.cursorPosition.read(g),S={triggerKind:_.inlineCompletionTriggerKind,selectedSuggestionInfo:b==null?void 0:b.toSelectedSuggestionInfo()};return this._source.fetch(C,S,p)}),this._filteredInlineCompletionItems=It(this,g=>{const _=this._source.inlineCompletions.read(g);if(!_)return[];const y=this.cursorPosition.read(g);return _.inlineCompletions.filter(p=>p.isVisible(this.textModel,y,g))}),this.selectedInlineCompletionIndex=It(this,g=>{const _=this._selectedInlineCompletionId.read(g),y=this._filteredInlineCompletionItems.read(g),m=this._selectedInlineCompletionId===void 0?-1:y.findIndex(p=>p.semanticId===_);return m===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):m}),this.selectedInlineCompletion=It(this,g=>{const _=this._filteredInlineCompletionItems.read(g),y=this.selectedInlineCompletionIndex.read(g);return _[y]}),this.lastTriggerKind=this._source.inlineCompletions.map(this,g=>g==null?void 0:g.request.context.triggerKind),this.inlineCompletionsCount=It(this,g=>{if(this.lastTriggerKind.read(g)===fh.Explicit)return this._filteredInlineCompletionItems.read(g).length}),this.state=F9({owner:this,equalityComparer:(g,_)=>!g||!_?g===_:EX(g.ghostText,_.ghostText)&&g.inlineCompletion===_.inlineCompletion&&g.suggestItem===_.suggestItem},g=>{var _;const y=this.textModel,m=this.selectedSuggestItem.read(g);if(m){const p=m.toSingleTextEdit().removeCommonPrefix(y),v=this._computeAugmentedCompletion(p,g);if(!this._suggestPreviewEnabled.read(g)&&!v)return;const C=(_=v==null?void 0:v.edit)!==null&&_!==void 0?_:p,S=v?v.edit.text.length-p.text.length:0,x=this._suggestPreviewMode.read(g),k=this.cursorPosition.read(g),D=C.computeGhostText(y,x,k,S);return{ghostText:D??new CN(C.range.endLineNumber,[]),inlineCompletion:v==null?void 0:v.completion,suggestItem:m}}else{if(!this._isActive.read(g))return;const p=this.selectedInlineCompletion.read(g);if(!p)return;const v=p.toSingleTextEdit(g),b=this._inlineSuggestMode.read(g),C=this.cursorPosition.read(g),S=v.computeGhostText(y,b,C);return S?{ghostText:S,inlineCompletion:p,suggestItem:void 0}:void 0}}),this.ghostText=F9({owner:this,equalityComparer:EX},g=>{const _=this.state.read(g);if(_)return _.ghostText}),this._register(lL(this._fetchInlineCompletions));let f;this._register(hi(g=>{var _,y;const m=this.state.read(g),p=m==null?void 0:m.inlineCompletion;if((p==null?void 0:p.semanticId)!==(f==null?void 0:f.semanticId)&&(f=p,p)){const v=p.inlineCompletion,b=v.source;(y=(_=b.provider).handleItemDidShow)===null||y===void 0||y.call(_,b.inlineCompletions,v.sourceInlineCompletion,v.insertText)}}))}async trigger(e){this._isActive.set(!0,e),await this._fetchInlineCompletions.get()}async triggerExplicitly(e){RS(e,t=>{this._isActive.set(!0,t),this._forceUpdateSignal.trigger(t,fh.Explicit)}),await this._fetchInlineCompletions.get()}stop(e){RS(e,t=>{this._isActive.set(!1,t),this._source.clear(t)})}_computeAugmentedCompletion(e,t){const i=this.textModel,r=this._source.suggestWidgetInlineCompletions.read(t),o=r?r.inlineCompletions:[this.selectedInlineCompletion.read(t)].filter(Vm);return fEe(o,a=>{let l=a.toSingleTextEdit(t);return l=l.removeCommonPrefix(i,B.fromPositions(l.range.getStartPosition(),e.range.getEndPosition())),l.augments(e)?{edit:l,completion:a}:void 0})}async _deltaSelectedInlineCompletionIndex(e){await this.triggerExplicitly();const t=this._filteredInlineCompletionItems.get()||[];if(t.length>0){const i=(this.selectedInlineCompletionIndex.get()+e+t.length)%t.length;this._selectedInlineCompletionId.set(t[i].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)}async next(){await this._deltaSelectedInlineCompletionIndex(1)}async previous(){await this._deltaSelectedInlineCompletionIndex(-1)}async accept(e){var t;if(e.getModel()!==this.textModel)throw new Xi;const i=this.state.get();if(!i||i.ghostText.isEmpty()||!i.inlineCompletion)return;const r=i.inlineCompletion.toInlineCompletion(void 0);e.pushUndoStop(),r.snippetInfo?(e.executeEdits("inlineSuggestion.accept",[Qi.replaceMove(r.range,""),...r.additionalTextEdits]),e.setPosition(r.snippetInfo.range.getStartPosition(),"inlineCompletionAccept"),(t=Or.get(e))===null||t===void 0||t.insert(r.snippetInfo.snippet,{undoStopBefore:!1})):e.executeEdits("inlineSuggestion.accept",[Qi.replaceMove(r.range,r.insertText),...r.additionalTextEdits]),r.command&&r.source.addRef(),Vi(o=>{this._source.clear(o),this._isActive.set(!1,o)}),r.command&&(await this._commandService.executeCommand(r.command.id,...r.command.arguments||[]).then(void 0,Hn),r.source.removeRef())}async acceptNextWord(e){await this._acceptNext(e,(t,i)=>{const r=this.textModel.getLanguageIdAtPosition(t.lineNumber,t.column),o=this._languageConfigurationService.getLanguageConfiguration(r),s=new RegExp(o.wordDefinition.source,o.wordDefinition.flags.replace("g","")),a=i.match(s);let l=0;a&&a.index!==void 0?a.index===0?l=a[0].length:l=a.index:l=i.length;const d=/\s+/g.exec(i);return d&&d.index!==void 0&&d.index+d[0].length<l&&(l=d.index+d[0].length),l})}async acceptNextLine(e){await this._acceptNext(e,(t,i)=>{const r=i.match(/\n/);return r&&r.index!==void 0?r.index+1:i.length})}async _acceptNext(e,t){if(e.getModel()!==this.textModel)throw new Xi;const i=this.state.get();if(!i||i.ghostText.isEmpty()||!i.inlineCompletion)return;const r=i.ghostText,o=i.inlineCompletion.toInlineCompletion(void 0);if(o.snippetInfo||o.filterText!==o.insertText){await this.accept(e);return}const s=r.parts[0],a=new re(r.lineNumber,s.column),l=s.lines.join(`
`),c=t(a,l);if(c===l.length&&r.parts.length===1){this.accept(e);return}const d=l.substring(0,c);o.source.addRef();try{this._isAcceptingPartially=!0;try{e.pushUndoStop(),e.executeEdits("inlineSuggestion.accept",[Qi.replace(B.fromPositions(a),d)]);const u=q8(d);e.setPosition($8(a,u),"inlineCompletionPartialAccept")}finally{this._isAcceptingPartially=!1}if(o.source.provider.handlePartialAccept){const u=B.fromPositions(o.range.getStartPosition(),$8(a,q8(d))),h=e.getModel().getValueInRange(u,1);o.source.provider.handlePartialAccept(o.source.inlineCompletions,o.sourceInlineCompletion,h.length)}}finally{o.source.removeRef()}}handleSuggestAccepted(e){var t,i;const r=e.toSingleTextEdit().removeCommonPrefix(this.textModel),o=this._computeAugmentedCompletion(r,void 0);if(!o)return;const s=o.completion.inlineCompletion;(i=(t=s.source.provider).handlePartialAccept)===null||i===void 0||i.call(t,s.source.inlineCompletions,s.sourceInlineCompletion,r.text.length)}};X8=OUe([XO(9,dt),XO(10,fn),XO(11,Pi)],X8);var FUe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},KX=function(n,e){return function(t,i){e(t,i,n)}},dw;class qH{constructor(e){this.name=e}select(e,t,i){if(i.length===0)return 0;const r=i[0].score[0];for(let o=0;o<i.length;o++){const{score:s,completion:a}=i[o];if(s[0]!==r)break;if(a.preselect)return o}return 0}}class gfe extends qH{constructor(){super("first")}memorize(e,t,i){}toJSON(){}fromJSON(){}}class BUe extends qH{constructor(){super("recentlyUsed"),this._cache=new hp(300,.66),this._seq=0}memorize(e,t,i){const r=`${e.getLanguageId()}/${i.textLabel}`;this._cache.set(r,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})}select(e,t,i){if(i.length===0)return 0;const r=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(r))return super.select(e,t,i);const o=i[0].score[0];let s=-1,a=-1,l=-1;for(let c=0;c<i.length&&i[c].score[0]===o;c++){const d=`${e.getLanguageId()}/${i[c].textLabel}`,u=this._cache.peek(d);if(u&&u.touch>l&&u.type===i[c].completion.kind&&u.insertText===i[c].completion.insertText&&(l=u.touch,a=c),i[c].completion.preselect&&s===-1)return s=c}return a!==-1?a:s!==-1?s:0}toJSON(){return this._cache.toJSON()}fromJSON(e){this._cache.clear();const t=0;for(const[i,r]of e)r.touch=t,r.type=typeof r.type=="number"?r.type:B1.fromString(r.type),this._cache.set(i,r);this._seq=this._cache.size}}class WUe extends qH{constructor(){super("recentlyUsedByPrefix"),this._trie=Uv.forStrings(),this._seq=0}memorize(e,t,i){const{word:r}=e.getWordUntilPosition(t),o=`${e.getLanguageId()}/${r}`;this._trie.set(o,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})}select(e,t,i){const{word:r}=e.getWordUntilPosition(t);if(!r)return super.select(e,t,i);const o=`${e.getLanguageId()}/${r}`;let s=this._trie.get(o);if(s||(s=this._trie.findSubstr(o)),s)for(let a=0;a<i.length;a++){const{kind:l,insertText:c}=i[a].completion;if(l===s.type&&c===s.insertText)return a}return super.select(e,t,i)}toJSON(){const e=[];return this._trie.forEach((t,i)=>e.push([i,t])),e.sort((t,i)=>-(t[1].touch-i[1].touch)).forEach((t,i)=>t[1].touch=i),e.slice(0,200)}fromJSON(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(const[t,i]of e)i.type=typeof i.type=="number"?i.type:B1.fromString(i.type),this._trie.set(t,i)}}}let YS=dw=class{constructor(e,t){this._storageService=e,this._configService=t,this._disposables=new xe,this._persistSoon=new ki(()=>this._saveState(),500),this._disposables.add(e.onWillSaveState(i=>{i.reason===SS.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(e,t,i){this._withStrategy(e,t).memorize(e,t,i),this._persistSoon.schedule()}select(e,t,i){return this._withStrategy(e,t).select(e,t,i)}_withStrategy(e,t){var i;const r=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:e.getLanguageIdAtPosition(t.lineNumber,t.column),resource:e.uri});if(((i=this._strategy)===null||i===void 0?void 0:i.name)!==r){this._saveState();const o=dw._strategyCtors.get(r)||gfe;this._strategy=new o;try{const a=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,l=this._storageService.get(`${dw._storagePrefix}/${r}`,a);l&&this._strategy.fromJSON(JSON.parse(l))}catch{}}return this._strategy}_saveState(){if(this._strategy){const t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,i=JSON.stringify(this._strategy);this._storageService.store(`${dw._storagePrefix}/${this._strategy.name}`,i,t,1)}}};YS._strategyCtors=new Map([["recentlyUsedByPrefix",WUe],["recentlyUsed",BUe],["first",gfe]]);YS._storagePrefix="suggest/memories";YS=dw=FUe([KX(0,Yl),KX(1,jt)],YS);const c2=zt("ISuggestMemories");Yt(c2,YS,1);var VUe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},HUe=function(n,e){return function(t,i){e(t,i,n)}},Q8;let XS=Q8=class{constructor(e,t){this._editor=e,this._enabled=!1,this._ckAtEnd=Q8.AtEnd.bindTo(t),this._configListener=this._editor.onDidChangeConfiguration(i=>i.hasChanged(122)&&this._update()),this._update()}dispose(){var e;this._configListener.dispose(),(e=this._selectionListener)===null||e===void 0||e.dispose(),this._ckAtEnd.reset()}_update(){const e=this._editor.getOption(122)==="on";if(this._enabled!==e)if(this._enabled=e,this._enabled){const t=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const i=this._editor.getModel(),r=this._editor.getSelection(),o=i.getWordAtPosition(r.getStartPosition());if(!o){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(o.endColumn===r.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(t),t()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};XS.AtEnd=new je("atEndOfWord",!1);XS=Q8=VUe([HUe(1,_t)],XS);var zUe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},jUe=function(n,e){return function(t,i){e(t,i,n)}},uw;let f_=uw=class{constructor(e,t){this._editor=e,this._index=0,this._ckOtherSuggestions=uw.OtherSuggestions.bindTo(t)}dispose(){this.reset()}reset(){var e;this._ckOtherSuggestions.reset(),(e=this._listener)===null||e===void 0||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:e,index:t},i){if(e.items.length===0){this.reset();return}if(uw._moveIndex(!0,e,t)===t){this.reset();return}this._acceptNext=i,this._model=e,this._index=t,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(e,t,i){let r=i;for(let o=t.items.length;o>0&&(r=(r+t.items.length+(e?1:-1))%t.items.length,!(r===i||!t.items[r].completion.additionalTextEdits));o--);return r}next(){this._move(!0)}prev(){this._move(!1)}_move(e){if(this._model)try{this._ignore=!0,this._index=uw._moveIndex(e,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};f_.OtherSuggestions=new je("hasOtherSuggestions",!1);f_=uw=zUe([jUe(1,_t)],f_);class UUe{constructor(e,t,i,r){this._disposables=new xe,this._disposables.add(i.onDidSuggest(o=>{o.completionModel.items.length===0&&this.reset()})),this._disposables.add(i.onDidCancel(o=>{this.reset()})),this._disposables.add(t.onDidShow(()=>this._onItem(t.getFocusedItem()))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType(o=>{if(this._active&&!t.isFrozen()&&i.state!==0){const s=o.charCodeAt(o.length-1);this._active.acceptCharacters.has(s)&&e.getOption(0)&&r(this._active.item)}}))}_onItem(e){if(!e||!io(e.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===e.item)return;const t=new GE;for(const i of e.item.completion.commitCharacters)i.length>0&&t.add(i.charCodeAt(0));this._active={acceptCharacters:t,item:e}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}class na{async provideSelectionRanges(e,t){const i=[];for(const r of t){const o=[];i.push(o);const s=new Map;await new Promise(a=>na._bracketsRightYield(a,0,e,r,s)),await new Promise(a=>na._bracketsLeftYield(a,0,e,r,s,o))}return i}static _bracketsRightYield(e,t,i,r,o){const s=new Map,a=Date.now();for(;;){if(t>=na._maxRounds){e();break}if(!r){e();break}const l=i.bracketPairs.findNextBracket(r);if(!l){e();break}if(Date.now()-a>na._maxDuration){setTimeout(()=>na._bracketsRightYield(e,t+1,i,r,o));break}if(l.bracketInfo.isOpeningBracket){const d=l.bracketInfo.bracketText,u=s.has(d)?s.get(d):0;s.set(d,u+1)}else{const d=l.bracketInfo.getOpeningBrackets()[0].bracketText;let u=s.has(d)?s.get(d):0;if(u-=1,s.set(d,Math.max(0,u)),u<0){let h=o.get(d);h||(h=new Fo,o.set(d,h)),h.push(l.range)}}r=l.range.getEndPosition()}}static _bracketsLeftYield(e,t,i,r,o,s){const a=new Map,l=Date.now();for(;;){if(t>=na._maxRounds&&o.size===0){e();break}if(!r){e();break}const c=i.bracketPairs.findPrevBracket(r);if(!c){e();break}if(Date.now()-l>na._maxDuration){setTimeout(()=>na._bracketsLeftYield(e,t+1,i,r,o,s));break}if(c.bracketInfo.isOpeningBracket){const u=c.bracketInfo.bracketText;let h=a.has(u)?a.get(u):0;if(h-=1,a.set(u,Math.max(0,h)),h<0){const f=o.get(u);if(f){const g=f.shift();f.size===0&&o.delete(u);const _=B.fromPositions(c.range.getEndPosition(),g.getStartPosition()),y=B.fromPositions(c.range.getStartPosition(),g.getEndPosition());s.push({range:_}),s.push({range:y}),na._addBracketLeading(i,y,s)}}}else{const u=c.bracketInfo.getOpeningBrackets()[0].bracketText,h=a.has(u)?a.get(u):0;a.set(u,h+1)}r=c.range.getStartPosition()}}static _addBracketLeading(e,t,i){if(t.startLineNumber===t.endLineNumber)return;const r=t.startLineNumber,o=e.getLineFirstNonWhitespaceColumn(r);o!==0&&o!==t.startColumn&&(i.push({range:B.fromPositions(new re(r,o),t.getEndPosition())}),i.push({range:B.fromPositions(new re(r,1),t.getEndPosition())}));const s=r-1;if(s>0){const a=e.getLineFirstNonWhitespaceColumn(s);a===t.startColumn&&a!==e.getLineLastNonWhitespaceColumn(s)&&(i.push({range:B.fromPositions(new re(s,a),t.getEndPosition())}),i.push({range:B.fromPositions(new re(s,1),t.getEndPosition())}))}}}na._maxDuration=30;na._maxRounds=2;class wc{static async create(e,t){if(!t.getOption(117).localityBonus||!t.hasModel())return wc.None;const i=t.getModel(),r=t.getPosition();if(!e.canComputeWordRanges(i.uri))return wc.None;const[o]=await new na().provideSelectionRanges(i,[r]);if(o.length===0)return wc.None;const s=await e.computeWordRanges(i.uri,o[0].range);if(!s)return wc.None;const a=i.getWordUntilPosition(r);return delete s[a.word],new class extends wc{distance(l,c){if(!r.equals(t.getPosition()))return 0;if(c.kind===17)return 2<<20;const d=typeof c.label=="string"?c.label:c.label.label,u=s[d];if(hse(u))return 2<<20;const h=M1(u,B.fromPositions(l),B.compareRangesUsingStarts),f=h>=0?u[h]:u[Math.max(0,~h-1)];let g=o.length;for(const _ of o){if(!B.containsRange(_.range,f))break;g-=1}return g}}}}wc.None=new class extends wc{distance(){return 0}};let GX=class{constructor(e,t){this.leadingLineContent=e,this.characterCountDelta=t}};class Rf{constructor(e,t,i,r,o,s,a=lM.default,l=void 0){this.clipboardText=l,this._snippetCompareFn=Rf._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=r,this._options=o,this._refilterKind=1,this._lineContext=i,this._fuzzyScoreOptions=a,s==="top"?this._snippetCompareFn=Rf._compareCompletionItemsSnippetsUp:s==="bottom"&&(this._snippetCompareFn=Rf._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){(this._lineContext.leadingLineContent!==e.leadingLineContent||this._lineContext.characterCountDelta!==e.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const e=new Set;for(const[t,i]of this.getItemsByProvider())i.length>0&&i[0].container.incomplete&&e.add(t);return e}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const e=[],{leadingLineContent:t,characterCountDelta:i}=this._lineContext;let r="",o="";const s=this._refilterKind===1?this._items:this._filteredItems,a=[],l=!this._options.filterGraceful||s.length>2e3?Xm:T5e;for(let c=0;c<s.length;c++){const d=s[c];if(d.isInvalid)continue;const u=this._itemsByProvider.get(d.provider);u?u.push(d):this._itemsByProvider.set(d.provider,[d]);const h=d.position.column-d.editStart.column,f=h+i-(d.position.column-this._column);if(r.length!==f&&(r=f===0?"":t.slice(-f),o=r.toLowerCase()),d.word=r,f===0)d.score=Bc.Default;else{let g=0;for(;g<h;){const _=r.charCodeAt(g);if(_===32||_===9)g+=1;else break}if(g>=f)d.score=Bc.Default;else if(typeof d.completion.filterText=="string"){const _=l(r,o,g,d.completion.filterText,d.filterTextLow,0,this._fuzzyScoreOptions);if(!_)continue;CF(d.completion.filterText,d.textLabel)===0?d.score=_:(d.score=x5e(r,o,g,d.textLabel,d.labelLow,0),d.score[0]=_[0])}else{const _=l(r,o,g,d.textLabel,d.labelLow,0,this._fuzzyScoreOptions);if(!_)continue;d.score=_}}d.idx=c,d.distance=this._wordDistance.distance(d.position,d.completion),a.push(d),e.push(d.textLabel.length)}this._filteredItems=a.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?x4(e.length-.85,e,(c,d)=>c-d):0}}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return 1;if(t.completion.kind===27)return-1}return Rf._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return-1;if(t.completion.kind===27)return 1}return Rf._compareCompletionItems(e,t)}}var $Ue=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},af=function(n,e){return function(t,i){e(t,i,n)}},J8;class Op{static shouldAutoTrigger(e){if(!e.hasModel())return!1;const t=e.getModel(),i=e.getPosition();t.tokenization.tokenizeIfCheap(i.lineNumber);const r=t.getWordAtPosition(i);return!(!r||r.endColumn!==i.column&&r.startColumn+1!==i.column||!isNaN(Number(r.word)))}constructor(e,t,i){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.triggerOptions=i}}function qUe(n,e,t){if(!e.getContextKeyValue(xr.inlineSuggestionVisible.key))return!0;const i=e.getContextKeyValue(xr.suppressSuggestions.key);return i!==void 0?!i:!n.getOption(62).suppressSuggestions}function KUe(n,e,t){if(!e.getContextKeyValue("inlineSuggestionVisible"))return!0;const i=e.getContextKeyValue(xr.suppressSuggestions.key);return i!==void 0?!i:!n.getOption(62).suppressSuggestions}let LN=J8=class{constructor(e,t,i,r,o,s,a,l,c){this._editor=e,this._editorWorkerService=t,this._clipboardService=i,this._telemetryService=r,this._logService=o,this._contextKeyService=s,this._configurationService=a,this._languageFeaturesService=l,this._envService=c,this._toDispose=new xe,this._triggerCharacterListener=new xe,this._triggerQuickSuggest=new Kl,this._triggerState=void 0,this._completionDisposables=new xe,this._onDidCancel=new ne,this._onDidTrigger=new ne,this._onDidSuggest=new ne,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new Ke(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let d=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{d=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{d=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(u=>{d||this._onCursorChange(u)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!d&&this._triggerState!==void 0&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){vi(this._triggerCharacterListener),vi([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(90)||!this._editor.hasModel()||!this._editor.getOption(120))return;const e=new Map;for(const i of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const r of i.triggerCharacters||[]){let o=e.get(r);o||(o=new Set,o.add(LUe()),e.set(r,o)),o.add(i)}const t=i=>{var r;if(!KUe(this._editor,this._contextKeyService,this._configurationService)||Op.shouldAutoTrigger(this._editor))return;if(!i){const a=this._editor.getPosition();i=this._editor.getModel().getLineContent(a.lineNumber).substr(0,a.column-1)}let o="";Um(i.charCodeAt(i.length-1))?cr(i.charCodeAt(i.length-2))&&(o=i.substr(i.length-2)):o=i.charAt(i.length-1);const s=e.get(o);if(s){const a=new Map;if(this._completionModel)for(const[l,c]of this._completionModel.getItemsByProvider())s.has(l)||a.set(l,c);this.trigger({auto:!0,triggerKind:1,triggerCharacter:o,retrigger:!!this._completionModel,clipboardText:(r=this._completionModel)===null||r===void 0?void 0:r.clipboardText,completionOptions:{providerFilter:s,providerItemsToReuse:a}})}};this._triggerCharacterListener.add(this._editor.onDidType(t)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>t()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(e=!1){var t;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(t=this._requestToken)===null||t===void 0||t.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}_onCursorChange(e){if(!this._editor.hasModel())return;const t=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||e.reason!==0&&e.reason!==3||e.source!=="keyboard"&&e.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&e.reason===0?(t.containsRange(this._currentSelection)||t.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&e.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var e;gv.isAllOff(this._editor.getOption(88))||this._editor.getOption(117).snippetsPreventQuickSuggestions&&(!((e=Or.get(this._editor))===null||e===void 0)&&e.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0||!Op.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const t=this._editor.getModel(),i=this._editor.getPosition(),r=this._editor.getOption(88);if(!gv.isAllOff(r)){if(!gv.isAllOn(r)){t.tokenization.tokenizeIfCheap(i.lineNumber);const o=t.tokenization.getLineTokens(i.lineNumber),s=o.getStandardTokenType(o.findTokenIndexAtOffset(Math.max(i.column-1-1,0)));if(gv.valueFor(r,s)!=="on")return}qUe(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(t)&&this.trigger({auto:!0})}},this._editor.getOption(89)))}_refilterCompletionItems(){Ci(this._editor.hasModel()),Ci(this._triggerState!==void 0);const e=this._editor.getModel(),t=this._editor.getPosition(),i=new Op(e,t,{...this._triggerState,refilter:!0});this._onNewContext(i)}trigger(e){var t,i,r,o,s,a;if(!this._editor.hasModel())return;const l=this._editor.getModel(),c=new Op(l,this._editor.getPosition(),e);this.cancel(e.retrigger),this._triggerState=e,this._onDidTrigger.fire({auto:e.auto,shy:(t=e.shy)!==null&&t!==void 0?t:!1,position:this._editor.getPosition()}),this._context=c;let d={triggerKind:(i=e.triggerKind)!==null&&i!==void 0?i:0};e.triggerCharacter&&(d={triggerKind:1,triggerCharacter:e.triggerCharacter}),this._requestToken=new Pn;const u=this._editor.getOption(111);let h=1;switch(u){case"top":h=0;break;case"bottom":h=2;break}const{itemKind:f,showDeprecated:g}=J8.createSuggestFilter(this._editor),_=new ZS(h,(o=(r=e.completionOptions)===null||r===void 0?void 0:r.kindFilter)!==null&&o!==void 0?o:f,(s=e.completionOptions)===null||s===void 0?void 0:s.providerFilter,(a=e.completionOptions)===null||a===void 0?void 0:a.providerItemsToReuse,g),y=wc.create(this._editorWorkerService,this._editor),m=UH(this._languageFeaturesService.completionProvider,l,this._editor.getPosition(),_,d,this._requestToken.token);Promise.all([m,y]).then(async([p,v])=>{var b;if((b=this._requestToken)===null||b===void 0||b.dispose(),!this._editor.hasModel())return;let C=e==null?void 0:e.clipboardText;if(!C&&p.needsClipboard&&(C=await this._clipboardService.readText()),this._triggerState===void 0)return;const S=this._editor.getModel(),x=new Op(S,this._editor.getPosition(),e),k={...lM.default,firstMatchCanBeWeak:!this._editor.getOption(117).matchOnWordStartOnly};if(this._completionModel=new Rf(p.items,this._context.column,{leadingLineContent:x.leadingLineContent,characterCountDelta:x.column-this._context.column},v,this._editor.getOption(117),this._editor.getOption(111),k,C),this._completionDisposables.add(p.disposable),this._onNewContext(x),this._reportDurationsTelemetry(p.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment)for(const D of p.items)D.isInvalid&&this._logService.warn(`[suggest] did IGNORE invalid completion item from ${D.provider._debugDisplayName}`,D.completion)}).catch(St)}_reportDurationsTelemetry(e){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),this._logService.debug("suggest.durations.json",e)})}static createSuggestFilter(e){const t=new Set;e.getOption(111)==="none"&&t.add(27);const r=e.getOption(117);return r.showMethods||t.add(0),r.showFunctions||t.add(1),r.showConstructors||t.add(2),r.showFields||t.add(3),r.showVariables||t.add(4),r.showClasses||t.add(5),r.showStructs||t.add(6),r.showInterfaces||t.add(7),r.showModules||t.add(8),r.showProperties||t.add(9),r.showEvents||t.add(10),r.showOperators||t.add(11),r.showUnits||t.add(12),r.showValues||t.add(13),r.showConstants||t.add(14),r.showEnums||t.add(15),r.showEnumMembers||t.add(16),r.showKeywords||t.add(17),r.showWords||t.add(18),r.showColors||t.add(19),r.showFiles||t.add(20),r.showReferences||t.add(21),r.showColors||t.add(22),r.showFolders||t.add(23),r.showTypeParameters||t.add(24),r.showSnippets||t.add(27),r.showUsers||t.add(25),r.showIssues||t.add(26),{itemKind:t,showDeprecated:r.showDeprecated}}_onNewContext(e){if(this._context){if(e.lineNumber!==this._context.lineNumber){this.cancel();return}if(Ti(e.leadingLineContent)!==Ti(this._context.leadingLineContent)){this.cancel();return}if(e.column<this._context.column){e.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(this._completionModel){if(e.leadingWord.word.length!==0&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){if(Op.shouldAutoTrigger(this._editor)&&this._context){const i=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:i}})}return}if(e.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&e.leadingWord.word.length!==0){const t=new Map,i=new Set;for(const[r,o]of this._completionModel.getItemsByProvider())o.length>0&&o[0].container.incomplete?i.add(r):t.set(r,o);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:i,providerItemsToReuse:t}})}else{const t=this._completionModel.lineContext;let i=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},this._completionModel.items.length===0){const r=Op.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(r&&this._context.leadingWord.endColumn<e.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=t,i=this._completionModel.items.length>0,i&&e.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:e.triggerOptions,isFrozen:i})}}}}};LN=J8=$Ue([af(1,Xl),af(2,Vh),af(3,qs),af(4,Ks),af(5,_t),af(6,jt),af(7,qe),af(8,hV)],LN);class d2{constructor(e,t){this._disposables=new xe,this._lastOvertyped=[],this._locked=!1,this._disposables.add(e.onWillType(()=>{if(this._locked||!e.hasModel())return;const i=e.getSelections(),r=i.length;let o=!1;for(let a=0;a<r;a++)if(!i[a].isEmpty()){o=!0;break}if(!o){this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0);return}this._lastOvertyped=[];const s=e.getModel();for(let a=0;a<r;a++){const l=i[a];if(s.getValueLengthInRange(l)>d2._maxSelectionLength)return;this._lastOvertyped[a]={value:s.getValueInRange(l),multiline:l.startLineNumber!==l.endLineNumber}}})),this._disposables.add(t.onDidTrigger(i=>{this._locked=!0})),this._disposables.add(t.onDidCancel(i=>{this._locked=!1}))}getLastOvertypedInfo(e){if(e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}}d2._maxSelectionLength=51200;var GUe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},QO=function(n,e){return function(t,i){e(t,i,n)}};class KH extends Jm{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();this.label&&(this.label.textContent=w({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",this._action.label,KH.symbolPrintEnter(e)))}static symbolPrintEnter(e){var t;return(t=e.getLabel())===null||t===void 0?void 0:t.replace(/\benter\b/gi,"")}}let eB=class{constructor(e,t,i,r,o){this._menuId=t,this._menuService=r,this._contextKeyService=o,this._menuDisposables=new xe,this.element=Se(e,Te(".suggest-status-bar"));const s=a=>a instanceof Ul?i.createInstance(KH,a,void 0):void 0;this._leftActions=new sl(this.element,{actionViewItemProvider:s}),this._rightActions=new sl(this.element,{actionViewItemProvider:s}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){const e=this._menuService.createMenu(this._menuId,this._contextKeyService),t=()=>{const i=[],r=[];for(const[o,s]of e.getActions())o==="left"?i.push(...s):r.push(...s);this._leftActions.clear(),this._leftActions.push(i),this._rightActions.clear(),this._rightActions.push(r)};this._menuDisposables.add(e.onDidChange(()=>t())),this._menuDisposables.add(e)}hide(){this._menuDisposables.clear()}};eB=GUe([QO(2,dt),QO(3,ed),QO(4,_t)],eB);var ZUe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},YUe=function(n,e){return function(t,i){e(t,i,n)}};function GH(n){return!!n&&!!(n.completion.documentation||n.completion.detail&&n.completion.detail!==n.completion.label)}let tB=class{constructor(e,t){this._editor=e,this._onDidClose=new ne,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new ne,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new xe,this._renderDisposeable=new xe,this._borderWidth=1,this._size=new oi(330,0),this.domNode=Te(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=t.createInstance(du,{editor:e}),this._body=Te(".body"),this._scrollbar=new jx(this._body,{alwaysConsumeMouseWheel:!0}),Se(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=Se(this._body,Te(".header")),this._close=Se(this._header,Te("span"+lt.asCSSSelector(Ae.close))),this._close.title=w("details.close","Close"),this._type=Se(this._header,Te("p.type")),this._docs=Se(this._body,Te("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(50)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const e=this._editor.getOptions(),t=e.get(50),i=t.getMassagedFontFamily(),r=e.get(118)||t.fontSize,o=e.get(119)||t.lineHeight,s=t.fontWeight,a=`${r}px`,l=`${o}px`;this.domNode.style.fontSize=a,this.domNode.style.lineHeight=`${o/r}`,this.domNode.style.fontWeight=s,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=i,this._close.style.height=l,this._close.style.width=l}getLayoutInfo(){const e=this._editor.getOption(119)||this._editor.getOption(50).lineHeight,t=this._borderWidth,i=t*2;return{lineHeight:e,borderWidth:t,borderHeight:i,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=w("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(e,t){var i,r;this._renderDisposeable.clear();let{detail:o,documentation:s}=e.completion;if(t){let a="";a+=`score: ${e.score[0]}
`,a+=`prefix: ${(i=e.word)!==null&&i!==void 0?i:"(no prefix)"}
`,a+=`word: ${e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel}
`,a+=`distance: ${e.distance} (localityBonus-setting)
`,a+=`index: ${e.idx}, based on ${e.completion.sortText&&`sortText: "${e.completion.sortText}"`||"label"}
`,a+=`commit_chars: ${(r=e.completion.commitCharacters)===null||r===void 0?void 0:r.join("")}
`,s=new eo().appendCodeblock("empty",a),o=`Provider: ${e.provider._debugDisplayName}`}if(!t&&!GH(e)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),o){const a=o.length>1e5?`${o.substr(0,1e5)}`:o;this._type.textContent=a,this._type.title=a,Ps(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(a))}else $r(this._type),this._type.title="",Mo(this._type),this.domNode.classList.add("no-type");if($r(this._docs),typeof s=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=s;else if(s){this._docs.classList.add("markdown-docs"),$r(this._docs);const a=this._markdownRenderer.render(s);this._docs.appendChild(a.element),this._renderDisposeable.add(a),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=a=>{a.preventDefault(),a.stopPropagation()},this._close.onclick=a=>{a.preventDefault(),a.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get isEmpty(){return this.domNode.classList.contains("no-docs")}get size(){return this._size}layout(e,t){const i=new oi(e,t);oi.equals(i,this._size)||(this._size=i,DDe(this.domNode,e,t)),this._scrollbar.scanDomNode()}scrollDown(e=8){this._body.scrollTop+=e}scrollUp(e=8){this._body.scrollTop-=e}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(e){this._borderWidth=e}get borderWidth(){return this._borderWidth}};tB=ZUe([YUe(1,dt)],tB);class XUe{constructor(e,t){this.widget=e,this._editor=t,this.allowEditorOverflow=!0,this._disposables=new xe,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new EH,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(e.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let i,r,o=0,s=0;this._disposables.add(this._resizable.onDidWillResize(()=>{i=this._topLeft,r=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(a=>{if(i&&r){this.widget.layout(a.dimension.width,a.dimension.height);let l=!1;a.west&&(s=r.width-a.dimension.width,l=!0),a.north&&(o=r.height-a.dimension.height,l=!0),l&&this._applyTopLeft({top:i.top+o,left:i.left+s})}a.done&&(i=void 0,r=void 0,o=0,s=0,this._userSize=a.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var a;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(a=this._userSize)!==null&&a!==void 0?a:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return this._topLeft?{preference:this._topLeft}:null}show(){this._added||(this._editor.addOverlayWidget(this),this._added=!0)}hide(e=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(e,t){var i;const r=e.getBoundingClientRect();this._anchorBox=r,this._preferAlignAtTop=t,this._placeAtAnchor(this._anchorBox,(i=this._userSize)!==null&&i!==void 0?i:this.widget.size,t)}_placeAtAnchor(e,t,i){var r;const o=Ag(this.getDomNode().ownerDocument.body),s=this.widget.getLayoutInfo(),a=new oi(220,2*s.lineHeight),l=e.top,c=function(){const S=o.width-(e.left+e.width+s.borderWidth+s.horizontalPadding),x=-s.borderWidth+e.left+e.width,k=new oi(S,o.height-e.top-s.borderHeight-s.verticalPadding),D=k.with(void 0,e.top+e.height-s.borderHeight-s.verticalPadding);return{top:l,left:x,fit:S-t.width,maxSizeTop:k,maxSizeBottom:D,minSize:a.with(Math.min(S,a.width))}}(),d=function(){const S=e.left-s.borderWidth-s.horizontalPadding,x=Math.max(s.horizontalPadding,e.left-t.width-s.borderWidth),k=new oi(S,o.height-e.top-s.borderHeight-s.verticalPadding),D=k.with(void 0,e.top+e.height-s.borderHeight-s.verticalPadding);return{top:l,left:x,fit:S-t.width,maxSizeTop:k,maxSizeBottom:D,minSize:a.with(Math.min(S,a.width))}}(),u=function(){const S=e.left,x=-s.borderWidth+e.top+e.height,k=new oi(e.width-s.borderHeight,o.height-e.top-e.height-s.verticalPadding);return{top:x,left:S,fit:k.height-t.height,maxSizeBottom:k,maxSizeTop:k,minSize:a.with(k.width)}}(),h=[c,d,u],f=(r=h.find(S=>S.fit>=0))!==null&&r!==void 0?r:h.sort((S,x)=>x.fit-S.fit)[0],g=e.top+e.height-s.borderHeight;let _,y=t.height;const m=Math.max(f.maxSizeTop.height,f.maxSizeBottom.height);y>m&&(y=m);let p;i?y<=f.maxSizeTop.height?(_=!0,p=f.maxSizeTop):(_=!1,p=f.maxSizeBottom):y<=f.maxSizeBottom.height?(_=!1,p=f.maxSizeBottom):(_=!0,p=f.maxSizeTop);let{top:v,left:b}=f;!_&&y>e.height&&(v=g-y);const C=this._editor.getDomNode();if(C){const S=C.getBoundingClientRect();v-=S.top,b-=S.left}this._applyTopLeft({left:b,top:v}),this._resizable.enableSashes(!_,f===c,_,f!==c),this._resizable.minSize=f.minSize,this._resizable.maxSize=p,this._resizable.layout(y,Math.min(p.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(e){this._topLeft=e,this._editor.layoutOverlayWidget(this)}}var Kd;(function(n){n[n.FILE=0]="FILE",n[n.FOLDER=1]="FOLDER",n[n.ROOT_FOLDER=2]="ROOT_FOLDER"})(Kd||(Kd={}));const QUe=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function wD(n,e,t,i,r){if(r)return[`codicon-${r.id}`,"predefined-file-icon"];const o=i===Kd.ROOT_FOLDER?["rootfolder-icon"]:i===Kd.FOLDER?["folder-icon"]:["file-icon"];if(t){let s;if(t.scheme===Tt.data)s=Hg.parseMetaData(t).get(Hg.META_DATA_LABEL);else{const a=t.path.match(QUe);a?(s=SD(a[2].toLowerCase()),a[1]&&o.push(`${SD(a[1].toLowerCase())}-name-dir-icon`)):s=SD(t.authority.toLowerCase())}if(i===Kd.ROOT_FOLDER)o.push(`${s}-root-name-folder-icon`);else if(i===Kd.FOLDER)o.push(`${s}-name-folder-icon`);else{if(s){if(o.push(`${s}-name-file-icon`),o.push("name-file-icon"),s.length<=255){const l=s.split(".");for(let c=1;c<l.length;c++)o.push(`${l.slice(c).join(".")}-ext-file-icon`)}o.push("ext-file-icon")}const a=JUe(n,e,t);a&&o.push(`${SD(a)}-lang-file-icon`)}}return o}function JUe(n,e,t){if(!t)return null;let i=null;if(t.scheme===Tt.data){const o=Hg.parseMetaData(t).get(Hg.META_DATA_MIME);o&&(i=e.getLanguageIdByMimeType(o))}else{const r=n.getModel(t);r&&(i=r.getLanguageId())}return i&&i!==Sa?i:e.guessLanguageIdByFilepathOrFirstLine(t)}function SD(n){return n.replace(/[\11\12\14\15\40]/g,"/")}var e$e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},JO=function(n,e){return function(t,i){e(t,i,n)}},lf;function pfe(n){return`suggest-aria-id:${n}`}const t$e=Dn("suggest-more-info",Ae.chevronRight,w("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),i$e=new(lf=class{extract(e,t){if(e.textLabel.match(lf._regexStrict))return t[0]=e.textLabel,!0;if(e.completion.detail&&e.completion.detail.match(lf._regexStrict))return t[0]=e.completion.detail,!0;if(e.completion.documentation){const i=typeof e.completion.documentation=="string"?e.completion.documentation:e.completion.documentation.value,r=lf._regexRelaxed.exec(i);if(r&&(r.index===0||r.index+r[0].length===i.length))return t[0]=r[0],!0}return!1}},lf._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,lf._regexStrict=new RegExp(`^${lf._regexRelaxed.source}$`,"i"),lf);let iB=class{constructor(e,t,i,r){this._editor=e,this._modelService=t,this._languageService=i,this._themeService=r,this._onDidToggleDetails=new ne,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(e){const t=new xe,i=e;i.classList.add("show-file-icons");const r=Se(e,Te(".icon")),o=Se(r,Te("span.colorspan")),s=Se(e,Te(".contents")),a=Se(s,Te(".main")),l=Se(a,Te(".icon-label.codicon")),c=Se(a,Te("span.left")),d=Se(a,Te("span.right")),u=new qI(c,{supportHighlights:!0,supportIcons:!0});t.add(u);const h=Se(c,Te("span.signature-label")),f=Se(c,Te("span.qualifier-label")),g=Se(d,Te("span.details-label")),_=Se(d,Te("span.readMore"+lt.asCSSSelector(t$e)));return _.title=w("readMore","Read More"),{root:i,left:c,right:d,icon:r,colorspan:o,iconLabel:u,iconContainer:l,parametersLabel:h,qualifierLabel:f,detailsLabel:g,readMore:_,disposables:t,configureFont:()=>{const m=this._editor.getOptions(),p=m.get(50),v=p.getMassagedFontFamily(),b=p.fontFeatureSettings,C=m.get(118)||p.fontSize,S=m.get(119)||p.lineHeight,x=p.fontWeight,k=p.letterSpacing,D=`${C}px`,E=`${S}px`,I=`${k}px`;i.style.fontSize=D,i.style.fontWeight=x,i.style.letterSpacing=I,a.style.fontFamily=v,a.style.fontFeatureSettings=b,a.style.lineHeight=E,r.style.height=E,r.style.width=E,_.style.height=E,_.style.width=E}}}renderElement(e,t,i){i.configureFont();const{completion:r}=e;i.root.id=pfe(t),i.colorspan.style.backgroundColor="";const o={labelEscapeNewLines:!0,matches:Yx(e.score)},s=[];if(r.kind===19&&i$e.extract(e,s))i.icon.className="icon customcolor",i.iconContainer.className="icon hide",i.colorspan.style.backgroundColor=s[0];else if(r.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){i.icon.className="icon hide",i.iconContainer.className="icon hide";const a=wD(this._modelService,this._languageService,rt.from({scheme:"fake",path:e.textLabel}),Kd.FILE),l=wD(this._modelService,this._languageService,rt.from({scheme:"fake",path:r.detail}),Kd.FILE);o.extraClasses=a.length>l.length?a:l}else r.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(i.icon.className="icon hide",i.iconContainer.className="icon hide",o.extraClasses=[wD(this._modelService,this._languageService,rt.from({scheme:"fake",path:e.textLabel}),Kd.FOLDER),wD(this._modelService,this._languageService,rt.from({scheme:"fake",path:r.detail}),Kd.FOLDER)].flat()):(i.icon.className="icon hide",i.iconContainer.className="",i.iconContainer.classList.add("suggest-icon",...lt.asClassNameArray(B1.toIcon(r.kind))));r.tags&&r.tags.indexOf(1)>=0&&(o.extraClasses=(o.extraClasses||[]).concat(["deprecated"]),o.matches=[]),i.iconLabel.setLabel(e.textLabel,void 0,o),typeof r.label=="string"?(i.parametersLabel.textContent="",i.detailsLabel.textContent=e5(r.detail||""),i.root.classList.add("string-label")):(i.parametersLabel.textContent=e5(r.label.detail||""),i.detailsLabel.textContent=e5(r.label.description||""),i.root.classList.remove("string-label")),this._editor.getOption(117).showInlineDetails?Ps(i.detailsLabel):Mo(i.detailsLabel),GH(e)?(i.right.classList.add("can-expand-details"),Ps(i.readMore),i.readMore.onmousedown=a=>{a.stopPropagation(),a.preventDefault()},i.readMore.onclick=a=>{a.stopPropagation(),a.preventDefault(),this._onDidToggleDetails.fire()}):(i.right.classList.remove("can-expand-details"),Mo(i.readMore),i.readMore.onmousedown=null,i.readMore.onclick=null)}disposeTemplate(e){e.disposables.dispose()}};iB=e$e([JO(1,Ji),JO(2,Zi),JO(3,mr)],iB);function e5(n){return n.replace(/\r\n|\r|\n/g,"")}var n$e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},xD=function(n,e){return function(t,i){e(t,i,n)}},I0;U("editorSuggestWidget.background",{dark:mn,light:mn,hcDark:mn,hcLight:mn},w("editorSuggestWidgetBackground","Background color of the suggest widget."));U("editorSuggestWidget.border",{dark:Ud,light:Ud,hcDark:Ud,hcLight:Ud},w("editorSuggestWidgetBorder","Border color of the suggest widget."));const LD=U("editorSuggestWidget.foreground",{dark:Rl,light:Rl,hcDark:Rl,hcLight:Rl},w("editorSuggestWidgetForeground","Foreground color of the suggest widget."));U("editorSuggestWidget.selectedForeground",{dark:cm,light:cm,hcDark:cm,hcLight:cm},w("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget."));U("editorSuggestWidget.selectedIconForeground",{dark:ev,light:ev,hcDark:ev,hcLight:ev},w("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));const r$e=U("editorSuggestWidget.selectedBackground",{dark:dm,light:dm,hcDark:dm,hcLight:dm},w("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));U("editorSuggestWidget.highlightForeground",{dark:Al,light:Al,hcDark:Al,hcLight:Al},w("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget."));U("editorSuggestWidget.focusHighlightForeground",{dark:wk,light:wk,hcDark:wk,hcLight:wk},w("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused."));U("editorSuggestWidgetStatus.foreground",{dark:Je(LD,.5),light:Je(LD,.5),hcDark:Je(LD,.5),hcLight:Je(LD,.5)},w("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class o$e{constructor(e,t){this._service=e,this._key=`suggestWidget.size/${t.getEditorType()}/${t instanceof Gg}`}restore(){var e;const t=(e=this._service.get(this._key,0))!==null&&e!==void 0?e:"";try{const i=JSON.parse(t);if(oi.is(i))return oi.lift(i)}catch{}}store(e){this._service.store(this._key,JSON.stringify(e),0,1)}reset(){this._service.remove(this._key,0)}}let QS=I0=class{constructor(e,t,i,r,o){this.editor=e,this._storageService=t,this._state=0,this._isAuto=!1,this._pendingLayout=new Lr,this._pendingShowDetails=new Lr,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new Kl,this._disposables=new xe,this._onDidSelect=new Hm,this._onDidFocus=new Hm,this._onDidHide=new ne,this._onDidShow=new ne,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new ne,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new EH,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new s$e(this,e),this._persistedSize=new o$e(t,e);class s{constructor(f,g,_=!1,y=!1){this.persistedSize=f,this.currentSize=g,this.persistHeight=_,this.persistWidth=y}}let a;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),a=new s(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(h=>{var f,g,_,y;if(this._resize(h.dimension.width,h.dimension.height),a&&(a.persistHeight=a.persistHeight||!!h.north||!!h.south,a.persistWidth=a.persistWidth||!!h.east||!!h.west),!!h.done){if(a){const{itemHeight:m,defaultSize:p}=this.getLayoutInfo(),v=Math.round(m/2);let{width:b,height:C}=this.element.size;(!a.persistHeight||Math.abs(a.currentSize.height-C)<=v)&&(C=(g=(f=a.persistedSize)===null||f===void 0?void 0:f.height)!==null&&g!==void 0?g:p.height),(!a.persistWidth||Math.abs(a.currentSize.width-b)<=v)&&(b=(y=(_=a.persistedSize)===null||_===void 0?void 0:_.width)!==null&&y!==void 0?y:p.width),this._persistedSize.store(new oi(b,C))}this._contentWidget.unlockPreference(),a=void 0}})),this._messageElement=Se(this.element.domNode,Te(".message")),this._listElement=Se(this.element.domNode,Te(".tree"));const l=this._disposables.add(o.createInstance(tB,this.editor));l.onDidClose(this.toggleDetails,this,this._disposables),this._details=new XUe(l,this.editor);const c=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(117).showIcons);c();const d=o.createInstance(iB,this.editor);this._disposables.add(d),this._disposables.add(d.onDidToggleDetails(()=>this.toggleDetails())),this._list=new Zl("SuggestWidget",this._listElement,{getHeight:h=>this.getLayoutInfo().itemHeight,getTemplateId:h=>"suggestion"},[d],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>w("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:h=>{let f=h.textLabel;if(typeof h.completion.label!="string"){const{detail:m,description:p}=h.completion.label;m&&p?f=w("label.full","{0} {1}, {2}",f,m,p):m?f=w("label.detail","{0} {1}",f,m):p&&(f=w("label.desc","{0}, {1}",f,p))}if(!h.isResolved||!this._isDetailsVisible())return f;const{documentation:g,detail:_}=h.completion,y=zm("{0}{1}",_||"",g?typeof g=="string"?g:g.value:"");return w("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",f,y)}}}),this._list.style(ky({listInactiveFocusBackground:r$e,listInactiveFocusOutline:Hi})),this._status=o.createInstance(eB,this.element.domNode,wg);const u=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(117).showStatusBar);u(),this._disposables.add(r.onDidColorThemeChange(h=>this._onThemeChange(h))),this._onThemeChange(r.getColorTheme()),this._disposables.add(this._list.onMouseDown(h=>this._onListMouseDownOrTap(h))),this._disposables.add(this._list.onTap(h=>this._onListMouseDownOrTap(h))),this._disposables.add(this._list.onDidChangeSelection(h=>this._onListSelection(h))),this._disposables.add(this._list.onDidChangeFocus(h=>this._onListFocus(h))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(h=>{h.hasChanged(117)&&(u(),c()),this._completionModel&&(h.hasChanged(50)||h.hasChanged(118)||h.hasChanged(119))&&this._list.splice(0,this._list.length,this._completionModel.items)})),this._ctxSuggestWidgetVisible=Nt.Visible.bindTo(i),this._ctxSuggestWidgetDetailsVisible=Nt.DetailsVisible.bindTo(i),this._ctxSuggestWidgetMultipleSuggestions=Nt.MultipleSuggestions.bindTo(i),this._ctxSuggestWidgetHasFocusedSuggestion=Nt.HasFocusedSuggestion.bindTo(i),this._disposables.add(kn(this._details.widget.domNode,"keydown",h=>{this._onDetailsKeydown.fire(h)})),this._disposables.add(this.editor.onMouseDown(h=>this._onEditorMouseDown(h)))}dispose(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(e){typeof e.element>"u"||typeof e.index>"u"||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}_onListSelection(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}_select(e,t){const i=this._completionModel;i&&(this._onDidSelect.fire({item:e,index:t,model:i}),this.editor.focus())}_onThemeChange(e){this._details.widget.borderWidth=Fc(e.type)?2:1}_onListFocus(e){var t;if(this._ignoreFocusEvents)return;if(!e.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const i=e.elements[0],r=e.indexes[0];i!==this._focusedItem&&((t=this._currentSuggestionDetails)===null||t===void 0||t.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=i,this._list.reveal(r),this._currentSuggestionDetails=gr(async o=>{const s=Rg(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),a=o.onCancellationRequested(()=>s.dispose());try{return await i.resolve(o)}finally{s.dispose(),a.dispose()}}),this._currentSuggestionDetails.then(()=>{r>=this._list.length||i!==this._list.element(r)||(this._ignoreFocusEvents=!0,this._list.splice(r,1,[i]),this._list.setFocus([r]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:pfe(r)}))}).catch(St)),this._onDidFocus.fire({item:i,index:r,model:this._completionModel})}_setState(e){if(this._state!==e)switch(this._state=e,this.element.domNode.classList.toggle("frozen",e===4),this.element.domNode.classList.remove("message"),e){case 0:Mo(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=I0.LOADING_MESSAGE,Mo(this._listElement,this._status.element),Ps(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,Ih(I0.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=I0.NO_SUGGESTIONS_MESSAGE,Mo(this._listElement,this._status.element),Ps(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,Ih(I0.NO_SUGGESTIONS_MESSAGE);break;case 3:Mo(this._messageElement),Ps(this._listElement,this._status.element),this._show();break;case 4:Mo(this._messageElement),Ps(this._listElement,this._status.element),this._show();break;case 5:Mo(this._messageElement),Ps(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(e,t){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=Rg(()=>this._setState(1),t)))}showSuggestions(e,t,i,r,o){var s,a;if(this._contentWidget.setPosition(this.editor.getPosition()),(s=this._loadingTimeout)===null||s===void 0||s.dispose(),(a=this._currentSuggestionDetails)===null||a===void 0||a.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),i&&this._state!==2&&this._state!==0){this._setState(4);return}const l=this._completionModel.items.length,c=l===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(l>1),c){this._setState(r?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(i?4:3),this._list.reveal(t,0),this._list.setFocus(o?[]:[t])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=HE(ht(this.element.domNode),()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(GH(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(e){this._pendingShowDetails.value=HE(ht(this.element.domNode),()=>{this._pendingShowDetails.clear(),this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._details.widget.isEmpty?this._details.hide():(this._positionDetails(),this.element.domNode.classList.add("shows-details")),this.editor.focus()})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var e;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const t=this._persistedSize.restore(),i=Math.ceil(this.getLayoutInfo().itemHeight*4.3);t&&t.height<i&&this._persistedSize.store(t.with(void 0,i))}isFrozen(){return this._state===4}_afterRender(e){if(e===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&!this._details.widget.isEmpty&&this._details.show(),this._positionDetails())}_layout(e){var t,i,r;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const o=Ag(this.element.domNode.ownerDocument.body),s=this.getLayoutInfo();e||(e=s.defaultSize);let a=e.height,l=e.width;if(this._status.element.style.height=`${s.itemHeight}px`,this._state===2||this._state===1)a=s.itemHeight+s.borderHeight,l=s.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new oi(l,a),this._contentWidget.setPreference(2);else{const c=o.width-s.borderHeight-2*s.horizontalPadding;l>c&&(l=c);const d=this._completionModel?this._completionModel.stats.pLabelLen*s.typicalHalfwidthCharacterWidth:l,u=s.statusBarHeight+this._list.contentHeight+s.borderHeight,h=s.itemHeight+s.statusBarHeight,f=Vn(this.editor.getDomNode()),g=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),_=f.top+g.top+g.height,y=Math.min(o.height-_-s.verticalPadding,u),m=f.top+g.top-s.verticalPadding,p=Math.min(m,u);let v=Math.min(Math.max(p,y)+s.borderHeight,u);a===((t=this._cappedHeight)===null||t===void 0?void 0:t.capped)&&(a=this._cappedHeight.wanted),a<h&&(a=h),a>v&&(a=v),a>y||this._forceRenderingAbove&&m>150?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),v=p):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),v=y),this.element.preferredSize=new oi(d,s.defaultSize.height),this.element.maxSize=new oi(c,v),this.element.minSize=new oi(220,h),this._cappedHeight=a===u?{wanted:(r=(i=this._cappedHeight)===null||i===void 0?void 0:i.wanted)!==null&&r!==void 0?r:e.height,capped:a}:void 0}this._resize(l,a)}_resize(e,t){const{width:i,height:r}=this.element.maxSize;e=Math.min(i,e),t=Math.min(r,t);const{statusBarHeight:o}=this.getLayoutInfo();this._list.layout(t-o,e),this._listElement.style.height=`${t-o}px`,this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var e;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((e=this._contentWidget.getPosition())===null||e===void 0?void 0:e.preference[0])===2)}getLayoutInfo(){const e=this.editor.getOption(50),t=ss(this.editor.getOption(119)||e.lineHeight,8,1e3),i=!this.editor.getOption(117).showStatusBar||this._state===2||this._state===1?0:t,r=this._details.widget.borderWidth,o=2*r;return{itemHeight:t,statusBarHeight:i,borderWidth:r,borderHeight:o,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new oi(430,i+12*t+o)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(e){this._storageService.store("expandSuggestionDocs",e,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};QS.LOADING_MESSAGE=w("suggestWidget.loading","Loading...");QS.NO_SUGGESTIONS_MESSAGE=w("suggestWidget.noSuggestions","No suggestions.");QS=I0=n$e([xD(1,Yl),xD(2,_t),xD(3,mr),xD(4,dt)],QS);class s$e{constructor(e,t){this._widget=e,this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:e,width:t}=this._widget.element.size,{borderWidth:i,horizontalPadding:r}=this._widget.getLayoutInfo();return new oi(t+2*i+r,e+2*i)}afterRender(e){this._widget._afterRender(e)}setPreference(e){this._preferenceLocked||(this._preference=e)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(e){this._position=e}}var a$e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},b0=function(n,e){return function(t,i){e(t,i,n)}},nB;class l$e{constructor(e,t){if(this._model=e,this._position=t,this._decorationOptions=kt.register({description:"suggest-line-suffix",stickiness:1}),e.getLineMaxColumn(t.lineNumber)!==t.column){const r=e.getOffsetAt(t),o=e.getPositionAt(r+1);e.changeDecorations(s=>{this._marker&&s.removeDecoration(this._marker),this._marker=s.addDecoration(B.fromPositions(t,o),this._decorationOptions)})}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.changeDecorations(e=>{e.removeDecoration(this._marker),this._marker=void 0})}delta(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){const t=this._model.getDecorationRange(this._marker);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}else return this._model.getLineMaxColumn(e.lineNumber)-e.column}}let Fl=nB=class{static get(e){return e.getContribution(nB.ID)}constructor(e,t,i,r,o,s,a){this._memoryService=t,this._commandService=i,this._contextKeyService=r,this._instantiationService=o,this._logService=s,this._telemetryService=a,this._lineSuffix=new Lr,this._toDispose=new xe,this._selectors=new c$e(u=>u.priority),this._onWillInsertSuggestItem=new ne,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=e,this.model=o.createInstance(LN,this.editor),this._selectors.register({priority:0,select:(u,h,f)=>this._memoryService.select(u,h,f)});const l=Nt.InsertMode.bindTo(r);l.set(e.getOption(117).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>l.set(e.getOption(117).insertMode))),this.widget=this._toDispose.add(new wA(ht(e.getDomNode()),()=>{const u=this._instantiationService.createInstance(QS,this.editor);this._toDispose.add(u),this._toDispose.add(u.onDidSelect(y=>this._insertSuggestion(y,0),this));const h=new UUe(this.editor,u,this.model,y=>this._insertSuggestion(y,2));this._toDispose.add(h);const f=Nt.MakesTextEdit.bindTo(this._contextKeyService),g=Nt.HasInsertAndReplaceRange.bindTo(this._contextKeyService),_=Nt.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(at(()=>{f.reset(),g.reset(),_.reset()})),this._toDispose.add(u.onDidFocus(({item:y})=>{const m=this.editor.getPosition(),p=y.editStart.column,v=m.column;let b=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!y.completion.additionalTextEdits&&!(y.completion.insertTextRules&4)&&v-p===y.completion.insertText.length&&(b=this.editor.getModel().getValueInRange({startLineNumber:m.lineNumber,startColumn:p,endLineNumber:m.lineNumber,endColumn:v})!==y.completion.insertText),f.set(b),g.set(!re.equals(y.editInsertEnd,y.editReplaceEnd)),_.set(!!y.provider.resolveCompletionItem||!!y.completion.documentation||y.completion.detail!==y.completion.label)})),this._toDispose.add(u.onDetailsKeyDown(y=>{if(y.toKeyCodeChord().equals(new Eh(!0,!1,!1,!1,33))||qt&&y.toKeyCodeChord().equals(new Eh(!1,!1,!1,!0,33))){y.stopPropagation();return}y.toKeyCodeChord().isModifierKey()||this.editor.focus()})),u})),this._overtypingCapturer=this._toDispose.add(new wA(ht(e.getDomNode()),()=>this._toDispose.add(new d2(this.editor,this.model)))),this._alternatives=this._toDispose.add(new wA(ht(e.getDomNode()),()=>this._toDispose.add(new f_(this.editor,this._contextKeyService)))),this._toDispose.add(o.createInstance(XS,e)),this._toDispose.add(this.model.onDidTrigger(u=>{this.widget.value.showTriggered(u.auto,u.shy?250:50),this._lineSuffix.value=new l$e(this.editor.getModel(),u.position)})),this._toDispose.add(this.model.onDidSuggest(u=>{if(u.triggerOptions.shy)return;let h=-1;for(const g of this._selectors.itemsOrderedByPriorityDesc)if(h=g.select(this.editor.getModel(),this.editor.getPosition(),u.completionModel.items),h!==-1)break;if(h===-1&&(h=0),this.model.state===0)return;let f=!1;if(u.triggerOptions.auto){const g=this.editor.getOption(117);g.selectionMode==="never"||g.selectionMode==="always"?f=g.selectionMode==="never":g.selectionMode==="whenTriggerCharacter"?f=u.triggerOptions.triggerKind!==1:g.selectionMode==="whenQuickSuggestion"&&(f=u.triggerOptions.triggerKind===1&&!u.triggerOptions.refilter)}this.widget.value.showSuggestions(u.completionModel,h,u.isFrozen,u.triggerOptions.auto,f)})),this._toDispose.add(this.model.onDidCancel(u=>{u.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{this.model.cancel(),this.model.clear()}));const c=Nt.AcceptSuggestionsOnEnter.bindTo(r),d=()=>{const u=this.editor.getOption(1);c.set(u==="on"||u==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>d())),d()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion(e,t){if(!e||!e.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const i=Or.get(this.editor);if(!i)return;this._onWillInsertSuggestItem.fire({item:e.item});const r=this.editor.getModel(),o=r.getAlternativeVersionId(),{item:s}=e,a=[],l=new Pn;t&1||this.editor.pushUndoStop();const c=this.getOverwriteInfo(s,!!(t&8));this._memoryService.memorize(r,this.editor.getPosition(),s);const d=s.isResolved;let u=-1,h=-1;if(Array.isArray(s.completion.additionalTextEdits)){this.model.cancel();const g=Xc.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",s.completion.additionalTextEdits.map(_=>{let y=B.lift(_.range);if(y.startLineNumber===s.position.lineNumber&&y.startColumn>s.position.column){const m=this.editor.getPosition().column-s.position.column,p=m,v=B.spansMultipleLines(y)?0:m;y=new B(y.startLineNumber,y.startColumn+p,y.endLineNumber,y.endColumn+v)}return Qi.replaceMove(y,_.text)})),g.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!d){const g=new ro;let _;const y=r.onDidChangeContent(b=>{if(b.isFlush){l.cancel(),y.dispose();return}for(const C of b.changes){const S=B.getEndPosition(C.range);(!_||re.isBefore(S,_))&&(_=S)}}),m=t;t|=2;let p=!1;const v=this.editor.onWillType(()=>{v.dispose(),p=!0,m&2||this.editor.pushUndoStop()});a.push(s.resolve(l.token).then(()=>{if(!s.completion.additionalTextEdits||l.token.isCancellationRequested)return;if(_&&s.completion.additionalTextEdits.some(C=>re.isBefore(_,B.getStartPosition(C.range))))return!1;p&&this.editor.pushUndoStop();const b=Xc.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",s.completion.additionalTextEdits.map(C=>Qi.replaceMove(B.lift(C.range),C.text))),b.restoreRelativeVerticalPositionOfCursor(this.editor),(p||!(m&2))&&this.editor.pushUndoStop(),!0}).then(b=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",g.elapsed(),b),h=b===!0?1:b===!1?0:-2}).finally(()=>{y.dispose(),v.dispose()}))}let{insertText:f}=s.completion;if(s.completion.insertTextRules&4||(f=o_.escape(f)),this.model.cancel(),i.insert(f,{overwriteBefore:c.overwriteBefore,overwriteAfter:c.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(s.completion.insertTextRules&1),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),t&2||this.editor.pushUndoStop(),s.completion.command)if(s.completion.command.id===vL.id)this.model.trigger({auto:!0,retrigger:!0});else{const g=new ro;a.push(this._commandService.executeCommand(s.completion.command.id,...s.completion.command.arguments?[...s.completion.command.arguments]:[]).catch(_=>{s.completion.extensionId?Hn(_):St(_)}).finally(()=>{u=g.elapsed()}))}t&4&&this._alternatives.value.set(e,g=>{for(l.cancel();r.canUndo();){o!==r.getAlternativeVersionId()&&r.undo(),this._insertSuggestion(g,3|(t&8?8:0));break}}),this._alertCompletionItem(s),Promise.all(a).finally(()=>{this._reportSuggestionAcceptedTelemetry(s,r,d,u,h),this.model.clear(),l.dispose()})}_reportSuggestionAcceptedTelemetry(e,t,i,r,o){var s,a,l;Math.floor(Math.random()*100)!==0&&this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:(a=(s=e.extensionId)===null||s===void 0?void 0:s.value)!==null&&a!==void 0?a:"unknown",providerId:(l=e.provider._debugDisplayName)!==null&&l!==void 0?l:"unknown",kind:e.completion.kind,basenameHash:IP(ol(t.uri)).toString(16),languageId:t.getLanguageId(),fileExtension:yRe(t.uri),resolveInfo:e.provider.resolveCompletionItem?i?1:0:-1,resolveDuration:e.resolveDuration,commandDuration:r,additionalEditsAsync:o})}getOverwriteInfo(e,t){Ci(this.editor.hasModel());let i=this.editor.getOption(117).insertMode==="replace";t&&(i=!i);const r=e.position.column-e.editStart.column,o=(i?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column,s=this.editor.getPosition().column-e.position.column,a=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:r+s,overwriteAfter:o+a}}_alertCompletionItem(e){if(io(e.completion.additionalTextEdits)){const t=w("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);zs(t)}}triggerSuggest(e,t,i){this.editor.hasModel()&&(this.model.trigger({auto:t??!1,completionOptions:{providerFilter:e,kindFilter:i?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;const t=this.editor.getPosition(),i=()=>{t.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},r=o=>{if(o.completion.insertTextRules&4||o.completion.additionalTextEdits)return!0;const s=this.editor.getPosition(),a=o.editStart.column,l=s.column;return l-a!==o.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:s.lineNumber,startColumn:a,endLineNumber:s.lineNumber,endColumn:l})!==o.completion.insertText};Ve.once(this.model.onDidTrigger)(o=>{const s=[];Ve.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{vi(s),i()},void 0,s),this.model.onDidSuggest(({completionModel:a})=>{if(vi(s),a.items.length===0){i();return}const l=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),a.items),c=a.items[l];if(!r(c)){i();return}this.editor.pushUndoStop(),this._insertSuggestion({index:l,item:c,model:a},7)},void 0,s)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(t,0),this.editor.focus()}acceptSelectedSuggestion(e,t){const i=this.widget.value.getFocusedItem();let r=0;e&&(r|=4),t&&(r|=8),this._insertSuggestion(i,r)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(e){return this._selectors.register(e)}};Fl.ID="editor.contrib.suggestController";Fl=nB=a$e([b0(1,c2),b0(2,fn),b0(3,_t),b0(4,dt),b0(5,Ks),b0(6,qs)],Fl);class c$e{constructor(e){this.prioritySelector=e,this._items=new Array}register(e){if(this._items.indexOf(e)!==-1)throw new Error("Value is already registered");return this._items.push(e),this._items.sort((t,i)=>this.prioritySelector(i)-this.prioritySelector(t)),{dispose:()=>{const t=this._items.indexOf(e);t>=0&&this._items.splice(t,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class vL extends $e{constructor(){super({id:vL.id,label:w("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:we.and(j.writable,j.hasCompletionItemProvider,Nt.Visible.toNegated()),kbOpts:{kbExpr:j.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(e,t,i){const r=Fl.get(t);if(!r)return;let o;i&&typeof i=="object"&&i.auto===!0&&(o=!0),r.triggerSuggest(void 0,o,void 0)}}vL.id="editor.action.triggerSuggest";li(Fl.ID,Fl,2);Ee(vL);const Ta=190,Yo=kr.bindToContribution(Fl.get);We(new Yo({id:"acceptSelectedSuggestion",precondition:we.and(Nt.Visible,Nt.HasFocusedSuggestion),handler(n){n.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:we.and(Nt.Visible,j.textInputFocus),weight:Ta},{primary:3,kbExpr:we.and(Nt.Visible,j.textInputFocus,Nt.AcceptSuggestionsOnEnter,Nt.MakesTextEdit),weight:Ta}],menuOpts:[{menuId:wg,title:w("accept.insert","Insert"),group:"left",order:1,when:Nt.HasInsertAndReplaceRange.toNegated()},{menuId:wg,title:w("accept.insert","Insert"),group:"left",order:1,when:we.and(Nt.HasInsertAndReplaceRange,Nt.InsertMode.isEqualTo("insert"))},{menuId:wg,title:w("accept.replace","Replace"),group:"left",order:1,when:we.and(Nt.HasInsertAndReplaceRange,Nt.InsertMode.isEqualTo("replace"))}]}));We(new Yo({id:"acceptAlternativeSelectedSuggestion",precondition:we.and(Nt.Visible,j.textInputFocus,Nt.HasFocusedSuggestion),kbOpts:{weight:Ta,kbExpr:j.textInputFocus,primary:1027,secondary:[1026]},handler(n){n.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:wg,group:"left",order:2,when:we.and(Nt.HasInsertAndReplaceRange,Nt.InsertMode.isEqualTo("insert")),title:w("accept.replace","Replace")},{menuId:wg,group:"left",order:2,when:we.and(Nt.HasInsertAndReplaceRange,Nt.InsertMode.isEqualTo("replace")),title:w("accept.insert","Insert")}]}));Gt.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion");We(new Yo({id:"hideSuggestWidget",precondition:Nt.Visible,handler:n=>n.cancelSuggestWidget(),kbOpts:{weight:Ta,kbExpr:j.textInputFocus,primary:9,secondary:[1033]}}));We(new Yo({id:"selectNextSuggestion",precondition:we.and(Nt.Visible,we.or(Nt.MultipleSuggestions,Nt.HasFocusedSuggestion.negate())),handler:n=>n.selectNextSuggestion(),kbOpts:{weight:Ta,kbExpr:j.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}}));We(new Yo({id:"selectNextPageSuggestion",precondition:we.and(Nt.Visible,we.or(Nt.MultipleSuggestions,Nt.HasFocusedSuggestion.negate())),handler:n=>n.selectNextPageSuggestion(),kbOpts:{weight:Ta,kbExpr:j.textInputFocus,primary:12,secondary:[2060]}}));We(new Yo({id:"selectLastSuggestion",precondition:we.and(Nt.Visible,we.or(Nt.MultipleSuggestions,Nt.HasFocusedSuggestion.negate())),handler:n=>n.selectLastSuggestion()}));We(new Yo({id:"selectPrevSuggestion",precondition:we.and(Nt.Visible,we.or(Nt.MultipleSuggestions,Nt.HasFocusedSuggestion.negate())),handler:n=>n.selectPrevSuggestion(),kbOpts:{weight:Ta,kbExpr:j.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}}));We(new Yo({id:"selectPrevPageSuggestion",precondition:we.and(Nt.Visible,we.or(Nt.MultipleSuggestions,Nt.HasFocusedSuggestion.negate())),handler:n=>n.selectPrevPageSuggestion(),kbOpts:{weight:Ta,kbExpr:j.textInputFocus,primary:11,secondary:[2059]}}));We(new Yo({id:"selectFirstSuggestion",precondition:we.and(Nt.Visible,we.or(Nt.MultipleSuggestions,Nt.HasFocusedSuggestion.negate())),handler:n=>n.selectFirstSuggestion()}));We(new Yo({id:"focusSuggestion",precondition:we.and(Nt.Visible,Nt.HasFocusedSuggestion.negate()),handler:n=>n.focusSuggestion(),kbOpts:{weight:Ta,kbExpr:j.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}}));We(new Yo({id:"focusAndAcceptSuggestion",precondition:we.and(Nt.Visible,Nt.HasFocusedSuggestion.negate()),handler:n=>{n.focusSuggestion(),n.acceptSelectedSuggestion(!0,!1)}}));We(new Yo({id:"toggleSuggestionDetails",precondition:we.and(Nt.Visible,Nt.HasFocusedSuggestion),handler:n=>n.toggleSuggestionDetails(),kbOpts:{weight:Ta,kbExpr:j.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:wg,group:"right",order:1,when:we.and(Nt.DetailsVisible,Nt.CanResolve),title:w("detail.more","show less")},{menuId:wg,group:"right",order:1,when:we.and(Nt.DetailsVisible.toNegated(),Nt.CanResolve),title:w("detail.less","show more")}]}));We(new Yo({id:"toggleExplainMode",precondition:Nt.Visible,handler:n=>n.toggleExplainMode(),kbOpts:{weight:100,primary:2138}}));We(new Yo({id:"toggleSuggestionFocus",precondition:Nt.Visible,handler:n=>n.toggleSuggestionFocus(),kbOpts:{weight:Ta,kbExpr:j.textInputFocus,primary:2570,mac:{primary:778}}}));We(new Yo({id:"insertBestCompletion",precondition:we.and(j.textInputFocus,we.equals("config.editor.tabCompletion","on"),XS.AtEnd,Nt.Visible.toNegated(),f_.OtherSuggestions.toNegated(),Or.InSnippetMode.toNegated()),handler:(n,e)=>{n.triggerSuggestAndAcceptBest(Oo(e)?{fallback:"tab",...e}:{fallback:"tab"})},kbOpts:{weight:Ta,primary:2}}));We(new Yo({id:"insertNextSuggestion",precondition:we.and(j.textInputFocus,we.equals("config.editor.tabCompletion","on"),f_.OtherSuggestions,Nt.Visible.toNegated(),Or.InSnippetMode.toNegated()),handler:n=>n.acceptNextSuggestion(),kbOpts:{weight:Ta,kbExpr:j.textInputFocus,primary:2}}));We(new Yo({id:"insertPrevSuggestion",precondition:we.and(j.textInputFocus,we.equals("config.editor.tabCompletion","on"),f_.OtherSuggestions,Nt.Visible.toNegated(),Or.InSnippetMode.toNegated()),handler:n=>n.acceptPrevSuggestion(),kbOpts:{weight:Ta,kbExpr:j.textInputFocus,primary:1026}}));Ee(class extends $e{constructor(){super({id:"editor.action.resetSuggestSize",label:w("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(n,e){var t;(t=Fl.get(e))===null||t===void 0||t.resetWidgetSize()}});class d$e extends ce{get selectedItem(){return this._selectedItem}constructor(e,t,i,r){super(),this.editor=e,this.suggestControllerPreselector=t,this.checkModelVersion=i,this.onWillAccept=r,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._selectedItem=si(this,void 0),this._register(e.onKeyDown(s=>{s.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(e.onKeyUp(s=>{s.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const o=Fl.get(this.editor);if(o){this._register(o.registerSelector({priority:100,select:(l,c,d)=>{var u;Vi(m=>this.checkModelVersion(m));const h=this.editor.getModel();if(!h)return-1;const f=(u=this.suggestControllerPreselector())===null||u===void 0?void 0:u.removeCommonPrefix(h);if(!f)return-1;const g=re.lift(c),_=d.map((m,p)=>{const b=n1.fromSuggestion(o,h,g,m,this.isShiftKeyPressed).toSingleTextEdit().removeCommonPrefix(h),C=f.augments(b);return{index:p,valid:C,prefixLength:b.text.length,suggestItem:m}}).filter(m=>m&&m.valid&&m.prefixLength>0),y=S6(_,Xa(m=>m.prefixLength,uh));return y?y.index:-1}}));let s=!1;const a=()=>{s||(s=!0,this._register(o.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(o.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(o.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(Ve.once(o.model.onDidTrigger)(l=>{a()})),this._register(o.onWillInsertSuggestItem(l=>{const c=this.editor.getPosition(),d=this.editor.getModel();if(!c||!d)return;const u=n1.fromSuggestion(o,d,c,l.item,this.isShiftKeyPressed);this.onWillAccept(u)}))}this.update(this._isActive)}update(e){const t=this.getSuggestItemInfo();(this._isActive!==e||!u$e(this._currentSuggestItemInfo,t))&&(this._isActive=e,this._currentSuggestItemInfo=t,Vi(i=>{this.checkModelVersion(i),this._selectedItem.set(this._isActive?this._currentSuggestItemInfo:void 0,i)}))}getSuggestItemInfo(){const e=Fl.get(this.editor);if(!e||!this.isSuggestWidgetVisible)return;const t=e.widget.value.getFocusedItem(),i=this.editor.getPosition(),r=this.editor.getModel();if(!(!t||!i||!r))return n1.fromSuggestion(e,r,i,t.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const e=Fl.get(this.editor);e==null||e.stopForceRenderingAbove()}forceRenderingAbove(){const e=Fl.get(this.editor);e==null||e.forceRenderingAbove()}}class n1{static fromSuggestion(e,t,i,r,o){let{insertText:s}=r.completion,a=!1;if(r.completion.insertTextRules&4){const c=new o_().parse(s);c.children.length<100&&xN.adjustWhitespace(t,i,!0,c),s=c.toString(),a=!0}const l=e.getOverwriteInfo(r,o);return new n1(B.fromPositions(i.delta(0,-l.overwriteBefore),i.delta(0,Math.max(l.overwriteAfter,0))),s,r.completion.kind,a)}constructor(e,t,i,r){this.range=e,this.insertText=t,this.completionItemKind=i,this.isSnippetText=r}equals(e){return this.range.equalsRange(e.range)&&this.insertText===e.insertText&&this.completionItemKind===e.completionItemKind&&this.isSnippetText===e.isSnippetText}toSelectedSuggestionInfo(){return new zse(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new ey(this.range,this.insertText)}}function u$e(n,e){return n===e?!0:!n||!e?!1:n.equals(e)}var h$e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},cf=function(n,e){return function(t,i){e(t,i,n)}},rB;let Ea=rB=class extends ce{static get(e){return e.getContribution(rB.ID)}constructor(e,t,i,r,o,s,a,l,c){super(),this.editor=e,this._instantiationService=t,this._contextKeyService=i,this._configurationService=r,this._commandService=o,this._debounceService=s,this._languageFeaturesService=a,this._audioCueService=l,this._keybindingService=c,this.model=QI("inlineCompletionModel",void 0),this._textModelVersionId=si(this,-1),this._cursorPosition=si(this,new re(1,1)),this._suggestWidgetAdaptor=this._register(new d$e(this.editor,()=>{var f,g;return(g=(f=this.model.get())===null||f===void 0?void 0:f.selectedInlineCompletion.get())===null||g===void 0?void 0:g.toSingleTextEdit(void 0)},f=>this.updateObservables(f,ia.Other),f=>{Vi(g=>{var _;this.updateObservables(g,ia.Other),(_=this.model.get())===null||_===void 0||_.handleSuggestAccepted(f)})})),this._enabled=dn(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).enabled),this._fontFamily=dn(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).fontFamily),this._ghostTextWidget=this._register(this._instantiationService.createInstance(Z8,this.editor,{ghostText:this.model.map((f,g)=>f==null?void 0:f.ghostText.read(g)),minReservedLineCount:JI(0),targetTextModel:this.model.map(f=>f==null?void 0:f.textModel)})),this._debounceValue=this._debounceService.for(this._languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._playAudioCueSignal=nH(this),this._isReadonly=dn(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(90)),this._textModel=dn(this.editor.onDidChangeModel,()=>this.editor.getModel()),this._textModelIfWritable=It(f=>this._isReadonly.read(f)?void 0:this._textModel.read(f)),this._register(new xr(this._contextKeyService,this.model)),this._register(hi(f=>{const g=this._textModelIfWritable.read(f);Vi(_=>{if(this.model.set(void 0,_),this.updateObservables(_,ia.Other),g){const y=t.createInstance(X8,g,this._suggestWidgetAdaptor.selectedItem,this._cursorPosition,this._textModelVersionId,this._debounceValue,dn(e.onDidChangeConfiguration,()=>e.getOption(117).preview),dn(e.onDidChangeConfiguration,()=>e.getOption(117).previewMode),dn(e.onDidChangeConfiguration,()=>e.getOption(62).mode),this._enabled);this.model.set(y,_)}})}));const d=this._register(NDe());this._register(hi(f=>{const g=this._fontFamily.read(f);d.setStyle(g===""||g==="default"?"":`
.monaco-editor .ghost-text-decoration,
.monaco-editor .ghost-text-decoration-preview,
.monaco-editor .ghost-text {
	font-family: ${g};
}`)}));const u=f=>{var g;return f.isUndoing?ia.Undo:f.isRedoing?ia.Redo:!((g=this.model.get())===null||g===void 0)&&g.isAcceptingPartially?ia.AcceptWord:ia.Other};this._register(e.onDidChangeModelContent(f=>Vi(g=>this.updateObservables(g,u(f))))),this._register(e.onDidChangeCursorPosition(f=>Vi(g=>{var _;this.updateObservables(g,ia.Other),(f.reason===3||f.source==="api")&&((_=this.model.get())===null||_===void 0||_.stop(g))}))),this._register(e.onDidType(()=>Vi(f=>{var g;this.updateObservables(f,ia.Other),this._enabled.get()&&((g=this.model.get())===null||g===void 0||g.trigger(f))}))),this._register(this._commandService.onDidExecuteCommand(f=>{new Set([Bv.Tab.id,Bv.DeleteLeft.id,Bv.DeleteRight.id,Whe,"acceptSelectedSuggestion"]).has(f.commandId)&&e.hasTextFocus()&&this._enabled.get()&&Vi(_=>{var y;(y=this.model.get())===null||y===void 0||y.trigger(_)})})),this._register(this.editor.onDidBlurEditorWidget(()=>{this._contextKeyService.getContextKeyValue("accessibleViewIsShown")||this._configurationService.getValue("editor.inlineSuggest.keepOnBlur")||e.getOption(62).keepOnBlur||Qg.dropDownVisible||Vi(f=>{var g;(g=this.model.get())===null||g===void 0||g.stop(f)})})),this._register(hi(f=>{var g;const _=(g=this.model.read(f))===null||g===void 0?void 0:g.state.read(f);_!=null&&_.suggestItem?_.ghostText.lineCount>=2&&this._suggestWidgetAdaptor.forceRenderingAbove():this._suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register(at(()=>{this._suggestWidgetAdaptor.stopForceRenderingAbove()}));let h;this._register(aL({handleChange:(f,g)=>(f.didChange(this._playAudioCueSignal)&&(h=void 0),!0)},async f=>{this._playAudioCueSignal.read(f);const g=this.model.read(f),_=g==null?void 0:g.state.read(f);if(!g||!_||!_.inlineCompletion){h=void 0;return}if(_.inlineCompletion.semanticId!==h){h=_.inlineCompletion.semanticId;const y=g.textModel.getLineContent(_.ghostText.lineNumber);this._audioCueService.playAudioCue(Pt.inlineSuggestion).then(()=>{this.editor.getOption(8)&&this.provideScreenReaderUpdate(_.ghostText.renderForScreenReader(y))})}})),this._register(new T8(this.editor,this.model,this._instantiationService)),this._register(this._configurationService.onDidChangeConfiguration(f=>{f.affectsConfiguration("accessibility.verbosity.inlineCompletions")&&this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})})),this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})}playAudioCue(e){this._playAudioCueSignal.trigger(e)}provideScreenReaderUpdate(e){const t=this._contextKeyService.getContextKeyValue("accessibleViewIsShown"),i=this._keybindingService.lookupKeybinding("editor.action.accessibleView");let r;!t&&i&&this.editor.getOption(147)&&(r=w("showAccessibleViewHint","Inspect this in the accessible view ({0})",i.getAriaLabel())),zs(r?e+", "+r:e)}updateObservables(e,t){var i,r;const o=this.editor.getModel();this._textModelVersionId.set((i=o==null?void 0:o.getVersionId())!==null&&i!==void 0?i:-1,e,t),this._cursorPosition.set((r=this.editor.getPosition())!==null&&r!==void 0?r:new re(1,1),e)}shouldShowHoverAt(e){var t;const i=(t=this.model.get())===null||t===void 0?void 0:t.ghostText.get();return i?i.parts.some(r=>e.containsPosition(new re(i.lineNumber,r.column))):!1}shouldShowHoverAtViewZone(e){return this._ghostTextWidget.ownsViewZone(e)}};Ea.ID="editor.contrib.inlineCompletionsController";Ea=rB=h$e([cf(1,dt),cf(2,_t),cf(3,jt),cf(4,fn),cf(5,dl),cf(6,qe),cf(7,mp),cf(8,xi)],Ea);class u2 extends $e{constructor(){super({id:u2.ID,label:w("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:we.and(j.writable,xr.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}async run(e,t){var i;const r=Ea.get(t);(i=r==null?void 0:r.model.get())===null||i===void 0||i.next()}}u2.ID=Hhe;class h2 extends $e{constructor(){super({id:h2.ID,label:w("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:we.and(j.writable,xr.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}async run(e,t){var i;const r=Ea.get(t);(i=r==null?void 0:r.model.get())===null||i===void 0||i.previous()}}h2.ID=Vhe;class f$e extends $e{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:w("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:j.writable})}async run(e,t){const i=Ea.get(t);await A8e(async r=>{var o;await((o=i==null?void 0:i.model.get())===null||o===void 0?void 0:o.triggerExplicitly(r)),i==null||i.playAudioCue(r)})}}class g$e extends $e{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:w("action.inlineSuggest.acceptNextWord","Accept Next Word Of Inline Suggestion"),alias:"Accept Next Word Of Inline Suggestion",precondition:we.and(j.writable,xr.inlineSuggestionVisible),kbOpts:{weight:101,primary:2065,kbExpr:we.and(j.writable,xr.inlineSuggestionVisible)},menuOpts:[{menuId:H.InlineSuggestionToolbar,title:w("acceptWord","Accept Word"),group:"primary",order:2}]})}async run(e,t){var i;const r=Ea.get(t);await((i=r==null?void 0:r.model.get())===null||i===void 0?void 0:i.acceptNextWord(r.editor))}}class p$e extends $e{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:w("action.inlineSuggest.acceptNextLine","Accept Next Line Of Inline Suggestion"),alias:"Accept Next Line Of Inline Suggestion",precondition:we.and(j.writable,xr.inlineSuggestionVisible),kbOpts:{weight:101},menuOpts:[{menuId:H.InlineSuggestionToolbar,title:w("acceptLine","Accept Line"),group:"secondary",order:2}]})}async run(e,t){var i;const r=Ea.get(t);await((i=r==null?void 0:r.model.get())===null||i===void 0?void 0:i.acceptNextLine(r.editor))}}class m$e extends $e{constructor(){super({id:Whe,label:w("action.inlineSuggest.accept","Accept Inline Suggestion"),alias:"Accept Inline Suggestion",precondition:xr.inlineSuggestionVisible,menuOpts:[{menuId:H.InlineSuggestionToolbar,title:w("accept","Accept"),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:we.and(xr.inlineSuggestionVisible,j.tabMovesFocus.toNegated(),xr.inlineSuggestionHasIndentationLessThanTabSize,Nt.Visible.toNegated(),j.hoverFocused.toNegated())}})}async run(e,t){var i;const r=Ea.get(t);r&&((i=r.model.get())===null||i===void 0||i.accept(r.editor),r.editor.focus())}}class f2 extends $e{constructor(){super({id:f2.ID,label:w("action.inlineSuggest.hide","Hide Inline Suggestion"),alias:"Hide Inline Suggestion",precondition:xr.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}async run(e,t){const i=Ea.get(t);Vi(r=>{var o;(o=i==null?void 0:i.model.get())===null||o===void 0||o.stop(r)})}}f2.ID="editor.action.inlineSuggest.hide";class g2 extends Ia{constructor(){super({id:g2.ID,title:w("action.inlineSuggest.alwaysShowToolbar","Always Show Toolbar"),f1:!1,precondition:void 0,menu:[{id:H.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:we.equals("config.editor.inlineSuggest.showToolbar","always")})}async run(e,t){const i=e.get(jt),o=i.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";i.updateValue("editor.inlineSuggest.showToolbar",o)}}g2.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar";var _$e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},PC=function(n,e){return function(t,i){e(t,i,n)}};class v$e{constructor(e,t,i){this.owner=e,this.range=t,this.controller=i}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let oB=class{constructor(e,t,i,r,o,s){this._editor=e,this._languageService=t,this._openerService=i,this.accessibilityService=r,this._instantiationService=o,this._telemetryService=s,this.hoverOrdinal=4}suggestHoverAnchor(e){const t=Ea.get(this._editor);if(!t)return null;const i=e.target;if(i.type===8){const r=i.detail;if(t.shouldShowHoverAtViewZone(r.viewZoneId))return new NT(1e3,this,B.fromPositions(this._editor.getModel().validatePosition(r.positionBefore||r.position)),e.event.posx,e.event.posy,!1)}return i.type===7&&t.shouldShowHoverAt(i.range)?new NT(1e3,this,i.range,e.event.posx,e.event.posy,!1):i.type===6&&i.detail.mightBeForeignElement&&t.shouldShowHoverAt(i.range)?new NT(1e3,this,i.range,e.event.posx,e.event.posy,!1):null}computeSync(e,t){if(this._editor.getOption(62).showToolbar!=="onHover")return[];const i=Ea.get(this._editor);return i&&i.shouldShowHoverAt(e.range)?[new v$e(this,e.range,i)]:[]}renderHoverParts(e,t){const i=new xe,r=t[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(8)&&this.renderScreenReaderText(e,r,i);const o=r.controller.model.get(),s=this._instantiationService.createInstance(Qg,this._editor,!1,JI(null),o.selectedInlineCompletionIndex,o.inlineCompletionsCount,o.selectedInlineCompletion.map(a=>{var l;return(l=a==null?void 0:a.inlineCompletion.source.inlineCompletions.commands)!==null&&l!==void 0?l:[]}));return e.fragment.appendChild(s.getDomNode()),o.triggerExplicitly(),i.add(s),i}renderScreenReaderText(e,t,i){const r=Te,o=r("div.hover-row.markdown-hover"),s=Se(o,r("div.hover-contents",{"aria-live":"assertive"})),a=i.add(new du({editor:this._editor},this._languageService,this._openerService)),l=c=>{i.add(a.onDidRenderAsync(()=>{s.className="hover-contents code-hover-contents",e.onContentsChanged()}));const d=w("inlineSuggestionFollows","Suggestion:"),u=i.add(a.render(new eo().appendText(d).appendCodeblock("text",c)));s.replaceChildren(u.element)};i.add(hi(c=>{var d;const u=(d=t.controller.model.read(c))===null||d===void 0?void 0:d.ghostText.read(c);if(u){const h=this._editor.getModel().getLineContent(u.lineNumber);l(u.renderForScreenReader(h))}else Kr(s)})),e.fragment.appendChild(o)}};oB=_$e([PC(1,Zi),PC(2,ws),PC(3,Gl),PC(4,dt),PC(5,qs)],oB);li(Ea.ID,Ea,3);Ee(f$e);Ee(u2);Ee(h2);Ee(g$e);Ee(p$e);Ee(m$e);Ee(f2);ji(g2);U_.register(oB);function Es(n,e){let t=0;for(let i=0;i<n.length;i++)n.charAt(i)==="	"?t+=e:t++;return t}function r1(n,e,t){n=n<0?0:n;let i="";if(!t){const r=Math.floor(n/e);n=n%e;for(let o=0;o<r;o++)i+="	"}for(let r=0;r<n;r++)i+=" ";return i}var b$e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},y$e=function(n,e){return function(t,i){e(t,i,n)}};function mfe(n,e,t,i,r){if(n.getLineCount()===1&&n.getLineMaxColumn(1)===1)return[];const o=e.getLanguageConfiguration(n.getLanguageId()).indentationRules;if(!o)return[];for(i=Math.min(i,n.getLineCount());t<=i&&o.unIndentedLinePattern;){const y=n.getLineContent(t);if(!o.unIndentedLinePattern.test(y))break;t++}if(t>i-1)return[];const{tabSize:s,indentSize:a,insertSpaces:l}=n.getOptions(),c=(y,m)=>(m=m||1,Ua.shiftIndent(y,y.length+m,s,a,l)),d=(y,m)=>(m=m||1,Ua.unshiftIndent(y,y.length+m,s,a,l)),u=[];let h;const f=n.getLineContent(t);let g=f;if(r!=null){h=r;const y=Ti(f);g=h+f.substring(y.length),o.decreaseIndentPattern&&o.decreaseIndentPattern.test(g)&&(h=d(h),g=h+f.substring(y.length)),f!==g&&u.push(Qi.replaceMove(new Ke(t,1,t,y.length+1),rI(h,a,l)))}else h=Ti(f);let _=h;o.increaseIndentPattern&&o.increaseIndentPattern.test(g)?(_=c(_),h=c(h)):o.indentNextLinePattern&&o.indentNextLinePattern.test(g)&&(_=c(_)),t++;for(let y=t;y<=i;y++){const m=n.getLineContent(y),p=Ti(m),v=_+m.substring(p.length);o.decreaseIndentPattern&&o.decreaseIndentPattern.test(v)&&(_=d(_),h=d(h)),p!==_&&u.push(Qi.replaceMove(new Ke(y,1,y,p.length+1),rI(_,a,l))),!(o.unIndentedLinePattern&&o.unIndentedLinePattern.test(m))&&(o.increaseIndentPattern&&o.increaseIndentPattern.test(v)?(h=c(h),_=h):o.indentNextLinePattern&&o.indentNextLinePattern.test(v)?_=c(_):_=h)}return u}class p2 extends $e{constructor(){super({id:p2.ID,label:w("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:j.writable})}run(e,t){const i=t.getModel();if(!i)return;const r=i.getOptions(),o=t.getSelection();if(!o)return;const s=new x$e(o,r.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})}}p2.ID="editor.action.indentationToSpaces";class m2 extends $e{constructor(){super({id:m2.ID,label:w("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:j.writable})}run(e,t){const i=t.getModel();if(!i)return;const r=i.getOptions(),o=t.getSelection();if(!o)return;const s=new L$e(o,r.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})}}m2.ID="editor.action.indentationToTabs";class ZH extends $e{constructor(e,t,i){super(i),this.insertSpaces=e,this.displaySizeOnly=t}run(e,t){const i=e.get(rd),r=e.get(Ji),o=t.getModel();if(!o)return;const s=r.getCreationOptions(o.getLanguageId(),o.uri,o.isForSimpleWidget),a=o.getOptions(),l=[1,2,3,4,5,6,7,8].map(d=>({id:d.toString(),label:d.toString(),description:d===s.tabSize&&d===a.tabSize?w("configuredTabSize","Configured Tab Size"):d===s.tabSize?w("defaultTabSize","Default Tab Size"):d===a.tabSize?w("currentTabSize","Current Tab Size"):void 0})),c=Math.min(o.getOptions().tabSize-1,7);setTimeout(()=>{i.pick(l,{placeHolder:w({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:l[c]}).then(d=>{if(d&&o&&!o.isDisposed()){const u=parseInt(d.label,10);this.displaySizeOnly?o.updateOptions({tabSize:u}):o.updateOptions({tabSize:u,indentSize:u,insertSpaces:this.insertSpaces})}})},50)}}class _2 extends ZH{constructor(){super(!1,!1,{id:_2.ID,label:w("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}_2.ID="editor.action.indentUsingTabs";class v2 extends ZH{constructor(){super(!0,!1,{id:v2.ID,label:w("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}v2.ID="editor.action.indentUsingSpaces";class b2 extends ZH{constructor(){super(!0,!0,{id:b2.ID,label:w("changeTabDisplaySize","Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0})}}b2.ID="editor.action.changeTabDisplaySize";class y2 extends $e{constructor(){super({id:y2.ID,label:w("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){const i=e.get(Ji),r=t.getModel();if(!r)return;const o=i.getCreationOptions(r.getLanguageId(),r.uri,r.isForSimpleWidget);r.detectIndentation(o.insertSpaces,o.tabSize)}}y2.ID="editor.action.detectIndentation";class C$e extends $e{constructor(){super({id:"editor.action.reindentlines",label:w("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:j.writable})}run(e,t){const i=e.get(Pi),r=t.getModel();if(!r)return;const o=mfe(r,i,1,r.getLineCount());o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}}class w$e extends $e{constructor(){super({id:"editor.action.reindentselectedlines",label:w("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:j.writable})}run(e,t){const i=e.get(Pi),r=t.getModel();if(!r)return;const o=t.getSelections();if(o===null)return;const s=[];for(const a of o){let l=a.startLineNumber,c=a.endLineNumber;if(l!==c&&a.endColumn===1&&c--,l===1){if(l===c)continue}else l--;const d=mfe(r,i,l,c);s.push(...d)}s.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,s),t.pushUndoStop())}}class S$e{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(const i of e)i.range&&typeof i.text=="string"&&this._edits.push(i)}getEditOperations(e,t){for(const r of this._edits)t.addEditOperation(B.lift(r.range),r.text);let i=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),i||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}let JS=class{constructor(e,t){this.editor=e,this._languageConfigurationService=t,this.callOnDispose=new xe,this.callOnModel=new xe,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(12)<4||this.editor.getOption(55))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:e})=>{this.trigger(e)}))}trigger(e){const t=this.editor.getSelections();if(t===null||t.length>1)return;const i=this.editor.getModel();if(!i||!i.tokenization.isCheapToTokenize(e.getStartPosition().lineNumber))return;const r=this.editor.getOption(12),{tabSize:o,indentSize:s,insertSpaces:a}=i.getOptions(),l=[],c={shiftIndent:f=>Ua.shiftIndent(f,f.length+1,o,s,a),unshiftIndent:f=>Ua.unshiftIndent(f,f.length+1,o,s,a)};let d=e.startLineNumber;for(;d<=e.endLineNumber;){if(this.shouldIgnoreLine(i,d)){d++;continue}break}if(d>e.endLineNumber)return;let u=i.getLineContent(d);if(!/\S/.test(u.substring(0,e.startColumn-1))){const f=Aw(r,i,i.getLanguageId(),d,c,this._languageConfigurationService);if(f!==null){const g=Ti(u),_=Es(f,o),y=Es(g,o);if(_!==y){const m=r1(_,o,a);l.push({range:new B(d,1,d,g.length+1),text:m}),u=m+u.substr(g.length)}else{const m=Ble(i,d,this._languageConfigurationService);if(m===0||m===8)return}}}const h=d;for(;d<e.endLineNumber;){if(!/\S/.test(i.getLineContent(d+1))){d++;continue}break}if(d!==e.endLineNumber){const g=Aw(r,{tokenization:{getLineTokens:_=>i.tokenization.getLineTokens(_),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(_,y)=>i.getLanguageIdAtPosition(_,y)},getLineContent:_=>_===h?u:i.getLineContent(_)},i.getLanguageId(),d+1,c,this._languageConfigurationService);if(g!==null){const _=Es(g,o),y=Es(Ti(i.getLineContent(d+1)),o);if(_!==y){const m=_-y;for(let p=d+1;p<=e.endLineNumber;p++){const v=i.getLineContent(p),b=Ti(v),S=Es(b,o)+m,x=r1(S,o,a);x!==b&&l.push({range:new B(p,1,p,b.length+1),text:x})}}}}if(l.length>0){this.editor.pushUndoStop();const f=new S$e(l,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",f),this.editor.pushUndoStop()}}shouldIgnoreLine(e,t){e.tokenization.forceTokenization(t);const i=e.getLineFirstNonWhitespaceColumn(t);if(i===0)return!0;const r=e.tokenization.getLineTokens(t);if(r.getCount()>0){const o=r.findTokenIndexAtOffset(i);if(o>=0&&r.getStandardTokenType(o)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};JS.ID="editor.contrib.autoIndentOnPaste";JS=b$e([y$e(1,Pi)],JS);function _fe(n,e,t,i){if(n.getLineCount()===1&&n.getLineMaxColumn(1)===1)return;let r="";for(let s=0;s<t;s++)r+=" ";const o=new RegExp(r,"gi");for(let s=1,a=n.getLineCount();s<=a;s++){let l=n.getLineFirstNonWhitespaceColumn(s);if(l===0&&(l=n.getLineMaxColumn(s)),l===1)continue;const c=new B(s,1,s,l),d=n.getValueInRange(c),u=i?d.replace(/\t/ig,r):d.replace(o,"	");e.addEditOperation(c,u)}}class x$e{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),_fe(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class L$e{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),_fe(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}li(JS.ID,JS,2);Ee(p2);Ee(m2);Ee(_2);Ee(v2);Ee(b2);Ee(y2);Ee(C$e);Ee(w$e);class vfe{constructor(e,t){this.range=e,this.direction=t}}class YH{constructor(e,t,i){this.hint=e,this.anchor=t,this.provider=i,this._isResolved=!1}with(e){const t=new YH(this.hint,e.anchor,this.provider);return t._isResolved=this._isResolved,t._currentResolve=this._currentResolve,t}async resolve(e){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return await this._currentResolve,e.isCancellationRequested?void 0:this.resolve(e);this._isResolved||(this._currentResolve=this._doResolve(e).finally(()=>this._currentResolve=void 0)),await this._currentResolve}}async _doResolve(e){var t,i,r;try{const o=await Promise.resolve(this.provider.resolveInlayHint(this.hint,e));this.hint.tooltip=(t=o==null?void 0:o.tooltip)!==null&&t!==void 0?t:this.hint.tooltip,this.hint.label=(i=o==null?void 0:o.label)!==null&&i!==void 0?i:this.hint.label,this.hint.textEdits=(r=o==null?void 0:o.textEdits)!==null&&r!==void 0?r:this.hint.textEdits,this._isResolved=!0}catch(o){Hn(o),this._isResolved=!1}}}class Nm{static async create(e,t,i,r){const o=[],s=e.ordered(t).reverse().map(a=>i.map(async l=>{try{const c=await a.provideInlayHints(t,l,r);(c!=null&&c.hints.length||a.onDidChangeInlayHints)&&o.push([c??Nm._emptyInlayHintList,a])}catch(c){Hn(c)}}));if(await Promise.all(s.flat()),r.isCancellationRequested||t.isDisposed())throw new cp;return new Nm(i,o,t)}constructor(e,t,i){this._disposables=new xe,this.ranges=e,this.provider=new Set;const r=[];for(const[o,s]of t){this._disposables.add(o),this.provider.add(s);for(const a of o.hints){const l=i.validatePosition(a.position);let c="before";const d=Nm._getRangeAtPosition(i,l);let u;d.getStartPosition().isBefore(l)?(u=B.fromPositions(d.getStartPosition(),l),c="after"):(u=B.fromPositions(l,d.getEndPosition()),c="before"),r.push(new YH(a,new vfe(u,c),s))}}this.items=r.sort((o,s)=>re.compare(o.hint.position,s.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(e,t){const i=t.lineNumber,r=e.getWordAtPosition(t);if(r)return new B(i,r.startColumn,i,r.endColumn);e.tokenization.tokenizeIfCheap(i);const o=e.tokenization.getLineTokens(i),s=t.column-1,a=o.findTokenIndexAtOffset(s);let l=o.getStartOffset(a),c=o.getEndOffset(a);return c-l===1&&(l===s&&a>1?(l=o.getStartOffset(a-1),c=o.getEndOffset(a-1)):c===s&&a<o.getCount()-1&&(l=o.getStartOffset(a+1),c=o.getEndOffset(a+1))),new B(i,l+1,i,c+1)}}Nm._emptyInlayHintList=Object.freeze({dispose(){},hints:[]});function k$e(n){return rt.from({scheme:Tt.command,path:n.id,query:n.arguments&&encodeURIComponent(JSON.stringify(n.arguments))}).toString()}async function D$e(n,e,t,i){var r;const o=n.get(Cs),s=n.get(Pa),a=n.get(fn),l=n.get(dt),c=n.get(Rn);if(await i.item.resolve(Ht.None),!i.part.location)return;const d=i.part.location,u=[],h=new Set(Rr.getMenuItems(H.EditorContext).map(g=>Z0(g)?g.command.id:zM()));for(const g of Co.all())h.has(g.desc.id)&&u.push(new Fs(g.desc.id,Ul.label(g.desc,{renderShortTitle:!0}),void 0,!0,async()=>{const _=await o.createModelReference(d.uri);try{const y=new Zb(_.object.textEditorModel,B.getStartPosition(d.range)),m=i.item.anchor.range;await l.invokeFunction(g.runEditorCommand.bind(g),e,y,m)}finally{_.dispose()}}));if(i.part.command){const{command:g}=i.part;u.push(new rr),u.push(new Fs(g.id,g.title,void 0,!0,async()=>{var _;try{await a.executeCommand(g.id,...(_=g.arguments)!==null&&_!==void 0?_:[])}catch(y){c.notify({severity:rM.Error,source:i.item.provider.displayName,message:y})}}))}const f=e.getOption(126);s.showContextMenu({domForShadowRoot:f&&(r=e.getDomNode())!==null&&r!==void 0?r:void 0,getAnchor:()=>{const g=Vn(t);return{x:g.left,y:g.top+g.height+8}},getActions:()=>u,onHide:()=>{e.focus()},autoSelectFirstItem:!0})}async function bfe(n,e,t,i){const o=await n.get(Cs).createModelReference(i.uri);await t.invokeWithinContext(async s=>{const a=e.hasSideBySideModifier,l=s.get(_t),c=bs.inPeekEditor.getValue(l),d=!a&&t.getOption(87)&&!c;return new mL({openToSide:a,openInPeek:d,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(s,new Zb(o.object.textEditorModel,B.getStartPosition(i.range)),B.lift(i.range))}),o.dispose()}var T$e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},y0=function(n,e){return function(t,i){e(t,i,n)}},N0;class kN{constructor(){this._entries=new hp(50)}get(e){const t=kN._key(e);return this._entries.get(t)}set(e,t){const i=kN._key(e);this._entries.set(i,t)}static _key(e){return`${e.uri.toString()}/${e.getVersionId()}`}}const yfe=zt("IInlayHintsCache");Yt(yfe,kN,1);class sB{constructor(e,t){this.item=e,this.index=t}get part(){const e=this.item.hint.label;return typeof e=="string"?{label:e}:e[this.index]}}class E$e{constructor(e,t){this.part=e,this.hasTriggerModifier=t}}let ep=N0=class{static get(e){var t;return(t=e.getContribution(N0.ID))!==null&&t!==void 0?t:void 0}constructor(e,t,i,r,o,s,a){this._editor=e,this._languageFeaturesService=t,this._inlayHintsCache=r,this._commandService=o,this._notificationService=s,this._instaService=a,this._disposables=new xe,this._sessionDisposables=new xe,this._decorationsMetadata=new Map,this._ruleFactory=new Hx(this._editor),this._activeRenderMode=0,this._debounceInfo=i.for(t.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(t.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(l=>{l.hasChanged(139)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const e=this._editor.getOption(139);if(e.enabled==="off")return;const t=this._editor.getModel();if(!t||!this._languageFeaturesService.inlayHintsProvider.has(t))return;if(e.enabled==="on")this._activeRenderMode=0;else{let a,l;e.enabled==="onUnlessPressed"?(a=0,l=1):(a=1,l=0),this._activeRenderMode=a,this._sessionDisposables.add(eh.getInstance().event(c=>{if(!this._editor.hasModel())return;const d=c.altKey&&c.ctrlKey&&!(c.shiftKey||c.metaKey)?l:a;if(d!==this._activeRenderMode){this._activeRenderMode=d;const u=this._editor.getModel(),h=this._copyInlayHintsWithCurrentAnchor(u);this._updateHintsDecorators([u.getFullModelRange()],h),s.schedule(0)}}))}const i=this._inlayHintsCache.get(t);i&&this._updateHintsDecorators([t.getFullModelRange()],i),this._sessionDisposables.add(at(()=>{t.isDisposed()||this._cacheHintsForFastRestore(t)}));let r;const o=new Set,s=new ki(async()=>{const a=Date.now();r==null||r.dispose(!0),r=new Pn;const l=t.onWillDispose(()=>r==null?void 0:r.cancel());try{const c=r.token,d=await Nm.create(this._languageFeaturesService.inlayHintsProvider,t,this._getHintsRanges(),c);if(s.delay=this._debounceInfo.update(t,Date.now()-a),c.isCancellationRequested){d.dispose();return}for(const u of d.provider)typeof u.onDidChangeInlayHints=="function"&&!o.has(u)&&(o.add(u),this._sessionDisposables.add(u.onDidChangeInlayHints(()=>{s.isScheduled()||s.schedule()})));this._sessionDisposables.add(d),this._updateHintsDecorators(d.ranges,d.items),this._cacheHintsForFastRestore(t)}catch(c){St(c)}finally{r.dispose(),l.dispose()}},this._debounceInfo.get(t));this._sessionDisposables.add(s),this._sessionDisposables.add(at(()=>r==null?void 0:r.dispose(!0))),s.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(a=>{(a.scrollTopChanged||!s.isScheduled())&&s.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(a=>{r==null||r.cancel();const l=Math.max(s.delay,1250);s.schedule(l)})),this._sessionDisposables.add(this._installDblClickGesture(()=>s.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const e=new xe,t=e.add(new $M(this._editor)),i=new xe;return e.add(i),e.add(t.onMouseMoveOrRelevantKeyDown(r=>{const[o]=r,s=this._getInlayHintLabelPart(o),a=this._editor.getModel();if(!s||!a){i.clear();return}const l=new Pn;i.add(at(()=>l.dispose(!0))),s.item.resolve(l.token),this._activeInlayHintPart=s.part.command||s.part.location?new E$e(s,o.hasTriggerModifier):void 0;const c=a.validatePosition(s.item.hint.position).lineNumber,d=new B(c,1,c,a.getLineMaxColumn(c)),u=this._getInlineHintsForRange(d);this._updateHintsDecorators([d],u),i.add(at(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([d],u)}))})),e.add(t.onCancel(()=>i.clear())),e.add(t.onExecute(async r=>{const o=this._getInlayHintLabelPart(r);if(o){const s=o.part;s.location?this._instaService.invokeFunction(bfe,r,this._editor,s.location):R4.is(s.command)&&await this._invokeCommand(s.command,o.item)}})),e}_getInlineHintsForRange(e){const t=new Set;for(const i of this._decorationsMetadata.values())e.containsRange(i.item.anchor.range)&&t.add(i.item);return Array.from(t)}_installDblClickGesture(e){return this._editor.onMouseUp(async t=>{if(t.event.detail!==2)return;const i=this._getInlayHintLabelPart(t);if(i&&(t.event.preventDefault(),await i.item.resolve(Ht.None),io(i.item.hint.textEdits))){const r=i.item.hint.textEdits.map(o=>Qi.replace(B.lift(o.range),o.text));this._editor.executeEdits("inlayHint.default",r),e()}})}_installContextMenu(){return this._editor.onContextMenu(async e=>{if(!(e.event.target instanceof HTMLElement))return;const t=this._getInlayHintLabelPart(e);t&&await this._instaService.invokeFunction(D$e,this._editor,e.event.target,t)})}_getInlayHintLabelPart(e){var t;if(e.target.type!==6)return;const i=(t=e.target.detail.injectedText)===null||t===void 0?void 0:t.options;if(i instanceof jg&&(i==null?void 0:i.attachedData)instanceof sB)return i.attachedData}async _invokeCommand(e,t){var i;try{await this._commandService.executeCommand(e.id,...(i=e.arguments)!==null&&i!==void 0?i:[])}catch(r){this._notificationService.notify({severity:rM.Error,source:t.provider.displayName,message:r})}}_cacheHintsForFastRestore(e){const t=this._copyInlayHintsWithCurrentAnchor(e);this._inlayHintsCache.set(e,t)}_copyInlayHintsWithCurrentAnchor(e){const t=new Map;for(const[i,r]of this._decorationsMetadata){if(t.has(r.item))continue;const o=e.getDecorationRange(i);if(o){const s=new vfe(o,r.item.anchor.direction),a=r.item.with({anchor:s});t.set(r.item,a)}}return Array.from(t.values())}_getHintsRanges(){const t=this._editor.getModel(),i=this._editor.getVisibleRangesPlusViewportAboveBelow(),r=[];for(const o of i.sort(B.compareRangesUsingStarts)){const s=t.validateRange(new B(o.startLineNumber-30,o.startColumn,o.endLineNumber+30,o.endColumn));r.length===0||!B.areIntersectingOrTouching(r[r.length-1],s)?r.push(s):r[r.length-1]=B.plusRange(r[r.length-1],s)}return r}_updateHintsDecorators(e,t){var i,r;const o=[],s=(y,m,p,v,b)=>{const C={content:p,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:m.className,cursorStops:v,attachedData:b};o.push({item:y,classNameRef:m,decoration:{range:y.anchor.range,options:{description:"InlayHint",showIfCollapsed:y.anchor.range.isEmpty(),collapseOnReplaceEdit:!y.anchor.range.isEmpty(),stickiness:0,[y.anchor.direction]:this._activeRenderMode===0?C:void 0}}})},a=(y,m)=>{const p=this._ruleFactory.createClassNameRef({width:`${l/3|0}px`,display:"inline-block"});s(y,p,"",m?Tc.Right:Tc.None)},{fontSize:l,fontFamily:c,padding:d,isUniform:u}=this._getLayoutInfo(),h="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(h,c);let f={line:0,totalLen:0};for(const y of t){if(f.line!==y.anchor.range.startLineNumber&&(f={line:y.anchor.range.startLineNumber,totalLen:0}),f.totalLen>N0._MAX_LABEL_LEN)continue;y.hint.paddingLeft&&a(y,!1);const m=typeof y.hint.label=="string"?[{label:y.hint.label}]:y.hint.label;for(let p=0;p<m.length;p++){const v=m[p],b=p===0,C=p===m.length-1,S={fontSize:`${l}px`,fontFamily:`var(${h}), ${ps.fontFamily}`,verticalAlign:u?"baseline":"middle",unicodeBidi:"isolate"};io(y.hint.textEdits)&&(S.cursor="default"),this._fillInColors(S,y.hint),(v.command||v.location)&&((i=this._activeInlayHintPart)===null||i===void 0?void 0:i.part.item)===y&&this._activeInlayHintPart.part.index===p&&(S.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(S.color=cn(pNe),S.cursor="pointer")),d&&(b&&C?(S.padding=`1px ${Math.max(1,l/4)|0}px`,S.borderRadius=`${l/4|0}px`):b?(S.padding=`1px 0 1px ${Math.max(1,l/4)|0}px`,S.borderRadius=`${l/4|0}px 0 0 ${l/4|0}px`):C?(S.padding=`1px ${Math.max(1,l/4)|0}px 1px 0`,S.borderRadius=`0 ${l/4|0}px ${l/4|0}px 0`):S.padding="1px 0 1px 0");let x=v.label;f.totalLen+=x.length;let k=!1;const D=f.totalLen-N0._MAX_LABEL_LEN;if(D>0&&(x=x.slice(0,-D)+"",k=!0),s(y,this._ruleFactory.createClassNameRef(S),I$e(x),C&&!y.hint.paddingRight?Tc.Right:Tc.None,new sB(y,p)),k)break}if(y.hint.paddingRight&&a(y,!0),o.length>N0._MAX_DECORATORS)break}const g=[];for(const[y,m]of this._decorationsMetadata){const p=(r=this._editor.getModel())===null||r===void 0?void 0:r.getDecorationRange(y);p&&e.some(v=>v.containsRange(p))&&(g.push(y),m.classNameRef.dispose(),this._decorationsMetadata.delete(y))}const _=Xc.capture(this._editor);this._editor.changeDecorations(y=>{const m=y.deltaDecorations(g,o.map(p=>p.decoration));for(let p=0;p<m.length;p++){const v=o[p];this._decorationsMetadata.set(m[p],v)}}),_.restore(this._editor)}_fillInColors(e,t){t.kind===OE.Parameter?(e.backgroundColor=cn(bNe),e.color=cn(vNe)):t.kind===OE.Type?(e.backgroundColor=cn(_Ne),e.color=cn(mNe)):(e.backgroundColor=cn(nh),e.color=cn(ih))}_getLayoutInfo(){const e=this._editor.getOption(139),t=e.padding,i=this._editor.getOption(52),r=this._editor.getOption(49);let o=e.fontSize;(!o||o<5||o>i)&&(o=i);const s=e.fontFamily||r;return{fontSize:o,fontFamily:s,padding:t,isUniform:!t&&s===r&&o===i}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const e of this._decorationsMetadata.values())e.classNameRef.dispose();this._decorationsMetadata.clear()}};ep.ID="editor.contrib.InlayHints";ep._MAX_DECORATORS=1500;ep._MAX_LABEL_LEN=43;ep=N0=T$e([y0(1,qe),y0(2,dl),y0(3,yfe),y0(4,fn),y0(5,Rn),y0(6,dt)],ep);function I$e(n){return n.replace(/[ \t]/g,"")}Gt.registerCommand("_executeInlayHintProvider",async(n,...e)=>{const[t,i]=e;Ci(rt.isUri(t)),Ci(B.isIRange(i));const{inlayHintsProvider:r}=n.get(qe),o=await n.get(Cs).createModelReference(t);try{const s=await Nm.create(r,o.object.textEditorModel,[B.lift(i)],Ht.None),a=s.items.map(l=>l.hint);return setTimeout(()=>s.dispose(),0),a}finally{o.dispose()}});var N$e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},MC=function(n,e){return function(t,i){e(t,i,n)}};class ZX extends NT{constructor(e,t,i,r){super(10,t,e.item.anchor.range,i,r,!0),this.part=e}}let aB=class extends _N{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._resolverService=o,this.hoverOrdinal=6}suggestHoverAnchor(e){var t;if(!ep.get(this._editor)||e.target.type!==6)return null;const r=(t=e.target.detail.injectedText)===null||t===void 0?void 0:t.options;return r instanceof jg&&r.attachedData instanceof sB?new ZX(r.attachedData,this,e.event.posx,e.event.posy):null}computeSync(){return[]}computeAsync(e,t,i){return e instanceof ZX?new Fn(async r=>{const{part:o}=e;if(await o.item.resolve(i),i.isCancellationRequested)return;let s;typeof o.item.hint.tooltip=="string"?s=new eo().appendText(o.item.hint.tooltip):o.item.hint.tooltip&&(s=o.item.hint.tooltip),s&&r.emitOne(new xc(this,e.range,[s],!1,0)),io(o.item.hint.textEdits)&&r.emitOne(new xc(this,e.range,[new eo().appendText(w("hint.dbl","Double-click to insert"))],!1,10001));let a;if(typeof o.part.tooltip=="string"?a=new eo().appendText(o.part.tooltip):o.part.tooltip&&(a=o.part.tooltip),a&&r.emitOne(new xc(this,e.range,[a],!1,1)),o.part.location||o.part.command){let c;const u=this._editor.getOption(77)==="altKey"?qt?w("links.navigate.kb.meta.mac","cmd + click"):w("links.navigate.kb.meta","ctrl + click"):qt?w("links.navigate.kb.alt.mac","option + click"):w("links.navigate.kb.alt","alt + click");o.part.location&&o.part.command?c=new eo().appendText(w("hint.defAndCommand","Go to Definition ({0}), right click for more",u)):o.part.location?c=new eo().appendText(w("hint.def","Go to Definition ({0})",u)):o.part.command&&(c=new eo(`[${w("hint.cmd","Execute Command")}](${k$e(o.part.command)} "${o.part.command.title}") (${u})`,{isTrusted:!0})),c&&r.emitOne(new xc(this,e.range,[c],!1,1e4))}const l=await this._resolveInlayHintLabelPartHover(o,i);for await(const c of l)r.emitOne(c)}):Fn.EMPTY}async _resolveInlayHintLabelPartHover(e,t){if(!e.part.location)return Fn.EMPTY;const{uri:i,range:r}=e.part.location,o=await this._resolverService.createModelReference(i);try{const s=o.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(s)?NH(this._languageFeaturesService.hoverProvider,s,new re(r.startLineNumber,r.startColumn),t).filter(a=>!Ob(a.hover.contents)).map(a=>new xc(this,e.item.anchor.range,a.hover.contents,!1,2+a.ordinal)):Fn.EMPTY}finally{o.dispose()}}};aB=N$e([MC(1,Zi),MC(2,ws),MC(3,jt),MC(4,Cs),MC(5,qe)],aB);li(ep.ID,ep,1);U_.register(aB);class P$e{constructor(e,t,i){this._editRange=e,this._originalSelection=t,this._text=i}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new Ke(r.endLineNumber,Math.min(this._originalSelection.positionColumn,r.endColumn),r.endLineNumber,Math.min(this._originalSelection.positionColumn,r.endColumn)):new Ke(r.endLineNumber,r.endColumn-this._text.length,r.endLineNumber,r.endColumn)}}var M$e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},R$e=function(n,e){return function(t,i){e(t,i,n)}},AT;let tp=AT=class{static get(e){return e.getContribution(AT.ID)}constructor(e,t){this.editor=e,this.editorWorkerService=t,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(e,t){var i;(i=this.currentRequest)===null||i===void 0||i.cancel();const r=this.editor.getSelection(),o=this.editor.getModel();if(!o||!r)return;let s=r;if(s.startLineNumber!==s.endLineNumber)return;const a=new aue(this.editor,5),l=o.uri;return this.editorWorkerService.canNavigateValueSet(l)?(this.currentRequest=gr(c=>this.editorWorkerService.navigateValueSet(l,s,t)),this.currentRequest.then(c=>{var d;if(!c||!c.range||!c.value||!a.validate(this.editor))return;const u=B.lift(c.range);let h=c.range;const f=c.value.length-(s.endColumn-s.startColumn);h={startLineNumber:h.startLineNumber,startColumn:h.startColumn,endLineNumber:h.endLineNumber,endColumn:h.startColumn+c.value.length},f>1&&(s=new Ke(s.startLineNumber,s.startColumn,s.endLineNumber,s.endColumn+f-1));const g=new P$e(u,s,c.value);this.editor.pushUndoStop(),this.editor.executeCommand(e,g),this.editor.pushUndoStop(),this.decorations.set([{range:h,options:AT.DECORATION}]),(d=this.decorationRemover)===null||d===void 0||d.cancel(),this.decorationRemover=Mg(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(St)}).catch(St)):Promise.resolve(void 0)}};tp.ID="editor.contrib.inPlaceReplaceController";tp.DECORATION=kt.register({description:"in-place-replace",className:"valueSetReplacement"});tp=AT=M$e([R$e(1,Xl)],tp);class A$e extends $e{constructor(){super({id:"editor.action.inPlaceReplace.up",label:w("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:j.writable,kbOpts:{kbExpr:j.editorTextFocus,primary:3159,weight:100}})}run(e,t){const i=tp.get(t);return i?i.run(this.id,!1):Promise.resolve(void 0)}}class O$e extends $e{constructor(){super({id:"editor.action.inPlaceReplace.down",label:w("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:j.writable,kbOpts:{kbExpr:j.editorTextFocus,primary:3161,weight:100}})}run(e,t){const i=tp.get(t);return i?i.run(this.id,!0):Promise.resolve(void 0)}}li(tp.ID,tp,4);Ee(A$e);Ee(O$e);class F$e extends $e{constructor(){super({id:"expandLineSelection",label:w("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:j.textInputFocus,primary:2090}})}run(e,t,i){if(i=i||{},!t.hasModel())return;const r=t._getViewModel();r.model.pushStackElement(),r.setCursorStates(i.source,3,Tr.expandLineSelection(r,r.getCursorStates())),r.revealPrimaryCursor(i.source,!0)}}Ee(F$e);class B$e{constructor(e,t){this._selection=e,this._cursors=t,this._selectionId=null}getEditOperations(e,t){const i=W$e(e,this._cursors);for(let r=0,o=i.length;r<o;r++){const s=i[r];t.addEditOperation(s.range,s.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}function W$e(n,e){e.sort((s,a)=>s.lineNumber===a.lineNumber?s.column-a.column:s.lineNumber-a.lineNumber);for(let s=e.length-2;s>=0;s--)e[s].lineNumber===e[s+1].lineNumber&&e.splice(s,1);const t=[];let i=0,r=0;const o=e.length;for(let s=1,a=n.getLineCount();s<=a;s++){const l=n.getLineContent(s),c=l.length+1;let d=0;if(r<o&&e[r].lineNumber===s&&(d=e[r].column,r++,d===c)||l.length===0)continue;const u=Ac(l);let h=0;if(u===-1)h=1;else if(u!==l.length-1)h=u+2;else continue;h=Math.max(d,h),t[i++]=Qi.delete(new B(s,h,s,c))}return t}class Cfe{constructor(e,t,i){this._selection=e,this._isCopyingDown=t,this._noop=i||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));const r=[];for(let s=i.startLineNumber;s<=i.endLineNumber;s++)r.push(e.getLineContent(s));const o=r.join(`
`);o===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new B(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber+1,1),i.endLineNumber===e.getLineCount()?"":`
`):this._isCopyingDown?t.addEditOperation(new B(i.startLineNumber,1,i.startLineNumber,1),o+`
`):t.addEditOperation(new B(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),`
`+o),this._selectionId=t.trackSelection(i),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let r=i.startLineNumber,o=i.startColumn,s=i.endLineNumber,a=i.endColumn;this._startLineNumberDelta!==0&&(r=r+this._startLineNumberDelta,o=1),this._endLineNumberDelta!==0&&(s=s+this._endLineNumberDelta,a=1),i=Ke.createWithDirection(r,o,s,a,this._selectionDirection)}return i}}var V$e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},H$e=function(n,e){return function(t,i){e(t,i,n)}};let lB=class{constructor(e,t,i,r){this._languageConfigurationService=r,this._selection=e,this._isMovingDown=t,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){const i=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===i){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let r=this._selection;r.startLineNumber<r.endLineNumber&&r.endColumn===1&&(this._moveEndPositionDown=!0,r=r.setEndPosition(r.endLineNumber-1,e.getLineMaxColumn(r.endLineNumber-1)));const{tabSize:o,indentSize:s,insertSpaces:a}=e.getOptions(),l=this.buildIndentConverter(o,s,a),c={tokenization:{getLineTokens:d=>e.tokenization.getLineTokens(d),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(d,u)=>e.getLanguageIdAtPosition(d,u)},getLineContent:null};if(r.startLineNumber===r.endLineNumber&&e.getLineMaxColumn(r.startLineNumber)===1){const d=r.startLineNumber,u=this._isMovingDown?d+1:d-1;e.getLineMaxColumn(u)===1?t.addEditOperation(new B(1,1,1,1),null):(t.addEditOperation(new B(d,1,d,1),e.getLineContent(u)),t.addEditOperation(new B(u,1,u,e.getLineMaxColumn(u)),null)),r=new Ke(u,1,u,1)}else{let d,u;if(this._isMovingDown){d=r.endLineNumber+1,u=e.getLineContent(d),t.addEditOperation(new B(d-1,e.getLineMaxColumn(d-1),d,e.getLineMaxColumn(d)),null);let h=u;if(this.shouldAutoIndent(e,r)){const f=this.matchEnterRule(e,l,o,d,r.startLineNumber-1);if(f!==null){const _=Ti(e.getLineContent(d)),y=f+Es(_,o);h=r1(y,o,a)+this.trimStart(u)}else{c.getLineContent=y=>y===r.startLineNumber?e.getLineContent(d):e.getLineContent(y);const _=Aw(this._autoIndent,c,e.getLanguageIdAtPosition(d,1),r.startLineNumber,l,this._languageConfigurationService);if(_!==null){const y=Ti(e.getLineContent(d)),m=Es(_,o),p=Es(y,o);m!==p&&(h=r1(m,o,a)+this.trimStart(u))}}t.addEditOperation(new B(r.startLineNumber,1,r.startLineNumber,1),h+`
`);const g=this.matchEnterRuleMovingDown(e,l,o,r.startLineNumber,d,h);if(g!==null)g!==0&&this.getIndentEditsOfMovingBlock(e,t,r,o,a,g);else{c.getLineContent=y=>y===r.startLineNumber?h:y>=r.startLineNumber+1&&y<=r.endLineNumber+1?e.getLineContent(y-1):e.getLineContent(y);const _=Aw(this._autoIndent,c,e.getLanguageIdAtPosition(d,1),r.startLineNumber+1,l,this._languageConfigurationService);if(_!==null){const y=Ti(e.getLineContent(r.startLineNumber)),m=Es(_,o),p=Es(y,o);if(m!==p){const v=m-p;this.getIndentEditsOfMovingBlock(e,t,r,o,a,v)}}}}else t.addEditOperation(new B(r.startLineNumber,1,r.startLineNumber,1),h+`
`)}else if(d=r.startLineNumber-1,u=e.getLineContent(d),t.addEditOperation(new B(d,1,d+1,1),null),t.addEditOperation(new B(r.endLineNumber,e.getLineMaxColumn(r.endLineNumber),r.endLineNumber,e.getLineMaxColumn(r.endLineNumber)),`
`+u),this.shouldAutoIndent(e,r)){c.getLineContent=f=>f===d?e.getLineContent(r.startLineNumber):e.getLineContent(f);const h=this.matchEnterRule(e,l,o,r.startLineNumber,r.startLineNumber-2);if(h!==null)h!==0&&this.getIndentEditsOfMovingBlock(e,t,r,o,a,h);else{const f=Aw(this._autoIndent,c,e.getLanguageIdAtPosition(r.startLineNumber,1),d,l,this._languageConfigurationService);if(f!==null){const g=Ti(e.getLineContent(r.startLineNumber)),_=Es(f,o),y=Es(g,o);if(_!==y){const m=_-y;this.getIndentEditsOfMovingBlock(e,t,r,o,a,m)}}}}}this._selectionId=t.trackSelection(r)}buildIndentConverter(e,t,i){return{shiftIndent:r=>Ua.shiftIndent(r,r.length+1,e,t,i),unshiftIndent:r=>Ua.unshiftIndent(r,r.length+1,e,t,i)}}parseEnterResult(e,t,i,r,o){if(o){let s=o.indentation;o.indentAction===Bn.None||o.indentAction===Bn.Indent?s=o.indentation+o.appendText:o.indentAction===Bn.IndentOutdent?s=o.indentation:o.indentAction===Bn.Outdent&&(s=t.unshiftIndent(o.indentation)+o.appendText);const a=e.getLineContent(r);if(this.trimStart(a).indexOf(this.trimStart(s))>=0){const l=Ti(e.getLineContent(r));let c=Ti(s);const d=Ble(e,r,this._languageConfigurationService);d!==null&&d&2&&(c=t.unshiftIndent(c));const u=Es(c,i),h=Es(l,i);return u-h}}return null}matchEnterRuleMovingDown(e,t,i,r,o,s){if(Ac(s)>=0){const a=e.getLineMaxColumn(o),l=Fv(this._autoIndent,e,new B(o,a,o,a),this._languageConfigurationService);return this.parseEnterResult(e,t,i,r,l)}else{let a=r-1;for(;a>=1;){const d=e.getLineContent(a);if(Ac(d)>=0)break;a--}if(a<1||r>e.getLineCount())return null;const l=e.getLineMaxColumn(a),c=Fv(this._autoIndent,e,new B(a,l,a,l),this._languageConfigurationService);return this.parseEnterResult(e,t,i,r,c)}}matchEnterRule(e,t,i,r,o,s){let a=o;for(;a>=1;){let d;if(a===o&&s!==void 0?d=s:d=e.getLineContent(a),Ac(d)>=0)break;a--}if(a<1||r>e.getLineCount())return null;const l=e.getLineMaxColumn(a),c=Fv(this._autoIndent,e,new B(a,l,a,l),this._languageConfigurationService);return this.parseEnterResult(e,t,i,r,c)}trimStart(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4||!e.tokenization.isCheapToTokenize(t.startLineNumber))return!1;const i=e.getLanguageIdAtPosition(t.startLineNumber,1),r=e.getLanguageIdAtPosition(t.endLineNumber,1);return!(i!==r||this._languageConfigurationService.getLanguageConfiguration(i).indentRulesSupport===null)}getIndentEditsOfMovingBlock(e,t,i,r,o,s){for(let a=i.startLineNumber;a<=i.endLineNumber;a++){const l=e.getLineContent(a),c=Ti(l),u=Es(c,r)+s,h=r1(u,r,o);h!==c&&(t.addEditOperation(new B(a,1,a,c.length+1),h),a===i.endLineNumber&&i.endColumn<=c.length+1&&h===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i}};lB=V$e([H$e(3,Pi)],lB);class Sg{static getCollator(){return Sg._COLLATOR||(Sg._COLLATOR=new Intl.Collator),Sg._COLLATOR}constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}getEditOperations(e,t){const i=z$e(e,this.selection,this.descending);i&&t.addEditOperation(i.range,i.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,i){if(e===null)return!1;const r=wfe(e,t,i);if(!r)return!1;for(let o=0,s=r.before.length;o<s;o++)if(r.before[o]!==r.after[o])return!0;return!1}}Sg._COLLATOR=null;function wfe(n,e,t){const i=e.startLineNumber;let r=e.endLineNumber;if(e.endColumn===1&&r--,i>=r)return null;const o=[];for(let a=i;a<=r;a++)o.push(n.getLineContent(a));let s=o.slice(0);return s.sort(Sg.getCollator().compare),t===!0&&(s=s.reverse()),{startLineNumber:i,endLineNumber:r,before:o,after:s}}function z$e(n,e,t){const i=wfe(n,e,t);return i?Qi.replace(new B(i.startLineNumber,1,i.endLineNumber,n.getLineMaxColumn(i.endLineNumber)),i.after.join(`
`)):null}class Sfe extends $e{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;const i=t.getSelections().map((s,a)=>({selection:s,index:a,ignore:!1}));i.sort((s,a)=>B.compareRangesUsingStarts(s.selection,a.selection));let r=i[0];for(let s=1;s<i.length;s++){const a=i[s];r.selection.endLineNumber===a.selection.startLineNumber&&(r.index<a.index?a.ignore=!0:(r.ignore=!0,r=a))}const o=[];for(const s of i)o.push(new Cfe(s.selection,this.down,s.ignore));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class j$e extends Sfe{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:w("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:j.writable,kbOpts:{kbExpr:j.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:H.MenubarSelectionMenu,group:"2_line",title:w({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class U$e extends Sfe{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:w("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:j.writable,kbOpts:{kbExpr:j.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:H.MenubarSelectionMenu,group:"2_line",title:w({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class $$e extends $e{constructor(){super({id:"editor.action.duplicateSelection",label:w("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:j.writable,menuOpts:{menuId:H.MenubarSelectionMenu,group:"2_line",title:w({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,i){if(!t.hasModel())return;const r=[],o=t.getSelections(),s=t.getModel();for(const a of o)if(a.isEmpty())r.push(new Cfe(a,!0));else{const l=new Ke(a.endLineNumber,a.endColumn,a.endLineNumber,a.endColumn);r.push(new HMe(l,s.getValueInRange(a)))}t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}class xfe extends $e{constructor(e,t){super(t),this.down=e}run(e,t){const i=e.get(Pi),r=[],o=t.getSelections()||[],s=t.getOption(12);for(const a of o)r.push(new lB(a,this.down,s,i));t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}class q$e extends xfe{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:w("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:j.writable,kbOpts:{kbExpr:j.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:H.MenubarSelectionMenu,group:"2_line",title:w({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class K$e extends xfe{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:w("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:j.writable,kbOpts:{kbExpr:j.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:H.MenubarSelectionMenu,group:"2_line",title:w({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class Lfe extends $e{constructor(e,t){super(t),this.descending=e}run(e,t){const i=t.getSelections()||[];for(const o of i)if(!Sg.canRun(t.getModel(),o,this.descending))return;const r=[];for(let o=0,s=i.length;o<s;o++)r[o]=new Sg(i[o],this.descending);t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}class G$e extends Lfe{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:w("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:j.writable})}}class Z$e extends Lfe{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:w("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:j.writable})}}class Y$e extends $e{constructor(){super({id:"editor.action.removeDuplicateLines",label:w("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:j.writable})}run(e,t){if(!t.hasModel())return;const i=t.getModel();if(i.getLineCount()===1&&i.getLineMaxColumn(1)===1)return;const r=[],o=[];let s=0;for(const a of t.getSelections()){const l=new Set,c=[];for(let f=a.startLineNumber;f<=a.endLineNumber;f++){const g=i.getLineContent(f);l.has(g)||(c.push(g),l.add(g))}const d=new Ke(a.startLineNumber,1,a.endLineNumber,i.getLineMaxColumn(a.endLineNumber)),u=a.startLineNumber-s,h=new Ke(u,1,u+c.length-1,c[c.length-1].length);r.push(Qi.replace(d,c.join(`
`))),o.push(h),s+=a.endLineNumber-a.startLineNumber+1-c.length}t.pushUndoStop(),t.executeEdits(this.id,r,o),t.pushUndoStop()}}class C2 extends $e{constructor(){super({id:C2.ID,label:w("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:j.writable,kbOpts:{kbExpr:j.editorTextFocus,primary:Yn(2089,2102),weight:100}})}run(e,t,i){let r=[];i.reason==="auto-save"&&(r=(t.getSelections()||[]).map(a=>new re(a.positionLineNumber,a.positionColumn)));const o=t.getSelection();if(o===null)return;const s=new B$e(o,r);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop()}}C2.ID="editor.action.trimTrailingWhitespace";class X$e extends $e{constructor(){super({id:"editor.action.deleteLines",label:w("lines.delete","Delete Line"),alias:"Delete Line",precondition:j.writable,kbOpts:{kbExpr:j.textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;const i=this._getLinesToRemove(t),r=t.getModel();if(r.getLineCount()===1&&r.getLineMaxColumn(1)===1)return;let o=0;const s=[],a=[];for(let l=0,c=i.length;l<c;l++){const d=i[l];let u=d.startLineNumber,h=d.endLineNumber,f=1,g=r.getLineMaxColumn(h);h<r.getLineCount()?(h+=1,g=1):u>1&&(u-=1,f=r.getLineMaxColumn(u)),s.push(Qi.replace(new Ke(u,f,h,g),"")),a.push(new Ke(u-o,d.positionColumn,u-o,d.positionColumn)),o+=d.endLineNumber-d.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,s,a),t.pushUndoStop()}_getLinesToRemove(e){const t=e.getSelections().map(o=>{let s=o.endLineNumber;return o.startLineNumber<o.endLineNumber&&o.endColumn===1&&(s-=1),{startLineNumber:o.startLineNumber,selectionStartColumn:o.selectionStartColumn,endLineNumber:s,positionColumn:o.positionColumn}});t.sort((o,s)=>o.startLineNumber===s.startLineNumber?o.endLineNumber-s.endLineNumber:o.startLineNumber-s.startLineNumber);const i=[];let r=t[0];for(let o=1;o<t.length;o++)r.endLineNumber+1>=t[o].startLineNumber?r.endLineNumber=t[o].endLineNumber:(i.push(r),r=t[o]);return i.push(r),i}}class Q$e extends $e{constructor(){super({id:"editor.action.indentLines",label:w("lines.indent","Indent Line"),alias:"Indent Line",precondition:j.writable,kbOpts:{kbExpr:j.editorTextFocus,primary:2142,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,en.indent(i.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}class J$e extends $e{constructor(){super({id:"editor.action.outdentLines",label:w("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:j.writable,kbOpts:{kbExpr:j.editorTextFocus,primary:2140,weight:100}})}run(e,t){Bv.Outdent.runEditorCommand(e,t,null)}}class eqe extends $e{constructor(){super({id:"editor.action.insertLineBefore",label:w("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:j.writable,kbOpts:{kbExpr:j.editorTextFocus,primary:3075,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,en.lineInsertBefore(i.cursorConfig,t.getModel(),t.getSelections())))}}class tqe extends $e{constructor(){super({id:"editor.action.insertLineAfter",label:w("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:j.writable,kbOpts:{kbExpr:j.editorTextFocus,primary:2051,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,en.lineInsertAfter(i.cursorConfig,t.getModel(),t.getSelections())))}}class kfe extends $e{run(e,t){if(!t.hasModel())return;const i=t.getSelection(),r=this._getRangesToDelete(t),o=[];for(let l=0,c=r.length-1;l<c;l++){const d=r[l],u=r[l+1];B.intersectRanges(d,u)===null?o.push(d):r[l+1]=B.plusRange(d,u)}o.push(r[r.length-1]);const s=this._getEndCursorState(i,o),a=o.map(l=>Qi.replace(l,""));t.pushUndoStop(),t.executeEdits(this.id,a,s),t.pushUndoStop()}}class iqe extends kfe{constructor(){super({id:"deleteAllLeft",label:w("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:j.writable,kbOpts:{kbExpr:j.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let i=null;const r=[];let o=0;return t.forEach(s=>{let a;if(s.endColumn===1&&o>0){const l=s.startLineNumber-o;a=new Ke(l,s.startColumn,l,s.startColumn)}else a=new Ke(s.startLineNumber,s.startColumn,s.startLineNumber,s.startColumn);o+=s.endLineNumber-s.startLineNumber,s.intersectRanges(e)?i=a:r.push(a)}),i&&r.unshift(i),r}_getRangesToDelete(e){const t=e.getSelections();if(t===null)return[];let i=t;const r=e.getModel();return r===null?[]:(i.sort(B.compareRangesUsingStarts),i=i.map(o=>{if(o.isEmpty())if(o.startColumn===1){const s=Math.max(1,o.startLineNumber-1),a=o.startLineNumber===1?1:r.getLineLength(s)+1;return new B(s,a,o.startLineNumber,1)}else return new B(o.startLineNumber,1,o.startLineNumber,o.startColumn);else return new B(o.startLineNumber,1,o.endLineNumber,o.endColumn)}),i)}}class nqe extends kfe{constructor(){super({id:"deleteAllRight",label:w("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:j.writable,kbOpts:{kbExpr:j.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let i=null;const r=[];for(let o=0,s=t.length,a=0;o<s;o++){const l=t[o],c=new Ke(l.startLineNumber-a,l.startColumn,l.startLineNumber-a,l.startColumn);l.intersectRanges(e)?i=c:r.push(c)}return i&&r.unshift(i),r}_getRangesToDelete(e){const t=e.getModel();if(t===null)return[];const i=e.getSelections();if(i===null)return[];const r=i.map(o=>{if(o.isEmpty()){const s=t.getLineMaxColumn(o.startLineNumber);return o.startColumn===s?new B(o.startLineNumber,o.startColumn,o.startLineNumber+1,1):new B(o.startLineNumber,o.startColumn,o.startLineNumber,s)}return o});return r.sort(B.compareRangesUsingStarts),r}}class rqe extends $e{constructor(){super({id:"editor.action.joinLines",label:w("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:j.writable,kbOpts:{kbExpr:j.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){const i=t.getSelections();if(i===null)return;let r=t.getSelection();if(r===null)return;i.sort(B.compareRangesUsingStarts);const o=[],s=i.reduce((h,f)=>h.isEmpty()?h.endLineNumber===f.startLineNumber?(r.equalsSelection(h)&&(r=f),f):f.startLineNumber>h.endLineNumber+1?(o.push(h),f):new Ke(h.startLineNumber,h.startColumn,f.endLineNumber,f.endColumn):f.startLineNumber>h.endLineNumber?(o.push(h),f):new Ke(h.startLineNumber,h.startColumn,f.endLineNumber,f.endColumn));o.push(s);const a=t.getModel();if(a===null)return;const l=[],c=[];let d=r,u=0;for(let h=0,f=o.length;h<f;h++){const g=o[h],_=g.startLineNumber,y=1;let m=0,p,v;const b=a.getLineLength(g.endLineNumber)-g.endColumn;if(g.isEmpty()||g.startLineNumber===g.endLineNumber){const x=g.getStartPosition();x.lineNumber<a.getLineCount()?(p=_+1,v=a.getLineMaxColumn(p)):(p=x.lineNumber,v=a.getLineMaxColumn(x.lineNumber))}else p=g.endLineNumber,v=a.getLineMaxColumn(p);let C=a.getLineContent(_);for(let x=_+1;x<=p;x++){const k=a.getLineContent(x),D=a.getLineFirstNonWhitespaceColumn(x);if(D>=1){let E=!0;C===""&&(E=!1),E&&(C.charAt(C.length-1)===" "||C.charAt(C.length-1)==="	")&&(E=!1,C=C.replace(/[\s\uFEFF\xA0]+$/g," "));const I=k.substr(D-1);C+=(E?" ":"")+I,E?m=I.length+1:m=I.length}else m=0}const S=new B(_,y,p,v);if(!S.isEmpty()){let x;g.isEmpty()?(l.push(Qi.replace(S,C)),x=new Ke(S.startLineNumber-u,C.length-m+1,_-u,C.length-m+1)):g.startLineNumber===g.endLineNumber?(l.push(Qi.replace(S,C)),x=new Ke(g.startLineNumber-u,g.startColumn,g.endLineNumber-u,g.endColumn)):(l.push(Qi.replace(S,C)),x=new Ke(g.startLineNumber-u,g.startColumn,g.startLineNumber-u,C.length-b)),B.intersectRanges(S,r)!==null?d=x:c.push(x)}u+=S.endLineNumber-S.startLineNumber}c.unshift(d),t.pushUndoStop(),t.executeEdits(this.id,l,c),t.pushUndoStop()}}class oqe extends $e{constructor(){super({id:"editor.action.transpose",label:w("editor.transpose","Transpose Characters around the Cursor"),alias:"Transpose Characters around the Cursor",precondition:j.writable})}run(e,t){const i=t.getSelections();if(i===null)return;const r=t.getModel();if(r===null)return;const o=[];for(let s=0,a=i.length;s<a;s++){const l=i[s];if(!l.isEmpty())continue;const c=l.getStartPosition(),d=r.getLineMaxColumn(c.lineNumber);if(c.column>=d){if(c.lineNumber===r.getLineCount())continue;const u=new B(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),h=r.getValueInRange(u).split("").reverse().join("");o.push(new Wr(new Ke(c.lineNumber,Math.max(1,c.column-1),c.lineNumber+1,1),h))}else{const u=new B(c.lineNumber,Math.max(1,c.column-1),c.lineNumber,c.column+1),h=r.getValueInRange(u).split("").reverse().join("");o.push(new $6(u,h,new Ke(c.lineNumber,c.column+1,c.lineNumber,c.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class Fy extends $e{run(e,t){const i=t.getSelections();if(i===null)return;const r=t.getModel();if(r===null)return;const o=t.getOption(129),s=[];for(const a of i)if(a.isEmpty()){const l=a.getStartPosition(),c=t.getConfiguredWordAtPosition(l);if(!c)continue;const d=new B(l.lineNumber,c.startColumn,l.lineNumber,c.endColumn),u=r.getValueInRange(d);s.push(Qi.replace(d,this._modifyText(u,o)))}else{const l=r.getValueInRange(a);s.push(Qi.replace(a,this._modifyText(l,o)))}t.pushUndoStop(),t.executeEdits(this.id,s),t.pushUndoStop()}}class sqe extends Fy{constructor(){super({id:"editor.action.transformToUppercase",label:w("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:j.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}class aqe extends Fy{constructor(){super({id:"editor.action.transformToLowercase",label:w("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:j.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}class $_{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class ex extends Fy{constructor(){super({id:"editor.action.transformToTitlecase",label:w("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:j.writable})}_modifyText(e,t){const i=ex.titleBoundary.get();return i?e.toLocaleLowerCase().replace(i,r=>r.toLocaleUpperCase()):e}}ex.titleBoundary=new $_("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class xg extends Fy{constructor(){super({id:"editor.action.transformToSnakecase",label:w("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:j.writable})}_modifyText(e,t){const i=xg.caseBoundary.get(),r=xg.singleLetters.get();return!i||!r?e:e.replace(i,"$1_$2").replace(r,"$1_$2$3").toLocaleLowerCase()}}xg.caseBoundary=new $_("(\\p{Ll})(\\p{Lu})","gmu");xg.singleLetters=new $_("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class tx extends Fy{constructor(){super({id:"editor.action.transformToCamelcase",label:w("editor.transformToCamelcase","Transform to Camel Case"),alias:"Transform to Camel Case",precondition:j.writable})}_modifyText(e,t){const i=tx.wordBoundary.get();if(!i)return e;const r=e.split(i);return r.shift()+r.map(s=>s.substring(0,1).toLocaleUpperCase()+s.substring(1)).join("")}}tx.wordBoundary=new $_("[_\\s-]","gm");class bh extends Fy{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(t=>t.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:w("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:j.writable})}_modifyText(e,t){const i=bh.caseBoundary.get(),r=bh.singleLetters.get(),o=bh.underscoreBoundary.get();return!i||!r||!o?e:e.replace(o,"$1-$3").replace(i,"$1-$2").replace(r,"$1-$2").toLocaleLowerCase()}}bh.caseBoundary=new $_("(\\p{Ll})(\\p{Lu})","gmu");bh.singleLetters=new $_("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu");bh.underscoreBoundary=new $_("(\\S)(_)(\\S)","gm");Ee(j$e);Ee(U$e);Ee($$e);Ee(q$e);Ee(K$e);Ee(G$e);Ee(Z$e);Ee(Y$e);Ee(C2);Ee(X$e);Ee(Q$e);Ee(J$e);Ee(eqe);Ee(tqe);Ee(iqe);Ee(nqe);Ee(rqe);Ee(oqe);Ee(sqe);Ee(aqe);xg.caseBoundary.isSupported()&&xg.singleLetters.isSupported()&&Ee(xg);tx.wordBoundary.isSupported()&&Ee(tx);ex.titleBoundary.isSupported()&&Ee(ex);bh.isSupported()&&Ee(bh);var lqe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},kD=function(n,e){return function(t,i){e(t,i,n)}},OT;const Dfe=new je("LinkedEditingInputVisible",!1),cqe="linked-editing-decoration";let ip=OT=class extends ce{static get(e){return e.getContribution(OT.ID)}constructor(e,t,i,r,o){super(),this.languageConfigurationService=r,this._syncRangesToken=0,this._localToDispose=this._register(new xe),this._editor=e,this._providers=i.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=Dfe.bindTo(t),this._debounceInformation=o.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new xe),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequestCts=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(s=>{(s.hasChanged(69)||s.hasChanged(92))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(e){const t=this._editor.getModel(),i=t!==null&&(this._editor.getOption(69)||this._editor.getOption(92))&&this._providers.has(t);if(i===this._enabled&&!e||(this._enabled=i,this.clearRanges(),this._localToDispose.clear(),!i||t===null))return;this._localToDispose.add(Ve.runAndSubscribe(t.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition()}));const r=new $l(this._debounceInformation.get(t)),o=()=>{var l;this._rangeUpdateTriggerPromise=r.trigger(()=>this.updateRanges(),(l=this._debounceDuration)!==null&&l!==void 0?l:this._debounceInformation.get(t))},s=new $l(0),a=l=>{this._rangeSyncTriggerPromise=s.trigger(()=>this._syncRanges(l))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{o()})),this._localToDispose.add(this._editor.onDidChangeModelContent(l=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const c=this._currentDecorations.getRange(0);if(c&&l.changes.every(d=>c.intersectRanges(d.range))){a(this._syncRangesToken);return}}o()})),this._localToDispose.add({dispose:()=>{r.dispose(),s.dispose()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._syncRangesToken||this._currentDecorations.length===0)return;const t=this._editor.getModel(),i=this._currentDecorations.getRange(0);if(!i||i.startLineNumber!==i.endLineNumber)return this.clearRanges();const r=t.getValueInRange(i);if(this._currentWordPattern){const s=r.match(this._currentWordPattern);if((s?s[0].length:0)!==r.length)return this.clearRanges()}const o=[];for(let s=1,a=this._currentDecorations.length;s<a;s++){const l=this._currentDecorations.getRange(s);if(l)if(l.startLineNumber!==l.endLineNumber)o.push({range:l,text:r});else{let c=t.getValueInRange(l),d=r,u=l.startColumn,h=l.endColumn;const f=jm(c,d);u+=f,c=c.substr(f),d=d.substr(f);const g=BE(c,d);h-=g,c=c.substr(0,c.length-g),d=d.substr(0,d.length-g),(u!==h||d.length!==0)&&o.push({range:new B(l.startLineNumber,u,l.endLineNumber,h),text:d})}}if(o.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const s=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",o),this._editor._getViewModel().setPrevEditOperationType(s)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequestCts&&(this._currentRequestCts.cancel(),this._currentRequestCts=null,this._currentRequestPosition=null)}async updateRanges(e=!1){if(!this._editor.hasModel()){this.clearRanges();return}const t=this._editor.getPosition();if(!this._enabled&&!e||this._editor.getSelections().length>1){this.clearRanges();return}const i=this._editor.getModel(),r=i.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===r){if(t.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const s=this._currentDecorations.getRange(0);if(s&&s.containsPosition(t))return}}this.clearRanges(),this._currentRequestPosition=t,this._currentRequestModelVersion=r;const o=this._currentRequestCts=new Pn;try{const s=new ro(!1),a=await Tfe(this._providers,i,t,o.token);if(this._debounceInformation.update(i,s.elapsed()),o!==this._currentRequestCts||(this._currentRequestCts=null,r!==i.getVersionId()))return;let l=[];a!=null&&a.ranges&&(l=a.ranges),this._currentWordPattern=(a==null?void 0:a.wordPattern)||this._languageWordPattern;let c=!1;for(let u=0,h=l.length;u<h;u++)if(B.containsPosition(l[u],t)){if(c=!0,u!==0){const f=l[u];l.splice(u,1),l.unshift(f)}break}if(!c){this.clearRanges();return}const d=l.map(u=>({range:u,options:OT.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(d),this._syncRangesToken++}catch(s){Jc(s)||St(s),(this._currentRequestCts===o||!this._currentRequestCts)&&this.clearRanges()}}};ip.ID="editor.contrib.linkedEditing";ip.DECORATION=kt.register({description:"linked-editing",stickiness:0,className:cqe});ip=OT=lqe([kD(1,_t),kD(2,qe),kD(3,Pi),kD(4,dl)],ip);class dqe extends $e{constructor(){super({id:"editor.action.linkedEditing",label:w("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:we.and(j.writable,j.hasRenameProvider),kbOpts:{kbExpr:j.editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const i=e.get(ai),[r,o]=Array.isArray(t)&&t||[void 0,void 0];return rt.isUri(r)&&re.isIPosition(o)?i.openCodeEditor({resource:r},i.getActiveCodeEditor()).then(s=>{s&&(s.setPosition(o),s.invokeWithinContext(a=>(this.reportTelemetry(a,s),this.run(a,s))))},St):super.runCommand(e,t)}run(e,t){const i=ip.get(t);return i?Promise.resolve(i.updateRanges(!0)):Promise.resolve()}}const uqe=kr.bindToContribution(ip.get);We(new uqe({id:"cancelLinkedEditingInput",precondition:Dfe,handler:n=>n.clearRanges(),kbOpts:{kbExpr:j.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));function Tfe(n,e,t,i){const r=n.ordered(e);return d6(r.map(o=>async()=>{try{return await o.provideLinkedEditingRanges(e,t,i)}catch(s){Hn(s);return}}),o=>!!o&&io(o==null?void 0:o.ranges))}U("editor.linkedEditingBackground",{dark:ue.fromHex("#f00").transparent(.3),light:ue.fromHex("#f00").transparent(.3),hcDark:ue.fromHex("#f00").transparent(.3),hcLight:ue.white},w("editorLinkedEditingBackground","Background color when the editor auto renames on type."));vu("_executeLinkedEditingProvider",(n,e,t)=>{const{linkedEditingRangeProvider:i}=n.get(qe);return Tfe(i,e,t,Ht.None)});li(ip.ID,ip,1);Ee(dqe);let hqe=class{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}async resolve(e){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,e)).then(t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))}};class DN{constructor(e){this._disposables=new xe;let t=[];for(const[i,r]of e){const o=i.links.map(s=>new hqe(s,r));t=DN._union(t,o),qW(i)&&this._disposables.add(i)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){const i=[];let r,o,s,a;for(r=0,s=0,o=e.length,a=t.length;r<o&&s<a;){const l=e[r],c=t[s];if(B.areIntersectingOrTouching(l.range,c.range)){r++;continue}B.compareRangesUsingStarts(l.range,c.range)<0?(i.push(l),r++):(i.push(c),s++)}for(;r<o;r++)i.push(e[r]);for(;s<a;s++)i.push(t[s]);return i}}function Efe(n,e,t){const i=[],r=n.ordered(e).reverse().map((o,s)=>Promise.resolve(o.provideLinks(e,t)).then(a=>{a&&(i[s]=[a,o])},Hn));return Promise.all(r).then(()=>{const o=new DN(zc(i));return t.isCancellationRequested?(o.dispose(),new DN([])):o})}Gt.registerCommand("_executeLinkProvider",async(n,...e)=>{let[t,i]=e;Ci(t instanceof rt),typeof i!="number"&&(i=0);const{linkProvider:r}=n.get(qe),o=n.get(Ji).getModel(t);if(!o)return[];const s=await Efe(r,o,Ht.None);if(!s)return[];for(let l=0;l<Math.min(i,s.links.length);l++)await s.links[l].resolve(Ht.None);const a=s.links.slice(0);return s.dispose(),a});var fqe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},DD=function(n,e){return function(t,i){e(t,i,n)}},cB;let ty=cB=class extends ce{static get(e){return e.getContribution(cB.ID)}constructor(e,t,i,r,o){super(),this.editor=e,this.openerService=t,this.notificationService=i,this.languageFeaturesService=r,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=o.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new ki(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const s=this._register(new $M(e));this._register(s.onMouseMoveOrRelevantKeyDown(([a,l])=>{this._onEditorMouseMove(a,l)})),this._register(s.onExecute(a=>{this.onEditorMouseUp(a)})),this._register(s.onCancel(a=>{this.cleanUpActiveLinkDecoration()})),this._register(e.onDidChangeConfiguration(a=>{a.hasChanged(70)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(e.onDidChangeModelContent(a=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(e.onDidChangeModel(a=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(e.onDidChangeModelLanguage(a=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(a=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}async computeLinksNow(){if(!this.editor.hasModel()||!this.editor.getOption(70))return;const e=this.editor.getModel();if(!e.isTooLargeForSyncing()&&this.providers.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=gr(t=>Efe(this.providers,e,t));try{const t=new ro(!1);if(this.activeLinksList=await this.computePromise,this.debounceInformation.update(e,t.elapsed()),e.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(t){St(t)}finally{this.computePromise=null}}}updateDecorations(e){const t=this.editor.getOption(77)==="altKey",i=[],r=Object.keys(this.currentOccurrences);for(const s of r){const a=this.currentOccurrences[s];i.push(a.decorationId)}const o=[];if(e)for(const s of e)o.push(Xv.decoration(s,t));this.editor.changeDecorations(s=>{const a=s.deltaDecorations(i,o);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let l=0,c=a.length;l<c;l++){const d=new Xv(e[l],a[l]);this.currentOccurrences[d.decorationId]=d}})}_onEditorMouseMove(e,t){const i=this.editor.getOption(77)==="altKey";if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const r=this.getLinkOccurrence(e.target.position);r&&this.editor.changeDecorations(o=>{r.activate(o,i),this.activeLinkDecorationId=r.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e=this.editor.getOption(77)==="altKey";if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(i=>{t.deactivate(i,e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;const t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,i=!1){if(!this.openerService)return;const{link:r}=e;r.resolve(Ht.None).then(o=>{if(typeof o=="string"&&this.editor.hasModel()){const s=this.editor.getModel().uri;if(s.scheme===Tt.file&&o.startsWith(`${Tt.file}:`)){const a=rt.parse(o);if(a.scheme===Tt.file){const l=vd(a);let c=null;l.startsWith("/./")?c=`.${l.substr(1)}`:l.startsWith("//./")&&(c=`.${l.substr(2)}`),c&&(o=CRe(s,c))}}}return this.openerService.open(o,{openToSide:t,fromUserGesture:i,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},o=>{const s=o instanceof Error?o.message:o;s==="invalid"?this.notificationService.warn(w("invalid.url","Failed to open this link because it is not well-formed: {0}",r.url.toString())):s==="missing"?this.notificationService.warn(w("missing.url","Failed to open this link because its target is missing.")):St(o)})}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;const t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(const i of t){const r=this.currentOccurrences[i.id];if(r)return r}return null}isEnabled(e,t){return!!(e.target.type===6&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.computeLinks.cancel(),this.activeLinksList&&((e=this.activeLinksList)===null||e===void 0||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};ty.ID="editor.linkDetector";ty=cB=fqe([DD(1,ws),DD(2,Rn),DD(3,qe),DD(4,dl)],ty);const YX={general:kt.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:kt.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class Xv{static decoration(e,t){return{range:e.range,options:Xv._getOptions(e,t,!1)}}static _getOptions(e,t,i){const r={...i?YX.active:YX.general};return r.hoverMessage=gqe(e,t),r}constructor(e,t){this.link=e,this.decorationId=t}activate(e,t){e.changeDecorationOptions(this.decorationId,Xv._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,Xv._getOptions(this.link,t,!1))}}function gqe(n,e){const t=n.url&&/^command:/i.test(n.url.toString()),i=n.tooltip?n.tooltip:t?w("links.navigate.executeCmd","Execute command"):w("links.navigate.follow","Follow link"),r=e?qt?w("links.navigate.kb.meta.mac","cmd + click"):w("links.navigate.kb.meta","ctrl + click"):qt?w("links.navigate.kb.alt.mac","option + click"):w("links.navigate.kb.alt","alt + click");if(n.url){let o="";if(/^command:/i.test(n.url.toString())){const a=n.url.toString().match(/^command:([^?#]+)/);if(a){const l=a[1];o=w("tooltip.explanation","Execute command {0}",l)}}return new eo("",!0).appendLink(n.url.toString(!0).replace(/ /g,"%20"),i,o).appendMarkdown(` (${r})`)}else return new eo().appendText(`${i} (${r})`)}class pqe extends $e{constructor(){super({id:"editor.action.openLink",label:w("label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){const i=ty.get(t);if(!i||!t.hasModel())return;const r=t.getSelections();for(const o of r){const s=i.getLinkOccurrence(o.getEndPosition());s&&i.openLinkOccurrence(s,!1)}}}li(ty.ID,ty,1);Ee(pqe);class dB extends ce{constructor(e){super(),this._editor=e,this._register(this._editor.onMouseDown(t=>{const i=this._editor.getOption(116);i>=0&&t.target.type===6&&t.target.position.column>=i&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}dB.ID="editor.contrib.longLinesHelper";li(dB.ID,dB,2);const TD=U("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},w("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0);U("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},w("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0);U("editor.wordHighlightTextBackground",{light:TD,dark:TD,hcDark:TD,hcLight:TD},w("wordHighlightText","Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);const ED=U("editor.wordHighlightBorder",{light:null,dark:null,hcDark:Hi,hcLight:Hi},w("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable."));U("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:Hi,hcLight:Hi},w("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable."));U("editor.wordHighlightTextBorder",{light:ED,dark:ED,hcDark:ED,hcLight:ED},w("wordHighlightTextBorder","Border color of a textual occurrence for a symbol."));const mqe=U("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},w("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),_qe=U("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},w("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),vqe=U("editorOverviewRuler.wordHighlightTextForeground",{dark:QC,light:QC,hcDark:QC,hcLight:QC},w("overviewRulerWordHighlightTextForeground","Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0),bqe=kt.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:cn(_qe),position:ka.Center},minimap:{color:cn(qP),position:Bs.Inline}}),yqe=kt.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:cn(vqe),position:ka.Center},minimap:{color:cn(qP),position:Bs.Inline}}),Cqe=kt.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:cn(QC),position:ka.Center},minimap:{color:cn(qP),position:Bs.Inline}}),wqe=kt.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),Sqe=kt.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:cn(mqe),position:ka.Center},minimap:{color:cn(qP),position:Bs.Inline}});function xqe(n){return n===W1.Write?bqe:n===W1.Text?yqe:Sqe}function Lqe(n){return n?wqe:Cqe}cl((n,e)=>{const t=n.getColor(F6);t&&e.addRule(`.monaco-editor .selectionHighlight { background-color: ${t.transparent(.5)}; }`)});var kqe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Dqe=function(n,e){return function(t,i){e(t,i,n)}},uB;function bp(n,e){const t=e.filter(i=>!n.find(r=>r.equals(i)));if(t.length>=1){const i=t.map(o=>`line ${o.viewState.position.lineNumber} column ${o.viewState.position.column}`).join(", "),r=t.length===1?w("cursorAdded","Cursor added: {0}",i):w("cursorsAdded","Cursors added: {0}",i);Ih(r)}}class Tqe extends $e{constructor(){super({id:"editor.action.insertCursorAbove",label:w("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:j.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:H.MenubarSelectionMenu,group:"3_multi",title:w({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,i){if(!t.hasModel())return;let r=!0;i&&i.logicalLine===!1&&(r=!1);const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();const s=o.getCursorStates();o.setCursorStates(i.source,3,Tr.addCursorUp(o,s,r)),o.revealTopMostCursor(i.source),bp(s,o.getCursorStates())}}class Eqe extends $e{constructor(){super({id:"editor.action.insertCursorBelow",label:w("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:j.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:H.MenubarSelectionMenu,group:"3_multi",title:w({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,i){if(!t.hasModel())return;let r=!0;i&&i.logicalLine===!1&&(r=!1);const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();const s=o.getCursorStates();o.setCursorStates(i.source,3,Tr.addCursorDown(o,s,r)),o.revealBottomMostCursor(i.source),bp(s,o.getCursorStates())}}class Iqe extends $e{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:w("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:j.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:H.MenubarSelectionMenu,group:"3_multi",title:w({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,i){if(!e.isEmpty()){for(let r=e.startLineNumber;r<e.endLineNumber;r++){const o=t.getLineMaxColumn(r);i.push(new Ke(r,o,r,o))}e.endColumn>1&&i.push(new Ke(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;const i=t.getModel(),r=t.getSelections(),o=t._getViewModel(),s=o.getCursorStates(),a=[];r.forEach(l=>this.getCursorsForSelection(l,i,a)),a.length>0&&t.setSelections(a),bp(s,o.getCursorStates())}}class Nqe extends $e{constructor(){super({id:"editor.action.addCursorsToBottom",label:w("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections(),r=t.getModel().getLineCount(),o=[];for(let l=i[0].startLineNumber;l<=r;l++)o.push(new Ke(l,i[0].startColumn,l,i[0].endColumn));const s=t._getViewModel(),a=s.getCursorStates();o.length>0&&t.setSelections(o),bp(a,s.getCursorStates())}}class Pqe extends $e{constructor(){super({id:"editor.action.addCursorsToTop",label:w("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections(),r=[];for(let a=i[0].startLineNumber;a>=1;a--)r.push(new Ke(a,i[0].startColumn,a,i[0].endColumn));const o=t._getViewModel(),s=o.getCursorStates();r.length>0&&t.setSelections(r),bp(s,o.getCursorStates())}}class ID{constructor(e,t,i){this.selections=e,this.revealRange=t,this.revealScrollType=i}}class ix{static create(e,t){if(!e.hasModel())return null;const i=t.getState();if(!e.hasTextFocus()&&i.isRevealed&&i.searchString.length>0)return new ix(e,t,!1,i.searchString,i.wholeWord,i.matchCase,null);let r=!1,o,s;const a=e.getSelections();a.length===1&&a[0].isEmpty()?(r=!0,o=!0,s=!0):(o=i.wholeWord,s=i.matchCase);const l=e.getSelection();let c,d=null;if(l.isEmpty()){const u=e.getConfiguredWordAtPosition(l.getStartPosition());if(!u)return null;c=u.word,d=new Ke(l.startLineNumber,u.startColumn,l.startLineNumber,u.endColumn)}else c=e.getModel().getValueInRange(l).replace(/\r\n/g,`
`);return new ix(e,t,r,c,o,s,d)}constructor(e,t,i,r,o,s,a){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=i,this.searchText=r,this.wholeWord=o,this.matchCase=s,this.currentMatch=a}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new ID(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new ID(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const r=this.currentMatch;return this.currentMatch=null,r}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(129):null,!1);return i?new Ke(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new ID(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new ID(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const r=this.currentMatch;return this.currentMatch=null,r}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(129):null,!1);return i?new Ke(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}selectAll(e){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const t=this._editor.getModel();return e?t.findMatches(this.searchText,e,!1,this.matchCase,this.wholeWord?this._editor.getOption(129):null,!1,1073741824):t.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(129):null,!1,1073741824)}}class g_ extends ce{static get(e){return e.getContribution(g_.ID)}constructor(e){super(),this._sessionDispose=this._register(new xe),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){const t=ix.create(this._editor,e);if(!t)return;this._session=t;const i={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(i.wholeWordOverride=1,i.matchCaseOverride=1,i.isRegexOverride=2),e.getState().change(i,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(r=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange(r=>{(r.matchCase||r.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;const i=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return i?new Ke(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):t}_applySessionResult(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(this._editor.hasModel()){if(!this._session){const t=this._editor.getSelections();if(t.length>1){const r=e.getState().matchCase;if(!Ife(this._editor.getModel(),t,r)){const s=this._editor.getModel(),a=[];for(let l=0,c=t.length;l<c;l++)a[l]=this._expandEmptyToWord(s,t[l]);this._editor.setSelections(a);return}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null;const i=e.getState();if(i.isRevealed&&i.searchString.length>0&&i.isRegex){const r=this._editor.getModel();i.searchScope?t=r.findMatches(i.searchString,i.searchScope,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(129):null,!1,1073741824):t=r.findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(129):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll(i.searchScope)}if(t.length>0){const r=this._editor.getSelection();for(let o=0,s=t.length;o<s;o++){const a=t[o];if(a.range.intersectRanges(r)){t[o]=t[0],t[0]=a;break}}this._setSelections(t.map(o=>new Ke(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn)))}}}g_.ID="editor.contrib.multiCursorController";class By extends $e{run(e,t){const i=g_.get(t);if(!i)return;const r=t._getViewModel();if(r){const o=r.getCursorStates(),s=qo.get(t);if(s)this._run(i,s);else{const a=e.get(dt).createInstance(qo,t);this._run(i,a),a.dispose()}bp(o,r.getCursorStates())}}}class Mqe extends By{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:w("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:j.focus,primary:2082,weight:100},menuOpts:{menuId:H.MenubarSelectionMenu,group:"3_multi",title:w({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}}class Rqe extends By{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:w("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:H.MenubarSelectionMenu,group:"3_multi",title:w({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}}class Aqe extends By{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:w("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:j.focus,primary:Yn(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}}class Oqe extends By{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:w("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}}class Fqe extends By{constructor(){super({id:"editor.action.selectHighlights",label:w("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:j.focus,primary:3114,weight:100},menuOpts:{menuId:H.MenubarSelectionMenu,group:"3_multi",title:w({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}}class Bqe extends By{constructor(){super({id:"editor.action.changeAll",label:w("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:we.and(j.writable,j.editorTextFocus),kbOpts:{kbExpr:j.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}}class Wqe{constructor(e,t,i,r,o){this._model=e,this._searchText=t,this._matchCase=i,this._wordSeparators=r,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,o&&this._model===o._model&&this._searchText===o._searchText&&this._matchCase===o._matchCase&&this._wordSeparators===o._wordSeparators&&this._modelVersionId===o._modelVersionId&&(this._cachedFindMatches=o._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(e=>e.range),this._cachedFindMatches.sort(B.compareRangesUsingStarts)),this._cachedFindMatches}}let nx=uB=class extends ce{constructor(e,t){super(),this._languageFeaturesService=t,this.editor=e,this._isEnabled=e.getOption(107),this._decorations=e.createDecorationsCollection(),this.updateSoon=this._register(new ki(()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration(r=>{this._isEnabled=e.getOption(107)})),this._register(e.onDidChangeCursorSelection(r=>{this._isEnabled&&(r.selection.isEmpty()?r.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel(r=>{this._setState(null)})),this._register(e.onDidChangeModelContent(r=>{this._isEnabled&&this.updateSoon.schedule()}));const i=qo.get(e);i&&this._register(i.getState().onFindReplaceStateChange(r=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(uB._createState(this.state,this._isEnabled,this.editor))}static _createState(e,t,i){if(!t||!i.hasModel())return null;const r=i.getSelection();if(r.startLineNumber!==r.endLineNumber)return null;const o=g_.get(i);if(!o)return null;const s=qo.get(i);if(!s)return null;let a=o.getSession(s);if(!a){const d=i.getSelections();if(d.length>1){const h=s.getState().matchCase;if(!Ife(i.getModel(),d,h))return null}a=ix.create(i,s)}if(!a||a.currentMatch||/^[ \t]+$/.test(a.searchText)||a.searchText.length>200)return null;const l=s.getState(),c=l.matchCase;if(l.isRevealed){let d=l.searchString;c||(d=d.toLowerCase());let u=a.searchText;if(c||(u=u.toLowerCase()),d===u&&a.matchCase===l.matchCase&&a.wholeWord===l.wholeWord&&!l.isRegex)return null}return new Wqe(i.getModel(),a.searchText,a.matchCase,a.wholeWord?i.getOption(129):null,e)}_setState(e){if(this.state=e,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const t=this.editor.getModel();if(t.isTooLargeForTokenization())return;const i=this.state.findMatches(),r=this.editor.getSelections();r.sort(B.compareRangesUsingStarts);const o=[];for(let c=0,d=0,u=i.length,h=r.length;c<u;){const f=i[c];if(d>=h)o.push(f),c++;else{const g=B.compareRangesUsingStarts(f,r[d]);g<0?((r[d].isEmpty()||!B.areIntersecting(f,r[d]))&&o.push(f),c++):(g>0||c++,d++)}}const s=this.editor.getOption(80)!=="off",a=this._languageFeaturesService.documentHighlightProvider.has(t)&&s,l=o.map(c=>({range:c,options:Lqe(a)}));this._decorations.set(l)}dispose(){this._setState(null),super.dispose()}};nx.ID="editor.contrib.selectionHighlighter";nx=uB=kqe([Dqe(1,qe)],nx);function Ife(n,e,t){const i=XX(n,e[0],!t);for(let r=1,o=e.length;r<o;r++){const s=e[r];if(s.isEmpty())return!1;const a=XX(n,s,!t);if(i!==a)return!1}return!0}function XX(n,e,t){const i=n.getValueInRange(e);return t?i.toLowerCase():i}class Vqe extends $e{constructor(){super({id:"editor.action.focusNextCursor",label:w("mutlicursor.focusNextCursor","Focus Next Cursor"),metadata:{description:w("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(e,t,i){if(!t.hasModel())return;const r=t._getViewModel();if(r.cursorConfig.readOnly)return;r.model.pushStackElement();const o=Array.from(r.getCursorStates()),s=o.shift();s&&(o.push(s),r.setCursorStates(i.source,3,o),r.revealPrimaryCursor(i.source,!0),bp(o,r.getCursorStates()))}}class Hqe extends $e{constructor(){super({id:"editor.action.focusPreviousCursor",label:w("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),metadata:{description:w("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(e,t,i){if(!t.hasModel())return;const r=t._getViewModel();if(r.cursorConfig.readOnly)return;r.model.pushStackElement();const o=Array.from(r.getCursorStates()),s=o.pop();s&&(o.unshift(s),r.setCursorStates(i.source,3,o),r.revealPrimaryCursor(i.source,!0),bp(o,r.getCursorStates()))}}li(g_.ID,g_,4);li(nx.ID,nx,1);Ee(Tqe);Ee(Eqe);Ee(Iqe);Ee(Mqe);Ee(Rqe);Ee(Aqe);Ee(Oqe);Ee(Fqe);Ee(Bqe);Ee(Nqe);Ee(Pqe);Ee(Vqe);Ee(Hqe);const p_={Visible:new je("parameterHintsVisible",!1),MultipleSignatures:new je("parameterHintsMultipleSignatures",!1)};async function Nfe(n,e,t,i,r){const o=n.ordered(e);for(const s of o)try{const a=await s.provideSignatureHelp(e,t,r,i);if(a)return a}catch(a){Hn(a)}}Gt.registerCommand("_executeSignatureHelpProvider",async(n,...e)=>{const[t,i,r]=e;Ci(rt.isUri(t)),Ci(re.isIPosition(i)),Ci(typeof r=="string"||!r);const o=n.get(qe),s=await n.get(Cs).createModelReference(t);try{const a=await Nfe(o.signatureHelpProvider,s.object.textEditorModel,re.lift(i),{triggerKind:Qd.Invoke,isRetrigger:!1,triggerCharacter:r},Ht.None);return a?(setTimeout(()=>a.dispose(),0),a.value):void 0}finally{s.dispose()}});var kf;(function(n){n.Default={type:0};class e{constructor(r,o){this.request=r,this.previouslyActiveHints=o,this.type=2}}n.Pending=e;class t{constructor(r){this.hints=r,this.type=1}}n.Active=t})(kf||(kf={}));class w2 extends ce{constructor(e,t,i=w2.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new ne),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=kf.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new Lr),this.triggerChars=new GE,this.retriggerChars=new GE,this.triggerId=0,this.editor=e,this.providers=t,this.throttledDelayer=new $l(i),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(r=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(r=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(r=>this.onCursorChange(r))),this._register(this.editor.onDidChangeModelContent(r=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(r=>this.onDidType(r))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){this._state.type===2&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=kf.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){const i=this.editor.getModel();if(!i||!this.providers.has(i))return;const r=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(r),t).catch(St)}next(){if(this.state.type!==1)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t%e===e-1,r=this.editor.getOption(85).cycle;if((e<2||i)&&!r){this.cancel();return}this.updateActiveSignature(i&&r?0:t+1)}previous(){if(this.state.type!==1)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t===0,r=this.editor.getOption(85).cycle;if((e<2||i)&&!r){this.cancel();return}this.updateActiveSignature(i&&r?e-1:t-1)}updateActiveSignature(e){this.state.type===1&&(this.state=new kf.Active({...this.state.hints,activeSignature:e}),this._onChangedHints.fire(this.state.hints))}async doTrigger(e){const t=this.state.type===1||this.state.type===2,i=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const r=this._pendingTriggers.reduce(zqe);this._pendingTriggers=[];const o={triggerKind:r.triggerKind,triggerCharacter:r.triggerCharacter,isRetrigger:t,activeSignatureHelp:i};if(!this.editor.hasModel())return!1;const s=this.editor.getModel(),a=this.editor.getPosition();this.state=new kf.Pending(gr(l=>Nfe(this.providers,s,a,o,l)),i);try{const l=await this.state.request;return e!==this.triggerId?(l==null||l.dispose(),!1):!l||!l.value.signatures||l.value.signatures.length===0?(l==null||l.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new kf.Active(l.value),this._lastSignatureHelpResult.value=l,this._onChangedHints.fire(this.state.hints),!0)}catch(l){return e===this.triggerId&&(this.state=kf.Default),St(l),!1}}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const e=this.editor.getModel();if(e)for(const t of this.providers.ordered(e)){for(const i of t.signatureHelpTriggerCharacters||[])if(i.length){const r=i.charCodeAt(0);this.triggerChars.add(r),this.retriggerChars.add(r)}for(const i of t.signatureHelpRetriggerCharacters||[])i.length&&this.retriggerChars.add(i.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;const t=e.length-1,i=e.charCodeAt(t);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:Qd.TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){e.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:Qd.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:Qd.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(85).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}w2.DEFAULT_DELAY=120;function zqe(n,e){switch(e.triggerKind){case Qd.Invoke:return e;case Qd.ContentChange:return n;case Qd.TriggerCharacter:default:return e}}var jqe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},t5=function(n,e){return function(t,i){e(t,i,n)}},hB;const Qs=Te,Uqe=Dn("parameter-hints-next",Ae.chevronDown,w("parameterHintsNextIcon","Icon for show next parameter hint.")),$qe=Dn("parameter-hints-previous",Ae.chevronUp,w("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let TN=hB=class extends ce{constructor(e,t,i,r,o){super(),this.editor=e,this.model=t,this.renderDisposeables=this._register(new xe),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new du({editor:e},o,r)),this.keyVisible=p_.Visible.bindTo(i),this.keyMultipleSignatures=p_.MultipleSignatures.bindTo(i)}createParameterHintDOMNodes(){const e=Qs(".editor-widget.parameter-hints-widget"),t=Se(e,Qs(".phwrapper"));t.tabIndex=-1;const i=Se(t,Qs(".controls")),r=Se(i,Qs(".button"+lt.asCSSSelector($qe))),o=Se(i,Qs(".overloads")),s=Se(i,Qs(".button"+lt.asCSSSelector(Uqe)));this._register(ge(r,"click",h=>{Mt.stop(h),this.previous()})),this._register(ge(s,"click",h=>{Mt.stop(h),this.next()}));const a=Qs(".body"),l=new jx(a,{alwaysConsumeMouseWheel:!0});this._register(l),t.appendChild(l.getDomNode());const c=Se(a,Qs(".signature")),d=Se(a,Qs(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:c,overloads:o,docs:d,scrollbar:l},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(h=>{this.visible&&this.editor.layoutContentWidget(this)}));const u=()=>{if(!this.domNodes)return;const h=this.editor.getOption(50);this.domNodes.element.style.fontSize=`${h.fontSize}px`,this.domNodes.element.style.lineHeight=`${h.lineHeight/h.fontSize}`};u(),this._register(Ve.chain(this.editor.onDidChangeConfiguration.bind(this.editor),h=>h.filter(f=>f.hasChanged(50)))(u)),this._register(this.editor.onDidLayoutChange(h=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var e;(e=this.domNodes)===null||e===void 0||e.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var e;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(e=this.domNodes)===null||e===void 0||e.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){var t;if(this.renderDisposeables.clear(),!this.domNodes)return;const i=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",i),this.keyMultipleSignatures.set(i),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const r=e.signatures[e.activeSignature];if(!r)return;const o=Se(this.domNodes.signature,Qs(".code")),s=this.editor.getOption(50);o.style.fontSize=`${s.fontSize}px`,o.style.fontFamily=s.fontFamily;const a=r.parameters.length>0,l=(t=r.activeParameter)!==null&&t!==void 0?t:e.activeParameter;if(a)this.renderParameters(o,r,l);else{const u=Se(o,Qs("span"));u.textContent=r.label}const c=r.parameters[l];if(c!=null&&c.documentation){const u=Qs("span.documentation");if(typeof c.documentation=="string")u.textContent=c.documentation;else{const h=this.renderMarkdownDocs(c.documentation);u.appendChild(h.element)}Se(this.domNodes.docs,Qs("p",{},u))}if(r.documentation!==void 0)if(typeof r.documentation=="string")Se(this.domNodes.docs,Qs("p",{},r.documentation));else{const u=this.renderMarkdownDocs(r.documentation);Se(this.domNodes.docs,u.element)}const d=this.hasDocs(r,c);if(this.domNodes.signature.classList.toggle("has-docs",d),this.domNodes.docs.classList.toggle("empty",!d),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,c){let u="";const h=r.parameters[l];Array.isArray(h.label)?u=r.label.substring(h.label[0],h.label[1]):u=h.label,h.documentation&&(u+=typeof h.documentation=="string"?`, ${h.documentation}`:`, ${h.documentation.value}`),r.documentation&&(u+=typeof r.documentation=="string"?`, ${r.documentation}`:`, ${r.documentation.value}`),this.announcedLabel!==u&&(zs(w("hint","{0}, hint",u)),this.announcedLabel=u)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){const t=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var i;(i=this.domNodes)===null||i===void 0||i.scrollbar.scanDomNode()}}));return t.element.classList.add("markdown-docs"),t}hasDocs(e,t){return!!(t&&typeof t.documentation=="string"&&Ff(t.documentation).length>0||t&&typeof t.documentation=="object"&&Ff(t.documentation).value.length>0||e.documentation&&typeof e.documentation=="string"&&Ff(e.documentation).length>0||e.documentation&&typeof e.documentation=="object"&&Ff(e.documentation.value).length>0)}renderParameters(e,t,i){const[r,o]=this.getParameterLabelOffsets(t,i),s=document.createElement("span");s.textContent=t.label.substring(0,r);const a=document.createElement("span");a.textContent=t.label.substring(r,o),a.className="parameter active";const l=document.createElement("span");l.textContent=t.label.substring(o),Se(e,s,a,l)}getParameterLabelOffsets(e,t){const i=e.parameters[t];if(i){if(Array.isArray(i.label))return i.label;if(i.label.length){const r=new RegExp(`(\\W|^)${xa(i.label)}(?=\\W|$)`,"g");r.test(e.label);const o=r.lastIndex-i.label.length;return o>=0?[o,r.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return hB.ID}updateMaxHeight(){if(!this.domNodes)return;const t=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=t;const i=this.domNodes.element.getElementsByClassName("phwrapper");i.length&&(i[0].style.maxHeight=t)}};TN.ID="editor.widget.parameterHintsWidget";TN=hB=jqe([t5(2,_t),t5(3,ws),t5(4,Zi)],TN);U("editorHoverWidget.highlightForeground",{dark:Al,light:Al,hcDark:Al,hcLight:Al},w("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));var qqe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},QX=function(n,e){return function(t,i){e(t,i,n)}},fB;let m_=fB=class extends ce{static get(e){return e.getContribution(fB.ID)}constructor(e,t,i){super(),this.editor=e,this.model=this._register(new w2(e,i.signatureHelpProvider)),this._register(this.model.onChangedHints(r=>{var o;r?(this.widget.value.show(),this.widget.value.render(r)):(o=this.widget.rawValue)===null||o===void 0||o.hide()})),this.widget=new up(()=>this._register(t.createInstance(TN,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){var e;(e=this.widget.rawValue)===null||e===void 0||e.previous()}next(){var e;(e=this.widget.rawValue)===null||e===void 0||e.next()}trigger(e){this.model.trigger(e,0)}};m_.ID="editor.controller.parameterHints";m_=fB=qqe([QX(1,dt),QX(2,qe)],m_);class Kqe extends $e{constructor(){super({id:"editor.action.triggerParameterHints",label:w("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:j.hasSignatureHelpProvider,kbOpts:{kbExpr:j.editorTextFocus,primary:3082,weight:100}})}run(e,t){const i=m_.get(t);i==null||i.trigger({triggerKind:Qd.Invoke})}}li(m_.ID,m_,2);Ee(Kqe);const XH=175,QH=kr.bindToContribution(m_.get);We(new QH({id:"closeParameterHints",precondition:p_.Visible,handler:n=>n.cancel(),kbOpts:{weight:XH,kbExpr:j.focus,primary:9,secondary:[1033]}}));We(new QH({id:"showPrevParameterHint",precondition:we.and(p_.Visible,p_.MultipleSignatures),handler:n=>n.previous(),kbOpts:{weight:XH,kbExpr:j.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}}));We(new QH({id:"showNextParameterHint",precondition:we.and(p_.Visible,p_.MultipleSignatures),handler:n=>n.next(),kbOpts:{weight:XH,kbExpr:j.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));var Gqe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},i5=function(n,e){return function(t,i){e(t,i,n)}};const S2=new je("renameInputVisible",!1,w("renameInputVisible","Whether the rename input widget is visible"));let gB=class{constructor(e,t,i,r,o){this._editor=e,this._acceptKeybindings=t,this._themeService=i,this._keybindingService=r,this._disposables=new xe,this.allowEditorOverflow=!0,this._visibleContextKey=S2.bindTo(o),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(50)&&this._updateFont()})),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",w("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(e){var t,i,r,o;if(!this._input||!this._domNode)return;const s=e.getColor(Vd),a=e.getColor(R6);this._domNode.style.backgroundColor=String((t=e.getColor(mn))!==null&&t!==void 0?t:""),this._domNode.style.boxShadow=s?` 0 0 8px 2px ${s}`:"",this._domNode.style.border=a?`1px solid ${a}`:"",this._domNode.style.color=String((i=e.getColor(dle))!==null&&i!==void 0?i:""),this._input.style.backgroundColor=String((r=e.getColor(cle))!==null&&r!==void 0?r:"");const l=e.getColor(ule);this._input.style.borderWidth=l?"1px":"0px",this._input.style.borderStyle=l?"solid":"none",this._input.style.borderColor=(o=l==null?void 0:l.toString())!==null&&o!==void 0?o:"none"}_updateFont(){if(!this._input||!this._label)return;const e=this._editor.getOption(50);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=`${e.fontSize}px`,this._label.style.fontSize=`${e.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}beforeRender(){var e,t;const[i,r]=this._acceptKeybindings;return this._label.innerText=w({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(e=this._keybindingService.lookupKeybinding(i))===null||e===void 0?void 0:e.getLabel(),(t=this._keybindingService.lookupKeybinding(r))===null||t===void 0?void 0:t.getLabel()),null}afterRender(e){e||this.cancelInput(!0)}acceptInput(e){var t;(t=this._currentAcceptInput)===null||t===void 0||t.call(this,e)}cancelInput(e){var t;(t=this._currentCancelInput)===null||t===void 0||t.call(this,e)}getInput(e,t,i,r,o,s){this._domNode.classList.toggle("preview",o),this._position=new re(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",i.toString()),this._input.setAttribute("selectionEnd",r.toString()),this._input.size=Math.max((e.endColumn-e.startColumn)*1.1,20);const a=new xe;return new Promise(l=>{this._currentCancelInput=c=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,l(c),!0),this._currentAcceptInput=c=>{if(this._input.value.trim().length===0||this._input.value===t){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,l({newName:this._input.value,wantsPreview:o&&c})},a.add(s.onCancellationRequested(()=>this.cancelInput(!0))),a.add(this._editor.onDidBlurEditorWidget(()=>{var c;return this.cancelInput(!(!((c=this._domNode)===null||c===void 0)&&c.ownerDocument.hasFocus()))})),this._show()}).finally(()=>{a.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};gB=Gqe([i5(2,mr),i5(3,xi),i5(4,_t)],gB);var Zqe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Fp=function(n,e){return function(t,i){e(t,i,n)}},pB;class JH{constructor(e,t,i){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=i.ordered(e)}hasProvider(){return this._providers.length>0}async resolveRenameLocation(e){const t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const r=this._providers[this._providerRenameIdx];if(!r.resolveRenameLocation)break;const o=await r.resolveRenameLocation(this.model,this.position,e);if(o){if(o.rejectReason){t.push(o.rejectReason);continue}return o}}this._providerRenameIdx=0;const i=this.model.getWordAtPosition(this.position);return i?{range:new B(this.position.lineNumber,i.startColumn,this.position.lineNumber,i.endColumn),text:i.word,rejectReason:t.length>0?t.join(`
`):void 0}:{range:B.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join(`
`):void 0}}async provideRenameEdits(e,t){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)}async _provideRenameEdits(e,t,i,r){const o=this._providers[t];if(!o)return{edits:[],rejectReason:i.join(`
`)};const s=await o.provideRenameEdits(this.model,this.position,e,r);if(s){if(s.rejectReason)return this._provideRenameEdits(e,t+1,i.concat(s.rejectReason),r)}else return this._provideRenameEdits(e,t+1,i.concat(w("no result","No result.")),r);return s}}async function Yqe(n,e,t,i){const r=new JH(e,t,n),o=await r.resolveRenameLocation(Ht.None);return o!=null&&o.rejectReason?{edits:[],rejectReason:o.rejectReason}:r.provideRenameEdits(i,Ht.None)}let __=pB=class{static get(e){return e.getContribution(pB.ID)}constructor(e,t,i,r,o,s,a,l){this.editor=e,this._instaService=t,this._notificationService=i,this._bulkEditService=r,this._progressService=o,this._logService=s,this._configService=a,this._languageFeaturesService=l,this._disposableStore=new xe,this._cts=new Pn,this._renameInputField=this._disposableStore.add(this._instaService.createInstance(gB,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}async run(){var e,t;if(this._cts.dispose(!0),this._cts=new Pn,!this.editor.hasModel())return;const i=this.editor.getPosition(),r=new JH(this.editor.getModel(),i,this._languageFeaturesService.renameProvider);if(!r.hasProvider())return;const o=new $g(this.editor,5,void 0,this._cts.token);let s;try{const g=r.resolveRenameLocation(o.token);this._progressService.showWhile(g,250),s=await g}catch(g){(e=zo.get(this.editor))===null||e===void 0||e.showMessage(g||w("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),i);return}finally{o.dispose()}if(!s)return;if(s.rejectReason){(t=zo.get(this.editor))===null||t===void 0||t.showMessage(s.rejectReason,i);return}if(o.token.isCancellationRequested)return;const a=new $g(this.editor,5,s.range,this._cts.token),l=this.editor.getSelection();let c=0,d=s.text.length;!B.isEmpty(l)&&!B.spansMultipleLines(l)&&B.containsRange(s.range,l)&&(c=Math.max(0,l.startColumn-s.range.startColumn),d=Math.min(s.range.endColumn,l.endColumn)-s.range.startColumn);const u=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),h=await this._renameInputField.getInput(s.range,s.text,c,d,u,a.token);if(typeof h=="boolean"){h&&this.editor.focus(),a.dispose();return}this.editor.focus();const f=TP(r.provideRenameEdits(h.newName,a.token),a.token).then(async g=>{if(!(!g||!this.editor.hasModel())){if(g.rejectReason){this._notificationService.info(g.rejectReason);return}this.editor.setSelection(B.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(g,{editor:this.editor,showPreview:h.wantsPreview,label:w("label","Renaming '{0}' to '{1}'",s==null?void 0:s.text,h.newName),code:"undoredo.rename",quotableLabel:w("quotableLabel","Renaming {0} to {1}",s==null?void 0:s.text,h.newName),respectAutoSaveConfig:!0}).then(_=>{_.ariaSummary&&zs(w("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",s.text,h.newName,_.ariaSummary))}).catch(_=>{this._notificationService.error(w("rename.failedApply","Rename failed to apply edits")),this._logService.error(_)})}},g=>{this._notificationService.error(w("rename.failed","Rename failed to compute edits")),this._logService.error(g)}).finally(()=>{a.dispose()});return this._progressService.showWhile(f,250),f}acceptRenameInput(e){this._renameInputField.acceptInput(e)}cancelRenameInput(){this._renameInputField.cancelInput(!0)}};__.ID="editor.contrib.renameController";__=pB=Zqe([Fp(1,dt),Fp(2,Rn),Fp(3,Xx),Fp(4,pp),Fp(5,Ks),Fp(6,k6),Fp(7,qe)],__);class Xqe extends $e{constructor(){super({id:"editor.action.rename",label:w("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:we.and(j.writable,j.hasRenameProvider),kbOpts:{kbExpr:j.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){const i=e.get(ai),[r,o]=Array.isArray(t)&&t||[void 0,void 0];return rt.isUri(r)&&re.isIPosition(o)?i.openCodeEditor({resource:r},i.getActiveCodeEditor()).then(s=>{s&&(s.setPosition(o),s.invokeWithinContext(a=>(this.reportTelemetry(a,s),this.run(a,s))))},St):super.runCommand(e,t)}run(e,t){const i=__.get(t);return i?i.run():Promise.resolve()}}li(__.ID,__,4);Ee(Xqe);const ez=kr.bindToContribution(__.get);We(new ez({id:"acceptRenameInput",precondition:S2,handler:n=>n.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:we.and(j.focus,we.not("isComposing")),primary:3}}));We(new ez({id:"acceptRenameInputWithPreview",precondition:we.and(S2,we.has("config.editor.rename.enablePreview")),handler:n=>n.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:we.and(j.focus,we.not("isComposing")),primary:1027}}));We(new ez({id:"cancelRenameInput",precondition:S2,handler:n=>n.cancelRenameInput(),kbOpts:{weight:199,kbExpr:j.focus,primary:9,secondary:[1033]}}));vu("_executeDocumentRenameProvider",function(n,e,t,...i){const[r]=i;Ci(typeof r=="string");const{renameProvider:o}=n.get(qe);return Yqe(o,e,t,r)});vu("_executePrepareRename",async function(n,e,t){const{renameProvider:i}=n.get(qe),o=await new JH(e,t,i).resolveRenameLocation(Ht.None);if(o!=null&&o.rejectReason)throw new Error(o.rejectReason);return o});nn.as(id.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:w("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});function Qqe(n){for(let e=0,t=n.length;e<t;e+=4){const i=n[e+0],r=n[e+1],o=n[e+2],s=n[e+3];n[e+0]=s,n[e+1]=o,n[e+2]=r,n[e+3]=i}}function Jqe(n){const e=new Uint8Array(n.buffer,n.byteOffset,n.length*4);return Sse()||Qqe(e),WP.wrap(e)}function Pfe(n){const e=new Uint32Array(eKe(n));let t=0;if(e[t++]=n.id,n.type==="full")e[t++]=1,e[t++]=n.data.length,e.set(n.data,t),t+=n.data.length;else{e[t++]=2,e[t++]=n.deltas.length;for(const i of n.deltas)e[t++]=i.start,e[t++]=i.deleteCount,i.data?(e[t++]=i.data.length,e.set(i.data,t),t+=i.data.length):e[t++]=0}return Jqe(e)}function eKe(n){let e=0;if(e+=2,n.type==="full")e+=1+n.data.length;else{e+=1,e+=3*n.deltas.length;for(const t of n.deltas)t.data&&(e+=t.data.length)}return e}function x2(n){return n&&!!n.data}function Mfe(n){return n&&Array.isArray(n.edits)}class tKe{constructor(e,t,i){this.provider=e,this.tokens=t,this.error=i}}function Rfe(n,e){return n.has(e)}function iKe(n,e){const t=n.orderedGroups(e);return t.length>0?t[0]:[]}async function Afe(n,e,t,i,r){const o=iKe(n,e),s=await Promise.all(o.map(async a=>{let l,c=null;try{l=await a.provideDocumentSemanticTokens(e,a===t?i:null,r)}catch(d){c=d,l=null}return(!l||!x2(l)&&!Mfe(l))&&(l=null),new tKe(a,l,c)}));for(const a of s){if(a.error)throw a.error;if(a.tokens)return a}return s.length>0?s[0]:null}function nKe(n,e){const t=n.orderedGroups(e);return t.length>0?t[0]:null}class rKe{constructor(e,t){this.provider=e,this.tokens=t}}function oKe(n,e){return n.has(e)}function Ofe(n,e){const t=n.orderedGroups(e);return t.length>0?t[0]:[]}async function tz(n,e,t,i){const r=Ofe(n,e),o=await Promise.all(r.map(async s=>{let a;try{a=await s.provideDocumentRangeSemanticTokens(e,t,i)}catch(l){Hn(l),a=null}return(!a||!x2(a))&&(a=null),new rKe(s,a)}));for(const s of o)if(s.tokens)return s;return o.length>0?o[0]:null}Gt.registerCommand("_provideDocumentSemanticTokensLegend",async(n,...e)=>{const[t]=e;Ci(t instanceof rt);const i=n.get(Ji).getModel(t);if(!i)return;const{documentSemanticTokensProvider:r}=n.get(qe),o=nKe(r,i);return o?o[0].getLegend():n.get(fn).executeCommand("_provideDocumentRangeSemanticTokensLegend",t)});Gt.registerCommand("_provideDocumentSemanticTokens",async(n,...e)=>{const[t]=e;Ci(t instanceof rt);const i=n.get(Ji).getModel(t);if(!i)return;const{documentSemanticTokensProvider:r}=n.get(qe);if(!Rfe(r,i))return n.get(fn).executeCommand("_provideDocumentRangeSemanticTokens",t,i.getFullModelRange());const o=await Afe(r,i,null,null,Ht.None);if(!o)return;const{provider:s,tokens:a}=o;if(!a||!x2(a))return;const l=Pfe({id:0,type:"full",data:a.data});return a.resultId&&s.releaseDocumentSemanticTokens(a.resultId),l});Gt.registerCommand("_provideDocumentRangeSemanticTokensLegend",async(n,...e)=>{const[t,i]=e;Ci(t instanceof rt);const r=n.get(Ji).getModel(t);if(!r)return;const{documentRangeSemanticTokensProvider:o}=n.get(qe),s=Ofe(o,r);if(s.length===0)return;if(s.length===1)return s[0].getLegend();if(!i||!B.isIRange(i))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),s[0].getLegend();const a=await tz(o,r,B.lift(i),Ht.None);if(a)return a.provider.getLegend()});Gt.registerCommand("_provideDocumentRangeSemanticTokens",async(n,...e)=>{const[t,i]=e;Ci(t instanceof rt),Ci(B.isIRange(i));const r=n.get(Ji).getModel(t);if(!r)return;const{documentRangeSemanticTokensProvider:o}=n.get(qe),s=await tz(o,r,B.lift(i),Ht.None);if(!(!s||!s.tokens))return Pfe({id:0,type:"full",data:s.tokens.data})});const iz="editor.semanticHighlighting";function FT(n,e,t){var i;const r=(i=t.getValue(iz,{overrideIdentifier:n.getLanguageId(),resource:n.uri}))===null||i===void 0?void 0:i.enabled;return typeof r=="boolean"?r:e.getColorTheme().semanticHighlighting}var Ffe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Dd=function(n,e){return function(t,i){e(t,i,n)}},yf;let mB=class extends ce{constructor(e,t,i,r,o,s){super(),this._watchers=Object.create(null);const a=d=>{this._watchers[d.uri.toString()]=new rx(d,e,i,o,s)},l=(d,u)=>{u.dispose(),delete this._watchers[d.uri.toString()]},c=()=>{for(const d of t.getModels()){const u=this._watchers[d.uri.toString()];FT(d,i,r)?u||a(d):u&&l(d,u)}};t.getModels().forEach(d=>{FT(d,i,r)&&a(d)}),this._register(t.onModelAdded(d=>{FT(d,i,r)&&a(d)})),this._register(t.onModelRemoved(d=>{const u=this._watchers[d.uri.toString()];u&&l(d,u)})),this._register(r.onDidChangeConfiguration(d=>{d.affectsConfiguration(iz)&&c()})),this._register(i.onDidColorThemeChange(c))}dispose(){for(const e of Object.values(this._watchers))e.dispose();super.dispose()}};mB=Ffe([Dd(0,oM),Dd(1,Ji),Dd(2,mr),Dd(3,jt),Dd(4,dl),Dd(5,qe)],mB);let rx=yf=class extends ce{constructor(e,t,i,r,o){super(),this._semanticTokensStylingService=t,this._isDisposed=!1,this._model=e,this._provider=o.documentSemanticTokensProvider,this._debounceInformation=r.for(this._provider,"DocumentSemanticTokens",{min:yf.REQUEST_MIN_DELAY,max:yf.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new ki(()=>this._fetchDocumentSemanticTokensNow(),yf.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const s=()=>{vi(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const a of this._provider.all(e))typeof a.onDidChange=="function"&&this._documentProvidersChangeListeners.push(a.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};s(),this._register(this._provider.onDidChange(()=>{s(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(i.onDidColorThemeChange(a=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),vi(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!Rfe(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!this._model.isAttachedToEditor())return;const e=new Pn,t=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,i=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,r=Afe(this._provider,this._model,t,i,e.token);this._currentDocumentRequestCancellationTokenSource=e,this._providersChangedDuringRequest=!1;const o=[],s=this._model.onDidChangeContent(l=>{o.push(l)}),a=new ro(!1);r.then(l=>{if(this._debounceInformation.update(this._model,a.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,s.dispose(),!l)this._setDocumentSemanticTokens(null,null,null,o);else{const{provider:c,tokens:d}=l,u=this._semanticTokensStylingService.getStyling(c);this._setDocumentSemanticTokens(c,d||null,u,o)}},l=>{l&&(Jc(l)||typeof l.message=="string"&&l.message.indexOf("busy")!==-1)||St(l),this._currentDocumentRequestCancellationTokenSource=null,s.dispose(),(o.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(e,t,i,r,o){o=Math.min(o,i.length-r,e.length-t);for(let s=0;s<o;s++)i[r+s]=e[t+s]}_setDocumentSemanticTokens(e,t,i,r){const o=this._currentDocumentResponse,s=()=>{(r.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){e&&t&&e.releaseDocumentSemanticTokens(t.resultId);return}if(!e||!i){this._model.tokenization.setSemanticTokens(null,!1);return}if(!t){this._model.tokenization.setSemanticTokens(null,!0),s();return}if(Mfe(t)){if(!o){this._model.tokenization.setSemanticTokens(null,!0);return}if(t.edits.length===0)t={resultId:t.resultId,data:o.data};else{let a=0;for(const h of t.edits)a+=(h.data?h.data.length:0)-h.deleteCount;const l=o.data,c=new Uint32Array(l.length+a);let d=l.length,u=c.length;for(let h=t.edits.length-1;h>=0;h--){const f=t.edits[h];if(f.start>l.length){i.warnInvalidEditStart(o.resultId,t.resultId,h,f.start,l.length),this._model.tokenization.setSemanticTokens(null,!0);return}const g=d-(f.start+f.deleteCount);g>0&&(yf._copy(l,d-g,c,u-g,g),u-=g),f.data&&(yf._copy(f.data,0,c,u-f.data.length,f.data.length),u-=f.data.length),d=f.start}d>0&&yf._copy(l,0,c,0,d),t={resultId:t.resultId,data:c}}}if(x2(t)){this._currentDocumentResponse=new sKe(e,t.resultId,t.data);const a=kce(t,i,this._model.getLanguageId());if(r.length>0)for(const l of r)for(const c of a)for(const d of l.changes)c.applyEdit(d.range,d.text);this._model.tokenization.setSemanticTokens(a,!0)}else this._model.tokenization.setSemanticTokens(null,!0);s()}};rx.REQUEST_MIN_DELAY=300;rx.REQUEST_MAX_DELAY=2e3;rx=yf=Ffe([Dd(1,oM),Dd(2,mr),Dd(3,dl),Dd(4,qe)],rx);class sKe{constructor(e,t,i){this.provider=e,this.resultId=t,this.data=i}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}oL(mB);var aKe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},RC=function(n,e){return function(t,i){e(t,i,n)}};let ox=class extends ce{constructor(e,t,i,r,o,s){super(),this._semanticTokensStylingService=t,this._themeService=i,this._configurationService=r,this._editor=e,this._provider=s.documentRangeSemanticTokensProvider,this._debounceInformation=o.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new ki(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const a=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{a()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),a()})),this._register(this._editor.onDidChangeModelContent(l=>{this._cancelAll(),a()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),a()})),this._register(this._configurationService.onDidChangeConfiguration(l=>{l.affectsConfiguration(iz)&&(this._cancelAll(),a())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),a()})),a()}_cancelAll(){for(const e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,i=this._outstandingRequests.length;t<i;t++)if(this._outstandingRequests[t]===e){this._outstandingRequests.splice(t,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const e=this._editor.getModel();if(e.tokenization.hasCompleteSemanticTokens())return;if(!FT(e,this._themeService,this._configurationService)){e.tokenization.hasSomeSemanticTokens()&&e.tokenization.setSemanticTokens(null,!1);return}if(!oKe(this._provider,e)){e.tokenization.hasSomeSemanticTokens()&&e.tokenization.setSemanticTokens(null,!1);return}const t=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(t.map(i=>this._requestRange(e,i)))}_requestRange(e,t){const i=e.getVersionId(),r=gr(s=>Promise.resolve(tz(this._provider,e,t,s))),o=new ro(!1);return r.then(s=>{if(this._debounceInformation.update(e,o.elapsed()),!s||!s.tokens||e.isDisposed()||e.getVersionId()!==i)return;const{provider:a,tokens:l}=s,c=this._semanticTokensStylingService.getStyling(a);e.tokenization.setPartialSemanticTokens(t,kce(l,c,e.getLanguageId()))}).then(()=>this._removeOutstandingRequest(r),()=>this._removeOutstandingRequest(r)),r}};ox.ID="editor.contrib.viewportSemanticTokens";ox=aKe([RC(1,oM),RC(2,mr),RC(3,jt),RC(4,dl),RC(5,qe)],ox);li(ox.ID,ox,1);class lKe{constructor(e=!0){this.selectSubwords=e}provideSelectionRanges(e,t){const i=[];for(const r of t){const o=[];i.push(o),this.selectSubwords&&this._addInWordRanges(o,e,r),this._addWordRanges(o,e,r),this._addWhitespaceLine(o,e,r),o.push({range:e.getFullModelRange()})}return i}_addInWordRanges(e,t,i){const r=t.getWordAtPosition(i);if(!r)return;const{word:o,startColumn:s}=r,a=i.column-s;let l=a,c=a,d=0;for(;l>=0;l--){const u=o.charCodeAt(l);if(l!==a&&(u===95||u===45))break;if(Bf(u)&&Sd(d))break;d=u}for(l+=1;c<o.length;c++){const u=o.charCodeAt(c);if(Sd(u)&&Bf(d))break;if(u===95||u===45)break;d=u}l<c&&e.push({range:new B(i.lineNumber,s+l,i.lineNumber,s+c)})}_addWordRanges(e,t,i){const r=t.getWordAtPosition(i);r&&e.push({range:new B(i.lineNumber,r.startColumn,i.lineNumber,r.endColumn)})}_addWhitespaceLine(e,t,i){t.getLineLength(i.lineNumber)>0&&t.getLineFirstNonWhitespaceColumn(i.lineNumber)===0&&t.getLineLastNonWhitespaceColumn(i.lineNumber)===0&&e.push({range:new B(i.lineNumber,1,i.lineNumber,t.getLineMaxColumn(i.lineNumber))})}}var cKe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},dKe=function(n,e){return function(t,i){e(t,i,n)}},_B;class nz{constructor(e,t){this.index=e,this.ranges=t}mov(e){const t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;const i=new nz(t,this.ranges);return i.ranges[t].equalsRange(this.ranges[this.index])?i.mov(e):i}}let iy=_B=class{static get(e){return e.getContribution(_B.ID)}constructor(e,t){this._editor=e,this._languageFeaturesService=t,this._ignoreSelection=!1}dispose(){var e;(e=this._selectionListener)===null||e===void 0||e.dispose()}async run(e){if(!this._editor.hasModel())return;const t=this._editor.getSelections(),i=this._editor.getModel();if(this._state||await Wfe(this._languageFeaturesService.selectionRangeProvider,i,t.map(o=>o.getPosition()),this._editor.getOption(112),Ht.None).then(o=>{var s;if(!(!io(o)||o.length!==t.length)&&!(!this._editor.hasModel()||!vn(this._editor.getSelections(),t,(a,l)=>a.equalsSelection(l)))){for(let a=0;a<o.length;a++)o[a]=o[a].filter(l=>l.containsPosition(t[a].getStartPosition())&&l.containsPosition(t[a].getEndPosition())),o[a].unshift(t[a]);this._state=o.map(a=>new nz(0,a)),(s=this._selectionListener)===null||s===void 0||s.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var a;this._ignoreSelection||((a=this._selectionListener)===null||a===void 0||a.dispose(),this._state=void 0)})}}),!this._state)return;this._state=this._state.map(o=>o.mov(e));const r=this._state.map(o=>Ke.fromPositions(o.ranges[o.index].getStartPosition(),o.ranges[o.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(r)}finally{this._ignoreSelection=!1}}};iy.ID="editor.contrib.smartSelectController";iy=_B=cKe([dKe(1,qe)],iy);class Bfe extends $e{constructor(e,t){super(t),this._forward=e}async run(e,t){const i=iy.get(t);i&&await i.run(this._forward)}}class uKe extends Bfe{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:w("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:j.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:H.MenubarSelectionMenu,group:"1_basic",title:w({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}Gt.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class hKe extends Bfe{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:w("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:j.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:H.MenubarSelectionMenu,group:"1_basic",title:w({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}li(iy.ID,iy,4);Ee(uKe);Ee(hKe);async function Wfe(n,e,t,i,r){const o=n.all(e).concat(new lKe(i.selectSubwords));o.length===1&&o.unshift(new na);const s=[],a=[];for(const l of o)s.push(Promise.resolve(l.provideSelectionRanges(e,t,r)).then(c=>{if(io(c)&&c.length===t.length)for(let d=0;d<t.length;d++){a[d]||(a[d]=[]);for(const u of c[d])B.isIRange(u.range)&&B.containsPosition(u.range,t[d])&&a[d].push(B.lift(u.range))}},Hn));return await Promise.all(s),a.map(l=>{if(l.length===0)return[];l.sort((h,f)=>re.isBefore(h.getStartPosition(),f.getStartPosition())?1:re.isBefore(f.getStartPosition(),h.getStartPosition())||re.isBefore(h.getEndPosition(),f.getEndPosition())?-1:re.isBefore(f.getEndPosition(),h.getEndPosition())?1:0);const c=[];let d;for(const h of l)(!d||B.containsRange(h,d)&&!B.equalsRange(h,d))&&(c.push(h),d=h);if(!i.selectLeadingAndTrailingWhitespace)return c;const u=[c[0]];for(let h=1;h<c.length;h++){const f=c[h-1],g=c[h];if(g.startLineNumber!==f.startLineNumber||g.endLineNumber!==f.endLineNumber){const _=new B(f.startLineNumber,e.getLineFirstNonWhitespaceColumn(f.startLineNumber),f.endLineNumber,e.getLineLastNonWhitespaceColumn(f.endLineNumber));_.containsRange(f)&&!_.equalsRange(f)&&g.containsRange(_)&&!g.equalsRange(_)&&u.push(_);const y=new B(f.startLineNumber,1,f.endLineNumber,e.getLineMaxColumn(f.endLineNumber));y.containsRange(f)&&!y.equalsRange(_)&&g.containsRange(y)&&!g.equalsRange(y)&&u.push(y)}u.push(g)}return u})}Gt.registerCommand("_executeSelectionRangeProvider",async function(n,...e){const[t,i]=e;Ci(rt.isUri(t));const r=n.get(qe).selectionRangeProvider,o=await n.get(Cs).createModelReference(t);try{return Wfe(r,o.object.textEditorModel,i,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},Ht.None)}finally{o.dispose()}});const fKe=Object.freeze({View:Ns("view","View"),Help:Ns("help","Help"),Test:Ns("test","Test"),File:Ns("file","File"),Preferences:Ns("preferences","Preferences"),Developer:{value:w({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer"),original:"Developer"}});class JX{constructor(e,t,i,r=null){this.startLineNumbers=e,this.endLineNumbers=t,this.lastLineRelativePosition=i,this.showEndForLine=r}equals(e){return!!e&&this.lastLineRelativePosition===e.lastLineRelativePosition&&this.showEndForLine===e.showEndForLine&&vn(this.startLineNumbers,e.startLineNumbers)&&vn(this.endLineNumbers,e.endLineNumbers)}}const eQ=Fh("stickyScrollViewLayer",{createHTML:n=>n}),n5="data-sticky-line-index",tQ="data-sticky-is-line",gKe="data-sticky-is-line-number",iQ="data-sticky-is-folding-icon";class pKe extends ce{constructor(e){super(),this._editor=e,this._foldingIconStore=new xe,this._rootDomNode=document.createElement("div"),this._lineNumbersDomNode=document.createElement("div"),this._linesDomNodeScrollable=document.createElement("div"),this._linesDomNode=document.createElement("div"),this._lineHeight=this._editor.getOption(66),this._renderedStickyLines=[],this._lineNumbers=[],this._lastLineRelativePosition=0,this._minContentWidthInPx=0,this._isOnGlyphMargin=!1,this._lineNumbersDomNode.className="sticky-widget-line-numbers",this._lineNumbersDomNode.setAttribute("role","none"),this._linesDomNode.className="sticky-widget-lines",this._linesDomNode.setAttribute("role","list"),this._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",this._linesDomNodeScrollable.appendChild(this._linesDomNode),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",e instanceof Gg),this._rootDomNode.appendChild(this._lineNumbersDomNode),this._rootDomNode.appendChild(this._linesDomNodeScrollable);const t=()=>{this._linesDomNode.style.left=this._editor.getOption(114).scrollWithEditor?`-${this._editor.getScrollLeft()}px`:"0px"};this._register(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(114)&&t(),i.hasChanged(66)&&(this._lineHeight=this._editor.getOption(66))})),this._register(this._editor.onDidScrollChange(i=>{i.scrollLeftChanged&&t(),i.scrollWidthChanged&&this._updateWidgetWidth()})),this._register(this._editor.onDidChangeModel(()=>{t(),this._updateWidgetWidth()})),this._register(this._foldingIconStore),t(),this._register(this._editor.onDidLayoutChange(i=>{this._updateWidgetWidth()})),this._updateWidgetWidth()}get lineNumbers(){return this._lineNumbers}get lineNumberCount(){return this._lineNumbers.length}getRenderedStickyLine(e){return this._renderedStickyLines.find(t=>t.lineNumber===e)}getCurrentLines(){return this._lineNumbers}setState(e,t,i){if(i===void 0&&(!this._previousState&&!e||this._previousState&&this._previousState.equals(e)))return;const r=this._isWidgetHeightZero(e),o=r?void 0:e,s=r?0:this._findLineToRebuildWidgetFrom(e,i);this._renderRootNode(o,t,s),this._previousState=e}_isWidgetHeightZero(e){if(!e)return!0;const t=e.startLineNumbers.length*this._lineHeight+e.lastLineRelativePosition;if(t>0){this._lastLineRelativePosition=e.lastLineRelativePosition;const i=[...e.startLineNumbers];e.showEndForLine!==null&&(i[e.showEndForLine]=e.endLineNumbers[e.showEndForLine]),this._lineNumbers=i}else this._lastLineRelativePosition=0,this._lineNumbers=[];return t===0}_findLineToRebuildWidgetFrom(e,t){if(!e||!this._previousState)return 0;if(t!==void 0)return t;const i=this._previousState,r=e.startLineNumbers.findIndex(o=>!i.startLineNumbers.includes(o));return r===-1?0:r}_updateWidgetWidth(){const e=this._editor.getLayoutInfo(),t=e.contentLeft;this._lineNumbersDomNode.style.width=`${t}px`,this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth",`${this._editor.getScrollWidth()-e.verticalScrollbarWidth}px`),this._rootDomNode.style.width=`${e.width-e.verticalScrollbarWidth}px`}_clearStickyLinesFromLine(e){this._foldingIconStore.clear();for(let t=e;t<this._renderedStickyLines.length;t++){const i=this._renderedStickyLines[t];i.lineNumberDomNode.remove(),i.lineDomNode.remove()}this._renderedStickyLines=this._renderedStickyLines.slice(0,e),this._rootDomNode.style.display="none"}_useFoldingOpacityTransition(e){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition",`opacity ${e?.5:0}s`)}_setFoldingIconsVisibility(e){for(const t of this._renderedStickyLines){const i=t.foldingIcon;i&&i.setVisible(e?!0:i.isCollapsed)}}async _renderRootNode(e,t,i){if(this._clearStickyLinesFromLine(i),!e)return;for(const a of this._renderedStickyLines)this._updateTopAndZIndexOfStickyLine(a);const r=this._editor.getLayoutInfo(),o=this._lineNumbers.slice(i);for(const[a,l]of o.entries()){const c=this._renderChildNode(a+i,l,t,r);c&&(this._linesDomNode.appendChild(c.lineDomNode),this._lineNumbersDomNode.appendChild(c.lineNumberDomNode),this._renderedStickyLines.push(c))}t&&(this._setFoldingHoverListeners(),this._useFoldingOpacityTransition(!this._isOnGlyphMargin));const s=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;this._rootDomNode.style.display="block",this._lineNumbersDomNode.style.height=`${s}px`,this._linesDomNodeScrollable.style.height=`${s}px`,this._rootDomNode.style.height=`${s}px`,this._rootDomNode.style.marginLeft="0px",this._minContentWidthInPx=Math.max(...this._renderedStickyLines.map(a=>a.scrollWidth))+r.verticalScrollbarWidth,this._editor.layoutOverlayWidget(this)}_setFoldingHoverListeners(){this._editor.getOption(109)==="mouseover"&&(this._foldingIconStore.add(ge(this._lineNumbersDomNode,Ne.MOUSE_ENTER,()=>{this._isOnGlyphMargin=!0,this._setFoldingIconsVisibility(!0)})),this._foldingIconStore.add(ge(this._lineNumbersDomNode,Ne.MOUSE_LEAVE,()=>{this._isOnGlyphMargin=!1,this._useFoldingOpacityTransition(!0),this._setFoldingIconsVisibility(!1)})))}_renderChildNode(e,t,i,r){const o=this._editor._getViewModel();if(!o)return;const s=o.coordinatesConverter.convertModelPositionToViewPosition(new re(t,1)).lineNumber,a=o.getViewLineRenderingData(s),l=this._editor.getOption(67);let c;try{c=As.filter(a.inlineDecorations,s,a.minColumn,a.maxColumn)}catch{c=[]}const d=new fp(!0,!0,a.content,a.continuesWithWrappedLine,a.isBasicASCII,a.containsRTL,0,a.tokens,c,a.tabSize,a.startVisibleColumn,1,1,1,500,"none",!0,!0,null),u=new Cy(2e3),h=Wx(d,u);let f;eQ?f=eQ.createHTML(u.build()):f=u.build();const g=document.createElement("span");g.setAttribute(n5,String(e)),g.setAttribute(tQ,""),g.setAttribute("role","listitem"),g.tabIndex=0,g.className="sticky-line-content",g.classList.add(`stickyLine${t}`),g.style.lineHeight=`${this._lineHeight}px`,g.innerHTML=f;const _=document.createElement("span");_.setAttribute(n5,String(e)),_.setAttribute(gKe,""),_.className="sticky-line-number",_.style.lineHeight=`${this._lineHeight}px`;const y=r.contentLeft;_.style.width=`${y}px`;const m=document.createElement("span");l.renderType===1||l.renderType===3&&t%10===0?m.innerText=t.toString():l.renderType===2&&(m.innerText=Math.abs(t-this._editor.getPosition().lineNumber).toString()),m.className="sticky-line-number-inner",m.style.lineHeight=`${this._lineHeight}px`,m.style.width=`${r.lineNumbersWidth}px`,m.style.paddingLeft=`${r.lineNumbersLeft}px`,_.appendChild(m);const p=this._renderFoldingIconForLine(i,t);p&&_.appendChild(p.domNode),this._editor.applyFontInfo(g),this._editor.applyFontInfo(m),_.style.lineHeight=`${this._lineHeight}px`,g.style.lineHeight=`${this._lineHeight}px`,_.style.height=`${this._lineHeight}px`,g.style.height=`${this._lineHeight}px`;const v=new mKe(e,t,g,_,p,h.characterMapping,g.scrollWidth);return this._updateTopAndZIndexOfStickyLine(v)}_updateTopAndZIndexOfStickyLine(e){var t;const i=e.index,r=e.lineDomNode,o=e.lineNumberDomNode,s=i===this._lineNumbers.length-1,a="0",l="1";r.style.zIndex=s?a:l,o.style.zIndex=s?a:l;const c=`${i*this._lineHeight+this._lastLineRelativePosition+(!((t=e.foldingIcon)===null||t===void 0)&&t.isCollapsed?1:0)}px`,d=`${i*this._lineHeight}px`;return r.style.top=s?c:d,o.style.top=s?c:d,e}_renderFoldingIconForLine(e,t){const i=this._editor.getOption(109);if(!e||i==="never")return;const r=e.regions,o=r.findRange(t),s=r.getStartLineNumber(o);if(!(t===s))return;const l=r.isCollapsed(o),c=new _Ke(l,s,r.getEndLineNumber(o),this._lineHeight);return c.setVisible(this._isOnGlyphMargin?!0:l||i==="always"),c.domNode.setAttribute(iQ,""),c}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:null}}getMinContentWidthInPx(){return this._minContentWidthInPx}focusLineWithIndex(e){0<=e&&e<this._renderedStickyLines.length&&this._renderedStickyLines[e].lineDomNode.focus()}getEditorPositionFromNode(e){if(!e||e.children.length>0)return null;const t=this._getRenderedStickyLineFromChildDomNode(e);if(!t)return null;const i=H6(t.characterMapping,e,0);return new re(t.lineNumber,i)}getLineNumberFromChildDomNode(e){var t,i;return(i=(t=this._getRenderedStickyLineFromChildDomNode(e))===null||t===void 0?void 0:t.lineNumber)!==null&&i!==void 0?i:null}_getRenderedStickyLineFromChildDomNode(e){const t=this.getLineIndexFromChildDomNode(e);return t===null||t<0||t>=this._renderedStickyLines.length?null:this._renderedStickyLines[t]}getLineIndexFromChildDomNode(e){const t=this._getAttributeValue(e,n5);return t?parseInt(t,10):null}isInStickyLine(e){return this._getAttributeValue(e,tQ)!==void 0}isInFoldingIconDomNode(e){return this._getAttributeValue(e,iQ)!==void 0}_getAttributeValue(e,t){for(;e&&e!==this._rootDomNode;){const i=e.getAttribute(t);if(i!==null)return i;e=e.parentElement}}}class mKe{constructor(e,t,i,r,o,s,a){this.index=e,this.lineNumber=t,this.lineDomNode=i,this.lineNumberDomNode=r,this.foldingIcon=o,this.characterMapping=s,this.scrollWidth=a}}class _Ke{constructor(e,t,i,r){this.isCollapsed=e,this.foldingStartLine=t,this.foldingEndLine=i,this.dimension=r,this.domNode=document.createElement("div"),this.domNode.style.width=`${r}px`,this.domNode.style.height=`${r}px`,this.domNode.className=lt.asClassName(e?o2:r2)}setVisible(e){this.domNode.style.cursor=e?"pointer":"default",this.domNode.style.opacity=e?"1":"0"}}class o1{constructor(e,t){this.startLineNumber=e,this.endLineNumber=t}}class EN{constructor(e,t,i){this.range=e,this.children=t,this.parent=i}}class Vfe{constructor(e,t,i,r){this.uri=e,this.version=t,this.element=i,this.outlineProviderId=r}}var L2=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},sx=function(n,e){return function(t,i){e(t,i,n)}},s1;(function(n){n.OUTLINE_MODEL="outlineModel",n.FOLDING_PROVIDER_MODEL="foldingProviderModel",n.INDENTATION_MODEL="indentationModel"})(s1||(s1={}));var Qf;(function(n){n[n.VALID=0]="VALID",n[n.INVALID=1]="INVALID",n[n.CANCELED=2]="CANCELED"})(Qf||(Qf={}));let vB=class extends ce{constructor(e,t,i,r){super(),this._editor=e,this._languageConfigurationService=t,this._languageFeaturesService=i,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=this._register(new $l(300)),this._updateOperation=this._register(new xe);const o=new bB(i),s=new CB(this._editor,i),a=new yB(this._editor,t);switch(r){case s1.OUTLINE_MODEL:this._modelProviders.push(o),this._modelProviders.push(s),this._modelProviders.push(a);break;case s1.FOLDING_PROVIDER_MODEL:this._modelProviders.push(s),this._modelProviders.push(a);break;case s1.INDENTATION_MODEL:this._modelProviders.push(a);break}}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}async update(e,t,i){return this._updateOperation.clear(),this._updateOperation.add({dispose:()=>{this._cancelModelPromise(),this._updateScheduler.cancel()}}),this._cancelModelPromise(),await this._updateScheduler.trigger(async()=>{for(const r of this._modelProviders){const{statusPromise:o,modelPromise:s}=r.computeStickyModel(e,t,i);this._modelPromise=s;const a=await o;if(this._modelPromise!==s)return null;switch(a){case Qf.CANCELED:return this._updateOperation.clear(),null;case Qf.VALID:return r.stickyModel}}return null}).catch(r=>(St(r),null))}};vB=L2([sx(1,Pi),sx(2,qe)],vB);class Hfe{constructor(){this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,Qf.INVALID}computeStickyModel(e,t,i){if(i.isCancellationRequested||!this.isProviderValid(e))return{statusPromise:this._invalid(),modelPromise:null};const r=gr(o=>this.createModelFromProvider(e,t,o));return{statusPromise:r.then(o=>this.isModelValid(o)?i.isCancellationRequested?Qf.CANCELED:(this._stickyModel=this.createStickyModel(e,t,i,o),Qf.VALID):this._invalid()).then(void 0,o=>(St(o),Qf.CANCELED)),modelPromise:r}}isModelValid(e){return!0}isProviderValid(e){return!0}}let bB=class extends Hfe{constructor(e){super(),this._languageFeaturesService=e}createModelFromProvider(e,t,i){return Uu.create(this._languageFeaturesService.documentSymbolProvider,e,i)}createStickyModel(e,t,i,r){var o;const{stickyOutlineElement:s,providerID:a}=this._stickyModelFromOutlineModel(r,(o=this._stickyModel)===null||o===void 0?void 0:o.outlineProviderId);return new Vfe(e.uri,t,s,a)}isModelValid(e){return e&&e.children.size>0}_stickyModelFromOutlineModel(e,t){let i;if(Kt.first(e.children.values())instanceof ffe){const a=Kt.find(e.children.values(),l=>l.id===t);if(a)i=a.children;else{let l="",c=-1,d;for(const[u,h]of e.children.entries()){const f=this._findSumOfRangesOfGroup(h);f>c&&(d=h,c=f,l=h.id)}t=l,i=d.children}}else i=e.children;const r=[],o=Array.from(i.values()).sort((a,l)=>{const c=new o1(a.symbol.range.startLineNumber,a.symbol.range.endLineNumber),d=new o1(l.symbol.range.startLineNumber,l.symbol.range.endLineNumber);return this._comparator(c,d)});for(const a of o)r.push(this._stickyModelFromOutlineElement(a,a.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new EN(void 0,r,void 0),providerID:t}}_stickyModelFromOutlineElement(e,t){const i=[];for(const o of e.children.values())if(o.symbol.selectionRange.startLineNumber!==o.symbol.range.endLineNumber)if(o.symbol.selectionRange.startLineNumber!==t)i.push(this._stickyModelFromOutlineElement(o,o.symbol.selectionRange.startLineNumber));else for(const s of o.children.values())i.push(this._stickyModelFromOutlineElement(s,o.symbol.selectionRange.startLineNumber));i.sort((o,s)=>this._comparator(o.range,s.range));const r=new o1(e.symbol.selectionRange.startLineNumber,e.symbol.range.endLineNumber);return new EN(r,i,void 0)}_comparator(e,t){return e.startLineNumber!==t.startLineNumber?e.startLineNumber-t.startLineNumber:t.endLineNumber-e.endLineNumber}_findSumOfRangesOfGroup(e){let t=0;for(const i of e.children.values())t+=this._findSumOfRangesOfGroup(i);return e instanceof j8?t+e.symbol.range.endLineNumber-e.symbol.selectionRange.startLineNumber:t}};bB=L2([sx(0,qe)],bB);class zfe extends Hfe{constructor(e){super(),this._foldingLimitReporter=new dfe(e)}createStickyModel(e,t,i,r){const o=this._fromFoldingRegions(r);return new Vfe(e.uri,t,o,void 0)}isModelValid(e){return e!==null}_fromFoldingRegions(e){const t=e.length,i=[],r=new EN(void 0,[],void 0);for(let o=0;o<t;o++){const s=e.getParentIndex(o);let a;s!==-1?a=i[s]:a=r;const l=new EN(new o1(e.getStartLineNumber(o),e.getEndLineNumber(o)+1),[],a);a.children.push(l),i.push(l)}return r}}let yB=class extends zfe{constructor(e,t){super(e),this._languageConfigurationService=t}createModelFromProvider(e,t,i){return new HH(e,this._languageConfigurationService,this._foldingLimitReporter).compute(i)}};yB=L2([sx(1,Pi)],yB);let CB=class extends zfe{constructor(e,t){super(e),this._languageFeaturesService=t}isProviderValid(e){return pu.getFoldingRangeProviders(this._languageFeaturesService,e).length>0}createModelFromProvider(e,t,i){const r=pu.getFoldingRangeProviders(this._languageFeaturesService,e);return new jH(e,r,()=>this.createModelFromProvider(e,t,i),this._foldingLimitReporter,void 0).compute(i)}};CB=L2([sx(1,qe)],CB);var vKe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},nQ=function(n,e){return function(t,i){e(t,i,n)}};class bKe{constructor(e,t,i){this.startLineNumber=e,this.endLineNumber=t,this.nestingDepth=i}}let wB=class extends ce{constructor(e,t,i){super(),this._languageFeaturesService=t,this._languageConfigurationService=i,this._onDidChangeStickyScroll=this._register(new ne),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._options=null,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=e,this._sessionStore=this._register(new xe),this._updateSoon=this._register(new ki(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(114)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){this._stickyModelProvider=null,this._sessionStore.clear(),this._options=this._editor.getOption(114),this._options.enabled&&(this._stickyModelProvider=this._sessionStore.add(new vB(this._editor,this._languageConfigurationService,this._languageFeaturesService,this._options.defaultModel)),this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._model=null,this._onDidChangeStickyScroll.fire(),this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this.update())}getVersionId(){var e;return(e=this._model)===null||e===void 0?void 0:e.version}async update(){var e;(e=this._cts)===null||e===void 0||e.dispose(!0),this._cts=new Pn,await this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()}async updateStickyModel(e){if(!this._editor.hasModel()||!this._stickyModelProvider||this._editor.getModel().isTooLargeForTokenization()){this._model=null;return}const t=this._editor.getModel(),i=t.getVersionId(),r=await this._stickyModelProvider.update(t,i,e);e.isCancellationRequested||(this._model=r)}updateIndex(e){return e===-1?e=0:e<0&&(e=-e-2),e}getCandidateStickyLinesIntersectingFromStickyModel(e,t,i,r,o){if(t.children.length===0)return;let s=o;const a=[];for(let d=0;d<t.children.length;d++){const u=t.children[d];u.range&&a.push(u.range.startLineNumber)}const l=this.updateIndex(M1(a,e.startLineNumber,(d,u)=>d-u)),c=this.updateIndex(M1(a,e.startLineNumber+r,(d,u)=>d-u));for(let d=l;d<=c;d++){const u=t.children[d];if(!u)return;if(u.range){const h=u.range.startLineNumber,f=u.range.endLineNumber;e.startLineNumber<=f+1&&h-1<=e.endLineNumber&&h!==s&&(s=h,i.push(new bKe(h,f-1,r+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(e,u,i,r+1,h))}else this.getCandidateStickyLinesIntersectingFromStickyModel(e,u,i,r,o)}}getCandidateStickyLinesIntersecting(e){var t,i;if(!(!((t=this._model)===null||t===void 0)&&t.element))return[];let r=[];this.getCandidateStickyLinesIntersectingFromStickyModel(e,this._model.element,r,0,-1);const o=(i=this._editor._getViewModel())===null||i===void 0?void 0:i.getHiddenAreas();if(o)for(const s of o)r=r.filter(a=>!(a.startLineNumber>=s.startLineNumber&&a.endLineNumber<=s.endLineNumber+1));return r}};wB=vKe([nQ(1,qe),nQ(2,Pi)],wB);var yKe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},C0=function(n,e){return function(t,i){e(t,i,n)}},SB;let mu=SB=class extends ce{constructor(e,t,i,r,o,s,a){super(),this._editor=e,this._contextMenuService=t,this._languageFeaturesService=i,this._instaService=r,this._contextKeyService=a,this._sessionStore=new xe,this._foldingModel=null,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._endLineNumbers=[],this._showEndForLine=null,this._stickyScrollWidget=new pKe(this._editor),this._stickyLineCandidateProvider=new wB(this._editor,i,o),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=new JX([],[],0),this._readConfiguration();const l=this._stickyScrollWidget.getDomNode();this._register(this._editor.onDidChangeConfiguration(d=>{(d.hasChanged(114)||d.hasChanged(72)||d.hasChanged(66)||d.hasChanged(109))&&this._readConfiguration()})),this._register(ge(l,Ne.CONTEXT_MENU,async d=>{this._onContextMenu(ht(l),d)})),this._stickyScrollFocusedContextKey=j.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=j.stickyScrollVisible.bindTo(this._contextKeyService);const c=this._register($c(l));this._register(c.onDidBlur(d=>{this._positionRevealed===!1&&l.clientHeight===0?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(c.onDidFocus(d=>{this.focus()})),this._registerMouseListeners(),this._register(ge(l,Ne.MOUSE_DOWN,d=>{this._onMouseDown=!0}))}static get(e){return e.getContribution(SB.ID)}_disposeFocusStickyScrollStore(){var e;this._stickyScrollFocusedContextKey.set(!1),(e=this._focusDisposableStore)===null||e===void 0||e.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}this._stickyScrollFocusedContextKey.get()!==!0&&(this._focused=!0,this._focusDisposableStore=new xe,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}focusNext(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(e){this._focusedStickyElementIndex=e?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)}goToFocused(){const e=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:e[this._focusedStickyElementIndex],column:1})}_revealPosition(e){this._reveaInEditor(e,()=>this._editor.revealPosition(e))}_revealLineInCenterIfOutsideViewport(e){this._reveaInEditor(e,()=>this._editor.revealLineInCenterIfOutsideViewport(e.lineNumber,0))}_reveaInEditor(e,t){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,t(),this._editor.setSelection(B.fromPositions(e)),this._editor.focus()}_registerMouseListeners(){const e=this._register(new xe),t=this._register(new $M(this._editor,{extractLineNumberFromMouseEvent:o=>{const s=this._stickyScrollWidget.getEditorPositionFromNode(o.target.element);return s?s.lineNumber:0}})),i=o=>{if(!this._editor.hasModel()||o.target.type!==12||o.target.detail!==this._stickyScrollWidget.getId())return null;const s=o.target.element;if(!s||s.innerText!==s.innerHTML)return null;const a=this._stickyScrollWidget.getEditorPositionFromNode(s);return a?{range:new B(a.lineNumber,a.column,a.lineNumber,a.column+s.innerText.length),textElement:s}:null},r=this._stickyScrollWidget.getDomNode();this._register(kn(r,Ne.CLICK,o=>{if(o.ctrlKey||o.altKey||o.metaKey||!o.leftButton)return;if(o.shiftKey){const c=this._stickyScrollWidget.getLineIndexFromChildDomNode(o.target);if(c===null)return;const d=new re(this._endLineNumbers[c],1);this._revealLineInCenterIfOutsideViewport(d);return}if(this._stickyScrollWidget.isInFoldingIconDomNode(o.target)){const c=this._stickyScrollWidget.getLineNumberFromChildDomNode(o.target);this._toggleFoldingRegionForLine(c);return}if(!this._stickyScrollWidget.isInStickyLine(o.target))return;let l=this._stickyScrollWidget.getEditorPositionFromNode(o.target);if(!l){const c=this._stickyScrollWidget.getLineNumberFromChildDomNode(o.target);if(c===null)return;l=new re(c,1)}this._revealPosition(l)})),this._register(kn(r,Ne.MOUSE_MOVE,o=>{if(o.shiftKey){const s=this._stickyScrollWidget.getLineIndexFromChildDomNode(o.target);if(s===null||this._showEndForLine!==null&&this._showEndForLine===s)return;this._showEndForLine=s,this._renderStickyScroll();return}this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(ge(r,Ne.MOUSE_LEAVE,o=>{this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(t.onMouseMoveOrRelevantKeyDown(([o,s])=>{const a=i(o);if(!a||!o.hasTriggerModifier||!this._editor.hasModel()){e.clear();return}const{range:l,textElement:c}=a;if(!l.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=l,e.clear();else if(c.style.textDecoration==="underline")return;const d=new Pn;e.add(at(()=>d.dispose(!0)));let u;XM(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new re(l.startLineNumber,l.startColumn+1),d.token).then(h=>{if(!d.token.isCancellationRequested)if(h.length!==0){this._candidateDefinitionsLength=h.length;const f=c;u!==f?(e.clear(),u=f,u.style.textDecoration="underline",e.add(at(()=>{u.style.textDecoration="none"}))):u||(u=f,u.style.textDecoration="underline",e.add(at(()=>{u.style.textDecoration="none"})))}else e.clear()})})),this._register(t.onCancel(()=>{e.clear()})),this._register(t.onExecute(async o=>{if(o.target.type!==12||o.target.detail!==this._stickyScrollWidget.getId())return;const s=this._stickyScrollWidget.getEditorPositionFromNode(o.target.element);s&&(!this._editor.hasModel()||!this._stickyRangeProjectedOnEditor||(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:s.lineNumber,column:1})),this._instaService.invokeFunction(bfe,o,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor})))}))}_onContextMenu(e,t){const i=new Ml(e,t);this._contextMenuService.showContextMenu({menuId:H.StickyScrollContext,getAnchor:()=>i})}_toggleFoldingRegionForLine(e){if(!this._foldingModel||e===null)return;const t=this._stickyScrollWidget.getRenderedStickyLine(e),i=t==null?void 0:t.foldingIcon;if(!i)return;ofe(this._foldingModel,Number.MAX_VALUE,[e]),i.isCollapsed=!i.isCollapsed;const r=(i.isCollapsed?this._editor.getTopForLineNumber(i.foldingEndLine):this._editor.getTopForLineNumber(i.foldingStartLine))-this._editor.getOption(66)*t.index+1;this._editor.setScrollTop(r),this._renderStickyScroll(e)}_readConfiguration(){const e=this._editor.getOption(114);if(e.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else e.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(i=>{i.scrollTopChanged&&(this._showEndForLine=null,this._renderStickyScroll())})),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(i=>this._onTokensChange(i))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>{this._showEndForLine=null,this._renderStickyScroll()})),this._enabled=!0);this._editor.getOption(67).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>{this._showEndForLine=null,this._renderStickyScroll(0)}))}_needsUpdate(e){const t=this._stickyScrollWidget.getCurrentLines();for(const i of t)for(const r of e.ranges)if(i>=r.fromLineNumber&&i<=r.toLineNumber)return!0;return!1}_onTokensChange(e){this._needsUpdate(e)&&this._renderStickyScroll(0)}_onDidResize(){const t=this._editor.getLayoutInfo().height/this._editor.getOption(66);this._maxStickyLines=Math.round(t*.25)}async _renderStickyScroll(e){var t,i;const r=this._editor.getModel();if(!r||r.isTooLargeForTokenization()){this._foldingModel=null,this._stickyScrollWidget.setState(void 0,null);return}const o=this._stickyLineCandidateProvider.getVersionId();if(o===void 0||o===r.getVersionId())if(this._foldingModel=(i=await((t=pu.get(this._editor))===null||t===void 0?void 0:t.getFoldingModel()))!==null&&i!==void 0?i:null,this._widgetState=this.findScrollWidgetState(),this._stickyScrollVisibleContextKey.set(this._widgetState.startLineNumbers.length!==0),!this._focused)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,e);else if(this._focusedStickyElementIndex===-1)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,e),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1,this._focusedStickyElementIndex!==-1&&this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);else{const s=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,e),this._stickyScrollWidget.lineNumberCount===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(s)||(this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1),this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}}findScrollWidgetState(){const e=this._editor.getOption(66),t=Math.min(this._maxStickyLines,this._editor.getOption(114).maxLineCount),i=this._editor.getScrollTop();let r=0;const o=[],s=[],a=this._editor.getVisibleRanges();if(a.length!==0){const l=new o1(a[0].startLineNumber,a[a.length-1].endLineNumber),c=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(l);for(const d of c){const u=d.startLineNumber,h=d.endLineNumber,f=d.nestingDepth;if(h-u>0){const g=(f-1)*e,_=f*e,y=this._editor.getBottomForLineNumber(u)-i,m=this._editor.getTopForLineNumber(h)-i,p=this._editor.getBottomForLineNumber(h)-i;if(g>m&&g<=p){o.push(u),s.push(h+1),r=p-_;break}else _>y&&_<=p&&(o.push(u),s.push(h+1));if(o.length===t)break}}}return this._endLineNumbers=s,new JX(o,s,r,this._showEndForLine)}dispose(){super.dispose(),this._sessionStore.dispose()}};mu.ID="store.contrib.stickyScrollController";mu=SB=yKe([C0(1,Pa),C0(2,qe),C0(3,dt),C0(4,Pi),C0(5,dl),C0(6,_t)],mu);class CKe extends Ia{constructor(){super({id:"editor.action.toggleStickyScroll",title:{value:w("toggleEditorStickyScroll","Toggle Editor Sticky Scroll"),mnemonicTitle:w({key:"mitoggleStickyScroll",comment:["&& denotes a mnemonic"]},"&&Toggle Editor Sticky Scroll"),original:"Toggle Editor Sticky Scroll"},category:fKe.View,toggled:{condition:we.equals("config.editor.stickyScroll.enabled",!0),title:w("stickyScroll","Sticky Scroll"),mnemonicTitle:w({key:"miStickyScroll",comment:["&& denotes a mnemonic"]},"&&Sticky Scroll")},menu:[{id:H.CommandPalette},{id:H.MenubarAppearanceMenu,group:"4_editor",order:3},{id:H.StickyScrollContext}]})}async run(e){const t=e.get(jt),i=!t.getValue("editor.stickyScroll.enabled");return t.updateValue("editor.stickyScroll.enabled",i)}}const k2=100;class wKe extends td{constructor(){super({id:"editor.action.focusStickyScroll",title:{value:w("focusStickyScroll","Focus Sticky Scroll"),mnemonicTitle:w({key:"mifocusStickyScroll",comment:["&& denotes a mnemonic"]},"&&Focus Sticky Scroll"),original:"Focus Sticky Scroll"},precondition:we.and(we.has("config.editor.stickyScroll.enabled"),j.stickyScrollVisible),menu:[{id:H.CommandPalette}]})}runEditorCommand(e,t){var i;(i=mu.get(t))===null||i===void 0||i.focus()}}class SKe extends td{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:{value:w("selectNextStickyScrollLine.title","Select next sticky scroll line"),original:"Select next sticky scroll line"},precondition:j.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:k2,primary:18}})}runEditorCommand(e,t){var i;(i=mu.get(t))===null||i===void 0||i.focusNext()}}class xKe extends td{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:{value:w("selectPreviousStickyScrollLine.title","Select previous sticky scroll line"),original:"Select previous sticky scroll line"},precondition:j.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:k2,primary:16}})}runEditorCommand(e,t){var i;(i=mu.get(t))===null||i===void 0||i.focusPrevious()}}class LKe extends td{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:{value:w("goToFocusedStickyScrollLine.title","Go to focused sticky scroll line"),original:"Go to focused sticky scroll line"},precondition:j.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:k2,primary:3}})}runEditorCommand(e,t){var i;(i=mu.get(t))===null||i===void 0||i.goToFocused()}}class kKe extends td{constructor(){super({id:"editor.action.selectEditor",title:{value:w("selectEditor.title","Select Editor"),original:"Select Editor"},precondition:j.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:k2,primary:9}})}runEditorCommand(e,t){var i;(i=mu.get(t))===null||i===void 0||i.selectEditor()}}li(mu.ID,mu,1);ji(CKe);ji(wKe);ji(xKe);ji(SKe);ji(LKe);ji(kKe);var jfe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},hw=function(n,e){return function(t,i){e(t,i,n)}};class DKe{constructor(e,t,i,r,o,s){this.range=e,this.insertText=t,this.filterText=i,this.additionalTextEdits=r,this.command=o,this.completion=s}}let xB=class extends iLe{constructor(e,t,i,r,o,s){super(o.disposable),this.model=e,this.line=t,this.word=i,this.completionModel=r,this._suggestMemoryService=s}canBeReused(e,t,i){return this.model===e&&this.line===t&&this.word.word.length>0&&this.word.startColumn===i.startColumn&&this.word.endColumn<i.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){var e;const t=[],{items:i}=this.completionModel,r=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},i),o=Kt.slice(i,r),s=Kt.slice(i,0,r);let a=5;for(const l of Kt.concat(o,s)){if(l.score===Bc.Default)continue;const c=new B(l.editStart.lineNumber,l.editStart.column,l.editInsertEnd.lineNumber,l.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),d=l.completion.insertTextRules&&l.completion.insertTextRules&4?{snippet:l.completion.insertText}:l.completion.insertText;t.push(new DKe(c,d,(e=l.filterTextLow)!==null&&e!==void 0?e:l.labelLow,l.completion.additionalTextEdits,l.completion.command,l)),a-->=0&&l.resolve(Ht.None)}return t}};xB=jfe([hw(5,c2)],xB);let LB=class extends ce{constructor(e,t,i,r){super(),this._languageFeatureService=e,this._clipboardService=t,this._suggestMemoryService=i,this._editorService=r,this._store.add(e.inlineCompletionsProvider.register("*",this))}async provideInlineCompletions(e,t,i,r){var o;if(i.selectedSuggestionInfo)return;let s;for(const g of this._editorService.listCodeEditors())if(g.getModel()===e){s=g;break}if(!s)return;const a=s.getOption(88);if(gv.isAllOff(a))return;e.tokenization.tokenizeIfCheap(t.lineNumber);const l=e.tokenization.getLineTokens(t.lineNumber),c=l.getStandardTokenType(l.findTokenIndexAtOffset(Math.max(t.column-1-1,0)));if(gv.valueFor(a,c)!=="inline")return;let d=e.getWordAtPosition(t),u;if(d!=null&&d.word||(u=this._getTriggerCharacterInfo(e,t)),!(d!=null&&d.word)&&!u||(d||(d=e.getWordUntilPosition(t)),d.endColumn!==t.column))return;let h;const f=e.getValueInRange(new B(t.lineNumber,1,t.lineNumber,t.column));if(!u&&(!((o=this._lastResult)===null||o===void 0)&&o.canBeReused(e,t.lineNumber,d))){const g=new GX(f,t.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=g,this._lastResult.acquire(),h=this._lastResult}else{const g=await UH(this._languageFeatureService.completionProvider,e,t,new ZS(void 0,LN.createSuggestFilter(s).itemKind,u==null?void 0:u.providers),u&&{triggerKind:1,triggerCharacter:u.ch},r);let _;g.needsClipboard&&(_=await this._clipboardService.readText());const y=new Rf(g.items,t.column,new GX(f,0),wc.None,s.getOption(117),s.getOption(111),{boostFullMatch:!1,firstMatchCanBeWeak:!1},_);h=new xB(e,t.lineNumber,d,y,g,this._suggestMemoryService)}return this._lastResult=h,h}handleItemDidShow(e,t){t.completion.resolve(Ht.None)}freeInlineCompletions(e){e.release()}_getTriggerCharacterInfo(e,t){var i;const r=e.getValueInRange(B.fromPositions({lineNumber:t.lineNumber,column:t.column-1},t)),o=new Set;for(const s of this._languageFeatureService.completionProvider.all(e))!((i=s.triggerCharacters)===null||i===void 0)&&i.includes(r)&&o.add(s);if(o.size!==0)return{providers:o,ch:r}}};LB=jfe([hw(0,qe),hw(1,Vh),hw(2,c2),hw(3,ai)],LB);oL(LB);class TKe extends $e{constructor(){super({id:"editor.action.forceRetokenize",label:w("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getModel();i.tokenization.resetTokenization();const r=new ro;i.tokenization.forceTokenization(i.getLineCount()),r.stop(),console.log(`tokenization took ${r.elapsed()}`)}}Ee(TKe);class D2 extends Ia{constructor(){super({id:D2.ID,title:{value:w({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),original:"Toggle Tab Key Moves Focus"},precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},f1:!0})}run(){const t=!Db.getTabFocusMode();Db.setTabFocusMode(t),zs(t?w("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element"):w("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}D2.ID="editor.action.toggleTabFocusMode";ji(D2);var EKe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},IKe=function(n,e){return function(t,i){e(t,i,n)}};let kB=class extends ce{get enabled(){return this._enabled}set enabled(e){e?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=e}constructor(e,t,i={},r){var o;super(),this._link=t,this._enabled=!0,this.el=Se(e,Te("a.monaco-link",{tabIndex:(o=t.tabIndex)!==null&&o!==void 0?o:0,href:t.href,title:t.title},t.label)),this.el.setAttribute("role","button");const s=this._register(new $t(this.el,"click")),a=this._register(new $t(this.el,"keypress")),l=Ve.chain(a.event,u=>u.map(h=>new Oi(h)).filter(h=>h.keyCode===3)),c=this._register(new $t(this.el,Ii.Tap)).event;this._register(Ei.addTarget(this.el));const d=Ve.any(s.event,l,c);this._register(d(u=>{this.enabled&&(Mt.stop(u,!0),i!=null&&i.opener?i.opener(this._link.href):r.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}};kB=EKe([IKe(3,ws)],kB);var Ufe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},$fe=function(n,e){return function(t,i){e(t,i,n)}};const NKe=26;let DB=class extends ce{constructor(e,t){super(),this._editor=e,this.instantiationService=t,this.banner=this._register(this.instantiationService.createInstance(TB))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(e){this.banner.show({...e,onClose:()=>{var t;this.hide(),(t=e.onClose)===null||t===void 0||t.call(e)}}),this._editor.setBanner(this.banner.element,NKe)}};DB=Ufe([$fe(1,dt)],DB);let TB=class extends ce{constructor(e){super(),this.instantiationService=e,this.markdownRenderer=this.instantiationService.createInstance(du,{}),this.element=Te("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(e){if(e.ariaLabel)return e.ariaLabel;if(typeof e.message=="string")return e.message}getBannerMessage(e){if(typeof e=="string"){const t=Te("span");return t.innerText=e,t}return this.markdownRenderer.render(e).element}clear(){$r(this.element)}show(e){$r(this.element);const t=this.getAriaLabel(e);t&&this.element.setAttribute("aria-label",t);const i=Se(this.element,Te("div.icon-container"));i.setAttribute("aria-hidden","true"),e.icon&&i.appendChild(Te(`div${lt.asCSSSelector(e.icon)}`));const r=Se(this.element,Te("div.message-container"));if(r.setAttribute("aria-hidden","true"),r.appendChild(this.getBannerMessage(e.message)),this.messageActionsContainer=Se(this.element,Te("div.message-actions-container")),e.actions)for(const s of e.actions)this._register(this.instantiationService.createInstance(kB,this.messageActionsContainer,{...s,tabIndex:-1},{}));const o=Se(this.element,Te("div.action-container"));this.actionBar=this._register(new sl(o)),this.actionBar.push(this._register(new Fs("banner.close","Close Banner",lt.asClassName(Fde),!0,()=>{typeof e.onClose=="function"&&e.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};TB=Ufe([$fe(0,dt)],TB);var rz=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Qv=function(n,e){return function(t,i){e(t,i,n)}};const PKe=Dn("extensions-warning-message",Ae.warning,w("warningIcon","Icon shown with a warning message in the extensions editor."));let ny=class extends ce{constructor(e,t,i,r){super(),this._editor=e,this._editorWorkerService=t,this._workspaceTrustService=i,this._highlighter=null,this._bannerClosed=!1,this._updateState=o=>{if(o&&o.hasMore){if(this._bannerClosed)return;const s=Math.max(o.ambiguousCharacterCount,o.nonBasicAsciiCharacterCount,o.invisibleCharacterCount);let a;if(o.nonBasicAsciiCharacterCount>=s)a={message:w("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new Vy};else if(o.ambiguousCharacterCount>=s)a={message:w("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new yp};else if(o.invisibleCharacterCount>=s)a={message:w("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new Wy};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:a.message,icon:PKe,actions:[{label:a.command.shortLabel,href:`command:${a.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(r.createInstance(DB,e)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=e.getOption(124),this._register(i.onDidChangeTrust(o=>{this._updateHighlighter()})),this._register(e.onDidChangeConfiguration(o=>{o.hasChanged(124)&&(this._options=e.getOption(124),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const e=MKe(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([e.nonBasicASCII,e.ambiguousCharacters,e.invisibleCharacters].every(i=>i===!1))return;const t={nonBasicASCII:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments,includeStrings:e.includeStrings,allowedCodePoints:Object.keys(e.allowedCharacters).map(i=>i.codePointAt(0)),allowedLocales:Object.keys(e.allowedLocales).map(i=>i==="_os"?new Intl.NumberFormat().resolvedOptions().locale:i==="_vscode"?nxe:i)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new EB(this._editor,t,this._updateState,this._editorWorkerService):this._highlighter=new RKe(this._editor,t,this._updateState)}getDecorationInfo(e){return this._highlighter?this._highlighter.getDecorationInfo(e):null}};ny.ID="editor.contrib.unicodeHighlighter";ny=rz([Qv(1,Xl),Qv(2,Kce),Qv(3,dt)],ny);function MKe(n,e){return{nonBasicASCII:e.nonBasicASCII===ea?!n:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments===ea?!n:e.includeComments,includeStrings:e.includeStrings===ea?!n:e.includeStrings,allowedCharacters:e.allowedCharacters,allowedLocales:e.allowedLocales}}let EB=class extends ce{constructor(e,t,i,r){super(),this._editor=e,this._options=t,this._updateState=i,this._editorWorkerService=r,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new ki(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const e=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(t=>{if(this._model.isDisposed()||this._model.getVersionId()!==e)return;this._updateState(t);const i=[];if(!t.hasMore)for(const r of t.ranges)i.push({range:r,options:IN.instance.getDecorationFromOptions(this._options)});this._decorations.set(i)})}getDecorationInfo(e){if(!this._decorations.has(e))return null;const t=this._editor.getModel();if(!sV(t,e))return null;const i=t.getValueInRange(e.range);return{reason:Kfe(i,this._options),inComment:aV(t,e),inString:lV(t,e)}}};EB=rz([Qv(3,Xl)],EB);class RKe extends ce{constructor(e,t,i){super(),this._editor=e,this._options=t,this._updateState=i,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new ki(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const e=this._editor.getVisibleRanges(),t=[],i={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const r of e){const o=C6.computeUnicodeHighlights(this._model,this._options,r);for(const s of o.ranges)i.ranges.push(s);i.ambiguousCharacterCount+=i.ambiguousCharacterCount,i.invisibleCharacterCount+=i.invisibleCharacterCount,i.nonBasicAsciiCharacterCount+=i.nonBasicAsciiCharacterCount,i.hasMore=i.hasMore||o.hasMore}if(!i.hasMore)for(const r of i.ranges)t.push({range:r,options:IN.instance.getDecorationFromOptions(this._options)});this._updateState(i),this._decorations.set(t)}getDecorationInfo(e){if(!this._decorations.has(e))return null;const t=this._editor.getModel(),i=t.getValueInRange(e.range);return sV(t,e)?{reason:Kfe(i,this._options),inComment:aV(t,e),inString:lV(t,e)}:null}}const qfe=w("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options");let IB=class{constructor(e,t,i){this._editor=e,this._languageService=t,this._openerService=i,this.hoverOrdinal=5}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const i=this._editor.getModel(),r=this._editor.getContribution(ny.ID);if(!r)return[];const o=[],s=new Set;let a=300;for(const l of t){const c=r.getDecorationInfo(l);if(!c)continue;const u=i.getValueInRange(l.range).codePointAt(0),h=r5(u);let f;switch(c.reason.kind){case 0:{Ax(c.reason.confusableWith)?f=w("unicodeHighlight.characterIsAmbiguousASCII","The character {0} could be confused with the ASCII character {1}, which is more common in source code.",h,r5(c.reason.confusableWith.codePointAt(0))):f=w("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",h,r5(c.reason.confusableWith.codePointAt(0)));break}case 1:f=w("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",h);break;case 2:f=w("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",h);break}if(s.has(f))continue;s.add(f);const g={codePoint:u,reason:c.reason,inComment:c.inComment,inString:c.inString},_=w("unicodeHighlight.adjustSettings","Adjust settings"),y=`command:${bL.ID}?${encodeURIComponent(JSON.stringify(g))}`,m=new eo("",!0).appendMarkdown(f).appendText(" ").appendLink(y,_,qfe);o.push(new xc(this,l.range,[m],!1,a++))}return o}renderHoverParts(e,t){return Ahe(e,t,this._editor,this._languageService,this._openerService)}};IB=rz([Qv(1,Zi),Qv(2,ws)],IB);function NB(n){return`U+${n.toString(16).padStart(4,"0")}`}function r5(n){let e=`\`${NB(n)}\``;return Jd.isInvisibleCharacter(n)||(e+=` "${`${AKe(n)}`}"`),e}function AKe(n){return n===96?"`` ` ``":"`"+String.fromCodePoint(n)+"`"}function Kfe(n,e){return C6.computeUnicodeHighlightReason(n,e)}class IN{constructor(){this.map=new Map}getDecorationFromOptions(e){return this.getDecoration(!e.includeComments,!e.includeStrings)}getDecoration(e,t){const i=`${e}${t}`;let r=this.map.get(i);return r||(r=kt.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:e,hideInStringTokens:t}),this.map.set(i,r)),r}}IN.instance=new IN;class OKe extends $e{constructor(){super({id:yp.ID,label:w("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=w("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}async run(e,t,i){const r=e==null?void 0:e.get(jt);r&&this.runAction(r)}async runAction(e){await e.updateValue(cs.includeComments,!1,2)}}class FKe extends $e{constructor(){super({id:yp.ID,label:w("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=w("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}async run(e,t,i){const r=e==null?void 0:e.get(jt);r&&this.runAction(r)}async runAction(e){await e.updateValue(cs.includeStrings,!1,2)}}class yp extends $e{constructor(){super({id:yp.ID,label:w("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=w("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}async run(e,t,i){const r=e==null?void 0:e.get(jt);r&&this.runAction(r)}async runAction(e){await e.updateValue(cs.ambiguousCharacters,!1,2)}}yp.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class Wy extends $e{constructor(){super({id:Wy.ID,label:w("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=w("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}async run(e,t,i){const r=e==null?void 0:e.get(jt);r&&this.runAction(r)}async runAction(e){await e.updateValue(cs.invisibleCharacters,!1,2)}}Wy.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class Vy extends $e{constructor(){super({id:Vy.ID,label:w("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=w("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}async run(e,t,i){const r=e==null?void 0:e.get(jt);r&&this.runAction(r)}async runAction(e){await e.updateValue(cs.nonBasicASCII,!1,2)}}Vy.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class bL extends $e{constructor(){super({id:bL.ID,label:w("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}async run(e,t,i){const{codePoint:r,reason:o,inString:s,inComment:a}=i,l=String.fromCodePoint(r),c=e.get(rd),d=e.get(jt);function u(g){return Jd.isInvisibleCharacter(g)?w("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",NB(g)):w("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${NB(g)} "${l}"`)}const h=[];if(o.kind===0)for(const g of o.notAmbiguousInLocales)h.push({label:w("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',g),run:async()=>{WKe(d,[g])}});if(h.push({label:u(r),run:()=>BKe(d,[r])}),a){const g=new OKe;h.push({label:g.label,run:async()=>g.runAction(d)})}else if(s){const g=new FKe;h.push({label:g.label,run:async()=>g.runAction(d)})}if(o.kind===0){const g=new yp;h.push({label:g.label,run:async()=>g.runAction(d)})}else if(o.kind===1){const g=new Wy;h.push({label:g.label,run:async()=>g.runAction(d)})}else if(o.kind===2){const g=new Vy;h.push({label:g.label,run:async()=>g.runAction(d)})}else VKe(o);const f=await c.pick(h,{title:qfe});f&&await f.run()}}bL.ID="editor.action.unicodeHighlight.showExcludeOptions";async function BKe(n,e){const t=n.getValue(cs.allowedCharacters);let i;typeof t=="object"&&t?i=t:i={};for(const r of e)i[String.fromCodePoint(r)]=!0;await n.updateValue(cs.allowedCharacters,i,2)}async function WKe(n,e){var t;const i=(t=n.inspect(cs.allowedLocales).user)===null||t===void 0?void 0:t.value;let r;typeof i=="object"&&i?r=Object.assign({},i):r={};for(const o of e)r[o]=!0;await n.updateValue(cs.allowedLocales,r,2)}function VKe(n){throw new Error(`Unexpected value: ${n}`)}Ee(yp);Ee(Wy);Ee(Vy);Ee(bL);li(ny.ID,ny,1);U_.register(IB);var HKe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},rQ=function(n,e){return function(t,i){e(t,i,n)}};const Gfe="ignoreUnusualLineTerminators";function zKe(n,e,t){n.setModelProperty(e.uri,Gfe,t)}function jKe(n,e){return n.getModelProperty(e.uri,Gfe)}let ax=class extends ce{constructor(e,t,i){super(),this._editor=e,this._dialogService=t,this._codeEditorService=i,this._isPresentingDialog=!1,this._config=this._editor.getOption(125),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(125)&&(this._config=this._editor.getOption(125),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(r=>{r.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}async _checkForUnusualLineTerminators(){if(this._config==="off"||!this._editor.hasModel())return;const e=this._editor.getModel();if(!e.mightContainUnusualLineTerminators()||jKe(this._codeEditorService,e)===!0||this._editor.getOption(90))return;if(this._config==="auto"){e.removeUnusualLineTerminators(this._editor.getSelections());return}if(this._isPresentingDialog)return;let i;try{this._isPresentingDialog=!0,i=await this._dialogService.confirm({title:w("unusualLineTerminators.title","Unusual Line Terminators"),message:w("unusualLineTerminators.message","Detected unusual line terminators"),detail:w("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",ol(e.uri)),primaryButton:w({key:"unusualLineTerminators.fix",comment:["&& denotes a mnemonic"]},"&&Remove Unusual Line Terminators"),cancelButton:w("unusualLineTerminators.ignore","Ignore")})}finally{this._isPresentingDialog=!1}if(!i.confirmed){zKe(this._codeEditorService,e,!0);return}e.removeUnusualLineTerminators(this._editor.getSelections())}};ax.ID="editor.contrib.unusualLineTerminatorsDetector";ax=HKe([rQ(1,Zx),rQ(2,ai)],ax);li(ax.ID,ax,1);var Zfe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},BT=function(n,e){return function(t,i){e(t,i,n)}},In,PB;const T2=new je("hasWordHighlights",!1);function Yfe(n,e,t,i){const r=n.ordered(e);return d6(r.map(o=>()=>Promise.resolve(o.provideDocumentHighlights(e,t,i)).then(void 0,Hn)),io).then(o=>{if(o){const s=new Ln;return s.set(e.uri,o),s}return new Ln})}function UKe(n,e,t,i,r,o){const s=n.ordered(e);return d6(s.map(a=>()=>{const l=o.filter(c=>Gae(c)).filter(c=>gV(a.selector,c.uri,c.getLanguageId(),!0,void 0,void 0)>0);return Promise.resolve(a.provideMultiDocumentHighlights(e,t,l,r)).then(void 0,Hn)}),a=>a instanceof Ln&&a.size>0)}class oz{constructor(e,t,i){this._model=e,this._selection=t,this._wordSeparators=i,this._wordRange=this._getCurrentWordRange(e,t),this._result=null}get result(){return this._result||(this._result=gr(e=>this._compute(this._model,this._selection,this._wordSeparators,e))),this._result}_getCurrentWordRange(e,t){const i=e.getWordAtPosition(t.getPosition());return i?new B(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):null}isValid(e,t,i){const r=t.startLineNumber,o=t.startColumn,s=t.endColumn,a=this._getCurrentWordRange(e,t);let l=!!(this._wordRange&&this._wordRange.equalsRange(a));for(let c=0,d=i.length;!l&&c<d;c++){const u=i.getRange(c);u&&u.startLineNumber===r&&u.startColumn<=o&&u.endColumn>=s&&(l=!0)}return l}cancel(){this.result.cancel()}}class $Ke extends oz{constructor(e,t,i,r){super(e,t,i),this._providers=r}_compute(e,t,i,r){return Yfe(this._providers,e,t.getPosition(),r).then(o=>o||new Ln)}}class qKe extends oz{constructor(e,t,i,r,o){super(e,t,i),this._providers=r,this._otherModels=o}_compute(e,t,i,r){return UKe(this._providers,e,t.getPosition(),i,r,this._otherModels).then(o=>o||new Ln)}}class Xfe extends oz{constructor(e,t,i,r,o){super(e,t,r),this._otherModels=o,this._selectionIsEmpty=t.isEmpty(),this._word=i}_compute(e,t,i,r){return Mg(250,r).then(()=>{const o=new Ln;let s;if(this._word?s=this._word:s=e.getWordAtPosition(t.getPosition()),!s)return new Ln;const a=[e,...this._otherModels];for(const l of a){if(l.isDisposed())continue;const d=l.findMatches(s.word,!0,!1,!0,i,!1).map(u=>({range:u.range,kind:W1.Text}));d&&o.set(l.uri,d)}return o})}isValid(e,t,i){const r=t.isEmpty();return this._selectionIsEmpty!==r?!1:super.isValid(e,t,i)}}function KKe(n,e,t,i,r){return n.has(e)?new $Ke(e,t,r,n):new Xfe(e,t,i,r,[])}function GKe(n,e,t,i,r,o){return n.has(e)?new qKe(e,t,r,n,o):new Xfe(e,t,i,r,o)}vu("_executeDocumentHighlights",async(n,e,t)=>{const i=n.get(qe),r=await Yfe(i.documentHighlightProvider,e,t,Ht.None);return r==null?void 0:r.get(e.uri)});let lx=In=class{constructor(e,t,i,r,o){this.toUnhook=new xe,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=new Ln,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this.providers=t,this.multiDocumentProviders=i,this.codeEditorService=o,this._hasWordHighlights=T2.bindTo(r),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(80),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition(s=>{this._ignorePositionChangeEvent||this.occurrencesHighlight!=="off"&&this._onPositionChanged(s)})),this.toUnhook.add(e.onDidChangeModelContent(s=>{this._stopAll()})),this.toUnhook.add(e.onDidChangeModel(s=>{!s.newModelUrl&&s.oldModelUrl?this._stopSingular():In.query&&this._run()})),this.toUnhook.add(e.onDidChangeConfiguration(s=>{const a=this.editor.getOption(80);this.occurrencesHighlight!==a&&(this.occurrencesHighlight=a,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,In.query&&this._run()}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight!=="off"&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(B.compareRangesUsingStarts)}moveNext(){const e=this._getSortedHighlights(),i=(e.findIndex(o=>o.containsPosition(this.editor.getPosition()))+1)%e.length,r=e[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(r.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(r);const o=this._getWord();if(o){const s=this.editor.getModel().getLineContent(r.startLineNumber);zs(`${s}, ${i+1} of ${e.length} for '${o.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const e=this._getSortedHighlights(),i=(e.findIndex(o=>o.containsPosition(this.editor.getPosition()))-1+e.length)%e.length,r=e[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(r.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(r);const o=this._getWord();if(o){const s=this.editor.getModel().getLineContent(r.startLineNumber);zs(`${s}, ${i+1} of ${e.length} for '${o.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeSingleDecorations(){if(!this.editor.hasModel())return;const e=In.storedDecorations.get(this.editor.getModel().uri);e&&(this.editor.removeDecorations(e),In.storedDecorations.delete(this.editor.getModel().uri),this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1)))}_removeAllDecorations(){const e=this.codeEditorService.listCodeEditors();for(const t of e){if(!t.hasModel())continue;const i=In.storedDecorations.get(t.getModel().uri);if(!i)continue;t.removeDecorations(i),In.storedDecorations.delete(t.getModel().uri);const r=Mh.get(t);r!=null&&r.wordHighlighter&&r.wordHighlighter.decorations.length>0&&(r.wordHighlighter.decorations.clear(),r.wordHighlighter._hasWordHighlights.set(!1))}}_stopSingular(){var e,t,i,r;this._removeSingleDecorations(),this.editor.hasWidgetFocus()&&(((e=this.editor.getModel())===null||e===void 0?void 0:e.uri.scheme)!==Tt.vscodeNotebookCell&&((i=(t=In.query)===null||t===void 0?void 0:t.modelInfo)===null||i===void 0?void 0:i.model.uri.scheme)!==Tt.vscodeNotebookCell?(In.query=null,this._run()):!((r=In.query)===null||r===void 0)&&r.modelInfo&&(In.query.modelInfo=null)),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_stopAll(){this._removeAllDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){var t;if(this.occurrencesHighlight==="off"){this._stopAll();return}if(e.reason!==3&&((t=this.editor.getModel())===null||t===void 0?void 0:t.uri.scheme)!==Tt.vscodeNotebookCell){this._stopAll();return}this._run()}_getWord(){const e=this.editor.getSelection(),t=e.startLineNumber,i=e.startColumn;return this.model.isDisposed()?null:this.model.getWordAtPosition({lineNumber:t,column:i})}getOtherModelsToHighlight(e){if(!e)return[];if(e.uri.scheme===Tt.vscodeNotebookCell){const o=[],s=this.codeEditorService.listCodeEditors();for(const a of s){const l=a.getModel();l&&l!==e&&l.uri.scheme===Tt.vscodeNotebookCell&&o.push(l)}return o}const i=[],r=this.codeEditorService.listCodeEditors();for(const o of r){if(!gH(o))continue;const s=o.getModel();s&&e===s.modified&&i.push(s.modified)}if(i.length)return i;if(this.occurrencesHighlight==="singleFile")return[];for(const o of r){const s=o.getModel();s&&s!==e&&i.push(s)}return i}_run(){var e,t;let i;if(this.editor.hasWidgetFocus()){const r=this.editor.getSelection();if(!r||r.startLineNumber!==r.endLineNumber){this._stopAll();return}const o=r.startColumn,s=r.endColumn,a=this._getWord();if(!a||a.startColumn>o||a.endColumn<s){In.query=null,this._stopAll();return}i=this.workerRequest&&this.workerRequest.isValid(this.model,r,this.decorations),In.query={modelInfo:{model:this.model,selection:r},word:a}}else if(In.query===null)return;if(this.lastCursorPositionChangeTime=new Date().getTime(),i)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const r=++this.workerRequestTokenId;this.workerRequestCompleted=!1;const o=this.getOtherModelsToHighlight(this.editor.getModel()),s=!!(!In.query.modelInfo&&In.query.word||((e=In.query.modelInfo)===null||e===void 0?void 0:e.model.uri)!==this.model.uri);!In.query.modelInfo||In.query.modelInfo.model.uri!==this.model.uri?this.workerRequest=this.computeWithModel(this.model,this.editor.getSelection(),s?In.query.word:null,o):this.workerRequest=this.computeWithModel(In.query.modelInfo.model,In.query.modelInfo.selection,In.query.word,o),(t=this.workerRequest)===null||t===void 0||t.result.then(a=>{r===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=a||[],this._beginRenderDecorations())},St)}}computeWithModel(e,t,i,r){return r.length?GKe(this.multiDocumentProviders,e,t,i,this.editor.getOption(129),r):KKe(this.providers,e,t,i,this.editor.getOption(129))}_beginRenderDecorations(){const e=new Date().getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},t-e)}renderDecorations(){var e,t,i;this.renderDecorationsTimer=-1;const r=this.codeEditorService.listCodeEditors();for(const o of r){const s=Mh.get(o);if(!s)continue;const a=[],l=(e=o.getModel())===null||e===void 0?void 0:e.uri;if(l&&this.workerRequestValue.has(l)){const c=In.storedDecorations.get(l),d=this.workerRequestValue.get(l);if(d)for(const h of d)a.push({range:h.range,options:xqe(h.kind)});let u=[];o.changeDecorations(h=>{u=h.deltaDecorations(c??[],a)}),In.storedDecorations=In.storedDecorations.set(l,u),a.length>0&&((t=s.wordHighlighter)===null||t===void 0||t.decorations.set(a),(i=s.wordHighlighter)===null||i===void 0||i._hasWordHighlights.set(!0))}}}dispose(){this._stopSingular(),this.toUnhook.dispose()}};lx.storedDecorations=new Ln;lx.query=null;lx=In=Zfe([BT(4,ai)],lx);let Mh=PB=class extends ce{static get(e){return e.getContribution(PB.ID)}constructor(e,t,i,r){super(),this._wordHighlighter=null;const o=()=>{e.hasModel()&&!e.getModel().isTooLargeForTokenization()&&(this._wordHighlighter=new lx(e,i.documentHighlightProvider,i.multiDocumentHighlightProvider,t,r))};this._register(e.onDidChangeModel(s=>{this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),o()})),o()}get wordHighlighter(){return this._wordHighlighter}saveViewState(){return!!(this._wordHighlighter&&this._wordHighlighter.hasDecorations())}moveNext(){var e;(e=this._wordHighlighter)===null||e===void 0||e.moveNext()}moveBack(){var e;(e=this._wordHighlighter)===null||e===void 0||e.moveBack()}restoreViewState(e){this._wordHighlighter&&e&&this._wordHighlighter.restore()}dispose(){this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),super.dispose()}};Mh.ID="editor.contrib.wordHighlighter";Mh=PB=Zfe([BT(1,_t),BT(2,qe),BT(3,ai)],Mh);class Qfe extends $e{constructor(e,t){super(t),this._isNext=e}run(e,t){const i=Mh.get(t);i&&(this._isNext?i.moveNext():i.moveBack())}}class ZKe extends Qfe{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:w("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:T2,kbOpts:{kbExpr:j.editorTextFocus,primary:65,weight:100}})}}class YKe extends Qfe{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:w("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:T2,kbOpts:{kbExpr:j.editorTextFocus,primary:1089,weight:100}})}}class XKe extends $e{constructor(){super({id:"editor.action.wordHighlight.trigger",label:w("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:T2.toNegated(),kbOpts:{kbExpr:j.editorTextFocus,primary:0,weight:100}})}run(e,t,i){const r=Mh.get(t);r&&r.restoreViewState(!0)}}li(Mh.ID,Mh,0);Ee(ZKe);Ee(YKe);Ee(XKe);class E2 extends kr{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){if(!t.hasModel())return;const r=rl(t.getOption(129)),o=t.getModel(),a=t.getSelections().map(l=>{const c=new re(l.positionLineNumber,l.positionColumn),d=this._move(r,o,c,this._wordNavigationType);return this._moveTo(l,d,this._inSelectionMode)});if(o.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,a.map(l=>ei.fromModelSelection(l))),a.length===1){const l=new re(a[0].positionLineNumber,a[0].positionColumn);t.revealPosition(l,0)}}_moveTo(e,t,i){return i?new Ke(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new Ke(t.lineNumber,t.column,t.lineNumber,t.column)}}class Cp extends E2{_move(e,t,i,r){return gi.moveWordLeft(e,t,i,r)}}class wp extends E2{_move(e,t,i,r){return gi.moveWordRight(e,t,i,r)}}class QKe extends Cp{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class JKe extends Cp{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class eGe extends Cp{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:we.and(j.textInputFocus,(e=we.and(Vx,_M))===null||e===void 0?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}}class tGe extends Cp{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class iGe extends Cp{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class nGe extends Cp{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:we.and(j.textInputFocus,(e=we.and(Vx,_M))===null||e===void 0?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class rGe extends Cp{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,i,r){return super._move(rl(Qc.wordSeparators.defaultValue),t,i,r)}}class oGe extends Cp{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,i,r){return super._move(rl(Qc.wordSeparators.defaultValue),t,i,r)}}class sGe extends wp{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class aGe extends wp{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:we.and(j.textInputFocus,(e=we.and(Vx,_M))===null||e===void 0?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}}class lGe extends wp{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class cGe extends wp{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class dGe extends wp{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:we.and(j.textInputFocus,(e=we.and(Vx,_M))===null||e===void 0?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class uGe extends wp{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class hGe extends wp{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,i,r){return super._move(rl(Qc.wordSeparators.defaultValue),t,i,r)}}class fGe extends wp{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,i,r){return super._move(rl(Qc.wordSeparators.defaultValue),t,i,r)}}class I2 extends kr{constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){const r=e.get(Pi);if(!t.hasModel())return;const o=rl(t.getOption(129)),s=t.getModel(),a=t.getSelections(),l=t.getOption(6),c=t.getOption(11),d=r.getLanguageConfiguration(s.getLanguageId()).getAutoClosingPairs(),u=t._getViewModel(),h=a.map(f=>{const g=this._delete({wordSeparators:o,model:s,selection:f,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(9),autoClosingBrackets:l,autoClosingQuotes:c,autoClosingPairs:d,autoClosedCharacters:u.getCursorAutoClosedCharacters()},this._wordNavigationType);return new Wr(g,"")});t.pushUndoStop(),t.executeCommands(this.id,h),t.pushUndoStop()}}class sz extends I2{_delete(e,t){const i=gi.deleteWordLeft(e,t);return i||new B(1,1,1,1)}}class az extends I2{_delete(e,t){const i=gi.deleteWordRight(e,t);if(i)return i;const r=e.model.getLineCount(),o=e.model.getLineMaxColumn(r);return new B(r,o,r,o)}}class gGe extends sz{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:j.writable})}}class pGe extends sz{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:j.writable})}}class mGe extends sz{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:j.writable,kbOpts:{kbExpr:j.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class _Ge extends az{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:j.writable})}}class vGe extends az{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:j.writable})}}class bGe extends az{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:j.writable,kbOpts:{kbExpr:j.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class yGe extends $e{constructor(){super({id:"deleteInsideWord",precondition:j.writable,label:w("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(e,t,i){if(!t.hasModel())return;const r=rl(t.getOption(129)),o=t.getModel(),a=t.getSelections().map(l=>{const c=gi.deleteInsideWord(r,o,l);return new Wr(c,"")});t.pushUndoStop(),t.executeCommands(this.id,a),t.pushUndoStop()}}We(new QKe);We(new JKe);We(new eGe);We(new tGe);We(new iGe);We(new nGe);We(new sGe);We(new aGe);We(new lGe);We(new cGe);We(new dGe);We(new uGe);We(new rGe);We(new oGe);We(new hGe);We(new fGe);We(new gGe);We(new pGe);We(new mGe);We(new _Ge);We(new vGe);We(new bGe);Ee(yGe);class CGe extends I2{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:j.writable,kbOpts:{kbExpr:j.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(e,t){const i=XP.deleteWordPartLeft(e);return i||new B(1,1,1,1)}}class wGe extends I2{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:j.writable,kbOpts:{kbExpr:j.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(e,t){const i=XP.deleteWordPartRight(e);if(i)return i;const r=e.model.getLineCount(),o=e.model.getLineMaxColumn(r);return new B(r,o,r,o)}}class Jfe extends E2{_move(e,t,i,r){return XP.moveWordPartLeft(e,t,i)}}class SGe extends Jfe{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:j.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}Gt.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class xGe extends Jfe{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:j.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}Gt.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class ege extends E2{_move(e,t,i,r){return XP.moveWordPartRight(e,t,i)}}class LGe extends ege{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:j.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class kGe extends ege{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:j.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}We(new CGe);We(new wGe);We(new SGe);We(new xGe);We(new LGe);We(new kGe);class MB extends ce{constructor(e){super(),this.editor=e,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const e=zo.get(this.editor);if(e&&this.editor.hasModel()){let t=this.editor.getOptions().get(91);t||(this.editor.isSimpleWidget?t=new eo(w("editor.simple.readonly","Cannot edit in read-only input")):t=new eo(w("editor.readonly","Cannot edit in read-only editor"))),e.showMessage(t,this.editor.getPosition())}}}MB.ID="editor.contrib.readOnlyMessageController";li(MB.ID,MB,2);var DGe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},oQ=function(n,e){return function(t,i){e(t,i,n)}};let RB=class extends ce{constructor(e,t,i){super(),this._textModel=e,this._languageFeaturesService=t,this._outlineModelService=i,this._currentModel=si(this,void 0);const r=ha("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),o=ha("_textModel.onDidChangeContent",Ve.debounce(s=>this._textModel.onDidChangeContent(s),()=>{},100));this._register(Cu(async(s,a)=>{r.read(s),o.read(s);const l=a.add(new Z8e),c=await this._outlineModelService.getOrCreate(this._textModel,l.token);a.isDisposed||this._currentModel.set(c,void 0)}))}getBreadcrumbItems(e,t){const i=this._currentModel.read(t);if(!i)return[];const r=i.asListOfDocumentSymbols().filter(o=>e.contains(o.range.startLineNumber)&&!e.contains(o.range.endLineNumber));return r.sort(gse(Xa(o=>o.range.endLineNumber-o.range.startLineNumber,uh))),r.map(o=>({name:o.name,kind:o.kind,startLineNumber:o.range.startLineNumber}))}};RB=DGe([oQ(1,qe),oQ(2,_L)],RB);AS.setBreadcrumbsSourceFactory((n,e)=>e.createInstance(RB,n));class AB extends ce{constructor(e){super(),this.editor=e,this.widget=null,jc&&(this._register(e.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const e=!this.editor.getOption(90);!this.widget&&e?this.widget=new N2(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}AB.ID="editor.contrib.iPadShowKeyboard";class N2 extends ce{constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(ge(this._domNode,"touchstart",t=>{this.editor.focus()})),this._register(ge(this._domNode,"focus",t=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return N2.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}N2.ID="editor.contrib.ShowKeyboardWidget";li(AB.ID,AB,3);var TGe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},sQ=function(n,e){return function(t,i){e(t,i,n)}},OB;let ry=OB=class extends ce{static get(e){return e.getContribution(OB.ID)}constructor(e,t,i){super(),this._editor=e,this._languageService=i,this._widget=null,this._register(this._editor.onDidChangeModel(r=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(r=>this.stop())),this._register(ln.onDidChange(r=>this.stop())),this._register(this._editor.onKeyUp(r=>r.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new P2(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};ry.ID="editor.contrib.inspectTokens";ry=OB=TGe([sQ(1,Ma),sQ(2,Zi)],ry);class EGe extends $e{constructor(){super({id:"editor.action.inspectTokens",label:$3.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(e,t){const i=ry.get(t);i==null||i.launch()}}function IGe(n){let e="";for(let t=0,i=n.length;t<i;t++){const r=n.charCodeAt(t);switch(r){case 9:e+="";break;case 32:e+="";break;default:e+=String.fromCharCode(r)}}return e}function NGe(n,e){const t=ln.get(e);if(t)return t;const i=n.encodeLanguageId(e);return{getInitialState:()=>kb,tokenize:(r,o,s)=>T6(e,s),tokenizeEncoded:(r,o,s)=>jP(i,s)}}class P2 extends ce{constructor(e,t){super(),this.allowEditorOverflow=!0,this._editor=e,this._languageService=t,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=NGe(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(i=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return P2._ID}_compute(e){const t=this._getTokensAtLine(e.lineNumber);let i=0;for(let l=t.tokens1.length-1;l>=0;l--){const c=t.tokens1[l];if(e.column-1>=c.offset){i=l;break}}let r=0;for(let l=t.tokens2.length>>>1;l>=0;l--)if(e.column-1>=t.tokens2[l<<1]){r=l;break}const o=this._model.getLineContent(e.lineNumber);let s="";if(i<t.tokens1.length){const l=t.tokens1[i].offset,c=i+1<t.tokens1.length?t.tokens1[i+1].offset:o.length;s=o.substring(l,c)}Kr(this._domNode,Te("h2.tm-token",void 0,IGe(s),Te("span.tm-token-length",void 0,`${s.length} ${s.length===1?"char":"chars"}`))),Se(this._domNode,Te("hr.tokens-inspect-separator",{style:"clear:both"}));const a=(r<<1)+1<t.tokens2.length?this._decodeMetadata(t.tokens2[(r<<1)+1]):null;Se(this._domNode,Te("table.tm-metadata-table",void 0,Te("tbody",void 0,Te("tr",void 0,Te("td.tm-metadata-key",void 0,"language"),Te("td.tm-metadata-value",void 0,`${a?a.languageId:"-?-"}`)),Te("tr",void 0,Te("td.tm-metadata-key",void 0,"token type"),Te("td.tm-metadata-value",void 0,`${a?this._tokenTypeToString(a.tokenType):"-?-"}`)),Te("tr",void 0,Te("td.tm-metadata-key",void 0,"font style"),Te("td.tm-metadata-value",void 0,`${a?this._fontStyleToString(a.fontStyle):"-?-"}`)),Te("tr",void 0,Te("td.tm-metadata-key",void 0,"foreground"),Te("td.tm-metadata-value",void 0,`${a?ue.Format.CSS.formatHex(a.foreground):"-?-"}`)),Te("tr",void 0,Te("td.tm-metadata-key",void 0,"background"),Te("td.tm-metadata-value",void 0,`${a?ue.Format.CSS.formatHex(a.background):"-?-"}`))))),Se(this._domNode,Te("hr.tokens-inspect-separator")),i<t.tokens1.length&&Se(this._domNode,Te("span.tm-token-type",void 0,t.tokens1[i].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(e){const t=ln.getColorMap(),i=zr.getLanguageId(e),r=zr.getTokenType(e),o=zr.getFontStyle(e),s=zr.getForeground(e),a=zr.getBackground(e);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(i),tokenType:r,fontStyle:o,foreground:t[s],background:t[a]}}_tokenTypeToString(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(e){let t="";return e&1&&(t+="italic "),e&2&&(t+="bold "),e&4&&(t+="underline "),e&8&&(t+="strikethrough "),t.length===0&&(t="---"),t}_getTokensAtLine(e){const t=this._getStateBeforeLine(e),i=this._tokenizationSupport.tokenize(this._model.getLineContent(e),!0,t),r=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(e),!0,t);return{startState:t,tokens1:i.tokens,tokens2:r.tokens,endState:i.endState}}_getStateBeforeLine(e){let t=this._tokenizationSupport.getInitialState();for(let i=1;i<e;i++)t=this._tokenizationSupport.tokenize(this._model.getLineContent(i),!0,t).endState;return t}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}P2._ID="editor.contrib.inspectTokensWidget";li(ry.ID,ry,4);Ee(EGe);var PGe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},aQ=function(n,e){return function(t,i){e(t,i,n)}},fw;let NN=fw=class{constructor(e,t){this.quickInputService=e,this.keybindingService=t,this.registry=nn.as(B_.Quickaccess)}provide(e){const t=new xe;return t.add(e.onDidAccept(()=>{const[i]=e.selectedItems;i&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})})),t.add(e.onDidChangeValue(i=>{const r=this.registry.getQuickAccessProvider(i.substr(fw.PREFIX.length));r&&r.prefix&&r.prefix!==fw.PREFIX&&this.quickInputService.quickAccess.show(r.prefix,{preserveValue:!0})})),e.items=this.getQuickAccessProviders().filter(i=>i.prefix!==fw.PREFIX),t}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((t,i)=>t.prefix.localeCompare(i.prefix)).flatMap(t=>this.createPicks(t))}createPicks(e){return e.helpEntries.map(t=>{const i=t.prefix||e.prefix,r=i||"";return{prefix:i,label:r,keybinding:t.commandId?this.keybindingService.lookupKeybinding(t.commandId):void 0,ariaLabel:w("helpPickAriaLabel","{0}, {1}",r,t.description),description:t.description}})}};NN.PREFIX="?";NN=fw=PGe([aQ(0,rd),aQ(1,xi)],NN);nn.as(B_.Quickaccess).registerQuickAccessProvider({ctor:NN,prefix:"",helpEntries:[{description:q3.helpQuickAccessActionLabel}]});class tge{constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}provide(e,t){var i;const r=new xe;e.canAcceptInBackground=!!(!((i=this.options)===null||i===void 0)&&i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const o=r.add(new Lr);return o.value=this.doProvide(e,t),r.add(this.onDidActiveTextEditorControlChange(()=>{o.value=void 0,o.value=this.doProvide(e,t)})),r}doProvide(e,t){var i;const r=new xe,o=this.activeTextEditorControl;if(o&&this.canProvideWithTextEditor(o)){const s={editor:o},a=lue(o);if(a){let l=(i=o.saveViewState())!==null&&i!==void 0?i:void 0;r.add(a.onDidChangeCursorPosition(()=>{var c;l=(c=o.saveViewState())!==null&&c!==void 0?c:void 0})),s.restoreViewState=()=>{l&&o===this.activeTextEditorControl&&o.restoreViewState(l)},r.add(Ng(t.onCancellationRequested)(()=>{var c;return(c=s.restoreViewState)===null||c===void 0?void 0:c.call(s)}))}r.add(at(()=>this.clearDecorations(o))),r.add(this.provideWithTextEditor(s,e,t))}else r.add(this.provideWithoutTextEditor(e,t));return r}canProvideWithTextEditor(e){return!0}gotoLocation({editor:e},t){e.setSelection(t.range),e.revealRangeInCenter(t.range,0),t.preserveFocus||e.focus();const i=e.getModel();i&&"getLineContent"in i&&Ih(`${i.getLineContent(t.range.startLineNumber)}`)}getModel(e){var t;return gH(e)?(t=e.getModel())===null||t===void 0?void 0:t.modified:e.getModel()}addDecorations(e,t){e.changeDecorations(i=>{const r=[];this.rangeHighlightDecorationId&&(r.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),r.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const o=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:cn(Ile),position:ka.Full}}}],[s,a]=i.deltaDecorations(r,o);this.rangeHighlightDecorationId={rangeHighlightId:s,overviewRulerDecorationId:a}})}clearDecorations(e){const t=this.rangeHighlightDecorationId;t&&(e.changeDecorations(i=>{i.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}class M2 extends tge{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){const t=w("cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,ce.None}provideWithTextEditor(e,t,i){const r=e.editor,o=new xe;o.add(t.onDidAccept(l=>{const[c]=t.selectedItems;if(c){if(!this.isValidLineNumber(r,c.lineNumber))return;this.gotoLocation(e,{range:this.toRange(c.lineNumber,c.column),keyMods:t.keyMods,preserveFocus:l.inBackground}),l.inBackground||t.hide()}}));const s=()=>{const l=this.parsePosition(r,t.value.trim().substr(M2.PREFIX.length)),c=this.getPickLabel(r,l.lineNumber,l.column);if(t.items=[{lineNumber:l.lineNumber,column:l.column,label:c}],t.ariaLabel=c,!this.isValidLineNumber(r,l.lineNumber)){this.clearDecorations(r);return}const d=this.toRange(l.lineNumber,l.column);r.revealRangeInCenter(d,0),this.addDecorations(r,d)};s(),o.add(t.onDidChangeValue(()=>s()));const a=lue(r);return a&&a.getOptions().get(67).renderType===2&&(a.updateOptions({lineNumbers:"on"}),o.add(at(()=>a.updateOptions({lineNumbers:"relative"})))),o}toRange(e=1,t=1){return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}parsePosition(e,t){const i=t.split(/,|:|#/).map(o=>parseInt(o,10)).filter(o=>!isNaN(o)),r=this.lineCount(e)+1;return{lineNumber:i[0]>0?i[0]:r+i[0],column:i[1]}}getPickLabel(e,t,i){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,i)?w("gotoLineColumnLabel","Go to line {0} and character {1}.",t,i):w("gotoLineLabel","Go to line {0}.",t);const r=e.getPosition()||{lineNumber:1,column:1},o=this.lineCount(e);return o>1?w("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",r.lineNumber,r.column,o):w("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",r.lineNumber,r.column)}isValidLineNumber(e,t){return!t||typeof t!="number"?!1:t>0&&t<=this.lineCount(e)}isValidColumn(e,t,i){if(!i||typeof i!="number")return!1;const r=this.getModel(e);if(!r)return!1;const o={lineNumber:t,column:i};return r.validatePosition(o).equals(o)}lineCount(e){var t,i;return(i=(t=this.getModel(e))===null||t===void 0?void 0:t.getLineCount())!==null&&i!==void 0?i:0}}M2.PREFIX=":";var MGe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},RGe=function(n,e){return function(t,i){e(t,i,n)}};let cx=class extends M2{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=Ve.None}get activeTextEditorControl(){var e;return(e=this.editorService.getFocusedCodeEditor())!==null&&e!==void 0?e:void 0}};cx=MGe([RGe(0,ai)],cx);let lz=class ige extends $e{constructor(){super({id:ige.ID,label:LI.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:j.focus,primary:2085,mac:{primary:293},weight:100}})}run(e){e.get(rd).quickAccess.show(cx.PREFIX)}};lz.ID="editor.action.gotoLine";Ee(lz);nn.as(B_.Quickaccess).registerQuickAccessProvider({ctor:cx,prefix:cx.PREFIX,helpEntries:[{description:LI.gotoLineActionLabel,commandId:lz.ID}]});const nge=[void 0,[]];function o5(n,e,t=0,i=0){const r=e;return r.values&&r.values.length>1?AGe(n,r.values,t,i):rge(n,e,t,i)}function AGe(n,e,t,i){let r=0;const o=[];for(const s of e){const[a,l]=rge(n,s,t,i);if(typeof a!="number")return nge;r+=a,o.push(...l)}return[r,OGe(o)]}function rge(n,e,t,i){const r=Xm(e.original,e.originalLowercase,t,n,n.toLowerCase(),i,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return r?[r[0],Yx(r)]:nge}function OGe(n){const e=n.sort((r,o)=>r.start-o.start),t=[];let i;for(const r of e)!i||!FGe(i,r)?(i=r,t.push(r)):(i.start=Math.min(i.start,r.start),i.end=Math.max(i.end,r.end));return t}function FGe(n,e){return!(n.end<e.start||e.end<n.start)}function lQ(n){return n.startsWith('"')&&n.endsWith('"')}const oge=" ";function FB(n){typeof n!="string"&&(n="");const e=n.toLowerCase(),{pathNormalized:t,normalized:i,normalizedLowercase:r}=cQ(n),o=t.indexOf(Rc)>=0,s=lQ(n);let a;const l=n.split(oge);if(l.length>1)for(const c of l){const d=lQ(c),{pathNormalized:u,normalized:h,normalizedLowercase:f}=cQ(c);h&&(a||(a=[]),a.push({original:c,originalLowercase:c.toLowerCase(),pathNormalized:u,normalized:h,normalizedLowercase:f,expectContiguousMatch:d}))}return{original:n,originalLowercase:e,pathNormalized:t,normalized:i,normalizedLowercase:r,values:a,containsPathSeparator:o,expectContiguousMatch:s}}function cQ(n){let e;no?e=n.replace(/\//g,Rc):e=n.replace(/\\/g,Rc);const t=ULe(e).replace(/\s|"/g,"");return{pathNormalized:e,normalized:t,normalizedLowercase:t.toLowerCase()}}function dQ(n){return Array.isArray(n)?FB(n.map(e=>e.original).join(oge)):FB(n.original)}var BGe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},uQ=function(n,e){return function(t,i){e(t,i,n)}},Jv;let nu=Jv=class extends tge{constructor(e,t,i=Object.create(null)){super(i),this._languageFeaturesService=e,this._outlineModelService=t,this.options=i,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(e){return this.provideLabelPick(e,w("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),ce.None}provideWithTextEditor(e,t,i){const r=e.editor,o=this.getModel(r);return o?this._languageFeaturesService.documentSymbolProvider.has(o)?this.doProvideWithEditorSymbols(e,o,t,i):this.doProvideWithoutEditorSymbols(e,o,t,i):ce.None}doProvideWithoutEditorSymbols(e,t,i,r){const o=new xe;return this.provideLabelPick(i,w("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),(async()=>!await this.waitForLanguageSymbolRegistry(t,o)||r.isCancellationRequested||o.add(this.doProvideWithEditorSymbols(e,t,i,r)))(),o}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}async waitForLanguageSymbolRegistry(e,t){if(this._languageFeaturesService.documentSymbolProvider.has(e))return!0;const i=new EP,r=t.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(e)&&(r.dispose(),i.complete(!0))}));return t.add(at(()=>i.complete(!1))),i.p}doProvideWithEditorSymbols(e,t,i,r){var o;const s=e.editor,a=new xe;a.add(i.onDidAccept(u=>{const[h]=i.selectedItems;h&&h.range&&(this.gotoLocation(e,{range:h.range.selection,keyMods:i.keyMods,preserveFocus:u.inBackground}),u.inBackground||i.hide())})),a.add(i.onDidTriggerItemButton(({item:u})=>{u&&u.range&&(this.gotoLocation(e,{range:u.range.selection,keyMods:i.keyMods,forceSideBySide:!0}),i.hide())}));const l=this.getDocumentSymbols(t,r);let c;const d=async u=>{c==null||c.dispose(!0),i.busy=!1,c=new Pn(r),i.busy=!0;try{const h=FB(i.value.substr(Jv.PREFIX.length).trim()),f=await this.doGetSymbolPicks(l,h,void 0,c.token);if(r.isCancellationRequested)return;if(f.length>0){if(i.items=f,u&&h.original.length===0){const g=K1(f,_=>!!(_.type!=="separator"&&_.range&&B.containsPosition(_.range.decoration,u)));g&&(i.activeItems=[g])}}else h.original.length>0?this.provideLabelPick(i,w("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(i,w("noSymbolResults","No editor symbols"))}finally{r.isCancellationRequested||(i.busy=!1)}};return a.add(i.onDidChangeValue(()=>d(void 0))),d((o=s.getSelection())===null||o===void 0?void 0:o.getPosition()),a.add(i.onDidChangeActive(()=>{const[u]=i.activeItems;u&&u.range&&(s.revealRangeInCenter(u.range.selection,0),this.addDecorations(s,u.range.decoration))})),a}async doGetSymbolPicks(e,t,i,r){var o,s;const a=await e;if(r.isCancellationRequested)return[];const l=t.original.indexOf(Jv.SCOPE_PREFIX)===0,c=l?1:0;let d,u;t.values&&t.values.length>1?(d=dQ(t.values[0]),u=dQ(t.values.slice(1))):d=t;let h;const f=(s=(o=this.options)===null||o===void 0?void 0:o.openSideBySideDirection)===null||s===void 0?void 0:s.call(o);f&&(h=[{iconClass:f==="right"?lt.asClassName(Ae.splitHorizontal):lt.asClassName(Ae.splitVertical),tooltip:f==="right"?w("openToSide","Open to the Side"):w("openToBottom","Open to the Bottom")}]);const g=[];for(let m=0;m<a.length;m++){const p=a[m],v=zLe(p.name),b=`$(${AE.toIcon(p.kind).id}) ${v}`,C=b.length-v.length;let S=p.containerName;i!=null&&i.extraContainerLabel&&(S?S=`${i.extraContainerLabel}  ${S}`:S=i.extraContainerLabel);let x,k,D,E;if(t.original.length>c){let N=!1;if(d!==t&&([x,k]=o5(b,{...t,values:void 0},c,C),typeof x=="number"&&(N=!0)),typeof x!="number"&&([x,k]=o5(b,d,c,C),typeof x!="number"))continue;if(!N&&u){if(S&&u.original.length>0&&([D,E]=o5(S,u)),typeof D!="number")continue;typeof x=="number"&&(x+=D)}}const I=p.tags&&p.tags.indexOf(1)>=0;g.push({index:m,kind:p.kind,score:x,label:b,ariaLabel:OLe(p.name,p.kind),description:S,highlights:I?void 0:{label:k,description:E},range:{selection:B.collapseToStart(p.selectionRange),decoration:p.range},strikethrough:I,buttons:h})}const _=g.sort((m,p)=>l?this.compareByKindAndScore(m,p):this.compareByScore(m,p));let y=[];if(l){let b=function(){p&&typeof m=="number"&&v>0&&(p.label=zm(a5[m]||s5,v))},m,p,v=0;for(const C of _)m!==C.kind?(b(),m=C.kind,v=1,p={type:"separator"},y.push(p)):v++,y.push(C);b()}else _.length>0&&(y=[{label:w("symbols","symbols ({0})",g.length),type:"separator"},..._]);return y}compareByScore(e,t){if(typeof e.score!="number"&&typeof t.score=="number")return 1;if(typeof e.score=="number"&&typeof t.score!="number")return-1;if(typeof e.score=="number"&&typeof t.score=="number"){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}compareByKindAndScore(e,t){const i=a5[e.kind]||s5,r=a5[t.kind]||s5,o=i.localeCompare(r);return o===0?this.compareByScore(e,t):o}async getDocumentSymbols(e,t){const i=await this._outlineModelService.getOrCreate(e,t);return t.isCancellationRequested?[]:i.asListOfDocumentSymbols()}};nu.PREFIX="@";nu.SCOPE_PREFIX=":";nu.PREFIX_BY_CATEGORY=`${Jv.PREFIX}${Jv.SCOPE_PREFIX}`;nu=Jv=BGe([uQ(0,qe),uQ(1,_L)],nu);const s5=w("property","properties ({0})"),a5={5:w("method","methods ({0})"),11:w("function","functions ({0})"),8:w("_constructor","constructors ({0})"),12:w("variable","variables ({0})"),4:w("class","classes ({0})"),22:w("struct","structs ({0})"),23:w("event","events ({0})"),24:w("operator","operators ({0})"),10:w("interface","interfaces ({0})"),2:w("namespace","namespaces ({0})"),3:w("package","packages ({0})"),25:w("typeParameter","type parameters ({0})"),1:w("modules","modules ({0})"),6:w("property","properties ({0})"),9:w("enum","enumerations ({0})"),21:w("enumMember","enumeration members ({0})"),14:w("string","strings ({0})"),0:w("file","files ({0})"),17:w("array","arrays ({0})"),15:w("number","numbers ({0})"),16:w("boolean","booleans ({0})"),18:w("object","objects ({0})"),19:w("key","keys ({0})"),7:w("field","fields ({0})"),13:w("constant","constants ({0})")};var WGe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},l5=function(n,e){return function(t,i){e(t,i,n)}};let BB=class extends nu{constructor(e,t,i){super(t,i),this.editorService=e,this.onDidActiveTextEditorControlChange=Ve.None}get activeTextEditorControl(){var e;return(e=this.editorService.getFocusedCodeEditor())!==null&&e!==void 0?e:void 0}};BB=WGe([l5(0,ai),l5(1,qe),l5(2,_L)],BB);class yL extends $e{constructor(){super({id:yL.ID,label:bS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:j.hasDocumentSymbolProvider,kbOpts:{kbExpr:j.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(e){e.get(rd).quickAccess.show(nu.PREFIX,{itemActivation:gc.NONE})}}yL.ID="editor.action.quickOutline";Ee(yL);nn.as(B_.Quickaccess).registerQuickAccessProvider({ctor:BB,prefix:nu.PREFIX,helpEntries:[{description:bS.quickOutlineActionLabel,prefix:nu.PREFIX,commandId:yL.ID},{description:bS.quickOutlineByCategoryActionLabel,prefix:nu.PREFIX_BY_CATEGORY}]});function c5(n,e){return e&&(n.stack||n.stacktrace)?w("stackTrace.format","{0}: {1}",fQ(n),hQ(n.stack)||hQ(n.stacktrace)):fQ(n)}function hQ(n){return Array.isArray(n)?n.join(`
`):n}function fQ(n){return n.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${n.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof n.code=="string"&&typeof n.errno=="number"&&typeof n.syscall=="string"?w("nodeExceptionMessage","A system error occurred ({0})",n.message):n.message||w("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function sge(n=null,e=!1){if(!n)return w("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(n)){const t=zc(n),i=sge(t[0],e);return t.length>1?w("error.moreErrors","{0} ({1} errors in total)",i,t.length):i}if(Ho(n))return n;if(n.detail){const t=n.detail;if(t.error)return c5(t.error,e);if(t.exception)return c5(t.exception,e)}return n.stack?c5(n,e):n.message?n.message:w("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function VGe(n){var e;const t=new Map;for(const i of n)t.set(i,((e=t.get(i))!==null&&e!==void 0?e:0)+1);return t}class a1{constructor(){this.chunkCount=0,this.chunkOccurrences=new Map,this.documents=new Map}calculateScores(e,t){const i=this.computeEmbedding(e),r=new Map,o=[];for(const[s,a]of this.documents){if(t.isCancellationRequested)return[];for(const l of a.chunks){const c=this.computeSimilarityScore(l,i,r);c>0&&o.push({key:s,score:c})}}return o}static termFrequencies(e){return VGe(a1.splitTerms(e))}static*splitTerms(e){const t=i=>i.toLowerCase();for(const[i]of e.matchAll(new RegExp("\\b\\p{Letter}[\\p{Letter}\\d]{2,}\\b","gu"))){yield t(i);const r=i.replace(/([a-z])([A-Z])/g,"$1 $2").split(/\s+/g);if(r.length>1)for(const o of r)o.length>2&&new RegExp("\\p{Letter}{3,}","gu").test(o)&&(yield t(o))}}updateDocuments(e){var t;for(const{key:i}of e)this.deleteDocument(i);for(const i of e){const r=[];for(const o of i.textChunks){const s=a1.termFrequencies(o);for(const a of s.keys())this.chunkOccurrences.set(a,((t=this.chunkOccurrences.get(a))!==null&&t!==void 0?t:0)+1);r.push({text:o,tf:s})}this.chunkCount+=r.length,this.documents.set(i.key,{chunks:r})}return this}deleteDocument(e){const t=this.documents.get(e);if(t){this.documents.delete(e),this.chunkCount-=t.chunks.length;for(const i of t.chunks)for(const r of i.tf.keys()){const o=this.chunkOccurrences.get(r);if(typeof o=="number"){const s=o-1;s<=0?this.chunkOccurrences.delete(r):this.chunkOccurrences.set(r,s)}}}}computeSimilarityScore(e,t,i){let r=0;for(const[o,s]of Object.entries(t)){const a=e.tf.get(o);if(!a)continue;let l=i.get(o);typeof l!="number"&&(l=this.computeIdf(o),i.set(o,l));const c=a*l;r+=c*s}return r}computeEmbedding(e){const t=a1.termFrequencies(e);return this.computeTfidf(t)}computeIdf(e){var t;const i=(t=this.chunkOccurrences.get(e))!==null&&t!==void 0?t:0;return i>0?Math.log((this.chunkCount+1)/i):0}computeTfidf(e){const t=Object.create(null);for(const[i,r]of e){const o=this.computeIdf(i);o>0&&(t[i]=r*o)}return t}}function HGe(n){var e,t;const i=n.slice(0);i.sort((o,s)=>s.score-o.score);const r=(t=(e=i[0])===null||e===void 0?void 0:e.score)!==null&&t!==void 0?t:0;if(r>0)for(const o of i)o.score/=r;return i}var pv;(function(n){n[n.NO_ACTION=0]="NO_ACTION",n[n.CLOSE_PICKER=1]="CLOSE_PICKER",n[n.REFRESH_PICKER=2]="REFRESH_PICKER",n[n.REMOVE_ITEM=3]="REMOVE_ITEM"})(pv||(pv={}));function d5(n){const e=n;return Array.isArray(e.items)}function gQ(n){const e=n;return!!e.picks&&e.additionalPicks instanceof Promise}class zGe extends ce{constructor(e,t){super(),this.prefix=e,this.options=t}provide(e,t,i){var r;const o=new xe;e.canAcceptInBackground=!!(!((r=this.options)===null||r===void 0)&&r.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;let s;const a=o.add(new Lr),l=async()=>{var c;const d=a.value=new xe;s==null||s.dispose(!0),e.busy=!1,s=new Pn(t);const u=s.token;let h=e.value.substring(this.prefix.length);!((c=this.options)===null||c===void 0)&&c.shouldSkipTrimPickFilter||(h=h.trim());const f=this._getPicks(h,d,u,i),g=(y,m)=>{var p;let v,b;if(d5(y)?(v=y.items,b=y.active):v=y,v.length===0){if(m)return!1;(h.length>0||e.hideInput)&&(!((p=this.options)===null||p===void 0)&&p.noResultsPick)&&(A1(this.options.noResultsPick)?v=[this.options.noResultsPick(h)]:v=[this.options.noResultsPick])}return e.items=v,b&&(e.activeItems=[b]),!0},_=async y=>{let m=!1,p=!1;await Promise.all([(async()=>{typeof y.mergeDelay=="number"&&(await Mg(y.mergeDelay),u.isCancellationRequested)||p||(m=g(y.picks,!0))})(),(async()=>{e.busy=!0;try{const v=await y.additionalPicks;if(u.isCancellationRequested)return;let b,C;d5(y.picks)?(b=y.picks.items,C=y.picks.active):b=y.picks;let S,x;if(d5(v)?(S=v.items,x=v.active):S=v,S.length>0||!m){let k;if(!C&&!x){const D=e.activeItems[0];D&&b.indexOf(D)!==-1&&(k=D)}g({items:[...b,...S],active:C||x||k})}}finally{u.isCancellationRequested||(e.busy=!1),p=!0}})()])};if(f!==null)if(gQ(f))await _(f);else if(!(f instanceof Promise))g(f);else{e.busy=!0;try{const y=await f;if(u.isCancellationRequested)return;gQ(y)?await _(y):g(y)}finally{u.isCancellationRequested||(e.busy=!1)}}};return o.add(e.onDidChangeValue(()=>l())),l(),o.add(e.onDidAccept(c=>{const[d]=e.selectedItems;typeof(d==null?void 0:d.accept)=="function"&&(c.inBackground||e.hide(),d.accept(e.keyMods,c))})),o.add(e.onDidTriggerItemButton(async({button:c,item:d})=>{var u,h;if(typeof d.trigger=="function"){const f=(h=(u=d.buttons)===null||u===void 0?void 0:u.indexOf(c))!==null&&h!==void 0?h:-1;if(f>=0){const g=d.trigger(f,e.keyMods),_=typeof g=="number"?g:await g;if(t.isCancellationRequested)return;switch(_){case pv.NO_ACTION:break;case pv.CLOSE_PICKER:e.hide();break;case pv.REFRESH_PICKER:l();break;case pv.REMOVE_ITEM:{const y=e.items.indexOf(d);if(y!==-1){const m=e.items.slice(),p=m.splice(y,1),v=e.activeItems.filter(C=>C!==p[0]),b=e.keepScrollPosition;e.keepScrollPosition=!0,e.items=m,v&&(e.activeItems=v),e.keepScrollPosition=b}break}}}}})),o}}var age=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},im=function(n,e){return function(t,i){e(t,i,n)}},qp,$n;let v_=qp=class extends zGe{constructor(e,t,i,r,o,s){super(qp.PREFIX,e),this.instantiationService=t,this.keybindingService=i,this.commandService=r,this.telemetryService=o,this.dialogService=s,this.commandsHistory=this._register(this.instantiationService.createInstance(np)),this.options=e}async _getPicks(e,t,i,r){var o,s,a,l;const c=await this.getCommandPicks(i);if(i.isCancellationRequested)return[];const d=Ng(()=>{const m=new a1;m.updateDocuments(c.map(v=>({key:v.commandId,textChunks:[this.getTfIdfChunk(v)]})));const p=m.calculateScores(e,i);return HGe(p).filter(v=>v.score>qp.TFIDF_THRESHOLD).slice(0,qp.TFIDF_MAX_RESULTS)}),u=[];for(const m of c){const p=(o=qp.WORD_FILTER(e,m.label))!==null&&o!==void 0?o:void 0,v=m.commandAlias&&(s=qp.WORD_FILTER(e,m.commandAlias))!==null&&s!==void 0?s:void 0;if(p||v)m.highlights={label:p,detail:this.options.showAlias?v:void 0},u.push(m);else if(e===m.commandId)u.push(m);else if(e.length>=3){const b=d();if(i.isCancellationRequested)return[];const C=b.find(S=>S.key===m.commandId);C&&(m.tfIdfScore=C.score,u.push(m))}}const h=new Map;for(const m of u){const p=h.get(m.label);p?(m.description=m.commandId,p.description=p.commandId):h.set(m.label,m)}u.sort((m,p)=>{if(m.tfIdfScore&&p.tfIdfScore)return m.tfIdfScore===p.tfIdfScore?m.label.localeCompare(p.label):p.tfIdfScore-m.tfIdfScore;if(m.tfIdfScore)return 1;if(p.tfIdfScore)return-1;const v=this.commandsHistory.peek(m.commandId),b=this.commandsHistory.peek(p.commandId);if(v&&b)return v>b?-1:1;if(v)return-1;if(b)return 1;if(this.options.suggestedCommandIds){const C=this.options.suggestedCommandIds.has(m.commandId),S=this.options.suggestedCommandIds.has(p.commandId);if(C&&S)return 0;if(C)return-1;if(S)return 1}return m.label.localeCompare(p.label)});const f=[];let g=!1,_=!0,y=!!this.options.suggestedCommandIds;for(let m=0;m<u.length;m++){const p=u[m];m===0&&this.commandsHistory.peek(p.commandId)&&(f.push({type:"separator",label:w("recentlyUsed","recently used")}),g=!0),_&&p.tfIdfScore!==void 0&&(f.push({type:"separator",label:w("suggested","similar commands")}),_=!1),y&&p.tfIdfScore===void 0&&!this.commandsHistory.peek(p.commandId)&&(!((a=this.options.suggestedCommandIds)===null||a===void 0)&&a.has(p.commandId))&&(f.push({type:"separator",label:w("commonlyUsed","commonly used")}),g=!0,y=!1),g&&p.tfIdfScore===void 0&&!this.commandsHistory.peek(p.commandId)&&!(!((l=this.options.suggestedCommandIds)===null||l===void 0)&&l.has(p.commandId))&&(f.push({type:"separator",label:w("morecCommands","other commands")}),g=!1),f.push(this.toCommandPick(p,r))}return this.hasAdditionalCommandPicks(e,i)?{picks:f,additionalPicks:(async()=>{var m;const p=await this.getAdditionalCommandPicks(c,u,e,i);if(i.isCancellationRequested)return[];const v=p.map(b=>this.toCommandPick(b,r));return _&&((m=v[0])===null||m===void 0?void 0:m.type)!=="separator"&&v.unshift({type:"separator",label:w("suggested","similar commands")}),v})()}:f}toCommandPick(e,t){if(e.type==="separator")return e;const i=this.keybindingService.lookupKeybinding(e.commandId),r=i?w("commandPickAriaLabelWithKeybinding","{0}, {1}",e.label,i.getAriaLabel()):e.label;return{...e,ariaLabel:r,detail:this.options.showAlias&&e.commandAlias!==e.label?e.commandAlias:void 0,keybinding:i,accept:async()=>{var o,s;this.commandsHistory.push(e.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.commandId,from:(o=t==null?void 0:t.from)!==null&&o!==void 0?o:"quick open"});try{!((s=e.args)===null||s===void 0)&&s.length?await this.commandService.executeCommand(e.commandId,...e.args):await this.commandService.executeCommand(e.commandId)}catch(a){Jc(a)||this.dialogService.error(w("canNotRun","Command '{0}' resulted in an error",e.label),sge(a))}}}}getTfIdfChunk({label:e,commandAlias:t,commandDescription:i}){let r=e;return t&&t!==e&&(r+=` - ${t}`),i&&i.value!==e&&(r+=` - ${i.value===i.original?i.value:`${i.value} (${i.original})`}`),r}};v_.PREFIX=">";v_.TFIDF_THRESHOLD=.5;v_.TFIDF_MAX_RESULTS=5;v_.WORD_FILTER=vV(_S,y5e,Rce);v_=qp=age([im(1,dt),im(2,xi),im(3,fn),im(4,qs),im(5,Zx)],v_);let np=$n=class extends ce{constructor(e,t){super(),this.storageService=e,this.configurationService=t,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>this.updateConfiguration(e))),this._register(this.storageService.onWillSaveState(e=>{e.reason===SS.SHUTDOWN&&this.saveState()}))}updateConfiguration(e){e&&!e.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=$n.getConfiguredCommandHistoryLength(this.configurationService),$n.cache&&$n.cache.limit!==this.configuredCommandsHistoryLength&&($n.cache.limit=this.configuredCommandsHistoryLength,$n.hasChanges=!0))}load(){const e=this.storageService.get($n.PREF_KEY_CACHE,0);let t;if(e)try{t=JSON.parse(e)}catch{}const i=$n.cache=new hp(this.configuredCommandsHistoryLength,1);if(t){let r;t.usesLRU?r=t.entries:r=t.entries.sort((o,s)=>o.value-s.value),r.forEach(o=>i.set(o.key,o.value))}$n.counter=this.storageService.getNumber($n.PREF_KEY_COUNTER,0,$n.counter)}push(e){$n.cache&&($n.cache.set(e,$n.counter++),$n.hasChanges=!0)}peek(e){var t;return(t=$n.cache)===null||t===void 0?void 0:t.peek(e)}saveState(){if(!$n.cache||!$n.hasChanges)return;const e={usesLRU:!0,entries:[]};$n.cache.forEach((t,i)=>e.entries.push({key:i,value:t})),this.storageService.store($n.PREF_KEY_CACHE,JSON.stringify(e),0,0),this.storageService.store($n.PREF_KEY_COUNTER,$n.counter,0,0),$n.hasChanges=!1}static getConfiguredCommandHistoryLength(e){var t,i;const o=(i=(t=e.getValue().workbench)===null||t===void 0?void 0:t.commandPalette)===null||i===void 0?void 0:i.history;return typeof o=="number"?o:$n.DEFAULT_COMMANDS_HISTORY_LENGTH}};np.DEFAULT_COMMANDS_HISTORY_LENGTH=50;np.PREF_KEY_CACHE="commandPalette.mru.cache";np.PREF_KEY_COUNTER="commandPalette.mru.counter";np.counter=1;np.hasChanges=!1;np=$n=age([im(0,Yl),im(1,jt)],np);class jGe extends v_{constructor(e,t,i,r,o,s){super(e,t,i,r,o,s)}getCodeEditorCommandPicks(){const e=this.activeTextEditorControl;if(!e)return[];const t=[];for(const i of e.getSupportedActions())t.push({commandId:i.id,commandAlias:i.alias,label:xV(i.label)||i.id});return t}}var UGe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},w0=function(n,e){return function(t,i){e(t,i,n)}};let dx=class extends jGe{get activeTextEditorControl(){var e;return(e=this.codeEditorService.getFocusedCodeEditor())!==null&&e!==void 0?e:void 0}constructor(e,t,i,r,o,s){super({showAlias:!1},e,i,r,o,s),this.codeEditorService=t}async getCommandPicks(){return this.getCodeEditorCommandPicks()}hasAdditionalCommandPicks(){return!1}async getAdditionalCommandPicks(){return[]}};dx=UGe([w0(0,dt),w0(1,ai),w0(2,xi),w0(3,fn),w0(4,qs),w0(5,Zx)],dx);class CL extends $e{constructor(){super({id:CL.ID,label:kI.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:j.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(e){e.get(rd).quickAccess.show(dx.PREFIX)}}CL.ID="editor.action.quickCommand";Ee(CL);nn.as(B_.Quickaccess).registerQuickAccessProvider({ctor:dx,prefix:dx.PREFIX,helpEntries:[{description:kI.quickCommandHelp,commandId:CL.ID}]});var $Ge=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},S0=function(n,e){return function(t,i){e(t,i,n)}};let WB=class extends Yg{constructor(e,t,i,r,o,s,a){super(!0,e,t,i,r,o,s,a)}};WB=$Ge([S0(1,_t),S0(2,ai),S0(3,Rn),S0(4,dt),S0(5,Yl),S0(6,jt)],WB);li(Yg.ID,WB,4);class qGe extends $e{constructor(){super({id:"editor.action.toggleHighContrast",label:K3.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(e,t){const i=e.get(Ma),r=i.getColorTheme();Fc(r.type)?(i.setTheme(this._originalThemeName||(Ib(r.type)?Gv:Yu)),this._originalThemeName=null):(i.setTheme(Ib(r.type)?Dm:Tm),this._originalThemeName=r.themeName)}}Ee(qGe);const KGe=()=>{let n;return le.useEffect(()=>{const e=document.getElementById("editor");e&&(console.log("target",e),n==null&&(n=fue.create(e,{value:["function x() {",'	console.log("Hello world!");',"}"].join(`
`),language:"python",theme:"vs-dark"})),console.log("monaco - ",n))},[]),ac.jsx(ac.Fragment,{children:ac.jsxs("div",{children:[ac.jsxs(WC.Card,{className:"h-[calc(100vh-2rem)] w-full max-w-[20rem] p-4 shadow-xl shadow-blue-gray-900/5",children:[ac.jsx("div",{className:"mb-2 p-4",children:ac.jsx(WC.Typography,{placeholder:"",variant:"h5",color:"blue-gray",children:"Sidebar"})}),ac.jsx(WC.List,{children:FSe.map(e=>ac.jsx(WC.ListItem,{children:e.title}))})]}),ac.jsx("div",{style:{width:"100%",height:"500px"},id:"editor"})]})})};u5.createRoot(document.getElementById("root")).render(ac.jsx(xQ.StrictMode,{children:ac.jsx(KGe,{})}));export{RM as m,Nue as t};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/javascript-Brmz_jUg.js","assets/typescript-B21XC799.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
